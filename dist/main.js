!function(t){var e={};function r(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=9)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}();function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(e,r,i){void 0===r&&(r=!1),n(this,t),this._fn=e,this._once=r,this._thisArg=i,this._next=this._prev=this._owner=null}return i(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}();function s(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var a=function(){function t(){n(this,t),this._head=this._tail=void 0}return i(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var r=[];e;)r.push(e),e=e._next;return r}},{key:"has",value:function(t){if(!(t instanceof o))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return s(this,new o(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return s(this,new o(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof o))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();a.MiniSignalBinding=o,e.default=a,t.exports=e.default},function(t,e,r){var i,n,o;!function(r){var s=/iPhone/i,a=/iPod/i,h=/iPad/i,u=/\bAndroid(?:.+)Mobile\b/i,l=/Android/i,c=/\bAndroid(?:.+)SD4930UR\b/i,d=/\bAndroid(?:.+)(?:KF[A-Z]{2,4})\b/i,p=/Windows Phone/i,f=/\bWindows(?:.+)ARM\b/i,v=/BlackBerry/i,g=/BB10/i,m=/Opera Mini/i,y=/\b(CriOS|Chrome)(?:.+)Mobile/i,_=/Mobile(?:.+)Firefox\b/i;function x(t,e){return t.test(e)}function b(t){var e=t||("undefined"!=typeof navigator?navigator.userAgent:""),r=e.split("[FBAN");void 0!==r[1]&&(e=r[0]),void 0!==(r=e.split("Twitter"))[1]&&(e=r[0]);var i={apple:{phone:x(s,e)&&!x(p,e),ipod:x(a,e),tablet:!x(s,e)&&x(h,e)&&!x(p,e),device:(x(s,e)||x(a,e)||x(h,e))&&!x(p,e)},amazon:{phone:x(c,e),tablet:!x(c,e)&&x(d,e),device:x(c,e)||x(d,e)},android:{phone:!x(p,e)&&x(c,e)||!x(p,e)&&x(u,e),tablet:!x(p,e)&&!x(c,e)&&!x(u,e)&&(x(d,e)||x(l,e)),device:!x(p,e)&&(x(c,e)||x(d,e)||x(u,e)||x(l,e))||x(/\bokhttp\b/i,e)},windows:{phone:x(p,e),tablet:x(f,e),device:x(p,e)||x(f,e)},other:{blackberry:x(v,e),blackberry10:x(g,e),opera:x(m,e),firefox:x(_,e),chrome:x(y,e),device:x(v,e)||x(g,e)||x(m,e)||x(_,e)||x(y,e)}};return i.any=i.apple.device||i.android.device||i.windows.device||i.other.device,i.phone=i.apple.phone||i.android.phone||i.windows.phone,i.tablet=i.apple.tablet||i.android.tablet||i.windows.tablet,i}t.exports&&"undefined"==typeof window?t.exports=b:t.exports&&"undefined"!=typeof window?(t.exports=b(),t.exports.isMobile=b):(n=[],i=r.isMobile=b(),void 0===(o="function"==typeof i?i.apply(e,n):i)||(t.exports=o))}(this)},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";var i=r(14),n=r(16);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=_,e.resolve=function(t,e){return _(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?_(t,!1,!0).resolveObject(e):e},e.format=function(t){n.isString(t)&&(t=_(t));return t instanceof o?t.format():o.prototype.format.call(t)},e.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(u),c=["%","/","?",";","#"].concat(l),d=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=r(17);function _(t,e,r){if(t&&n.isObject(t)&&t instanceof o)return t;var i=new o;return i.parse(t,e,r),i}o.prototype.parse=function(t,e,r){if(!n.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),a=-1!==o&&o<t.indexOf("#")?"?":"#",u=t.split(a);u[0]=u[0].replace(/\\/g,"/");var _=t=u.join(a);if(_=_.trim(),!r&&1===t.split("#").length){var x=h.exec(_);if(x)return this.path=_,this.href=_,this.pathname=x[1],x[2]?(this.search=x[2],this.query=e?y.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var b=s.exec(_);if(b){var T=(b=b[0]).toLowerCase();this.protocol=T,_=_.substr(b.length)}if(r||b||_.match(/^\/\/[^@\/]+@[^@\/]+/)){var w="//"===_.substr(0,2);!w||b&&g[b]||(_=_.substr(2),this.slashes=!0)}if(!g[b]&&(w||b&&!m[b])){for(var E,S,I=-1,P=0;P<d.length;P++){-1!==(A=_.indexOf(d[P]))&&(-1===I||A<I)&&(I=A)}-1!==(S=-1===I?_.lastIndexOf("@"):_.lastIndexOf("@",I))&&(E=_.slice(0,S),_=_.slice(S+1),this.auth=decodeURIComponent(E)),I=-1;for(P=0;P<c.length;P++){var A;-1!==(A=_.indexOf(c[P]))&&(-1===I||A<I)&&(I=A)}-1===I&&(I=_.length),this.host=_.slice(0,I),_=_.slice(I),this.parseHost(),this.hostname=this.hostname||"";var O="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!O)for(var C=this.hostname.split(/\./),M=(P=0,C.length);P<M;P++){var D=C[P];if(D&&!D.match(p)){for(var R="",F=0,L=D.length;F<L;F++)D.charCodeAt(F)>127?R+="x":R+=D[F];if(!R.match(p)){var N=C.slice(0,P),B=C.slice(P+1),U=D.match(f);U&&(N.push(U[1]),B.unshift(U[2])),B.length&&(_="/"+B.join(".")+_),this.hostname=N.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),O||(this.hostname=i.toASCII(this.hostname));var k=this.port?":"+this.port:"",X=this.hostname||"";this.host=X+k,this.href+=this.host,O&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==_[0]&&(_="/"+_))}if(!v[T])for(P=0,M=l.length;P<M;P++){var j=l[P];if(-1!==_.indexOf(j)){var G=encodeURIComponent(j);G===j&&(G=escape(j)),_=_.split(j).join(G)}}var H=_.indexOf("#");-1!==H&&(this.hash=_.substr(H),_=_.slice(0,H));var z=_.indexOf("?");if(-1!==z?(this.search=_.substr(z),this.query=_.substr(z+1),e&&(this.query=y.parse(this.query)),_=_.slice(0,z)):e&&(this.search="",this.query={}),_&&(this.pathname=_),m[T]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){k=this.pathname||"";var V=this.search||"";this.path=k+V}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",i=this.hash||"",o=!1,s="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&n.isObject(this.query)&&Object.keys(this.query).length&&(s=y.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||m[e])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),i&&"#"!==i.charAt(0)&&(i="#"+i),a&&"?"!==a.charAt(0)&&(a="?"+a),e+o+(r=r.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(a=a.replace("#","%23"))+i},o.prototype.resolve=function(t){return this.resolveObject(_(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(n.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var r=new o,i=Object.keys(this),s=0;s<i.length;s++){var a=i[s];r[a]=this[a]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var h=Object.keys(t),u=0;u<h.length;u++){var l=h[u];"protocol"!==l&&(r[l]=t[l])}return m[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!m[t.protocol]){for(var c=Object.keys(t),d=0;d<c.length;d++){var p=c[d];r[p]=t[p]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||g[t.protocol])r.pathname=t.pathname;else{for(var f=(t.pathname||"").split("/");f.length&&!(t.host=f.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),r.pathname=f.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var v=r.pathname||"",y=r.search||"";r.path=v+y}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var _=r.pathname&&"/"===r.pathname.charAt(0),x=t.host||t.pathname&&"/"===t.pathname.charAt(0),b=x||_||r.host&&t.pathname,T=b,w=r.pathname&&r.pathname.split("/")||[],E=(f=t.pathname&&t.pathname.split("/")||[],r.protocol&&!m[r.protocol]);if(E&&(r.hostname="",r.port=null,r.host&&(""===w[0]?w[0]=r.host:w.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===f[0]?f[0]=t.host:f.unshift(t.host)),t.host=null),b=b&&(""===f[0]||""===w[0])),x)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,w=f;else if(f.length)w||(w=[]),w.pop(),w=w.concat(f),r.search=t.search,r.query=t.query;else if(!n.isNullOrUndefined(t.search)){if(E)r.hostname=r.host=w.shift(),(O=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=O.shift(),r.host=r.hostname=O.shift());return r.search=t.search,r.query=t.query,n.isNull(r.pathname)&&n.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!w.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var S=w.slice(-1)[0],I=(r.host||t.host||w.length>1)&&("."===S||".."===S)||""===S,P=0,A=w.length;A>=0;A--)"."===(S=w[A])?w.splice(A,1):".."===S?(w.splice(A,1),P++):P&&(w.splice(A,1),P--);if(!b&&!T)for(;P--;P)w.unshift("..");!b||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),I&&"/"!==w.join("/").substr(-1)&&w.push("");var O,C=""===w[0]||w[0]&&"/"===w[0].charAt(0);E&&(r.hostname=r.host=C?"":w.length?w.shift():"",(O=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=O.shift(),r.host=r.hostname=O.shift()));return(b=b||r.host&&w.length)&&!C&&w.unshift(""),w.length?r.pathname=w.join("/"):(r.pathname=null,r.path=null),n.isNull(r.pathname)&&n.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,r){"use strict";t.exports=function(t,e){e=e||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},i=r.parser[e.strictMode?"strict":"loose"].exec(t),n={},o=14;o--;)n[r.key[o]]=i[o]||"";return n[r.q.name]={},n[r.key[12]].replace(r.q.parser,(function(t,e,i){e&&(n[r.q.name][e]=i)})),n}},function(t,e,r){"use strict";var i=Object.prototype.hasOwnProperty,n="~";function o(){}function s(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function a(t,e,r,i,o){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new s(r,i||t,o),h=n?n+e:e;return t._events[h]?t._events[h].fn?t._events[h]=[t._events[h],a]:t._events[h].push(a):(t._events[h]=a,t._eventsCount++),t}function h(t,e){0==--t._eventsCount?t._events=new o:delete t._events[e]}function u(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(n=!1)),u.prototype.eventNames=function(){var t,e,r=[];if(0===this._eventsCount)return r;for(e in t=this._events)i.call(t,e)&&r.push(n?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},u.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,s=new Array(o);i<o;i++)s[i]=r[i].fn;return s},u.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},u.prototype.emit=function(t,e,r,i,o,s){var a=n?n+t:t;if(!this._events[a])return!1;var h,u,l=this._events[a],c=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,i),!0;case 5:return l.fn.call(l.context,e,r,i,o),!0;case 6:return l.fn.call(l.context,e,r,i,o,s),!0}for(u=1,h=new Array(c-1);u<c;u++)h[u-1]=arguments[u];l.fn.apply(l.context,h)}else{var d,p=l.length;for(u=0;u<p;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),c){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,r);break;case 4:l[u].fn.call(l[u].context,e,r,i);break;default:if(!h)for(d=1,h=new Array(c-1);d<c;d++)h[d-1]=arguments[d];l[u].fn.apply(l[u].context,h)}}return!0},u.prototype.on=function(t,e,r){return a(this,t,e,r,!1)},u.prototype.once=function(t,e,r){return a(this,t,e,r,!0)},u.prototype.removeListener=function(t,e,r,i){var o=n?n+t:t;if(!this._events[o])return this;if(!e)return h(this,o),this;var s=this._events[o];if(s.fn)s.fn!==e||i&&!s.once||r&&s.context!==r||h(this,o);else{for(var a=0,u=[],l=s.length;a<l;a++)(s[a].fn!==e||i&&!s[a].once||r&&s[a].context!==r)&&u.push(s[a]);u.length?this._events[o]=1===u.length?u[0]:u:h(this,o)}return this},u.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&h(this,e)):(this._events=new o,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u},function(t,e,r){"use strict";function i(t,e,r){r=r||2;var i,a,h,u,l,p,f,g=e&&e.length,m=g?e[0]*r:t.length,y=n(t,0,m,r,!0),_=[];if(!y||y.next===y.prev)return _;if(g&&(y=function(t,e,r,i){var s,a,h,u,l,p=[];for(s=0,a=e.length;s<a;s++)h=e[s]*i,u=s<a-1?e[s+1]*i:t.length,(l=n(t,h,u,i,!1))===l.next&&(l.steiner=!0),p.push(v(l));for(p.sort(c),s=0;s<p.length;s++)d(p[s],r),r=o(r,r.next);return r}(t,e,y,r)),t.length>80*r){i=h=t[0],a=u=t[1];for(var x=r;x<m;x+=r)(l=t[x])<i&&(i=l),(p=t[x+1])<a&&(a=p),l>h&&(h=l),p>u&&(u=p);f=0!==(f=Math.max(h-i,u-a))?1/f:0}return s(y,_,r,i,a,f),_}function n(t,e,r,i,n){var o,s;if(n===A(t,e,r,i)>0)for(o=e;o<r;o+=i)s=S(o,t[o],t[o+1],s);else for(o=r-i;o>=e;o-=i)s=S(o,t[o],t[o+1],s);return s&&_(s,s.next)&&(I(s),s=s.next),s}function o(t,e){if(!t)return t;e||(e=t);var r,i=t;do{if(r=!1,i.steiner||!_(i,i.next)&&0!==y(i.prev,i,i.next))i=i.next;else{if(I(i),(i=e=i.prev)===i.next)break;r=!0}}while(r||i!==e);return e}function s(t,e,r,i,n,c,d){if(t){!d&&c&&function(t,e,r,i){var n=t;do{null===n.z&&(n.z=f(n.x,n.y,e,r,i)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,r,i,n,o,s,a,h,u=1;do{for(r=t,t=null,o=null,s=0;r;){for(s++,i=r,a=0,e=0;e<u&&(a++,i=i.nextZ);e++);for(h=u;a>0||h>0&&i;)0!==a&&(0===h||!i||r.z<=i.z)?(n=r,r=r.nextZ,a--):(n=i,i=i.nextZ,h--),o?o.nextZ=n:t=n,n.prevZ=o,o=n;r=i}o.nextZ=null,u*=2}while(s>1)}(n)}(t,i,n,c);for(var p,v,g=t;t.prev!==t.next;)if(p=t.prev,v=t.next,c?h(t,i,n,c):a(t))e.push(p.i/r),e.push(t.i/r),e.push(v.i/r),I(t),t=v.next,g=v.next;else if((t=v)===g){d?1===d?s(t=u(o(t),e,r),e,r,i,n,c,2):2===d&&l(t,e,r,i,n,c):s(o(t),e,r,i,n,c,1);break}}}function a(t){var e=t.prev,r=t,i=t.next;if(y(e,r,i)>=0)return!1;for(var n=t.next.next;n!==t.prev;){if(g(e.x,e.y,r.x,r.y,i.x,i.y,n.x,n.y)&&y(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function h(t,e,r,i){var n=t.prev,o=t,s=t.next;if(y(n,o,s)>=0)return!1;for(var a=n.x<o.x?n.x<s.x?n.x:s.x:o.x<s.x?o.x:s.x,h=n.y<o.y?n.y<s.y?n.y:s.y:o.y<s.y?o.y:s.y,u=n.x>o.x?n.x>s.x?n.x:s.x:o.x>s.x?o.x:s.x,l=n.y>o.y?n.y>s.y?n.y:s.y:o.y>s.y?o.y:s.y,c=f(a,h,e,r,i),d=f(u,l,e,r,i),p=t.prevZ,v=t.nextZ;p&&p.z>=c&&v&&v.z<=d;){if(p!==t.prev&&p!==t.next&&g(n.x,n.y,o.x,o.y,s.x,s.y,p.x,p.y)&&y(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,v!==t.prev&&v!==t.next&&g(n.x,n.y,o.x,o.y,s.x,s.y,v.x,v.y)&&y(v.prev,v,v.next)>=0)return!1;v=v.nextZ}for(;p&&p.z>=c;){if(p!==t.prev&&p!==t.next&&g(n.x,n.y,o.x,o.y,s.x,s.y,p.x,p.y)&&y(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;v&&v.z<=d;){if(v!==t.prev&&v!==t.next&&g(n.x,n.y,o.x,o.y,s.x,s.y,v.x,v.y)&&y(v.prev,v,v.next)>=0)return!1;v=v.nextZ}return!0}function u(t,e,r){var i=t;do{var n=i.prev,s=i.next.next;!_(n,s)&&x(n,i,i.next,s)&&w(n,s)&&w(s,n)&&(e.push(n.i/r),e.push(i.i/r),e.push(s.i/r),I(i),I(i.next),i=t=s),i=i.next}while(i!==t);return o(i)}function l(t,e,r,i,n,a){var h=t;do{for(var u=h.next.next;u!==h.prev;){if(h.i!==u.i&&m(h,u)){var l=E(h,u);return h=o(h,h.next),l=o(l,l.next),s(h,e,r,i,n,a),void s(l,e,r,i,n,a)}u=u.next}h=h.next}while(h!==t)}function c(t,e){return t.x-e.x}function d(t,e){if(e=function(t,e){var r,i=e,n=t.x,o=t.y,s=-1/0;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var a=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(a<=n&&a>s){if(s=a,a===n){if(o===i.y)return i;if(o===i.next.y)return i.next}r=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!r)return null;if(n===s)return r;var h,u=r,l=r.x,c=r.y,d=1/0;i=r;do{n>=i.x&&i.x>=l&&n!==i.x&&g(o<c?n:s,o,l,c,o<c?s:n,o,i.x,i.y)&&(h=Math.abs(o-i.y)/(n-i.x),w(i,t)&&(h<d||h===d&&(i.x>r.x||i.x===r.x&&p(r,i)))&&(r=i,d=h)),i=i.next}while(i!==u);return r}(t,e)){var r=E(e,t);o(r,r.next)}}function p(t,e){return y(t.prev,t,e.prev)<0&&y(e.next,t,t.next)<0}function f(t,e,r,i,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*n)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function v(t){var e=t,r=t;do{(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next}while(e!==t);return r}function g(t,e,r,i,n,o,s,a){return(n-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(i-a)-(r-s)*(e-a)>=0&&(r-s)*(o-a)-(n-s)*(i-a)>=0}function m(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&x(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&(w(t,e)&&w(e,t)&&function(t,e){var r=t,i=!1,n=(t.x+e.x)/2,o=(t.y+e.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&n<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(i=!i),r=r.next}while(r!==t);return i}(t,e)&&(y(t.prev,t,e.prev)||y(t,e.prev,e))||_(t,e)&&y(t.prev,t,t.next)>0&&y(e.prev,e,e.next)>0)}function y(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function _(t,e){return t.x===e.x&&t.y===e.y}function x(t,e,r,i){var n=T(y(t,e,r)),o=T(y(t,e,i)),s=T(y(r,i,t)),a=T(y(r,i,e));return n!==o&&s!==a||(!(0!==n||!b(t,r,e))||(!(0!==o||!b(t,i,e))||(!(0!==s||!b(r,t,i))||!(0!==a||!b(r,e,i)))))}function b(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function T(t){return t>0?1:t<0?-1:0}function w(t,e){return y(t.prev,t,t.next)<0?y(t,e,t.next)>=0&&y(t,t.prev,e)>=0:y(t,e,t.prev)<0||y(t,t.next,e)<0}function E(t,e){var r=new P(t.i,t.x,t.y),i=new P(e.i,e.x,e.y),n=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=n,n.prev=r,i.next=r,r.prev=i,o.next=i,i.prev=o,i}function S(t,e,r,i){var n=new P(t,e,r);return i?(n.next=i.next,n.prev=i,i.next.prev=n,i.next=n):(n.prev=n,n.next=n),n}function I(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function P(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function A(t,e,r,i){for(var n=0,o=e,s=r-i;o<r;o+=i)n+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return n}t.exports=i,t.exports.default=i,i.deviation=function(t,e,r,i){var n=e&&e.length,o=n?e[0]*r:t.length,s=Math.abs(A(t,0,o,r));if(n)for(var a=0,h=e.length;a<h;a++){var u=e[a]*r,l=a<h-1?e[a+1]*r:t.length;s-=Math.abs(A(t,u,l,r))}var c=0;for(a=0;a<i.length;a+=3){var d=i[a]*r,p=i[a+1]*r,f=i[a+2]*r;c+=Math.abs((t[d]-t[f])*(t[p+1]-t[d+1])-(t[d]-t[p])*(t[f+1]-t[d+1]))}return 0===s&&0===c?0:Math.abs((c-s)/s)},i.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},i=0,n=0;n<t.length;n++){for(var o=0;o<t[n].length;o++)for(var s=0;s<e;s++)r.vertices.push(t[n][o][s]);n>0&&(i+=t[n-1].length,r.holes.push(i))}return r}},function(t,e,r){(function(i,n){var o;!function(i){var s=i.Promise,a=s&&"resolve"in s&&"reject"in s&&"all"in s&&"race"in s&&function(){var t;return new s((function(e){t=e})),"function"==typeof t}();e?(e.Promise=a?s:P,e.Polyfill=P):void 0===(o=function(){return a?s:P}.call(e,r,e,t))||(t.exports=o);var h="pending",u="sealed",l="fulfilled",c="rejected",d=function(){};function p(t){return"[object Array]"===Object.prototype.toString.call(t)}var f,v=void 0!==n?n:setTimeout,g=[];function m(){for(var t=0;t<g.length;t++)g[t][0](g[t][1]);g=[],f=!1}function y(t,e){g.push([t,e]),f||(f=!0,v(m,0))}function _(t){var e=t.owner,r=e.state_,i=e.data_,n=t[r],o=t.then;if("function"==typeof n){r=l;try{i=n(i)}catch(t){w(o,t)}}x(o,i)||(r===l&&b(o,i),r===c&&w(o,i))}function x(t,e){var r;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"==typeof e)){var i=e.then;if("function"==typeof i)return i.call(e,(function(i){r||(r=!0,e!==i?b(t,i):T(t,i))}),(function(e){r||(r=!0,w(t,e))})),!0}}catch(e){return r||w(t,e),!0}return!1}function b(t,e){t!==e&&x(t,e)||T(t,e)}function T(t,e){t.state_===h&&(t.state_=u,t.data_=e,y(S,t))}function w(t,e){t.state_===h&&(t.state_=u,t.data_=e,y(I,t))}function E(t){var e=t.then_;t.then_=void 0;for(var r=0;r<e.length;r++)_(e[r])}function S(t){t.state_=l,E(t)}function I(t){t.state_=c,E(t)}function P(t){if("function"!=typeof t)throw new TypeError("Promise constructor takes a function argument");if(this instanceof P==!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],function(t,e){function r(t){w(e,t)}try{t((function(t){b(e,t)}),r)}catch(t){r(t)}}(t,this)}P.prototype={constructor:P,state_:h,then_:null,data_:void 0,then:function(t,e){var r={owner:this,then:new this.constructor(d),fulfilled:t,rejected:e};return this.state_===l||this.state_===c?y(_,r):this.then_.push(r),r.then},catch:function(t){return this.then(null,t)}},P.all=function(t){if(!p(t))throw new TypeError("You must pass an array to Promise.all().");return new this((function(e,r){var i=[],n=0;function o(t){return n++,function(r){i[t]=r,--n||e(i)}}for(var s,a=0;a<t.length;a++)(s=t[a])&&"function"==typeof s.then?s.then(o(a),r):i[a]=s;n||e(i)}))},P.race=function(t){if(!p(t))throw new TypeError("You must pass an array to Promise.race().");return new this((function(e,r){for(var i,n=0;n<t.length;n++)(i=t[n])&&"function"==typeof i.then?i.then(e,r):e(i)}))},P.resolve=function(t){return t&&"object"==typeof t&&t.constructor===this?t:new this((function(e){e(t)}))},P.reject=function(t){return new this((function(e,r){r(t)}))}}("undefined"!=typeof window?window:void 0!==i?i:"undefined"!=typeof self?self:this)}).call(this,r(2),r(11).setImmediate)},function(t,e,r){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var i=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function s(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(t){i[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var r,a,h=s(t),u=1;u<arguments.length;u++){for(var l in r=Object(arguments[u]))n.call(r,l)&&(h[l]=r[l]);if(i){a=i(r);for(var c=0;c<a.length;c++)o.call(r,a[c])&&(h[a[c]]=r[a[c]])}}return h}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(21),n=r(20);document.addEventListener("DOMContentLoaded",(function(){setInterval((function(){document.title="The Hat Stoar Clicker: "+n.Global.numberOfHats+" hats"}),1e4);var t=new i.Application({antialias:!0,backgroundColor:16777215,resizeTo:window});document.body.appendChild(t.view);var e=new i.Container;t.stage.addChild(e);var r=new i.Graphics;r.lineStyle(10,0,1),r.beginFill(11184810),r.drawRect(-5,-5,350,100),r.endFill(),e.addChild(r);var o={align:"center",fontFamily:"Corbel",fontSize:32,fill:0},s=new i.Text("Hats: "+n.Global.numberOfHats,o);s.position.set(10,10),e.addChild(s);var a=new i.Text("Hats per click: "+n.Global.hatsPerClick,o);a.position.set(10,50),e.addChild(a);var h=new i.Container;h.position.set(t.screen.width/2-350,t.screen.height-65),t.stage.addChild(h);var u=new i.Graphics;u.lineStyle(10,0,1),u.beginFill(11184810),u.drawRect(0,0,700,60),u.endFill(),u.pivot.set(u.x,u.y),h.addChild(u);var l=new i.Text("Go two The Hat Stoar!",o);l.position.set(10,10),setInterval((function(){l.text=n.Global.flavourText[Math.trunc(Math.random()*n.Global.flavourText.length)]}),15e3),h.addChild(l);var c=i.Sprite.from("./images/HATT MANN.png");c.anchor.set(.5,.5),c.position.set(t.screen.width/2-c.width/2,t.screen.height/2-c.height-2),c.height=.5*window.innerHeight,c.width=.26666666666*window.innerHeight,t.stage.addChild(c),c.interactive=!0,c.buttonMode=!0,c.on("pointerdown",(function(){n.Global.numberOfHats+=n.Global.hatsPerClick,s.text="Hats: "+String(n.Global.numberOfHats)}))}),!1)},function(t,e,r){"use strict";(function(t){var e=r(7),i=r(8),n=r.n(i);
/*!
 * @pixi/polyfill - v5.1.0
 * Compiled Fri, 19 Jul 2019 21:54:36 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
window.Promise||(window.Promise=e.Polyfill),Object.assign||(Object.assign=n.a);var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!o.performance||!o.performance.now){var s=Date.now();o.performance||(o.performance={}),o.performance.now=function(){return Date.now()-s}}for(var a=Date.now(),h=["ms","moz","webkit","o"],u=0;u<h.length&&!o.requestAnimationFrame;++u){var l=h[u];o.requestAnimationFrame=o[l+"RequestAnimationFrame"],o.cancelAnimationFrame=o[l+"CancelAnimationFrame"]||o[l+"CancelRequestAnimationFrame"]}o.requestAnimationFrame||(o.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),r=16+a-e;return r<0&&(r=0),a=e,setTimeout((function(){a=Date.now(),t(performance.now())}),r)}),o.cancelAnimationFrame||(o.cancelAnimationFrame=function(t){return clearTimeout(t)}),Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1}),Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array),window.Uint8Array||(window.Uint8Array=Array),window.Int32Array||(window.Int32Array=Array)}).call(this,r(2))},function(t,e,r){(function(t){var i=void 0!==t&&t||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(n.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new o(n.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},r(12),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,r(2))},function(t,e,r){(function(t,e){!function(t,r){"use strict";if(!t.setImmediate){var i,n,o,s,a,h=1,u={},l=!1,c=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,"[object process]"==={}.toString.call(t.process)?i=function(t){e.nextTick((function(){f(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){f(t.data)},i=function(t){o.port2.postMessage(t)}):c&&"onreadystatechange"in c.createElement("script")?(n=c.documentElement,i=function(t){var e=c.createElement("script");e.onreadystatechange=function(){f(t),e.onreadystatechange=null,n.removeChild(e),e=null},n.appendChild(e)}):i=function(t){setTimeout(f,0,t)}:(s="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(s)&&f(+e.data.slice(s.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),i=function(e){t.postMessage(s+e,"*")}),d.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var n={callback:t,args:e};return u[h]=n,i(h),h++},d.clearImmediate=p}function p(t){delete u[t]}function f(t){if(l)setTimeout(f,0,t);else{var e=u[t];if(e){l=!0;try{!function(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(r,i)}}(e)}finally{p(t),l=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,r(2),r(13))},function(t,e){var r,i,n=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();var h,u=[],l=!1,c=-1;function d(){l&&h&&(l=!1,h.length?u=h.concat(u):c=-1,u.length&&p())}function p(){if(!l){var t=a(d);l=!0;for(var e=u.length;e;){for(h=u,u=[];++c<e;)h&&h[c].run();c=-1,e=u.length}h=null,l=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function v(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];u.push(new f(t,e)),1!==u.length||l||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=v,n.addListener=v,n.once=v,n.off=v,n.removeListener=v,n.removeAllListeners=v,n.emit=v,n.prependListener=v,n.prependOnceListener=v,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(t,e,r){(function(t,i){var n;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(o){e&&e.nodeType,t&&t.nodeType;var s="object"==typeof i&&i;s.global!==s&&s.window!==s&&s.self;var a,h=2147483647,u=36,l=1,c=26,d=38,p=700,f=72,v=128,g="-",m=/^xn--/,y=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,x={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},b=u-l,T=Math.floor,w=String.fromCharCode;function E(t){throw new RangeError(x[t])}function S(t,e){for(var r=t.length,i=[];r--;)i[r]=e(t[r]);return i}function I(t,e){var r=t.split("@"),i="";return r.length>1&&(i=r[0]+"@",t=r[1]),i+S((t=t.replace(_,".")).split("."),e).join(".")}function P(t){for(var e,r,i=[],n=0,o=t.length;n<o;)(e=t.charCodeAt(n++))>=55296&&e<=56319&&n<o?56320==(64512&(r=t.charCodeAt(n++)))?i.push(((1023&e)<<10)+(1023&r)+65536):(i.push(e),n--):i.push(e);return i}function A(t){return S(t,(function(t){var e="";return t>65535&&(e+=w((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=w(t)})).join("")}function O(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function C(t,e,r){var i=0;for(t=r?T(t/p):t>>1,t+=T(t/e);t>b*c>>1;i+=u)t=T(t/b);return T(i+(b+1)*t/(t+d))}function M(t){var e,r,i,n,o,s,a,d,p,m,y,_=[],x=t.length,b=0,w=v,S=f;for((r=t.lastIndexOf(g))<0&&(r=0),i=0;i<r;++i)t.charCodeAt(i)>=128&&E("not-basic"),_.push(t.charCodeAt(i));for(n=r>0?r+1:0;n<x;){for(o=b,s=1,a=u;n>=x&&E("invalid-input"),((d=(y=t.charCodeAt(n++))-48<10?y-22:y-65<26?y-65:y-97<26?y-97:u)>=u||d>T((h-b)/s))&&E("overflow"),b+=d*s,!(d<(p=a<=S?l:a>=S+c?c:a-S));a+=u)s>T(h/(m=u-p))&&E("overflow"),s*=m;S=C(b-o,e=_.length+1,0==o),T(b/e)>h-w&&E("overflow"),w+=T(b/e),b%=e,_.splice(b++,0,w)}return A(_)}function D(t){var e,r,i,n,o,s,a,d,p,m,y,_,x,b,S,I=[];for(_=(t=P(t)).length,e=v,r=0,o=f,s=0;s<_;++s)(y=t[s])<128&&I.push(w(y));for(i=n=I.length,n&&I.push(g);i<_;){for(a=h,s=0;s<_;++s)(y=t[s])>=e&&y<a&&(a=y);for(a-e>T((h-r)/(x=i+1))&&E("overflow"),r+=(a-e)*x,e=a,s=0;s<_;++s)if((y=t[s])<e&&++r>h&&E("overflow"),y==e){for(d=r,p=u;!(d<(m=p<=o?l:p>=o+c?c:p-o));p+=u)S=d-m,b=u-m,I.push(w(O(m+S%b,0))),d=T(S/b);I.push(w(O(d,0))),o=C(r,x,i==n),r=0,++i}++r,++e}return I.join("")}a={version:"1.4.1",ucs2:{decode:P,encode:A},decode:M,encode:D,toASCII:function(t){return I(t,(function(t){return y.test(t)?"xn--"+D(t):t}))},toUnicode:function(t){return I(t,(function(t){return m.test(t)?M(t.slice(4).toLowerCase()):t}))}},void 0===(n=function(){return a}.call(e,r,e,t))||(t.exports=n)}()}).call(this,r(15)(t),r(2))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,r){"use strict";e.decode=e.parse=r(18),e.encode=e.stringify=r(19)},function(t,e,r){"use strict";function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,o){e=e||"&",r=r||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var h=1e3;o&&"number"==typeof o.maxKeys&&(h=o.maxKeys);var u=t.length;h>0&&u>h&&(u=h);for(var l=0;l<u;++l){var c,d,p,f,v=t[l].replace(a,"%20"),g=v.indexOf(r);g>=0?(c=v.substr(0,g),d=v.substr(g+1)):(c=v,d=""),p=decodeURIComponent(c),f=decodeURIComponent(d),i(s,p)?n(s[p])?s[p].push(f):s[p]=[s[p],f]:s[p]=f}return s};var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,r){"use strict";var i=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,a){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?o(s(t),(function(s){var a=encodeURIComponent(i(s))+r;return n(t[s])?o(t[s],(function(t){return a+encodeURIComponent(i(t))})).join(e):a+encodeURIComponent(i(t[s]))})).join(e):a?encodeURIComponent(i(a))+r+encodeURIComponent(i(t)):""};var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(t,e){if(t.map)return t.map(e);for(var r=[],i=0;i<t.length;i++)r.push(e(t[i],i));return r}var s=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.hatsPerClick=1,t.numberOfHats=0,t.flavourText=["Go two The Hat Stoar","!pooS puoP knirD","Woah"],t}();e.Global=i},function(t,e,r){"use strict";r.r(e);var i={};r.r(i),r.d(i,"isMobile",(function(){return u.a})),r.d(i,"EventEmitter",(function(){return d.a})),r.d(i,"earcut",(function(){return f.a})),r.d(i,"url",(function(){return g.a})),r.d(i,"BaseTextureCache",(function(){return tt})),r.d(i,"CanvasRenderTarget",(function(){return nt})),r.d(i,"DATA_URI",(function(){return at})),r.d(i,"ProgramCache",(function(){return Q})),r.d(i,"TextureCache",(function(){return $})),r.d(i,"clearTextureCache",(function(){return rt})),r.d(i,"correctBlendMode",(function(){return X})),r.d(i,"createIndicesForQuads",(function(){return z})),r.d(i,"decomposeDataUri",(function(){return ht})),r.d(i,"deprecation",(function(){return dt})),r.d(i,"destroyTextureCache",(function(){return et})),r.d(i,"determineCrossOrigin",(function(){return ut})),r.d(i,"getResolutionOfUrl",(function(){return lt})),r.d(i,"hex2rgb",(function(){return L})),r.d(i,"hex2string",(function(){return N})),r.d(i,"isPow2",(function(){return K})),r.d(i,"isWebGLSupported",(function(){return F})),r.d(i,"log2",(function(){return J})),r.d(i,"nextPow2",(function(){return Z})),r.d(i,"premultiplyBlendMode",(function(){return k})),r.d(i,"premultiplyRgba",(function(){return j})),r.d(i,"premultiplyTint",(function(){return G})),r.d(i,"premultiplyTintToRgba",(function(){return H})),r.d(i,"removeItems",(function(){return V})),r.d(i,"rgb2hex",(function(){return U})),r.d(i,"sayHello",(function(){return R})),r.d(i,"sign",(function(){return q})),r.d(i,"skipHello",(function(){return D})),r.d(i,"string2hex",(function(){return B})),r.d(i,"trimCanvas",(function(){return it})),r.d(i,"uid",(function(){return W}));var n={};r.r(n),r.d(n,"AccessibilityManager",(function(){return zt})),r.d(n,"accessibleTarget",(function(){return Ht}));var o={};r.r(o),r.d(o,"Extract",(function(){return pi}));var s={};r.r(s),r.d(s,"InteractionData",(function(){return fi})),r.d(s,"InteractionEvent",(function(){return gi})),r.d(s,"InteractionManager",(function(){return Ti})),r.d(s,"InteractionTrackingData",(function(){return mi})),r.d(s,"interactiveTarget",(function(){return _i}));var a={};r.r(a),r.d(a,"BasePrepare",(function(){return un})),r.d(a,"CountLimiter",(function(){return hn})),r.d(a,"Prepare",(function(){return mn})),r.d(a,"TimeLimiter",(function(){return bn}));r(10);var h=r(1),u=r.n(h);var l={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:
/*!
 * @pixi/settings - v5.1.3
 * Compiled Mon, 09 Sep 2019 04:51:53 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
function(t){var e=!0;if(u.a.tablet||u.a.phone){if(e=!1,u.a.apple.device){var r=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(r)parseInt(r[1],10)>=11&&(e=!0)}if(u.a.android.device){var i=navigator.userAgent.match(/Android\s([0-9.]*)/);if(i)parseInt(i[1],10)>=7&&(e=!0)}}return e?t:4}(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:u.a.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:!u.a.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},c=r(5),d=r.n(c),p=r(6),f=r.n(p),v=r(3),g=r.n(v),m={WEBGL_LEGACY:0,WEBGL:1,WEBGL2:2},y={UNKNOWN:0,WEBGL:1,CANVAS:2},_={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19,NONE:20,SRC_OVER:0,SRC_IN:21,SRC_OUT:22,SRC_ATOP:23,DST_OVER:24,DST_IN:25,DST_OUT:26,DST_ATOP:27,ERASE:26,SUBTRACT:28},x={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},b={RGBA:6408,RGB:6407,ALPHA:6406,LUMINANCE:6409,LUMINANCE_ALPHA:6410,DEPTH_COMPONENT:6402,DEPTH_STENCIL:34041},T={TEXTURE_2D:3553,TEXTURE_CUBE_MAP:34067,TEXTURE_2D_ARRAY:35866,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074},w={UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123,UNSIGNED_SHORT_5_6_5:33635,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,FLOAT:5126,HALF_FLOAT:36193},E={LINEAR:1,NEAREST:0},S={CLAMP:33071,REPEAT:10497,MIRRORED_REPEAT:33648},I={OFF:0,POW2:1,ON:2},P={AUTO:0,MANUAL:1},A={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"};
/*!
 * @pixi/utils - v5.1.3
 * Compiled Mon, 09 Sep 2019 04:51:53 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
l.RETINA_PREFIX=/@([0-9\.]+)x/,l.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0;var O,C=!1,M="5.1.3";function D(){C=!0}function R(t){if(!C){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var e=["\n %c %c %c PixiJS "+M+" - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,e)}else window.console&&window.console.log("PixiJS "+M+" - "+t+" - http://www.pixijs.com/");C=!0}}function F(){return void 0===O&&(O=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:l.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),i=!(!r||!r.getContextAttributes().stencil);if(r){var n=r.getExtension("WEBGL_lose_context");n&&n.loseContext()}return r=null,i}catch(t){return!1}}()),O}function L(t,e){return(e=e||[])[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function N(t){return t=t.toString(16),"#"+(t="000000".substr(0,6-t.length)+t)}function B(t){return"string"==typeof t&&"#"===t[0]&&(t=t.substr(1)),parseInt(t,16)}function U(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)}var k=function(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[_.NORMAL_NPM]=_.NORMAL,t[_.ADD_NPM]=_.ADD,t[_.SCREEN_NPM]=_.SCREEN,e[_.NORMAL]=_.NORMAL_NPM,e[_.ADD]=_.ADD_NPM,e[_.SCREEN]=_.SCREEN_NPM;var i=[];return i.push(e),i.push(t),i}();function X(t,e){return k[e?1:0][t]}function j(t,e,r,i){return r=r||new Float32Array(4),i||void 0===i?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]),r[3]=e,r}function G(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var r=t>>16&255,i=t>>8&255,n=255&t;return(255*e<<24)+((r=r*e+.5|0)<<16)+((i=i*e+.5|0)<<8)+(n=n*e+.5|0)}function H(t,e,r,i){return(r=r||new Float32Array(4))[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(255&t)/255,(i||void 0===i)&&(r[0]*=e,r[1]*=e,r[2]*=e),r[3]=e,r}function z(t,e){void 0===e&&(e=null);var r=6*t;if((e=e||new Uint16Array(r)).length!==r)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+r);for(var i=0,n=0;i<r;i+=6,n+=4)e[i+0]=n+0,e[i+1]=n+1,e[i+2]=n+2,e[i+3]=n+0,e[i+4]=n+2,e[i+5]=n+3;return e}function V(t,e,r){var i,n=t.length;if(!(e>=n||0===r)){var o=n-(r=e+r>n?n-e:r);for(i=e;i<o;++i)t[i]=t[i+r];t.length=o}}var Y=0;function W(){return++Y}function q(t){return 0===t?0:t<0?-1:1}function Z(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1}function K(t){return!(t&t-1||!t)}function J(t){var e=(t>65535)<<4,r=((t>>>=e)>255)<<3;return e|=r,e|=r=((t>>>=r)>15)<<2,(e|=r=((t>>>=r)>3)<<1)|(t>>>=r)>>1}var Q={},$=Object.create(null),tt=Object.create(null);function et(){var t;for(t in $)$[t].destroy();for(t in tt)tt[t].destroy()}function rt(){var t;for(t in $)delete $[t];for(t in tt)delete tt[t]}function it(t){var e,r,i,n=t.width,o=t.height,s=t.getContext("2d"),a=s.getImageData(0,0,n,o).data,h=a.length,u={top:null,left:null,right:null,bottom:null},l=null;for(e=0;e<h;e+=4)0!==a[e+3]&&(r=e/4%n,i=~~(e/4/n),null===u.top&&(u.top=i),null===u.left?u.left=r:r<u.left&&(u.left=r),null===u.right?u.right=r+1:u.right<r&&(u.right=r+1),null===u.bottom?u.bottom=i:u.bottom<i&&(u.bottom=i));return null!==u.top&&(n=u.right-u.left,o=u.bottom-u.top+1,l=s.getImageData(u.left,u.top,n,o)),{height:o,width:n,data:l}}var nt=function(t,e,r){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=r||l.RESOLUTION,this.resize(t,e)},ot={width:{configurable:!0},height:{configurable:!0}};nt.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},nt.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},nt.prototype.destroy=function(){this.context=null,this.canvas=null},ot.width.get=function(){return this.canvas.width},ot.width.set=function(t){this.canvas.width=t},ot.height.get=function(){return this.canvas.height},ot.height.set=function(t){this.canvas.height=t},Object.defineProperties(nt.prototype,ot);var st,at=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function ht(t){var e=at.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}function ut(t,e){if(void 0===e&&(e=window.location),0===t.indexOf("data:"))return"";e=e||window.location,st||(st=document.createElement("a")),st.href=t;var r=!(t=g.a.parse(st.href)).port&&""===e.port||t.port===e.port;return t.hostname===e.hostname&&r&&t.protocol===e.protocol?"":"anonymous"}function lt(t,e){var r=l.RETINA_PREFIX.exec(t);return r?parseFloat(r[1]):void 0!==e?e:1}var ct={};function dt(t,e,r){if(void 0===r&&(r=3),!ct[e]){var i=(new Error).stack;void 0===i?console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t):(i=i.split("\n").splice(r).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+"\nDeprecated since v"+t),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t),console.warn(i))),ct[e]=!0}}
/*!
 * @pixi/math - v5.1.0
 * Compiled Fri, 19 Jul 2019 21:54:36 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var pt=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e};pt.prototype.clone=function(){return new pt(this.x,this.y)},pt.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},pt.prototype.copyTo=function(t){return t.set(this.x,this.y),t},pt.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},pt.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)};var ft=function(t,e,r,i){void 0===r&&(r=0),void 0===i&&(i=0),this._x=r,this._y=i,this.cb=t,this.scope=e},vt={x:{configurable:!0},y:{configurable:!0}};ft.prototype.clone=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null);var r=t||this.cb,i=e||this.scope;return new ft(r,i,this._x,this._y)},ft.prototype.set=function(t,e){var r=t||0,i=e||(0!==e?r:0);this._x===r&&this._y===i||(this._x=r,this._y=i,this.cb.call(this.scope))},ft.prototype.copyFrom=function(t){return this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},ft.prototype.copyTo=function(t){return t.set(this._x,this._y),t},ft.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},vt.x.get=function(){return this._x},vt.x.set=function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},vt.y.get=function(){return this._y},vt.y.set=function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},Object.defineProperties(ft.prototype,vt);var gt=2*Math.PI,mt=180/Math.PI,yt=Math.PI/180,_t={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},xt=function(t,e,r,i,n,o){void 0===t&&(t=1),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=1),void 0===n&&(n=0),void 0===o&&(o=0),this.a=t,this.b=e,this.c=r,this.d=i,this.tx=n,this.ty=o,this.array=null},bt={IDENTITY:{configurable:!0},TEMP_MATRIX:{configurable:!0}};xt.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},xt.prototype.set=function(t,e,r,i,n,o){return this.a=t,this.b=e,this.c=r,this.d=i,this.tx=n,this.ty=o,this},xt.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},xt.prototype.apply=function(t,e){e=e||new pt;var r=t.x,i=t.y;return e.x=this.a*r+this.c*i+this.tx,e.y=this.b*r+this.d*i+this.ty,e},xt.prototype.applyInverse=function(t,e){e=e||new pt;var r=1/(this.a*this.d+this.c*-this.b),i=t.x,n=t.y;return e.x=this.d*r*i+-this.c*r*n+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*n+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,e},xt.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},xt.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},xt.prototype.rotate=function(t){var e=Math.cos(t),r=Math.sin(t),i=this.a,n=this.c,o=this.tx;return this.a=i*e-this.b*r,this.b=i*r+this.b*e,this.c=n*e-this.d*r,this.d=n*r+this.d*e,this.tx=o*e-this.ty*r,this.ty=o*r+this.ty*e,this},xt.prototype.append=function(t){var e=this.a,r=this.b,i=this.c,n=this.d;return this.a=t.a*e+t.b*i,this.b=t.a*r+t.b*n,this.c=t.c*e+t.d*i,this.d=t.c*r+t.d*n,this.tx=t.tx*e+t.ty*i+this.tx,this.ty=t.tx*r+t.ty*n+this.ty,this},xt.prototype.setTransform=function(t,e,r,i,n,o,s,a,h){return this.a=Math.cos(s+h)*n,this.b=Math.sin(s+h)*n,this.c=-Math.sin(s-a)*o,this.d=Math.cos(s-a)*o,this.tx=t-(r*this.a+i*this.c),this.ty=e-(r*this.b+i*this.d),this},xt.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var r=this.a,i=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},xt.prototype.decompose=function(t){var e=this.a,r=this.b,i=this.c,n=this.d,o=-Math.atan2(-i,n),s=Math.atan2(r,e),a=Math.abs(o+s);return a<1e-5||Math.abs(gt-a)<1e-5?(t.rotation=s,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=s),t.scale.x=Math.sqrt(e*e+r*r),t.scale.y=Math.sqrt(i*i+n*n),t.position.x=this.tx,t.position.y=this.ty,t},xt.prototype.invert=function(){var t=this.a,e=this.b,r=this.c,i=this.d,n=this.tx,o=t*i-e*r;return this.a=i/o,this.b=-e/o,this.c=-r/o,this.d=t/o,this.tx=(r*this.ty-i*n)/o,this.ty=-(t*this.ty-e*n)/o,this},xt.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},xt.prototype.clone=function(){var t=new xt;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},xt.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},xt.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},bt.IDENTITY.get=function(){return new xt},bt.TEMP_MATRIX.get=function(){return new xt},Object.defineProperties(xt,bt);var Tt=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],wt=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Et=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],St=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],It=[],Pt=[],At=Math.sign;!function(){for(var t=0;t<16;t++){var e=[];It.push(e);for(var r=0;r<16;r++)for(var i=At(Tt[t]*Tt[r]+Et[t]*wt[r]),n=At(wt[t]*Tt[r]+St[t]*wt[r]),o=At(Tt[t]*Et[r]+Et[t]*St[r]),s=At(wt[t]*Et[r]+St[t]*St[r]),a=0;a<16;a++)if(Tt[a]===i&&wt[a]===n&&Et[a]===o&&St[a]===s){e.push(a);break}}for(var h=0;h<16;h++){var u=new xt;u.set(Tt[h],wt[h],Et[h],St[h],0,0),Pt.push(u)}}();var Ot={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return Tt[t]},uY:function(t){return wt[t]},vX:function(t){return Et[t]},vY:function(t){return St[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return It[t][e]},sub:function(t,e){return It[t][Ot.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?Ot.S:Ot.N:2*Math.abs(e)<=Math.abs(t)?t>0?Ot.E:Ot.W:e>0?t>0?Ot.SE:Ot.SW:t>0?Ot.NE:Ot.NW},matrixAppendRotationInv:function(t,e,r,i){void 0===r&&(r=0),void 0===i&&(i=0);var n=Pt[Ot.inv(e)];n.tx=r,n.ty=i,t.append(n)}},Ct=function(){this.worldTransform=new xt,this.localTransform=new xt,this.position=new ft(this.onChange,this,0,0),this.scale=new ft(this.onChange,this,1,1),this.pivot=new ft(this.onChange,this,0,0),this.skew=new ft(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0},Mt={rotation:{configurable:!0}};Ct.prototype.onChange=function(){this._localID++},Ct.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++},Ct.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c),t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},Ct.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c),e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var r=t.worldTransform,i=this.worldTransform;i.a=e.a*r.a+e.b*r.c,i.b=e.a*r.b+e.b*r.d,i.c=e.c*r.a+e.d*r.c,i.d=e.c*r.b+e.d*r.d,i.tx=e.tx*r.a+e.ty*r.c+r.tx,i.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}},Ct.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Mt.rotation.get=function(){return this._rotation},Mt.rotation.set=function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},Object.defineProperties(Ct.prototype,Mt),Ct.IDENTITY=new Ct;var Dt=function(t,e,r,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),this.x=Number(t),this.y=Number(e),this.width=Number(r),this.height=Number(i),this.type=_t.RECT},Rt={left:{configurable:!0},right:{configurable:!0},top:{configurable:!0},bottom:{configurable:!0}},Ft={EMPTY:{configurable:!0}};Rt.left.get=function(){return this.x},Rt.right.get=function(){return this.x+this.width},Rt.top.get=function(){return this.y},Rt.bottom.get=function(){return this.y+this.height},Ft.EMPTY.get=function(){return new Dt(0,0,0,0)},Dt.prototype.clone=function(){return new Dt(this.x,this.y,this.width,this.height)},Dt.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},Dt.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},Dt.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)},Dt.prototype.pad=function(t,e){t=t||0,e=e||(0!==e?t:0),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e},Dt.prototype.fit=function(t){var e=Math.max(this.x,t.x),r=Math.min(this.x+this.width,t.x+t.width),i=Math.max(this.y,t.y),n=Math.min(this.y+this.height,t.y+t.height);this.x=e,this.width=Math.max(r-e,0),this.y=i,this.height=Math.max(n-i,0)},Dt.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var r=Math.ceil((this.x+this.width-e)*t)/t,i=Math.ceil((this.y+this.height-e)*t)/t;this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=r-this.x,this.height=i-this.y},Dt.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),i=Math.min(this.y,t.y),n=Math.max(this.y+this.height,t.y+t.height);this.x=e,this.width=r-e,this.y=i,this.height=n-i},Object.defineProperties(Dt.prototype,Rt),Object.defineProperties(Dt,Ft);var Lt=function(t,e,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),this.x=t,this.y=e,this.radius=r,this.type=_t.CIRC};Lt.prototype.clone=function(){return new Lt(this.x,this.y,this.radius)},Lt.prototype.contains=function(t,e){if(this.radius<=0)return!1;var r=this.radius*this.radius,i=this.x-t,n=this.y-e;return(i*=i)+(n*=n)<=r},Lt.prototype.getBounds=function(){return new Dt(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)};var Nt=function(t,e,r,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),this.x=t,this.y=e,this.width=r,this.height=i,this.type=_t.ELIP};Nt.prototype.clone=function(){return new Nt(this.x,this.y,this.width,this.height)},Nt.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var r=(t-this.x)/this.width,i=(e-this.y)/this.height;return(r*=r)+(i*=i)<=1},Nt.prototype.getBounds=function(){return new Dt(this.x-this.width,this.y-this.height,this.width,this.height)};var Bt=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(Array.isArray(t[0])&&(t=t[0]),t[0]instanceof pt){for(var r=[],i=0,n=t.length;i<n;i++)r.push(t[i].x,t[i].y);t=r}this.points=t,this.type=_t.POLY,this.closeStroke=!0};Bt.prototype.clone=function(){var t=new Bt(this.points.slice());return t.closeStroke=this.closeStroke,t},Bt.prototype.contains=function(t,e){for(var r=!1,i=this.points.length/2,n=0,o=i-1;n<i;o=n++){var s=this.points[2*n],a=this.points[2*n+1],h=this.points[2*o],u=this.points[2*o+1];a>e!=u>e&&t<(e-a)/(u-a)*(h-s)+s&&(r=!r)}return r};var Ut=function(t,e,r,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===n&&(n=20),this.x=t,this.y=e,this.width=r,this.height=i,this.radius=n,this.type=_t.RREC};Ut.prototype.clone=function(){return new Ut(this.x,this.y,this.width,this.height,this.radius)},Ut.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var r=t-(this.x+this.radius),i=e-(this.y+this.radius),n=this.radius*this.radius;if(r*r+i*i<=n)return!0;if((r=t-(this.x+this.width-this.radius))*r+i*i<=n)return!0;if(r*r+(i=e-(this.y+this.height-this.radius))*i<=n)return!0;if((r=t-(this.x+this.radius))*r+i*i<=n)return!0}return!1},
/*!
 * @pixi/display - v5.1.3
 * Compiled Mon, 09 Sep 2019 04:51:53 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
l.SORTABLE_CHILDREN=!1;var kt=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null};kt.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},kt.prototype.clear=function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},kt.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?Dt.EMPTY:((t=t||new Dt(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},kt.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},kt.prototype.addQuad=function(t){var e=this.minX,r=this.minY,i=this.maxX,n=this.maxY,o=t[0],s=t[1];e=o<e?o:e,r=s<r?s:r,i=o>i?o:i,n=s>n?s:n,e=(o=t[2])<e?o:e,r=(s=t[3])<r?s:r,i=o>i?o:i,n=s>n?s:n,e=(o=t[4])<e?o:e,r=(s=t[5])<r?s:r,i=o>i?o:i,n=s>n?s:n,e=(o=t[6])<e?o:e,r=(s=t[7])<r?s:r,i=o>i?o:i,n=s>n?s:n,this.minX=e,this.minY=r,this.maxX=i,this.maxY=n},kt.prototype.addFrame=function(t,e,r,i,n){var o=t.worldTransform,s=o.a,a=o.b,h=o.c,u=o.d,l=o.tx,c=o.ty,d=this.minX,p=this.minY,f=this.maxX,v=this.maxY,g=s*e+h*r+l,m=a*e+u*r+c;d=g<d?g:d,p=m<p?m:p,f=g>f?g:f,v=m>v?m:v,d=(g=s*i+h*r+l)<d?g:d,p=(m=a*i+u*r+c)<p?m:p,f=g>f?g:f,v=m>v?m:v,d=(g=s*e+h*n+l)<d?g:d,p=(m=a*e+u*n+c)<p?m:p,f=g>f?g:f,v=m>v?m:v,d=(g=s*i+h*n+l)<d?g:d,p=(m=a*i+u*n+c)<p?m:p,f=g>f?g:f,v=m>v?m:v,this.minX=d,this.minY=p,this.maxX=f,this.maxY=v},kt.prototype.addVertexData=function(t,e,r){for(var i=this.minX,n=this.minY,o=this.maxX,s=this.maxY,a=e;a<r;a+=2){var h=t[a],u=t[a+1];i=h<i?h:i,n=u<n?u:n,o=h>o?h:o,s=u>s?u:s}this.minX=i,this.minY=n,this.maxX=o,this.maxY=s},kt.prototype.addVertices=function(t,e,r,i){for(var n=t.worldTransform,o=n.a,s=n.b,a=n.c,h=n.d,u=n.tx,l=n.ty,c=this.minX,d=this.minY,p=this.maxX,f=this.maxY,v=r;v<i;v+=2){var g=e[v],m=e[v+1],y=o*g+a*m+u,_=h*m+s*g+l;c=y<c?y:c,d=_<d?_:d,p=y>p?y:p,f=_>f?_:f}this.minX=c,this.minY=d,this.maxX=p,this.maxY=f},kt.prototype.addBounds=function(t){var e=this.minX,r=this.minY,i=this.maxX,n=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<r?t.minY:r,this.maxX=t.maxX>i?t.maxX:i,this.maxY=t.maxY>n?t.maxY:n},kt.prototype.addBoundsMask=function(t,e){var r=t.minX>e.minX?t.minX:e.minX,i=t.minY>e.minY?t.minY:e.minY,n=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(r<=n&&i<=o){var s=this.minX,a=this.minY,h=this.maxX,u=this.maxY;this.minX=r<s?r:s,this.minY=i<a?i:a,this.maxX=n>h?n:h,this.maxY=o>u?o:u}},kt.prototype.addBoundsArea=function(t,e){var r=t.minX>e.x?t.minX:e.x,i=t.minY>e.y?t.minY:e.y,n=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(r<=n&&i<=o){var s=this.minX,a=this.minY,h=this.maxX,u=this.maxY;this.minX=r<s?r:s,this.minY=i<a?i:a,this.maxX=n>h?n:h,this.maxY=o>u?o:u}};var Xt=function(t){function e(){t.call(this),this.tempDisplayObjectParent=null,this.transform=new Ct,this.alpha=1,this.visible=!0,this.renderable=!0,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new kt,this._boundsID=0,this._lastBoundsID=-1,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._destroyed=!1,this.isSprite=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={_tempDisplayObjectParent:{configurable:!0},x:{configurable:!0},y:{configurable:!0},worldTransform:{configurable:!0},localTransform:{configurable:!0},position:{configurable:!0},scale:{configurable:!0},pivot:{configurable:!0},skew:{configurable:!0},rotation:{configurable:!0},angle:{configurable:!0},zIndex:{configurable:!0},worldVisible:{configurable:!0},mask:{configurable:!0}};return e.mixin=function(t){for(var r=Object.keys(t),i=0;i<r.length;++i){var n=r[i];Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t,n))}},r._tempDisplayObjectParent.get=function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new e),this.tempDisplayObjectParent},e.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&(this.calculateBounds(),this._lastBoundsID=this._boundsID),e||(this._boundsRect||(this._boundsRect=new Dt),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){var e=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,t||(this._localBoundsRect||(this._localBoundsRect=new Dt),t=this._localBoundsRect);var i=this.getBounds(!1,t);return this.parent=r,this.transform=e,i},e.prototype.toGlobal=function(t,e,r){return void 0===r&&(r=!1),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,r,i){return e&&(t=e.toGlobal(t,r,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,r)},e.prototype.render=function(t){},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(t,e,r,i,n,o,s,a,h){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=1),void 0===i&&(i=1),void 0===n&&(n=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===a&&(a=0),void 0===h&&(h=0),this.position.x=t,this.position.y=e,this.scale.x=r||1,this.scale.y=i||1,this.rotation=n,this.skew.x=o,this.skew.y=s,this.pivot.x=a,this.pivot.y=h,this},e.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},r.x.get=function(){return this.position.x},r.x.set=function(t){this.transform.position.x=t},r.y.get=function(){return this.position.y},r.y.set=function(t){this.transform.position.y=t},r.worldTransform.get=function(){return this.transform.worldTransform},r.localTransform.get=function(){return this.transform.localTransform},r.position.get=function(){return this.transform.position},r.position.set=function(t){this.transform.position.copyFrom(t)},r.scale.get=function(){return this.transform.scale},r.scale.set=function(t){this.transform.scale.copyFrom(t)},r.pivot.get=function(){return this.transform.pivot},r.pivot.set=function(t){this.transform.pivot.copyFrom(t)},r.skew.get=function(){return this.transform.skew},r.skew.set=function(t){this.transform.skew.copyFrom(t)},r.rotation.get=function(){return this.transform.rotation},r.rotation.set=function(t){this.transform.rotation=t},r.angle.get=function(){return this.transform.rotation*mt},r.angle.set=function(t){this.transform.rotation=t*yt},r.zIndex.get=function(){return this._zIndex},r.zIndex.set=function(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)},r.worldVisible.get=function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0},r.mask.get=function(){return this._mask},r.mask.set=function(t){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=t,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)},Object.defineProperties(e.prototype,r),e}(d.a);function jt(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}Xt.prototype.displayObjectUpdateTransform=Xt.prototype.updateTransform;var Gt=function(t){function e(){t.call(this),this.children=[],this.sortableChildren=l.SORTABLE_CHILDREN,this.sortDirty=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={width:{configurable:!0},height:{configurable:!0}};return e.prototype.onChildrenChange=function(){},e.prototype.addChild=function(t){var e=arguments,r=arguments.length;if(r>1)for(var i=0;i<r;i++)this.addChild(e[i]);else t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",t,this,this.children.length-1),t.emit("added",this);return t},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t},e.prototype.swapChildren=function(t,e){if(t!==e){var r=this.getChildIndex(t),i=this.getChildIndex(e);this.children[r]=e,this.children[i]=t,this.onChildrenChange(r<i?r:i)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var r=this.getChildIndex(t);V(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(t){var e=arguments,r=arguments.length;if(r>1)for(var i=0;i<r;i++)this.removeChild(e[i]);else{var n=this.children.indexOf(t);if(-1===n)return null;t.parent=null,t.transform._parentID=-1,V(this.children,n,1),this._boundsID++,this.onChildrenChange(n),t.emit("removed",this),this.emit("childRemoved",t,this,n)}return t},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,V(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e},e.prototype.removeChildren=function(t,e){void 0===t&&(t=0);var r,i=t,n="number"==typeof e?e:this.children.length,o=n-i;if(o>0&&o<=n){r=this.children.splice(i,o);for(var s=0;s<r.length;++s)r[s].parent=null,r[s].transform&&(r[s].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(var a=0;a<r.length;++a)r[a].emit("removed",this),this.emit("childRemoved",r[a],this,a);return r}if(0===o&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var t=!1,e=0,r=this.children.length;e<r;++e){var i=this.children[e];i._lastSortedIndex=e,t||0===i.zIndex||(t=!0)}t&&this.children.length>1&&this.children.sort(jt),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var r=this.children[t];r.visible&&r.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];e.visible&&e.renderable&&(e.calculateBounds(),e._mask?(e._mask.calculateBounds(),this._bounds.addBoundsMask(e._bounds,e._mask._bounds)):e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds))}this._lastBoundsID=this._boundsID},e.prototype._calculateBounds=function(){},e.prototype.render=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(t);else{this._render(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].render(t)}},e.prototype.renderAdvanced=function(t){t.batch.flush();var e=this.filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var i=0;i<e.length;i++)e[i].enabled&&this._enabledFilters.push(e[i]);this._enabledFilters.length&&t.filter.push(this,this._enabledFilters)}r&&t.mask.push(this,this._mask),this._render(t);for(var n=0,o=this.children.length;n<o;n++)this.children[n].render(t);t.batch.flush(),r&&t.mask.pop(this,this._mask),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.pop()},e.prototype._render=function(t){},e.prototype.destroy=function(e){t.prototype.destroy.call(this),this.sortDirty=!1;var r="boolean"==typeof e?e:e&&e.children,i=this.removeChildren(0,this.children.length);if(r)for(var n=0;n<i.length;++n)i[n].destroy(e)},r.width.get=function(){return this.scale.x*this.getLocalBounds().width},r.width.set=function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t},r.height.get=function(){return this.scale.y*this.getLocalBounds().height},r.height.set=function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t},Object.defineProperties(e.prototype,r),e}(Xt);Gt.prototype.containerUpdateTransform=Gt.prototype.updateTransform;
/*!
 * @pixi/accessibility - v5.1.4
 * Compiled Fri, 20 Sep 2019 17:17:59 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var Ht={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1};Xt.mixin(Ht);var zt=function(t){this._hookDiv=null,(u.a.tablet||u.a.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2,this.div=e,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=t,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessibility=!1,window.addEventListener("keydown",this._onKeyDown,!1)};zt.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2,e.style.backgroundColor="#FF0000",e.title="HOOK DIV",e.addEventListener("focus",(function(){t.isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()})),document.body.appendChild(e),this._hookDiv=e},zt.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},zt.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},zt.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessibility&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},zt.prototype.updateAccessibleObjects=function(t){if(t.visible){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,r=0;r<e.length;r++)this.updateAccessibleObjects(e[r])}},zt.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),e=t.width/this.renderer.width,r=t.height/this.renderer.height,i=this.div;i.style.left=t.left+"px",i.style.top=t.top+"px",i.style.width=this.renderer.width+"px",i.style.height=this.renderer.height+"px";for(var n=0;n<this.children.length;n++){var o=this.children[n];if(o.renderId!==this.renderId)o._accessibleActive=!1,V(this.children,n,1),this.div.removeChild(o._accessibleDiv),this.pool.push(o._accessibleDiv),o._accessibleDiv=null,n--,0===this.children.length&&this.deactivate();else{i=o._accessibleDiv;var s=o.hitArea,a=o.worldTransform;o.hitArea?(i.style.left=(a.tx+s.x*a.a)*e+"px",i.style.top=(a.ty+s.y*a.d)*r+"px",i.style.width=s.width*a.a*e+"px",i.style.height=s.height*a.d*r+"px"):(s=o.getBounds(),this.capHitArea(s),i.style.left=s.x*e+"px",i.style.top=s.y*r+"px",i.style.width=s.width*e+"px",i.style.height=s.height*r+"px",i.title!==o.accessibleTitle&&null!==o.accessibleTitle&&(i.title=o.accessibleTitle),i.getAttribute("aria-label")!==o.accessibleHint&&null!==o.accessibleHint&&i.setAttribute("aria-label",o.accessibleHint))}}this.renderId++}},zt.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},zt.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2,e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},zt.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData),e.dispatchEvent(t.target.displayObject,"pointertap",e.eventData),e.dispatchEvent(t.target.displayObject,"tap",e.eventData)},zt.prototype._onFocus=function(t){t.target.getAttribute("aria-live","off")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},zt.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live","off")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},zt.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},zt.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},zt.prototype.destroy=function(){this.destroyTouchHook(),this.div=null;for(var t=0;t<this.children.length;t++)this.children[t].div=null;window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null};
/*!
 * @pixi/runner - v5.1.1
 * Compiled Fri, 02 Aug 2019 23:20:23 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var Vt=function(t){this.items=[],this._name=t,this._aliasCount=0},Yt={empty:{configurable:!0},name:{configurable:!0}};Vt.prototype.emit=function(t,e,r,i,n,o,s,a){if(arguments.length>8)throw new Error("max arguments reached");var h=this,u=h.name,l=h.items;this._aliasCount++;for(var c=0,d=l.length;c<d;c++)l[c][u](t,e,r,i,n,o,s,a);return l===this.items&&this._aliasCount--,this},Vt.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},Vt.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},Vt.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},Vt.prototype.contains=function(t){return-1!==this.items.indexOf(t)},Vt.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},Vt.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Yt.empty.get=function(){return 0===this.items.length},Yt.name.get=function(){return this._name},Object.defineProperties(Vt.prototype,Yt),Vt.prototype.dispatch=Vt.prototype.emit,Vt.prototype.run=Vt.prototype.emit,
/*!
 * @pixi/ticker - v5.1.3
 * Compiled Mon, 09 Sep 2019 04:51:53 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
l.TARGET_FPMS=.06;var Wt={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50},qt=function(t,e,r,i){void 0===e&&(e=null),void 0===r&&(r=0),void 0===i&&(i=!1),this.fn=t,this.context=e,this.priority=r,this.once=i,this.next=null,this.previous=null,this._destroyed=!1};qt.prototype.match=function(t,e){return e=e||null,this.fn===t&&this.context===e},qt.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},qt.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},qt.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e};var Zt=function(){var t=this;this._head=new qt(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/l.TARGET_FPMS,this.elapsedMS=1/l.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}},Kt={FPS:{configurable:!0},minFPS:{configurable:!0},maxFPS:{configurable:!0}},Jt={shared:{configurable:!0},system:{configurable:!0}};Zt.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},Zt.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},Zt.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},Zt.prototype.add=function(t,e,r){return void 0===r&&(r=Wt.NORMAL),this._addListener(new qt(t,e,r))},Zt.prototype.addOnce=function(t,e,r){return void 0===r&&(r=Wt.NORMAL),this._addListener(new qt(t,e,r,!0))},Zt.prototype._addListener=function(t){var e=this._head.next,r=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}else t.connect(r);return this._startIfPossible(),this},Zt.prototype.remove=function(t,e){for(var r=this._head.next;r;)r=r.match(t,e)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this},Zt.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},Zt.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},Zt.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},Zt.prototype.update=function(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){if((e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var r=t-this._lastFrame|0;if(r<this._minElapsedMS)return;this._lastFrame=t-r%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*l.TARGET_FPMS;for(var i=this._head,n=i.next;n;)n=n.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Kt.FPS.get=function(){return 1e3/this.elapsedMS},Kt.minFPS.get=function(){return 1e3/this._maxElapsedMS},Kt.minFPS.set=function(t){var e=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,e)/1e3,l.TARGET_FPMS);this._maxElapsedMS=1/r},Kt.maxFPS.get=function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},Kt.maxFPS.set=function(t){if(0===t)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},Jt.shared.get=function(){if(!Zt._shared){var t=Zt._shared=new Zt;t.autoStart=!0,t._protected=!0}return Zt._shared},Jt.system.get=function(){if(!Zt._system){var t=Zt._system=new Zt;t.autoStart=!0,t._protected=!0}return Zt._system},Object.defineProperties(Zt.prototype,Kt),Object.defineProperties(Zt,Jt);var Qt=function(){};Qt.init=function(t){var e=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,Wt.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?Zt.shared:new Zt,t.autoStart&&this.start()},Qt.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}};
/*!
 * @pixi/core - v5.1.4
 * Compiled Fri, 20 Sep 2019 17:17:59 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var $t=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new Vt("setRealSize",2),this.onUpdate=new Vt("update"),this.onError=new Vt("onError",1)},te={valid:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};$t.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.run(this._width,this._height)},$t.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},$t.prototype.resize=function(t,e){t===this._width&&e===this._height||(this._width=t,this._height=e,this.onResize.run(t,e))},te.valid.get=function(){return!!this._width&&!!this._height},$t.prototype.update=function(){this.destroyed||this.onUpdate.run()},$t.prototype.load=function(){return Promise.resolve()},te.width.get=function(){return this._width},te.height.get=function(){return this._height},$t.prototype.upload=function(t,e,r){return!1},$t.prototype.style=function(t,e,r){return!1},$t.prototype.dispose=function(){},$t.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},Object.defineProperties($t.prototype,te);var ee=function(t){function e(e){var r=e.naturalWidth||e.videoWidth||e.width,i=e.naturalHeight||e.videoHeight||e.height;t.call(this,r,i),this.source=e,this.noSubImage=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.crossOrigin=function(t,e,r){void 0===r&&0!==e.indexOf("data:")?t.crossOrigin=ut(e):!1!==r&&(t.crossOrigin="string"==typeof r?r:"anonymous")},e.prototype.upload=function(t,e,r,i){var n=t.gl,o=e.realWidth,s=e.realHeight;return i=i||this.source,n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),this.noSubImage||e.target!==n.TEXTURE_2D||r.width!==o||r.height!==s?(r.width=o,r.height=s,n.texImage2D(e.target,0,e.format,e.format,e.type,i)):n.texSubImage2D(n.TEXTURE_2D,0,0,0,e.format,e.type,i),!0},e.prototype.update=function(){if(!this.destroyed){var e=this.source.naturalWidth||this.source.videoWidth||this.source.width,r=this.source.naturalHeight||this.source.videoHeight||this.source.height;this.resize(e,r),t.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}($t),re=function(t){function e(e,r){if(r=r||{},!(e instanceof HTMLImageElement)){var i=new Image;t.crossOrigin(i,e,r.crossorigin),i.src=e,e=i}t.call(this,e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(void 0!==r.createBitmap?r.createBitmap:l.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,this.premultiplyAlpha=!1!==r.premultiplyAlpha,this.bitmap=null,this._load=null,!1!==r.autoLoad&&this.load()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(t){var e=this;return void 0!==t&&(this.createBitmap=t),this._load?this._load:(this._load=new Promise((function(t){e.url=e.source.src;var r=e.source,i=function(){e.destroyed||(r.onload=null,r.onerror=null,e.resize(r.width,r.height),e._load=null,e.createBitmap?t(e.process()):t(e))};r.complete&&r.src?i():(r.onload=i,r.onerror=function(t){return e.onError.run(t)})})),this._load)},e.prototype.process=function(){var t=this;return null!==this._process?this._process:null===this.bitmap&&window.createImageBitmap?(this._process=window.createImageBitmap(this.source,0,0,this.source.width,this.source.height,{premultiplyAlpha:this.premultiplyAlpha?"premultiply":"none"}).then((function(e){return t.destroyed?Promise.reject():(t.bitmap=e,t.update(),t._process=null,Promise.resolve(t))})),this._process):Promise.resolve(this)},e.prototype.upload=function(e,r,i){if(r.premultiplyAlpha=this.premultiplyAlpha,!this.createBitmap)return t.prototype.upload.call(this,e,r,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,e,r,i,this.bitmap),!this.preserveBitmap){var n=!0;for(var o in r._glTextures){var s=r._glTextures[o];if(s!==i&&s.dirtyId!==r.dirtyId){n=!1;break}}n&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e}(ee),ie=[];function ne(t,e){if(!t)return null;var r="";if("string"==typeof t){var i=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);i&&(r=i[1].toLowerCase())}for(var n=ie.length-1;n>=0;--n){var o=ie[n];if(o.test&&o.test(t,r))return new o(t,e)}return new re(t,e)}var oe=function(t){function e(e,r){var i=r||{},n=i.width,o=i.height;if(!n||!o)throw new Error("BufferResource width or height invalid");t.call(this,n,o),this.data=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.upload=function(t,e,r){var i=t.gl;return i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),r.width===e.width&&r.height===e.height?i.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(r.width=e.width,r.height=e.height,i.texImage2D(e.target,0,r.internalFormat,e.width,e.height,0,e.format,r.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array},e}($t),se={scaleMode:E.NEAREST,format:b.RGBA,premultiplyAlpha:!1},ae=function(t){function e(e,r){void 0===e&&(e=null),void 0===r&&(r=null),t.call(this);var i=(r=r||{}).premultiplyAlpha,n=r.mipmap,o=r.anisotropicLevel,s=r.scaleMode,a=r.width,h=r.height,u=r.wrapMode,c=r.format,d=r.type,p=r.target,f=r.resolution,v=r.resourceOptions;!e||e instanceof $t||((e=ne(e,v)).internal=!0),this.width=a||0,this.height=h||0,this.resolution=f||l.RESOLUTION,this.mipmap=void 0!==n?n:l.MIPMAP_TEXTURES,this.anisotropicLevel=void 0!==o?o:l.ANISOTROPIC_LEVEL,this.wrapMode=u||l.WRAP_MODE,this.scaleMode=void 0!==s?s:l.SCALE_MODE,this.format=c||b.RGBA,this.type=d||w.UNSIGNED_BYTE,this.target=p||T.TEXTURE_2D,this.premultiplyAlpha=!1!==i,this.uid=W(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=a>0&&h>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this.setResource(e)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={realWidth:{configurable:!0},realHeight:{configurable:!0}};return r.realWidth.get=function(){return Math.ceil(this.width*this.resolution-1e-4)},r.realHeight.get=function(){return Math.ceil(this.height*this.resolution-1e-4)},e.prototype.setStyle=function(t,e){var r;return void 0!==t&&t!==this.scaleMode&&(this.scaleMode=t,r=!0),void 0!==e&&e!==this.mipmap&&(this.mipmap=e,r=!0),r&&this.dirtyStyleId++,this},e.prototype.setSize=function(t,e,r){return this.resolution=r||this.resolution,this.width=t,this.height=e,this._refreshPOT(),this.update(),this},e.prototype.setRealSize=function(t,e,r){return this.resolution=r||this.resolution,this.width=t/this.resolution,this.height=e/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=K(this.realWidth)&&K(this.realHeight)},e.prototype.setResolution=function(t){var e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=this.width*e/t,this.height=this.height*e/t,this.emit("update",this)),this._refreshPOT(),this)},e.prototype.setResource=function(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(t){this.emit("error",this,t)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete tt[this.cacheId],delete $[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.from=function(t,r){var i=null;"string"==typeof t?i=t:(t._pixiId||(t._pixiId="pixiid_"+W()),i=t._pixiId);var n=tt[i];return n||((n=new e(t,r)).cacheId=i,e.addToCache(n,i)),n},e.fromBuffer=function(t,r,i,n){t=t||new Float32Array(r*i*4);var o=new oe(t,{width:r,height:i}),s=t instanceof Float32Array?w.FLOAT:w.UNSIGNED_BYTE;return new e(o,Object.assign(se,n||{width:r,height:i,type:s}))},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),tt[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),tt[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=tt[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete tt[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)delete tt[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},Object.defineProperties(e.prototype,r),e}(d.a);ae._globalBatch=0;var he=function(t){function e(e,r){var i;r=r||{};var n=e;Array.isArray(e)&&(i=e,n=e.length),t.call(this,r.width,r.height),this.items=[],this.itemDirtyIds=[];for(var o=0;o<n;o++){var s=new ae;this.items.push(s),this.itemDirtyIds.push(-1)}if(this.length=n,this._load=null,i)for(var a=0;a<n;a++)this.addResourceAt(ne(i[a],r),a)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.dispose=function(){for(var t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(t,e){if(!this.items[e])throw new Error("Index "+e+" is out of bounds");return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this},e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=T.TEXTURE_2D_ARRAY;for(var r=0;r<this.length;r++)this.items[r].on("update",e.update,e)},e.prototype.unbind=function(e){t.prototype.unbind.call(this,e);for(var r=0;r<this.length;r++)this.items[r].off("update",e.update,e)},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.items.map((function(t){return t.resource})),r=e.map((function(t){return t.load()}));return this._load=Promise.all(r).then((function(){var r=e[0],i=r.width,n=r.height;return t.resize(i,n),Promise.resolve(t)})),this._load},e.prototype.upload=function(t,e,r){var i=this.length,n=this.itemDirtyIds,o=this.items,s=t.gl;r.dirtyId<0&&s.texImage3D(s.TEXTURE_2D_ARRAY,0,e.format,this._width,this._height,i,0,e.format,e.type,null);for(var a=0;a<i;a++){var h=o[a];n[a]<h.dirtyId&&(n[a]=h.dirtyId,h.valid&&s.texSubImage3D(s.TEXTURE_2D_ARRAY,0,0,0,a,h.resource.width,h.resource.height,1,e.format,e.type,h.resource.source))}return!0},e}($t),ue=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.test=function(t){var e=window.OffscreenCanvas;return!!(e&&t instanceof e)||t instanceof HTMLCanvasElement},e}(ee),le=function(t){function e(r,i){if(i=i||{},t.call(this,r,i),this.length!==e.SIDES)throw new Error("Invalid length. Got "+this.length+", expected 6");for(var n=0;n<e.SIDES;n++)this.items[n].target=T.TEXTURE_CUBE_MAP_POSITIVE_X+n;!1!==i.autoLoad&&this.load()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=T.TEXTURE_CUBE_MAP},e.prototype.upload=function(t,r,i){for(var n=this.itemDirtyIds,o=0;o<e.SIDES;o++){var s=this.items[o];n[o]<s.dirtyId&&(n[o]=s.dirtyId,s.valid&&s.resource.upload(t,s,i))}return!0},e}(he);le.SIDES=6;var ce=function(t){function e(e,r){r=r||{},t.call(this,document.createElement("canvas")),this._width=0,this._height=0,this.svg=e,this.scale=r.scale||1,this._overrideWidth=r.width,this._overrideHeight=r.height,this._resolve=null,this._crossorigin=r.crossorigin,this._load=null,!1!==r.autoLoad&&this.load()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;return this._load?this._load:(this._load=new Promise((function(e){if(t._resolve=function(){t.resize(t.source.width,t.source.height),e(t)},/^\<svg/.test(t.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");t.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(t.svg)))}t._loadSvg()})),this._load)},e.prototype._loadSvg=function(){var e=this,r=new Image;t.crossOrigin(r,this.svg,this._crossorigin),r.src=this.svg,r.onerror=function(t){r.onerror=null,e.onError.run(t)},r.onload=function(){var t=r.width,i=r.height;if(!t||!i)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var n=t*e.scale,o=i*e.scale;(e._overrideWidth||e._overrideHeight)&&(n=e._overrideWidth||e._overrideHeight/i*t,o=e._overrideHeight||e._overrideWidth/t*i),n=Math.round(n),o=Math.round(o);var s=e.source;s.width=n,s.height=o,s._pixiId="canvas_"+W(),s.getContext("2d").drawImage(r,0,0,t,i,0,0,n,o),e._resolve(),e._resolve=null}},e.getSize=function(t){var r=e.SVG_SIZE.exec(t),i={};return r&&(i[r[1]]=Math.round(parseFloat(r[3])),i[r[5]]=Math.round(parseFloat(r[7]))),i},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(t,e){return"svg"===e||"string"==typeof t&&0===t.indexOf("data:image/svg+xml;base64")||"string"==typeof t&&0===t.indexOf("<svg")},e}(ee);ce.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;var de=function(t){function e(e,r){if(r=r||{},!(e instanceof HTMLVideoElement)){var i=document.createElement("video");i.setAttribute("preload","auto"),i.setAttribute("webkit-playsinline",""),i.setAttribute("playsinline",""),"string"==typeof e&&(e=[e]),t.crossOrigin(i,e[0].src||e[0],r.crossorigin);for(var n=0;n<e.length;++n){var o=document.createElement("source"),s=e[n],a=s.src,h=s.mime,u=(a=a||e[n]).split("?").shift().toLowerCase(),l=u.substr(u.lastIndexOf(".")+1);h=h||"video/"+l,o.src=a,o.type=h,i.appendChild(o)}e=i}t.call(this,e),this.noSubImage=!0,this._autoUpdate=!0,this._isAutoUpdating=!1,this._updateFPS=r.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=!1!==r.autoPlay,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),!1!==r.autoLoad&&this.load()}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={autoUpdate:{configurable:!0},updateFPS:{configurable:!0}};return e.prototype.update=function(e){if(void 0===e&&(e=0),!this.destroyed){var r=Zt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this,e),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart.bind(this)),e.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((function(r){t.valid?r(t):(t._resolve=r,e.load())})),this._load},e.prototype._onError=function(){this.source.removeEventListener("error",this._onError,!0),this.onError.run(event)},e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(Zt.shared.add(this.update,this),this._isAutoUpdating=!0)},e.prototype._onPlayStop=function(){this._isAutoUpdating&&(Zt.shared.remove(this.update,this),this._isAutoUpdating=!1)},e.prototype._onCanPlay=function(){var t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);var e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()},e.prototype.dispose=function(){this._isAutoUpdating&&Zt.shared.remove(this.update,this),this.source&&(this.source.removeEventListener("error",this._onError,!0),this.source.pause(),this.source.src="",this.source.load()),t.prototype.dispose.call(this)},r.autoUpdate.get=function(){return this._autoUpdate},r.autoUpdate.set=function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isAutoUpdating?(Zt.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(Zt.shared.add(this.update,this),this._isAutoUpdating=!0))},r.updateFPS.get=function(){return this._updateFPS},r.updateFPS.set=function(t){t!==this._updateFPS&&(this._updateFPS=t)},e.test=function(t,r){return t instanceof HTMLVideoElement||e.TYPES.indexOf(r)>-1},Object.defineProperties(e.prototype,r),e}(ee);de.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];var pe=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.test=function(t){return!!window.createImageBitmap&&t instanceof ImageBitmap},e}(ee);ie.push(re,pe,ue,de,ce,oe,le,he);var fe={INSTALLED:ie,autoDetectResource:ne,ArrayResource:he,BufferResource:oe,CanvasResource:ue,CubeResource:le,ImageResource:re,ImageBitmapResource:pe,SVGResource:ce,VideoResource:de,Resource:$t,BaseImageResource:ee},ve=function(t){this.renderer=t};ve.prototype.destroy=function(){this.renderer=null};var ge=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.upload=function(t,e,r){var i=t.gl;return i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),r.width===e.width&&r.height===e.height?i.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(r.width=e.width,r.height=e.height,i.texImage2D(e.target,0,i.DEPTH_COMPONENT16,e.width,e.height,0,e.format,e.type,this.data)),!0},e}(oe),me=function(t,e){this.width=Math.ceil(t||100),this.height=Math.ceil(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Vt("disposeFramebuffer",2)},ye={colorTexture:{configurable:!0}};ye.colorTexture.get=function(){return this.colorTextures[0]},me.prototype.addColorTexture=function(t,e){return void 0===t&&(t=0),this.colorTextures[t]=e||new ae(null,{scaleMode:0,resolution:1,mipmap:!1,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},me.prototype.addDepthTexture=function(t){return this.depthTexture=t||new ae(new ge(null,{width:this.width,height:this.height}),{scaleMode:0,resolution:1,width:this.width,height:this.height,mipmap:!1,format:b.DEPTH_COMPONENT,type:w.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},me.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},me.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},me.prototype.resize=function(t,e){if(t=Math.ceil(t),e=Math.ceil(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var r=0;r<this.colorTextures.length;r++){var i=this.colorTextures[r],n=i.resolution;i.setSize(t/n,e/n)}if(this.depthTexture){var o=this.depthTexture.resolution;this.depthTexture.setSize(t/o,e/o)}}},me.prototype.dispose=function(){this.disposeRunner.run(this,!1)},Object.defineProperties(me.prototype,ye);var _e=function(t){function e(e){"number"==typeof e&&(e={width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]});t.call(this,null,e);var r=e||{},i=r.width,n=r.height;this.mipmap=!1,this.width=Math.ceil(i)||100,this.height=Math.ceil(n)||100,this.valid=!0,this._canvasRenderTarget=null,this.clearColor=[0,0,0,0],this.framebuffer=new me(this.width*this.resolution,this.height*this.resolution).addColorTexture(0,this),this.stencilMaskStack=[],this.filterStack=[{}]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),this.framebuffer.resize(t*this.resolution,e*this.resolution)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this,!0),this.framebuffer=null},e}(ae),xe=function(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)};xe.prototype.set=function(t,e,r){var i=e.width,n=e.height;if(r){var o=t.width/2/i,s=t.height/2/n,a=t.x/i+o,h=t.y/n+s;r=Ot.add(r,Ot.NW),this.x0=a+o*Ot.uX(r),this.y0=h+s*Ot.uY(r),r=Ot.add(r,2),this.x1=a+o*Ot.uX(r),this.y1=h+s*Ot.uY(r),r=Ot.add(r,2),this.x2=a+o*Ot.uX(r),this.y2=h+s*Ot.uY(r),r=Ot.add(r,2),this.x3=a+o*Ot.uX(r),this.y3=h+s*Ot.uY(r)}else this.x0=t.x/i,this.y0=t.y/n,this.x1=(t.x+t.width)/i,this.y1=t.y/n,this.x2=(t.x+t.width)/i,this.y2=(t.y+t.height)/n,this.x3=t.x/i,this.y3=(t.y+t.height)/n;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3};var be=new xe,Te=function(t){function e(r,i,n,o,s,a){if(t.call(this),this.noFrame=!1,i||(this.noFrame=!0,i=new Dt(0,0,1,1)),r instanceof e&&(r=r.baseTexture),this.baseTexture=r,this._frame=i,this.trim=o,this.valid=!1,this.requiresUpdate=!1,this._uvs=be,this.uvMatrix=null,this.orig=n||i,this._rotate=Number(s||0),!0===s)this._rotate=2;else if(this._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=a?new pt(a.x,a.y):new pt(0,0),this._updateID=0,this.textureCacheIds=[],r.valid?this.noFrame?r.valid&&this.onBaseTextureUpdated(r):this.frame=i:r.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&r.on("update",this.onBaseTextureUpdated,this)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={resolution:{configurable:!0},frame:{configurable:!0},rotate:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};return e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(t){if(this.baseTexture){if(t){var r=this.baseTexture.resource;r&&$[r.url]&&e.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame,this.orig,this.trim,this.rotate,this.defaultAnchor)},e.prototype.updateUvs=function(){this._uvs===be&&(this._uvs=new xe),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(t,r){void 0===r&&(r={});var i=null;"string"==typeof t?i=t:(t._pixiId||(t._pixiId="pixiid_"+W()),i=t._pixiId);var n=$[i];return n||(r.resolution||(r.resolution=lt(t)),(n=new e(new ae(t,r))).baseTexture.cacheId=i,ae.addToCache(n.baseTexture,i),e.addToCache(n,i)),n},e.fromBuffer=function(t,r,i,n){return new e(ae.fromBuffer(t,r,i,n))},e.fromLoader=function(t,r,i){var n=new re(t);n.url=r;var o=new e(new ae(n,{scaleMode:l.SCALE_MODE,resolution:lt(r)}));return i||(i=r),ae.addToCache(o.baseTexture,i),e.addToCache(o,i),i!==r&&(ae.addToCache(o.baseTexture,r),e.addToCache(o,r)),o},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),$[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),$[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=$[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete $[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)$[t.textureCacheIds[i]]===t&&delete $[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},r.resolution.get=function(){return this.baseTexture.resolution},r.frame.get=function(){return this._frame},r.frame.set=function(t){this._frame=t,this.noFrame=!1;var e=t.x,r=t.y,i=t.width,n=t.height,o=e+i>this.baseTexture.width,s=r+n>this.baseTexture.height;if(o||s){var a=o&&s?"and":"or",h="X: "+e+" + "+i+" = "+(e+i)+" > "+this.baseTexture.width,u="Y: "+r+" + "+n+" = "+(r+n)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+h+" "+a+" "+u)}this.valid=i&&n&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=t),this.valid&&this.updateUvs()},r.rotate.get=function(){return this._rotate},r.rotate.set=function(t){this._rotate=t,this.valid&&this.updateUvs()},r.width.get=function(){return this.orig.width},r.height.get=function(){return this.orig.height},Object.defineProperties(e.prototype,r),e}(d.a);function we(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}Te.EMPTY=new Te(new ae),we(Te.EMPTY),we(Te.EMPTY.baseTexture),Te.WHITE=function(){var t=document.createElement("canvas");t.width=16,t.height=16;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,16,16),new Te(new ae(new ue(t)))}(),we(Te.WHITE),we(Te.WHITE.baseTexture);var Ee=function(t){function e(e,r){var i=null;if(!(e instanceof _e)){var n=arguments[1],o=arguments[2],s=arguments[3],a=arguments[4];console.warn("Please use RenderTexture.create("+n+", "+o+") instead of the ctor directly."),i=arguments[0],r=null,e=new _e({width:n,height:o,scaleMode:s,resolution:a})}t.call(this,e,r),this.legacyRenderer=i,this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.resize=function(t,e,r){void 0===r&&(r=!0),t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,r&&this.baseTexture.resize(t,e),this.updateUvs()},e.prototype.setResolution=function(t){var e=this.baseTexture;e.resolution!==t&&(e.setResolution(t),this.resize(e.width,e.height,!1))},e.create=function(t){return"number"==typeof t&&(t={width:t,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new e(new _e(t))},e}(Te),Se=function(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0};Se.prototype.createTexture=function(t,e){var r=new _e(Object.assign({width:t,height:e,resolution:1},this.textureOptions));return new Ee(r)},Se.prototype.getOptimalTexture=function(t,e,r){void 0===r&&(r=1);var i=Se.SCREEN_KEY;t*=r,e*=r,this.enableFullScreen&&t===this._pixelsWidth&&e===this._pixelsHeight||(i=(65535&(t=Z(t)))<<16|65535&(e=Z(e))),this.texturePool[i]||(this.texturePool[i]=[]);var n=this.texturePool[i].pop();return n||(n=this.createTexture(t,e)),n.filterPoolKey=i,n.setResolution(r),n},Se.prototype.getFilterTexture=function(t,e){var r=this.getOptimalTexture(t.width,t.height,e||t.resolution);return r.filterFrame=t.filterFrame,r},Se.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},Se.prototype.returnFilterTexture=function(t){this.returnTexture(t)},Se.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var r=this.texturePool[e];if(r)for(var i=0;i<r.length;i++)r[i].destroy(!0)}this.texturePool={}},Se.prototype.setScreenSize=function(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){var e=Se.SCREEN_KEY,r=this.texturePool[e];if(this.enableFullScreen=t.width>0&&t.height>0,r)for(var i=0;i<r.length;i++)r[i].destroy(!0);this.texturePool[e]=[],this._pixelsWidth=t.width,this._pixelsHeight=t.height}},Se.SCREEN_KEY="screen";var Ie=function(t,e,r,i,n,o,s){void 0===r&&(r=!1),void 0===i&&(i=5126),this.buffer=t,this.size=e,this.normalized=r,this.type=i,this.stride=n,this.start=o,this.instance=s};Ie.prototype.destroy=function(){this.buffer=null},Ie.from=function(t,e,r,i,n){return new Ie(t,e,r,i,n)};var Pe=0,Ae=function(t,e,r){void 0===e&&(e=!0),void 0===r&&(r=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=e,this.id=Pe++,this.disposeRunner=new Vt("disposeBuffer",2)};function Oe(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}Ae.prototype.update=function(t){this.data=t||this.data,this._updateID++},Ae.prototype.dispose=function(){this.disposeRunner.run(this,!1)},Ae.prototype.destroy=function(){this.dispose(),this.data=null},Ae.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new Ae(t)};var Ce={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};var Me={5126:4,5123:2,5121:1},De=0,Re={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},Fe=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=De++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Vt("disposeGeometry",2),this.refCount=0};Fe.prototype.addAttribute=function(t,e,r,i,n,o,s,a){if(void 0===i&&(i=!1),void 0===a&&(a=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e.data||(e instanceof Array&&(e=new Float32Array(e)),e=new Ae(e));var h=t.split("|");if(h.length>1){for(var u=0;u<h.length;u++)this.addAttribute(h[u],e,r,i,n);return this}var l=this.buffers.indexOf(e);return-1===l&&(this.buffers.push(e),l=this.buffers.length-1),this.attributes[t]=new Ie(l,r,i,n,o,s,a),this.instanced=this.instanced||a,this},Fe.prototype.getAttribute=function(t){return this.attributes[t]},Fe.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},Fe.prototype.addIndex=function(t){return t.data||(t instanceof Array&&(t=new Uint16Array(t)),t=new Ae(t)),t.index=!0,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},Fe.prototype.getIndex=function(){return this.indexBuffer},Fe.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var t,e=[],r=[],i=new Ae;for(t in this.attributes){var n=this.attributes[t],o=this.buffers[n.buffer];e.push(o.data),r.push(n.size*Me[n.type]/4),n.buffer=0}for(i.data=function(t,e){for(var r=0,i=0,n={},o=0;o<t.length;o++)i+=e[o],r+=t[o].length;for(var s=new ArrayBuffer(4*r),a=null,h=0,u=0;u<t.length;u++){var l=e[u],c=t[u],d=Oe(c);n[d]||(n[d]=new Ce[d](s)),a=n[d];for(var p=0;p<c.length;p++){a[(p/l|0)*i+h+p%l]=c[p]}h+=l}return new Float32Array(s)}(e,r),t=0;t<this.buffers.length;t++)this.buffers[t]!==this.indexBuffer&&this.buffers[t].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},Fe.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},Fe.prototype.dispose=function(){this.disposeRunner.run(this,!1)},Fe.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer.destroy(),this.attributes=null},Fe.prototype.clone=function(){for(var t=new Fe,e=0;e<this.buffers.length;e++)t.buffers[e]=new Ae(this.buffers[e].data.slice());for(var r in this.attributes){var i=this.attributes[r];t.attributes[r]=new Ie(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.index=!0),t},Fe.merge=function(t){for(var e,r=new Fe,i=[],n=[],o=[],s=0;s<t.length;s++){e=t[s];for(var a=0;a<e.buffers.length;a++)n[a]=n[a]||0,n[a]+=e.buffers[a].data.length,o[a]=0}for(var h=0;h<e.buffers.length;h++)i[h]=new(Re[Oe(e.buffers[h].data)])(n[h]),r.buffers[h]=new Ae(i[h]);for(var u=0;u<t.length;u++){e=t[u];for(var l=0;l<e.buffers.length;l++)i[l].set(e.buffers[l].data,o[l]),o[l]+=e.buffers[l].data.length}if(r.attributes=e.attributes,e.indexBuffer){r.indexBuffer=r.buffers[e.buffers.indexOf(e.indexBuffer)],r.indexBuffer.index=!0;for(var c=0,d=0,p=0,f=0,v=0;v<e.buffers.length;v++)if(e.buffers[v]!==e.indexBuffer){f=v;break}for(var g in e.attributes){var m=e.attributes[g];(0|m.buffer)===f&&(d+=m.size*Me[m.type]/4)}for(var y=0;y<t.length;y++){for(var _=t[y].indexBuffer.data,x=0;x<_.length;x++)r.indexBuffer.data[x+p]+=c;c+=e.buffers[f].data.length/d,p+=_.length}}return r};var Le=function(t){function e(){t.call(this),this.addAttribute("aVertexPosition",[0,0,1,0,1,1,0,1]).addIndex([0,1,3,2])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Fe),Ne=function(t){function e(){t.call(this),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new Ae(this.vertices),this.uvBuffer=new Ae(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(t,e){var r=0,i=0;return this.uvs[0]=r,this.uvs[1]=i,this.uvs[2]=r+e.width/t.width,this.uvs[3]=i,this.uvs[4]=r+e.width/t.width,this.uvs[5]=i+e.height/t.height,this.uvs[6]=r,this.uvs[7]=i+e.height/t.height,r=e.x,i=e.y,this.vertices[0]=r,this.vertices[1]=i,this.vertices[2]=r+e.width,this.vertices[3]=i,this.vertices[4]=r+e.width,this.vertices[5]=i+e.height,this.vertices[6]=r,this.vertices[7]=i+e.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(Fe),Be=0,Ue=function(t,e){this.uniforms=t,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Be++,this.static=!!e};Ue.prototype.update=function(){this.dirtyId++},Ue.prototype.add=function(t,e,r){this.uniforms[t]=new Ue(e,r)},Ue.from=function(t,e){return new Ue(t,e)};var ke=function(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new Dt,this.destinationFrame=new Dt,this.filters=[]};ke.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null};var Xe=function(t){function e(e){t.call(this,e),this.defaultFilterStack=[{}],this.texturePool=new Se,this.texturePool.setScreenSize(e.view),this.statePool=[],this.quad=new Le,this.quadUv=new Ne,this.tempRect=new Dt,this.activeState={},this.globalUniforms=new Ue({outputFrame:this.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this._pixelsWidth=e.view.width,this._pixelsHeight=e.view.height}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e){for(var r=this.renderer,i=this.defaultFilterStack,n=this.statePool.pop()||new ke,o=e[0].resolution,s=e[0].padding,a=e[0].autoFit,h=e[0].legacy,u=1;u<e.length;u++){var l=e[u];o=Math.min(o,l.resolution),s=Math.max(s,l.padding),a=a||l.autoFit,h=h||l.legacy}1===i.length&&(this.defaultFilterStack[0].renderTexture=r.renderTexture.current),i.push(n),n.resolution=o,n.legacy=h,n.target=t,n.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),n.sourceFrame.pad(s),a&&n.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),n.sourceFrame.ceil(o),n.renderTexture=this.getOptimalFilterTexture(n.sourceFrame.width,n.sourceFrame.height,o),n.filters=e,n.destinationFrame.width=n.renderTexture.width,n.destinationFrame.height=n.renderTexture.height,n.renderTexture.filterFrame=n.sourceFrame,r.renderTexture.bind(n.renderTexture,n.sourceFrame),r.renderTexture.clear()},e.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),r=e.filters;this.activeState=e;var i=this.globalUniforms.uniforms;i.outputFrame=e.sourceFrame,i.resolution=e.resolution;var n=i.inputSize,o=i.inputPixel,s=i.inputClamp;if(n[0]=e.destinationFrame.width,n[1]=e.destinationFrame.height,n[2]=1/n[0],n[3]=1/n[1],o[0]=n[0]*e.resolution,o[1]=n[1]*e.resolution,o[2]=1/o[0],o[3]=1/o[1],s[0]=.5*o[2],s[1]=.5*o[3],s[2]=e.sourceFrame.width*n[2]-.5*o[2],s[3]=e.sourceFrame.height*n[3]-.5*o[3],e.legacy){var a=i.filterArea;a[0]=e.destinationFrame.width,a[1]=e.destinationFrame.height,a[2]=e.sourceFrame.x,a[3]=e.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();var h=t[t.length-1];if(1===r.length)r[0].apply(this,e.renderTexture,h.renderTexture,!1,e),this.returnFilterTexture(e.renderTexture);else{var u=e.renderTexture,l=this.getOptimalFilterTexture(u.width,u.height,e.resolution);l.filterFrame=u.filterFrame;var c=0;for(c=0;c<r.length-1;++c){r[c].apply(this,u,l,!0,e);var d=u;u=l,l=d}r[c].apply(this,u,h.renderTexture,!1,e),this.returnFilterTexture(u),this.returnFilterTexture(l)}e.clear(),this.statePool.push(e)},e.prototype.applyFilter=function(t,e,r,i){var n=this.renderer;n.renderTexture.bind(r,r?r.filterFrame:null),i&&n.renderTexture.clear(),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,n.state.set(t.state),n.shader.bind(t),t.legacy?(this.quadUv.map(e._frame,e.filterFrame),n.geometry.bind(this.quadUv),n.geometry.draw(x.TRIANGLES)):(n.geometry.bind(this.quad),n.geometry.draw(x.TRIANGLE_STRIP))},e.prototype.calculateSpriteMatrix=function(t,e){var r=this.activeState,i=r.sourceFrame,n=r.destinationFrame,o=e._texture.orig,s=t.set(n.width,0,0,n.height,i.x,i.y),a=e.worldTransform.copyTo(xt.TEMP_MATRIX);return a.invert(),s.prepend(a),s.scale(1/o.width,1/o.height),s.translate(e.anchor.x,e.anchor.y),s},e.prototype.destroy=function(){this.texturePool.clear(!1)},e.prototype.getOptimalFilterTexture=function(t,e,r){return void 0===r&&(r=1),this.texturePool.getOptimalTexture(t,e,r)},e.prototype.getFilterTexture=function(t,e){if("number"==typeof t){var r=t;t=e,e=r}t=t||this.activeState.renderTexture;var i=this.texturePool.getOptimalTexture(t.width,t.height,e||t.resolution);return i.filterFrame=t.filterFrame,i},e.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},e.prototype.emptyPool=function(){this.texturePool.clear(!0)},e.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},e}(ve),je=function(t){this.renderer=t};je.prototype.flush=function(){},je.prototype.destroy=function(){this.renderer=null},je.prototype.start=function(){},je.prototype.stop=function(){this.flush()},je.prototype.render=function(t){};var Ge=function(t){function e(e){t.call(this,e),this.emptyRenderer=new je(e),this.currentRenderer=this.emptyRenderer}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},e}(ve);l.PREFER_ENV=u.a.any?m.WEBGL:m.WEBGL2;var He=0,ze=function(t){function e(e){t.call(this,e),this.webGLVersion=1,this.extensions={},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),e.view.addEventListener("webglcontextlost",this.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={isLost:{configurable:!0}};return r.isLost.get=function(){return!this.gl||this.gl.isContextLost()},e.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=He++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},e.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=He++,this.renderer.runners.contextChange.run(t)},e.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},e.prototype.createContext=function(t,e){var r;if(l.PREFER_ENV>=m.WEBGL2&&(r=t.getContext("webgl2",e)),r)this.webGLVersion=2;else if(this.webGLVersion=1,!(r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),r},e.prototype.getExtensions=function(){var t=this.gl;1===this.webGLVersion?Object.assign(this.extensions,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBKIT_WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,{anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:t.getExtension("EXT_color_buffer_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear")})},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.run(this.gl)},e.prototype.destroy=function(){var t=this.renderer.view;t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},e.prototype.postrender=function(){this.gl.flush()},e.prototype.validateContext=function(t){t.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")},Object.defineProperties(e.prototype,r),e}(ve),Ve=function(t){function e(e){t.call(this,e),this.managedFramebuffers=[],this.unknownFramebuffer=new me(10,10)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={size:{configurable:!0}};return e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Dt,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var e=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;l.PREFER_ENV===m.WEBGL_LEGACY&&(e=null,r=null),e?t.drawBuffers=function(t){return e.drawBuffersWEBGL(t)}:(this.hasMRT=!1,t.drawBuffers=function(){}),r||(this.writeDepthTexture=!1)}},e.prototype.bind=function(t,e){var r=this.gl;if(t){var i=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,r.bindFramebuffer(r.FRAMEBUFFER,i.framebuffer)),i.dirtyId!==t.dirtyId&&(i.dirtyId=t.dirtyId,i.dirtyFormat!==t.dirtyFormat?(i.dirtyFormat=t.dirtyFormat,this.updateFramebuffer(t)):i.dirtySize!==t.dirtySize&&(i.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var n=0;n<t.colorTextures.length;n++)t.colorTextures[n].texturePart?this.renderer.texture.unbind(t.colorTextures[n].texture):this.renderer.texture.unbind(t.colorTextures[n]);t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,t.width,t.height)}else this.current&&(this.current=null,r.bindFramebuffer(r.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},e.prototype.setViewport=function(t,e,r,i){var n=this.viewport;n.width===r&&n.height===i&&n.x===t&&n.y===e||(n.x=t,n.y=e,n.width=r,n.height=i,this.gl.viewport(t,e,r,i))},r.size.get=function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},e.prototype.clear=function(t,e,r,i){var n=this.gl;n.clearColor(t,e,r,i),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT)},e.prototype.initFramebuffer=function(t){var e={framebuffer:this.gl.createFramebuffer(),stencil:null,dirtyId:0,dirtyFormat:0,dirtySize:0};return t.glFramebuffers[this.CONTEXT_UID]=e,this.managedFramebuffers.push(t),t.disposeRunner.add(this),e},e.prototype.resizeFramebuffer=function(t){var e=this.gl,r=t.glFramebuffers[this.CONTEXT_UID];r.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,r.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));for(var i=t.colorTextures,n=0;n<i.length;n++)this.renderer.texture.bind(i[n],0);t.depthTexture&&this.renderer.texture.bind(t.depthTexture,0)},e.prototype.updateFramebuffer=function(t){var e=this.gl,r=t.glFramebuffers[this.CONTEXT_UID],i=t.colorTextures.length;e.drawBuffers||(i=Math.min(i,1));for(var n=[],o=0;o<i;o++){var s=t.colorTextures[o];s.texturePart?(this.renderer.texture.bind(s.texture,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+o,e.TEXTURE_CUBE_MAP_NEGATIVE_X+s.side,s.texture._glTextures[this.CONTEXT_UID].texture,0)):(this.renderer.texture.bind(s,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+o,e.TEXTURE_2D,s._glTextures[this.CONTEXT_UID].texture,0)),n.push(e.COLOR_ATTACHMENT0+o)}if((n.length>1&&e.drawBuffers(n),t.depthTexture)&&this.writeDepthTexture){var a=t.depthTexture;this.renderer.texture.bind(a,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,a._glTextures[this.CONTEXT_UID].texture,0)}r.stencil||!t.stencil&&!t.depth||(r.stencil=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,r.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height),t.depthTexture||e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,r.stencil))},e.prototype.disposeFramebuffer=function(t,e){var r=t.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(r){delete t.glFramebuffers[this.CONTEXT_UID];var n=this.managedFramebuffers.indexOf(t);n>=0&&this.managedFramebuffers.splice(n,1),t.disposeRunner.remove(this),e||(i.deleteFramebuffer(r.framebuffer),r.stencil&&i.deleteRenderbuffer(r.stencil))}},e.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var r=0;r<e.length;r++)this.disposeFramebuffer(e[r],t)},e.prototype.forceStencil=function(){var t=this.current;if(t){var e=t.glFramebuffers[this.CONTEXT_UID];if(e&&!e.stencil){t.enableStencil();var r=t.width,i=t.height,n=this.gl,o=n.createRenderbuffer();n.bindRenderbuffer(n.RENDERBUFFER,o),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,r,i),e.stencil=o,n.framebufferRenderbuffer(n.FRAMEBUFFER,n.STENCIL_ATTACHMENT,n.RENDERBUFFER,o),n.bindFramebuffer(n.FRAMEBUFFER,e.framebuffer)}}},e.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Dt},Object.defineProperties(e.prototype,r),e}(ve),Ye=function(t){this.buffer=t,this.updateID=-1,this.byteLength=-1,this.refCount=0},We={5126:4,5123:2,5121:1},qe=function(t){function e(e){t.call(this,e),this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.boundBuffers={},this.managedGeometries={},this.managedBuffers={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,!t.createVertexArray){var r=this.renderer.context.extensions.vertexArrayObject;l.PREFER_ENV===m.WEBGL_LEGACY&&(r=null),r?(t.createVertexArray=function(){return r.createVertexArrayOES()},t.bindVertexArray=function(t){return r.bindVertexArrayOES(t)},t.deleteVertexArray=function(t){return r.deleteVertexArrayOES(t)}):(this.hasVao=!1,t.createVertexArray=function(){},t.bindVertexArray=function(){},t.deleteVertexArray=function(){})}if(!t.vertexAttribDivisor){var i=t.getExtension("ANGLE_instanced_arrays");i?(t.vertexAttribDivisor=function(t,e){return i.vertexAttribDivisorANGLE(t,e)},t.drawElementsInstanced=function(t,e,r,n,o){return i.drawElementsInstancedANGLE(t,e,r,n,o)},t.drawArraysInstanced=function(t,e,r,n){return i.drawArraysInstancedANGLE(t,e,r,n)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex},e.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var r=this.gl,i=t.glVertexArrayObjects[this.CONTEXT_UID];i||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=i={});var n=i[e.program.id]||this.initGeometryVao(t,e.program);this._activeGeometry=t,this._activeVao!==n&&(this._activeVao=n,this.hasVao?r.bindVertexArray(n):this.activateVao(t,e.program)),this.updateBuffers()},e.prototype.reset=function(){this.unbind()},e.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.gl,r=0;r<t.buffers.length;r++){var i=t.buffers[r],n=i._glBuffers[this.CONTEXT_UID];if(i._updateID!==n.updateID){n.updateID=i._updateID;var o=i.index?e.ELEMENT_ARRAY_BUFFER:e.ARRAY_BUFFER;if(e.bindBuffer(o,n.buffer),this._boundBuffer=n,n.byteLength>=i.data.byteLength)e.bufferSubData(o,0,i.data);else{var s=i.static?e.STATIC_DRAW:e.DYNAMIC_DRAW;n.byteLength=i.data.byteLength,e.bufferData(o,i.data,s)}}}},e.prototype.checkCompatibility=function(t,e){var r=t.attributes,i=e.attributeData;for(var n in i)if(!r[n])throw new Error('shader and geometry incompatible, geometry missing the "'+n+'" attribute')},e.prototype.getSignature=function(t,e){var r=t.attributes,i=e.attributeData,n=["g",t.id];for(var o in r)i[o]&&n.push(o);return n.join("-")},e.prototype.initGeometryVao=function(t,e){this.checkCompatibility(t,e);var r=this.gl,i=this.CONTEXT_UID,n=this.getSignature(t,e),o=t.glVertexArrayObjects[this.CONTEXT_UID],s=o[n];if(s)return o[e.id]=s,s;var a=t.buffers,h=t.attributes,u={},l={};for(var c in a)u[c]=0,l[c]=0;for(var d in h)!h[d].size&&e.attributeData[d]?h[d].size=e.attributeData[d].size:h[d].size||console.warn("PIXI Geometry attribute '"+d+"' size cannot be determined (likely the bound shader does not have the attribute)"),u[h[d].buffer]+=h[d].size*We[h[d].type];for(var p in h){var f=h[p],v=f.size;void 0===f.stride&&(u[f.buffer]===v*We[f.type]?f.stride=0:f.stride=u[f.buffer]),void 0===f.start&&(f.start=l[f.buffer],l[f.buffer]+=v*We[f.type])}s=r.createVertexArray(),r.bindVertexArray(s);for(var g=0;g<a.length;g++){var m=a[g];m._glBuffers[i]||(m._glBuffers[i]=new Ye(r.createBuffer()),this.managedBuffers[m.id]=m,m.disposeRunner.add(this)),m._glBuffers[i].refCount++}return this.activateVao(t,e),this._activeVao=s,o[e.id]=s,o[n]=s,s},e.prototype.disposeBuffer=function(t,e){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var r=t._glBuffers[this.CONTEXT_UID],i=this.gl;t.disposeRunner.remove(this),r&&(e||i.deleteBuffer(r.buffer),delete t._glBuffers[this.CONTEXT_UID])}},e.prototype.disposeGeometry=function(t,e){if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var r=t.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,n=t.buffers;if(t.disposeRunner.remove(this),r){for(var o=0;o<n.length;o++){var s=n[o]._glBuffers[this.CONTEXT_UID];s.refCount--,0!==s.refCount||e||this.disposeBuffer(n[o],e)}if(!e)for(var a in r)if("g"===a[0]){var h=r[a];this._activeVao===h&&this.unbind(),i.deleteVertexArray(h)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},e.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),r=0;r<e.length;r++)this.disposeGeometry(this.managedGeometries[e[r]],t);e=Object.keys(this.managedBuffers);for(var i=0;i<e.length;i++)this.disposeBuffer(this.managedBuffers[e[i]],t)},e.prototype.activateVao=function(t,e){var r=this.gl,i=this.CONTEXT_UID,n=t.buffers,o=t.attributes;t.indexBuffer&&r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t.indexBuffer._glBuffers[i].buffer);var s=null;for(var a in o){var h=o[a],u=n[h.buffer]._glBuffers[i];if(e.attributeData[a]){s!==u&&(r.bindBuffer(r.ARRAY_BUFFER,u.buffer),s=u);var l=e.attributeData[a].location;if(r.enableVertexAttribArray(l),r.vertexAttribPointer(l,h.size,h.type||r.FLOAT,h.normalized,h.stride,h.start),h.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");r.vertexAttribDivisor(l,1)}}}},e.prototype.draw=function(t,e,r,i){var n=this.gl,o=this._activeGeometry;if(o.indexBuffer){var s=o.indexBuffer.data.BYTES_PER_ELEMENT,a=2===s?n.UNSIGNED_SHORT:n.UNSIGNED_INT;2===s||4===s&&this.canUseUInt32ElementIndex?o.instanced?n.drawElementsInstanced(t,e||o.indexBuffer.data.length,a,(r||0)*s,i||1):n.drawElements(t,e||o.indexBuffer.data.length,a,(r||0)*s):console.warn("unsupported index buffer type: uint32")}else o.instanced?n.drawArraysInstanced(t,r,e||o.getSize(),i||1):n.drawArrays(t,r,e||o.getSize());return this},e.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},e}(ve);function Ze(t,e,r,i){var n=Ke(t,t.VERTEX_SHADER,e),o=Ke(t,t.FRAGMENT_SHADER,r),s=t.createProgram();if(t.attachShader(s,n),t.attachShader(s,o),i)for(var a in i)t.bindAttribLocation(s,i[a],a);return t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(s,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(s)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(s)),t.deleteProgram(s),s=null),t.deleteShader(n),t.deleteShader(o),s}function Ke(t,e,r){var i=t.createShader(e);return t.shaderSource(i,r),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS)?i:(console.warn(r),console.error(t.getShaderInfoLog(i)),null)}function Je(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return Qe(2*e);case"bvec3":return Qe(3*e);case"bvec4":return Qe(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}function Qe(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e}var $e,tr={},er=tr;function rr(){if(er===tr){var t,e=document.createElement("canvas");l.PREFER_ENV>=m.WEBGL2&&(t=e.getContext("webgl2",{})),t||((t=e.getContext("webgl",{})||e.getContext("experimental-webgl",{}))?t.getExtension("WEBGL_draw_buffers"):t=null),er=t}return er}function ir(t,e,r){if("precision"!==t.substring(0,9)){var i=e;return e===A.HIGH&&r!==A.HIGH&&(i=A.MEDIUM),"precision "+i+" float;\n"+t}return r!==A.HIGH&&"precision highp"===t.substring(0,15)?t.replace("precision highp","precision mediump"):t}var nr={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function or(t){return nr[t]}var sr=null,ar={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray"};function hr(t,e){if(!sr){var r=Object.keys(ar);sr={};for(var i=0;i<r.length;++i){var n=r[i];sr[t[n]]=ar[n]}}return sr[e]}var ur={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},lr={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};var cr,dr=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function pr(t,e){if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=e.createShader(e.FRAGMENT_SHADER);;){var i=dr.replace(/%forloop%/gi,fr(t));if(e.shaderSource(r,i),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))break;t=t/2|0}return t}function fr(t){for(var e="",r=0;r<t;++r)r>0&&(e+="\nelse "),r<t-1&&(e+="if(test == "+r+".0){}");return e}var vr=0,gr={},mr=function t(e,r,i){void 0===i&&(i="pixi-shader"),this.id=vr++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(i=i.replace(/\s+/g,"-"),gr[i]?(gr[i]++,i+="-"+gr[i]):gr[i]=1,this.vertexSrc="#define SHADER_NAME "+i+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+i+"\n"+this.fragmentSrc,this.vertexSrc=ir(this.vertexSrc,l.PRECISION_VERTEX,A.HIGH),this.fragmentSrc=ir(this.fragmentSrc,l.PRECISION_FRAGMENT,function(){if(!$e){$e=A.MEDIUM;var t=rr();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);$e=e.precision?A.HIGH:A.MEDIUM}}return $e}())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null},yr={defaultVertexSrc:{configurable:!0},defaultFragmentSrc:{configurable:!0}};mr.prototype.extractData=function(t,e){var r=rr();if(r){var i=Ze(r,t,e);this.attributeData=this.getAttributeData(i,r),this.uniformData=this.getUniformData(i,r),r.deleteProgram(i)}else this.uniformData={},this.attributeData={}},mr.prototype.getAttributeData=function(t,e){for(var r={},i=[],n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),o=0;o<n;o++){var s=e.getActiveAttrib(t,o),a=hr(e,s.type),h={type:a,name:s.name,size:or(a),location:0};r[s.name]=h,i.push(h)}i.sort((function(t,e){return t.name>e.name?1:-1}));for(var u=0;u<i.length;u++)i[u].location=u;return r},mr.prototype.getUniformData=function(t,e){for(var r={},i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),n=0;n<i;n++){var o=e.getActiveUniform(t,n),s=o.name.replace(/\[.*?\]/,""),a=o.name.match(/\[.*?\]/,""),h=hr(e,o.type);r[s]={type:h,size:o.size,isArray:a,value:Je(h,o.size)}}return r},yr.defaultVertexSrc.get=function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},yr.defaultFragmentSrc.get=function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},mr.from=function(t,e,r){var i=t+e,n=Q[i];return n||(Q[i]=n=new mr(t,e,r)),n},Object.defineProperties(mr,yr);var _r=function(t,e){for(var r in this.program=t,this.uniformGroup=e?e instanceof Ue?e:new Ue(e):new Ue({}),t.uniformData)this.uniformGroup.uniforms[r]instanceof Array&&(this.uniformGroup.uniforms[r]=new Float32Array(this.uniformGroup.uniforms[r]))},xr={uniforms:{configurable:!0}};_r.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var r in e.uniforms){var i=e.uniforms[r];if(i.group&&this.checkUniformExists(t,i))return!0}return!1},_r.prototype.destroy=function(){this.uniformGroup=null},xr.uniforms.get=function(){return this.uniformGroup.uniforms},_r.from=function(t,e,r){var i=mr.from(t,e);return new _r(i,r)},Object.defineProperties(_r.prototype,xr);var br=function(){this.data=0,this.blendMode=_.NORMAL,this.polygonOffset=0,this.blend=!0},Tr={blend:{configurable:!0},offsets:{configurable:!0},culling:{configurable:!0},depthTest:{configurable:!0},clockwiseFrontFace:{configurable:!0},blendMode:{configurable:!0},polygonOffset:{configurable:!0}};Tr.blend.get=function(){return!!(1&this.data)},Tr.blend.set=function(t){!!(1&this.data)!==t&&(this.data^=1)},Tr.offsets.get=function(){return!!(2&this.data)},Tr.offsets.set=function(t){!!(2&this.data)!==t&&(this.data^=2)},Tr.culling.get=function(){return!!(4&this.data)},Tr.culling.set=function(t){!!(4&this.data)!==t&&(this.data^=4)},Tr.depthTest.get=function(){return!!(8&this.data)},Tr.depthTest.set=function(t){!!(8&this.data)!==t&&(this.data^=8)},Tr.clockwiseFrontFace.get=function(){return!!(16&this.data)},Tr.clockwiseFrontFace.set=function(t){!!(16&this.data)!==t&&(this.data^=16)},Tr.blendMode.get=function(){return this._blendMode},Tr.blendMode.set=function(t){this.blend=t!==_.NONE,this._blendMode=t},Tr.polygonOffset.get=function(){return this._polygonOffset},Tr.polygonOffset.set=function(t){this.offsets=!!t,this._polygonOffset=t},br.for2d=function(){var t=new br;return t.depthTest=!1,t.blend=!0,t},Object.defineProperties(br.prototype,Tr);var wr=function(t){function e(r,i,n){var o=mr.from(r||e.defaultVertexSrc,i||e.defaultFragmentSrc);t.call(this,o,n),this.padding=0,this.resolution=l.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0,this.legacy=!!this.program.attributeData.aTextureCoord,this.state=new br}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={blendMode:{configurable:!0}},i={defaultVertexSrc:{configurable:!0},defaultFragmentSrc:{configurable:!0}};return e.prototype.apply=function(t,e,r,i,n){t.applyFilter(this,e,r,i,n)},r.blendMode.get=function(){return this.state.blendMode},r.blendMode.set=function(t){this.state.blendMode=t},i.defaultVertexSrc.get=function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},i.defaultFragmentSrc.get=function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},Object.defineProperties(e.prototype,r),Object.defineProperties(e,i),e}(_r);wr.SOURCE_KEY_MAP={};var Er="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",Sr="varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",Ir=new xt,Pr=function(t,e){this._texture=t,this.mapCoord=new xt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._updateID=-1,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1},Ar={texture:{configurable:!0}};Ar.texture.get=function(){return this._texture},Ar.texture.set=function(t){this._texture=t,this._updateID=-1},Pr.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var r=this.mapCoord,i=0;i<t.length;i+=2){var n=t[i],o=t[i+1];e[i]=n*r.a+o*r.c+r.tx,e[i+1]=n*r.b+o*r.d+r.ty}return e},Pr.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._updateID===e._updateID)return!1;this._updateID=e._updateID;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var i=e.orig,n=e.trim;n&&(Ir.set(i.width/n.width,0,0,i.height/n.height,-n.x/n.width,-n.y/n.height),this.mapCoord.append(Ir));var o=e.baseTexture,s=this.uClampFrame,a=this.clampMargin/o.resolution,h=this.clampOffset;return s[0]=(e._frame.x+a+h)/o.width,s[1]=(e._frame.y+a+h)/o.height,s[2]=(e._frame.x+e._frame.width-a+h)/o.width,s[3]=(e._frame.y+e._frame.height-a+h)/o.height,this.uClampOffset[0]=h/o.realWidth,this.uClampOffset[1]=h/o.realHeight,this.isSimple=e._frame.width===o.width&&e._frame.height===o.height&&0===e.rotate,!0},Object.defineProperties(Pr.prototype,Ar);var Or=function(t){function e(e){var r=new xt;t.call(this,Er,Sr),e.renderable=!1,this.maskSprite=e,this.maskMatrix=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t,e,r,i){var n=this.maskSprite,o=this.maskSprite.texture;o.valid&&(o.transform||(o.transform=new Pr(o,0)),o.transform.update(),this.uniforms.npmAlpha=o.baseTexture.premultiplyAlpha?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,n).prepend(o.transform.mapCoord),this.uniforms.alpha=n.worldAlpha,this.uniforms.maskClamp=o.transform.uClampFrame,t.applyFilter(this,e,r,i))},e}(wr),Cr=function(t){function e(e){t.call(this,e),this.scissor=!1,this.scissorData=null,this.scissorRenderTarget=null,this.enableScissor=!1,this.alphaMaskPool=[],this.alphaMaskIndex=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e){if(e.isSprite)this.pushSpriteMask(t,e);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencil.stencilMaskStack.length&&e.isFastRect()){var r=e.worldTransform,i=Math.atan2(r.b,r.a);(i=Math.round(i*(180/Math.PI)))%90?this.pushStencilMask(e):this.pushScissorMask(t,e)}else this.pushStencilMask(e)},e.prototype.pop=function(t,e){e.isSprite?this.popSpriteMask(t,e):this.enableScissor&&!this.renderer.stencil.stencilMaskStack.length?this.popScissorMask(t,e):this.popStencilMask(t,e)},e.prototype.pushSpriteMask=function(t,e){var r=this.alphaMaskPool[this.alphaMaskIndex];r||(r=this.alphaMaskPool[this.alphaMaskIndex]=[new Or(e)]),r[0].resolution=this.renderer.resolution,r[0].maskSprite=e;var i=t.filterArea;t.filterArea=e.getBounds(!0),this.renderer.filter.push(t,r),t.filterArea=i,this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},e.prototype.pushStencilMask=function(t){this.renderer.batch.flush(),this.renderer.stencil.pushStencil(t)},e.prototype.popStencilMask=function(){this.renderer.stencil.popStencil()},e.prototype.pushScissorMask=function(t,e){e.renderable=!0;var r=this.renderer._activeRenderTarget,i=e.getBounds();i.fit(r.size),e.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var n=this.renderer.resolution;this.renderer.gl.scissor(i.x*n,(r.root?r.size.height-i.y-i.height:i.y)*n,i.width*n,i.height*n),this.scissorRenderTarget=r,this.scissorData=e,this.scissor=!0},e.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var t=this.renderer.gl;t.disable(t.SCISSOR_TEST)},e}(ve),Mr=function(t){function e(e){t.call(this,e),this.stencilMaskStack=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setMaskStack=function(t){var e=this.renderer.gl,r=this.stencilMaskStack.length;this.stencilMaskStack=t,t.length!==r&&(0===t.length?e.disable(e.STENCIL_TEST):(e.enable(e.STENCIL_TEST),this._useCurrent()))},e.prototype.pushStencil=function(t){var e=this.renderer.gl,r=this.stencilMaskStack.length;0===r&&(this.renderer.framebuffer.forceStencil(),e.enable(e.STENCIL_TEST)),this.stencilMaskStack.push(t),e.colorMask(!1,!1,!1,!1),e.stencilFunc(e.EQUAL,r,this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent()},e.prototype.popStencil=function(){var t=this.renderer.gl,e=this.stencilMaskStack.pop();0===this.stencilMaskStack.length?(t.disable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.clearStencil(0)):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent())},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1},e.prototype.destroy=function(){t.prototype.destroy.call(this,this),this.stencilMaskStack=null},e}(ve),Dr=function(t){function e(e){t.call(this,e),this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new xt,this.transform=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.update=function(t,e,r,i){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,i),this.transform&&this.projectionMatrix.append(this.transform);var n=this.renderer;n.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,n.globalUniforms.update(),n.shader.shader&&n.shader.syncUniformGroup(n.shader.shader.uniforms.globals)},e.prototype.calculateProjection=function(t,e,r,i){var n=this.projectionMatrix;i?(n.a=1/t.width*2*r,n.d=-1/t.height*2*r,n.tx=-1-e.x*n.a,n.ty=1-e.y*n.d):(n.a=1/t.width*2*r,n.d=1/t.height*2*r,n.tx=-1-e.x*n.a,n.ty=-1-e.y*n.d)},e.prototype.setTransform=function(){},e}(ve),Rr=new Dt,Fr=function(t){function e(e){t.call(this,e),this.clearColor=e._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Dt,this.destinationFrame=new Dt}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(t,e,r){void 0===t&&(t=null),this.current=t;var i,n=this.renderer;if(t){var o=t.baseTexture;i=o.resolution,r||(Rr.width=o.realWidth,Rr.height=o.realHeight,r=Rr),e||(e=r),this.renderer.framebuffer.bind(o.framebuffer,r),this.renderer.projection.update(r,e,i,!1),this.renderer.stencil.setMaskStack(o.stencilMaskStack)}else i=this.renderer.resolution,r||(Rr.width=n.width,Rr.height=n.height,r=Rr),e||(e=r),n.framebuffer.bind(null,r),this.renderer.projection.update(r,e,i,!0),this.renderer.stencil.setMaskStack(this.defaultMaskStack);this.sourceFrame.copyFrom(e),this.destinationFrame.x=r.x/i,this.destinationFrame.y=r.y/i,this.destinationFrame.width=r.width/i,this.destinationFrame.height=r.height/i,e===r&&this.sourceFrame.copyFrom(this.destinationFrame)},e.prototype.clear=function(t){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor,this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3])},e.prototype.resize=function(){this.bind(null)},e.prototype.reset=function(){this.bind(null)},e}(ve),Lr=function(t,e){this.program=t,this.uniformData=e,this.uniformGroups={}};Lr.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null};var Nr=0,Br=function(t){function e(e){t.call(this,e),this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this.id=Nr++}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.systemCheck=function(){if(!function(){if("boolean"==typeof cr)return cr;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");cr=!0===t({a:"b"},"a","b")}catch(t){cr=!1}return cr}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},e.prototype.contextChange=function(t){this.gl=t,this.reset()},e.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var r=t.program,i=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(t);return this.shader=t,this.program!==r&&(this.program=r,this.gl.useProgram(i.program)),e||this.syncUniformGroup(t.uniformGroup),i},e.prototype.setUniforms=function(t){var e=this.shader.program,r=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(r.uniformData,t,this.renderer)},e.prototype.syncUniformGroup=function(t){var e=this.getglProgram();t.static&&t.dirtyId===e.uniformGroups[t.id]||(e.uniformGroups[t.id]=t.dirtyId,this.syncUniforms(t,e))},e.prototype.syncUniforms=function(t,e){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer)},e.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData);return this.cache[e]||(this.cache[e]=function(t,e){var r=0,i="var v = null;\n    var cv = null\n    var gl = renderer.gl";for(var n in t.uniforms){var o=e[n];if(o)if("float"===o.type&&1===o.size)i+="\n            if(uv."+n+" !== ud."+n+".value)\n            {\n                ud."+n+".value = uv."+n+"\n                gl.uniform1f(ud."+n+".location, uv."+n+")\n            }\n";else if("sampler2D"!==o.type&&"samplerCube"!==o.type&&"sampler2DArray"!==o.type||1!==o.size||o.isArray)if("mat3"===o.type&&1===o.size)void 0!==t.uniforms[n].a?i+="\n                gl.uniformMatrix3fv(ud."+n+".location, false, uv."+n+".toArray(true));\n                \n":i+="\n                gl.uniformMatrix3fv(ud."+n+".location, false, uv."+n+");\n                \n";else if("vec2"===o.type&&1===o.size)void 0!==t.uniforms[n].x?i+="\n                cv = ud."+n+".value;\n                v = uv."+n+";\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud."+n+".location, v.x, v.y);\n                }\n":i+="\n                cv = ud."+n+".value;\n                v = uv."+n+";\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud."+n+".location, v[0], v[1]);\n                }\n                \n";else if("vec4"===o.type&&1===o.size)void 0!==t.uniforms[n].width?i+="\n                cv = ud."+n+".value;\n                v = uv."+n+";\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud."+n+".location, v.x, v.y, v.width, v.height)\n                }\n":i+="\n                cv = ud."+n+".value;\n                v = uv."+n+";\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud."+n+".location, v[0], v[1], v[2], v[3])\n                }\n                \n";else{i+="\n            cv = ud."+n+".value;\n            v = uv."+n+";\n            "+(1===o.size?ur:lr)[o.type].replace("location","ud."+n+".location")+";\n"}else i+="\n            renderer.texture.bind(uv."+n+", "+r+");\n\n            if(ud."+n+".value !== "+r+")\n            {\n                ud."+n+".value = "+r+";\n                gl.uniform1i(ud."+n+".location, "+r+");\n; // eslint-disable-line max-len\n            }\n",r++;else t.uniforms[n].group&&(i+="\n                    renderer.shader.syncUniformGroup(uv."+n+");\n                ")}return new Function("ud","uv","renderer",i)}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},e.prototype.getSignature=function(t,e){var r=t.uniforms,i=[];for(var n in r)i.push(n),e[n]&&i.push(e[n].type);return i.join("-")},e.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},e.prototype.generateShader=function(t){var e=this.gl,r=t.program,i={};for(var n in r.attributeData)i[n]=r.attributeData[n].location;var o=Ze(e,r.vertexSrc,r.fragmentSrc,i),s={};for(var a in r.uniformData){var h=r.uniformData[a];s[a]={location:e.getUniformLocation(o,a),value:Je(h.type,h.size)}}var u=new Lr(o,s);return r.glPrograms[this.renderer.CONTEXT_UID]=u,u},e.prototype.reset=function(){this.program=null,this.shader=null},e.prototype.destroy=function(){this.destroyed=!0},e}(ve);var Ur=0,kr=1,Xr=2,jr=3,Gr=4,Hr=function(t){function e(e){t.call(this,e),this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=_.NONE,this._blendEq=!1,this.map=[],this.map[Ur]=this.setBlend,this.map[kr]=this.setOffset,this.map[Xr]=this.setCullFace,this.map[jr]=this.setDepthTest,this.map[Gr]=this.setFrontFace,this.checks=[],this.defaultState=new br,this.defaultState.blend=!0,this.defaultState.depth=!0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contextChange=function(t){this.gl=t,this.blendModes=function(t,e){return void 0===e&&(e=[]),e[_.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_.ADD]=[t.ONE,t.ONE],e[_.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_.NONE]=[0,0],e[_.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[_.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[_.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[_.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[_.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[_.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[_.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[_.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[_.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}(t),this.set(this.defaultState),this.reset()},e.prototype.set=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var e=this.stateId^t.data,r=0;e;)1&e&&this.map[r].call(this,!!(t.data&1<<r)),e>>=1,r++;this.stateId=t.data}for(var i=0;i<this.checks.length;i++)this.checks[i](this,t)},e.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(var r=0;r<this.checks.length;r++)this.checks[r](this,t);this.stateId=t.data},e.prototype.setBlend=function(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},e.prototype.setOffset=function(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},e.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},e.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},e.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},e.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t],r=this.gl;2===e.length?r.blendFunc(e[0],e[1]):r.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,r.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}},e.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},e.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(0),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},e.prototype.updateCheck=function(t,e){var r=this.checks.indexOf(t);e&&-1===r?this.checks.push(t):e||-1===r||this.checks.splice(r,1)},e.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},e.checkPolygonOffset=function(t,e){t.setPolygonOffset(e.polygonOffset,0)},e}(ve),zr=function(t){function e(e){t.call(this,e),this.count=0,this.checkCount=0,this.maxIdle=l.GC_MAX_IDLE,this.checkCountMax=l.GC_MAX_CHECK_COUNT,this.mode=l.GC_MODE}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.postrender=function(){this.count++,this.mode!==P.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},e.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,r=!1,i=0;i<e.length;i++){var n=e[i];!n.framebuffer&&this.count-n.touched>this.maxIdle&&(t.destroyTexture(n,!0),e[i]=null,r=!0)}if(r){for(var o=0,s=0;s<e.length;s++)null!==e[s]&&(e[o++]=e[s]);e.length=o}},e.prototype.unload=function(t){var e=this.renderer.textureSystem;t._texture&&t._texture._glRenderTargets&&e.destroyTexture(t._texture);for(var r=t.children.length-1;r>=0;r--)this.unload(t.children[r])},e}(ve),Vr=function(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121},Yr=function(t){function e(e){t.call(this,e),this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new ae}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var r=0;r<e;r++)this.boundTextures[r]=null;this.emptyTextures={};var i=new Vr(t.createTexture());t.bindTexture(t.TEXTURE_2D,i.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=i,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new Vr(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(var n=0;n<6;n++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(var o=0;o<this.boundTextures.length;o++)this.bind(null,o)},e.prototype.bind=function(t,e){void 0===e&&(e=0);var r=this.gl;if(t){if((t=t.baseTexture||t).valid){t.touched=this.renderer.textureGC.count;var i=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),this.boundTextures[e]!==t&&r.bindTexture(t.target,i.texture),i.dirtyId!==t.dirtyId&&this.updateTexture(t),this.boundTextures[e]=t}}else this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[e]=null},e.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},e.prototype.unbind=function(t){var e=this.gl,r=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var i=0;i<r.length;i++)r[i]===this.unknownTexture&&this.bind(null,i)}for(var n=0;n<r.length;n++)r[n]===t&&(this.currentLocation!==n&&(e.activeTexture(e.TEXTURE0+n),this.currentLocation=n),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[t.target].texture),r[n]=null)},e.prototype.initTexture=function(t){var e=new Vr(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},e.prototype.initTextureType=function(t,e){if(e.internalFormat=t.format,e.type=t.type,2===this.webGLVersion){var r=this.renderer.gl;t.type===r.FLOAT&&t.format===r.RGBA&&(e.internalFormat=r.RGBA32F),t.type===w.HALF_FLOAT&&(e.type=r.HALF_FLOAT),e.type===r.HALF_FLOAT&&t.format===r.RGBA&&(e.internalFormat=r.RGBA16F)}},e.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID];if(e){var r=this.renderer;if(this.initTextureType(t,e),t.resource&&t.resource.upload(r,t,e));else{var i=t.realWidth,n=t.realHeight,o=r.gl;(e.width!==i||e.height!==n||e.dirtyId<0)&&(e.width=i,e.height=n,o.texImage2D(t.target,0,e.internalFormat,i,n,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}},e.prototype.destroyTexture=function(t,e){var r=this.gl;if((t=t.baseTexture||t)._glTextures[this.CONTEXT_UID]&&(this.unbind(t),r.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){var i=this.managedTextures.indexOf(t);-1!==i&&V(this.managedTextures,i,1)}},e.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];e&&(t.mipmap!==I.POW2&&2===this.webGLVersion||t.isPowerOfTwo?(e.mipmap=t.mipmap>=1,e.wrapMode=t.wrapMode):(e.mipmap=0,e.wrapMode=S.CLAMP),t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},e.prototype.setStyle=function(t,e){var r=this.gl;if(e.mipmap&&r.generateMipmap(t.target),r.texParameteri(t.target,r.TEXTURE_WRAP_S,e.wrapMode),r.texParameteri(t.target,r.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);var i=this.renderer.context.extensions.anisotropicFiltering;if(i&&t.anisotropicLevel>0&&t.scaleMode===E.LINEAR){var n=Math.min(t.anisotropicLevel,r.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(t.target,i.TEXTURE_MAX_ANISOTROPY_EXT,n)}}else r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode?r.LINEAR:r.NEAREST);r.texParameteri(t.target,r.TEXTURE_MAG_FILTER,t.scaleMode?r.LINEAR:r.NEAREST)},e}(ve),Wr={FilterSystem:Xe,BatchSystem:Ge,ContextSystem:ze,FramebufferSystem:Ve,GeometrySystem:qe,MaskSystem:Cr,StencilSystem:Mr,ProjectionSystem:Dr,RenderTextureSystem:Fr,ShaderSystem:Br,StateSystem:Hr,TextureGCSystem:zr,TextureSystem:Yr},qr=new xt,Zr=function(t){function e(e,r){t.call(this),(r=Object.assign({},l.RENDER_OPTIONS,r)).roundPixels&&(l.ROUND_PIXELS=r.roundPixels,dt("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),this.options=r,this.type=y.UNKNOWN,this.screen=new Dt(0,0,r.width,r.height),this.view=r.view||document.createElement("canvas"),this.resolution=r.resolution||l.RESOLUTION,this.transparent=r.transparent,this.autoDensity=r.autoDensity||r.autoResize||!1,this.preserveDrawingBuffer=r.preserveDrawingBuffer,this.clearBeforeRender=r.clearBeforeRender,this._backgroundColor=0,this._backgroundColorRgba=[0,0,0,0],this._backgroundColorString="#000000",this.backgroundColor=r.backgroundColor||this._backgroundColor,this._tempDisplayObjectParent=new Gt,this._lastObjectRendered=this._tempDisplayObjectParent,this.plugins={}}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={width:{configurable:!0},height:{configurable:!0},backgroundColor:{configurable:!0}};return e.prototype.initPlugins=function(t){for(var e in t)this.plugins[e]=new t[e](this)},r.width.get=function(){return this.view.width},r.height.get=function(){return this.view.height},e.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoDensity&&(this.view.style.width=t+"px",this.view.style.height=e+"px")},e.prototype.generateTexture=function(t,e,r,i){0===(i=i||t.getLocalBounds()).width&&(i.width=1),0===i.height&&(i.height=1);var n=Ee.create(0|i.width,0|i.height,e,r);return qr.tx=-i.x,qr.ty=-i.y,this.render(t,n,!1,qr,!!t.parent),n},e.prototype.destroy=function(t){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.plugins=null,this.type=y.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoDensity=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},r.backgroundColor.get=function(){return this._backgroundColor},r.backgroundColor.set=function(t){this._backgroundColor=t,this._backgroundColorString=N(t),L(t,this._backgroundColorRgba)},Object.defineProperties(e.prototype,r),e}(d.a),Kr=function(t){function e(r){void 0===r&&(r={}),t.call(this,"WebGL",r),r=this.options,this.type=y.WEBGL,this.gl=null,this.CONTEXT_UID=0,this.runners={destroy:new Vt("destroy"),contextChange:new Vt("contextChange",1),reset:new Vt("reset"),update:new Vt("update"),postrender:new Vt("postrender"),prerender:new Vt("prerender"),resize:new Vt("resize",2)},this.globalUniforms=new Ue({projectionMatrix:new xt},!0),this.addSystem(Cr,"mask").addSystem(ze,"context").addSystem(Hr,"state").addSystem(Br,"shader").addSystem(Yr,"texture").addSystem(qe,"geometry").addSystem(Ve,"framebuffer").addSystem(Mr,"stencil").addSystem(Dr,"projection").addSystem(zr,"textureGC").addSystem(Xe,"filter").addSystem(Fr,"renderTexture").addSystem(Ge,"batch"),this.initPlugins(e.__plugins),r.context?this.context.initFromContext(r.context):this.context.initFromOptions({alpha:this.transparent,antialias:r.antialias,premultipliedAlpha:this.transparent&&"notMultiplied"!==this.transparent,stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer,powerPreference:this.options.powerPreference}),this.renderingToScreen=!0,R(2===this.context.webGLVersion?"WebGL 2":"WebGL 1"),this.resize(this.options.width,this.options.height)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.create=function(t){if(F())return new e(t);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.addSystem=function(t,e){e||(e=t.name);var r=new t(this);if(this[e])throw new Error('Whoops! The name "'+e+'" is already in use');for(var i in this[e]=r,this.runners)this.runners[i].add(r);return this},e.prototype.render=function(t,e,r,i,n){if(this.renderingToScreen=!e,this.runners.prerender.run(),this.emit("prerender"),this.projection.transform=i,!this.context.isLost){if(e||(this._lastObjectRendered=t),!n){var o=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=o}this.renderTexture.bind(e),this.batch.currentRenderer.start(),(void 0!==r?r:this.clearBeforeRender)&&this.renderTexture.clear(),t.render(this),this.batch.currentRenderer.flush(),e&&e.baseTexture.update(),this.runners.postrender.run(),this.projection.transform=null,this.emit("postrender")}},e.prototype.resize=function(e,r){t.prototype.resize.call(this,e,r),this.runners.resize.run(e,r)},e.prototype.reset=function(){return this.runners.reset.run(),this},e.prototype.clear=function(){this.framebuffer.bind(),this.framebuffer.clear()},e.prototype.destroy=function(e){for(var r in this.runners.destroy.run(),this.runners)this.runners[r].destroy();t.prototype.destroy.call(this,e),this.gl=null},e.registerPlugin=function(t,r){e.__plugins=e.__plugins||{},e.__plugins[t]=r},e}(Zr);function Jr(t){return Kr.create(t)}var Qr="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",$r="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",ti=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.from=function(t,r){return new e(new le(t,r))},e}(ae),ei=function(){this.textures=[],this.ids=[],this.blend=0,this.textureCount=0,this.start=0,this.size=0,this.type=4},ri=function(t){this.rawBinaryData=new ArrayBuffer(t),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)},ii={int8View:{configurable:!0},uint8View:{configurable:!0},int16View:{configurable:!0},uint16View:{configurable:!0},int32View:{configurable:!0}};ii.int8View.get=function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},ii.uint8View.get=function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},ii.int16View.get=function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},ii.uint16View.get=function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},ii.int32View.get=function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},ri.prototype.view=function(t){return this[t+"View"]},ri.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},ri.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},Object.defineProperties(ri.prototype,ii);var ni=function(t){function e(e){t.call(this,e),this.shaderGenerator=null,this.geometryClass=null,this.vertexSize=null,this.state=br.for2d(),this.size=8e3,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._drawCalls=[];for(var r=0;r<this.size/4;r++)this._drawCalls[r]=new ei;this._aBuffers={},this._iBuffers={},this.MAX_TEXTURES=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contextChange=function(){var t=this.renderer.gl;l.PREFER_ENV===m.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),l.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=pr(this.MAX_TEXTURES,t)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedElements[this._bufferSize++]=t)},e.prototype.flush=function(){if(0!==this._vertexCount){var t,e,r=this.getAttributeBuffer(this._vertexCount),i=this.getIndexBuffer(this._indexCount),n=this.renderer.gl,o=this._bufferedElements,s=this._drawCalls,a=this.MAX_TEXTURES,h=this._packedGeometries,u=this.vertexSize,c=this.renderer.textureGC.count,d=0,p=0,f=0,v=s[0],g=0,m=-1;v.textureCount=0,v.start=0,v.blend=m;var y,_=++ae._globalBatch;for(y=0;y<this._bufferSize;++y){var x=o[y];o[y]=null,t=x._texture.baseTexture;var b=k[t.premultiplyAlpha?1:0][x.blendMode];m!==b&&(m=b,e=null,f=a,_++),e!==t&&(e=t,t._batchEnabled!==_&&(f===a&&(_++,f=0,v.size=p-v.start,(v=s[g++]).textureCount=0,v.blend=m,v.start=p),t.touched=c,t._batchEnabled=_,t._id=f,v.textures[v.textureCount++]=t,f++)),this.packInterleavedGeometry(x,r,i,d,p),d+=x.vertexData.length/2*u,p+=x.indices.length}ae._globalBatch=_,v.size=p-v.start,l.CAN_UPLOAD_SAME_BUFFER?(h[this._flushId]._buffer.update(r.rawBinaryData,0),h[this._flushId]._indexBuffer.update(i,0),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,h[this._flushId]=new this.geometryClass),h[this._flushId]._buffer.update(r.rawBinaryData,0),h[this._flushId]._indexBuffer.update(i,0),this.renderer.geometry.bind(h[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++);var T=this.renderer.texture,w=this.renderer.state;for(y=0;y<g;y++){for(var E=s[y],S=E.textureCount,I=0;I<S;I++)T.bind(E.textures[I],I),E.textures[I]=null;w.setBlendMode(E.blend),n.drawElements(E.type,E.size,n.UNSIGNED_SHORT,2*E.start)}this._bufferSize=0,this._vertexCount=0,this._indexCount=0}},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),l.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._drawCalls=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(t){var e=Z(Math.ceil(t/8)),r=J(e),i=8*e;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);var n=this._aBuffers[i];return n||(this._aBuffers[i]=n=new ri(i*this.vertexSize*4)),n},e.prototype.getIndexBuffer=function(t){var e=Z(Math.ceil(t/12)),r=J(e),i=12*e;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);var n=this._iBuffers[r];return n||(this._iBuffers[r]=n=new Uint16Array(i)),n},e.prototype.packInterleavedGeometry=function(t,e,r,i,n){for(var o=e.uint32View,s=e.float32View,a=i/this.vertexSize,h=t.uvs,u=t.indices,l=t.vertexData,c=t._texture.baseTexture._id,d=Math.min(t.worldAlpha,1),p=d<1&&t._texture.baseTexture.premultiplyAlpha?G(t._tintRGB,d):t._tintRGB+(255*d<<24),f=0;f<l.length;f+=2)s[i++]=l[f],s[i++]=l[f+1],s[i++]=h[f],s[i++]=h[f+1],o[i++]=p,s[i++]=c;for(var v=0;v<u.length;v++)r[n++]=a+u[v]},e}(je),oi=function(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')};oi.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),r=0;r<t;r++)e[r]=r;this.defaultGroupCache[t]=Ue.from({uSamplers:e},!0);var i=this.fragTemplate;i=(i=i.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new mr(this.vertexSrc,i)}var n={tint:new Float32Array([1,1,1,1]),translationMatrix:new xt,default:this.defaultGroupCache[t]};return new _r(this.programCache[t],n)},oi.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var r=0;r<t;r++)r>0&&(e+="\nelse "),r<t-1&&(e+="if(vTextureId < "+r+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"};var si=function(t){function e(e){void 0===e&&(e=!1),t.call(this),this._buffer=new Ae(null,e,!1),this._indexBuffer=new Ae(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,w.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,w.FLOAT).addAttribute("aColor",this._buffer,4,!0,w.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,w.FLOAT).addIndex(this._indexBuffer)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Fe),ai="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",hi="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",ui=function(){},li={defaultVertexSrc:{configurable:!0},defaultFragmentTemplate:{configurable:!0}};ui.create=function(t){var e=Object.assign({vertex:ai,fragment:hi,geometryClass:si,vertexSize:6},t),r=e.vertex,i=e.fragment,n=e.vertexSize,o=e.geometryClass;return function(t){function e(e){t.call(this,e),this.shaderGenerator=new oi(r,i),this.geometryClass=o,this.vertexSize=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(ni)},li.defaultVertexSrc.get=function(){return ai},li.defaultFragmentTemplate.get=function(){return hi},Object.defineProperties(ui,li);var ci=ui.create(),di=new Dt,pi=function(t){this.renderer=t,t.extract=this};
/*!
 * @pixi/extract - v5.1.4
 * Compiled Fri, 20 Sep 2019 17:17:59 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */pi.prototype.image=function(t,e,r){var i=new Image;return i.src=this.base64(t,e,r),i},pi.prototype.base64=function(t,e,r){return this.canvas(t).toDataURL(e,r)},pi.prototype.canvas=function(t){var e,r,i,n=this.renderer,o=!1,s=!1;t&&(t instanceof Ee?i=t:(i=this.renderer.generateTexture(t),s=!0)),i?(e=i.baseTexture.resolution,r=i.frame,o=!1,n.renderTexture.bind(i)):(e=this.renderer.resolution,o=!0,(r=di).width=this.renderer.width,r.height=this.renderer.height,n.renderTexture.bind(null));var a=Math.floor(r.width*e),h=Math.floor(r.height*e),u=new nt(a,h,1),l=new Uint8Array(4*a*h),c=n.gl;c.readPixels(r.x*e,r.y*e,a,h,c.RGBA,c.UNSIGNED_BYTE,l);var d=u.context.getImageData(0,0,a,h);return pi.arrayPostDivide(l,d.data),u.context.putImageData(d,0,0),o&&(u.context.scale(1,-1),u.context.drawImage(u.canvas,0,-h)),s&&i.destroy(!0),u.canvas},pi.prototype.pixels=function(t){var e,r,i,n=this.renderer,o=!1;t&&(t instanceof Ee?i=t:(i=this.renderer.generateTexture(t),o=!0)),i?(e=i.baseTexture.resolution,r=i.frame,n.renderTexture.bind(i)):(e=n.resolution,(r=di).width=n.width,r.height=n.height,n.renderTexture.bind(null));var s=r.width*e,a=r.height*e,h=new Uint8Array(4*s*a),u=n.gl;return u.readPixels(r.x*e,r.y*e,s,a,u.RGBA,u.UNSIGNED_BYTE,h),o&&i.destroy(!0),pi.arrayPostDivide(h,h),h},pi.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},pi.arrayPostDivide=function(t,e){for(var r=0;r<t.length;r+=4){var i=e[r+3]=t[r+3];0!==i?(e[r]=Math.round(Math.min(255*t[r]/i,255)),e[r+1]=Math.round(Math.min(255*t[r+1]/i,255)),e[r+2]=Math.round(Math.min(255*t[r+2]/i,255))):(e[r]=t[r],e[r+1]=t[r+1],e[r+2]=t[r+2])}};
/*!
 * @pixi/interaction - v5.1.4
 * Compiled Fri, 20 Sep 2019 17:17:59 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var fi=function(){this.global=new pt,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0},vi={pointerId:{configurable:!0}};vi.pointerId.get=function(){return this.identifier},fi.prototype.getLocalPosition=function(t,e,r){return t.worldTransform.applyInverse(r||this.global,e)},fi.prototype.copyEvent=function(t){t.isPrimary&&(this.isPrimary=!0),this.button=t.button,this.buttons=Number.isInteger(t.buttons)?t.buttons:t.which,this.width=t.width,this.height=t.height,this.tiltX=t.tiltX,this.tiltY=t.tiltY,this.pointerType=t.pointerType,this.pressure=t.pressure,this.rotationAngle=t.rotationAngle,this.twist=t.twist||0,this.tangentialPressure=t.tangentialPressure||0},fi.prototype.reset=function(){this.isPrimary=!1},Object.defineProperties(fi.prototype,vi);var gi=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null};gi.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},gi.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null};var mi=function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE},yi={pointerId:{configurable:!0},flags:{configurable:!0},none:{configurable:!0},over:{configurable:!0},rightDown:{configurable:!0},leftDown:{configurable:!0}};mi.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},yi.pointerId.get=function(){return this._pointerId},yi.flags.get=function(){return this._flags},yi.flags.set=function(t){this._flags=t},yi.none.get=function(){return this._flags===this.constructor.FLAGS.NONE},yi.over.get=function(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},yi.over.set=function(t){this._doSet(this.constructor.FLAGS.OVER,t)},yi.rightDown.get=function(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},yi.rightDown.set=function(t){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,t)},yi.leftDown.get=function(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},yi.leftDown.set=function(t){this._doSet(this.constructor.FLAGS.LEFT_DOWN,t)},Object.defineProperties(mi.prototype,yi),mi.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4});var _i={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};Xt.mixin(_i);var xi=1,bi={target:null,data:{global:null}},Ti=function(t){function e(e,r){t.call(this),r=r||{},this.renderer=e,this.autoPreventDefault=void 0===r.autoPreventDefault||r.autoPreventDefault,this.interactionFrequency=r.interactionFrequency||10,this.mouse=new fi,this.mouse.identifier=xi,this.mouse.global.set(-999999),this.activeInteractionData={},this.activeInteractionData[xi]=this.mouse,this.interactionDataPool=[],this.eventData=new gi,this.interactionDOMElement=null,this.moveWhenInside=!1,this.eventsAdded=!1,this.mouseOverRenderer=!1,this.supportsTouchEvents="ontouchstart"in window,this.supportsPointerEvents=!!window.PointerEvent,this.onPointerUp=this.onPointerUp.bind(this),this.processPointerUp=this.processPointerUp.bind(this),this.onPointerCancel=this.onPointerCancel.bind(this),this.processPointerCancel=this.processPointerCancel.bind(this),this.onPointerDown=this.onPointerDown.bind(this),this.processPointerDown=this.processPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.processPointerMove=this.processPointerMove.bind(this),this.onPointerOut=this.onPointerOut.bind(this),this.processPointerOverOut=this.processPointerOverOut.bind(this),this.onPointerOver=this.onPointerOver.bind(this),this.cursorStyles={default:"inherit",pointer:"pointer"},this.currentCursorMode=null,this.cursor=null,this._tempPoint=new pt,this.resolution=1,this.delayedEvents=[],this.setTargetElement(this.renderer.view,this.renderer.resolution)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.hitTest=function(t,e){return bi.target=null,bi.data.global=t,e||(e=this.renderer._lastObjectRendered),this.processInteractive(bi,e,null,!0),bi.target},e.prototype.setTargetElement=function(t,e){void 0===e&&(e=1),this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents()},e.prototype.addEvents=function(){this.interactionDOMElement&&(Zt.system.add(this.update,this,Wt.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},e.prototype.removeEvents=function(){this.interactionDOMElement&&(Zt.system.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},e.prototype.update=function(t){if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement))if(this.didMove)this.didMove=!1;else{for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var r=this.activeInteractionData[e];if(r.originalEvent&&"touch"!==r.pointerType){var i=this.configureInteractionEventForDOMEvent(this.eventData,r.originalEvent,r);this.processInteractive(i,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(typeof e){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}else"string"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,e,r){r.stopPropagationHint&&t!==r.stopsPropagatingAt||(r.currentTarget=t,r.type=e,t.emit(e,r),t[e]&&t[e](r))},e.prototype.delayDispatchEvent=function(t,e,r){this.delayedEvents.push({displayObject:t,eventString:e,eventData:r})},e.prototype.mapPositionToPoint=function(t,e,r){var i;i=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var n=1/this.resolution;t.x=(e-i.left)*(this.interactionDOMElement.width/i.width)*n,t.y=(r-i.top)*(this.interactionDOMElement.height/i.height)*n},e.prototype.processInteractive=function(t,e,r,i,n,o){if(!e||!e.visible)return!1;var s=t.data.global,a=!1,h=n=e.interactive||n,u=!0;if(e.hitArea?(i&&(e.worldTransform.applyInverse(s,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?a=!0:(i=!1,u=!1)),h=!1):e._mask&&i&&(e._mask.containsPoint&&e._mask.containsPoint(s)||(i=!1)),u&&e.interactiveChildren&&e.children)for(var l=e.children,c=l.length-1;c>=0;c--){var d=l[c],p=this.processInteractive(t,d,r,i,h,!0);if(p){if(!d.parent)continue;h=!1,p&&(t.target&&(i=!1),a=!0)}}n&&(i&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(s)&&(a=!0),e.interactive&&(a&&!t.target&&(t.target=e),r&&r(t,e,!!a)));var f=this.delayedEvents;if(f.length&&!o){t.stopPropagationHint=!1;var v=f.length;this.delayedEvents=[];for(var g=0;g<v;g++){var m=f[g],y=m.displayObject,_=m.eventString,x=m.eventData;x.stopsPropagatingAt===y&&(x.stopPropagationHint=!0),this.dispatchEvent(y,_,x)}}return a},e.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);if(this.autoPreventDefault&&e[0].isNormalized)(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(var r=e.length,i=0;i<r;i++){var n=e[i],o=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,o);if(s.data.originalEvent=t,this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",s),"touch"===n.pointerType)this.emit("touchstart",s);else if("mouse"===n.pointerType||"pen"===n.pointerType){var a=2===n.button;this.emit(a?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(t,e,r){var i=t.data,n=t.data.identifier;if(r)if(e.trackedPointers[n]||(e.trackedPointers[n]=new mi(n)),this.dispatchEvent(e,"pointerdown",t),"touch"===i.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===i.pointerType||"pen"===i.pointerType){var o=2===i.button;o?e.trackedPointers[n].rightDown=!0:e.trackedPointers[n].leftDown=!0,this.dispatchEvent(e,o?"rightdown":"mousedown",t)}},e.prototype.onPointerComplete=function(t,e,r){for(var i=this.normalizeToPointerData(t),n=i.length,o=t.target!==this.interactionDOMElement?"outside":"",s=0;s<n;s++){var a=i[s],h=this.getInteractionDataForPointerId(a),u=this.configureInteractionEventForDOMEvent(this.eventData,a,h);if(u.data.originalEvent=t,this.processInteractive(u,this.renderer._lastObjectRendered,r,e||!o),this.emit(e?"pointercancel":"pointerup"+o,u),"mouse"===a.pointerType||"pen"===a.pointerType){var l=2===a.button;this.emit(l?"rightup"+o:"mouseup"+o,u)}else"touch"===a.pointerType&&(this.emit(e?"touchcancel":"touchend"+o,u),this.releaseInteractionDataForPointerId(a.pointerId,h))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var r=t.data,i=t.data.identifier;void 0!==e.trackedPointers[i]&&(delete e.trackedPointers[i],this.dispatchEvent(e,"pointercancel",t),"touch"===r.pointerType&&this.dispatchEvent(e,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,r){var i=t.data,n=t.data.identifier,o=e.trackedPointers[n],s="touch"===i.pointerType,a="mouse"===i.pointerType||"pen"===i.pointerType,h=!1;if(a){var u=2===i.button,l=mi.FLAGS,c=u?l.RIGHT_DOWN:l.LEFT_DOWN,d=void 0!==o&&o.flags&c;r?(this.dispatchEvent(e,u?"rightup":"mouseup",t),d&&(this.dispatchEvent(e,u?"rightclick":"click",t),h=!0)):d&&this.dispatchEvent(e,u?"rightupoutside":"mouseupoutside",t),o&&(u?o.rightDown=!1:o.leftDown=!1)}r?(this.dispatchEvent(e,"pointerup",t),s&&this.dispatchEvent(e,"touchend",t),o&&(a&&!h||this.dispatchEvent(e,"pointertap",t),s&&(this.dispatchEvent(e,"tap",t),o.over=!1))):o&&(this.dispatchEvent(e,"pointerupoutside",t),s&&this.dispatchEvent(e,"touchendoutside",t)),o&&o.none&&delete e.trackedPointers[n]},e.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this.didMove=!0,this.cursor=null);for(var r=e.length,i=0;i<r;i++){var n=e[i],o=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,o);s.data.originalEvent=t,this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",s),"touch"===n.pointerType&&this.emit("touchmove",s),"mouse"!==n.pointerType&&"pen"!==n.pointerType||this.emit("mousemove",s)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,e,r){var i=t.data,n="touch"===i.pointerType,o="mouse"===i.pointerType||"pen"===i.pointerType;o&&this.processPointerOverOut(t,e,r),this.moveWhenInside&&!r||(this.dispatchEvent(e,"pointermove",t),n&&this.dispatchEvent(e,"touchmove",t),o&&this.dispatchEvent(e,"mousemove",t))},e.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];"mouse"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var r=this.getInteractionDataForPointerId(e),i=this.configureInteractionEventForDOMEvent(this.eventData,e,r);i.data.originalEvent=e,this.processInteractive(i,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",i),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",i):this.releaseInteractionDataForPointerId(r.identifier)}},e.prototype.processPointerOverOut=function(t,e,r){var i=t.data,n=t.data.identifier,o="mouse"===i.pointerType||"pen"===i.pointerType,s=e.trackedPointers[n];r&&!s&&(s=e.trackedPointers[n]=new mi(n)),void 0!==s&&(r&&this.mouseOverRenderer?(s.over||(s.over=!0,this.delayDispatchEvent(e,"pointerover",t),o&&this.delayDispatchEvent(e,"mouseover",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):s.over&&(s.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),o&&this.dispatchEvent(e,"mouseout",t),s.none&&delete e.trackedPointers[n]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],r=this.getInteractionDataForPointerId(e),i=this.configureInteractionEventForDOMEvent(this.eventData,e,r);i.data.originalEvent=e,"mouse"===e.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",i),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",i)},e.prototype.getInteractionDataForPointerId=function(t){var e,r=t.pointerId;return r===xi||"mouse"===t.pointerType?e=this.mouse:this.activeInteractionData[r]?e=this.activeInteractionData[r]:((e=this.interactionDataPool.pop()||new fi).identifier=r,this.activeInteractionData[r]=e),e.copyEvent(t),e},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,r){return t.data=r,this.mapPositionToPoint(r.global,e.clientX,e.clientY),"touch"===e.pointerType&&(e.globalX=r.global.x,e.globalY=r.global.y),r.originalEvent=e,t.reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var r=0,i=t.changedTouches.length;r<i;r++){var n=t.changedTouches[r];void 0===n.button&&(n.button=t.touches.length?1:0),void 0===n.buttons&&(n.buttons=t.touches.length?1:0),void 0===n.isPrimary&&(n.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===n.width&&(n.width=n.radiusX||1),void 0===n.height&&(n.height=n.radiusY||1),void 0===n.tiltX&&(n.tiltX=0),void 0===n.tiltY&&(n.tiltY=0),void 0===n.pointerType&&(n.pointerType="touch"),void 0===n.pointerId&&(n.pointerId=n.identifier||0),void 0===n.pressure&&(n.pressure=n.force||.5),void 0===n.twist&&(n.twist=0),void 0===n.tangentialPressure&&(n.tangentialPressure=0),void 0===n.layerX&&(n.layerX=n.offsetX=n.clientX),void 0===n.layerY&&(n.layerY=n.offsetY=n.clientY),n.isNormalized=!0,e.push(n)}else!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent?e.push(t):(void 0===t.isPrimary&&(t.isPrimary=!0),void 0===t.width&&(t.width=1),void 0===t.height&&(t.height=1),void 0===t.tiltX&&(t.tiltX=0),void 0===t.tiltY&&(t.tiltY=0),void 0===t.pointerType&&(t.pointerType="mouse"),void 0===t.pointerId&&(t.pointerId=xi),void 0===t.pressure&&(t.pressure=.5),void 0===t.twist&&(t.twist=0),void 0===t.tangentialPressure&&(t.tangentialPressure=0),t.isNormalized=!0,e.push(t));return e},e.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},e}(d.a),wi={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,_segmentsCount:function(t,e){if(void 0===e&&(e=20),!this.adaptive)return e;var r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},Ei=function(){this.reset()};Ei.prototype.clone=function(){var t=new Ei;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t},Ei.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Te.WHITE,this.matrix=null,this.visible=!1},Ei.prototype.destroy=function(){this.texture=null,this.matrix=null};var Si=function(t,e,r,i){void 0===e&&(e=null),void 0===r&&(r=null),void 0===i&&(i=null),this.shape=t,this.lineStyle=r,this.fillStyle=e,this.matrix=i,this.type=t.type,this.points=[],this.holes=[]};Si.prototype.clone=function(){return new Si(this.shape,this.fillStyle,this.lineStyle,this.matrix)},Si.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null};var Ii={build:function(t){var e,r,i=t.shape,n=t.points,o=i.x,s=i.y;if(n.length=0,t.type===_t.CIRC?(e=i.radius,r=i.radius):(e=i.width,r=i.height),0!==e&&0!==r){var a=Math.floor(30*Math.sqrt(i.radius))||Math.floor(15*Math.sqrt(i.width+i.height));a/=2.3;for(var h=2*Math.PI/a,u=0;u<a;u++)n.push(o+Math.sin(-h*u)*e,s+Math.cos(-h*u)*r);n.push(n[0],n[1])}},triangulate:function(t,e){var r=t.points,i=e.points,n=e.indices,o=i.length/2,s=o;i.push(t.shape.x,t.shape.y);for(var a=0;a<r.length;a+=2)i.push(r[a],r[a+1]),n.push(o++,s,o)}};function Pi(t,e){t.lineStyle.native?function(t,e){var r=0,i=t.shape,n=t.points||i.points,o=i.type!==_t.POLY||i.closeStroke;if(0===n.length)return;var s=e.points,a=e.indices,h=n.length/2,u=s.length/2,l=u;for(s.push(n[0],n[1]),r=1;r<h;r++)s.push(n[2*r],n[2*r+1]),a.push(l,l+1),l++;o&&a.push(l,u)}(t,e):function(t,e){var r=t.shape,i=t.points||r.points.slice(),n=e.closePointEps;if(0===i.length)return;var o=t.lineStyle,s=new pt(i[0],i[1]),a=new pt(i[i.length-2],i[i.length-1]),h=r.type!==_t.POLY||r.closeStroke,u=Math.abs(s.x-a.x)<n&&Math.abs(s.y-a.y)<n;if(h){i=i.slice(),u&&(i.pop(),i.pop(),a.set(i[i.length-2],i[i.length-1]));var l=a.x+.5*(s.x-a.x),c=a.y+.5*(s.y-a.y);i.unshift(l,c),i.push(l,c)}var d=e.points,p=i.length/2,f=i.length,v=d.length/2,g=o.width/2,m=i[0],y=i[1],_=i[2],x=i[3],b=0,T=0,w=-(y-x),E=m-_,S=0,I=0,P=0,A=0,O=Math.sqrt(w*w+E*E);w/=O,E/=O,w*=g,E*=g;var C=o.alignment,M=2*(1-C),D=2*C;d.push(m-w*M,y-E*M),d.push(m+w*D,y+E*D);for(var R=1;R<p-1;++R){m=i[2*(R-1)],y=i[2*(R-1)+1],_=i[2*R],x=i[2*R+1],b=i[2*(R+1)],T=i[2*(R+1)+1],w=-(y-x),E=m-_,O=Math.sqrt(w*w+E*E),w/=O,E/=O,w*=g,E*=g,S=-(x-T),I=_-b,O=Math.sqrt(S*S+I*I),S/=O,I/=O;var F=-E+y-(-E+x),L=-w+_-(-w+m),N=(-w+m)*(-E+x)-(-w+_)*(-E+y),B=-(I*=g)+T-(-I+x),U=-(S*=g)+_-(-S+b),k=(-S+b)*(-I+x)-(-S+_)*(-I+T),X=F*U-B*L;if(Math.abs(X)<.1)X+=10.1,d.push(_-w*M,x-E*M),d.push(_+w*D,x+E*D);else{var j=(L*k-U*N)/X,G=(B*N-F*k)/X;(j-_)*(j-_)+(G-x)*(G-x)>196*g*g?(P=w-S,A=E-I,O=Math.sqrt(P*P+A*A),P/=O,A/=O,P*=g,A*=g,d.push(_-P*M,x-A*M),d.push(_+P*D,x+A*D),d.push(_-P*D*M,x-A*M),f++):(d.push(_+(j-_)*M,x+(G-x)*M),d.push(_-(j-_)*D,x-(G-x)*D))}}m=i[2*(p-2)],y=i[2*(p-2)+1],_=i[2*(p-1)],x=i[2*(p-1)+1],w=-(y-x),E=m-_,O=Math.sqrt(w*w+E*E),w/=O,E/=O,w*=g,E*=g,d.push(_-w*M,x-E*M),d.push(_+w*D,x+E*D);for(var H=e.indices,z=0;z<f-2;++z)H.push(v,v+1,v+2),v++}(t,e)}var Ai={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var r=t.points,i=t.holes,n=e.points,o=e.indices;if(r.length>=6){for(var s=[],a=0;a<i.length;a++){var h=i[a];s.push(r.length/2),r=r.concat(h.points)}var u=f()(r,s,2);if(!u)return;for(var l=n.length/2,c=0;c<u.length;c+=3)o.push(u[c]+l),o.push(u[c+1]+l),o.push(u[c+2]+l);for(var d=0;d<r.length;d++)n.push(r[d])}}},Oi={build:function(t){var e=t.shape,r=t.points,i=e.x,n=e.y,o=e.width,s=e.height,a=e.radius;r.length=0,Mi(i,n+a,i,n,i+a,n,r),Mi(i+o-a,n,i+o,n,i+o,n+a,r),Mi(i+o,n+s-a,i+o,n+s,i+o-a,n+s,r),Mi(i+a,n+s,i,n+s,i,n+s-a,r)},triangulate:function(t,e){for(var r=t.points,i=e.points,n=e.indices,o=i.length/2,s=f()(r,null,2),a=0,h=s.length;a<h;a+=3)n.push(s[a]+o),n.push(s[a+1]+o),n.push(s[a+2]+o);for(var u=0,l=r.length;u<l;u++)i.push(r[u],r[++u])}};function Ci(t,e,r){return t+(e-t)*r}function Mi(t,e,r,i,n,o,s){void 0===s&&(s=[]);for(var a=s,h=0,u=0,l=0,c=0,d=0,p=0,f=0,v=0;f<=20;++f)h=Ci(t,r,v=f/20),u=Ci(e,i,v),l=Ci(r,n,v),c=Ci(i,o,v),d=Ci(h,l,v),p=Ci(u,c,v),a.push(d,p);return a}var Di=[],Ri=[],Fi=new pt,Li={};Li[_t.POLY]=Ai,Li[_t.CIRC]=Ii,Li[_t.ELIP]=Ii,Li[_t.RECT]={build:function(t){var e=t.shape,r=e.x,i=e.y,n=e.width,o=e.height,s=t.points;s.length=0,s.push(r,i,r+n,i,r+n,i+o,r,i+o)},triangulate:function(t,e){var r=t.points,i=e.points,n=i.length/2;i.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(n,n+1,n+2,n+1,n+2,n+3)}},Li[_t.RREC]=Oi;var Ni=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},Bi=function(t){function e(){t.call(this),this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.dirty=0,this.batchDirty=-1,this.cacheDirty=-1,this.clearDirty=0,this.drawCalls=[],this.batches=[],this.shapeIndex=0,this._bounds=new kt,this.boundsDirty=-1,this.boundsPadding=0,this.batchable=!1,this.indicesUint16=null,this.uvsFloat32=null,this.closePointEps=1e-4}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={bounds:{configurable:!0}};return r.bounds.get=function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var t=0;t<this.drawCalls.length;t++)this.drawCalls[t].textures.length=0,Ri.push(this.drawCalls[t]);this.drawCalls.length=0;for(var e=0;e<this.batches.length;e++){var r=this.batches[e];r.start=0,r.attribStart=0,r.style=null,Di.push(r)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(t,e,r,i){var n=new Si(t,e,r,i);return this.graphicsData.push(n),this.dirty++,this},e.prototype.drawHole=function(t,e){if(!this.graphicsData.length)return null;var r=new Si(t,null,null,e),i=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=i.lineStyle,i.holes.push(r),this.dirty++,this},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e);for(var r=0;r<this.graphicsData.length;++r)this.graphicsData[r].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(t){for(var e=this.graphicsData,r=0;r<e.length;++r){var i=e[r];if(i.fillStyle.visible&&(i.shape&&(i.matrix?i.matrix.applyInverse(t,Fi):Fi.copyFrom(t),i.shape.contains(Fi.x,Fi.y)))){if(i.holes)for(var n=0;n<i.holes.length;n++){if(i.holes[n].shape.contains(Fi.x,Fi.y))return!1}return!0}}return!1},e.prototype.updateBatches=function(){if(this.dirty!==this.cacheDirty)if(0!==this.graphicsData.length){if(this.dirty!==this.cacheDirty)for(var t=0;t<this.graphicsData.length;t++){var e=this.graphicsData[t];if(e.fillStyle&&!e.fillStyle.texture.baseTexture.valid)return;if(e.lineStyle&&!e.lineStyle.texture.baseTexture.valid)return}this.cacheDirty=this.dirty;var r=this.uvs,i=null,n=null,o=0,s=!1;if(this.batches.length>0){var a=(i=this.batches[this.batches.length-1]).style;n=a.texture.baseTexture,o=a.color+a.alpha,s=!!a.native}for(var h=this.shapeIndex;h<this.graphicsData.length;h++){this.shapeIndex++;var u=this.graphicsData[h],l=Li[u.type],c=u.fillStyle,d=u.lineStyle;l.build(u),u.matrix&&this.transformPoints(u.points,u.matrix);for(var p=0;p<2;p++){var f=0===p?c:d;if(f.visible){var v=f.texture.baseTexture,g=this.indices.length,m=this.points.length/2;!i||n===v&&o===f.color+f.alpha&&s===!!f.native||(i.size=g-i.start,i.attribSize=m-i.attribStart,i.size>0&&(i=null)),i||(i=Di.pop()||new Ni,this.batches.push(i),v.wrapMode=S.REPEAT,n=v,o=f.color+f.alpha,s=f.native,i.style=f,i.start=g,i.attribStart=m);var y=this.points.length/2;if(0===p)u.holes.length?(this.processHoles(u.holes),Ai.triangulate(u,this)):l.triangulate(u,this);else{Pi(u,this);for(var _=0;_<u.holes.length;_++)Pi(u.holes[_],this)}var x=this.points.length/2-y;this.addUvs(this.points,r,f.texture,y,x,f.matrix)}}}var b=this.indices.length,T=this.points.length/2;if(i)if(i.size=b-i.start,i.attribSize=T-i.attribStart,this.indicesUint16=new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var w=0;w<this.batches.length;w++)for(var E=this.batches[w],I=0;I<E.size;I++){var P=E.start+I;this.indicesUint16[P]=this.indicesUint16[P]-E.attribStart}}else this.buildDrawCalls();else this.batchable=!0}else this.batchable=!0},e.prototype.isBatchable=function(){for(var t=this.batches,r=0;r<t.length;r++)if(t[r].style.native)return!1;return this.points.length<2*e.BATCHABLE_SIZE},e.prototype.buildDrawCalls=function(){for(var t=++ae._globalBatch,e=0;e<this.drawCalls.length;e++)this.drawCalls[e].textures.length=0,Ri.push(this.drawCalls[e]);this.drawCalls.length=0;var r=this.uvs,i=this.colors,n=this.textureIds,o=Ri.pop()||new ei;o.textureCount=0,o.start=0,o.size=0,o.type=x.TRIANGLES;var s=0,a=null,h=0,u=!1,l=x.TRIANGLES,c=0;this.drawCalls.push(o);for(var d=0;d<this.batches.length;d++){var p=this.batches[d],f=p.style,v=f.texture.baseTexture;u!==!!f.native&&(l=(u=f.native)?x.LINES:x.TRIANGLES,a=null,s=8,t++),a!==v&&(a=v,v._batchEnabled!==t&&(8===s&&(t++,s=0,o.size>0&&(o=Ri.pop()||new ei,this.drawCalls.push(o)),o.start=c,o.size=0,o.textureCount=0,o.type=l),v.touched=1,v._batchEnabled=t,v._id=s,v.wrapMode=10497,o.textures[o.textureCount++]=v,s++)),o.size+=p.size,c+=p.size,h=v._id,this.addColors(i,f.color,f.alpha,p.attribSize),this.addTextureIds(n,h,p.attribSize)}ae._globalBatch=t;for(var g=this.points,m=new ArrayBuffer(3*g.length*4),y=new Float32Array(m),_=new Uint32Array(m),b=0,T=0;T<g.length/2;T++)y[b++]=g[2*T],y[b++]=g[2*T+1],y[b++]=r[2*T],y[b++]=r[2*T+1],_[b++]=i[T],y[b++]=n[T];this._buffer.update(m),this._indexBuffer.update(this.indicesUint16)},e.prototype.processHoles=function(t){for(var e=0;e<t.length;e++){var r=t[e];Li[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}},e.prototype.calculateBounds=function(){var t=1/0,e=-1/0,r=1/0,i=-1/0;if(this.graphicsData.length)for(var n=null,o=0,s=0,a=0,h=0,u=0;u<this.graphicsData.length;u++){var l=this.graphicsData[u],c=l.type,d=l.lineStyle?l.lineStyle.width:0;if(n=l.shape,c===_t.RECT||c===_t.RREC)o=n.x-d/2,s=n.y-d/2,t=o<t?o:t,e=o+(a=n.width+d)>e?o+a:e,r=s<r?s:r,i=s+(h=n.height+d)>i?s+h:i;else if(c===_t.CIRC)o=n.x,s=n.y,t=o-(a=n.radius+d/2)<t?o-a:t,e=o+a>e?o+a:e,r=s-(h=n.radius+d/2)<r?s-h:r,i=s+h>i?s+h:i;else if(c===_t.ELIP)o=n.x,s=n.y,t=o-(a=n.width+d/2)<t?o-a:t,e=o+a>e?o+a:e,r=s-(h=n.height+d/2)<r?s-h:r,i=s+h>i?s+h:i;else for(var p=n.points,f=0,v=0,g=0,m=0,y=0,_=0,x=0,b=0,T=0;T+2<p.length;T+=2)o=p[T],s=p[T+1],f=p[T+2],v=p[T+3],g=Math.abs(f-o),m=Math.abs(v-s),h=d,(a=Math.sqrt(g*g+m*m))<1e-9||(t=(x=(f+o)/2)-(y=(h/a*m+g)/2)<t?x-y:t,e=x+y>e?x+y:e,r=(b=(v+s)/2)-(_=(h/a*g+m)/2)<r?b-_:r,i=b+_>i?b+_:i)}else t=0,e=0,r=0,i=0;var w=this.boundsPadding;this._bounds.minX=t-w,this._bounds.maxX=e+w,this._bounds.minY=r-w,this._bounds.maxY=i+w},e.prototype.transformPoints=function(t,e){for(var r=0;r<t.length/2;r++){var i=t[2*r],n=t[2*r+1];t[2*r]=e.a*i+e.c*n+e.tx,t[2*r+1]=e.b*i+e.d*n+e.ty}},e.prototype.addColors=function(t,e,r,i){for(var n=G((e>>16)+(65280&e)+((255&e)<<16),r);i-- >0;)t.push(n)},e.prototype.addTextureIds=function(t,e,r){for(;r-- >0;)t.push(e)},e.prototype.addUvs=function(t,e,r,i,n,o){for(var s=0,a=e.length,h=r.frame;s<n;){var u=t[2*(i+s)],l=t[2*(i+s)+1];if(o){var c=o.a*u+o.c*l+o.tx;l=o.b*u+o.d*l+o.ty,u=c}s++,e.push(u/h.width,l/h.height)}var d=r.baseTexture;(h.width<d.width||h.height<d.height)&&this.adjustUvs(e,r,a,n)},e.prototype.adjustUvs=function(t,e,r,i){for(var n=e.baseTexture,o=r+2*i,s=e.frame,a=s.width/n.width,h=s.height/n.height,u=s.x/s.width,l=s.y/s.height,c=Math.floor(t[r]+1e-6),d=Math.floor(t[r+1]+1e-6),p=r+2;p<o;p+=2)c=Math.min(c,Math.floor(t[p]+1e-6)),d=Math.min(d,Math.floor(t[p+1]+1e-6));u-=c,l-=d;for(var f=r;f<o;f+=2)t[f]=(t[f]+u)*a,t[f+1]=(t[f+1]+l)*h},Object.defineProperties(e.prototype,r),e}(si);Bi.BATCHABLE_SIZE=100;var Ui=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.width=0,this.alignment=.5,this.native=!1},e}(Ei),ki=function(){};ki.curveLength=function(t,e,r,i,n,o,s,a){for(var h=0,u=0,l=0,c=0,d=0,p=0,f=0,v=0,g=0,m=0,y=0,_=t,x=e,b=1;b<=10;++b)m=_-(v=(f=(p=(d=1-(u=b/10))*d)*d)*t+3*p*u*r+3*d*(l=u*u)*n+(c=l*u)*s),y=x-(g=f*e+3*p*u*i+3*d*l*o+c*a),_=v,x=g,h+=Math.sqrt(m*m+y*y);return h},ki.curveTo=function(t,e,r,i,n,o,s){var a=s[s.length-2],h=s[s.length-1];s.length-=2;var u=wi._segmentsCount(ki.curveLength(a,h,t,e,r,i,n,o)),l=0,c=0,d=0,p=0,f=0;s.push(a,h);for(var v=1,g=0;v<=u;++v)d=(c=(l=1-(g=v/u))*l)*l,f=(p=g*g)*g,s.push(d*a+3*c*g*t+3*l*p*r+f*n,d*h+3*c*g*e+3*l*p*i+f*o)};var Xi=function(){};Xi.curveLength=function(t,e,r,i,n,o){var s=t-2*r+n,a=e-2*i+o,h=2*r-2*t,u=2*i-2*e,l=4*(s*s+a*a),c=4*(s*h+a*u),d=h*h+u*u,p=2*Math.sqrt(l+c+d),f=Math.sqrt(l),v=2*l*f,g=2*Math.sqrt(d),m=c/f;return(v*p+f*c*(p-g)+(4*d*l-c*c)*Math.log((2*f+m+p)/(m+g)))/(4*v)},Xi.curveTo=function(t,e,r,i,n){for(var o=n[n.length-2],s=n[n.length-1],a=wi._segmentsCount(Xi.curveLength(o,s,t,e,r,i)),h=0,u=0,l=1;l<=a;++l){var c=l/a;h=o+(t-o)*c,u=s+(e-s)*c,n.push(h+(t+(r-t)*c-h)*c,u+(e+(i-e)*c-u)*c)}};var ji=function(){};ji.curveTo=function(t,e,r,i,n,o){var s=o[o.length-2],a=o[o.length-1]-e,h=s-t,u=i-e,l=r-t,c=Math.abs(a*l-h*u);if(c<1e-8||0===n)return o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e),null;var d=a*a+h*h,p=u*u+l*l,f=a*u+h*l,v=n*Math.sqrt(d)/c,g=n*Math.sqrt(p)/c,m=v*f/d,y=g*f/p,_=v*l+g*h,x=v*u+g*a,b=h*(g+m),T=a*(g+m),w=l*(v+y),E=u*(v+y);return{cx:_+t,cy:x+e,radius:n,startAngle:Math.atan2(T-x,b-_),endAngle:Math.atan2(E-x,w-_),anticlockwise:h*u>l*a}},ji.arc=function(t,e,r,i,n,o,s,a,h){for(var u=s-o,l=wi._segmentsCount(Math.abs(u)*n,40*Math.ceil(Math.abs(u)/gt)),c=u/(2*l),d=2*c,p=Math.cos(c),f=Math.sin(c),v=l-1,g=v%1/v,m=0;m<=v;++m){var y=c+o+d*(m+g*m),_=Math.cos(y),x=-Math.sin(y);h.push((p*_+f*x)*n+r,(p*-x+f*_)*n+i)}};var Gi=function(t){function e(e,r,i,n,o,s){o=o||n/2;for(var a=-1*Math.PI/2+s,h=2*i,u=gt/h,l=[],c=0;c<h;c++){var d=c%2?o:n,p=c*u+a;l.push(e+d*Math.cos(p),r+d*Math.sin(p))}t.call(this,l)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Bt),Hi=new Float32Array(3),zi={},Vi=function(t){function e(e){void 0===e&&(e=null),t.call(this),this.geometry=e||new Bi,this.geometry.refCount++,this.shader=null,this.state=br.for2d(),this._fillStyle=new Ei,this._lineStyle=new Ui,this._matrix=null,this._holeMode=!1,this.currentPath=null,this.batches=[],this.batchTint=-1,this.vertexData=null,this._transformID=-1,this.batchDirty=-1,this.pluginName="batch",this.tint=16777215,this.blendMode=_.NORMAL}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={blendMode:{configurable:!0},tint:{configurable:!0},fill:{configurable:!0},line:{configurable:!0}};return e.prototype.clone=function(){return this.finishPoly(),new e(this.geometry)},r.blendMode.set=function(t){this.state.blendMode=t},r.blendMode.get=function(){return this.state.blendMode},r.tint.get=function(){return this._tint},r.tint.set=function(t){this._tint=t},r.fill.get=function(){return this._fillStyle},r.line.get=function(){return this._lineStyle},e.prototype.lineStyle=function(t,e,r,i,n){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=1),void 0===i&&(i=.5),void 0===n&&(n=!1),this.lineTextureStyle(t,Te.WHITE,e,r,null,i,n),this},e.prototype.lineTextureStyle=function(t,e,r,i,n,o,s){void 0===t&&(t=0),void 0===e&&(e=Te.WHITE),void 0===r&&(r=16777215),void 0===i&&(i=1),void 0===n&&(n=null),void 0===o&&(o=.5),void 0===s&&(s=!1),this.currentPath&&this.startPoly();var a=t>0&&i>0;return a?(n&&(n=n.clone()).invert(),Object.assign(this._lineStyle,{color:r,width:t,alpha:i,matrix:n,texture:e,alignment:o,native:s,visible:a})):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new Bt,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new Bt,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this},e.prototype.lineTo=function(t,e){this.currentPath||this.moveTo(0,0);var r=this.currentPath.points,i=r[r.length-2],n=r[r.length-1];return i===t&&n===e||r.push(t,e),this},e.prototype._initCurve=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[t,e]):this.moveTo(t,e)},e.prototype.quadraticCurveTo=function(t,e,r,i){this._initCurve();var n=this.currentPath.points;return 0===n.length&&this.moveTo(0,0),Xi.curveTo(t,e,r,i,n),this},e.prototype.bezierCurveTo=function(t,e,r,i,n,o){return this._initCurve(),ki.curveTo(t,e,r,i,n,o,this.currentPath.points),this},e.prototype.arcTo=function(t,e,r,i,n){this._initCurve(t,e);var o=this.currentPath.points,s=ji.curveTo(t,e,r,i,n,o);if(s){var a=s.cx,h=s.cy,u=s.radius,l=s.startAngle,c=s.endAngle,d=s.anticlockwise;this.arc(a,h,u,l,c,d)}return this},e.prototype.arc=function(t,e,r,i,n,o){if(void 0===o&&(o=!1),i===n)return this;if(!o&&n<=i?n+=gt:o&&i<=n&&(i+=gt),0===n-i)return this;var s=t+Math.cos(i)*r,a=e+Math.sin(i)*r,h=this.geometry.closePointEps,u=this.currentPath?this.currentPath.points:null;if(u){var l=Math.abs(u[u.length-2]-s),c=Math.abs(u[u.length-1]-a);l<h&&c<h||u.push(s,a)}else this.moveTo(s,a),u=this.currentPath.points;return ji.arc(s,a,t,e,r,i,n,o,u),this},e.prototype.beginFill=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),this.beginTextureFill(Te.WHITE,t,e)},e.prototype.beginTextureFill=function(t,e,r,i){void 0===t&&(t=Te.WHITE),void 0===e&&(e=16777215),void 0===r&&(r=1),void 0===i&&(i=null),this.currentPath&&this.startPoly();var n=r>0;return n?(i&&(i=i.clone()).invert(),Object.assign(this._fillStyle,{color:e,alpha:r,texture:t,matrix:i,visible:n})):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(t,e,r,i){return this.drawShape(new Dt(t,e,r,i))},e.prototype.drawRoundedRect=function(t,e,r,i,n){return this.drawShape(new Ut(t,e,r,i,n))},e.prototype.drawCircle=function(t,e,r){return this.drawShape(new Lt(t,e,r))},e.prototype.drawEllipse=function(t,e,r,i){return this.drawShape(new Nt(t,e,r,i))},e.prototype.drawPolygon=function(t){var e=arguments,r=t,i=!0;if(r.points&&(i=r.closeStroke,r=r.points),!Array.isArray(r)){r=new Array(arguments.length);for(var n=0;n<r.length;++n)r[n]=e[n]}var o=new Bt(r);return o.closeStroke=i,this.drawShape(o),this},e.prototype.drawShape=function(t){return this._holeMode?this.geometry.drawHole(t,this._matrix):this.geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.drawStar=function(t,e,r,i,n,o){return void 0===o&&(o=0),this.drawPolygon(new Gi(t,e,r,i,n,o))},e.prototype.clear=function(){return this.geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){return!1},e.prototype._render=function(t){this.finishPoly();var e=this.geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))},e.prototype._populateBatches=function(){var t=this.geometry,e=this.blendMode;this.batches=[],this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.vertexData=new Float32Array(t.points);for(var r=0,i=t.batches.length;r<i;r++){var n=t.batches[r],o=n.style.color,s=new Float32Array(this.vertexData.buffer,4*n.attribStart*2,2*n.attribSize),a=new Float32Array(t.uvsFloat32.buffer,4*n.attribStart*2,2*n.attribSize),h={vertexData:s,blendMode:e,indices:new Uint16Array(t.indicesUint16.buffer,2*n.start,n.size),uvs:a,_batchRGB:L(o),_tintRGB:o,_texture:n.style.texture,alpha:n.style.alpha,worldAlpha:1};this.batches[r]=h}},e.prototype._renderBatched=function(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var e=0,r=this.batches.length;e<r;e++){var i=this.batches[e];i.worldAlpha=this.worldAlpha*i.alpha,t.plugins[this.pluginName].render(i)}}},e.prototype._renderDirect=function(t){var e=this._resolveDirectShader(t),r=this.geometry,i=this.tint,n=this.worldAlpha,o=e.uniforms,s=r.drawCalls;o.translationMatrix=this.transform.worldTransform,o.tint[0]=(i>>16&255)/255*n,o.tint[1]=(i>>8&255)/255*n,o.tint[2]=(255&i)/255*n,o.tint[3]=n,t.shader.bind(e),t.geometry.bind(r,e),t.state.set(this.state);for(var a=0,h=s.length;a<h;a++)this._renderDrawCallDirect(t,r.drawCalls[a])},e.prototype._renderDrawCallDirect=function(t,e){for(var r=e.textureCount,i=0;i<r;i++)t.texture.bind(e.textures[i],i);t.geometry.draw(e.type,e.size,e.start)},e.prototype._resolveDirectShader=function(t){var e=this.shader,r=this.pluginName;if(!e){if(!zi[r]){for(var i=new Int32Array(16),n=0;n<16;n++)i[n]=n;var o={tint:new Float32Array([1,1,1,1]),translationMatrix:new xt,default:Ue.from({uSamplers:i},!0)},s=t.plugins[r]._shader.program;zi[r]=new _r(s,o)}e=zi[r]}return e},e.prototype._calculateBounds=function(){this.finishPoly();var t=this.geometry.bounds;this._bounds.addFrame(this.transform,t.minX,t.minY,t.maxX,t.maxY)},e.prototype.containsPoint=function(t){return this.worldTransform.applyInverse(t,e._TEMP_POINT),this.geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=L(this.tint,Hi),e=0;e<this.batches.length;e++){var r=this.batches[e],i=r._batchRGB,n=(t[0]*i[0]*255<<16)+(t[1]*i[1]*255<<8)+(0|t[2]*i[2]*255);r._tintRGB=(n>>16)+(65280&n)+((255&n)<<16)}}},e.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID;for(var t=this.transform.worldTransform,e=t.a,r=t.b,i=t.c,n=t.d,o=t.tx,s=t.ty,a=this.geometry.points,h=this.vertexData,u=0,l=0;l<a.length;l+=2){var c=a[l],d=a[l+1];h[u++]=e*c+i*d+o,h[u++]=n*d+r*c+s}}},e.prototype.closePath=function(){var t=this.currentPath;return t&&(t.closeStroke=!0),this},e.prototype.setMatrix=function(t){return this._matrix=t,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this.geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,e)},Object.defineProperties(e.prototype,r),e}(Gt);Vi._TEMP_POINT=new pt;
/*!
 * @pixi/sprite - v5.1.4
 * Compiled Fri, 20 Sep 2019 17:17:59 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var Yi=new pt,Wi=new Uint16Array([0,1,2,0,2,3]),qi=function(t){function e(e){t.call(this),this._anchor=new ft(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tint=null,this._tintRGB=null,this.tint=16777215,this.blendMode=_.NORMAL,this.shader=null,this._cachedTint=16777215,this.uvs=null,this.texture=e||Te.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=Wi,this.size=4,this.start=0,this.pluginName="batch",this.isSprite=!0,this._roundPixels=l.ROUND_PIXELS}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={roundPixels:{configurable:!0},width:{configurable:!0},height:{configurable:!0},anchor:{configurable:!0},tint:{configurable:!0},texture:{configurable:!0}};return e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=q(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=q(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var t=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==t._updateID){this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;var e=this.transform.worldTransform,r=e.a,i=e.b,n=e.c,o=e.d,s=e.tx,a=e.ty,h=this.vertexData,u=t.trim,l=t.orig,c=this._anchor,d=0,p=0,f=0,v=0;if(u?(d=(p=u.x-c._x*l.width)+u.width,f=(v=u.y-c._y*l.height)+u.height):(d=(p=-c._x*l.width)+l.width,f=(v=-c._y*l.height)+l.height),h[0]=r*p+n*v+s,h[1]=o*v+i*p+a,h[2]=r*d+n*v+s,h[3]=o*v+i*d+a,h[4]=r*d+n*f+s,h[5]=o*f+i*d+a,h[6]=r*p+n*f+s,h[7]=o*f+i*p+a,this._roundPixels)for(var g=0;g<8;g++)h[g]=Math.round(h[g])}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,r=t.orig,i=this._anchor,n=this.transform.worldTransform,o=n.a,s=n.b,a=n.c,h=n.d,u=n.tx,l=n.ty,c=-i._x*r.width,d=c+r.width,p=-i._y*r.height,f=p+r.height;e[0]=o*c+a*p+u,e[1]=h*p+s*c+l,e[2]=o*d+a*p+u,e[3]=h*p+s*d+l,e[4]=o*d+a*f+u,e[5]=h*f+s*d+l,e[6]=o*c+a*f+u,e[7]=h*f+s*c+l},e.prototype._render=function(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Dt),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,Yi);var e=this._texture.orig.width,r=this._texture.orig.height,i=-e*this.anchor.x,n=0;return Yi.x>=i&&Yi.x<i+e&&(n=-r*this.anchor.y,Yi.y>=n&&Yi.y<n+r)},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof e?e:e&&e.texture){var r="boolean"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!r)}this._texture=null,this.shader=null},e.from=function(t,r){return new e(t instanceof Te?t:Te.from(t,r))},r.roundPixels.set=function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},r.roundPixels.get=function(){return this._roundPixels},r.width.get=function(){return Math.abs(this.scale.x)*this._texture.orig.width},r.width.set=function(t){var e=q(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},r.height.get=function(){return Math.abs(this.scale.y)*this._texture.orig.height},r.height.set=function(t){var e=q(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},r.anchor.get=function(){return this._anchor},r.anchor.set=function(t){this._anchor.copyFrom(t)},r.tint.get=function(){return this._tint},r.tint.set=function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)},r.texture.get=function(){return this._texture},r.texture.set=function(t){this._texture!==t&&(this._texture=t||Te.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},Object.defineProperties(e.prototype,r),e}(Gt),Zi={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},Ki={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Zi.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},Ji=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Qi=function(t){this.styleID=0,this.reset(),rn(this,t,t)},$i={align:{configurable:!0},breakWords:{configurable:!0},dropShadow:{configurable:!0},dropShadowAlpha:{configurable:!0},dropShadowAngle:{configurable:!0},dropShadowBlur:{configurable:!0},dropShadowColor:{configurable:!0},dropShadowDistance:{configurable:!0},fill:{configurable:!0},fillGradientType:{configurable:!0},fillGradientStops:{configurable:!0},fontFamily:{configurable:!0},fontSize:{configurable:!0},fontStyle:{configurable:!0},fontVariant:{configurable:!0},fontWeight:{configurable:!0},letterSpacing:{configurable:!0},lineHeight:{configurable:!0},leading:{configurable:!0},lineJoin:{configurable:!0},miterLimit:{configurable:!0},padding:{configurable:!0},stroke:{configurable:!0},strokeThickness:{configurable:!0},textBaseline:{configurable:!0},trim:{configurable:!0},whiteSpace:{configurable:!0},wordWrap:{configurable:!0},wordWrapWidth:{configurable:!0}};function tn(t){return"number"==typeof t?N(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function en(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=tn(t[e]);return t}return tn(t)}function rn(t,e,r){for(var i in r)Array.isArray(e[i])?t[i]=e[i].slice():t[i]=e[i]}Qi.prototype.clone=function(){var t={};return rn(t,this,Ki),new Qi(t)},Qi.prototype.reset=function(){rn(this,Ki,Ki)},$i.align.get=function(){return this._align},$i.align.set=function(t){this._align!==t&&(this._align=t,this.styleID++)},$i.breakWords.get=function(){return this._breakWords},$i.breakWords.set=function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},$i.dropShadow.get=function(){return this._dropShadow},$i.dropShadow.set=function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},$i.dropShadowAlpha.get=function(){return this._dropShadowAlpha},$i.dropShadowAlpha.set=function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},$i.dropShadowAngle.get=function(){return this._dropShadowAngle},$i.dropShadowAngle.set=function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},$i.dropShadowBlur.get=function(){return this._dropShadowBlur},$i.dropShadowBlur.set=function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},$i.dropShadowColor.get=function(){return this._dropShadowColor},$i.dropShadowColor.set=function(t){var e=en(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},$i.dropShadowDistance.get=function(){return this._dropShadowDistance},$i.dropShadowDistance.set=function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},$i.fill.get=function(){return this._fill},$i.fill.set=function(t){var e=en(t);this._fill!==e&&(this._fill=e,this.styleID++)},$i.fillGradientType.get=function(){return this._fillGradientType},$i.fillGradientType.set=function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},$i.fillGradientStops.get=function(){return this._fillGradientStops},$i.fillGradientStops.set=function(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},$i.fontFamily.get=function(){return this._fontFamily},$i.fontFamily.set=function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},$i.fontSize.get=function(){return this._fontSize},$i.fontSize.set=function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},$i.fontStyle.get=function(){return this._fontStyle},$i.fontStyle.set=function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},$i.fontVariant.get=function(){return this._fontVariant},$i.fontVariant.set=function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},$i.fontWeight.get=function(){return this._fontWeight},$i.fontWeight.set=function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},$i.letterSpacing.get=function(){return this._letterSpacing},$i.letterSpacing.set=function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},$i.lineHeight.get=function(){return this._lineHeight},$i.lineHeight.set=function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},$i.leading.get=function(){return this._leading},$i.leading.set=function(t){this._leading!==t&&(this._leading=t,this.styleID++)},$i.lineJoin.get=function(){return this._lineJoin},$i.lineJoin.set=function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},$i.miterLimit.get=function(){return this._miterLimit},$i.miterLimit.set=function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},$i.padding.get=function(){return this._padding},$i.padding.set=function(t){this._padding!==t&&(this._padding=t,this.styleID++)},$i.stroke.get=function(){return this._stroke},$i.stroke.set=function(t){var e=en(t);this._stroke!==e&&(this._stroke=e,this.styleID++)},$i.strokeThickness.get=function(){return this._strokeThickness},$i.strokeThickness.set=function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},$i.textBaseline.get=function(){return this._textBaseline},$i.textBaseline.set=function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},$i.trim.get=function(){return this._trim},$i.trim.set=function(t){this._trim!==t&&(this._trim=t,this.styleID++)},$i.whiteSpace.get=function(){return this._whiteSpace},$i.whiteSpace.set=function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},$i.wordWrap.get=function(){return this._wordWrap},$i.wordWrap.set=function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},$i.wordWrapWidth.get=function(){return this._wordWrapWidth},$i.wordWrapWidth.set=function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},Qi.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var r=e.length-1;r>=0;r--){var i=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&Ji.indexOf(i)<0&&(i='"'+i+'"'),e[r]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},Object.defineProperties(Qi.prototype,$i);var nn=function(t,e,r,i,n,o,s,a,h){this.text=t,this.style=e,this.width=r,this.height=i,this.lines=n,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=a,this.fontProperties=h};nn.measureText=function(t,e,r,i){void 0===i&&(i=nn._canvas),r=null==r?e.wordWrap:r;var n=e.toFontString(),o=nn.measureFont(n);0===o.fontSize&&(o.fontSize=e.fontSize,o.ascent=e.fontSize);var s=i.getContext("2d");s.font=n;for(var a=(r?nn.wordWrap(t,e,i):t).split(/(?:\r\n|\r|\n)/),h=new Array(a.length),u=0,l=0;l<a.length;l++){var c=s.measureText(a[l]).width+(a[l].length-1)*e.letterSpacing;h[l]=c,u=Math.max(u,c)}var d=u+e.strokeThickness;e.dropShadow&&(d+=e.dropShadowDistance);var p=e.lineHeight||o.fontSize+e.strokeThickness,f=Math.max(p,o.fontSize+e.strokeThickness)+(a.length-1)*(p+e.leading);return e.dropShadow&&(f+=e.dropShadowDistance),new nn(t,e,d,f,a,h,p+e.leading,u,o)},nn.wordWrap=function(t,e,r){void 0===r&&(r=nn._canvas);for(var i=r.getContext("2d"),n=0,o="",s="",a={},h=e.letterSpacing,u=e.whiteSpace,l=nn.collapseSpaces(u),c=nn.collapseNewlines(u),d=!l,p=e.wordWrapWidth+h,f=nn.tokenize(t),v=0;v<f.length;v++){var g=f[v];if(nn.isNewline(g)){if(!c){s+=nn.addLine(o),d=!l,o="",n=0;continue}g=" "}if(l){var m=nn.isBreakingSpace(g),y=nn.isBreakingSpace(o[o.length-1]);if(m&&y)continue}var _=nn.getFromCache(g,h,a,i);if(_>p)if(""!==o&&(s+=nn.addLine(o),o="",n=0),nn.canBreakWords(g,e.breakWords))for(var x=g.split(""),b=0;b<x.length;b++){for(var T=x[b],w=1;x[b+w];){var E=x[b+w],S=T[T.length-1];if(nn.canBreakChars(S,E,g,b,e.breakWords))break;T+=E,w++}b+=T.length-1;var I=nn.getFromCache(T,h,a,i);I+n>p&&(s+=nn.addLine(o),d=!1,o="",n=0),o+=T,n+=I}else{o.length>0&&(s+=nn.addLine(o),o="",n=0);var P=v===f.length-1;s+=nn.addLine(g,!P),d=!1,o="",n=0}else _+n>p&&(d=!1,s+=nn.addLine(o),o="",n=0),(o.length>0||!nn.isBreakingSpace(g)||d)&&(o+=g,n+=_)}return s+=nn.addLine(o,!1)},nn.addLine=function(t,e){return void 0===e&&(e=!0),t=nn.trimRight(t),t=e?t+"\n":t},nn.getFromCache=function(t,e,r,i){var n=r[t];if(void 0===n){var o=t.length*e;n=i.measureText(t).width+o,r[t]=n}return n},nn.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},nn.collapseNewlines=function(t){return"normal"===t},nn.trimRight=function(t){if("string"!=typeof t)return"";for(var e=t.length-1;e>=0;e--){var r=t[e];if(!nn.isBreakingSpace(r))break;t=t.slice(0,-1)}return t},nn.isNewline=function(t){return"string"==typeof t&&nn._newlines.indexOf(t.charCodeAt(0))>=0},nn.isBreakingSpace=function(t){return"string"==typeof t&&nn._breakingSpaces.indexOf(t.charCodeAt(0))>=0},nn.tokenize=function(t){var e=[],r="";if("string"!=typeof t)return e;for(var i=0;i<t.length;i++){var n=t[i];nn.isBreakingSpace(n)||nn.isNewline(n)?(""!==r&&(e.push(r),r=""),e.push(n)):r+=n}return""!==r&&e.push(r),e},nn.canBreakWords=function(t,e){return e},nn.canBreakChars=function(t,e,r,i,n){return!0},nn.measureFont=function(t){if(nn._fonts[t])return nn._fonts[t];var e={},r=nn._canvas,i=nn._context;i.font=t;var n=nn.METRICS_STRING+nn.BASELINE_SYMBOL,o=Math.ceil(i.measureText(n).width),s=Math.ceil(i.measureText(nn.BASELINE_SYMBOL).width),a=2*s;s=s*nn.BASELINE_MULTIPLIER|0,r.width=o,r.height=a,i.fillStyle="#f00",i.fillRect(0,0,o,a),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(n,0,s);var h=i.getImageData(0,0,o,a).data,u=h.length,l=4*o,c=0,d=0,p=!1;for(c=0;c<s;++c){for(var f=0;f<l;f+=4)if(255!==h[d+f]){p=!0;break}if(p)break;d+=l}for(e.ascent=s-c,d=u-l,p=!1,c=a;c>s;--c){for(var v=0;v<l;v+=4)if(255!==h[d+v]){p=!0;break}if(p)break;d-=l}return e.descent=c-s,e.fontSize=e.ascent+e.descent,nn._fonts[t]=e,e},nn.clearMetrics=function(t){void 0===t&&(t=""),t?delete nn._fonts[t]:nn._fonts={}};var on=function(){try{var t=new OffscreenCanvas(0,0);return t.getContext("2d")?t:document.createElement("canvas")}catch(t){return document.createElement("canvas")}}();on.width=on.height=10,nn._canvas=on,nn._context=on.getContext("2d"),nn._fonts={},nn.METRICS_STRING="|ÉqÅ",nn.BASELINE_SYMBOL="M",nn.BASELINE_MULTIPLIER=1.4,nn._newlines=[10,13],nn._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var sn={texture:!0,children:!1,baseTexture:!0},an=function(t){function e(e,r,i){(i=i||document.createElement("canvas")).width=3,i.height=3;var n=Te.from(i);n.orig=new Dt,n.trim=new Dt,t.call(this,n),this.canvas=i,this.context=this.canvas.getContext("2d"),this._resolution=l.RESOLUTION,this._autoResolution=!0,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=r,this.localStyleID=-1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={width:{configurable:!0},height:{configurable:!0},style:{configurable:!0},text:{configurable:!0},resolution:{configurable:!0}};return e.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var r,i,n=this.context,o=nn.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=o.width,a=o.height,h=o.lines,u=o.lineHeight,l=o.lineWidths,c=o.maxLineWidth,d=o.fontProperties;this.canvas.width=Math.ceil((Math.max(1,s)+2*e.padding)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,a)+2*e.padding)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit;for(var p=e.dropShadow?2:1,f=0;f<p;++f){var v=e.dropShadow&&0===f,g=v?2*a:0,m=g*this.resolution;if(v){n.fillStyle="black",n.strokeStyle="black";var y=e.dropShadowColor,_=L("number"==typeof y?y:B(y));n.shadowColor="rgba("+255*_[0]+","+255*_[1]+","+255*_[2]+","+e.dropShadowAlpha+")",n.shadowBlur=e.dropShadowBlur,n.shadowOffsetX=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,n.shadowOffsetY=Math.sin(e.dropShadowAngle)*e.dropShadowDistance+m}else n.fillStyle=this._generateFillStyle(e,h),n.strokeStyle=e.stroke,n.shadowColor=0,n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;for(var x=0;x<h.length;x++)r=e.strokeThickness/2,i=e.strokeThickness/2+x*u+d.ascent,"right"===e.align?r+=c-l[x]:"center"===e.align&&(r+=(c-l[x])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(h[x],r+e.padding,i+e.padding-g,!0),e.fill&&this.drawLetterSpacing(h[x],r+e.padding,i+e.padding-g)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,r,i){void 0===i&&(i=!1);var n=this._style.letterSpacing;if(0!==n)for(var o=e,s=Array.from?Array.from(t):t.split(""),a=this.context.measureText(t).width,h=0,u=0;u<s.length;++u){var l=s[u];i?this.context.strokeText(l,o,r):this.context.fillText(l,o,r),o+=a-(h=this.context.measureText(t.substring(u+1)).width)+n,a=h}else i?this.context.strokeText(t,e,r):this.context.fillText(t,e,r)},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=it(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}var r=this._texture,i=this._style,n=i.trim?0:i.padding,o=r.baseTexture;r.trim.width=r._frame.width=Math.ceil(t.width/this._resolution),r.trim.height=r._frame.height=Math.ceil(t.height/this._resolution),r.trim.x=-n,r.trim.y=-n,r.orig.width=r._frame.width-2*n,r.orig.height=r._frame.height-2*n,this._onTextureUpdate(),o.setRealSize(t.width,t.height,this._resolution),this.dirty=!1},e.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,e)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._onStyleChange=function(){this.dirty=!0},e.prototype._generateFillStyle=function(t,e){if(!Array.isArray(t.fill))return t.fill;if(1===t.fill.length)return t.fill[0];var r,i,n,o,s=Math.ceil(this.canvas.width/this._resolution),a=Math.ceil(this.canvas.height/this._resolution),h=t.fill.slice(),u=t.fillGradientStops.slice();if(!u.length)for(var l=h.length+1,c=1;c<l;++c)u.push(c/l);if(h.unshift(t.fill[0]),u.unshift(0),h.push(t.fill[t.fill.length-1]),u.push(1),t.fillGradientType===Zi.LINEAR_VERTICAL){r=this.context.createLinearGradient(s/2,0,s/2,a),i=(h.length+1)*e.length,n=0;for(var d=0;d<e.length;d++){n+=1;for(var p=0;p<h.length;p++)o="number"==typeof u[p]?u[p]/e.length+d/e.length:n/i,r.addColorStop(o,h[p]),n++}}else{r=this.context.createLinearGradient(0,a/2,s,a/2),i=h.length+1,n=1;for(var f=0;f<h.length;f++)o="number"==typeof u[f]?u[f]:n/i,r.addColorStop(o,h[f]),n++}return r},e.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},sn,e),t.prototype.destroy.call(this,e),this.context=null,this.canvas=null,this._style=null},r.width.get=function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},r.width.set=function(t){this.updateText(!0);var e=q(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},r.height.get=function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},r.height.set=function(t){this.updateText(!0);var e=q(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},r.style.get=function(){return this._style},r.style.set=function(t){t=t||{},this._style=t instanceof Qi?t:new Qi(t),this.localStyleID=-1,this.dirty=!0},r.text.get=function(){return this._text},r.text.set=function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},r.resolution.get=function(){return this._resolution},r.resolution.set=function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},Object.defineProperties(e.prototype,r),e}(qi);
/*!
 * @pixi/prepare - v5.1.4
 * Compiled Fri, 20 Sep 2019 17:17:59 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
l.UPLOADS_PER_FRAME=4;var hn=function(t){this.maxItemsPerFrame=t,this.itemsLeft=0};hn.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},hn.prototype.allowedToUpload=function(){return this.itemsLeft-- >0};var un=function(t){var e=this;this.limiter=new hn(l.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){e.queue&&e.prepareItems()},this.registerFindHook(vn),this.registerFindHook(gn),this.registerFindHook(ln),this.registerFindHook(cn),this.registerFindHook(dn),this.registerUploadHook(pn),this.registerUploadHook(fn)};function ln(t,e){var r=!1;if(t&&t._textures&&t._textures.length)for(var i=0;i<t._textures.length;i++)if(t._textures[i]instanceof Te){var n=t._textures[i].baseTexture;-1===e.indexOf(n)&&(e.push(n),r=!0)}return r}function cn(t,e){return t instanceof ae&&(-1===e.indexOf(t)&&e.push(t),!0)}function dn(t,e){if(t._texture&&t._texture instanceof Te){var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function pn(t,e){return e instanceof an&&(e.updateText(!0),!0)}function fn(t,e){if(e instanceof Qi){var r=e.toFontString();return nn.measureFont(r),!0}return!1}function vn(t,e){if(t instanceof an){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function gn(t,e){return t instanceof Qi&&(-1===e.indexOf(t)&&e.push(t),!0)}un.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,Zt.system.addOnce(this.tick,this,Wt.UTILITY))):e&&e()},un.prototype.tick=function(){setTimeout(this.delayedTick,0)},un.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var r=0,i=this.uploadHooks.length;r<i;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)Zt.system.addOnce(this.tick,this,Wt.UTILITY);else{this.ticking=!1;var n=this.completes.slice(0);this.completes.length=0;for(var o=0,s=n.length;o<s;o++)n[o]()}},un.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},un.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},un.prototype.add=function(t){for(var e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof Gt)for(var i=t.children.length-1;i>=0;i--)this.add(t.children[i]);return this},un.prototype.destroy=function(){this.ticking&&Zt.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null};var mn=function(t){function e(e){t.call(this,e),this.uploadHookHelper=this.renderer,this.registerFindHook(xn),this.registerUploadHook(yn),this.registerUploadHook(_n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(un);function yn(t,e){return e instanceof ae&&(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0)}function _n(t,e){return e instanceof Vi&&((e.dirty||e.clearDirty||!e._webGL[t.plugins.graphics.CONTEXT_UID])&&t.plugins.graphics.updateGraphics(e),!0)}function xn(t,e){return t instanceof Vi&&(e.push(t),!0)}var bn=function(t){this.maxMilliseconds=t,this.frameStart=0};bn.prototype.beginFrame=function(){this.frameStart=Date.now()},bn.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds};
/*!
 * @pixi/app - v5.1.4
 * Compiled Fri, 20 Sep 2019 17:17:59 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var Tn=function t(e){var r=this;e=Object.assign({forceCanvas:!1},e),this.renderer=Jr(e),this.stage=new Gt,t._plugins.forEach((function(t){t.init.call(r,e)}))},wn={view:{configurable:!0},screen:{configurable:!0}};Tn.registerPlugin=function(t){Tn._plugins.push(t)},Tn.prototype.render=function(){this.renderer.render(this.stage)},wn.view.get=function(){return this.renderer.view},wn.screen.get=function(){return this.renderer.screen},Tn.prototype.destroy=function(t,e){var r=this,i=Tn._plugins.slice(0);i.reverse(),i.forEach((function(t){t.destroy.call(r)})),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null,this._options=null},Object.defineProperties(Tn.prototype,wn),Tn._plugins=[];var En=function(){};En.init=function(t){var e=this;Object.defineProperty(this,"resizeTo",{set:function(t){window.removeEventListener("resize",this.resize),this._resizeTo=t,t&&(window.addEventListener("resize",this.resize),this.resize())},get:function(){return this._resizeTo}}),this.resize=function(){e._resizeTo&&(e._resizeTo===window?e.renderer.resize(window.innerWidth,window.innerHeight):e.renderer.resize(e._resizeTo.clientWidth,e._resizeTo.clientHeight))},this._resizeTo=null,this.resizeTo=t.resizeTo||null},En.destroy=function(){this.resizeTo=null,this.resize=null},Tn.registerPlugin(En);var Sn=r(4),In=r.n(Sn),Pn=r(0),An=r.n(Pn);
/*!
 * resource-loader - v3.0.1
 * https://github.com/pixijs/pixi-sound
 * Compiled Tue, 02 Jul 2019 14:06:18 UTC
 *
 * resource-loader is licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license
 */
function On(){}function Cn(t,e,r,i){var n=0,o=t.length;!function s(a){a||n===o?r&&r(a):i?setTimeout((function(){e(t[n++],s)}),1):e(t[n++],s)}()}function Mn(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}function Dn(t,e){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var r=0,i={_tasks:[],concurrency:e,saturated:On,unsaturated:On,buffer:e/4,empty:On,drain:On,error:On,started:!1,paused:!1,push:function(t,e){n(t,!1,e)},kill:function(){r=0,i.drain=On,i.started=!1,i._tasks=[]},unshift:function(t,e){n(t,!0,e)},process:function(){for(;!i.paused&&r<i.concurrency&&i._tasks.length;){var e=i._tasks.shift();0===i._tasks.length&&i.empty(),(r+=1)===i.concurrency&&i.saturated(),t(e.data,Mn(o(e)))}},length:function(){return i._tasks.length},running:function(){return r},idle:function(){return i._tasks.length+r===0},pause:function(){!0!==i.paused&&(i.paused=!0)},resume:function(){if(!1!==i.paused){i.paused=!1;for(var t=1;t<=i.concurrency;t++)i.process()}}};function n(t,e,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(i.started=!0,null==t&&i.idle())setTimeout((function(){return i.drain()}),1);else{var n={data:t,callback:"function"==typeof r?r:On};e?i._tasks.unshift(n):i._tasks.push(n),setTimeout((function(){return i.process()}),1)}}function o(t){return function(){r-=1,t.callback.apply(t,arguments),null!=arguments[0]&&i.error(arguments[0],t.data),r<=i.concurrency-i.buffer&&i.unsaturated(),i.idle()&&i.drain(),i.process()}}return i}var Rn={};function Fn(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ln(t,e,r){return e&&Fn(t.prototype,e),r&&Fn(t,r),t}var Nn=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),Bn=null;function Un(){}var kn=function(){function t(e,r,i){if("string"!=typeof e||"string"!=typeof r)throw new Error("Both name and url are required for constructing a resource.");i=i||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===r.indexOf("data:")),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===i.crossOrigin?"anonymous":i.crossOrigin,this.timeout=i.timeout||0,this.loadType=i.loadType||this._determineLoadType(),this.xhrType=i.xhrType,this.metadata=i.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=Un,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new An.a,this.onProgress=new An.a,this.onComplete=new An.a,this.onAfterMiddleware=new An.a}t.setExtensionLoadType=function(e,r){Xn(t._loadTypeMap,e,r)},t.setExtensionXhrType=function(e,r){Xn(t._xhrTypeMap,e,r)};var e=t.prototype;return e.complete=function(){this._clearEvents(),this._finish()},e.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},e.load=function(e){var r=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout((function(){return e(r)}),1);else switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:Nn&&this.crossOrigin?this._loadXdr():this._loadXhr()}},e._hasFlag=function(t){return 0!=(this._flags&t)},e._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},e._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},e._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},e._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(t,this.url[r],Array.isArray(e)?e[r]:e));else{var i=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(i)?i[0]:i))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},e._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},e._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout((function(){return t.send()}),1)},e._createSource=function(t,e,r){r||(r=t+"/"+this._getExtension(e));var i=document.createElement("source");return i.src=e,i.type=r,i},e._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},e._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},e._onTimeout=function(){this.abort("Load timed out.")},e._xhrOnError=function(){var t=this.xhr;this.abort(jn(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},e._xhrOnTimeout=function(){var t=this.xhr;this.abort(jn(t)+" Request timed out.")},e._xhrOnAbort=function(){var t=this.xhr;this.abort(jn(t)+" Request was aborted by the user.")},e._xhrOnLoad=function(){var e=this.xhr,r="",i=void 0===e.status?200:e.status;if(""!==e.responseType&&"text"!==e.responseType&&void 0!==e.responseType||(r=e.responseText),0===i&&(r.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?i=200:1223===i&&(i=204),2===(i/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=t.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var n=new DOMParser;this.data=n.parseFromString(r,"text/xml")}else{var o=document.createElement("div");o.innerHTML=r,this.data=o}this.type=t.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=e.response||r;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},e._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";e=e||window.location,Bn||(Bn=document.createElement("a")),Bn.href=t;var r=!(t=In()(Bn.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,i=t.protocol?t.protocol+":":"";return t.host===e.hostname&&r&&i===e.protocol?"":"anonymous"},e._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},e._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},e._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var r=t.indexOf("/");e=t.substring(r+1,t.indexOf(";",r))}else{var i=t.indexOf("?"),n=t.indexOf("#"),o=Math.min(i>-1?i:t.length,n>-1?n:t.length);e=(t=t.substring(0,o)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},e._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},Ln(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();function Xn(t,e,r){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=r)}function jn(t){return t.toString().replace("object ","")}kn.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},kn.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},kn.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},kn.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},kn._loadTypeMap={gif:kn.LOAD_TYPE.IMAGE,png:kn.LOAD_TYPE.IMAGE,bmp:kn.LOAD_TYPE.IMAGE,jpg:kn.LOAD_TYPE.IMAGE,jpeg:kn.LOAD_TYPE.IMAGE,tif:kn.LOAD_TYPE.IMAGE,tiff:kn.LOAD_TYPE.IMAGE,webp:kn.LOAD_TYPE.IMAGE,tga:kn.LOAD_TYPE.IMAGE,svg:kn.LOAD_TYPE.IMAGE,"svg+xml":kn.LOAD_TYPE.IMAGE,mp3:kn.LOAD_TYPE.AUDIO,ogg:kn.LOAD_TYPE.AUDIO,wav:kn.LOAD_TYPE.AUDIO,mp4:kn.LOAD_TYPE.VIDEO,webm:kn.LOAD_TYPE.VIDEO},kn._xhrTypeMap={xhtml:kn.XHR_RESPONSE_TYPE.DOCUMENT,html:kn.XHR_RESPONSE_TYPE.DOCUMENT,htm:kn.XHR_RESPONSE_TYPE.DOCUMENT,xml:kn.XHR_RESPONSE_TYPE.DOCUMENT,tmx:kn.XHR_RESPONSE_TYPE.DOCUMENT,svg:kn.XHR_RESPONSE_TYPE.DOCUMENT,tsx:kn.XHR_RESPONSE_TYPE.DOCUMENT,gif:kn.XHR_RESPONSE_TYPE.BLOB,png:kn.XHR_RESPONSE_TYPE.BLOB,bmp:kn.XHR_RESPONSE_TYPE.BLOB,jpg:kn.XHR_RESPONSE_TYPE.BLOB,jpeg:kn.XHR_RESPONSE_TYPE.BLOB,tif:kn.XHR_RESPONSE_TYPE.BLOB,tiff:kn.XHR_RESPONSE_TYPE.BLOB,webp:kn.XHR_RESPONSE_TYPE.BLOB,tga:kn.XHR_RESPONSE_TYPE.BLOB,json:kn.XHR_RESPONSE_TYPE.JSON,text:kn.XHR_RESPONSE_TYPE.TEXT,txt:kn.XHR_RESPONSE_TYPE.TEXT,ttf:kn.XHR_RESPONSE_TYPE.BUFFER,otf:kn.XHR_RESPONSE_TYPE.BUFFER},kn.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var Gn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var Hn=window.URL||window.webkitURL;var zn={caching:function(t,e){var r=this;Rn[t.url]?(t.data=Rn[t.url],t.complete()):t.onComplete.once((function(){return Rn[r.url]=r.data})),e()},parsing:function(t,e){if(t.data){if(t.xhr&&t.xhrType===kn.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var r=Hn.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=r,t.type=kn.TYPE.IMAGE,void(t.data.onload=function(){Hn.revokeObjectURL(r),t.data.onload=null,e()})}}else{var i=t.xhr.getResponseHeader("content-type");if(i&&0===i.indexOf("image"))return t.data=new Image,t.data.src="data:"+i+";base64,"+function(t){for(var e="",r=0;r<t.length;){for(var i=[0,0,0],n=[0,0,0,0],o=0;o<i.length;++o)r<t.length?i[o]=255&t.charCodeAt(r++):i[o]=0;switch(n[0]=i[0]>>2,n[1]=(3&i[0])<<4|i[1]>>4,n[2]=(15&i[1])<<2|i[2]>>6,n[3]=63&i[2],r-(t.length-1)){case 2:n[3]=64,n[2]=64;break;case 1:n[3]=64}for(var s=0;s<n.length;++s)e+=Gn.charAt(n[s])}return e}(t.xhr.responseText),t.type=kn.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}else e()}},Vn=/(#[\w-]+)?$/,Yn=function(){function t(e,r){var i=this;void 0===e&&(e=""),void 0===r&&(r=10),this.baseUrl=e,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return i._loadResource(t,e)},this._queue=Dn(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new An.a,this.onError=new An.a,this.onLoad=new An.a,this.onStart=new An.a,this.onComplete=new An.a;for(var n=0;n<t._defaultBeforeMiddleware.length;++n)this.pre(t._defaultBeforeMiddleware[n]);for(var o=0;o<t._defaultAfterMiddleware.length;++o)this.use(t._defaultAfterMiddleware[o])}var e=t.prototype;return e.add=function(t,e,r,i){if(Array.isArray(t)){for(var n=0;n<t.length;++n)this.add(t[n]);return this}if("object"==typeof t&&(i=e||t.callback||t.onComplete,r=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(i=r,r=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof r&&(i=r,r=null),this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new kn(t,e,r),"function"==typeof i&&this.resources[t].onAfterMiddleware.once(i),this.loading){for(var o=r.parentResource,s=[],a=0;a<o.children.length;++a)o.children[a].isComplete||s.push(o.children[a]);var h=o.progressChunk*(s.length+1)/(s.length+2);o.children.push(this.resources[t]),o.progressChunk=h;for(var u=0;u<s.length;++u)s[u].progressChunk=h;this.resources[t].progressChunk=h}return this._queue.push(this.resources[t]),this},e.pre=function(t){return this._beforeMiddleware.push(t),this},e.use=function(t){return this._afterMiddleware.push(t),this},e.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},e.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},e._prepareUrl=function(t){var e,r=In()(t,{strictMode:!0});if(e=r.protocol||!r.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var i=Vn.exec(e)[0];-1!==(e=e.substr(0,e.length-i.length)).indexOf("?")?e+="&"+this.defaultQueryString:e+="?"+this.defaultQueryString,e+=i}return e},e._loadResource=function(t,e){var r=this;t._dequeue=e,Cn(this._beforeMiddleware,(function(e,i){e.call(r,t,(function(){i(t.isComplete?{}:null)}))}),(function(){t.isComplete?r._onLoad(t):(t._onLoadBinding=t.onComplete.once(r._onLoad,r),t.load())}),!0)},e._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},e._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},e._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),Cn(this._afterMiddleware,(function(r,i){r.call(e,t,i)}),(function(){t.onAfterMiddleware.dispatch(t),e.progress=Math.min(100,e.progress+t.progressChunk),e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()}),!0)},Ln(t,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),t}();Yn._defaultBeforeMiddleware=[],Yn._defaultAfterMiddleware=[],Yn.pre=function(t){return Yn._defaultBeforeMiddleware.push(t),Yn},Yn.use=function(t){return Yn._defaultAfterMiddleware.push(t),Yn};
/*!
 * @pixi/loaders - v5.1.4
 * Compiled Fri, 20 Sep 2019 17:17:59 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var Wn=function(){};Wn.use=function(t,e){t.data&&t.type===kn.TYPE.IMAGE&&(t.texture=Te.fromLoader(t.data,t.url,t.name)),e()};var qn=function(t){function e(r,i){var n=this;t.call(this,r,i),d.a.call(this);for(var o=0;o<e._plugins.length;++o){var s=e._plugins[o],a=s.pre,h=s.use;a&&this.pre(a),h&&this.use(h)}this.onStart.add((function(t){return n.emit("start",t)})),this.onProgress.add((function(t,e){return n.emit("progress",t,e)})),this.onError.add((function(t,e,r){return n.emit("error",t,e,r)})),this.onLoad.add((function(t,e){return n.emit("load",t,e)})),this.onComplete.add((function(t,e){return n.emit("complete",t,e)})),this._protected=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={shared:{configurable:!0}};return e.prototype.destroy=function(){this._protected||(this.removeAllListeners(),this.reset())},r.shared.get=function(){var t=e._shared;return t||((t=new e)._protected=!0,e._shared=t),t},Object.defineProperties(e,r),e}(Yn);Object.assign(qn.prototype,d.a.prototype),qn._plugins=[],qn.registerPlugin=function(t){return qn._plugins.push(t),t.add&&t.add(),qn},qn.registerPlugin({use:zn.parsing}),qn.registerPlugin(Wn);var Zn=function(){};Zn.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?qn.shared:new qn},Zn.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)};var Kn=kn,Jn=function(t){function e(e,r,i,n){void 0===e&&(e=1500),void 0===i&&(i=16384),void 0===n&&(n=!1),t.call(this);i>16384&&(i=16384),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=i,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=_.NORMAL,this.autoResize=n,this.roundPixels=!0,this.baseTexture=null,this.setProperties(r),this._tint=0,this.tintRgb=new Float32Array(4),this.tint=16777215}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={tint:{configurable:!0}};return e.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},r.tint.get=function(){return this._tint},r.tint.set=function(t){this._tint=t,L(t,this.tintRgb)},e.prototype.render=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",(function(){return e.onChildrenChange(0)}))),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},Object.defineProperties(e.prototype,r),e}(Gt),Qn=function(t,e,r){this.geometry=new Fe,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<t.length;++i){var n=t[i];n={attributeName:n.attributeName,size:n.size,uploadFunction:n.uploadFunction,type:n.type||w.FLOAT,offset:n.offset},e[i]?this.dynamicProperties.push(n):this.staticProperties.push(n)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()};
/*!
 * @pixi/particles - v5.1.4
 * Compiled Fri, 20 Sep 2019 17:17:59 UTC
 *
 * @pixi/particles is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Qn.prototype.initBuffers=function(){var t=this.geometry,e=0;this.indexBuffer=new Ae(z(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var r=0;r<this.dynamicProperties.length;++r){var i=this.dynamicProperties[r];i.offset=e,e+=i.size,this.dynamicStride+=i.size}var n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new Ae(this.dynamicData,!1,!1);var o=0;this.staticStride=0;for(var s=0;s<this.staticProperties.length;++s){var a=this.staticProperties[s];a.offset=o,o+=a.size,this.staticStride+=a.size}var h=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(h),this.staticDataUint32=new Uint32Array(h),this.staticBuffer=new Ae(this.staticData,!0,!1);for(var u=0;u<this.dynamicProperties.length;++u){var l=this.dynamicProperties[u];t.addAttribute(l.attributeName,this.dynamicBuffer,0,l.type===w.UNSIGNED_BYTE,l.type,4*this.dynamicStride,4*l.offset)}for(var c=0;c<this.staticProperties.length;++c){var d=this.staticProperties[c];t.addAttribute(d.attributeName,this.staticBuffer,0,d.type===w.UNSIGNED_BYTE,d.type,4*this.staticStride,4*d.offset)}},Qn.prototype.uploadDynamic=function(t,e,r){for(var i=0;i<this.dynamicProperties.length;i++){var n=this.dynamicProperties[i];n.uploadFunction(t,e,r,n.type===w.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,n.offset)}this.dynamicBuffer._updateID++},Qn.prototype.uploadStatic=function(t,e,r){for(var i=0;i<this.staticProperties.length;i++){var n=this.staticProperties[i];n.uploadFunction(t,e,r,n.type===w.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,n.offset)}this.staticBuffer._updateID++},Qn.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()};var $n="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n",to="varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",eo=function(t){function e(e){t.call(this,e),this.shader=null,this.properties=null,this.tempMatrix=new xt,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:w.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=_r.from($n,to,{})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(t){var e=t.children,r=t._maxSize,i=t._batchSize,n=this.renderer,o=e.length;if(0!==o){o>r&&!t.autoResize&&(o=r);var s=t._buffers;s||(s=t._buffers=this.generateBuffers(t));var a=e[0]._texture.baseTexture;this.renderer.state.setBlendMode(X(t.blendMode,a.premultiplyAlpha));var h=n.gl,u=t.worldTransform.copyTo(this.tempMatrix);u.prepend(n.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=u.toArray(!0),this.shader.uniforms.uColor=j(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,a.premultiplyAlpha),this.shader.uniforms.uSampler=a,this.renderer.shader.bind(this.shader);for(var l=!1,c=0,d=0;c<o;c+=i,d+=1){var p=o-c;p>i&&(p=i),d>=s.length&&s.push(this._generateOneMoreBuffer(t));var f=s[d];f.uploadDynamic(e,c,p);var v=t._bufferUpdateIDs[d]||0;(l=l||f._updateID<v)&&(f._updateID=t._updateID,f.uploadStatic(e,c,p)),n.geometry.bind(f.geometry),h.drawElements(h.TRIANGLES,6*p,h.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(t){for(var e=[],r=t._maxSize,i=t._batchSize,n=t._properties,o=0;o<r;o+=i)e.push(new Qn(this.properties,n,i));return e},e.prototype._generateOneMoreBuffer=function(t){var e=t._batchSize,r=t._properties;return new Qn(this.properties,r,e)},e.prototype.uploadVertices=function(t,e,r,i,n,o){for(var s=0,a=0,h=0,u=0,l=0;l<r;++l){var c=t[e+l],d=c._texture,p=c.scale.x,f=c.scale.y,v=d.trim,g=d.orig;v?(s=(a=v.x-c.anchor.x*g.width)+v.width,h=(u=v.y-c.anchor.y*g.height)+v.height):(s=g.width*(1-c.anchor.x),a=g.width*-c.anchor.x,h=g.height*(1-c.anchor.y),u=g.height*-c.anchor.y),i[o]=a*p,i[o+1]=u*f,i[o+n]=s*p,i[o+n+1]=u*f,i[o+2*n]=s*p,i[o+2*n+1]=h*f,i[o+3*n]=a*p,i[o+3*n+1]=h*f,o+=4*n}},e.prototype.uploadPosition=function(t,e,r,i,n,o){for(var s=0;s<r;s++){var a=t[e+s].position;i[o]=a.x,i[o+1]=a.y,i[o+n]=a.x,i[o+n+1]=a.y,i[o+2*n]=a.x,i[o+2*n+1]=a.y,i[o+3*n]=a.x,i[o+3*n+1]=a.y,o+=4*n}},e.prototype.uploadRotation=function(t,e,r,i,n,o){for(var s=0;s<r;s++){var a=t[e+s].rotation;i[o]=a,i[o+n]=a,i[o+2*n]=a,i[o+3*n]=a,o+=4*n}},e.prototype.uploadUvs=function(t,e,r,i,n,o){for(var s=0;s<r;++s){var a=t[e+s]._texture._uvs;a?(i[o]=a.x0,i[o+1]=a.y0,i[o+n]=a.x1,i[o+n+1]=a.y1,i[o+2*n]=a.x2,i[o+2*n+1]=a.y2,i[o+3*n]=a.x3,i[o+3*n+1]=a.y3,o+=4*n):(i[o]=0,i[o+1]=0,i[o+n]=0,i[o+n+1]=0,i[o+2*n]=0,i[o+2*n+1]=0,i[o+3*n]=0,i[o+3*n+1]=0,o+=4*n)}},e.prototype.uploadTint=function(t,e,r,i,n,o){for(var s=0;s<r;++s){var a=t[e+s],h=a._texture.baseTexture.premultiplyAlpha,u=a.alpha,l=u<1&&h?G(a._tintRGB,u):a._tintRGB+(255*u<<24);i[o]=l,i[o+n]=l,i[o+2*n]=l,i[o+3*n]=l,o+=4*n}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e}(je),ro=function(t,e,r){void 0===r&&(r=null),this.baseTexture=t,this.textures={},this.animations={},this.data=e,this.resolution=this._updateResolution(r||(this.baseTexture.resource?this.baseTexture.resource.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null},io={BATCH_SIZE:{configurable:!0}};io.BATCH_SIZE.get=function(){return 1e3},ro.prototype._updateResolution=function(t){var e=this.data.meta.scale,r=lt(t,null);return null===r&&(r=void 0!==e?parseFloat(e):1),1!==r&&this.baseTexture.setResolution(r),r},ro.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=ro.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},ro.prototype._processFrames=function(t){for(var e=t,r=ro.BATCH_SIZE;e-t<r&&e<this._frameKeys.length;){var i=this._frameKeys[e],n=this._frames[i],o=n.frame;if(o){var s=null,a=null,h=!1!==n.trimmed&&n.sourceSize?n.sourceSize:n.frame,u=new Dt(0,0,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution);s=n.rotated?new Dt(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):new Dt(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),!1!==n.trimmed&&n.spriteSourceSize&&(a=new Dt(Math.floor(n.spriteSourceSize.x)/this.resolution,Math.floor(n.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new Te(this.baseTexture,s,u,a,n.rotated?2:0,n.anchor),Te.addToCache(this.textures[i],i)}e++}},ro.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];for(var r=0;r<t[e].length;r++){var i=t[e][r];this.animations[e].push(this.textures[i])}}},ro.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},ro.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*ro.BATCH_SIZE),this._batchIndex++,setTimeout((function(){t._batchIndex*ro.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())}),0)},ro.prototype.destroy=function(t){for(var e in void 0===t&&(t=!1),this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&this.baseTexture.destroy(),this.baseTexture=null},Object.defineProperties(ro,io);var no=function(){};no.use=function(t,e){var r=t.name+"_image";if(t.data&&t.type===Kn.TYPE.JSON&&t.data.frames&&!this.resources[r]){var i={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},n=no.getResourcePath(t,this.baseUrl);this.add(r,n,i,(function(r){if(r.error)e(r.error);else{var i=new ro(r.texture.baseTexture,t.data,t.url);i.parse((function(){t.spritesheet=i,t.textures=i.textures,e()}))}}))}else e()},no.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:g.a.resolve(t.url.replace(e,""),t.data.meta.image)};
/*!
 * @pixi/sprite-tiling - v5.1.4
 * Compiled Fri, 20 Sep 2019 17:17:59 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var oo=new pt,so=function(t){function e(e,r,i){void 0===r&&(r=100),void 0===i&&(i=100),t.call(this,e),this.tileTransform=new Ct,this._width=r,this._height=i,this._canvasPattern=null,this.uvMatrix=e.uvMatrix||new Pr(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={clampMargin:{configurable:!0},tileScale:{configurable:!0},tilePosition:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};return r.clampMargin.get=function(){return this.uvMatrix.clampMargin},r.clampMargin.set=function(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)},r.tileScale.get=function(){return this.tileTransform.scale},r.tileScale.set=function(t){this.tileTransform.scale.copyFrom(t)},r.tilePosition.get=function(){return this.tileTransform.position},r.tilePosition.set=function(t){this.tileTransform.position.copyFrom(t)},e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},e.prototype._render=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,r,i)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Dt),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,oo);var e=this._width,r=this._height,i=-e*this.anchor._x;if(oo.x>=i&&oo.x<i+e){var n=-r*this.anchor._y;if(oo.y>=n&&oo.y<n+r)return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},e.from=function(t,r,i){return new e(Te.from(t),r,i)},e.fromFrame=function(t,r,i){var n=$[t];if(!n)throw new Error('The frameId "'+t+'" does not exist in the texture cache '+this);return new e(n,r,i)},e.fromImage=function(t,r,i,n){return n&&"object"!=typeof n&&(n={scaleMode:arguments[4],resourceOptions:{crossorigin:arguments[3]}}),new e(Te.from(t,n),r,i)},r.width.get=function(){return this._width},r.width.set=function(t){this._width=t},r.height.get=function(){return this._height},r.height.set=function(t){this._height=t},Object.defineProperties(e.prototype,r),e}(qi),ao="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",ho="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n",uo="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n",lo=new xt,co=function(t){function e(e){t.call(this,e);var r={globals:this.renderer.globalUniforms};this.shader=_r.from(ao,ho,r),this.simpleShader=_r.from(ao,uo,r),this.quad=new Ne}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(t){var e=this.renderer,r=this.quad,i=r.vertices;i[0]=i[6]=t._width*-t.anchor.x,i[1]=i[3]=t._height*-t.anchor.y,i[2]=i[4]=t._width*(1-t.anchor.x),i[5]=i[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&((i=r.uvs)[0]=i[6]=-t.anchor.x,i[1]=i[3]=-t.anchor.y,i[2]=i[4]=1-t.anchor.x,i[5]=i[7]=1-t.anchor.y),r.invalidate();var n=t._texture,o=n.baseTexture,s=t.tileTransform.localTransform,a=t.uvMatrix,h=o.isPowerOfTwo&&n.frame.width===o.width&&n.frame.height===o.height;h&&(o._glTextures[e.CONTEXT_UID]?h=o.wrapMode!==S.CLAMP:o.wrapMode===S.CLAMP&&(o.wrapMode=S.REPEAT));var u=h?this.simpleShader:this.shader,l=n.width,c=n.height,d=t._width,p=t._height;lo.set(s.a*l/d,s.b*l/p,s.c*c/d,s.d*c/p,s.tx/d,s.ty/p),lo.invert(),h?lo.prepend(a.mapCoord):(u.uniforms.uMapCoord=a.mapCoord.toArray(!0),u.uniforms.uClampFrame=a.uClampFrame,u.uniforms.uClampOffset=a.uClampOffset),u.uniforms.uTransform=lo.toArray(!0),u.uniforms.uColor=H(t.tint,t.worldAlpha,u.uniforms.uColor,o.premultiplyAlpha),u.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),u.uniforms.uSampler=n,e.shader.bind(u),e.geometry.bind(r),e.state.setBlendMode(X(t.blendMode,o.premultiplyAlpha)),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e}(je),po=function(t){function e(e,r){var i=this;void 0===r&&(r={}),t.call(this),this._textWidth=0,this._textHeight=0,this._glyphs=[],this._font={tint:void 0!==r.tint?r.tint:16777215,align:r.align||"left",name:null,size:0},this.font=r.font,this._text=e,this._maxWidth=0,this._maxLineHeight=0,this._letterSpacing=0,this._anchor=new ft((function(){i.dirty=!0}),this,0,0),this.dirty=!1,this.roundPixels=l.ROUND_PIXELS,this.updateText()}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={tint:{configurable:!0},align:{configurable:!0},anchor:{configurable:!0},font:{configurable:!0},text:{configurable:!0},maxWidth:{configurable:!0},maxLineHeight:{configurable:!0},textWidth:{configurable:!0},letterSpacing:{configurable:!0},textHeight:{configurable:!0}};return e.prototype.updateText=function(){for(var t=e.fonts[this._font.name],r=this._font.size/t.size,i=new pt,n=[],o=[],s=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",a=s.length,h=this._maxWidth*t.size/this._font.size,u=null,l=0,c=0,d=0,p=-1,f=0,v=0,g=0,m=0;m<a;m++){var y=s.charCodeAt(m),_=s.charAt(m);if(/(?:\s)/.test(_)&&(p=m,f=l),"\r"!==_&&"\n"!==_){var x=t.chars[y];x&&(u&&x.kerning[u]&&(i.x+=x.kerning[u]),n.push({texture:x.texture,line:d,charCode:y,position:new pt(i.x+x.xOffset+this._letterSpacing/2,i.y+x.yOffset)}),i.x+=x.xAdvance+this._letterSpacing,l=i.x,g=Math.max(g,x.yOffset+x.texture.height),u=y,-1!==p&&h>0&&i.x>h&&(V(n,1+p-++v,1+m-p),m=p,p=-1,o.push(f),c=Math.max(c,f),d++,i.x=0,i.y+=t.lineHeight,u=null))}else o.push(l),c=Math.max(c,l),++d,++v,i.x=0,i.y+=t.lineHeight,u=null}var b=s.charAt(s.length-1);"\r"!==b&&"\n"!==b&&(/(?:\s)/.test(b)&&(l=f),o.push(l),c=Math.max(c,l));for(var T=[],w=0;w<=d;w++){var E=0;"right"===this._font.align?E=c-o[w]:"center"===this._font.align&&(E=(c-o[w])/2),T.push(E)}for(var S=n.length,I=this.tint,P=0;P<S;P++){var A=this._glyphs[P];A?A.texture=n[P].texture:((A=new qi(n[P].texture)).roundPixels=this.roundPixels,this._glyphs.push(A)),A.position.x=(n[P].position.x+T[n[P].line])*r,A.position.y=n[P].position.y*r,A.scale.x=A.scale.y=r,A.tint=I,A.parent||this.addChild(A)}for(var O=S;O<this._glyphs.length;++O)this.removeChild(this._glyphs[O]);if(this._textWidth=c*r,this._textHeight=(i.y+t.lineHeight)*r,0!==this.anchor.x||0!==this.anchor.y)for(var C=0;C<S;C++)this._glyphs[C].x-=this._textWidth*this.anchor.x,this._glyphs[C].y-=this._textHeight*this.anchor.y;this._maxLineHeight=g*r},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},r.tint.get=function(){return this._font.tint},r.tint.set=function(t){this._font.tint="number"==typeof t&&t>=0?t:16777215,this.dirty=!0},r.align.get=function(){return this._font.align},r.align.set=function(t){this._font.align=t||"left",this.dirty=!0},r.anchor.get=function(){return this._anchor},r.anchor.set=function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)},r.font.get=function(){return this._font},r.font.set=function(t){t&&("string"==typeof t?(t=t.split(" "),this._font.name=1===t.length?t[0]:t.slice(1).join(" "),this._font.size=t.length>=2?parseInt(t[0],10):e.fonts[this._font.name].size):(this._font.name=t.name,this._font.size="number"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)},r.text.get=function(){return this._text},r.text.set=function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},r.maxWidth.get=function(){return this._maxWidth},r.maxWidth.set=function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)},r.maxLineHeight.get=function(){return this.validate(),this._maxLineHeight},r.textWidth.get=function(){return this.validate(),this._textWidth},r.letterSpacing.get=function(){return this._letterSpacing},r.letterSpacing.set=function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)},r.textHeight.get=function(){return this.validate(),this._textHeight},e.registerFont=function(t,r){var i={},n=t.getElementsByTagName("info")[0],o=t.getElementsByTagName("common")[0],s=t.getElementsByTagName("page"),a=lt(s[0].getAttribute("file"),l.RESOLUTION),h={};i.font=n.getAttribute("face"),i.size=parseInt(n.getAttribute("size"),10),i.lineHeight=parseInt(o.getAttribute("lineHeight"),10)/a,i.chars={},r instanceof Te&&(r=[r]);for(var u=0;u<s.length;u++){var c=s[u].getAttribute("id"),d=s[u].getAttribute("file");h[c]=r instanceof Array?r[u]:r[d]}for(var p=t.getElementsByTagName("char"),f=0;f<p.length;f++){var v=p[f],g=parseInt(v.getAttribute("id"),10),m=v.getAttribute("page")||0,y=new Dt(parseInt(v.getAttribute("x"),10)/a+h[m].frame.x/a,parseInt(v.getAttribute("y"),10)/a+h[m].frame.y/a,parseInt(v.getAttribute("width"),10)/a,parseInt(v.getAttribute("height"),10)/a);i.chars[g]={xOffset:parseInt(v.getAttribute("xoffset"),10)/a,yOffset:parseInt(v.getAttribute("yoffset"),10)/a,xAdvance:parseInt(v.getAttribute("xadvance"),10)/a,kerning:{},texture:new Te(h[m].baseTexture,y),page:m}}for(var _=t.getElementsByTagName("kerning"),x=0;x<_.length;x++){var b=_[x],T=parseInt(b.getAttribute("first"),10)/a,w=parseInt(b.getAttribute("second"),10)/a,E=parseInt(b.getAttribute("amount"),10)/a;i.chars[w]&&(i.chars[w].kerning[T]=E)}return e.fonts[i.font]=i,i},Object.defineProperties(e.prototype,r),e}(Gt);po.fonts={};var fo=function(){};fo.parse=function(t,e){t.bitmapFont=po.registerFont(t.data,e)},fo.add=function(){Kn.setExtensionXhrType("fnt",Kn.XHR_RESPONSE_TYPE.DOCUMENT)},fo.dirname=function(t){var e=t.replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":""===e?"/":e},fo.use=function(t,e){if(t.data&&t.type===Kn.TYPE.XML)if(0!==t.data.getElementsByTagName("page").length&&0!==t.data.getElementsByTagName("info").length&&null!==t.data.getElementsByTagName("info")[0].getAttribute("face")){var r=t.isDataUrl?"":fo.dirname(t.url);t.isDataUrl&&("."===r&&(r=""),this.baseUrl&&r&&"/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(r+="/")),(r=r.replace(this.baseUrl,""))&&"/"!==r.charAt(r.length-1)&&(r+="/");for(var i=t.data.getElementsByTagName("page"),n={},o=function(r){n[r.metadata.pageFile]=r.texture,Object.keys(n).length===i.length&&(fo.parse(t,n),e())},s=0;s<i.length;++s){var a=i[s].getAttribute("file"),h=r+a,u=!1;for(var l in this.resources){var c=this.resources[l];if(c.url===h){c.metadata.pageFile=a,c.texture?o(c):c.onAfterMiddleware.add(o),u=!0;break}}if(!u){var d={crossOrigin:t.crossOrigin,loadType:Kn.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:a},t.metadata.imageMetadata),parentResource:t};this.add(h,d,o)}}}else e();else e()};
/*!
 * @pixi/filter-alpha - v5.1.4
 * Compiled Fri, 20 Sep 2019 17:17:59 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var vo="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",go=function(t){function e(e){void 0===e&&(e=1),t.call(this,Qr,vo,{uAlpha:1}),this.alpha=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={alpha:{configurable:!0}};return r.alpha.get=function(){return this.uniforms.uAlpha},r.alpha.set=function(t){this.uniforms.uAlpha=t},Object.defineProperties(e.prototype,r),e}(wr),mo="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n    \n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n    \n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n    \n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }";var yo={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},_o=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");var xo=function(t){function e(e,r,i,n,o){var s=function(t,e){var r,i=Math.ceil(t/2),n=mo,o="";r=e?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var s=0;s<t;s++){var a=r.replace("%index%",s);o+=a=a.replace("%sampleIndex%",s-(i-1)+".0"),o+="\n"}return n=(n=n.replace("%blur%",o)).replace("%size%",t)}(o=o||5,e),a=function(t){for(var e,r=yo[t],i=r.length,n=_o,o="",s=0;s<t;s++){var a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",s);e=s,s>=i&&(e=t-s-1),o+=a=a.replace("%value%",r[e]),o+="\n"}return n=(n=n.replace("%blur%",o)).replace("%size%",t)}(o);t.call(this,s,a),this.horizontal=e,this.resolution=n||l.RESOLUTION,this._quality=0,this.quality=i||4,this.blur=r||8}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={blur:{configurable:!0},quality:{configurable:!0}};return e.prototype.apply=function(t,e,r,i){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/e.width):this.uniforms.strength=1/r.height*(r.height/e.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,i);else{var n=t.getFilterTexture(),o=t.renderer,s=e,a=n;this.state.blend=!1,t.applyFilter(this,s,a,!1);for(var h=1;h<this.passes-1;h++){o.renderTexture.bind(s,s.filterFrame),this.uniforms.uSampler=a;var u=a;a=s,s=u,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,a,r,i),t.returnFilterTexture(n)}},r.blur.get=function(){return this.strength},r.blur.set=function(t){this.padding=1+2*Math.abs(t),this.strength=t},r.quality.get=function(){return this._quality},r.quality.set=function(t){this._quality=t,this.passes=t},Object.defineProperties(e.prototype,r),e}(wr),bo=function(t){function e(e,r,i,n){t.call(this),this.blurXFilter=new xo(!0,e,r,i,n),this.blurYFilter=new xo(!1,e,r,i,n),this.resolution=i||l.RESOLUTION,this.quality=r||4,this.blur=e||8,this.repeatEdgePixels=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={blur:{configurable:!0},quality:{configurable:!0},blurX:{configurable:!0},blurY:{configurable:!0},blendMode:{configurable:!0},repeatEdgePixels:{configurable:!0}};return e.prototype.apply=function(t,e,r,i){var n=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(n&&o){var s=t.getFilterTexture();this.blurXFilter.apply(t,e,s,!0),this.blurYFilter.apply(t,s,r,i),t.returnFilterTexture(s)}else o?this.blurYFilter.apply(t,e,r,i):this.blurXFilter.apply(t,e,r,i)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},r.blur.get=function(){return this.blurXFilter.blur},r.blur.set=function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()},r.quality.get=function(){return this.blurXFilter.quality},r.quality.set=function(t){this.blurXFilter.quality=this.blurYFilter.quality=t},r.blurX.get=function(){return this.blurXFilter.blur},r.blurX.set=function(t){this.blurXFilter.blur=t,this.updatePadding()},r.blurY.get=function(){return this.blurYFilter.blur},r.blurY.set=function(t){this.blurYFilter.blur=t,this.updatePadding()},r.blendMode.get=function(){return this.blurYFilter.blendMode},r.blendMode.set=function(t){this.blurYFilter.blendMode=t},r.repeatEdgePixels.get=function(){return this._repeatEdgePixels},r.repeatEdgePixels.set=function(t){this._repeatEdgePixels=t,this.updatePadding()},Object.defineProperties(e.prototype,r),e}(wr),To="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",wo=function(t){function e(){var e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};t.call(this,$r,To,e),this.alpha=1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={matrix:{configurable:!0},alpha:{configurable:!0}};return e.prototype._loadMatrix=function(t,e){void 0===e&&(e=!1);var r=t;e&&(this._multiply(r,this.uniforms.m,t),r=this._colorMatrix(r)),this.uniforms.m=r},e.prototype._multiply=function(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19]+e[4],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19]+e[9],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19]+e[14],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.greyscale=function(t,e){var r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var r=Math.cos(t),i=Math.sin(t),n=1/3,o=(0,Math.sqrt)(n),s=[r+(1-r)*n,n*(1-r)-o*i,n*(1-r)+o*i,0,0,n*(1-r)+o*i,r+n*(1-r),n*(1-r)-o*i,0,0,n*(1-r)-o*i,n*(1-r)+o*i,r+n*(1-r),0,0,0,0,0,1,0];this._loadMatrix(s,e)},e.prototype.contrast=function(t,e){var r=(t||0)+1,i=-.5*(r-1),n=[r,0,0,0,i,0,r,0,0,i,0,0,r,0,i,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.saturate=function(t,e){void 0===t&&(t=0);var r=2*t/3+1,i=-.5*(r-1),n=[r,i,i,0,0,i,r,i,0,0,i,i,r,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,e,r,i,n){var o=((r=r||16770432)>>16&255)/255,s=(r>>8&255)/255,a=(255&r)/255,h=((i=i||3375104)>>16&255)/255,u=(i>>8&255)/255,l=(255&i)/255,c=[.3,.59,.11,0,0,o,s,a,t=t||.2,0,h,u,l,e=e||.15,0,o-h,s-u,a-l,0,0];this._loadMatrix(c,n)},e.prototype.night=function(t,e){var r=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.predator=function(t,e){var r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},r.matrix.get=function(){return this.uniforms.m},r.matrix.set=function(t){this.uniforms.m=t},r.alpha.get=function(){return this.uniforms.uAlpha},r.alpha.set=function(t){this.uniforms.uAlpha=t},Object.defineProperties(e.prototype,r),e}(wr);wo.prototype.grayscale=wo.prototype.greyscale;
/*!
 * @pixi/filter-displacement - v5.1.4
 * Compiled Fri, 20 Sep 2019 17:17:59 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var Eo="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n",So="varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",Io=function(t){function e(e,r){var i=new xt;e.renderable=!1,t.call(this,Eo,So,{mapSampler:e._texture,filterMatrix:i,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=i,null==r&&(r=20),this.scale=new pt(r,r)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={map:{configurable:!0}};return e.prototype.apply=function(t,e,r,i){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var n=this.maskSprite.transform.worldTransform,o=Math.sqrt(n.a*n.a+n.b*n.b),s=Math.sqrt(n.c*n.c+n.d*n.d);0!==o&&0!==s&&(this.uniforms.rotation[0]=n.a/o,this.uniforms.rotation[1]=n.b/o,this.uniforms.rotation[2]=n.c/s,this.uniforms.rotation[3]=n.d/s),t.applyFilter(this,e,r,i)},r.map.get=function(){return this.uniforms.mapSampler},r.map.set=function(t){this.uniforms.mapSampler=t},Object.defineProperties(e.prototype,r),e}(wr),Po="\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputPixel;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",Ao='varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputPixel;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n',Oo=function(t){function e(){t.call(this,Po,Ao)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(wr),Co="precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",Mo=function(t){function e(e,r){void 0===e&&(e=.5),void 0===r&&(r=Math.random()),t.call(this,$r,Co,{uNoise:0,uSeed:0}),this.noise=e,this.seed=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={noise:{configurable:!0},seed:{configurable:!0}};return r.noise.get=function(){return this.uniforms.uNoise},r.noise.set=function(t){this.uniforms.uNoise=t},r.seed.get=function(){return this.uniforms.uSeed},r.seed.set=function(t){this.uniforms.uSeed=t},Object.defineProperties(e.prototype,r),e}(wr),Do=new xt;Xt.prototype._cacheAsBitmap=!1,Xt.prototype._cacheData=!1;var Ro=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(Xt.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){var e;this._cacheAsBitmap!==t&&(this._cacheAsBitmap=t,t?(this._cacheData||(this._cacheData=new Ro),(e=this._cacheData).originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea))}}}),Xt.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},Xt.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.batch.flush();var r=this.getLocalBounds().clone();if(this.filters){var i=this.filters[0].padding;r.pad(i)}r.ceil(l.RESOLUTION);var n=t.renderTexture.current,o=t.renderTexture.sourceFrame,s=t.projection.transform,a=Ee.create(r.width,r.height),h="cacheAsBitmap_"+W();this._cacheData.textureCacheId=h,ae.addToCache(a.baseTexture,h),Te.addToCache(a,h);var u=Do;u.tx=-r.x,u.ty=-r.y,this.transform.worldTransform.identity(),this.render=this._cacheData.originalRender,t.render(this,a,!0,u,!0),t.projection.transform=s,t.renderTexture.bind(n,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var c=new qi(a);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-r.x/r.width,c.anchor.y=-r.y/r.height,c.alpha=e,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=c.containsPoint.bind(c)}},Xt.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},Xt.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(),r=this.alpha;this.alpha=1;var i=t.context;e.ceil(l.RESOLUTION);var n=Ee.create(e.width,e.height),o="cacheAsBitmap_"+W();this._cacheData.textureCacheId=o,ae.addToCache(n.baseTexture,o),Te.addToCache(n,o);var s=Do;this.transform.localTransform.copyTo(s),s.invert(),s.tx-=e.x,s.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,n,!0,s,!1),t.context=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var a=new qi(n);a.transform.worldTransform=this.transform.worldTransform,a.anchor.x=-e.x/e.width,a.anchor.y=-e.y/e.height,a.alpha=r,a._bounds=this._bounds,this._cacheData.sprite=a,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=a.containsPoint.bind(a)}},Xt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._lastBoundsID=this._boundsID},Xt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},Xt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,ae.removeFromCache(this._cacheData.textureCacheId),Te.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},Xt.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},
/*!
 * @pixi/mixin-get-child-by-name - v5.1.3
 * Compiled Mon, 09 Sep 2019 04:51:53 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
Xt.prototype.name=null,Gt.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null},
/*!
 * @pixi/mixin-get-global-position - v5.1.3
 * Compiled Mon, 09 Sep 2019 04:51:53 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
Xt.prototype.getGlobalPosition=function(t,e){return void 0===t&&(t=new pt),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};
/*!
 * @pixi/mesh - v5.1.4
 * Compiled Fri, 20 Sep 2019 17:17:59 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var Fo=function(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0};Fo.prototype.update=function(t){if(t||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;this.data&&this.data.length===e.length||(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}};var Lo=new pt,No=new Bt,Bo=function(t){function e(e,r,i,n){void 0===n&&(n=x.TRIANGLES),t.call(this),this.geometry=e,e.refCount++,this.shader=r,this.state=i||br.for2d(),this.drawMode=n,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=0,this._transformID=-1,this.tint=16777215,this.blendMode=_.NORMAL,this._roundPixels=l.ROUND_PIXELS,this.batchUvs=null}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={uvBuffer:{configurable:!0},verticesBuffer:{configurable:!0},material:{configurable:!0},blendMode:{configurable:!0},roundPixels:{configurable:!0},tint:{configurable:!0},texture:{configurable:!0}};return r.uvBuffer.get=function(){return this.geometry.buffers[1]},r.verticesBuffer.get=function(){return this.geometry.buffers[0]},r.material.set=function(t){this.shader=t},r.material.get=function(){return this.shader},r.blendMode.set=function(t){this.state.blendMode=t},r.blendMode.get=function(){return this.state.blendMode},r.roundPixels.set=function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},r.roundPixels.get=function(){return this._roundPixels},r.tint.get=function(){return this.shader.tint},r.tint.set=function(t){this.shader.tint=t},r.texture.get=function(){return this.shader.texture},r.texture.set=function(t){this.shader.texture=t},e.prototype._render=function(t){var r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===x.TRIANGLES&&r.length<2*e.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)},e.prototype._renderDefault=function(t){var e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.program.uniformData.translationMatrix&&(e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(t){var e=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;var r=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[r]),t.plugins[r].render(this)},e.prototype.calculateVertices=function(){var t=this.geometry,e=t.buffers[0].data;if(t.vertexDirtyId!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));for(var r=this.transform.worldTransform,i=r.a,n=r.b,o=r.c,s=r.d,a=r.tx,h=r.ty,u=this.vertexData,l=0;l<u.length/2;l++){var c=e[2*l],d=e[2*l+1];u[2*l]=i*c+o*d+a,u[2*l+1]=n*c+s*d+h}if(this._roundPixels)for(var p=0;p<u.length;p++)u[p]=Math.round(u[p]);this.vertexDirty=t.vertexDirtyId}},e.prototype.calculateUvs=function(){var t=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new Fo(t,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,Lo);for(var e=this.geometry.getBuffer("aVertexPosition").data,r=No.points,i=this.geometry.getIndex().data,n=i.length,o=4===this.drawMode?3:1,s=0;s+2<n;s+=o){var a=2*i[s],h=2*i[s+1],u=2*i[s+2];if(r[0]=e[a],r[1]=e[a+1],r[2]=e[h],r[3]=e[h+1],r[4]=e[u],r[5]=e[u+1],No.contains(Lo.x,Lo.y))return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},Object.defineProperties(e.prototype,r),e}(Gt);Bo.BATCHABLE_SIZE=100;var Uo="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n",ko="varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n",Xo=function(t){function e(e,r){var i={uSampler:e,alpha:1,uTextureMatrix:xt.IDENTITY,uColor:new Float32Array([1,1,1,1])};(r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r)).uniforms&&Object.assign(i,r.uniforms),t.call(this,r.program||mr.from(Uo,ko),i),this._colorDirty=!1,this.uvMatrix=new Pr(e),this.batchable=void 0===r.program,this.pluginName=r.pluginName,this.tint=r.tint,this.alpha=r.alpha}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={texture:{configurable:!0},alpha:{configurable:!0},tint:{configurable:!0}};return r.texture.get=function(){return this.uniforms.uSampler},r.texture.set=function(t){this.uniforms.uSampler!==t&&(this.uniforms.uSampler=t,this.uvMatrix.texture=t)},r.alpha.set=function(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)},r.alpha.get=function(){return this._alpha},r.tint.set=function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16),this._colorDirty=!0)},r.tint.get=function(){return this._tint},e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var t=this.texture.baseTexture;H(this._tint,this._alpha,this.uniforms.uColor,t.premultiplyAlpha)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},Object.defineProperties(e.prototype,r),e}(_r),jo=function(t){function e(e,r,i){t.call(this);var n=new Ae(e),o=new Ae(r,!0),s=new Ae(i,!0,!0);this.addAttribute("aVertexPosition",n,2,!1,w.FLOAT).addAttribute("aTextureCoord",o,2,!1,w.FLOAT).addIndex(s),this._updateId=-1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={vertexDirtyId:{configurable:!0}};return r.vertexDirtyId.get=function(){return this.buffers[0]._updateID},Object.defineProperties(e.prototype,r),e}(Fe),Go=function(t){function e(e,r,i,n){void 0===e&&(e=100),void 0===r&&(r=100),void 0===i&&(i=10),void 0===n&&(n=10),t.call(this),this.segWidth=i,this.segHeight=n,this.width=e,this.height=r,this.build()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.build=function(){for(var t=this.segWidth*this.segHeight,e=[],r=[],i=[],n=this.segWidth-1,o=this.segHeight-1,s=this.width/n,a=this.height/o,h=0;h<t;h++){var u=h%this.segWidth,l=h/this.segWidth|0;e.push(u*s,l*a),r.push(u/n,l/o)}for(var c=n*o,d=0;d<c;d++){var p=d%n,f=d/n|0,v=f*this.segWidth+p,g=f*this.segWidth+p+1,m=(f+1)*this.segWidth+p,y=(f+1)*this.segWidth+p+1;i.push(v,g,m,g,y,m)}this.buffers[0].data=new Float32Array(e),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(jo),Ho=function(t){function e(e,r){void 0===e&&(e=200),t.call(this,new Float32Array(4*r.length),new Float32Array(4*r.length),new Uint16Array(6*(r.length-1))),this.points=r,this.width=e,this.build()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.build=function(){var t=this.points;if(t){var e=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),i=this.getIndex();if(!(t.length<1)){e.data.length/4!==t.length&&(e.data=new Float32Array(4*t.length),r.data=new Float32Array(4*t.length),i.data=new Uint16Array(6*(t.length-1)));var n=r.data,o=i.data;n[0]=0,n[1]=0,n[2]=0,n[3]=1;for(var s=t.length,a=0;a<s;a++){var h=4*a,u=a/(s-1);n[h]=u,n[h+1]=0,n[h+2]=u,n[h+3]=1}for(var l=0,c=0;c<s-1;c++){var d=2*c;o[l++]=d,o[l++]=d+1,o[l++]=d+2,o[l++]=d+2,o[l++]=d+1,o[l++]=d+3}r.update(),i.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var t=this.points;if(!(t.length<1)){for(var e,r=t[0],i=0,n=0,o=this.buffers[0].data,s=t.length,a=0;a<s;a++){var h=t[a],u=4*a;n=-((e=a<t.length-1?t[a+1]:h).x-r.x),i=e.y-r.y;var l=Math.sqrt(i*i+n*n),c=this.width/2;i/=l,n/=l,i*=c,n*=c,o[u]=h.x+i,o[u+1]=h.y+n,o[u+2]=h.x-i,o[u+3]=h.y-n,r=h}this.buffers[0].update()}},e.prototype.update=function(){this.updateVertices()},e}(jo),zo=function(t){function e(e,r){var i=new Ho(e.height,r),n=new Xo(e);t.call(this,i,n),this.autoUpdate=!0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._render=function(e){(this.autoUpdate||this.geometry.width!==this.shader.texture.height)&&(this.geometry.width=this.shader.texture.height,this.geometry.update()),t.prototype._render.call(this,e)},e}(Bo),Vo=function(t){function e(e,r,i){var n=new Go(e.width,e.height,r,i),o=new Xo(Te.WHITE);t.call(this,n,o),this.texture=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={texture:{configurable:!0}};return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this.geometry.width=this.shader.texture.width,this.geometry.height=this.shader.texture.height,this.geometry.build()},r.texture.set=function(t){this.shader.texture!==t&&(this.shader.texture=t,this._textureID=-1,t.baseTexture.valid?this.textureUpdated():t.once("update",this.textureUpdated,this))},r.texture.get=function(){return this.shader.texture},e.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,e)},Object.defineProperties(e.prototype,r),e}(Bo),Yo=function(t){function e(e,r,i,n,o){void 0===e&&(e=Te.EMPTY);var s=new jo(r,i,n);s.getBuffer("aVertexPosition").static=!1;var a=new Xo(e);t.call(this,s,a,null,o),this.autoUpdate=!0}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={vertices:{configurable:!0}};return r.vertices.get=function(){return this.geometry.getBuffer("aVertexPosition").data},r.vertices.set=function(t){this.geometry.getBuffer("aVertexPosition").data=t},e.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,e)},Object.defineProperties(e.prototype,r),e}(Bo),Wo=10,qo=function(t){function e(e,r,i,n,o){t.call(this,Te.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=void 0!==r?r:Wo,this._rightWidth=void 0!==n?n:Wo,this._topHeight=void 0!==i?i:Wo,this._bottomHeight=void 0!==o?o:Wo,this.texture=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={vertices:{configurable:!0},width:{configurable:!0},height:{configurable:!0},leftWidth:{configurable:!0},rightWidth:{configurable:!0},topHeight:{configurable:!0},bottomHeight:{configurable:!0}};return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},r.vertices.get=function(){return this.geometry.getBuffer("aVertexPosition").data},r.vertices.set=function(t){this.geometry.getBuffer("aVertexPosition").data=t},e.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._topHeight+this._bottomHeight,r=this._height>e?1:this._height/e;t[9]=t[11]=t[13]=t[15]=this._topHeight*r,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*r,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._leftWidth+this._rightWidth,r=this._width>e?1:this._width/e;t[2]=t[10]=t[18]=t[26]=this._leftWidth*r,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*r,t[6]=t[14]=t[22]=t[30]=this._width},r.width.get=function(){return this._width},r.width.set=function(t){this._width=t,this._refresh()},r.height.get=function(){return this._height},r.height.set=function(t){this._height=t,this._refresh()},r.leftWidth.get=function(){return this._leftWidth},r.leftWidth.set=function(t){this._leftWidth=t,this._refresh()},r.rightWidth.get=function(){return this._rightWidth},r.rightWidth.set=function(t){this._rightWidth=t,this._refresh()},r.topHeight.get=function(){return this._topHeight},r.topHeight.set=function(t){this._topHeight=t,this._refresh()},r.bottomHeight.get=function(){return this._bottomHeight},r.bottomHeight.set=function(t){this._bottomHeight=t,this._refresh()},e.prototype._refresh=function(){var t=this.texture,e=this.geometry.buffers[1].data;this._origWidth=t.orig.width,this._origHeight=t.orig.height;var r=1/this._origWidth,i=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=r*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-r*this._rightWidth,e[9]=e[11]=e[13]=e[15]=i*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},Object.defineProperties(e.prototype,r),e}(Vo),Zo=function(t){function e(e,r){t.call(this,e[0]instanceof Te?e[0]:e[0].texture),this._textures=null,this._durations=null,this.textures=e,this._autoUpdate=!1!==r,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this.playing=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={totalFrames:{configurable:!0},textures:{configurable:!0},currentFrame:{configurable:!0}};return e.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&Zt.shared.remove(this.update,this))},e.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&Zt.shared.add(this.update,this,Wt.HIGH))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){var e=this.animationSpeed*t,r=this.currentFrame;if(null!==this._durations){var i=this._currentTime%1*this._durations[this.currentFrame];for(i+=e/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];var n=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*n,this._currentTime+=n;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r?this.onLoop():this.animationSpeed<0&&this.currentFrame>r&&this.onLoop()),this.updateTexture())},e.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame)},e.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.fromFrames=function(t){for(var r=[],i=0;i<t.length;++i)r.push(Te.from(t[i]));return new e(r)},e.fromImages=function(t){for(var r=[],i=0;i<t.length;++i)r.push(Te.from(t[i]));return new e(r)},r.totalFrames.get=function(){return this._textures.length},r.textures.get=function(){return this._textures},r.textures.set=function(t){if(t[0]instanceof Te)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this.gotoAndStop(0),this.updateTexture()},r.currentFrame.get=function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t},Object.defineProperties(e.prototype,r),e}(qi);r.d(e,"VERSION",(function(){return Qo})),r.d(e,"filters",(function(){return $o})),r.d(e,"useDeprecated",(function(){return Jo})),r.d(e,"accessibility",(function(){return n})),r.d(e,"extract",(function(){return o})),r.d(e,"interaction",(function(){return s})),r.d(e,"prepare",(function(){return a})),r.d(e,"utils",(function(){return i})),r.d(e,"Application",(function(){return Tn})),r.d(e,"AbstractBatchRenderer",(function(){return ni})),r.d(e,"AbstractRenderer",(function(){return Zr})),r.d(e,"Attribute",(function(){return Ie})),r.d(e,"BaseRenderTexture",(function(){return _e})),r.d(e,"BaseTexture",(function(){return ae})),r.d(e,"BatchDrawCall",(function(){return ei})),r.d(e,"BatchGeometry",(function(){return si})),r.d(e,"BatchPluginFactory",(function(){return ui})),r.d(e,"BatchRenderer",(function(){return ci})),r.d(e,"BatchShaderGenerator",(function(){return oi})),r.d(e,"Buffer",(function(){return Ae})),r.d(e,"CubeTexture",(function(){return ti})),r.d(e,"Filter",(function(){return wr})),r.d(e,"Framebuffer",(function(){return me})),r.d(e,"GLProgram",(function(){return Lr})),r.d(e,"GLTexture",(function(){return ae})),r.d(e,"Geometry",(function(){return Fe})),r.d(e,"ObjectRenderer",(function(){return je})),r.d(e,"Program",(function(){return mr})),r.d(e,"Quad",(function(){return Le})),r.d(e,"QuadUv",(function(){return Ne})),r.d(e,"RenderTexture",(function(){return Ee})),r.d(e,"RenderTexturePool",(function(){return Se})),r.d(e,"Renderer",(function(){return Kr})),r.d(e,"Shader",(function(){return _r})),r.d(e,"SpriteMaskFilter",(function(){return Or})),r.d(e,"State",(function(){return br})),r.d(e,"System",(function(){return ve})),r.d(e,"Texture",(function(){return Te})),r.d(e,"TextureMatrix",(function(){return Pr})),r.d(e,"TextureUvs",(function(){return xe})),r.d(e,"UniformGroup",(function(){return Ue})),r.d(e,"ViewableBuffer",(function(){return ri})),r.d(e,"autoDetectRenderer",(function(){return Jr})),r.d(e,"checkMaxIfStatementsInShader",(function(){return pr})),r.d(e,"defaultFilterVertex",(function(){return $r})),r.d(e,"defaultVertex",(function(){return Qr})),r.d(e,"resources",(function(){return fe})),r.d(e,"systems",(function(){return Wr})),r.d(e,"AppLoaderPlugin",(function(){return Zn})),r.d(e,"Loader",(function(){return qn})),r.d(e,"LoaderResource",(function(){return Kn})),r.d(e,"TextureLoader",(function(){return Wn})),r.d(e,"ParticleContainer",(function(){return Jn})),r.d(e,"ParticleRenderer",(function(){return eo})),r.d(e,"Spritesheet",(function(){return ro})),r.d(e,"SpritesheetLoader",(function(){return no})),r.d(e,"TilingSprite",(function(){return so})),r.d(e,"TilingSpriteRenderer",(function(){return co})),r.d(e,"BitmapFontLoader",(function(){return fo})),r.d(e,"BitmapText",(function(){return po})),r.d(e,"Ticker",(function(){return Zt})),r.d(e,"TickerPlugin",(function(){return Qt})),r.d(e,"UPDATE_PRIORITY",(function(){return Wt})),r.d(e,"BLEND_MODES",(function(){return _})),r.d(e,"DRAW_MODES",(function(){return x})),r.d(e,"ENV",(function(){return m})),r.d(e,"FORMATS",(function(){return b})),r.d(e,"GC_MODES",(function(){return P})),r.d(e,"MIPMAP_MODES",(function(){return I})),r.d(e,"PRECISION",(function(){return A})),r.d(e,"RENDERER_TYPE",(function(){return y})),r.d(e,"SCALE_MODES",(function(){return E})),r.d(e,"TARGETS",(function(){return T})),r.d(e,"TYPES",(function(){return w})),r.d(e,"WRAP_MODES",(function(){return S})),r.d(e,"Bounds",(function(){return kt})),r.d(e,"Container",(function(){return Gt})),r.d(e,"DisplayObject",(function(){return Xt})),r.d(e,"FillStyle",(function(){return Ei})),r.d(e,"GRAPHICS_CURVES",(function(){return wi})),r.d(e,"Graphics",(function(){return Vi})),r.d(e,"GraphicsData",(function(){return Si})),r.d(e,"GraphicsGeometry",(function(){return Bi})),r.d(e,"LineStyle",(function(){return Ui})),r.d(e,"Circle",(function(){return Lt})),r.d(e,"DEG_TO_RAD",(function(){return yt})),r.d(e,"Ellipse",(function(){return Nt})),r.d(e,"GroupD8",(function(){return Ot})),r.d(e,"Matrix",(function(){return xt})),r.d(e,"ObservablePoint",(function(){return ft})),r.d(e,"PI_2",(function(){return gt})),r.d(e,"Point",(function(){return pt})),r.d(e,"Polygon",(function(){return Bt})),r.d(e,"RAD_TO_DEG",(function(){return mt})),r.d(e,"Rectangle",(function(){return Dt})),r.d(e,"RoundedRectangle",(function(){return Ut})),r.d(e,"SHAPES",(function(){return _t})),r.d(e,"Transform",(function(){return Ct})),r.d(e,"Mesh",(function(){return Bo})),r.d(e,"MeshBatchUvs",(function(){return Fo})),r.d(e,"MeshGeometry",(function(){return jo})),r.d(e,"MeshMaterial",(function(){return Xo})),r.d(e,"NineSlicePlane",(function(){return qo})),r.d(e,"PlaneGeometry",(function(){return Go})),r.d(e,"RopeGeometry",(function(){return Ho})),r.d(e,"SimpleMesh",(function(){return Yo})),r.d(e,"SimplePlane",(function(){return Vo})),r.d(e,"SimpleRope",(function(){return zo})),r.d(e,"Runner",(function(){return Vt})),r.d(e,"Sprite",(function(){return qi})),r.d(e,"AnimatedSprite",(function(){return Zo})),r.d(e,"TEXT_GRADIENT",(function(){return Zi})),r.d(e,"Text",(function(){return an})),r.d(e,"TextMetrics",(function(){return nn})),r.d(e,"TextStyle",(function(){return Qi})),r.d(e,"isMobile",(function(){return u.a})),r.d(e,"settings",(function(){return l}));
/*!
 * pixi.js - v5.1.4
 * Compiled Fri, 20 Sep 2019 17:17:59 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var Ko="5.0.0";function Jo(){var t=this;Object.defineProperties(t,{SVG_SIZE:{get:function(){return dt(Ko,"PIXI.utils.SVG_SIZE property has moved to PIXI.resources.SVGResource.SVG_SIZE"),t.SVGResource.SVG_SIZE}},TransformStatic:{get:function(){return dt(Ko,"PIXI.TransformStatic class has been removed, use PIXI.Transform"),t.Transform}},TransformBase:{get:function(){return dt(Ko,"PIXI.TransformBase class has been removed, use PIXI.Transform"),t.Transform}},TRANSFORM_MODE:{get:function(){return dt(Ko,"PIXI.TRANSFORM_MODE property has been removed"),{STATIC:0,DYNAMIC:1}}},WebGLRenderer:{get:function(){return dt(Ko,"PIXI.WebGLRenderer class has moved to PIXI.Renderer"),t.Renderer}},CanvasRenderTarget:{get:function(){return dt(Ko,"PIXI.CanvasRenderTarget class has moved to PIXI.utils.CanvasRenderTarget"),t.utils.CanvasRenderTarget}},loader:{get:function(){return dt(Ko,"PIXI.loader instance has moved to PIXI.Loader.shared"),t.Loader.shared}},FilterManager:{get:function(){return dt(Ko,"PIXI.FilterManager class has moved to PIXI.systems.FilterSystem"),t.systems.FilterSystem}}}),t.extras={},Object.defineProperties(t.extras,{TilingSprite:{get:function(){return dt(Ko,"PIXI.extras.TilingSprite class has moved to PIXI.TilingSprite"),t.TilingSprite}},TilingSpriteRenderer:{get:function(){return dt(Ko,"PIXI.extras.TilingSpriteRenderer class has moved to PIXI.TilingSpriteRenderer"),t.TilingSpriteRenderer}},AnimatedSprite:{get:function(){return dt(Ko,"PIXI.extras.AnimatedSprite class has moved to PIXI.AnimatedSprite"),t.AnimatedSprite}},BitmapText:{get:function(){return dt(Ko,"PIXI.extras.BitmapText class has moved to PIXI.BitmapText"),t.BitmapText}}}),Object.defineProperties(t.utils,{getSvgSize:{get:function(){return dt(Ko,"PIXI.utils.getSvgSize function has moved to PIXI.resources.SVGResource.getSize"),t.SVGResource.getSize}}}),t.mesh={},Object.defineProperties(t.mesh,{Mesh:{get:function(){return dt(Ko,"PIXI.mesh.Mesh class has moved to PIXI.SimpleMesh"),t.SimpleMesh}},NineSlicePlane:{get:function(){return dt(Ko,"PIXI.mesh.NineSlicePlane class has moved to PIXI.NineSlicePlane"),t.NineSlicePlane}},Plane:{get:function(){return dt(Ko,"PIXI.mesh.Plane class has moved to PIXI.SimplePlane"),t.SimplePlane}},Rope:{get:function(){return dt(Ko,"PIXI.mesh.Rope class has moved to PIXI.SimpleRope"),t.SimpleRope}},RawMesh:{get:function(){return dt(Ko,"PIXI.mesh.RawMesh class has moved to PIXI.Mesh"),t.Mesh}},CanvasMeshRenderer:{get:function(){return dt(Ko,"PIXI.mesh.CanvasMeshRenderer class has moved to PIXI.CanvasMeshRenderer"),t.CanvasMeshRenderer}},MeshRenderer:{get:function(){return dt(Ko,"PIXI.mesh.MeshRenderer class has moved to PIXI.MeshRenderer"),t.MeshRenderer}}}),t.particles={},Object.defineProperties(t.particles,{ParticleContainer:{get:function(){return dt(Ko,"PIXI.particles.ParticleContainer class has moved to PIXI.ParticleContainer"),t.ParticleContainer}},ParticleRenderer:{get:function(){return dt(Ko,"PIXI.particles.ParticleRenderer class has moved to PIXI.ParticleRenderer"),t.ParticleRenderer}}}),t.ticker={},Object.defineProperties(t.ticker,{Ticker:{get:function(){return dt(Ko,"PIXI.ticker.Ticker class has moved to PIXI.Ticker"),t.Ticker}},shared:{get:function(){return dt(Ko,"PIXI.ticker.shared instance has moved to PIXI.Ticker.shared"),t.Ticker.shared}}}),t.loaders={},Object.defineProperties(t.loaders,{Loader:{get:function(){return dt(Ko,"PIXI.loaders.Loader class has moved to PIXI.Loader"),t.Loader}},Resource:{get:function(){return dt(Ko,"PIXI.loaders.Resource class has moved to PIXI.LoaderResource"),t.LoaderResource}},bitmapFontParser:{get:function(){return dt(Ko,"PIXI.loaders.bitmapFontParser function has moved to PIXI.BitmapFontLoader.use"),t.BitmapFontLoader.use}},parseBitmapFontData:{get:function(){return dt(Ko,"PIXI.loaders.parseBitmapFontData function has moved to PIXI.BitmapFontLoader.parse"),t.BitmapFontLoader.parse}},spritesheetParser:{get:function(){return dt(Ko,"PIXI.loaders.spritesheetParser function has moved to PIXI.SpritesheetLoader.use"),t.SpritesheetLoader.use}},getResourcePath:{get:function(){return dt(Ko,"PIXI.loaders.getResourcePath property has moved to PIXI.SpritesheetLoader.getResourcePath"),t.SpritesheetLoader.getResourcePath}}}),t.Loader.addPixiMiddleware=function(e){return dt(Ko,"PIXI.loaders.Loader.addPixiMiddleware function is deprecated, use PIXI.loaders.Loader.registerPlugin"),t.loaders.Loader.registerPlugin({use:e()})},Object.defineProperty(t.extract,"WebGLExtract",{get:function(){return dt(Ko,"PIXI.extract.WebGLExtract method has moved to PIXI.extract.Extract"),t.extract.Extract}}),Object.defineProperty(t.prepare,"WebGLPrepare",{get:function(){return dt(Ko,"PIXI.prepare.WebGLPrepare class has moved to PIXI.prepare.Prepare"),t.prepare.Prepare}}),t.Container.prototype._renderWebGL=function(t){dt(Ko,"PIXI.Container._renderWebGL method has moved to PIXI.Container._render"),this._render(t)},t.Container.prototype.renderWebGL=function(t){dt(Ko,"PIXI.Container.renderWebGL method has moved to PIXI.Container.render"),this.render(t)},t.DisplayObject.prototype.renderWebGL=function(t){dt(Ko,"PIXI.DisplayObject.renderWebGL method has moved to PIXI.DisplayObject.render"),this.render(t)},t.Container.prototype.renderAdvancedWebGL=function(t){dt(Ko,"PIXI.Container.renderAdvancedWebGL method has moved to PIXI.Container.renderAdvanced"),this.renderAdvanced(t)},Object.defineProperties(t.settings,{TRANSFORM_MODE:{get:function(){return dt(Ko,"PIXI.settings.TRANSFORM_MODE property has been removed"),0},set:function(){dt(Ko,"PIXI.settings.TRANSFORM_MODE property has been removed")}}});var e=t.BaseTexture;e.prototype.loadSource=function(e){dt(Ko,"PIXI.BaseTexture.loadSource method has been deprecated");var r=t.resources.autoDetectResource(e);r.internal=!0,this.setResource(r),this.update()},Object.defineProperties(e.prototype,{hasLoaded:{get:function(){return dt(Ko,"PIXI.BaseTexture.hasLoaded property has been removed, use PIXI.BaseTexture.valid"),this.valid}},imageUrl:{get:function(){return dt(Ko,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),this.resource&&this.resource.url},set:function(t){dt(Ko,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),this.resource&&(this.resource.url=t)}},source:{get:function(){return dt(Ko,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source`"),this.resource&&this.resource.source},set:function(t){dt(Ko,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source` if you want to set HTMLCanvasElement. Otherwise, create new BaseTexture."),this.resource&&(this.resource.source=t)}}}),e.fromImage=function(t,r,i,n){dt(Ko,"PIXI.BaseTexture.fromImage method has been replaced with PIXI.BaseTexture.from");var o={scale:n,crossorigin:r};return e.from(t,{scaleMode:i,resourceOptions:o})},e.fromCanvas=function(t,r){return dt(Ko,"PIXI.BaseTexture.fromCanvas method has been replaced with PIXI.BaseTexture.from"),e.from(t,{scaleMode:r})},e.fromSVG=function(t,r,i,n){dt(Ko,"PIXI.BaseTexture.fromSVG method has been replaced with PIXI.BaseTexture.from");var o={scale:n,crossorigin:r};return e.from(t,{scaleMode:i,resourceOptions:o})},t.Point.prototype.copy=function(t){return dt(Ko,"PIXI.Point.copy method has been replaced with PIXI.Point.copyFrom"),this.copyFrom(t)},t.ObservablePoint.prototype.copy=function(t){return dt(Ko,"PIXI.ObservablePoint.copy method has been replaced with PIXI.ObservablePoint.copyFrom"),this.copyFrom(t)},t.Rectangle.prototype.copy=function(t){return dt(Ko,"PIXI.Rectangle.copy method has been replaced with PIXI.Rectangle.copyFrom"),this.copyFrom(t)},t.Matrix.prototype.copy=function(t){return dt(Ko,"PIXI.Matrix.copy method has been replaced with PIXI.Matrix.copyTo"),this.copyTo(t)},t.systems.StateSystem.prototype.setState=function(t){return dt("v5.1.0","StateSystem.setState has been renamed to StateSystem.set"),this.set(t)},Object.assign(t.systems.FilterSystem.prototype,{getRenderTarget:function(t,e){return dt(Ko,"PIXI.FilterManager.getRenderTarget method has been replaced with PIXI.systems.FilterSystem#getFilterTexture"),this.getFilterTexture(e)},returnRenderTarget:function(t){dt(Ko,"PIXI.FilterManager.returnRenderTarget method has been replaced with PIXI.systems.FilterSystem.returnFilterTexture"),this.returnFilterTexture(t)},calculateScreenSpaceMatrix:function(t){dt(Ko,"PIXI.systems.FilterSystem.calculateScreenSpaceMatrix method is removed, use `(vTextureCoord * inputSize.xy) + outputFrame.xy` instead");var e=t.identity(),r=this.activeState,i=r.sourceFrame,n=r.destinationFrame;return e.translate(i.x/n.width,i.y/n.height),e.scale(n.width,n.height),e},calculateNormalizedScreenSpaceMatrix:function(t){dt(Ko,"PIXI.systems.FilterManager.calculateNormalizedScreenSpaceMatrix method is removed, use `((vTextureCoord * inputSize.xy) + outputFrame.xy) / outputFrame.zw` instead.");var e=this.activeState,r=e.sourceFrame,i=e.destinationFrame,n=t.identity();n.translate(r.x/i.width,r.y/i.height);var o=i.width/r.width,s=i.height/r.height;return n.scale(o,s),n}}),Object.defineProperties(t.RenderTexture.prototype,{sourceFrame:{get:function(){return dt(Ko,"PIXI.RenderTexture.sourceFrame property has been removed"),this.filterFrame}},size:{get:function(){return dt(Ko,"PIXI.RenderTexture.size property has been removed"),this._frame}}});var r=function(t){function e(e,r,i,n){dt(Ko,"PIXI.filters.BlurXFilter class is deprecated, use PIXI.filters.BlurFilterPass"),t.call(this,!0,e,r,i,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t.filters.BlurFilterPass),i=function(t){function e(e,r,i,n){dt(Ko,"PIXI.filters.BlurYFilter class is deprecated, use PIXI.filters.BlurFilterPass"),t.call(this,!1,e,r,i,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t.filters.BlurFilterPass);Object.assign(t.filters,{BlurXFilter:r,BlurYFilter:i});var n=t.Sprite,o=t.Texture,s=t.Graphics;function a(t,e,r,i){return dt(Ko,"PIXI.Sprite."+t+" method is deprecated, use PIXI.Sprite.from"),n.from(e,{resourceOptions:{scale:i,crossorigin:r}})}function h(t,e,r,i){return dt(Ko,"PIXI.Texture."+t+" method is deprecated, use PIXI.Texture.from"),o.from(e,{resourceOptions:{scale:i,crossorigin:r}})}s.prototype.generateCanvasTexture||(s.prototype.generateCanvasTexture=function(){dt(Ko,'PIXI.Graphics.generateCanvasTexture method is only available in "pixi.js-legacy"')}),Object.defineProperty(t.Graphics.prototype,"graphicsData",{get:function(){return dt(Ko,"PIXI.Graphics.graphicsData property is deprecated, use PIXI.Graphics.geometry.graphicsData"),this.geometry.graphicsData}}),n.fromImage=a.bind(null,"fromImage"),n.fromSVG=a.bind(null,"fromSVG"),n.fromCanvas=a.bind(null,"fromCanvas"),n.fromVideo=a.bind(null,"fromVideo"),n.fromFrame=a.bind(null,"fromFrame"),o.fromImage=h.bind(null,"fromImage"),o.fromSVG=h.bind(null,"fromSVG"),o.fromCanvas=h.bind(null,"fromCanvas"),o.fromVideo=h.bind(null,"fromVideo"),o.fromFrame=h.bind(null,"fromFrame"),Object.defineProperty(t.AbstractRenderer.prototype,"autoResize",{get:function(){return dt(Ko,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity},set:function(t){dt(Ko,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity=t}}),Object.defineProperty(t.Renderer.prototype,"textureManager",{get:function(){return dt(Ko,"PIXI.Renderer.textureManager property is deprecated, use PIXI.Renderer.texture"),this.texture}}),t.utils.mixins={mixin:function(){dt(Ko,"PIXI.utils.mixins.mixin function is no longer available")},delayMixin:function(){dt(Ko,"PIXI.utils.mixins.delayMixin function is no longer available")},performMixins:function(){dt(Ko,"PIXI.utils.mixins.performMixins function is no longer available")}}}Kr.registerPlugin("accessibility",zt),Kr.registerPlugin("extract",pi),Kr.registerPlugin("interaction",Ti),Kr.registerPlugin("particle",eo),Kr.registerPlugin("prepare",mn),Kr.registerPlugin("batch",ci),Kr.registerPlugin("tilingSprite",co),qn.registerPlugin(fo),qn.registerPlugin(no),Tn.registerPlugin(Qt),Tn.registerPlugin(Zn);var Qo="5.1.4",$o={AlphaFilter:go,BlurFilter:bo,BlurFilterPass:xo,ColorMatrixFilter:wo,DisplacementFilter:Io,FXAAFilter:Oo,NoiseFilter:Mo}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21pbmktc2lnbmFscy9saWIvbWluaS1zaWduYWxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pc21vYmlsZWpzL2Rpc3QvaXNNb2JpbGUubWluLmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VybC91cmwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BhcnNlLXVyaS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZXZlbnRlbWl0dGVyMy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZWFyY3V0L3NyYy9lYXJjdXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2VzNi1wcm9taXNlLXBvbHlmaWxsL3Byb21pc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29iamVjdC1hc3NpZ24vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvcG9seWZpbGwvbGliL3BvbHlmaWxsLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90aW1lcnMtYnJvd3NlcmlmeS9tYWluLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zZXRpbW1lZGlhdGUvc2V0SW1tZWRpYXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL25vZGUtbGlicy1icm93c2VyL25vZGVfbW9kdWxlcy9wdW55Y29kZS9wdW55Y29kZS5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vbW9kdWxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91cmwvdXRpbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcXVlcnlzdHJpbmctZXMzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9xdWVyeXN0cmluZy1lczMvZGVjb2RlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9xdWVyeXN0cmluZy1lczMvZW5jb2RlLmpzIiwid2VicGFjazovLy8uL3NyYy9nbG9iYWwudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3NldHRpbmdzL2xpYi9zZXR0aW5ncy5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvY29uc3RhbnRzL2xpYi9jb25zdGFudHMuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3V0aWxzL2xpYi91dGlscy5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvbWF0aC9saWIvbWF0aC5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvZGlzcGxheS9saWIvZGlzcGxheS5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvYWNjZXNzaWJpbGl0eS9saWIvYWNjZXNzaWJpbGl0eS5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvcnVubmVyL2xpYi9ydW5uZXIuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3RpY2tlci9saWIvdGlja2VyLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9jb3JlLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9leHRyYWN0L2xpYi9leHRyYWN0LmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9pbnRlcmFjdGlvbi9saWIvaW50ZXJhY3Rpb24uZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2dyYXBoaWNzL2xpYi9ncmFwaGljcy5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvc3ByaXRlL2xpYi9zcHJpdGUuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3RleHQvbGliL3RleHQuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3ByZXBhcmUvbGliL3ByZXBhcmUuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2FwcC9saWIvYXBwLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZXNvdXJjZS1sb2FkZXIvZGlzdC9yZXNvdXJjZS1sb2FkZXIuZXNtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9sb2FkZXJzL2xpYi9sb2FkZXJzLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9wYXJ0aWNsZXMvbGliL3BhcnRpY2xlcy5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvc3ByaXRlc2hlZXQvbGliL3Nwcml0ZXNoZWV0LmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9zcHJpdGUtdGlsaW5nL2xpYi9zcHJpdGUtdGlsaW5nLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS90ZXh0LWJpdG1hcC9saWIvdGV4dC1iaXRtYXAuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2ZpbHRlci1hbHBoYS9saWIvZmlsdGVyLWFscGhhLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9maWx0ZXItYmx1ci9saWIvZmlsdGVyLWJsdXIuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2ZpbHRlci1jb2xvci1tYXRyaXgvbGliL2ZpbHRlci1jb2xvci1tYXRyaXguZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2ZpbHRlci1kaXNwbGFjZW1lbnQvbGliL2ZpbHRlci1kaXNwbGFjZW1lbnQuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2ZpbHRlci1meGFhL2xpYi9maWx0ZXItZnhhYS5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvZmlsdGVyLW5vaXNlL2xpYi9maWx0ZXItbm9pc2UuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL21peGluLWNhY2hlLWFzLWJpdG1hcC9saWIvbWl4aW4tY2FjaGUtYXMtYml0bWFwLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9taXhpbi1nZXQtY2hpbGQtYnktbmFtZS9saWIvbWl4aW4tZ2V0LWNoaWxkLWJ5LW5hbWUuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL21peGluLWdldC1nbG9iYWwtcG9zaXRpb24vbGliL21peGluLWdldC1nbG9iYWwtcG9zaXRpb24uZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL21lc2gvbGliL21lc2guZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL21lc2gtZXh0cmFzL2xpYi9tZXNoLWV4dHJhcy5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvc3ByaXRlLWFuaW1hdGVkL2xpYi9zcHJpdGUtYW5pbWF0ZWQuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3BpeGkuZXMuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJsZW5ndGgiLCJkZXNjcmlwdG9yIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJDb25zdHJ1Y3RvciIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiVHlwZUVycm9yIiwiTWluaVNpZ25hbEJpbmRpbmciLCJmbiIsIm9uY2UiLCJ0aGlzQXJnIiwidW5kZWZpbmVkIiwidGhpcyIsIl9mbiIsIl9vbmNlIiwiX3RoaXNBcmciLCJfbmV4dCIsIl9wcmV2IiwiX293bmVyIiwiZGV0YWNoIiwiX2FkZE1pbmlTaWduYWxCaW5kaW5nIiwic2VsZiIsIm5vZGUiLCJfaGVhZCIsIl90YWlsIiwiTWluaVNpZ25hbCIsImV4aXN0cyIsImFyZ3VtZW50cyIsImVlIiwicHVzaCIsIkVycm9yIiwiYXBwbHkiLCJhIiwiYiIsImYiLCJ1IiwiaCIsInYiLCJ3IiwiZSIsInRlc3QiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJzcGxpdCIsImFwcGxlIiwicGhvbmUiLCJpcG9kIiwidGFibGV0IiwiZGV2aWNlIiwiYW1hem9uIiwiYW5kcm9pZCIsIndpbmRvd3MiLCJvdGhlciIsImJsYWNrYmVycnkiLCJibGFja2JlcnJ5MTAiLCJvcGVyYSIsImZpcmVmb3giLCJjaHJvbWUiLCJhbnkiLCJ3aW5kb3ciLCJpc01vYmlsZSIsImciLCJGdW5jdGlvbiIsInB1bnljb2RlIiwidXRpbCIsIlVybCIsInByb3RvY29sIiwic2xhc2hlcyIsImF1dGgiLCJob3N0IiwicG9ydCIsImhvc3RuYW1lIiwiaGFzaCIsInNlYXJjaCIsInF1ZXJ5IiwicGF0aG5hbWUiLCJwYXRoIiwiaHJlZiIsInBhcnNlIiwidXJsUGFyc2UiLCJyZXNvbHZlIiwic291cmNlIiwicmVsYXRpdmUiLCJyZXNvbHZlT2JqZWN0IiwiZm9ybWF0Iiwib2JqIiwiaXNTdHJpbmciLCJwcm90b2NvbFBhdHRlcm4iLCJwb3J0UGF0dGVybiIsInNpbXBsZVBhdGhQYXR0ZXJuIiwidW53aXNlIiwiY29uY2F0IiwiYXV0b0VzY2FwZSIsIm5vbkhvc3RDaGFycyIsImhvc3RFbmRpbmdDaGFycyIsImhvc3RuYW1lUGFydFBhdHRlcm4iLCJob3N0bmFtZVBhcnRTdGFydCIsInVuc2FmZVByb3RvY29sIiwiaG9zdGxlc3NQcm90b2NvbCIsInNsYXNoZWRQcm90b2NvbCIsInF1ZXJ5c3RyaW5nIiwidXJsIiwicGFyc2VRdWVyeVN0cmluZyIsInNsYXNoZXNEZW5vdGVIb3N0IiwiaXNPYmplY3QiLCJxdWVyeUluZGV4IiwiaW5kZXhPZiIsInNwbGl0dGVyIiwidVNwbGl0IiwicmVwbGFjZSIsInJlc3QiLCJqb2luIiwidHJpbSIsInNpbXBsZVBhdGgiLCJleGVjIiwic3Vic3RyIiwicHJvdG8iLCJsb3dlclByb3RvIiwidG9Mb3dlckNhc2UiLCJtYXRjaCIsImF0U2lnbiIsImhvc3RFbmQiLCJoZWMiLCJsYXN0SW5kZXhPZiIsInNsaWNlIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwicGFyc2VIb3N0IiwiaXB2Nkhvc3RuYW1lIiwiaG9zdHBhcnRzIiwicGFydCIsIm5ld3BhcnQiLCJqIiwiayIsImNoYXJDb2RlQXQiLCJ2YWxpZFBhcnRzIiwibm90SG9zdCIsImJpdCIsInVuc2hpZnQiLCJ0b0FTQ0lJIiwiYWUiLCJlc2MiLCJlbmNvZGVVUklDb21wb25lbnQiLCJlc2NhcGUiLCJxbSIsImtleXMiLCJzdHJpbmdpZnkiLCJjaGFyQXQiLCJyZWwiLCJyZXN1bHQiLCJ0a2V5cyIsInRrIiwidGtleSIsInJrZXlzIiwicmsiLCJya2V5IiwicmVsUGF0aCIsInNoaWZ0IiwiaXNTb3VyY2VBYnMiLCJpc1JlbEFicyIsIm11c3RFbmRBYnMiLCJyZW1vdmVBbGxEb3RzIiwic3JjUGF0aCIsInBzeWNob3RpYyIsInBvcCIsImlzTnVsbE9yVW5kZWZpbmVkIiwiYXV0aEluSG9zdCIsImlzTnVsbCIsImxhc3QiLCJoYXNUcmFpbGluZ1NsYXNoIiwidXAiLCJzcGxpY2UiLCJpc0Fic29sdXRlIiwic3RyIiwib3B0cyIsInEiLCJwYXJzZXIiLCJzdHJpY3QiLCJsb29zZSIsInN0cmljdE1vZGUiLCJ1cmkiLCIkMCIsIiQxIiwiJDIiLCJoYXMiLCJwcmVmaXgiLCJFdmVudHMiLCJFRSIsImNvbnRleHQiLCJhZGRMaXN0ZW5lciIsImVtaXR0ZXIiLCJldmVudCIsImxpc3RlbmVyIiwiZXZ0IiwiX2V2ZW50cyIsIl9ldmVudHNDb3VudCIsImNsZWFyRXZlbnQiLCJFdmVudEVtaXR0ZXIiLCJfX3Byb3RvX18iLCJldmVudE5hbWVzIiwiZXZlbnRzIiwibmFtZXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJsaXN0ZW5lcnMiLCJoYW5kbGVycyIsIkFycmF5IiwibGlzdGVuZXJDb3VudCIsImVtaXQiLCJhMSIsImEyIiwiYTMiLCJhNCIsImE1IiwiYXJncyIsImxlbiIsInJlbW92ZUxpc3RlbmVyIiwib24iLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJvZmYiLCJwcmVmaXhlZCIsImVhcmN1dCIsImRhdGEiLCJob2xlSW5kaWNlcyIsImRpbSIsIm1pblgiLCJtaW5ZIiwibWF4WCIsIm1heFkiLCJ4IiwieSIsImludlNpemUiLCJoYXNIb2xlcyIsIm91dGVyTGVuIiwib3V0ZXJOb2RlIiwibGlua2VkTGlzdCIsInRyaWFuZ2xlcyIsIm5leHQiLCJwcmV2Iiwic3RhcnQiLCJlbmQiLCJsaXN0IiwicXVldWUiLCJzdGVpbmVyIiwiZ2V0TGVmdG1vc3QiLCJzb3J0IiwiY29tcGFyZVgiLCJlbGltaW5hdGVIb2xlIiwiZmlsdGVyUG9pbnRzIiwiZWxpbWluYXRlSG9sZXMiLCJNYXRoIiwibWF4IiwiZWFyY3V0TGlua2VkIiwiY2xvY2t3aXNlIiwic2lnbmVkQXJlYSIsImluc2VydE5vZGUiLCJlcXVhbHMiLCJyZW1vdmVOb2RlIiwiYWdhaW4iLCJhcmVhIiwiZWFyIiwicGFzcyIsInoiLCJ6T3JkZXIiLCJwcmV2WiIsIm5leHRaIiwidGFpbCIsIm51bU1lcmdlcyIsInBTaXplIiwicVNpemUiLCJpblNpemUiLCJzb3J0TGlua2VkIiwiaW5kZXhDdXJ2ZSIsInN0b3AiLCJpc0Vhckhhc2hlZCIsImlzRWFyIiwiY3VyZUxvY2FsSW50ZXJzZWN0aW9ucyIsInNwbGl0RWFyY3V0IiwicG9pbnRJblRyaWFuZ2xlIiwibWluVFgiLCJtaW5UWSIsIm1heFRYIiwibWF4VFkiLCJtaW5aIiwibWF4WiIsImludGVyc2VjdHMiLCJsb2NhbGx5SW5zaWRlIiwiaXNWYWxpZERpYWdvbmFsIiwic3BsaXRQb2x5Z29uIiwiaG9sZSIsImh4IiwiaHkiLCJxeCIsIkluZmluaXR5IiwidGFuIiwibXgiLCJteSIsInRhbk1pbiIsImFicyIsInNlY3RvckNvbnRhaW5zU2VjdG9yIiwiZmluZEhvbGVCcmlkZ2UiLCJsZWZ0bW9zdCIsImF4IiwiYXkiLCJieCIsImJ5IiwiY3giLCJjeSIsInB4IiwicHkiLCJpbnRlcnNlY3RzUG9seWdvbiIsImluc2lkZSIsIm1pZGRsZUluc2lkZSIsInAxIiwicDIiLCJxMSIsInEyIiwibzEiLCJzaWduIiwibzIiLCJvMyIsIm80Iiwib25TZWdtZW50IiwibWluIiwibnVtIiwiTm9kZSIsImIyIiwiYW4iLCJicCIsInN1bSIsImRlZmF1bHQiLCJkZXZpYXRpb24iLCJwb2x5Z29uQXJlYSIsInRyaWFuZ2xlc0FyZWEiLCJmbGF0dGVuIiwidmVydGljZXMiLCJob2xlcyIsImRpbWVuc2lvbnMiLCJob2xlSW5kZXgiLCJOYXRpdmVQcm9taXNlIiwiZ2xvYmFsIiwibmF0aXZlUHJvbWlzZVN1cHBvcnRlZCIsIlByb21pc2UiLCJQb2x5ZmlsbCIsIlBFTkRJTkciLCJTRUFMRUQiLCJGVUxGSUxMRUQiLCJSRUpFQ1RFRCIsIk5PT1AiLCJpc0FycmF5IiwidG9TdHJpbmciLCJhc3luY1RpbWVyIiwiYXN5bmNTZXRUaW1lciIsInNldEltbWVkaWF0ZSIsInNldFRpbWVvdXQiLCJhc3luY1F1ZXVlIiwiYXN5bmNGbHVzaCIsImFzeW5jQ2FsbCIsImNhbGxiYWNrIiwiYXJnIiwiaW52b2tlQ2FsbGJhY2siLCJzdWJzY3JpYmVyIiwib3duZXIiLCJzZXR0bGVkIiwic3RhdGVfIiwiZGF0YV8iLCJwcm9taXNlIiwidGhlbiIsInJlamVjdCIsImhhbmRsZVRoZW5hYmxlIiwicmVzb2x2ZWQiLCJ2YWwiLCJmdWxmaWxsIiwicmVhc29uIiwicHVibGlzaEZ1bGZpbGxtZW50IiwicHVibGlzaFJlamVjdGlvbiIsInB1Ymxpc2giLCJjYWxsYmFja3MiLCJ0aGVuXyIsInJlc29sdmVyIiwicmVqZWN0UHJvbWlzZSIsImludm9rZVJlc29sdmVyIiwiY29uc3RydWN0b3IiLCJvbkZ1bGZpbGxtZW50Iiwib25SZWplY3Rpb24iLCJmdWxmaWxsZWQiLCJyZWplY3RlZCIsImFsbCIsInByb21pc2VzIiwicmVzdWx0cyIsInJlbWFpbmluZyIsImluZGV4IiwicmFjZSIsInByb3BJc0VudW1lcmFibGUiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsInRvT2JqZWN0IiwiYXNzaWduIiwidGVzdDEiLCJTdHJpbmciLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwidGVzdDIiLCJmcm9tQ2hhckNvZGUiLCJtYXAiLCJ0ZXN0MyIsImZvckVhY2giLCJsZXR0ZXIiLCJlcnIiLCJzaG91bGRVc2VOYXRpdmUiLCJmcm9tIiwic3ltYm9scyIsInRvIiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwic2V0SW50ZXJ2YWwiLCJ0aXRsZSIsIkdsb2JhbCIsIm51bWJlck9mSGF0cyIsImFwcCIsIkFwcGxpY2F0aW9uIiwiYW50aWFsaWFzIiwiYmFja2dyb3VuZENvbG9yIiwicmVzaXplVG8iLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJ2aWV3Iiwic3RhdENvbnRhaW5lciIsIkNvbnRhaW5lciIsInN0YWdlIiwiYWRkQ2hpbGQiLCJzdGF0UmVjdGFuZ2xlIiwiR3JhcGhpY3MiLCJsaW5lU3R5bGUiLCJiZWdpbkZpbGwiLCJkcmF3UmVjdCIsImVuZEZpbGwiLCJpbmRpY2F0b3JUZXh0U3R5bGUiLCJhbGlnbiIsImZvbnRGYW1pbHkiLCJmb250U2l6ZSIsImZpbGwiLCJoYXRzSW5kaWNhdG9yIiwiVGV4dCIsInBvc2l0aW9uIiwic2V0IiwiaGF0c1BlckNsaWNrSW5kaWNhdG9yIiwiaGF0c1BlckNsaWNrIiwiZmxhdm91clRleHRDb250YWluZXIiLCJzY3JlZW4iLCJ3aWR0aCIsImhlaWdodCIsImZsYXZvdXJUZXh0UmVjdGFuZ2xlIiwicGl2b3QiLCJmbGF2b3VyVGV4dCIsInRleHQiLCJ0cnVuYyIsInJhbmRvbSIsImhhdFNwcml0ZSIsIlNwcml0ZSIsImFuY2hvciIsImlubmVySGVpZ2h0IiwiaW50ZXJhY3RpdmUiLCJidXR0b25Nb2RlIiwiY29tbW9uanNHbG9iYWwiLCJnbG9iYWxUaGlzIiwiRGF0ZSIsIm5vdyIsImdldFRpbWUiLCJwZXJmb3JtYW5jZSIsInN0YXJ0VGltZSIsImxhc3RUaW1lIiwidmVuZG9ycyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiY3VycmVudFRpbWUiLCJkZWxheSIsImlkIiwiY2xlYXJUaW1lb3V0IiwiTnVtYmVyIiwiaXNOYU4iLCJpc0ludGVnZXIiLCJpc0Zpbml0ZSIsImZsb29yIiwiQXJyYXlCdWZmZXIiLCJGbG9hdDMyQXJyYXkiLCJVaW50MzJBcnJheSIsIlVpbnQxNkFycmF5IiwiVWludDhBcnJheSIsIkludDMyQXJyYXkiLCJUaW1lb3V0IiwiY2xlYXJGbiIsIl9pZCIsIl9jbGVhckZuIiwic2NvcGUiLCJjbGVhckludGVydmFsIiwidGltZW91dCIsImNsb3NlIiwidW5yZWYiLCJyZWYiLCJlbnJvbGwiLCJpdGVtIiwibXNlY3MiLCJfaWRsZVRpbWVvdXRJZCIsIl9pZGxlVGltZW91dCIsInVuZW5yb2xsIiwiX3VucmVmQWN0aXZlIiwiYWN0aXZlIiwiX29uVGltZW91dCIsImNsZWFySW1tZWRpYXRlIiwicmVnaXN0ZXJJbW1lZGlhdGUiLCJodG1sIiwiY2hhbm5lbCIsIm1lc3NhZ2VQcmVmaXgiLCJvbkdsb2JhbE1lc3NhZ2UiLCJuZXh0SGFuZGxlIiwidGFza3NCeUhhbmRsZSIsImN1cnJlbnRseVJ1bm5pbmdBVGFzayIsImRvYyIsImF0dGFjaFRvIiwiZ2V0UHJvdG90eXBlT2YiLCJwcm9jZXNzIiwiaGFuZGxlIiwibmV4dFRpY2siLCJydW5JZlByZXNlbnQiLCJwb3N0TWVzc2FnZSIsImltcG9ydFNjcmlwdHMiLCJwb3N0TWVzc2FnZUlzQXN5bmNocm9ub3VzIiwib2xkT25NZXNzYWdlIiwib25tZXNzYWdlIiwiY2FuVXNlUG9zdE1lc3NhZ2UiLCJNZXNzYWdlQ2hhbm5lbCIsInBvcnQxIiwicG9ydDIiLCJjcmVhdGVFbGVtZW50IiwiZG9jdW1lbnRFbGVtZW50Iiwic2NyaXB0Iiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVtb3ZlQ2hpbGQiLCJhdHRhY2hFdmVudCIsInRhc2siLCJydW4iLCJjYWNoZWRTZXRUaW1lb3V0IiwiY2FjaGVkQ2xlYXJUaW1lb3V0IiwiZGVmYXVsdFNldFRpbW91dCIsImRlZmF1bHRDbGVhclRpbWVvdXQiLCJydW5UaW1lb3V0IiwiZnVuIiwiY3VycmVudFF1ZXVlIiwiZHJhaW5pbmciLCJxdWV1ZUluZGV4IiwiY2xlYW5VcE5leHRUaWNrIiwiZHJhaW5RdWV1ZSIsIm1hcmtlciIsInJ1bkNsZWFyVGltZW91dCIsIkl0ZW0iLCJhcnJheSIsIm5vb3AiLCJicm93c2VyIiwiZW52IiwiYXJndiIsInZlcnNpb24iLCJ2ZXJzaW9ucyIsInByZXBlbmRMaXN0ZW5lciIsInByZXBlbmRPbmNlTGlzdGVuZXIiLCJiaW5kaW5nIiwiY3dkIiwiY2hkaXIiLCJkaXIiLCJ1bWFzayIsInJvb3QiLCJub2RlVHlwZSIsImZyZWVHbG9iYWwiLCJtYXhJbnQiLCJiYXNlIiwidE1pbiIsInRNYXgiLCJza2V3IiwiZGFtcCIsImluaXRpYWxCaWFzIiwiaW5pdGlhbE4iLCJkZWxpbWl0ZXIiLCJyZWdleFB1bnljb2RlIiwicmVnZXhOb25BU0NJSSIsInJlZ2V4U2VwYXJhdG9ycyIsImVycm9ycyIsImJhc2VNaW51c1RNaW4iLCJzdHJpbmdGcm9tQ2hhckNvZGUiLCJlcnJvciIsInR5cGUiLCJSYW5nZUVycm9yIiwibWFwRG9tYWluIiwic3RyaW5nIiwicGFydHMiLCJ1Y3MyZGVjb2RlIiwiZXh0cmEiLCJvdXRwdXQiLCJjb3VudGVyIiwidWNzMmVuY29kZSIsImRpZ2l0VG9CYXNpYyIsImRpZ2l0IiwiZmxhZyIsImFkYXB0IiwiZGVsdGEiLCJudW1Qb2ludHMiLCJmaXJzdFRpbWUiLCJkZWNvZGUiLCJpbnB1dCIsIm91dCIsImJhc2ljIiwib2xkaSIsImJhc2VNaW51c1QiLCJjb2RlUG9pbnQiLCJpbnB1dExlbmd0aCIsImJpYXMiLCJlbmNvZGUiLCJoYW5kbGVkQ1BDb3VudCIsImJhc2ljTGVuZ3RoIiwiY3VycmVudFZhbHVlIiwiaGFuZGxlZENQQ291bnRQbHVzT25lIiwicU1pbnVzVCIsIndlYnBhY2tQb2x5ZmlsbCIsImRlcHJlY2F0ZSIsInBhdGhzIiwiY2hpbGRyZW4iLCJwcm9wIiwicXMiLCJzZXAiLCJlcSIsIm9wdGlvbnMiLCJyZWdleHAiLCJtYXhLZXlzIiwia3N0ciIsInZzdHIiLCJpZHgiLCJ4cyIsInN0cmluZ2lmeVByaW1pdGl2ZSIsIm9iamVjdEtleXMiLCJrcyIsInJlcyIsInNldHRpbmdzIiwiTUlQTUFQX1RFWFRVUkVTIiwiQU5JU09UUk9QSUNfTEVWRUwiLCJSRVNPTFVUSU9OIiwiRklMVEVSX1JFU09MVVRJT04iLCJTUFJJVEVfTUFYX1RFWFRVUkVTIiwiYWxsb3dNYXgiLCJwYXJzZUludCIsIm1hdGNoJDEiLCJtYXhSZWNvbW1lbmRlZFRleHR1cmVzIiwiU1BSSVRFX0JBVENIX1NJWkUiLCJSRU5ERVJfT1BUSU9OUyIsImZvcmNlRlhBQSIsImF1dG9EZW5zaXR5IiwidHJhbnNwYXJlbnQiLCJjbGVhckJlZm9yZVJlbmRlciIsInByZXNlcnZlRHJhd2luZ0J1ZmZlciIsImxlZ2FjeSIsIkdDX01PREUiLCJHQ19NQVhfSURMRSIsIkdDX01BWF9DSEVDS19DT1VOVCIsIldSQVBfTU9ERSIsIlNDQUxFX01PREUiLCJQUkVDSVNJT05fVkVSVEVYIiwiUFJFQ0lTSU9OX0ZSQUdNRU5UIiwiQ0FOX1VQTE9BRF9TQU1FX0JVRkZFUiIsIkNSRUFURV9JTUFHRV9CSVRNQVAiLCJST1VORF9QSVhFTFMiLCJFTlYiLCJXRUJHTF9MRUdBQ1kiLCJXRUJHTCIsIldFQkdMMiIsIlJFTkRFUkVSX1RZUEUiLCJVTktOT1dOIiwiQ0FOVkFTIiwiQkxFTkRfTU9ERVMiLCJOT1JNQUwiLCJBREQiLCJNVUxUSVBMWSIsIlNDUkVFTiIsIk9WRVJMQVkiLCJEQVJLRU4iLCJMSUdIVEVOIiwiQ09MT1JfRE9ER0UiLCJDT0xPUl9CVVJOIiwiSEFSRF9MSUdIVCIsIlNPRlRfTElHSFQiLCJESUZGRVJFTkNFIiwiRVhDTFVTSU9OIiwiSFVFIiwiU0FUVVJBVElPTiIsIkNPTE9SIiwiTFVNSU5PU0lUWSIsIk5PUk1BTF9OUE0iLCJBRERfTlBNIiwiU0NSRUVOX05QTSIsIk5PTkUiLCJTUkNfT1ZFUiIsIlNSQ19JTiIsIlNSQ19PVVQiLCJTUkNfQVRPUCIsIkRTVF9PVkVSIiwiRFNUX0lOIiwiRFNUX09VVCIsIkRTVF9BVE9QIiwiRVJBU0UiLCJTVUJUUkFDVCIsIkRSQVdfTU9ERVMiLCJQT0lOVFMiLCJMSU5FUyIsIkxJTkVfTE9PUCIsIkxJTkVfU1RSSVAiLCJUUklBTkdMRVMiLCJUUklBTkdMRV9TVFJJUCIsIlRSSUFOR0xFX0ZBTiIsIkZPUk1BVFMiLCJSR0JBIiwiUkdCIiwiQUxQSEEiLCJMVU1JTkFOQ0UiLCJMVU1JTkFOQ0VfQUxQSEEiLCJERVBUSF9DT01QT05FTlQiLCJERVBUSF9TVEVOQ0lMIiwiVEFSR0VUUyIsIlRFWFRVUkVfMkQiLCJURVhUVVJFX0NVQkVfTUFQIiwiVEVYVFVSRV8yRF9BUlJBWSIsIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCIsIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWCIsIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWSIsIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWSIsIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWiIsIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWiIsIlRZUEVTIiwiVU5TSUdORURfQllURSIsIlVOU0lHTkVEX1NIT1JUIiwiVU5TSUdORURfU0hPUlRfNV82XzUiLCJVTlNJR05FRF9TSE9SVF80XzRfNF80IiwiVU5TSUdORURfU0hPUlRfNV81XzVfMSIsIkZMT0FUIiwiSEFMRl9GTE9BVCIsIlNDQUxFX01PREVTIiwiTElORUFSIiwiTkVBUkVTVCIsIldSQVBfTU9ERVMiLCJDTEFNUCIsIlJFUEVBVCIsIk1JUlJPUkVEX1JFUEVBVCIsIk1JUE1BUF9NT0RFUyIsIk9GRiIsIlBPVzIiLCJPTiIsIkdDX01PREVTIiwiQVVUTyIsIk1BTlVBTCIsIlBSRUNJU0lPTiIsIkxPVyIsIk1FRElVTSIsIkhJR0giLCJSRVRJTkFfUFJFRklYIiwiRkFJTF9JRl9NQUpPUl9QRVJGT1JNQU5DRV9DQVZFQVQiLCJzYWlkSGVsbG8iLCJWRVJTSU9OIiwic2tpcEhlbGxvIiwic2F5SGVsbG8iLCJjb25zb2xlIiwibG9nIiwiaXNXZWJHTFN1cHBvcnRlZCIsImNvbnRleHRPcHRpb25zIiwic3RlbmNpbCIsImZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQiLCJXZWJHTFJlbmRlcmluZ0NvbnRleHQiLCJjYW52YXMiLCJnbCIsImdldENvbnRleHQiLCJzdWNjZXNzIiwiZ2V0Q29udGV4dEF0dHJpYnV0ZXMiLCJsb3NlQ29udGV4dCIsImdldEV4dGVuc2lvbiIsImhleDJyZ2IiLCJoZXgiLCJoZXgyc3RyaW5nIiwic3RyaW5nMmhleCIsInJnYjJoZXgiLCJyZ2IiLCJwcmVtdWx0aXBseUJsZW5kTW9kZSIsInBtIiwibnBtIiwibWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXMiLCJjb3JyZWN0QmxlbmRNb2RlIiwiYmxlbmRNb2RlIiwicHJlbXVsdGlwbGllZCIsInByZW11bHRpcGx5UmdiYSIsImFscGhhIiwicHJlbXVsdGlwbHkiLCJwcmVtdWx0aXBseVRpbnQiLCJ0aW50IiwiUiIsIkciLCJCIiwicHJlbXVsdGlwbHlUaW50VG9SZ2JhIiwiY3JlYXRlSW5kaWNlc0ZvclF1YWRzIiwic2l6ZSIsIm91dEJ1ZmZlciIsInRvdGFsSW5kaWNlcyIsInJlbW92ZUl0ZW1zIiwiYXJyIiwic3RhcnRJZHgiLCJyZW1vdmVDb3VudCIsIm5leHRVaWQiLCJ1aWQiLCJuZXh0UG93MiIsImlzUG93MiIsImxvZzIiLCJQcm9ncmFtQ2FjaGUiLCJUZXh0dXJlQ2FjaGUiLCJCYXNlVGV4dHVyZUNhY2hlIiwiZGVzdHJveVRleHR1cmVDYWNoZSIsImRlc3Ryb3kiLCJjbGVhclRleHR1cmVDYWNoZSIsInRyaW1DYW52YXMiLCJwaXhlbHMiLCJnZXRJbWFnZURhdGEiLCJib3VuZCIsInRvcCIsImxlZnQiLCJyaWdodCIsImJvdHRvbSIsInJlc29sdXRpb24iLCJyZXNpemUiLCJjbGVhciIsInNldFRyYW5zZm9ybSIsImNsZWFyUmVjdCIsInRlbXBBbmNob3IiLCJEQVRBX1VSSSIsImRlY29tcG9zZURhdGFVcmkiLCJkYXRhVXJpIiwiZGF0YVVyaU1hdGNoIiwibWVkaWFUeXBlIiwic3ViVHlwZSIsImNoYXJzZXQiLCJlbmNvZGluZyIsImRldGVybWluZUNyb3NzT3JpZ2luIiwibG9jIiwibG9jYXRpb24iLCJzYW1lUG9ydCIsImdldFJlc29sdXRpb25PZlVybCIsImRlZmF1bHRWYWx1ZSIsInBhcnNlRmxvYXQiLCJ3YXJuaW5ncyIsImRlcHJlY2F0aW9uIiwibWVzc2FnZSIsImlnbm9yZURlcHRoIiwic3RhY2siLCJ3YXJuIiwiZ3JvdXBDb2xsYXBzZWQiLCJncm91cEVuZCIsIlBvaW50IiwiY2xvbmUiLCJjb3B5RnJvbSIsImNvcHlUbyIsIk9ic2VydmFibGVQb2ludCIsImNiIiwiX3giLCJfeSIsIl9jYiIsIl9zY29wZSIsIlBJXzIiLCJQSSIsIlJBRF9UT19ERUciLCJERUdfVE9fUkFEIiwiU0hBUEVTIiwiUE9MWSIsIlJFQ1QiLCJDSVJDIiwiRUxJUCIsIlJSRUMiLCJNYXRyaXgiLCJ0eCIsInR5IiwiSURFTlRJVFkiLCJURU1QX01BVFJJWCIsImZyb21BcnJheSIsInRvQXJyYXkiLCJ0cmFuc3Bvc2UiLCJwb3MiLCJuZXdQb3MiLCJhcHBseUludmVyc2UiLCJ0cmFuc2xhdGUiLCJzY2FsZSIsInJvdGF0ZSIsImFuZ2xlIiwiY29zIiwic2luIiwiYzEiLCJ0eDEiLCJhcHBlbmQiLCJtYXRyaXgiLCJiMSIsImQxIiwicGl2b3RYIiwicGl2b3RZIiwic2NhbGVYIiwic2NhbGVZIiwicm90YXRpb24iLCJza2V3WCIsInNrZXdZIiwicHJlcGVuZCIsImRlY29tcG9zZSIsInRyYW5zZm9ybSIsImF0YW4yIiwic3FydCIsImludmVydCIsImlkZW50aXR5IiwidXgiLCJ1eSIsInZ4IiwidnkiLCJyb3RhdGlvbkNheWxleSIsInJvdGF0aW9uTWF0cmljZXMiLCJzaWdudW0iLCJyb3ciLCJfdXgiLCJfdXkiLCJfdngiLCJfdnkiLCJpJDEiLCJtYXQiLCJpbml0IiwiR3JvdXBEOCIsIkUiLCJTRSIsIlMiLCJTVyIsIlciLCJOVyIsIk4iLCJORSIsIk1JUlJPUl9WRVJUSUNBTCIsIk1BSU5fRElBR09OQUwiLCJNSVJST1JfSE9SSVpPTlRBTCIsIlJFVkVSU0VfRElBR09OQUwiLCJ1WCIsImluZCIsInVZIiwidlgiLCJ2WSIsImludiIsImFkZCIsInJvdGF0aW9uU2Vjb25kIiwicm90YXRpb25GaXJzdCIsInN1YiIsInJvdGF0ZTE4MCIsImlzVmVydGljYWwiLCJieURpcmVjdGlvbiIsImR4IiwiZHkiLCJtYXRyaXhBcHBlbmRSb3RhdGlvbkludiIsIlRyYW5zZm9ybSIsIndvcmxkVHJhbnNmb3JtIiwibG9jYWxUcmFuc2Zvcm0iLCJvbkNoYW5nZSIsInVwZGF0ZVNrZXciLCJfcm90YXRpb24iLCJfY3giLCJfc3giLCJfY3kiLCJfc3kiLCJfbG9jYWxJRCIsIl9jdXJyZW50TG9jYWxJRCIsIl93b3JsZElEIiwiX3BhcmVudElEIiwicHJvdG90eXBlQWNjZXNzb3JzJDEiLCJ1cGRhdGVMb2NhbFRyYW5zZm9ybSIsImx0IiwidXBkYXRlVHJhbnNmb3JtIiwicGFyZW50VHJhbnNmb3JtIiwicHQiLCJ3dCIsInNldEZyb21NYXRyaXgiLCJSZWN0YW5nbGUiLCJwcm90b3R5cGVBY2Nlc3NvcnMkMiIsInN0YXRpY0FjY2Vzc29ycyQxIiwiRU1QVFkiLCJyZWN0YW5nbGUiLCJjb250YWlucyIsInBhZCIsInBhZGRpbmdYIiwicGFkZGluZ1kiLCJmaXQiLCJ4MSIsIngyIiwieTEiLCJ5MiIsImNlaWwiLCJlcHMiLCJlbmxhcmdlIiwiQ2lyY2xlIiwicmFkaXVzIiwicjIiLCJnZXRCb3VuZHMiLCJFbGxpcHNlIiwiaGFsZldpZHRoIiwiaGFsZkhlaWdodCIsIm5vcm14Iiwibm9ybXkiLCJwb2ludHMiLCJpbCIsImNsb3NlU3Ryb2tlIiwicG9seWdvbiIsInhpIiwieWkiLCJ4aiIsInlqIiwiUm91bmRlZFJlY3RhbmdsZSIsInJhZGl1czIiLCJTT1JUQUJMRV9DSElMRFJFTiIsIkJvdW5kcyIsInJlY3QiLCJpc0VtcHR5IiwidXBkYXRlSUQiLCJnZXRSZWN0YW5nbGUiLCJhZGRQb2ludCIsInBvaW50IiwiYWRkUXVhZCIsImFkZEZyYW1lIiwieDAiLCJ5MCIsImFkZFZlcnRleERhdGEiLCJ2ZXJ0ZXhEYXRhIiwiYmVnaW5PZmZzZXQiLCJlbmRPZmZzZXQiLCJhZGRWZXJ0aWNlcyIsInJhd1giLCJyYXdZIiwiYWRkQm91bmRzIiwiYm91bmRzIiwiYWRkQm91bmRzTWFzayIsIm1hc2siLCJfbWluWCIsIl9taW5ZIiwiX21heFgiLCJfbWF4WSIsImFkZEJvdW5kc0FyZWEiLCJEaXNwbGF5T2JqZWN0IiwidGVtcERpc3BsYXlPYmplY3RQYXJlbnQiLCJ2aXNpYmxlIiwicmVuZGVyYWJsZSIsInBhcmVudCIsIndvcmxkQWxwaGEiLCJfbGFzdFNvcnRlZEluZGV4IiwiX3pJbmRleCIsImZpbHRlckFyZWEiLCJmaWx0ZXJzIiwiX2VuYWJsZWRGaWx0ZXJzIiwiX2JvdW5kcyIsIl9ib3VuZHNJRCIsIl9sYXN0Qm91bmRzSUQiLCJfYm91bmRzUmVjdCIsIl9sb2NhbEJvdW5kc1JlY3QiLCJfbWFzayIsIl9kZXN0cm95ZWQiLCJpc1Nwcml0ZSIsInByb3RvdHlwZUFjY2Vzc29ycyIsIl90ZW1wRGlzcGxheU9iamVjdFBhcmVudCIsInpJbmRleCIsIndvcmxkVmlzaWJsZSIsIm1peGluIiwicHJvcGVydHlOYW1lIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0iLCJza2lwVXBkYXRlIiwiY2FsY3VsYXRlQm91bmRzIiwiZ2V0TG9jYWxCb3VuZHMiLCJ0cmFuc2Zvcm1SZWYiLCJwYXJlbnRSZWYiLCJ0b0dsb2JhbCIsImRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0iLCJ0b0xvY2FsIiwicmVuZGVyIiwicmVuZGVyZXIiLCJzZXRQYXJlbnQiLCJjb250YWluZXIiLCJfY3VycmVudEJvdW5kcyIsImludGVyYWN0aXZlQ2hpbGRyZW4iLCJzb3J0RGlydHkiLCJpc01hc2siLCJzb3J0Q2hpbGRyZW4iLCJzb3J0YWJsZUNoaWxkcmVuIiwib25DaGlsZHJlbkNoYW5nZSIsImNoaWxkIiwiYXJndW1lbnRzJDEiLCJhcmd1bWVudHNMZW5ndGgiLCJhZGRDaGlsZEF0Iiwic3dhcENoaWxkcmVuIiwiY2hpbGQyIiwiaW5kZXgxIiwiZ2V0Q2hpbGRJbmRleCIsImluZGV4MiIsInNldENoaWxkSW5kZXgiLCJjdXJyZW50SW5kZXgiLCJnZXRDaGlsZEF0IiwicmVtb3ZlQ2hpbGRBdCIsInJlbW92ZUNoaWxkcmVuIiwiYmVnaW5JbmRleCIsImVuZEluZGV4IiwicmVtb3ZlZCIsImJlZ2luIiwicmFuZ2UiLCJzb3J0UmVxdWlyZWQiLCJfY2FsY3VsYXRlQm91bmRzIiwicmVuZGVyQWR2YW5jZWQiLCJfcmVuZGVyIiwiYmF0Y2giLCJmbHVzaCIsImVuYWJsZWQiLCJmaWx0ZXIiLCJkZXN0cm95Q2hpbGRyZW4iLCJvbGRDaGlsZHJlbiIsIl93aWR0aCIsIl9oZWlnaHQiLCJjb250YWluZXJVcGRhdGVUcmFuc2Zvcm0iLCJhY2Nlc3NpYmxlVGFyZ2V0IiwiYWNjZXNzaWJsZSIsImFjY2Vzc2libGVUaXRsZSIsImFjY2Vzc2libGVIaW50IiwidGFiSW5kZXgiLCJfYWNjZXNzaWJsZUFjdGl2ZSIsIl9hY2Nlc3NpYmxlRGl2IiwiX2hvb2tEaXYiLCJjcmVhdGVUb3VjaEhvb2siLCJkaXYiLCJzdHlsZSIsIkRJVl9UT1VDSF9TSVpFIiwiRElWX1RPVUNIX1BPU19YIiwiRElWX1RPVUNIX1BPU19ZIiwicG9vbCIsInJlbmRlcklkIiwiZGVidWciLCJfb25LZXlEb3duIiwiX29uTW91c2VNb3ZlIiwiaXNBY3RpdmUiLCJpc01vYmlsZUFjY2Vzc2liaWxpdHkiLCJ0aGlzJDEiLCJob29rRGl2IiwiRElWX0hPT0tfU0laRSIsIkRJVl9IT09LX1BPU19YIiwiRElWX0hPT0tfUE9TX1kiLCJhY3RpdmF0ZSIsImRlc3Ryb3lUb3VjaEhvb2siLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidXBkYXRlIiwicGFyZW50Tm9kZSIsImRlYWN0aXZhdGUiLCJ1cGRhdGVBY2Nlc3NpYmxlT2JqZWN0cyIsImRpc3BsYXlPYmplY3QiLCJyZW5kZXJpbmdUb1NjcmVlbiIsIl9sYXN0T2JqZWN0UmVuZGVyZWQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJzeCIsInN5IiwiaGl0QXJlYSIsImNhcEhpdEFyZWEiLCJnZXRBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJib3JkZXJTdHlsZSIsIl9vbkNsaWNrIiwiX29uRm9jdXMiLCJfb25Gb2N1c091dCIsImludGVyYWN0aW9uTWFuYWdlciIsInBsdWdpbnMiLCJpbnRlcmFjdGlvbiIsImRpc3BhdGNoRXZlbnQiLCJldmVudERhdGEiLCJrZXlDb2RlIiwibW92ZW1lbnRYIiwibW92ZW1lbnRZIiwiUnVubmVyIiwiaXRlbXMiLCJfbmFtZSIsIl9hbGlhc0NvdW50IiwiZW1wdHkiLCJhMCIsImE2IiwiYTciLCJlbnN1cmVOb25BbGlhc2VkSXRlbXMiLCJyZW1vdmUiLCJyZW1vdmVBbGwiLCJkaXNwYXRjaCIsIlRBUkdFVF9GUE1TIiwiVVBEQVRFX1BSSU9SSVRZIiwiSU5URVJBQ1RJT04iLCJVVElMSVRZIiwiVGlja2VyTGlzdGVuZXIiLCJwcmlvcml0eSIsInByZXZpb3VzIiwiZGVsdGFUaW1lIiwicmVkaXJlY3QiLCJjb25uZWN0IiwiaGFyZCIsIl9yZXF1ZXN0SWQiLCJfbWF4RWxhcHNlZE1TIiwiX21pbkVsYXBzZWRNUyIsImF1dG9TdGFydCIsImRlbHRhTVMiLCJlbGFwc2VkTVMiLCJzcGVlZCIsInN0YXJ0ZWQiLCJfcHJvdGVjdGVkIiwiX2xhc3RGcmFtZSIsIl90aWNrIiwidGltZSIsIkZQUyIsIm1pbkZQUyIsIm1heEZQUyIsInNoYXJlZCIsInN5c3RlbSIsIl9yZXF1ZXN0SWZOZWVkZWQiLCJfY2FuY2VsSWZOZWVkZWQiLCJfc3RhcnRJZlBvc3NpYmxlIiwiX2FkZExpc3RlbmVyIiwiYWRkT25jZSIsImN1cnJlbnQiLCJoZWFkIiwiZnBzIiwibWluRlBNUyIsInJvdW5kIiwiX3NoYXJlZCIsIl9zeXN0ZW0iLCJUaWNrZXJQbHVnaW4iLCJzaGFyZWRUaWNrZXIiLCJ0aWNrZXIiLCJfdGlja2VyIiwib2xkVGlja2VyIiwiZGVzdHJveWVkIiwiaW50ZXJuYWwiLCJvblJlc2l6ZSIsIm9uVXBkYXRlIiwib25FcnJvciIsInZhbGlkIiwiYmFzZVRleHR1cmUiLCJ1bmJpbmQiLCJsb2FkIiwidXBsb2FkIiwiZ2xUZXh0dXJlIiwiZGlzcG9zZSIsIlJlc291cmNlIiwiQmFzZUltYWdlUmVzb3VyY2UiLCJuYXR1cmFsV2lkdGgiLCJ2aWRlb1dpZHRoIiwibmF0dXJhbEhlaWdodCIsInZpZGVvSGVpZ2h0Iiwibm9TdWJJbWFnZSIsImNyb3NzT3JpZ2luIiwiZWxlbWVudCIsImNyb3Nzb3JpZ2luIiwicmVhbFdpZHRoIiwicmVhbEhlaWdodCIsInBpeGVsU3RvcmVpIiwiVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMIiwicHJlbXVsdGlwbHlBbHBoYSIsInRleEltYWdlMkQiLCJ0ZXhTdWJJbWFnZTJEIiwiSW1hZ2VSZXNvdXJjZSIsIkhUTUxJbWFnZUVsZW1lbnQiLCJpbWFnZUVsZW1lbnQiLCJJbWFnZSIsInNyYyIsImNvbXBsZXRlIiwiX3Byb2Nlc3MiLCJwcmVzZXJ2ZUJpdG1hcCIsImNyZWF0ZUJpdG1hcCIsImNyZWF0ZUltYWdlQml0bWFwIiwiYml0bWFwIiwiX2xvYWQiLCJhdXRvTG9hZCIsImNvbXBsZXRlZCIsIm9ubG9hZCIsIm9uZXJyb3IiLCJfZ2xUZXh0dXJlcyIsIm90aGVyVGV4IiwiZGlydHlJZCIsIklOU1RBTExFRCIsImF1dG9EZXRlY3RSZXNvdXJjZSIsImV4dGVuc2lvbiIsIlJlc291cmNlUGx1Z2luIiwiQnVmZmVyUmVzb3VyY2UiLCJpbnRlcm5hbEZvcm1hdCIsImRlZmF1bHRCdWZmZXJPcHRpb25zIiwic2NhbGVNb2RlIiwiQmFzZVRleHR1cmUiLCJyZXNvdXJjZSIsIm1pcG1hcCIsImFuaXNvdHJvcGljTGV2ZWwiLCJ3cmFwTW9kZSIsInJlc291cmNlT3B0aW9ucyIsInRvdWNoZWQiLCJpc1Bvd2VyT2ZUd28iLCJfcmVmcmVzaFBPVCIsImRpcnR5U3R5bGVJZCIsImNhY2hlSWQiLCJ0ZXh0dXJlQ2FjaGVJZHMiLCJfYmF0Y2hFbmFibGVkIiwic2V0UmVzb3VyY2UiLCJzZXRTdHlsZSIsImRpcnR5Iiwic2V0U2l6ZSIsInNldFJlYWxTaXplIiwic2V0UmVzb2x1dGlvbiIsIm9sZFJlc29sdXRpb24iLCJyZW1vdmVGcm9tQ2FjaGUiLCJfcGl4aUlkIiwiYWRkVG9DYWNoZSIsImZyb21CdWZmZXIiLCJidWZmZXIiLCJiYXNlVGV4dHVyZUZyb21DYWNoZSIsIl9nbG9iYWxCYXRjaCIsIkFycmF5UmVzb3VyY2UiLCJ1cmxzIiwiaXRlbURpcnR5SWRzIiwicGFydFRleHR1cmUiLCJhZGRSZXNvdXJjZUF0IiwicmVzb3VyY2VzIiwidGV4dHVyZSIsInRleEltYWdlM0QiLCJ0ZXhTdWJJbWFnZTNEIiwiQ2FudmFzUmVzb3VyY2UiLCJPZmZzY3JlZW5DYW52YXMiLCJIVE1MQ2FudmFzRWxlbWVudCIsIkN1YmVSZXNvdXJjZSIsIlNJREVTIiwic2lkZSIsIlNWR1Jlc291cmNlIiwic3ZnIiwiX292ZXJyaWRlV2lkdGgiLCJfb3ZlcnJpZGVIZWlnaHQiLCJfcmVzb2x2ZSIsIl9jcm9zc29yaWdpbiIsImJ0b2EiLCJ1bmVzY2FwZSIsIl9sb2FkU3ZnIiwidGVtcEltYWdlIiwic3ZnV2lkdGgiLCJzdmdIZWlnaHQiLCJkcmF3SW1hZ2UiLCJnZXRTaXplIiwic3ZnU3RyaW5nIiwic2l6ZU1hdGNoIiwiU1ZHX1NJWkUiLCJWaWRlb1Jlc291cmNlIiwiSFRNTFZpZGVvRWxlbWVudCIsInZpZGVvRWxlbWVudCIsInNvdXJjZUVsZW1lbnQiLCJtaW1lIiwiYmFzZVNyYyIsImV4dCIsIl9hdXRvVXBkYXRlIiwiX2lzQXV0b1VwZGF0aW5nIiwiX3VwZGF0ZUZQUyIsInVwZGF0ZUZQUyIsIl9tc1RvTmV4dFVwZGF0ZSIsImF1dG9QbGF5IiwiX29uQ2FuUGxheSIsIl9vbkVycm9yIiwiYXV0b1VwZGF0ZSIsInBsYXliYWNrUmF0ZSIsInJlYWR5U3RhdGUiLCJIQVZFX0VOT1VHSF9EQVRBIiwiSEFWRV9GVVRVUkVfREFUQSIsIl9vblBsYXlTdGFydCIsIl9vblBsYXlTdG9wIiwiX2lzU291cmNlUmVhZHkiLCJfaXNTb3VyY2VQbGF5aW5nIiwicGF1c2VkIiwiZW5kZWQiLCJwbGF5IiwicGF1c2UiLCJJbWFnZUJpdG1hcFJlc291cmNlIiwiSW1hZ2VCaXRtYXAiLCJEZXB0aFJlc291cmNlIiwiREVQVEhfQ09NUE9ORU5UMTYiLCJkZXB0aCIsImRpcnR5Rm9ybWF0IiwiZGlydHlTaXplIiwiZGVwdGhUZXh0dXJlIiwiY29sb3JUZXh0dXJlcyIsImdsRnJhbWVidWZmZXJzIiwiZGlzcG9zZVJ1bm5lciIsImNvbG9yVGV4dHVyZSIsImFkZENvbG9yVGV4dHVyZSIsImFkZERlcHRoVGV4dHVyZSIsImVuYWJsZURlcHRoIiwiZW5hYmxlU3RlbmNpbCIsInJlc29sdXRpb24kMSIsIkJhc2VSZW5kZXJUZXh0dXJlIiwiX2NhbnZhc1JlbmRlclRhcmdldCIsImNsZWFyQ29sb3IiLCJmcmFtZWJ1ZmZlciIsInN0ZW5jaWxNYXNrU3RhY2siLCJmaWx0ZXJTdGFjayIsIlRleHR1cmVVdnMiLCJ4MyIsInkzIiwidXZzRmxvYXQzMiIsImZyYW1lIiwiYmFzZUZyYW1lIiwidHciLCJ0aCIsIncyIiwiaDIiLCJjWCIsImNZIiwiREVGQVVMVF9VVlMiLCJUZXh0dXJlIiwib3JpZyIsIm5vRnJhbWUiLCJfZnJhbWUiLCJyZXF1aXJlc1VwZGF0ZSIsIl91dnMiLCJ1dk1hdHJpeCIsIl9yb3RhdGUiLCJkZWZhdWx0QW5jaG9yIiwiX3VwZGF0ZUlEIiwib25CYXNlVGV4dHVyZVVwZGF0ZWQiLCJ1cGRhdGVVdnMiLCJkZXN0cm95QmFzZSIsImZyb21Mb2FkZXIiLCJpbWFnZVVybCIsInRleHR1cmVGcm9tQ2FjaGUiLCJ4Tm90Rml0IiwieU5vdEZpdCIsInJlbGF0aW9uc2hpcCIsImVycm9yWCIsImVycm9yWSIsInJlbW92ZUFsbEhhbmRsZXJzIiwidGV4IiwiV0hJVEUiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsImNyZWF0ZVdoaXRlVGV4dHVyZSIsIlJlbmRlclRleHR1cmUiLCJiYXNlUmVuZGVyVGV4dHVyZSIsIl9sZWdhY3lSZW5kZXJlciIsImxlZ2FjeVJlbmRlcmVyIiwiZmlsdGVyRnJhbWUiLCJmaWx0ZXJQb29sS2V5IiwicmVzaXplQmFzZVRleHR1cmUiLCJSZW5kZXJUZXh0dXJlUG9vbCIsInRleHR1cmVPcHRpb25zIiwidGV4dHVyZVBvb2wiLCJlbmFibGVGdWxsU2NyZWVuIiwiX3BpeGVsc1dpZHRoIiwiX3BpeGVsc0hlaWdodCIsImNyZWF0ZVRleHR1cmUiLCJnZXRPcHRpbWFsVGV4dHVyZSIsIm1pbldpZHRoIiwibWluSGVpZ2h0IiwiU0NSRUVOX0tFWSIsInJlbmRlclRleHR1cmUiLCJnZXRGaWx0ZXJUZXh0dXJlIiwiZmlsdGVyVGV4dHVyZSIsInJldHVyblRleHR1cmUiLCJyZXR1cm5GaWx0ZXJUZXh0dXJlIiwiZGVzdHJveVRleHR1cmVzIiwidGV4dHVyZXMiLCJzZXRTY3JlZW5TaXplIiwic2NyZWVuS2V5IiwiQXR0cmlidXRlIiwibm9ybWFsaXplZCIsInN0cmlkZSIsIlVJRCIsIl9zdGF0aWMiLCJfZ2xCdWZmZXJzIiwic3RhdGljIiwiZ2V0QnVmZmVyVHlwZSIsIkJZVEVTX1BFUl9FTEVNRU5UIiwiYnl0ZVNpemVNYXAiLCI1MTI2IiwiNTEyMyIsIjUxMjEiLCJVSUQkMSIsIm1hcCQxIiwiYnVmZmVycyIsImF0dHJpYnV0ZXMiLCJpbmRleEJ1ZmZlciIsImdsVmVydGV4QXJyYXlPYmplY3RzIiwiaW5zdGFuY2VkIiwiaW5zdGFuY2VDb3VudCIsInJlZkNvdW50IiwiYWRkQXR0cmlidXRlIiwiaWRzIiwiYnVmZmVySW5kZXgiLCJnZXRCdWZmZXIiLCJhZGRJbmRleCIsImdldEluZGV4IiwiaW50ZXJsZWF2ZSIsImFycmF5cyIsInNpemVzIiwiaW50ZXJsZWF2ZWRCdWZmZXIiLCJhdHRyaWJ1dGUiLCJvdXRTaXplIiwidmlld3MiLCJsaXR0bGVPZmZzZXQiLCJpbnRlcmxlYXZlVHlwZWRBcnJheXMiLCJnZW9tZXRyeSIsImF0dHJpYiIsIm1lcmdlIiwiZ2VvbWV0cmllcyIsImdlb21ldHJ5T3V0Iiwib2Zmc2V0cyIsImkkMiIsImokMSIsIm9mZnNldCIsIm9mZnNldDIiLCJidWZmZXJJbmRleFRvQ291bnQiLCJpJDMiLCJpJDQiLCJpJDUiLCJpbmRleEJ1ZmZlckRhdGEiLCJqJDIiLCJRdWFkIiwiR2VvbWV0cnkiLCJRdWFkVXYiLCJ1dnMiLCJ2ZXJ0ZXhCdWZmZXIiLCJ1dkJ1ZmZlciIsInRhcmdldFRleHR1cmVGcmFtZSIsImRlc3RpbmF0aW9uRnJhbWUiLCJpbnZhbGlkYXRlIiwiVUlEJDIiLCJVbmlmb3JtR3JvdXAiLCJ1bmlmb3JtcyIsImdyb3VwIiwic3luY1VuaWZvcm1zIiwic291cmNlRnJhbWUiLCJTeXN0ZW0iLCJGaWx0ZXJTeXN0ZW0iLCJkZWZhdWx0RmlsdGVyU3RhY2siLCJzdGF0ZVBvb2wiLCJxdWFkIiwicXVhZFV2IiwidGVtcFJlY3QiLCJhY3RpdmVTdGF0ZSIsImdsb2JhbFVuaWZvcm1zIiwib3V0cHV0RnJhbWUiLCJpbnB1dFNpemUiLCJpbnB1dFBpeGVsIiwiaW5wdXRDbGFtcCIsImZpbHRlckNsYW1wIiwic3RhdGUiLCJwYWRkaW5nIiwiYXV0b0ZpdCIsImdldE9wdGltYWxGaWx0ZXJUZXh0dXJlIiwibGFzdFN0YXRlIiwiZmxpcCIsImZsb3AiLCJhcHBseUZpbHRlciIsInVTYW1wbGVyIiwiZmlsdGVyR2xvYmFscyIsInNoYWRlciIsImRyYXciLCJjYWxjdWxhdGVTcHJpdGVNYXRyaXgiLCJvdXRwdXRNYXRyaXgiLCJzcHJpdGUiLCJfdGV4dHVyZSIsIm1hcHBlZE1hdHJpeCIsInN3YXAiLCJlbXB0eVBvb2wiLCJCYXRjaFN5c3RlbSIsImVtcHR5UmVuZGVyZXIiLCJjdXJyZW50UmVuZGVyZXIiLCJzZXRPYmplY3RSZW5kZXJlciIsIm9iamVjdFJlbmRlcmVyIiwicmVzZXQiLCJQUkVGRVJfRU5WIiwiQ09OVEVYVF9VSUQiLCJDb250ZXh0U3lzdGVtIiwid2ViR0xWZXJzaW9uIiwiZXh0ZW5zaW9ucyIsImhhbmRsZUNvbnRleHRMb3N0IiwiaGFuZGxlQ29udGV4dFJlc3RvcmVkIiwiaXNMb3N0IiwiaXNDb250ZXh0TG9zdCIsImNvbnRleHRDaGFuZ2UiLCJyZXN0b3JlQ29udGV4dCIsImluaXRGcm9tQ29udGV4dCIsInZhbGlkYXRlQ29udGV4dCIsInJ1bm5lcnMiLCJpbml0RnJvbU9wdGlvbnMiLCJjcmVhdGVDb250ZXh0IiwiZ2V0RXh0ZW5zaW9ucyIsImRyYXdCdWZmZXJzIiwidmVydGV4QXJyYXlPYmplY3QiLCJhbmlzb3Ryb3BpY0ZpbHRlcmluZyIsInVpbnQzMkVsZW1lbnRJbmRleCIsImZsb2F0VGV4dHVyZSIsImZsb2F0VGV4dHVyZUxpbmVhciIsInRleHR1cmVIYWxmRmxvYXQiLCJ0ZXh0dXJlSGFsZkZsb2F0TGluZWFyIiwiY29sb3JCdWZmZXJGbG9hdCIsInByZXZlbnREZWZhdWx0IiwidXNlUHJvZ3JhbSIsInBvc3RyZW5kZXIiLCJGcmFtZWJ1ZmZlclN5c3RlbSIsIm1hbmFnZWRGcmFtZWJ1ZmZlcnMiLCJ1bmtub3duRnJhbWVidWZmZXIiLCJ2aWV3cG9ydCIsImhhc01SVCIsIndyaXRlRGVwdGhUZXh0dXJlIiwiZGlzcG9zZUFsbCIsIm5hdGl2ZURyYXdCdWZmZXJzRXh0ZW5zaW9uIiwibmF0aXZlRGVwdGhUZXh0dXJlRXh0ZW5zaW9uIiwiYWN0aXZlVGV4dHVyZXMiLCJkcmF3QnVmZmVyc1dFQkdMIiwiZmJvIiwiaW5pdEZyYW1lYnVmZmVyIiwiYmluZEZyYW1lYnVmZmVyIiwiRlJBTUVCVUZGRVIiLCJ1cGRhdGVGcmFtZWJ1ZmZlciIsInJlc2l6ZUZyYW1lYnVmZmVyIiwidGV4dHVyZVBhcnQiLCJzZXRWaWV3cG9ydCIsIkNPTE9SX0JVRkZFUl9CSVQiLCJERVBUSF9CVUZGRVJfQklUIiwiY3JlYXRlRnJhbWVidWZmZXIiLCJiaW5kUmVuZGVyYnVmZmVyIiwiUkVOREVSQlVGRkVSIiwicmVuZGVyYnVmZmVyU3RvcmFnZSIsImNvdW50IiwiZnJhbWVidWZmZXJUZXh0dXJlMkQiLCJDT0xPUl9BVFRBQ0hNRU5UMCIsIkRFUFRIX0FUVEFDSE1FTlQiLCJjcmVhdGVSZW5kZXJidWZmZXIiLCJmcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlciIsIkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVCIsImRpc3Bvc2VGcmFtZWJ1ZmZlciIsImNvbnRleHRMb3N0IiwiZGVsZXRlRnJhbWVidWZmZXIiLCJkZWxldGVSZW5kZXJidWZmZXIiLCJmb3JjZVN0ZW5jaWwiLCJTVEVOQ0lMX0FUVEFDSE1FTlQiLCJHTEJ1ZmZlciIsImJ5dGVMZW5ndGgiLCJieXRlU2l6ZU1hcCQxIiwiR2VvbWV0cnlTeXN0ZW0iLCJfYWN0aXZlR2VvbWV0cnkiLCJfYWN0aXZlVmFvIiwiaGFzVmFvIiwiaGFzSW5zdGFuY2UiLCJjYW5Vc2VVSW50MzJFbGVtZW50SW5kZXgiLCJib3VuZEJ1ZmZlcnMiLCJtYW5hZ2VkR2VvbWV0cmllcyIsIm1hbmFnZWRCdWZmZXJzIiwiY3JlYXRlVmVydGV4QXJyYXkiLCJuYXRpdmVWYW9FeHRlbnNpb24iLCJjcmVhdGVWZXJ0ZXhBcnJheU9FUyIsImJpbmRWZXJ0ZXhBcnJheSIsInZhbyIsImJpbmRWZXJ0ZXhBcnJheU9FUyIsImRlbGV0ZVZlcnRleEFycmF5IiwiZGVsZXRlVmVydGV4QXJyYXlPRVMiLCJ2ZXJ0ZXhBdHRyaWJEaXZpc29yIiwiaW5zdGFuY2VFeHQiLCJ2ZXJ0ZXhBdHRyaWJEaXZpc29yQU5HTEUiLCJkcmF3RWxlbWVudHNJbnN0YW5jZWQiLCJkcmF3RWxlbWVudHNJbnN0YW5jZWRBTkdMRSIsImRyYXdBcnJheXNJbnN0YW5jZWQiLCJkcmF3QXJyYXlzSW5zdGFuY2VkQU5HTEUiLCJ2YW9zIiwicHJvZ3JhbSIsImluaXRHZW9tZXRyeVZhbyIsImFjdGl2YXRlVmFvIiwidXBkYXRlQnVmZmVycyIsImdsQnVmZmVyIiwiRUxFTUVOVF9BUlJBWV9CVUZGRVIiLCJBUlJBWV9CVUZGRVIiLCJiaW5kQnVmZmVyIiwiX2JvdW5kQnVmZmVyIiwiYnVmZmVyU3ViRGF0YSIsImRyYXdUeXBlIiwiU1RBVElDX0RSQVciLCJEWU5BTUlDX0RSQVciLCJidWZmZXJEYXRhIiwiY2hlY2tDb21wYXRpYmlsaXR5IiwiZ2VvbWV0cnlBdHRyaWJ1dGVzIiwic2hhZGVyQXR0cmlidXRlcyIsImF0dHJpYnV0ZURhdGEiLCJnZXRTaWduYXR1cmUiLCJhdHRyaWJzIiwic3RyaW5ncyIsInNpZ25hdHVyZSIsInZhb09iamVjdEhhc2giLCJ0ZW1wU3RyaWRlIiwidGVtcFN0YXJ0IiwiYXR0cmliU2l6ZSIsImNyZWF0ZUJ1ZmZlciIsImRpc3Bvc2VCdWZmZXIiLCJkZWxldGVCdWZmZXIiLCJkaXNwb3NlR2VvbWV0cnkiLCJidWYiLCJ2YW9JZCIsImxhc3RCdWZmZXIiLCJlbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSIsInZlcnRleEF0dHJpYlBvaW50ZXIiLCJieXRlU2l6ZSIsImdsVHlwZSIsIlVOU0lHTkVEX0lOVCIsImRyYXdFbGVtZW50cyIsImRyYXdBcnJheXMiLCJjb21waWxlUHJvZ3JhbSIsInZlcnRleFNyYyIsImZyYWdtZW50U3JjIiwiYXR0cmlidXRlTG9jYXRpb25zIiwiZ2xWZXJ0U2hhZGVyIiwiY29tcGlsZVNoYWRlciIsIlZFUlRFWF9TSEFERVIiLCJnbEZyYWdTaGFkZXIiLCJGUkFHTUVOVF9TSEFERVIiLCJjcmVhdGVQcm9ncmFtIiwiYXR0YWNoU2hhZGVyIiwiYmluZEF0dHJpYkxvY2F0aW9uIiwibGlua1Byb2dyYW0iLCJnZXRQcm9ncmFtUGFyYW1ldGVyIiwiTElOS19TVEFUVVMiLCJWQUxJREFURV9TVEFUVVMiLCJnZXRFcnJvciIsImdldFByb2dyYW1JbmZvTG9nIiwiZGVsZXRlUHJvZ3JhbSIsImRlbGV0ZVNoYWRlciIsImNyZWF0ZVNoYWRlciIsInNoYWRlclNvdXJjZSIsImdldFNoYWRlclBhcmFtZXRlciIsIkNPTVBJTEVfU1RBVFVTIiwiZ2V0U2hhZGVySW5mb0xvZyIsImJvb2xlYW5BcnJheSIsIm1heEZyYWdtZW50UHJlY2lzaW9uIiwidW5rbm93bkNvbnRleHQiLCJnZXRUZXN0Q29udGV4dCIsInNldFByZWNpc2lvbiIsInJlcXVlc3RlZFByZWNpc2lvbiIsIm1heFN1cHBvcnRlZFByZWNpc2lvbiIsInN1YnN0cmluZyIsInByZWNpc2lvbiIsIkdMU0xfVE9fU0laRSIsImZsb2F0IiwidmVjMiIsInZlYzMiLCJ2ZWM0IiwiaW50IiwiaXZlYzIiLCJpdmVjMyIsIml2ZWM0IiwiYm9vbCIsImJ2ZWMyIiwiYnZlYzMiLCJidmVjNCIsIm1hdDIiLCJtYXQzIiwibWF0NCIsInNhbXBsZXIyRCIsIm1hcFNpemUiLCJHTF9UQUJMRSIsIkdMX1RPX0dMU0xfVFlQRVMiLCJGTE9BVF9WRUMyIiwiRkxPQVRfVkVDMyIsIkZMT0FUX1ZFQzQiLCJJTlQiLCJJTlRfVkVDMiIsIklOVF9WRUMzIiwiSU5UX1ZFQzQiLCJCT09MIiwiQk9PTF9WRUMyIiwiQk9PTF9WRUMzIiwiQk9PTF9WRUM0IiwiRkxPQVRfTUFUMiIsIkZMT0FUX01BVDMiLCJGTE9BVF9NQVQ0IiwiU0FNUExFUl8yRCIsIlNBTVBMRVJfQ1VCRSIsIlNBTVBMRVJfMkRfQVJSQVkiLCJtYXBUeXBlIiwidHlwZU5hbWVzIiwidG4iLCJHTFNMX1RPX1NJTkdMRV9TRVRURVJTX0NBQ0hFRCIsInNhbXBsZXJDdWJlIiwic2FtcGxlcjJEQXJyYXkiLCJHTFNMX1RPX0FSUkFZX1NFVFRFUlMiLCJ1bnNhZmVFdmFsIiwiZnJhZ1RlbXBsYXRlIiwiY2hlY2tNYXhJZlN0YXRlbWVudHNJblNoYWRlciIsIm1heElmcyIsImdlbmVyYXRlSWZUZXN0U3JjIiwiVUlEJDMiLCJuYW1lQ2FjaGUiLCJQcm9ncmFtIiwiZGVmYXVsdFZlcnRleFNyYyIsImRlZmF1bHRGcmFnbWVudFNyYyIsImdldFNoYWRlclByZWNpc2lvbkZvcm1hdCIsInNoYWRlckZyYWdtZW50IiwiSElHSF9GTE9BVCIsImdldE1heEZyYWdtZW50UHJlY2lzaW9uIiwiZXh0cmFjdERhdGEiLCJnbFByb2dyYW1zIiwiZ2V0QXR0cmlidXRlRGF0YSIsInVuaWZvcm1EYXRhIiwiZ2V0VW5pZm9ybURhdGEiLCJhdHRyaWJ1dGVzQXJyYXkiLCJ0b3RhbEF0dHJpYnV0ZXMiLCJBQ1RJVkVfQVRUUklCVVRFUyIsImF0dHJpYkRhdGEiLCJnZXRBY3RpdmVBdHRyaWIiLCJ0b3RhbFVuaWZvcm1zIiwiQUNUSVZFX1VOSUZPUk1TIiwiZ2V0QWN0aXZlVW5pZm9ybSIsInVuaWZvcm1Hcm91cCIsImNoZWNrVW5pZm9ybUV4aXN0cyIsInVuaWZvcm0iLCJwb2x5Z29uT2Zmc2V0IiwiYmxlbmQiLCJwcm90b3R5cGVBY2Nlc3NvcnMkMyIsImN1bGxpbmciLCJkZXB0aFRlc3QiLCJjbG9ja3dpc2VGcm9udEZhY2UiLCJfYmxlbmRNb2RlIiwiX3BvbHlnb25PZmZzZXQiLCJmb3IyZCIsIlNoYWRlciIsIkZpbHRlciIsImFUZXh0dXJlQ29vcmQiLCJzdGF0aWNBY2Nlc3NvcnMiLCJmaWx0ZXJNYW5hZ2VyIiwiY3VycmVudFN0YXRlIiwiU09VUkNFX0tFWV9NQVAiLCJ2ZXJ0ZXgiLCJmcmFnbWVudCIsInRlbXBNYXQiLCJjbGFtcE1hcmdpbiIsIm1hcENvb3JkIiwidUNsYW1wRnJhbWUiLCJ1Q2xhbXBPZmZzZXQiLCJjbGFtcE9mZnNldCIsImlzU2ltcGxlIiwicHJvdG90eXBlQWNjZXNzb3JzJDQiLCJtdWx0aXBseVV2cyIsImZvcmNlVXBkYXRlIiwidGV4QmFzZSIsIm1hcmdpbiIsIlNwcml0ZU1hc2tGaWx0ZXIiLCJtYXNrTWF0cml4IiwibWFza1Nwcml0ZSIsIm5wbUFscGhhIiwib3RoZXJNYXRyaXgiLCJtYXNrQ2xhbXAiLCJNYXNrU3lzdGVtIiwic2Npc3NvciIsInNjaXNzb3JEYXRhIiwic2Npc3NvclJlbmRlclRhcmdldCIsImVuYWJsZVNjaXNzb3IiLCJhbHBoYU1hc2tQb29sIiwiYWxwaGFNYXNrSW5kZXgiLCJtYXNrRGF0YSIsInB1c2hTcHJpdGVNYXNrIiwiX2FjdGl2ZVJlbmRlclRhcmdldCIsImlzRmFzdFJlY3QiLCJyb3QiLCJwdXNoU3RlbmNpbE1hc2siLCJwdXNoU2Npc3Nvck1hc2siLCJwb3BTcHJpdGVNYXNrIiwicG9wU2Npc3Nvck1hc2siLCJwb3BTdGVuY2lsTWFzayIsImFscGhhTWFza0ZpbHRlciIsInN0YXNoRmlsdGVyQXJlYSIsInB1c2hTdGVuY2lsIiwicG9wU3RlbmNpbCIsInJlbmRlclRhcmdldCIsImVuYWJsZSIsIlNDSVNTT1JfVEVTVCIsImRpc2FibGUiLCJTdGVuY2lsU3lzdGVtIiwic2V0TWFza1N0YWNrIiwiY3VyU3RhY2tMZW4iLCJTVEVOQ0lMX1RFU1QiLCJfdXNlQ3VycmVudCIsImdyYXBoaWNzIiwicHJldk1hc2tDb3VudCIsImNvbG9yTWFzayIsInN0ZW5jaWxGdW5jIiwiRVFVQUwiLCJfZ2V0Qml0d2lzZU1hc2siLCJzdGVuY2lsT3AiLCJLRUVQIiwiSU5DUiIsIlNURU5DSUxfQlVGRkVSX0JJVCIsImNsZWFyU3RlbmNpbCIsIkRFQ1IiLCJQcm9qZWN0aW9uU3lzdGVtIiwiZGVmYXVsdEZyYW1lIiwicHJvamVjdGlvbk1hdHJpeCIsImNhbGN1bGF0ZVByb2plY3Rpb24iLCJzeW5jVW5pZm9ybUdyb3VwIiwiZ2xvYmFscyIsIlJlbmRlclRleHR1cmVTeXN0ZW0iLCJfYmFja2dyb3VuZENvbG9yUmdiYSIsImRlZmF1bHRNYXNrU3RhY2siLCJwcm9qZWN0aW9uIiwiR0xQcm9ncmFtIiwidW5pZm9ybUdyb3VwcyIsIlVJRCQ0IiwiU2hhZGVyU3lzdGVtIiwic3lzdGVtQ2hlY2siLCJjYWNoZSIsImZ1bmMiLCJ1bnNhZmVFdmFsU3VwcG9ydGVkIiwiZG9udFN5bmMiLCJnbFByb2dyYW0iLCJnZW5lcmF0ZVNoYWRlciIsInNldFVuaWZvcm1zIiwiZ2V0Z2xQcm9ncmFtIiwiY3JlYXRlU3luY0dyb3VwcyIsInRleHR1cmVDb3VudCIsImdlbmVyYXRlVW5pZm9ybXNTeW5jIiwiYXR0cmliTWFwIiwic2hhZGVyUHJvZ3JhbSIsImdldFVuaWZvcm1Mb2NhdGlvbiIsIkJMRU5EJDEiLCJPRkZTRVQkMSIsIkNVTExJTkckMSIsIkRFUFRIX1RFU1QkMSIsIldJTkRJTkckMSIsIlN0YXRlU3lzdGVtIiwic3RhdGVJZCIsIl9ibGVuZEVxIiwic2V0QmxlbmQiLCJzZXRPZmZzZXQiLCJzZXRDdWxsRmFjZSIsInNldERlcHRoVGVzdCIsInNldEZyb250RmFjZSIsImNoZWNrcyIsImRlZmF1bHRTdGF0ZSIsImJsZW5kTW9kZXMiLCJPTkUiLCJPTkVfTUlOVVNfU1JDX0FMUEhBIiwiRFNUX0NPTE9SIiwiT05FX01JTlVTX1NSQ19DT0xPUiIsIlNSQ19BTFBIQSIsIkRTVF9BTFBIQSIsIlpFUk8iLCJPTkVfTUlOVVNfRFNUX0FMUEhBIiwiRlVOQ19SRVZFUlNFX1NVQlRSQUNUIiwiRlVOQ19BREQiLCJtYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGkiLCJkaWZmIiwiZm9yY2VTdGF0ZSIsInVwZGF0ZUNoZWNrIiwiY2hlY2tCbGVuZE1vZGUiLCJCTEVORCIsImNoZWNrUG9seWdvbk9mZnNldCIsIlBPTFlHT05fT0ZGU0VUX0ZJTEwiLCJERVBUSF9URVNUIiwiQ1VMTF9GQUNFIiwiZnJvbnRGYWNlIiwic2V0QmxlbmRNb2RlIiwiYmxlbmRGdW5jIiwiYmxlbmRGdW5jU2VwYXJhdGUiLCJibGVuZEVxdWF0aW9uU2VwYXJhdGUiLCJzZXRQb2x5Z29uT2Zmc2V0IiwiVU5QQUNLX0ZMSVBfWV9XRUJHTCIsIlRleHR1cmVHQ1N5c3RlbSIsImNoZWNrQ291bnQiLCJtYXhJZGxlIiwiY2hlY2tDb3VudE1heCIsInRtIiwibWFuYWdlZFRleHR1cmVzIiwid2FzUmVtb3ZlZCIsImRlc3Ryb3lUZXh0dXJlIiwidW5sb2FkIiwidGV4dHVyZVN5c3RlbSIsIl9nbFJlbmRlclRhcmdldHMiLCJHTFRleHR1cmUiLCJUZXh0dXJlU3lzdGVtIiwiYm91bmRUZXh0dXJlcyIsImN1cnJlbnRMb2NhdGlvbiIsIl91bmtub3duQm91bmRUZXh0dXJlcyIsInVua25vd25UZXh0dXJlIiwibWF4VGV4dHVyZXMiLCJnZXRQYXJhbWV0ZXIiLCJNQVhfVEVYVFVSRV9JTUFHRV9VTklUUyIsImVtcHR5VGV4dHVyZXMiLCJlbXB0eVRleHR1cmUyRCIsImJpbmRUZXh0dXJlIiwidGV4UGFyYW1ldGVyaSIsIlRFWFRVUkVfTUFHX0ZJTFRFUiIsIlRFWFRVUkVfTUlOX0ZJTFRFUiIsInRleHR1cmVHQyIsImluaXRUZXh0dXJlIiwiYWN0aXZlVGV4dHVyZSIsIlRFWFRVUkUwIiwidXBkYXRlVGV4dHVyZSIsImluaXRUZXh0dXJlVHlwZSIsIlJHQkEzMkYiLCJSR0JBMTZGIiwidXBkYXRlVGV4dHVyZVN0eWxlIiwic2tpcFJlbW92ZSIsImRlbGV0ZVRleHR1cmUiLCJnZW5lcmF0ZU1pcG1hcCIsIlRFWFRVUkVfV1JBUF9TIiwiVEVYVFVSRV9XUkFQX1QiLCJMSU5FQVJfTUlQTUFQX0xJTkVBUiIsIk5FQVJFU1RfTUlQTUFQX05FQVJFU1QiLCJhbmlzb3Ryb3BpY0V4dCIsImxldmVsIiwiTUFYX1RFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhUIiwidGV4UGFyYW1ldGVyZiIsIlRFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhUIiwic3lzdGVtcyIsInRlbXBNYXRyaXgiLCJBYnN0cmFjdFJlbmRlcmVyIiwicm91bmRQaXhlbHMiLCJhdXRvUmVzaXplIiwiX2JhY2tncm91bmRDb2xvciIsIl9iYWNrZ3JvdW5kQ29sb3JTdHJpbmciLCJpbml0UGx1Z2lucyIsInN0YXRpY01hcCIsInNjcmVlbldpZHRoIiwic2NyZWVuSGVpZ2h0IiwiZ2VuZXJhdGVUZXh0dXJlIiwicmVnaW9uIiwicmVtb3ZlVmlldyIsIlJlbmRlcmVyIiwicHJlcmVuZGVyIiwiYWRkU3lzdGVtIiwiX19wbHVnaW5zIiwicHJlbXVsdGlwbGllZEFscGhhIiwicG93ZXJQcmVmZXJlbmNlIiwiQ2xhc3NSZWYiLCJza2lwVXBkYXRlVHJhbnNmb3JtIiwiY2FjaGVQYXJlbnQiLCJyZWdpc3RlclBsdWdpbiIsInBsdWdpbk5hbWUiLCJjdG9yIiwiYXV0b0RldGVjdFJlbmRlcmVyIiwiX2RlZmF1bHQiLCJkZWZhdWx0RmlsdGVyIiwiQ3ViZVRleHR1cmUiLCJCYXRjaERyYXdDYWxsIiwiVmlld2FibGVCdWZmZXIiLCJyYXdCaW5hcnlEYXRhIiwidWludDMyVmlldyIsImZsb2F0MzJWaWV3IiwicHJvdG90eXBlQWNjZXNzb3JzJDUiLCJpbnQ4VmlldyIsInVpbnQ4VmlldyIsImludDE2VmlldyIsInVpbnQxNlZpZXciLCJpbnQzMlZpZXciLCJfaW50OFZpZXciLCJJbnQ4QXJyYXkiLCJfdWludDhWaWV3IiwiX2ludDE2VmlldyIsIkludDE2QXJyYXkiLCJfdWludDE2VmlldyIsIl9pbnQzMlZpZXciLCJzaXplT2YiLCJPYmplY3RSZW5kZXJlciIsIkFic3RyYWN0QmF0Y2hSZW5kZXJlciIsInNoYWRlckdlbmVyYXRvciIsImdlb21ldHJ5Q2xhc3MiLCJ2ZXJ0ZXhTaXplIiwiX3ZlcnRleENvdW50IiwiX2luZGV4Q291bnQiLCJfYnVmZmVyZWRFbGVtZW50cyIsIl9idWZmZXJTaXplIiwiX3NoYWRlciIsIl9wYWNrZWRHZW9tZXRyaWVzIiwiX3BhY2tlZEdlb21ldHJ5UG9vbFNpemUiLCJfZmx1c2hJZCIsIl9kcmF3Q2FsbHMiLCJfYUJ1ZmZlcnMiLCJfaUJ1ZmZlcnMiLCJNQVhfVEVYVFVSRVMiLCJvblByZXJlbmRlciIsImluZGljZXMiLCJuZXh0VGV4dHVyZSIsImN1cnJlbnRUZXh0dXJlIiwiYXR0cmlidXRlQnVmZmVyIiwiZ2V0QXR0cmlidXRlQnVmZmVyIiwiZ2V0SW5kZXhCdWZmZXIiLCJlbGVtZW50cyIsImRyYXdDYWxscyIsInBhY2tlZEdlb21ldHJpZXMiLCJ0b3VjaCIsImN1cnJlbnRHcm91cCIsImdyb3VwQ291bnQiLCJUSUNLIiwic3ByaXRlQmxlbmRNb2RlIiwicGFja0ludGVybGVhdmVkR2VvbWV0cnkiLCJfYnVmZmVyIiwiX2luZGV4QnVmZmVyIiwic3RhdGVTeXN0ZW0iLCJncm91cFRleHR1cmVDb3VudCIsInJvdW5kZWRQMiIsInJvdW5kZWRTaXplSW5kZXgiLCJyb3VuZGVkU2l6ZSIsImFJbmRleCIsImlJbmRleCIsInBhY2tlZFZlcnRpY2VzIiwiaW5kaWNpZXMiLCJ0ZXh0dXJlSWQiLCJhcmdiIiwiX3RpbnRSR0IiLCJCYXRjaFNoYWRlckdlbmVyYXRvciIsInByb2dyYW1DYWNoZSIsImRlZmF1bHRHcm91cENhY2hlIiwic2FtcGxlVmFsdWVzIiwidVNhbXBsZXJzIiwiZ2VuZXJhdGVTYW1wbGVTcmMiLCJ0cmFuc2xhdGlvbk1hdHJpeCIsIkJhdGNoR2VvbWV0cnkiLCJkZWZhdWx0VmVydGV4JDIiLCJkZWZhdWx0RnJhZ21lbnQkMiIsIkJhdGNoUGx1Z2luRmFjdG9yeSIsImRlZmF1bHRGcmFnbWVudFRlbXBsYXRlIiwiQmF0Y2hQbHVnaW4iLCJCYXRjaFJlbmRlcmVyIiwiVEVNUF9SRUNUIiwiRXh0cmFjdCIsImV4dHJhY3QiLCJpbWFnZSIsInF1YWxpdHkiLCJiYXNlNjQiLCJ0b0RhdGFVUkwiLCJmbGlwWSIsImdlbmVyYXRlZCIsImNhbnZhc0J1ZmZlciIsIndlYmdsUGl4ZWxzIiwicmVhZFBpeGVscyIsImNhbnZhc0RhdGEiLCJhcnJheVBvc3REaXZpZGUiLCJwdXRJbWFnZURhdGEiLCJvcmlnaW5hbEV2ZW50IiwiaWRlbnRpZmllciIsImlzUHJpbWFyeSIsImJ1dHRvbiIsImJ1dHRvbnMiLCJ0aWx0WCIsInRpbHRZIiwicG9pbnRlclR5cGUiLCJwcmVzc3VyZSIsInJvdGF0aW9uQW5nbGUiLCJ0d2lzdCIsInRhbmdlbnRpYWxQcmVzc3VyZSIsInBvaW50ZXJJZCIsImdldExvY2FsUG9zaXRpb24iLCJnbG9iYWxQb3MiLCJjb3B5RXZlbnQiLCJ3aGljaCIsIkludGVyYWN0aW9uRXZlbnQiLCJzdG9wcGVkIiwic3RvcHNQcm9wYWdhdGluZ0F0Iiwic3RvcFByb3BhZ2F0aW9uSGludCIsImN1cnJlbnRUYXJnZXQiLCJzdG9wUHJvcGFnYXRpb24iLCJJbnRlcmFjdGlvblRyYWNraW5nRGF0YSIsIl9wb2ludGVySWQiLCJfZmxhZ3MiLCJGTEFHUyIsImZsYWdzIiwibm9uZSIsIm92ZXIiLCJyaWdodERvd24iLCJsZWZ0RG93biIsIl9kb1NldCIsInluIiwiT1ZFUiIsIlJJR0hUX0RPV04iLCJMRUZUX0RPV04iLCJmcmVlemUiLCJpbnRlcmFjdGl2ZVRhcmdldCIsImN1cnNvciIsIl90cmFja2VkUG9pbnRlcnMiLCJNT1VTRV9QT0lOVEVSX0lEIiwiaGl0VGVzdEV2ZW50IiwiSW50ZXJhY3Rpb25NYW5hZ2VyIiwiYXV0b1ByZXZlbnREZWZhdWx0IiwiaW50ZXJhY3Rpb25GcmVxdWVuY3kiLCJtb3VzZSIsImFjdGl2ZUludGVyYWN0aW9uRGF0YSIsImludGVyYWN0aW9uRGF0YVBvb2wiLCJpbnRlcmFjdGlvbkRPTUVsZW1lbnQiLCJtb3ZlV2hlbkluc2lkZSIsImV2ZW50c0FkZGVkIiwibW91c2VPdmVyUmVuZGVyZXIiLCJzdXBwb3J0c1RvdWNoRXZlbnRzIiwic3VwcG9ydHNQb2ludGVyRXZlbnRzIiwiUG9pbnRlckV2ZW50Iiwib25Qb2ludGVyVXAiLCJwcm9jZXNzUG9pbnRlclVwIiwib25Qb2ludGVyQ2FuY2VsIiwicHJvY2Vzc1BvaW50ZXJDYW5jZWwiLCJvblBvaW50ZXJEb3duIiwicHJvY2Vzc1BvaW50ZXJEb3duIiwib25Qb2ludGVyTW92ZSIsInByb2Nlc3NQb2ludGVyTW92ZSIsIm9uUG9pbnRlck91dCIsInByb2Nlc3NQb2ludGVyT3Zlck91dCIsIm9uUG9pbnRlck92ZXIiLCJjdXJzb3JTdHlsZXMiLCJwb2ludGVyIiwiY3VycmVudEN1cnNvck1vZGUiLCJfdGVtcFBvaW50IiwiZGVsYXllZEV2ZW50cyIsInNldFRhcmdldEVsZW1lbnQiLCJoaXRUZXN0IiwiZ2xvYmFsUG9pbnQiLCJwcm9jZXNzSW50ZXJhY3RpdmUiLCJyZW1vdmVFdmVudHMiLCJhZGRFdmVudHMiLCJtc1BvaW50ZXJFbmFibGVkIiwiX2RlbHRhVGltZSIsImRpZE1vdmUiLCJpbnRlcmFjdGlvbkRhdGEiLCJpbnRlcmFjdGlvbkV2ZW50IiwiY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50Iiwic2V0Q3Vyc29yTW9kZSIsImV2ZW50U3RyaW5nIiwiZGVsYXlEaXNwYXRjaEV2ZW50IiwibWFwUG9zaXRpb25Ub1BvaW50IiwicGFyZW50RWxlbWVudCIsInJlc29sdXRpb25NdWx0aXBsaWVyIiwic2tpcERlbGF5ZWQiLCJoaXQiLCJpbnRlcmFjdGl2ZVBhcmVudCIsImhpdFRlc3RDaGlsZHJlbiIsImNvbnRhaW5zUG9pbnQiLCJjaGlsZEhpdCIsImRlbGF5ZWRMZW4iLCJkaXNwbGF5T2JqZWN0JDEiLCJub3JtYWxpemVUb1BvaW50ZXJEYXRhIiwiaXNOb3JtYWxpemVkIiwiY2FuY2VsYWJsZSIsImV2ZW50TGVuIiwiZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkIiwiaXNSaWdodEJ1dHRvbiIsInRyYWNrZWRQb2ludGVycyIsIm9uUG9pbnRlckNvbXBsZXRlIiwiY2FuY2VsbGVkIiwiZXZlbnRBcHBlbmQiLCJyZWxlYXNlSW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkIiwidHJhY2tpbmdEYXRhIiwiaXNUb3VjaCIsImlzTW91c2UiLCJpc01vdXNlVGFwIiwiaXNEb3duIiwicG9pbnRlckV2ZW50IiwiY2xpZW50WCIsImNsaWVudFkiLCJnbG9iYWxYIiwiZ2xvYmFsWSIsIm5vcm1hbGl6ZWRFdmVudHMiLCJUb3VjaEV2ZW50IiwibGkiLCJjaGFuZ2VkVG91Y2hlcyIsInRvdWNoZXMiLCJyYWRpdXNYIiwicmFkaXVzWSIsImZvcmNlIiwibGF5ZXJYIiwib2Zmc2V0WCIsImxheWVyWSIsIm9mZnNldFkiLCJNb3VzZUV2ZW50IiwiR1JBUEhJQ1NfQ1VSVkVTIiwiYWRhcHRpdmUiLCJtYXhMZW5ndGgiLCJtaW5TZWdtZW50cyIsIm1heFNlZ21lbnRzIiwiX3NlZ21lbnRzQ291bnQiLCJkZWZhdWx0U2VnbWVudHMiLCJGaWxsU3R5bGUiLCJjb2xvciIsIkdyYXBoaWNzRGF0YSIsInNoYXBlIiwiYnVpbGRDaXJjbGUiLCJidWlsZCIsImdyYXBoaWNzRGF0YSIsImNpcmNsZURhdGEiLCJ0b3RhbFNlZ3MiLCJzZWciLCJ0cmlhbmd1bGF0ZSIsImdyYXBoaWNzR2VvbWV0cnkiLCJ2ZXJ0cyIsInZlcnRQb3MiLCJjZW50ZXIiLCJidWlsZExpbmUiLCJuYXRpdmUiLCJjbG9zZWRTaGFwZSIsInN0YXJ0SW5kZXgiLCJidWlsZE5hdGl2ZUxpbmUiLCJjbG9zZVBvaW50RXBzIiwiZmlyc3RQb2ludCIsImxhc3RQb2ludCIsImNsb3NlZFBhdGgiLCJtaWRQb2ludFgiLCJtaWRQb2ludFkiLCJpbmRleENvdW50IiwiaW5kZXhTdGFydCIsInAxeCIsInAxeSIsInAyeCIsInAyeSIsInAzeCIsInAzeSIsInBlcnB4IiwicGVycHkiLCJwZXJwMngiLCJwZXJwMnkiLCJwZXJwM3giLCJwZXJwM3kiLCJkaXN0IiwicmF0aW8iLCJhbGlnbm1lbnQiLCJyMSIsImMyIiwiZGVub20iLCJidWlsZExpbmUkMSIsImJ1aWxkUG9seSIsImhvbGVBcnJheSIsImJ1aWxkUm91bmRlZFJlY3RhbmdsZSIsInJyZWN0RGF0YSIsInF1YWRyYXRpY0JlemllckN1cnZlIiwidmVjUG9zIiwiZ2V0UHQiLCJuMSIsIm4yIiwicGVyYyIsImZyb21YIiwiZnJvbVkiLCJjcFgiLCJjcFkiLCJ0b1giLCJ0b1kiLCJ4YSIsInlhIiwieGIiLCJ5YiIsIkJBVENIX1BPT0wiLCJEUkFXX0NBTExfUE9PTCIsInRtcFBvaW50IiwiZmlsbENvbW1hbmRzIiwicmVjdERhdGEiLCJCYXRjaFBhcnQiLCJhdHRyaWJTdGFydCIsIkdyYXBoaWNzR2VvbWV0cnkiLCJjb2xvcnMiLCJ0ZXh0dXJlSWRzIiwiYmF0Y2hEaXJ0eSIsImNhY2hlRGlydHkiLCJjbGVhckRpcnR5IiwiYmF0Y2hlcyIsInNoYXBlSW5kZXgiLCJib3VuZHNEaXJ0eSIsImJvdW5kc1BhZGRpbmciLCJiYXRjaGFibGUiLCJpbmRpY2VzVWludDE2IiwiZHJhd1NoYXBlIiwiZHJhd0hvbGUiLCJsYXN0U2hhcGUiLCJ1cGRhdGVCYXRjaGVzIiwiYmF0Y2hQYXJ0IiwiY3VycmVudENvbG9yIiwiY3VycmVudE5hdGl2ZSIsImRhdGEkMSIsImNvbW1hbmQiLCJ0cmFuc2Zvcm1Qb2ludHMiLCJzdHlsZSQxIiwiaW5kZXgkMSIsImF0dHJpYkluZGV4IiwicHJvY2Vzc0hvbGVzIiwiYWRkVXZzIiwiaXNCYXRjaGFibGUiLCJpbmRleCQyIiwiYnVpbGREcmF3Q2FsbHMiLCJCQVRDSEFCTEVfU0laRSIsImRyYXdNb2RlIiwiYWRkQ29sb3JzIiwiYWRkVGV4dHVyZUlkcyIsImdsUG9pbnRzIiwiZjMyIiwidTMyIiwibGluZVdpZHRoIiwicnciLCJyaCIsInJnYmEiLCJ1dnNTdGFydCIsIm54IiwiYWRqdXN0VXZzIiwiZmluaXNoIiwiTGluZVN0eWxlIiwiQmV6aWVyVXRpbHMiLCJjdXJ2ZUxlbmd0aCIsImNwWDIiLCJjcFkyIiwidDIiLCJ0MyIsIm50IiwibnQyIiwibnQzIiwicHJldlgiLCJwcmV2WSIsImN1cnZlVG8iLCJkdCIsImR0MiIsImR0MyIsIlF1YWRyYXRpY1V0aWxzIiwiYTMyIiwiYmEiLCJBcmNVdGlscyIsIm1tIiwiZGQiLCJjYyIsInR0IiwiazEiLCJrMiIsImoxIiwiajIiLCJxeSIsInN0YXJ0QW5nbGUiLCJlbmRBbmdsZSIsImFudGljbG9ja3dpc2UiLCJhcmMiLCJzdGFydFgiLCJzdGFydFkiLCJzd2VlcCIsInRoZXRhIiwidGhldGEyIiwiY1RoZXRhIiwic1RoZXRhIiwic2VnTWludXMiLCJyZW1haW5kZXIiLCJQb2x5Z29uIiwiU3RhciIsImlubmVyUmFkaXVzIiwidGVtcCIsIkRFRkFVTFRfU0hBREVSUyIsIl9maWxsU3R5bGUiLCJfbGluZVN0eWxlIiwiX21hdHJpeCIsIl9ob2xlTW9kZSIsImN1cnJlbnRQYXRoIiwiYmF0Y2hUaW50IiwiX3RyYW5zZm9ybUlEIiwibGluZSIsImZpbmlzaFBvbHkiLCJfdGludCIsImxpbmVUZXh0dXJlU3R5bGUiLCJzdGFydFBvbHkiLCJtb3ZlVG8iLCJsaW5lVG8iLCJfaW5pdEN1cnZlIiwicXVhZHJhdGljQ3VydmVUbyIsImJlemllckN1cnZlVG8iLCJhcmNUbyIsInJhZGl1cyQxIiwieERpZmYiLCJ5RGlmZiIsImJlZ2luVGV4dHVyZUZpbGwiLCJkcmF3Um91bmRlZFJlY3QiLCJkcmF3Q2lyY2xlIiwiZHJhd0VsbGlwc2UiLCJkcmF3UG9seWdvbiIsImRyYXdTdGFyIiwiX3BvcHVsYXRlQmF0Y2hlcyIsIl9yZW5kZXJCYXRjaGVkIiwiX3JlbmRlckRpcmVjdCIsImdJIiwiX2JhdGNoUkdCIiwiY2FsY3VsYXRlVmVydGljZXMiLCJjYWxjdWxhdGVUaW50cyIsIl9yZXNvbHZlRGlyZWN0U2hhZGVyIiwiX3JlbmRlckRyYXdDYWxsRGlyZWN0IiwiZHJhd0NhbGwiLCJsYiIsIl9URU1QX1BPSU5UIiwidGludFJHQiIsImNsb3NlUGF0aCIsInNldE1hdHJpeCIsImJlZ2luSG9sZSIsImVuZEhvbGUiLCJ0ZW1wUG9pbnQiLCJfYW5jaG9yIiwiX29uQW5jaG9yVXBkYXRlIiwiX2NhY2hlZFRpbnQiLCJ2ZXJ0ZXhUcmltbWVkRGF0YSIsIl90ZXh0dXJlSUQiLCJfdHJhbnNmb3JtVHJpbW1lZElEIiwiX3RleHR1cmVUcmltbWVkSUQiLCJfcm91bmRQaXhlbHMiLCJfb25UZXh0dXJlVXBkYXRlIiwidzAiLCJ3MSIsImgwIiwiaDEiLCJjYWxjdWxhdGVUcmltbWVkVmVydGljZXMiLCJkZXN0cm95QmFzZVRleHR1cmUiLCJURVhUX0dSQURJRU5UIiwiTElORUFSX1ZFUlRJQ0FMIiwiTElORUFSX0hPUklaT05UQUwiLCJkZWZhdWx0U3R5bGUiLCJicmVha1dvcmRzIiwiZHJvcFNoYWRvdyIsImRyb3BTaGFkb3dBbHBoYSIsImRyb3BTaGFkb3dBbmdsZSIsImRyb3BTaGFkb3dCbHVyIiwiZHJvcFNoYWRvd0NvbG9yIiwiZHJvcFNoYWRvd0Rpc3RhbmNlIiwiZmlsbEdyYWRpZW50VHlwZSIsImZpbGxHcmFkaWVudFN0b3BzIiwiZm9udFN0eWxlIiwiZm9udFZhcmlhbnQiLCJmb250V2VpZ2h0IiwibGV0dGVyU3BhY2luZyIsImxpbmVIZWlnaHQiLCJsaW5lSm9pbiIsIm1pdGVyTGltaXQiLCJzdHJva2UiLCJzdHJva2VUaGlja25lc3MiLCJ0ZXh0QmFzZWxpbmUiLCJ3aGl0ZVNwYWNlIiwid29yZFdyYXAiLCJ3b3JkV3JhcFdpZHRoIiwibGVhZGluZyIsImdlbmVyaWNGb250RmFtaWxpZXMiLCJUZXh0U3R5bGUiLCJzdHlsZUlEIiwiZGVlcENvcHlQcm9wZXJ0aWVzIiwiZ2V0U2luZ2xlQ29sb3IiLCJnZXRDb2xvciIsInByb3BlcnR5T2JqIiwiY2xvbmVkUHJvcGVydGllcyIsIl9hbGlnbiIsIl9icmVha1dvcmRzIiwiX2Ryb3BTaGFkb3ciLCJfZHJvcFNoYWRvd0FscGhhIiwiX2Ryb3BTaGFkb3dBbmdsZSIsIl9kcm9wU2hhZG93Qmx1ciIsIl9kcm9wU2hhZG93Q29sb3IiLCJvdXRwdXRDb2xvciIsIl9kcm9wU2hhZG93RGlzdGFuY2UiLCJfZmlsbCIsIl9maWxsR3JhZGllbnRUeXBlIiwiX2ZpbGxHcmFkaWVudFN0b3BzIiwiYXJyYXkxIiwiYXJyYXkyIiwiYXJlQXJyYXlzRXF1YWwiLCJfZm9udEZhbWlseSIsIl9mb250U2l6ZSIsIl9mb250U3R5bGUiLCJfZm9udFZhcmlhbnQiLCJfZm9udFdlaWdodCIsIl9sZXR0ZXJTcGFjaW5nIiwiX2xpbmVIZWlnaHQiLCJfbGVhZGluZyIsIl9saW5lSm9pbiIsIl9taXRlckxpbWl0IiwiX3BhZGRpbmciLCJfc3Ryb2tlIiwiX3N0cm9rZVRoaWNrbmVzcyIsIl90ZXh0QmFzZWxpbmUiLCJfdHJpbSIsIl93aGl0ZVNwYWNlIiwiX3dvcmRXcmFwIiwiX3dvcmRXcmFwV2lkdGgiLCJ0b0ZvbnRTdHJpbmciLCJmb250U2l6ZVN0cmluZyIsImZvbnRGYW1pbGllcyIsIlRleHRNZXRyaWNzIiwibGluZXMiLCJsaW5lV2lkdGhzIiwibWF4TGluZVdpZHRoIiwiZm9udFByb3BlcnRpZXMiLCJtZWFzdXJlVGV4dCIsIl9jYW52YXMiLCJmb250IiwibWVhc3VyZUZvbnQiLCJhc2NlbnQiLCJjb2xsYXBzZVNwYWNlcyIsImNvbGxhcHNlTmV3bGluZXMiLCJjYW5QcmVwZW5kU3BhY2VzIiwidG9rZW5zIiwidG9rZW5pemUiLCJ0b2tlbiIsImlzTmV3bGluZSIsImFkZExpbmUiLCJjdXJySXNCcmVha2luZ1NwYWNlIiwiaXNCcmVha2luZ1NwYWNlIiwibGFzdElzQnJlYWtpbmdTcGFjZSIsInRva2VuV2lkdGgiLCJnZXRGcm9tQ2FjaGUiLCJjYW5CcmVha1dvcmRzIiwiY2hhcmFjdGVycyIsImNoYXIiLCJuZXh0Q2hhciIsImxhc3RDaGFyIiwiY2FuQnJlYWtDaGFycyIsImNoYXJhY3RlcldpZHRoIiwiaXNMYXN0VG9rZW4iLCJuZXdMaW5lIiwidHJpbVJpZ2h0Iiwic3BhY2luZyIsIl9uZXdsaW5lcyIsIl9icmVha2luZ1NwYWNlcyIsIl9mb250cyIsInByb3BlcnRpZXMiLCJfY29udGV4dCIsIm1ldHJpY3NTdHJpbmciLCJNRVRSSUNTX1NUUklORyIsIkJBU0VMSU5FX1NZTUJPTCIsImJhc2VsaW5lIiwiQkFTRUxJTkVfTVVMVElQTElFUiIsImZpbGxUZXh0IiwiaW1hZ2VkYXRhIiwiZGVzY2VudCIsImNsZWFyTWV0cmljcyIsImV4IiwiZGVmYXVsdERlc3Ryb3lPcHRpb25zIiwiX3Jlc29sdXRpb24iLCJfYXV0b1Jlc29sdXRpb24iLCJfdGV4dCIsIl9zdHlsZSIsIl9zdHlsZUxpc3RlbmVyIiwiX2ZvbnQiLCJsb2NhbFN0eWxlSUQiLCJ1cGRhdGVUZXh0IiwicmVzcGVjdERpcnR5IiwibGluZVBvc2l0aW9uWCIsImxpbmVQb3NpdGlvblkiLCJtZWFzdXJlZCIsInBhc3Nlc0NvdW50IiwiaXNTaGFkb3dQYXNzIiwiZHNPZmZzZXRUZXh0IiwiZHNPZmZzZXRTaGFkb3ciLCJzdHJva2VTdHlsZSIsInNoYWRvd0NvbG9yIiwic2hhZG93Qmx1ciIsInNoYWRvd09mZnNldFgiLCJzaGFkb3dPZmZzZXRZIiwiX2dlbmVyYXRlRmlsbFN0eWxlIiwiZHJhd0xldHRlclNwYWNpbmciLCJpc1N0cm9rZSIsImN1cnJlbnRQb3NpdGlvbiIsInN0cmluZ0FycmF5IiwicHJldmlvdXNXaWR0aCIsImN1cnJlbnRXaWR0aCIsImN1cnJlbnRDaGFyIiwic3Ryb2tlVGV4dCIsInRyaW1tZWQiLCJfb25TdHlsZUNoYW5nZSIsImdyYWRpZW50IiwidG90YWxJdGVyYXRpb25zIiwiY3VycmVudEl0ZXJhdGlvbiIsImxlbmd0aFBsdXMxIiwiY3JlYXRlTGluZWFyR3JhZGllbnQiLCJhZGRDb2xvclN0b3AiLCJVUExPQURTX1BFUl9GUkFNRSIsIkNvdW50TGltaXRlciIsIm1heEl0ZW1zUGVyRnJhbWUiLCJpdGVtc0xlZnQiLCJiZWdpbkZyYW1lIiwiYWxsb3dlZFRvVXBsb2FkIiwibGltaXRlciIsInVwbG9hZEhvb2tIZWxwZXIiLCJhZGRIb29rcyIsInVwbG9hZEhvb2tzIiwiY29tcGxldGVzIiwidGlja2luZyIsImRlbGF5ZWRUaWNrIiwicHJlcGFyZUl0ZW1zIiwicmVnaXN0ZXJGaW5kSG9vayIsImZpbmRUZXh0IiwiZmluZFRleHRTdHlsZSIsImZpbmRNdWx0aXBsZUJhc2VUZXh0dXJlcyIsImZpbmRCYXNlVGV4dHVyZSIsImZpbmRUZXh0dXJlIiwicmVnaXN0ZXJVcGxvYWRIb29rIiwiZHJhd1RleHQiLCJjYWxjdWxhdGVUZXh0U3R5bGUiLCJfdGV4dHVyZXMiLCJoZWxwZXIiLCJkb25lIiwidGljayIsInVwbG9hZGVkIiwibGVuJDEiLCJhZGRIb29rIiwidXBsb2FkSG9vayIsIlByZXBhcmUiLCJCYXNlUHJlcGFyZSIsImZpbmRHcmFwaGljcyIsInVwbG9hZEJhc2VUZXh0dXJlcyIsInVwbG9hZEdyYXBoaWNzIiwiX3dlYkdMIiwidXBkYXRlR3JhcGhpY3MiLCJUaW1lTGltaXRlciIsIm1heE1pbGxpc2Vjb25kcyIsImZyYW1lU3RhcnQiLCJmb3JjZUNhbnZhcyIsIl9wbHVnaW5zIiwicGx1Z2luIiwic3RhZ2VPcHRpb25zIiwicmV2ZXJzZSIsIl9vcHRpb25zIiwiUmVzaXplUGx1Z2luIiwiZG9tIiwiX3Jlc2l6ZVRvIiwiaW5uZXJXaWR0aCIsImNsaWVudFdpZHRoIiwiY2xpZW50SGVpZ2h0IiwiX25vb3AiLCJlYWNoU2VyaWVzIiwiaXRlcmF0b3IiLCJkZWZlck5leHQiLCJvbmx5T25jZSIsImNhbGxGbiIsIndvcmtlciIsImNvbmN1cnJlbmN5Iiwid29ya2VycyIsIl90YXNrcyIsInNhdHVyYXRlZCIsInVuc2F0dXJhdGVkIiwiZHJhaW4iLCJfaW5zZXJ0Iiwia2lsbCIsInJ1bm5pbmciLCJpZGxlIiwicmVzdW1lIiwiaW5zZXJ0QXRGcm9udCIsIl9kZWZpbmVQcm9wZXJ0aWVzIiwidXNlWGRyIiwiWERvbWFpblJlcXVlc3QiLCJYTUxIdHRwUmVxdWVzdCIsIl9ub29wJDEiLCJfc2V0RmxhZyIsIlNUQVRVU19GTEFHUyIsIkRBVEFfVVJMIiwiX2dldEV4dGVuc2lvbiIsImxvYWRUeXBlIiwiX2RldGVybWluZUxvYWRUeXBlIiwieGhyVHlwZSIsIm1ldGFkYXRhIiwieGhyIiwiVFlQRSIsInByb2dyZXNzQ2h1bmsiLCJfZGVxdWV1ZSIsIl9vbkxvYWRCaW5kaW5nIiwiX2VsZW1lbnRUaW1lciIsIl9ib3VuZENvbXBsZXRlIiwiX2JvdW5kT25FcnJvciIsIl9ib3VuZE9uUHJvZ3Jlc3MiLCJfb25Qcm9ncmVzcyIsIl9ib3VuZE9uVGltZW91dCIsIl9ib3VuZFhock9uRXJyb3IiLCJfeGhyT25FcnJvciIsIl9ib3VuZFhock9uVGltZW91dCIsIl94aHJPblRpbWVvdXQiLCJfYm91bmRYaHJPbkFib3J0IiwiX3hock9uQWJvcnQiLCJfYm91bmRYaHJPbkxvYWQiLCJfeGhyT25Mb2FkIiwib25TdGFydCIsIm9uUHJvZ3Jlc3MiLCJvbkNvbXBsZXRlIiwib25BZnRlck1pZGRsZXdhcmUiLCJzZXRFeHRlbnNpb25Mb2FkVHlwZSIsImV4dG5hbWUiLCJzZXRFeHRNYXAiLCJfbG9hZFR5cGVNYXAiLCJzZXRFeHRlbnNpb25YaHJUeXBlIiwiX3hoclR5cGVNYXAiLCJfcHJvdG8iLCJfY2xlYXJFdmVudHMiLCJfZmluaXNoIiwiYWJvcnQiLCJ4ZHIiLCJFTVBUWV9HSUYiLCJmaXJzdENoaWxkIiwiX3RoaXMiLCJpc0xvYWRpbmciLCJpc0NvbXBsZXRlIiwiTE9BRElORyIsIl9kZXRlcm1pbmVDcm9zc09yaWdpbiIsIkxPQURfVFlQRSIsIklNQUdFIiwiX2xvYWRFbGVtZW50IiwiQVVESU8iLCJfbG9hZFNvdXJjZUVsZW1lbnQiLCJWSURFTyIsIlhIUiIsIl9sb2FkWGRyIiwiX2xvYWRYaHIiLCJfaGFzRmxhZyIsIm9udGltZW91dCIsIm9ucHJvZ3Jlc3MiLCJDT01QTEVURSIsImxvYWRFbGVtZW50Iiwic2tpcFNvdXJjZSIsIkF1ZGlvIiwiaXNDb2Nvb25KUyIsIm1pbWVUeXBlcyIsIm1pbWVUeXBlIiwiX2NyZWF0ZVNvdXJjZSIsIl9taW1lVHlwZXMiLCJfZGV0ZXJtaW5lWGhyVHlwZSIsIm9wZW4iLCJYSFJfUkVTUE9OU0VfVFlQRSIsIkpTT04iLCJET0NVTUVOVCIsInJlc3BvbnNlVHlwZSIsIlRFWFQiLCJzZW5kIiwibm9kZU5hbWUiLCJsZW5ndGhDb21wdXRhYmxlIiwibG9hZGVkIiwidG90YWwiLCJyZXFUeXBlIiwic3RhdHVzIiwic3RhdHVzVGV4dCIsInJlc3BvbnNlVGV4dCIsIkJVRkZFUiIsIkRPTVBhcnNlciIsImRvbXBhcnNlciIsInBhcnNlRnJvbVN0cmluZyIsImlubmVySFRNTCIsIlhNTCIsInJlc3BvbnNlIiwicmVzcG9uc2VVUkwiLCJvcmlnaW4iLCJpc0RhdGFVcmwiLCJzbGFzaEluZGV4IiwicXVlcnlTdGFydCIsImhhc2hTdGFydCIsIl9nZXRNaW1lRnJvbVhoclR5cGUiLCJCTE9CIiwiREVGQVVMVCIsImdpZiIsInBuZyIsImJtcCIsImpwZyIsImpwZWciLCJ0aWYiLCJ0aWZmIiwid2VicCIsInRnYSIsIm1wMyIsIm9nZyIsIndhdiIsIm1wNCIsIndlYm0iLCJ4aHRtbCIsImh0bSIsInhtbCIsInRteCIsInRzeCIsImpzb24iLCJ0eHQiLCJ0dGYiLCJvdGYiLCJfa2V5U3RyIiwiVVJMIiwid2Via2l0VVJMIiwiY2FjaGluZyIsInBhcnNpbmciLCJCbG9iIiwiY3JlYXRlT2JqZWN0VVJMIiwiYmxvYiIsInJldm9rZU9iamVjdFVSTCIsImdldFJlc3BvbnNlSGVhZGVyIiwiaW54IiwiYnl0ZWJ1ZmZlciIsImVuY29kZWRDaGFySW5kZXhlcyIsImpueCIsIl9qbngiLCJlbmNvZGVCaW5hcnkiLCJyZ3hFeHRyYWN0VXJsSGFzaCIsIkxvYWRlciIsImJhc2VVcmwiLCJwcm9ncmVzcyIsImxvYWRpbmciLCJkZWZhdWx0UXVlcnlTdHJpbmciLCJfYmVmb3JlTWlkZGxld2FyZSIsIl9hZnRlck1pZGRsZXdhcmUiLCJfcmVzb3VyY2VzUGFyc2luZyIsIl9ib3VuZExvYWRSZXNvdXJjZSIsIl9sb2FkUmVzb3VyY2UiLCJfcXVldWUiLCJvbkxvYWQiLCJfZGVmYXVsdEJlZm9yZU1pZGRsZXdhcmUiLCJwcmUiLCJfaSIsIl9kZWZhdWx0QWZ0ZXJNaWRkbGV3YXJlIiwidXNlIiwicGFyZW50UmVzb3VyY2UiLCJfcHJlcGFyZVVybCIsImluY29tcGxldGVDaGlsZHJlbiIsIl9pMiIsImVhY2hDaHVuayIsIl9pMyIsIl9vblN0YXJ0IiwiX29uQ29tcGxldGUiLCJjaHVuayIsInBhcnNlZFVybCIsImRlcXVldWUiLCJfdGhpczIiLCJfb25Mb2FkIiwiX3RoaXMzIiwiVGV4dHVyZUxvYWRlciIsIlJlc291cmNlTG9hZGVyIiwiQXBwTG9hZGVyUGx1Z2luIiwic2hhcmVkTG9hZGVyIiwibG9hZGVyIiwiTG9hZGVyUmVzb3VyY2UiLCJQYXJ0aWNsZUNvbnRhaW5lciIsIm1heFNpemUiLCJiYXRjaFNpemUiLCJfcHJvcGVydGllcyIsIl9tYXhTaXplIiwiX2JhdGNoU2l6ZSIsIl9idWZmZXJzIiwiX2J1ZmZlclVwZGF0ZUlEcyIsInNldFByb3BlcnRpZXMiLCJ0aW50UmdiIiwicGFydGljbGUiLCJzbWFsbGVzdENoaWxkSW5kZXgiLCJkeW5hbWljUHJvcGVydHlGbGFncyIsImR5bmFtaWNQcm9wZXJ0aWVzIiwic3RhdGljUHJvcGVydGllcyIsImF0dHJpYnV0ZU5hbWUiLCJ1cGxvYWRGdW5jdGlvbiIsInN0YXRpY1N0cmlkZSIsInN0YXRpY0J1ZmZlciIsInN0YXRpY0RhdGEiLCJzdGF0aWNEYXRhVWludDMyIiwiZHluYW1pY1N0cmlkZSIsImR5bmFtaWNCdWZmZXIiLCJkeW5hbWljRGF0YSIsImR5bmFtaWNEYXRhVWludDMyIiwiaW5pdEJ1ZmZlcnMiLCJkeW5hbWljT2Zmc2V0IiwiZHluQnVmZmVyIiwic3RhdGljT2Zmc2V0IiwicHJvcGVydHkkMSIsInN0YXRCdWZmZXIiLCJwcm9wZXJ0eSQyIiwicHJvcGVydHkkMyIsInVwbG9hZER5bmFtaWMiLCJhbW91bnQiLCJ1cGxvYWRTdGF0aWMiLCJQYXJ0aWNsZVJlbmRlcmVyIiwidXBsb2FkVmVydGljZXMiLCJ1cGxvYWRQb3NpdGlvbiIsInVwbG9hZFJvdGF0aW9uIiwidXBsb2FkVXZzIiwidXBsb2FkVGludCIsInRvdGFsQ2hpbGRyZW4iLCJnZW5lcmF0ZUJ1ZmZlcnMiLCJ1Q29sb3IiLCJ1cGRhdGVTdGF0aWMiLCJfZ2VuZXJhdGVPbmVNb3JlQnVmZmVyIiwiYmlkIiwic3ByaXRlUG9zaXRpb24iLCJzcHJpdGVSb3RhdGlvbiIsInRleHR1cmVVdnMiLCJTcHJpdGVzaGVldCIsInJlc29sdXRpb25GaWxlbmFtZSIsImFuaW1hdGlvbnMiLCJfdXBkYXRlUmVzb2x1dGlvbiIsIl9mcmFtZXMiLCJmcmFtZXMiLCJfZnJhbWVLZXlzIiwiX2JhdGNoSW5kZXgiLCJfY2FsbGJhY2siLCJCQVRDSF9TSVpFIiwibWV0YSIsIl9wcm9jZXNzRnJhbWVzIiwiX3Byb2Nlc3NBbmltYXRpb25zIiwiX3BhcnNlQ29tcGxldGUiLCJfbmV4dEJhdGNoIiwiaW5pdGlhbEZyYW1lSW5kZXgiLCJmcmFtZUluZGV4IiwibWF4RnJhbWVzIiwic291cmNlU2l6ZSIsInJvdGF0ZWQiLCJzcHJpdGVTb3VyY2VTaXplIiwiYW5pbU5hbWUiLCJmcmFtZU5hbWUiLCJTcHJpdGVzaGVldExvYWRlciIsImltYWdlUmVzb3VyY2VOYW1lIiwibG9hZE9wdGlvbnMiLCJpbWFnZU1ldGFkYXRhIiwicmVzb3VyY2VQYXRoIiwiZ2V0UmVzb3VyY2VQYXRoIiwic3ByaXRlc2hlZXQiLCJUaWxpbmdTcHJpdGUiLCJ0aWxlVHJhbnNmb3JtIiwiX2NhbnZhc1BhdHRlcm4iLCJ1dlJlc3BlY3RBbmNob3IiLCJ0aWxlU2NhbGUiLCJ0aWxlUG9zaXRpb24iLCJmcm9tRnJhbWUiLCJmcmFtZUlkIiwiZnJvbUltYWdlIiwiaW1hZ2VJZCIsImZyYWdtZW50U2ltcGxlIiwiVGlsaW5nU3ByaXRlUmVuZGVyZXIiLCJzaW1wbGVTaGFkZXIiLCJ0cyIsImJhc2VUZXgiLCJ1diIsIkgiLCJ1TWFwQ29vcmQiLCJ1VHJhbnNmb3JtIiwiQml0bWFwVGV4dCIsIl90ZXh0V2lkdGgiLCJfdGV4dEhlaWdodCIsIl9nbHlwaHMiLCJfbWF4V2lkdGgiLCJfbWF4TGluZUhlaWdodCIsIm1heFdpZHRoIiwibWF4TGluZUhlaWdodCIsInRleHRXaWR0aCIsInRleHRIZWlnaHQiLCJmb250cyIsImNoYXJzIiwidGV4dExlbmd0aCIsInByZXZDaGFyQ29kZSIsImxhc3RMaW5lV2lkdGgiLCJsYXN0QnJlYWtQb3MiLCJsYXN0QnJlYWtXaWR0aCIsInNwYWNlc1JlbW92ZWQiLCJjaGFyQ29kZSIsImNoYXJEYXRhIiwia2VybmluZyIsInhPZmZzZXQiLCJ5T2Zmc2V0IiwieEFkdmFuY2UiLCJsaW5lQWxpZ25PZmZzZXRzIiwiYWxpZ25PZmZzZXQiLCJsZW5DaGFycyIsInZhbGlkYXRlIiwicmVnaXN0ZXJGb250IiwiaW5mbyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiY29tbW9uIiwicGFnZXMiLCJwYWdlc1RleHR1cmVzIiwiZmlsZSIsImxldHRlcnMiLCJwYWdlIiwidGV4dHVyZVJlY3QiLCJrZXJuaW5ncyIsImZpcnN0Iiwic2Vjb25kIiwiQml0bWFwRm9udExvYWRlciIsImJpdG1hcEZvbnQiLCJkaXJuYW1lIiwieG1sVXJsIiwicGFnZUZpbGUiLCJiaXRtYXBSZXNvdXJjZSIsIkFscGhhRmlsdGVyIiwidUFscGhhIiwidmVydFRlbXBsYXRlIiwiR0FVU1NJQU5fVkFMVUVTIiwiNSIsIjciLCI5IiwiMTEiLCIxMyIsIjE1IiwiQmx1ckZpbHRlclBhc3MiLCJob3Jpem9udGFsIiwic3RyZW5ndGgiLCJrZXJuZWxTaXplIiwidmVydFNyYyIsInRlbXBsYXRlIiwiaGFsZkxlbmd0aCIsInZlcnRTb3VyY2UiLCJibHVyTG9vcCIsImJsdXIiLCJnZW5lcmF0ZUJsdXJWZXJ0U291cmNlIiwiZnJhZ1NyYyIsImtlcm5lbCIsImZyYWdTb3VyY2UiLCJnZW5lcmF0ZUJsdXJGcmFnU291cmNlIiwiX3F1YWxpdHkiLCJwYXNzZXMiLCJCbHVyRmlsdGVyIiwiYmx1clhGaWx0ZXIiLCJibHVyWUZpbHRlciIsInJlcGVhdEVkZ2VQaXhlbHMiLCJibHVyWCIsImJsdXJZIiwieFN0cmVuZ3RoIiwieVN0cmVuZ3RoIiwidXBkYXRlUGFkZGluZyIsIl9yZXBlYXRFZGdlUGl4ZWxzIiwiQ29sb3JNYXRyaXhGaWx0ZXIiLCJfbG9hZE1hdHJpeCIsIm11bHRpcGx5IiwibmV3TWF0cml4IiwiX211bHRpcGx5IiwiX2NvbG9yTWF0cml4IiwiYnJpZ2h0bmVzcyIsImdyZXlzY2FsZSIsImJsYWNrQW5kV2hpdGUiLCJodWUiLCJjb3NSIiwic2luUiIsInNxclciLCJjb250cmFzdCIsInNhdHVyYXRlIiwiZGVzYXR1cmF0ZSIsIm5lZ2F0aXZlIiwic2VwaWEiLCJ0ZWNobmljb2xvciIsInBvbGFyb2lkIiwidG9CR1IiLCJrb2RhY2hyb21lIiwiYnJvd25pIiwidmludGFnZSIsImNvbG9yVG9uZSIsImRlc2F0dXJhdGlvbiIsInRvbmVkIiwibGlnaHRDb2xvciIsImRhcmtDb2xvciIsImxSIiwibEciLCJsQiIsImRSIiwiZEciLCJkQiIsIm5pZ2h0IiwiaW50ZW5zaXR5IiwicHJlZGF0b3IiLCJsc2QiLCJncmF5c2NhbGUiLCJEaXNwbGFjZW1lbnRGaWx0ZXIiLCJtYXBTYW1wbGVyIiwiZmlsdGVyTWF0cml4IiwibGVuWCIsImxlblkiLCJGWEFBRmlsdGVyIiwiTm9pc2VGaWx0ZXIiLCJub2lzZSIsInNlZWQiLCJ1Tm9pc2UiLCJ1U2VlZCIsIl90ZW1wTWF0cml4IiwiX2NhY2hlQXNCaXRtYXAiLCJfY2FjaGVEYXRhIiwiQ2FjaGVEYXRhIiwidGV4dHVyZUNhY2hlSWQiLCJvcmlnaW5hbFJlbmRlciIsIm9yaWdpbmFsUmVuZGVyQ2FudmFzIiwib3JpZ2luYWxDYWxjdWxhdGVCb3VuZHMiLCJvcmlnaW5hbEdldExvY2FsQm91bmRzIiwib3JpZ2luYWxVcGRhdGVUcmFuc2Zvcm0iLCJvcmlnaW5hbEhpdFRlc3QiLCJvcmlnaW5hbERlc3Ryb3kiLCJvcmlnaW5hbE1hc2siLCJvcmlnaW5hbEZpbHRlckFyZWEiLCJjYWNoZUFzQml0bWFwIiwicmVuZGVyQ2FudmFzIiwib3JpZ2luYWxDb250YWluc1BvaW50IiwiX3JlbmRlckNhY2hlZCIsIl9yZW5kZXJDYWNoZWRDYW52YXMiLCJfY2FjaGVBc0JpdG1hcERlc3Ryb3kiLCJfZGVzdHJveUNhY2hlZERpc3BsYXlPYmplY3QiLCJfaW5pdENhY2hlZERpc3BsYXlPYmplY3QiLCJjYWNoZUFscGhhIiwiY2FjaGVkUmVuZGVyVGV4dHVyZSIsImNhY2hlZFNvdXJjZUZyYW1lIiwiY2FjaGVkUHJvamVjdGlvblRyYW5zZm9ybSIsIl9jYWxjdWxhdGVDYWNoZWRCb3VuZHMiLCJfZ2V0Q2FjaGVkTG9jYWxCb3VuZHMiLCJjYWNoZWRTcHJpdGUiLCJfaW5pdENhY2hlZERpc3BsYXlPYmplY3RDYW52YXMiLCJfcmVuZGVyQ2FudmFzIiwiY2FjaGVkUmVuZGVyVGFyZ2V0IiwiZ2V0Q2hpbGRCeU5hbWUiLCJnZXRHbG9iYWxQb3NpdGlvbiIsIk1lc2hCYXRjaFV2cyIsIl9idWZmZXJVcGRhdGVJZCIsIl90ZXh0dXJlVXBkYXRlSWQiLCJ0ZW1wUG9seWdvbiIsIk1lc2giLCJ2ZXJ0ZXhEaXJ0eSIsImJhdGNoVXZzIiwidmVydGljZXNCdWZmZXIiLCJtYXRlcmlhbCIsIl9yZW5kZXJUb0JhdGNoIiwiX3JlbmRlckRlZmF1bHQiLCJjYWxjdWxhdGVVdnMiLCJ2ZXJ0ZXhEaXJ0eUlkIiwiZ2VvbVV2cyIsInN0ZXAiLCJpbmQwIiwiaW5kMSIsImluZDIiLCJNZXNoTWF0ZXJpYWwiLCJ1VGV4dHVyZU1hdHJpeCIsIl9jb2xvckRpcnR5IiwiX2FscGhhIiwiTWVzaEdlb21ldHJ5IiwidXZzQnVmZmVyIiwiX3VwZGF0ZUlkIiwiUGxhbmVHZW9tZXRyeSIsInNlZ1dpZHRoIiwic2VnSGVpZ2h0Iiwic2VnbWVudHNYIiwic2VnbWVudHNZIiwic2l6ZVgiLCJzaXplWSIsInRvdGFsU3ViIiwieHBvcyIsInlwb3MiLCJ2YWx1ZTIiLCJ2YWx1ZTMiLCJ2YWx1ZTQiLCJSb3BlR2VvbWV0cnkiLCJ1cGRhdGVWZXJ0aWNlcyIsIm5leHRQb2ludCIsInBlcnBYIiwicGVycFkiLCJwZXJwTGVuZ3RoIiwiU2ltcGxlUm9wZSIsInJvcGVHZW9tZXRyeSIsIm1lc2hNYXRlcmlhbCIsIlNpbXBsZVBsYW5lIiwidmVydGljZXNYIiwidmVydGljZXNZIiwicGxhbmVHZW9tZXRyeSIsInRleHR1cmVVcGRhdGVkIiwiU2ltcGxlTWVzaCIsIkRFRkFVTFRfQk9SREVSX1NJWkUiLCJOaW5lU2xpY2VQbGFuZSIsImxlZnRXaWR0aCIsInRvcEhlaWdodCIsInJpZ2h0V2lkdGgiLCJib3R0b21IZWlnaHQiLCJfb3JpZ1dpZHRoIiwiX29yaWdIZWlnaHQiLCJfbGVmdFdpZHRoIiwiX3JpZ2h0V2lkdGgiLCJfdG9wSGVpZ2h0IiwiX2JvdHRvbUhlaWdodCIsIl9yZWZyZXNoIiwidXBkYXRlSG9yaXpvbnRhbFZlcnRpY2VzIiwidXBkYXRlVmVydGljYWxWZXJ0aWNlcyIsIl91dnciLCJfdXZoIiwiQW5pbWF0ZWRTcHJpdGUiLCJfZHVyYXRpb25zIiwiYW5pbWF0aW9uU3BlZWQiLCJsb29wIiwidXBkYXRlQW5jaG9yIiwib25GcmFtZUNoYW5nZSIsIm9uTG9vcCIsIl9jdXJyZW50VGltZSIsInBsYXlpbmciLCJ0b3RhbEZyYW1lcyIsImN1cnJlbnRGcmFtZSIsImdvdG9BbmRTdG9wIiwiZnJhbWVOdW1iZXIiLCJwcmV2aW91c0ZyYW1lIiwiZ290b0FuZFBsYXkiLCJlbGFwc2VkIiwibGFnIiwiZnJvbUZyYW1lcyIsImZyb21JbWFnZXMiLCJpbWFnZXMiLCJ2NSIsInVzZURlcHJlY2F0ZWQiLCJQSVhJIiwiVHJhbnNmb3JtU3RhdGljIiwiVHJhbnNmb3JtQmFzZSIsIlRSQU5TRk9STV9NT0RFIiwiU1RBVElDIiwiRFlOQU1JQyIsIldlYkdMUmVuZGVyZXIiLCJDYW52YXNSZW5kZXJUYXJnZXQiLCJ1dGlscyIsIkZpbHRlck1hbmFnZXIiLCJleHRyYXMiLCJnZXRTdmdTaXplIiwibWVzaCIsIlBsYW5lIiwiUm9wZSIsIlJhd01lc2giLCJDYW52YXNNZXNoUmVuZGVyZXIiLCJNZXNoUmVuZGVyZXIiLCJwYXJ0aWNsZXMiLCJUaWNrZXIiLCJsb2FkZXJzIiwiYml0bWFwRm9udFBhcnNlciIsInBhcnNlQml0bWFwRm9udERhdGEiLCJzcHJpdGVzaGVldFBhcnNlciIsImFkZFBpeGlNaWRkbGV3YXJlIiwibWlkZGxld2FyZSIsInByZXBhcmUiLCJfcmVuZGVyV2ViR0wiLCJyZW5kZXJXZWJHTCIsInJlbmRlckFkdmFuY2VkV2ViR0wiLCJsb2FkU291cmNlIiwiaGFzTG9hZGVkIiwiZnJvbUNhbnZhcyIsImZyb21TVkciLCJjb3B5Iiwic2V0U3RhdGUiLCJnZXRSZW5kZXJUYXJnZXQiLCJyZXR1cm5SZW5kZXJUYXJnZXQiLCJjYWxjdWxhdGVTY3JlZW5TcGFjZU1hdHJpeCIsImNhbGN1bGF0ZU5vcm1hbGl6ZWRTY3JlZW5TcGFjZU1hdHJpeCIsInRyYW5zbGF0ZVNjYWxlWCIsInRyYW5zbGF0ZVNjYWxlWSIsIkJsdXJYRmlsdGVyIiwic3VwZXJjbGFzcyIsIkJsdXJZRmlsdGVyIiwic3ByaXRlRnJvbSIsInRleHR1cmVGcm9tIiwiZ2VuZXJhdGVDYW52YXNUZXh0dXJlIiwiZnJvbVZpZGVvIiwibWl4aW5zIiwiZGVsYXlNaXhpbiIsInBlcmZvcm1NaXhpbnMiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdK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QU9DLGVBQWV3dUcsRUFBS3B1QyxTQUFTbi9ELFVBQVcsaUJBQWtCLENBQzdEZixJQUFLLFdBSUQsT0FGQXcyQixHQUFZNDNFLEdBQUksa0ZBRVQ5ckcsS0FBSzJ4QyxXQVFwQnE2RCxFQUFLUSxNQUFNeUMsT0FBUyxDQU1oQnR0RSxNQUFPLFdBRUh6TixHQUFZNDNFLEdBQUksNERBT3BCb0QsV0FBWSxXQUVSaDdFLEdBQVk0M0UsR0FBSSxpRUFPcEJxRCxjQUFlLFdBRVhqN0UsR0FBWTQzRSxHQUFJLHFFQU01QixHQUFTenRDLGVBQWUsZ0JBQWlCLElBQ3pDLEdBQVNBLGVBQWUsVUFBV3dGLElBQ25DLEdBQVN4RixlQUFlLGNBQWUsSUFDdkMsR0FBU0EsZUFBZSxXQUFZLElBQ3BDLEdBQVNBLGVBQWUsVUFBV2lwQixJQUNuQyxHQUFTanBCLGVBQWUsUUFBU3NGLElBQ2pDLEdBQVN0RixlQUFlLGVBQWdCLElBRXhDLEdBQU9BLGVBQWUrL0IsSUFDdEIsR0FBTy8vQixlQUFlNDdCLElBRXRCLEdBQVk1N0IsZUFBZXh5QixJQUMzQixHQUFZd3lCLGVBQWU4MkIsSUFXM0IsSUFBSSxHQUFVLFFBaUNWdDBELEdBQVUsQ0FDVjY5RCxZQUFhLEdBQ2IyQixXQUFZLEdBQ1pqQixlQUFnQixHQUNoQjJCLGtCQUFtQixHQUNuQndDLG1CQUFvQixHQUNwQkssV0FBWUEsR0FDWkMsWUFBYSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDkpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9XG5cbnZhciBNaW5pU2lnbmFsQmluZGluZyA9IChmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIE1pbmlTaWduYWxCaW5kaW5nKGZuLCBvbmNlLCB0aGlzQXJnKSB7XG4gICAgaWYgKG9uY2UgPT09IHVuZGVmaW5lZCkgb25jZSA9IGZhbHNlO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1pbmlTaWduYWxCaW5kaW5nKTtcblxuICAgIHRoaXMuX2ZuID0gZm47XG4gICAgdGhpcy5fb25jZSA9IG9uY2U7XG4gICAgdGhpcy5fdGhpc0FyZyA9IHRoaXNBcmc7XG4gICAgdGhpcy5fbmV4dCA9IHRoaXMuX3ByZXYgPSB0aGlzLl9vd25lciA9IG51bGw7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTWluaVNpZ25hbEJpbmRpbmcsIFt7XG4gICAga2V5OiAnZGV0YWNoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGV0YWNoKCkge1xuICAgICAgaWYgKHRoaXMuX293bmVyID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gICAgICB0aGlzLl9vd25lci5kZXRhY2godGhpcyk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTWluaVNpZ25hbEJpbmRpbmc7XG59KSgpO1xuXG5mdW5jdGlvbiBfYWRkTWluaVNpZ25hbEJpbmRpbmcoc2VsZiwgbm9kZSkge1xuICBpZiAoIXNlbGYuX2hlYWQpIHtcbiAgICBzZWxmLl9oZWFkID0gbm9kZTtcbiAgICBzZWxmLl90YWlsID0gbm9kZTtcbiAgfSBlbHNlIHtcbiAgICBzZWxmLl90YWlsLl9uZXh0ID0gbm9kZTtcbiAgICBub2RlLl9wcmV2ID0gc2VsZi5fdGFpbDtcbiAgICBzZWxmLl90YWlsID0gbm9kZTtcbiAgfVxuXG4gIG5vZGUuX293bmVyID0gc2VsZjtcblxuICByZXR1cm4gbm9kZTtcbn1cblxudmFyIE1pbmlTaWduYWwgPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBNaW5pU2lnbmFsKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNaW5pU2lnbmFsKTtcblxuICAgIHRoaXMuX2hlYWQgPSB0aGlzLl90YWlsID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE1pbmlTaWduYWwsIFt7XG4gICAga2V5OiAnaGFuZGxlcnMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVycygpIHtcbiAgICAgIHZhciBleGlzdHMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IGFyZ3VtZW50c1swXTtcblxuICAgICAgdmFyIG5vZGUgPSB0aGlzLl9oZWFkO1xuXG4gICAgICBpZiAoZXhpc3RzKSByZXR1cm4gISFub2RlO1xuXG4gICAgICB2YXIgZWUgPSBbXTtcblxuICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgZWUucHVzaChub2RlKTtcbiAgICAgICAgbm9kZSA9IG5vZGUuX25leHQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBlZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdoYXMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYXMobm9kZSkge1xuICAgICAgaWYgKCEobm9kZSBpbnN0YW5jZW9mIE1pbmlTaWduYWxCaW5kaW5nKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pbmlTaWduYWwjaGFzKCk6IEZpcnN0IGFyZyBtdXN0IGJlIGEgTWluaVNpZ25hbEJpbmRpbmcgb2JqZWN0LicpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbm9kZS5fb3duZXIgPT09IHRoaXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZGlzcGF0Y2gnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNwYXRjaCgpIHtcbiAgICAgIHZhciBub2RlID0gdGhpcy5faGVhZDtcblxuICAgICAgaWYgKCFub2RlKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgIGlmIChub2RlLl9vbmNlKSB0aGlzLmRldGFjaChub2RlKTtcbiAgICAgICAgbm9kZS5fZm4uYXBwbHkobm9kZS5fdGhpc0FyZywgYXJndW1lbnRzKTtcbiAgICAgICAgbm9kZSA9IG5vZGUuX25leHQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2FkZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZChmbikge1xuICAgICAgdmFyIHRoaXNBcmcgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBudWxsIDogYXJndW1lbnRzWzFdO1xuXG4gICAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWluaVNpZ25hbCNhZGQoKTogRmlyc3QgYXJnIG11c3QgYmUgYSBGdW5jdGlvbi4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfYWRkTWluaVNpZ25hbEJpbmRpbmcodGhpcywgbmV3IE1pbmlTaWduYWxCaW5kaW5nKGZuLCBmYWxzZSwgdGhpc0FyZykpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uY2UnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbmNlKGZuKSB7XG4gICAgICB2YXIgdGhpc0FyZyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IG51bGwgOiBhcmd1bWVudHNbMV07XG5cbiAgICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaW5pU2lnbmFsI29uY2UoKTogRmlyc3QgYXJnIG11c3QgYmUgYSBGdW5jdGlvbi4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfYWRkTWluaVNpZ25hbEJpbmRpbmcodGhpcywgbmV3IE1pbmlTaWduYWxCaW5kaW5nKGZuLCB0cnVlLCB0aGlzQXJnKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZGV0YWNoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGV0YWNoKG5vZGUpIHtcbiAgICAgIGlmICghKG5vZGUgaW5zdGFuY2VvZiBNaW5pU2lnbmFsQmluZGluZykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaW5pU2lnbmFsI2RldGFjaCgpOiBGaXJzdCBhcmcgbXVzdCBiZSBhIE1pbmlTaWduYWxCaW5kaW5nIG9iamVjdC4nKTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlLl9vd25lciAhPT0gdGhpcykgcmV0dXJuIHRoaXM7XG5cbiAgICAgIGlmIChub2RlLl9wcmV2KSBub2RlLl9wcmV2Ll9uZXh0ID0gbm9kZS5fbmV4dDtcbiAgICAgIGlmIChub2RlLl9uZXh0KSBub2RlLl9uZXh0Ll9wcmV2ID0gbm9kZS5fcHJldjtcblxuICAgICAgaWYgKG5vZGUgPT09IHRoaXMuX2hlYWQpIHtcbiAgICAgICAgdGhpcy5faGVhZCA9IG5vZGUuX25leHQ7XG4gICAgICAgIGlmIChub2RlLl9uZXh0ID09PSBudWxsKSB7XG4gICAgICAgICAgdGhpcy5fdGFpbCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobm9kZSA9PT0gdGhpcy5fdGFpbCkge1xuICAgICAgICB0aGlzLl90YWlsID0gbm9kZS5fcHJldjtcbiAgICAgICAgdGhpcy5fdGFpbC5fbmV4dCA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIG5vZGUuX293bmVyID0gbnVsbDtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2RldGFjaEFsbCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRldGFjaEFsbCgpIHtcbiAgICAgIHZhciBub2RlID0gdGhpcy5faGVhZDtcbiAgICAgIGlmICghbm9kZSkgcmV0dXJuIHRoaXM7XG5cbiAgICAgIHRoaXMuX2hlYWQgPSB0aGlzLl90YWlsID0gbnVsbDtcblxuICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgbm9kZS5fb3duZXIgPSBudWxsO1xuICAgICAgICBub2RlID0gbm9kZS5fbmV4dDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBNaW5pU2lnbmFsO1xufSkoKTtcblxuTWluaVNpZ25hbC5NaW5pU2lnbmFsQmluZGluZyA9IE1pbmlTaWduYWxCaW5kaW5nO1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBNaW5pU2lnbmFsO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG4iLCIhZnVuY3Rpb24oZSl7dmFyIG49L2lQaG9uZS9pLHQ9L2lQb2QvaSxyPS9pUGFkL2ksYT0vXFxiQW5kcm9pZCg/Oi4rKU1vYmlsZVxcYi9pLHA9L0FuZHJvaWQvaSxiPS9cXGJBbmRyb2lkKD86LispU0Q0OTMwVVJcXGIvaSxsPS9cXGJBbmRyb2lkKD86LispKD86S0ZbQS1aXXsyLDR9KVxcYi9pLGY9L1dpbmRvd3MgUGhvbmUvaSxzPS9cXGJXaW5kb3dzKD86LispQVJNXFxiL2ksdT0vQmxhY2tCZXJyeS9pLGM9L0JCMTAvaSxoPS9PcGVyYSBNaW5pL2ksdj0vXFxiKENyaU9TfENocm9tZSkoPzouKylNb2JpbGUvaSx3PS9Nb2JpbGUoPzouKylGaXJlZm94XFxiL2k7ZnVuY3Rpb24gbShlLGkpe3JldHVybiBlLnRlc3QoaSl9ZnVuY3Rpb24gaShlKXt2YXIgaT1lfHwoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG5hdmlnYXRvcj9uYXZpZ2F0b3IudXNlckFnZW50OlwiXCIpLG89aS5zcGxpdChcIltGQkFOXCIpO3ZvaWQgMCE9PW9bMV0mJihpPW9bMF0pLHZvaWQgMCE9PShvPWkuc3BsaXQoXCJUd2l0dGVyXCIpKVsxXSYmKGk9b1swXSk7dmFyIGQ9e2FwcGxlOntwaG9uZTptKG4saSkmJiFtKGYsaSksaXBvZDptKHQsaSksdGFibGV0OiFtKG4saSkmJm0ocixpKSYmIW0oZixpKSxkZXZpY2U6KG0obixpKXx8bSh0LGkpfHxtKHIsaSkpJiYhbShmLGkpfSxhbWF6b246e3Bob25lOm0oYixpKSx0YWJsZXQ6IW0oYixpKSYmbShsLGkpLGRldmljZTptKGIsaSl8fG0obCxpKX0sYW5kcm9pZDp7cGhvbmU6IW0oZixpKSYmbShiLGkpfHwhbShmLGkpJiZtKGEsaSksdGFibGV0OiFtKGYsaSkmJiFtKGIsaSkmJiFtKGEsaSkmJihtKGwsaSl8fG0ocCxpKSksZGV2aWNlOiFtKGYsaSkmJihtKGIsaSl8fG0obCxpKXx8bShhLGkpfHxtKHAsaSkpfHxtKC9cXGJva2h0dHBcXGIvaSxpKX0sd2luZG93czp7cGhvbmU6bShmLGkpLHRhYmxldDptKHMsaSksZGV2aWNlOm0oZixpKXx8bShzLGkpfSxvdGhlcjp7YmxhY2tiZXJyeTptKHUsaSksYmxhY2tiZXJyeTEwOm0oYyxpKSxvcGVyYTptKGgsaSksZmlyZWZveDptKHcsaSksY2hyb21lOm0odixpKSxkZXZpY2U6bSh1LGkpfHxtKGMsaSl8fG0oaCxpKXx8bSh3LGkpfHxtKHYsaSl9fTtyZXR1cm4gZC5hbnk9ZC5hcHBsZS5kZXZpY2V8fGQuYW5kcm9pZC5kZXZpY2V8fGQud2luZG93cy5kZXZpY2V8fGQub3RoZXIuZGV2aWNlLGQucGhvbmU9ZC5hcHBsZS5waG9uZXx8ZC5hbmRyb2lkLnBob25lfHxkLndpbmRvd3MucGhvbmUsZC50YWJsZXQ9ZC5hcHBsZS50YWJsZXR8fGQuYW5kcm9pZC50YWJsZXR8fGQud2luZG93cy50YWJsZXQsZH1cInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cyYmXCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvdz9tb2R1bGUuZXhwb3J0cz1pOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzJiZcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93Pyhtb2R1bGUuZXhwb3J0cz1pKCksbW9kdWxlLmV4cG9ydHMuaXNNb2JpbGU9aSk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXSxlLmlzTW9iaWxlPWkoKSk6ZS5pc01vYmlsZT1pKCl9KHRoaXMpOyIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgbmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBwdW55Y29kZSA9IHJlcXVpcmUoJ3B1bnljb2RlJyk7XG52YXIgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuXG5leHBvcnRzLnBhcnNlID0gdXJsUGFyc2U7XG5leHBvcnRzLnJlc29sdmUgPSB1cmxSZXNvbHZlO1xuZXhwb3J0cy5yZXNvbHZlT2JqZWN0ID0gdXJsUmVzb2x2ZU9iamVjdDtcbmV4cG9ydHMuZm9ybWF0ID0gdXJsRm9ybWF0O1xuXG5leHBvcnRzLlVybCA9IFVybDtcblxuZnVuY3Rpb24gVXJsKCkge1xuICB0aGlzLnByb3RvY29sID0gbnVsbDtcbiAgdGhpcy5zbGFzaGVzID0gbnVsbDtcbiAgdGhpcy5hdXRoID0gbnVsbDtcbiAgdGhpcy5ob3N0ID0gbnVsbDtcbiAgdGhpcy5wb3J0ID0gbnVsbDtcbiAgdGhpcy5ob3N0bmFtZSA9IG51bGw7XG4gIHRoaXMuaGFzaCA9IG51bGw7XG4gIHRoaXMuc2VhcmNoID0gbnVsbDtcbiAgdGhpcy5xdWVyeSA9IG51bGw7XG4gIHRoaXMucGF0aG5hbWUgPSBudWxsO1xuICB0aGlzLnBhdGggPSBudWxsO1xuICB0aGlzLmhyZWYgPSBudWxsO1xufVxuXG4vLyBSZWZlcmVuY2U6IFJGQyAzOTg2LCBSRkMgMTgwOCwgUkZDIDIzOTZcblxuLy8gZGVmaW5lIHRoZXNlIGhlcmUgc28gYXQgbGVhc3QgdGhleSBvbmx5IGhhdmUgdG8gYmVcbi8vIGNvbXBpbGVkIG9uY2Ugb24gdGhlIGZpcnN0IG1vZHVsZSBsb2FkLlxudmFyIHByb3RvY29sUGF0dGVybiA9IC9eKFthLXowLTkuKy1dKzopL2ksXG4gICAgcG9ydFBhdHRlcm4gPSAvOlswLTldKiQvLFxuXG4gICAgLy8gU3BlY2lhbCBjYXNlIGZvciBhIHNpbXBsZSBwYXRoIFVSTFxuICAgIHNpbXBsZVBhdGhQYXR0ZXJuID0gL14oXFwvXFwvPyg/IVxcLylbXlxcP1xcc10qKShcXD9bXlxcc10qKT8kLyxcblxuICAgIC8vIFJGQyAyMzk2OiBjaGFyYWN0ZXJzIHJlc2VydmVkIGZvciBkZWxpbWl0aW5nIFVSTHMuXG4gICAgLy8gV2UgYWN0dWFsbHkganVzdCBhdXRvLWVzY2FwZSB0aGVzZS5cbiAgICBkZWxpbXMgPSBbJzwnLCAnPicsICdcIicsICdgJywgJyAnLCAnXFxyJywgJ1xcbicsICdcXHQnXSxcblxuICAgIC8vIFJGQyAyMzk2OiBjaGFyYWN0ZXJzIG5vdCBhbGxvd2VkIGZvciB2YXJpb3VzIHJlYXNvbnMuXG4gICAgdW53aXNlID0gWyd7JywgJ30nLCAnfCcsICdcXFxcJywgJ14nLCAnYCddLmNvbmNhdChkZWxpbXMpLFxuXG4gICAgLy8gQWxsb3dlZCBieSBSRkNzLCBidXQgY2F1c2Ugb2YgWFNTIGF0dGFja3MuICBBbHdheXMgZXNjYXBlIHRoZXNlLlxuICAgIGF1dG9Fc2NhcGUgPSBbJ1xcJyddLmNvbmNhdCh1bndpc2UpLFxuICAgIC8vIENoYXJhY3RlcnMgdGhhdCBhcmUgbmV2ZXIgZXZlciBhbGxvd2VkIGluIGEgaG9zdG5hbWUuXG4gICAgLy8gTm90ZSB0aGF0IGFueSBpbnZhbGlkIGNoYXJzIGFyZSBhbHNvIGhhbmRsZWQsIGJ1dCB0aGVzZVxuICAgIC8vIGFyZSB0aGUgb25lcyB0aGF0IGFyZSAqZXhwZWN0ZWQqIHRvIGJlIHNlZW4sIHNvIHdlIGZhc3QtcGF0aFxuICAgIC8vIHRoZW0uXG4gICAgbm9uSG9zdENoYXJzID0gWyclJywgJy8nLCAnPycsICc7JywgJyMnXS5jb25jYXQoYXV0b0VzY2FwZSksXG4gICAgaG9zdEVuZGluZ0NoYXJzID0gWycvJywgJz8nLCAnIyddLFxuICAgIGhvc3RuYW1lTWF4TGVuID0gMjU1LFxuICAgIGhvc3RuYW1lUGFydFBhdHRlcm4gPSAvXlsrYS16MC05QS1aXy1dezAsNjN9JC8sXG4gICAgaG9zdG5hbWVQYXJ0U3RhcnQgPSAvXihbK2EtejAtOUEtWl8tXXswLDYzfSkoLiopJC8sXG4gICAgLy8gcHJvdG9jb2xzIHRoYXQgY2FuIGFsbG93IFwidW5zYWZlXCIgYW5kIFwidW53aXNlXCIgY2hhcnMuXG4gICAgdW5zYWZlUHJvdG9jb2wgPSB7XG4gICAgICAnamF2YXNjcmlwdCc6IHRydWUsXG4gICAgICAnamF2YXNjcmlwdDonOiB0cnVlXG4gICAgfSxcbiAgICAvLyBwcm90b2NvbHMgdGhhdCBuZXZlciBoYXZlIGEgaG9zdG5hbWUuXG4gICAgaG9zdGxlc3NQcm90b2NvbCA9IHtcbiAgICAgICdqYXZhc2NyaXB0JzogdHJ1ZSxcbiAgICAgICdqYXZhc2NyaXB0Oic6IHRydWVcbiAgICB9LFxuICAgIC8vIHByb3RvY29scyB0aGF0IGFsd2F5cyBjb250YWluIGEgLy8gYml0LlxuICAgIHNsYXNoZWRQcm90b2NvbCA9IHtcbiAgICAgICdodHRwJzogdHJ1ZSxcbiAgICAgICdodHRwcyc6IHRydWUsXG4gICAgICAnZnRwJzogdHJ1ZSxcbiAgICAgICdnb3BoZXInOiB0cnVlLFxuICAgICAgJ2ZpbGUnOiB0cnVlLFxuICAgICAgJ2h0dHA6JzogdHJ1ZSxcbiAgICAgICdodHRwczonOiB0cnVlLFxuICAgICAgJ2Z0cDonOiB0cnVlLFxuICAgICAgJ2dvcGhlcjonOiB0cnVlLFxuICAgICAgJ2ZpbGU6JzogdHJ1ZVxuICAgIH0sXG4gICAgcXVlcnlzdHJpbmcgPSByZXF1aXJlKCdxdWVyeXN0cmluZycpO1xuXG5mdW5jdGlvbiB1cmxQYXJzZSh1cmwsIHBhcnNlUXVlcnlTdHJpbmcsIHNsYXNoZXNEZW5vdGVIb3N0KSB7XG4gIGlmICh1cmwgJiYgdXRpbC5pc09iamVjdCh1cmwpICYmIHVybCBpbnN0YW5jZW9mIFVybCkgcmV0dXJuIHVybDtcblxuICB2YXIgdSA9IG5ldyBVcmw7XG4gIHUucGFyc2UodXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCk7XG4gIHJldHVybiB1O1xufVxuXG5VcmwucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24odXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCkge1xuICBpZiAoIXV0aWwuaXNTdHJpbmcodXJsKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQYXJhbWV0ZXIgJ3VybCcgbXVzdCBiZSBhIHN0cmluZywgbm90IFwiICsgdHlwZW9mIHVybCk7XG4gIH1cblxuICAvLyBDb3B5IGNocm9tZSwgSUUsIG9wZXJhIGJhY2tzbGFzaC1oYW5kbGluZyBiZWhhdmlvci5cbiAgLy8gQmFjayBzbGFzaGVzIGJlZm9yZSB0aGUgcXVlcnkgc3RyaW5nIGdldCBjb252ZXJ0ZWQgdG8gZm9yd2FyZCBzbGFzaGVzXG4gIC8vIFNlZTogaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTI1OTE2XG4gIHZhciBxdWVyeUluZGV4ID0gdXJsLmluZGV4T2YoJz8nKSxcbiAgICAgIHNwbGl0dGVyID1cbiAgICAgICAgICAocXVlcnlJbmRleCAhPT0gLTEgJiYgcXVlcnlJbmRleCA8IHVybC5pbmRleE9mKCcjJykpID8gJz8nIDogJyMnLFxuICAgICAgdVNwbGl0ID0gdXJsLnNwbGl0KHNwbGl0dGVyKSxcbiAgICAgIHNsYXNoUmVnZXggPSAvXFxcXC9nO1xuICB1U3BsaXRbMF0gPSB1U3BsaXRbMF0ucmVwbGFjZShzbGFzaFJlZ2V4LCAnLycpO1xuICB1cmwgPSB1U3BsaXQuam9pbihzcGxpdHRlcik7XG5cbiAgdmFyIHJlc3QgPSB1cmw7XG5cbiAgLy8gdHJpbSBiZWZvcmUgcHJvY2VlZGluZy5cbiAgLy8gVGhpcyBpcyB0byBzdXBwb3J0IHBhcnNlIHN0dWZmIGxpa2UgXCIgIGh0dHA6Ly9mb28uY29tICBcXG5cIlxuICByZXN0ID0gcmVzdC50cmltKCk7XG5cbiAgaWYgKCFzbGFzaGVzRGVub3RlSG9zdCAmJiB1cmwuc3BsaXQoJyMnKS5sZW5ndGggPT09IDEpIHtcbiAgICAvLyBUcnkgZmFzdCBwYXRoIHJlZ2V4cFxuICAgIHZhciBzaW1wbGVQYXRoID0gc2ltcGxlUGF0aFBhdHRlcm4uZXhlYyhyZXN0KTtcbiAgICBpZiAoc2ltcGxlUGF0aCkge1xuICAgICAgdGhpcy5wYXRoID0gcmVzdDtcbiAgICAgIHRoaXMuaHJlZiA9IHJlc3Q7XG4gICAgICB0aGlzLnBhdGhuYW1lID0gc2ltcGxlUGF0aFsxXTtcbiAgICAgIGlmIChzaW1wbGVQYXRoWzJdKSB7XG4gICAgICAgIHRoaXMuc2VhcmNoID0gc2ltcGxlUGF0aFsyXTtcbiAgICAgICAgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAgICAgICB0aGlzLnF1ZXJ5ID0gcXVlcnlzdHJpbmcucGFyc2UodGhpcy5zZWFyY2guc3Vic3RyKDEpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnF1ZXJ5ID0gdGhpcy5zZWFyY2guc3Vic3RyKDEpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAgICAgdGhpcy5zZWFyY2ggPSAnJztcbiAgICAgICAgdGhpcy5xdWVyeSA9IHt9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9XG5cbiAgdmFyIHByb3RvID0gcHJvdG9jb2xQYXR0ZXJuLmV4ZWMocmVzdCk7XG4gIGlmIChwcm90bykge1xuICAgIHByb3RvID0gcHJvdG9bMF07XG4gICAgdmFyIGxvd2VyUHJvdG8gPSBwcm90by50b0xvd2VyQ2FzZSgpO1xuICAgIHRoaXMucHJvdG9jb2wgPSBsb3dlclByb3RvO1xuICAgIHJlc3QgPSByZXN0LnN1YnN0cihwcm90by5sZW5ndGgpO1xuICB9XG5cbiAgLy8gZmlndXJlIG91dCBpZiBpdCdzIGdvdCBhIGhvc3RcbiAgLy8gdXNlckBzZXJ2ZXIgaXMgKmFsd2F5cyogaW50ZXJwcmV0ZWQgYXMgYSBob3N0bmFtZSwgYW5kIHVybFxuICAvLyByZXNvbHV0aW9uIHdpbGwgdHJlYXQgLy9mb28vYmFyIGFzIGhvc3Q9Zm9vLHBhdGg9YmFyIGJlY2F1c2UgdGhhdCdzXG4gIC8vIGhvdyB0aGUgYnJvd3NlciByZXNvbHZlcyByZWxhdGl2ZSBVUkxzLlxuICBpZiAoc2xhc2hlc0Rlbm90ZUhvc3QgfHwgcHJvdG8gfHwgcmVzdC5tYXRjaCgvXlxcL1xcL1teQFxcL10rQFteQFxcL10rLykpIHtcbiAgICB2YXIgc2xhc2hlcyA9IHJlc3Quc3Vic3RyKDAsIDIpID09PSAnLy8nO1xuICAgIGlmIChzbGFzaGVzICYmICEocHJvdG8gJiYgaG9zdGxlc3NQcm90b2NvbFtwcm90b10pKSB7XG4gICAgICByZXN0ID0gcmVzdC5zdWJzdHIoMik7XG4gICAgICB0aGlzLnNsYXNoZXMgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGlmICghaG9zdGxlc3NQcm90b2NvbFtwcm90b10gJiZcbiAgICAgIChzbGFzaGVzIHx8IChwcm90byAmJiAhc2xhc2hlZFByb3RvY29sW3Byb3RvXSkpKSB7XG5cbiAgICAvLyB0aGVyZSdzIGEgaG9zdG5hbWUuXG4gICAgLy8gdGhlIGZpcnN0IGluc3RhbmNlIG9mIC8sID8sIDssIG9yICMgZW5kcyB0aGUgaG9zdC5cbiAgICAvL1xuICAgIC8vIElmIHRoZXJlIGlzIGFuIEAgaW4gdGhlIGhvc3RuYW1lLCB0aGVuIG5vbi1ob3N0IGNoYXJzICphcmUqIGFsbG93ZWRcbiAgICAvLyB0byB0aGUgbGVmdCBvZiB0aGUgbGFzdCBAIHNpZ24sIHVubGVzcyBzb21lIGhvc3QtZW5kaW5nIGNoYXJhY3RlclxuICAgIC8vIGNvbWVzICpiZWZvcmUqIHRoZSBALXNpZ24uXG4gICAgLy8gVVJMcyBhcmUgb2Jub3hpb3VzLlxuICAgIC8vXG4gICAgLy8gZXg6XG4gICAgLy8gaHR0cDovL2FAYkBjLyA9PiB1c2VyOmFAYiBob3N0OmNcbiAgICAvLyBodHRwOi8vYUBiP0BjID0+IHVzZXI6YSBob3N0OmMgcGF0aDovP0BjXG5cbiAgICAvLyB2MC4xMiBUT0RPKGlzYWFjcyk6IFRoaXMgaXMgbm90IHF1aXRlIGhvdyBDaHJvbWUgZG9lcyB0aGluZ3MuXG4gICAgLy8gUmV2aWV3IG91ciB0ZXN0IGNhc2UgYWdhaW5zdCBicm93c2VycyBtb3JlIGNvbXByZWhlbnNpdmVseS5cblxuICAgIC8vIGZpbmQgdGhlIGZpcnN0IGluc3RhbmNlIG9mIGFueSBob3N0RW5kaW5nQ2hhcnNcbiAgICB2YXIgaG9zdEVuZCA9IC0xO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaG9zdEVuZGluZ0NoYXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaGVjID0gcmVzdC5pbmRleE9mKGhvc3RFbmRpbmdDaGFyc1tpXSk7XG4gICAgICBpZiAoaGVjICE9PSAtMSAmJiAoaG9zdEVuZCA9PT0gLTEgfHwgaGVjIDwgaG9zdEVuZCkpXG4gICAgICAgIGhvc3RFbmQgPSBoZWM7XG4gICAgfVxuXG4gICAgLy8gYXQgdGhpcyBwb2ludCwgZWl0aGVyIHdlIGhhdmUgYW4gZXhwbGljaXQgcG9pbnQgd2hlcmUgdGhlXG4gICAgLy8gYXV0aCBwb3J0aW9uIGNhbm5vdCBnbyBwYXN0LCBvciB0aGUgbGFzdCBAIGNoYXIgaXMgdGhlIGRlY2lkZXIuXG4gICAgdmFyIGF1dGgsIGF0U2lnbjtcbiAgICBpZiAoaG9zdEVuZCA9PT0gLTEpIHtcbiAgICAgIC8vIGF0U2lnbiBjYW4gYmUgYW55d2hlcmUuXG4gICAgICBhdFNpZ24gPSByZXN0Lmxhc3RJbmRleE9mKCdAJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGF0U2lnbiBtdXN0IGJlIGluIGF1dGggcG9ydGlvbi5cbiAgICAgIC8vIGh0dHA6Ly9hQGIvY0BkID0+IGhvc3Q6YiBhdXRoOmEgcGF0aDovY0BkXG4gICAgICBhdFNpZ24gPSByZXN0Lmxhc3RJbmRleE9mKCdAJywgaG9zdEVuZCk7XG4gICAgfVxuXG4gICAgLy8gTm93IHdlIGhhdmUgYSBwb3J0aW9uIHdoaWNoIGlzIGRlZmluaXRlbHkgdGhlIGF1dGguXG4gICAgLy8gUHVsbCB0aGF0IG9mZi5cbiAgICBpZiAoYXRTaWduICE9PSAtMSkge1xuICAgICAgYXV0aCA9IHJlc3Quc2xpY2UoMCwgYXRTaWduKTtcbiAgICAgIHJlc3QgPSByZXN0LnNsaWNlKGF0U2lnbiArIDEpO1xuICAgICAgdGhpcy5hdXRoID0gZGVjb2RlVVJJQ29tcG9uZW50KGF1dGgpO1xuICAgIH1cblxuICAgIC8vIHRoZSBob3N0IGlzIHRoZSByZW1haW5pbmcgdG8gdGhlIGxlZnQgb2YgdGhlIGZpcnN0IG5vbi1ob3N0IGNoYXJcbiAgICBob3N0RW5kID0gLTE7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub25Ib3N0Q2hhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBoZWMgPSByZXN0LmluZGV4T2Yobm9uSG9zdENoYXJzW2ldKTtcbiAgICAgIGlmIChoZWMgIT09IC0xICYmIChob3N0RW5kID09PSAtMSB8fCBoZWMgPCBob3N0RW5kKSlcbiAgICAgICAgaG9zdEVuZCA9IGhlYztcbiAgICB9XG4gICAgLy8gaWYgd2Ugc3RpbGwgaGF2ZSBub3QgaGl0IGl0LCB0aGVuIHRoZSBlbnRpcmUgdGhpbmcgaXMgYSBob3N0LlxuICAgIGlmIChob3N0RW5kID09PSAtMSlcbiAgICAgIGhvc3RFbmQgPSByZXN0Lmxlbmd0aDtcblxuICAgIHRoaXMuaG9zdCA9IHJlc3Quc2xpY2UoMCwgaG9zdEVuZCk7XG4gICAgcmVzdCA9IHJlc3Quc2xpY2UoaG9zdEVuZCk7XG5cbiAgICAvLyBwdWxsIG91dCBwb3J0LlxuICAgIHRoaXMucGFyc2VIb3N0KCk7XG5cbiAgICAvLyB3ZSd2ZSBpbmRpY2F0ZWQgdGhhdCB0aGVyZSBpcyBhIGhvc3RuYW1lLFxuICAgIC8vIHNvIGV2ZW4gaWYgaXQncyBlbXB0eSwgaXQgaGFzIHRvIGJlIHByZXNlbnQuXG4gICAgdGhpcy5ob3N0bmFtZSA9IHRoaXMuaG9zdG5hbWUgfHwgJyc7XG5cbiAgICAvLyBpZiBob3N0bmFtZSBiZWdpbnMgd2l0aCBbIGFuZCBlbmRzIHdpdGggXVxuICAgIC8vIGFzc3VtZSB0aGF0IGl0J3MgYW4gSVB2NiBhZGRyZXNzLlxuICAgIHZhciBpcHY2SG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lWzBdID09PSAnWycgJiZcbiAgICAgICAgdGhpcy5ob3N0bmFtZVt0aGlzLmhvc3RuYW1lLmxlbmd0aCAtIDFdID09PSAnXSc7XG5cbiAgICAvLyB2YWxpZGF0ZSBhIGxpdHRsZS5cbiAgICBpZiAoIWlwdjZIb3N0bmFtZSkge1xuICAgICAgdmFyIGhvc3RwYXJ0cyA9IHRoaXMuaG9zdG5hbWUuc3BsaXQoL1xcLi8pO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBob3N0cGFydHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHZhciBwYXJ0ID0gaG9zdHBhcnRzW2ldO1xuICAgICAgICBpZiAoIXBhcnQpIGNvbnRpbnVlO1xuICAgICAgICBpZiAoIXBhcnQubWF0Y2goaG9zdG5hbWVQYXJ0UGF0dGVybikpIHtcbiAgICAgICAgICB2YXIgbmV3cGFydCA9ICcnO1xuICAgICAgICAgIGZvciAodmFyIGogPSAwLCBrID0gcGFydC5sZW5ndGg7IGogPCBrOyBqKyspIHtcbiAgICAgICAgICAgIGlmIChwYXJ0LmNoYXJDb2RlQXQoaikgPiAxMjcpIHtcbiAgICAgICAgICAgICAgLy8gd2UgcmVwbGFjZSBub24tQVNDSUkgY2hhciB3aXRoIGEgdGVtcG9yYXJ5IHBsYWNlaG9sZGVyXG4gICAgICAgICAgICAgIC8vIHdlIG5lZWQgdGhpcyB0byBtYWtlIHN1cmUgc2l6ZSBvZiBob3N0bmFtZSBpcyBub3RcbiAgICAgICAgICAgICAgLy8gYnJva2VuIGJ5IHJlcGxhY2luZyBub24tQVNDSUkgYnkgbm90aGluZ1xuICAgICAgICAgICAgICBuZXdwYXJ0ICs9ICd4JztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG5ld3BhcnQgKz0gcGFydFtqXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gd2UgdGVzdCBhZ2FpbiB3aXRoIEFTQ0lJIGNoYXIgb25seVxuICAgICAgICAgIGlmICghbmV3cGFydC5tYXRjaChob3N0bmFtZVBhcnRQYXR0ZXJuKSkge1xuICAgICAgICAgICAgdmFyIHZhbGlkUGFydHMgPSBob3N0cGFydHMuc2xpY2UoMCwgaSk7XG4gICAgICAgICAgICB2YXIgbm90SG9zdCA9IGhvc3RwYXJ0cy5zbGljZShpICsgMSk7XG4gICAgICAgICAgICB2YXIgYml0ID0gcGFydC5tYXRjaChob3N0bmFtZVBhcnRTdGFydCk7XG4gICAgICAgICAgICBpZiAoYml0KSB7XG4gICAgICAgICAgICAgIHZhbGlkUGFydHMucHVzaChiaXRbMV0pO1xuICAgICAgICAgICAgICBub3RIb3N0LnVuc2hpZnQoYml0WzJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChub3RIb3N0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICByZXN0ID0gJy8nICsgbm90SG9zdC5qb2luKCcuJykgKyByZXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5ob3N0bmFtZSA9IHZhbGlkUGFydHMuam9pbignLicpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaG9zdG5hbWUubGVuZ3RoID4gaG9zdG5hbWVNYXhMZW4pIHtcbiAgICAgIHRoaXMuaG9zdG5hbWUgPSAnJztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaG9zdG5hbWVzIGFyZSBhbHdheXMgbG93ZXIgY2FzZS5cbiAgICAgIHRoaXMuaG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgaWYgKCFpcHY2SG9zdG5hbWUpIHtcbiAgICAgIC8vIElETkEgU3VwcG9ydDogUmV0dXJucyBhIHB1bnljb2RlZCByZXByZXNlbnRhdGlvbiBvZiBcImRvbWFpblwiLlxuICAgICAgLy8gSXQgb25seSBjb252ZXJ0cyBwYXJ0cyBvZiB0aGUgZG9tYWluIG5hbWUgdGhhdFxuICAgICAgLy8gaGF2ZSBub24tQVNDSUkgY2hhcmFjdGVycywgaS5lLiBpdCBkb2Vzbid0IG1hdHRlciBpZlxuICAgICAgLy8geW91IGNhbGwgaXQgd2l0aCBhIGRvbWFpbiB0aGF0IGFscmVhZHkgaXMgQVNDSUktb25seS5cbiAgICAgIHRoaXMuaG9zdG5hbWUgPSBwdW55Y29kZS50b0FTQ0lJKHRoaXMuaG9zdG5hbWUpO1xuICAgIH1cblxuICAgIHZhciBwID0gdGhpcy5wb3J0ID8gJzonICsgdGhpcy5wb3J0IDogJyc7XG4gICAgdmFyIGggPSB0aGlzLmhvc3RuYW1lIHx8ICcnO1xuICAgIHRoaXMuaG9zdCA9IGggKyBwO1xuICAgIHRoaXMuaHJlZiArPSB0aGlzLmhvc3Q7XG5cbiAgICAvLyBzdHJpcCBbIGFuZCBdIGZyb20gdGhlIGhvc3RuYW1lXG4gICAgLy8gdGhlIGhvc3QgZmllbGQgc3RpbGwgcmV0YWlucyB0aGVtLCB0aG91Z2hcbiAgICBpZiAoaXB2Nkhvc3RuYW1lKSB7XG4gICAgICB0aGlzLmhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZS5zdWJzdHIoMSwgdGhpcy5ob3N0bmFtZS5sZW5ndGggLSAyKTtcbiAgICAgIGlmIChyZXN0WzBdICE9PSAnLycpIHtcbiAgICAgICAgcmVzdCA9ICcvJyArIHJlc3Q7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gbm93IHJlc3QgaXMgc2V0IHRvIHRoZSBwb3N0LWhvc3Qgc3R1ZmYuXG4gIC8vIGNob3Agb2ZmIGFueSBkZWxpbSBjaGFycy5cbiAgaWYgKCF1bnNhZmVQcm90b2NvbFtsb3dlclByb3RvXSkge1xuXG4gICAgLy8gRmlyc3QsIG1ha2UgMTAwJSBzdXJlIHRoYXQgYW55IFwiYXV0b0VzY2FwZVwiIGNoYXJzIGdldFxuICAgIC8vIGVzY2FwZWQsIGV2ZW4gaWYgZW5jb2RlVVJJQ29tcG9uZW50IGRvZXNuJ3QgdGhpbmsgdGhleVxuICAgIC8vIG5lZWQgdG8gYmUuXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBhdXRvRXNjYXBlLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgdmFyIGFlID0gYXV0b0VzY2FwZVtpXTtcbiAgICAgIGlmIChyZXN0LmluZGV4T2YoYWUpID09PSAtMSlcbiAgICAgICAgY29udGludWU7XG4gICAgICB2YXIgZXNjID0gZW5jb2RlVVJJQ29tcG9uZW50KGFlKTtcbiAgICAgIGlmIChlc2MgPT09IGFlKSB7XG4gICAgICAgIGVzYyA9IGVzY2FwZShhZSk7XG4gICAgICB9XG4gICAgICByZXN0ID0gcmVzdC5zcGxpdChhZSkuam9pbihlc2MpO1xuICAgIH1cbiAgfVxuXG5cbiAgLy8gY2hvcCBvZmYgZnJvbSB0aGUgdGFpbCBmaXJzdC5cbiAgdmFyIGhhc2ggPSByZXN0LmluZGV4T2YoJyMnKTtcbiAgaWYgKGhhc2ggIT09IC0xKSB7XG4gICAgLy8gZ290IGEgZnJhZ21lbnQgc3RyaW5nLlxuICAgIHRoaXMuaGFzaCA9IHJlc3Quc3Vic3RyKGhhc2gpO1xuICAgIHJlc3QgPSByZXN0LnNsaWNlKDAsIGhhc2gpO1xuICB9XG4gIHZhciBxbSA9IHJlc3QuaW5kZXhPZignPycpO1xuICBpZiAocW0gIT09IC0xKSB7XG4gICAgdGhpcy5zZWFyY2ggPSByZXN0LnN1YnN0cihxbSk7XG4gICAgdGhpcy5xdWVyeSA9IHJlc3Quc3Vic3RyKHFtICsgMSk7XG4gICAgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAgIHRoaXMucXVlcnkgPSBxdWVyeXN0cmluZy5wYXJzZSh0aGlzLnF1ZXJ5KTtcbiAgICB9XG4gICAgcmVzdCA9IHJlc3Quc2xpY2UoMCwgcW0pO1xuICB9IGVsc2UgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAvLyBubyBxdWVyeSBzdHJpbmcsIGJ1dCBwYXJzZVF1ZXJ5U3RyaW5nIHN0aWxsIHJlcXVlc3RlZFxuICAgIHRoaXMuc2VhcmNoID0gJyc7XG4gICAgdGhpcy5xdWVyeSA9IHt9O1xuICB9XG4gIGlmIChyZXN0KSB0aGlzLnBhdGhuYW1lID0gcmVzdDtcbiAgaWYgKHNsYXNoZWRQcm90b2NvbFtsb3dlclByb3RvXSAmJlxuICAgICAgdGhpcy5ob3N0bmFtZSAmJiAhdGhpcy5wYXRobmFtZSkge1xuICAgIHRoaXMucGF0aG5hbWUgPSAnLyc7XG4gIH1cblxuICAvL3RvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gIGlmICh0aGlzLnBhdGhuYW1lIHx8IHRoaXMuc2VhcmNoKSB7XG4gICAgdmFyIHAgPSB0aGlzLnBhdGhuYW1lIHx8ICcnO1xuICAgIHZhciBzID0gdGhpcy5zZWFyY2ggfHwgJyc7XG4gICAgdGhpcy5wYXRoID0gcCArIHM7XG4gIH1cblxuICAvLyBmaW5hbGx5LCByZWNvbnN0cnVjdCB0aGUgaHJlZiBiYXNlZCBvbiB3aGF0IGhhcyBiZWVuIHZhbGlkYXRlZC5cbiAgdGhpcy5ocmVmID0gdGhpcy5mb3JtYXQoKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vLyBmb3JtYXQgYSBwYXJzZWQgb2JqZWN0IGludG8gYSB1cmwgc3RyaW5nXG5mdW5jdGlvbiB1cmxGb3JtYXQob2JqKSB7XG4gIC8vIGVuc3VyZSBpdCdzIGFuIG9iamVjdCwgYW5kIG5vdCBhIHN0cmluZyB1cmwuXG4gIC8vIElmIGl0J3MgYW4gb2JqLCB0aGlzIGlzIGEgbm8tb3AuXG4gIC8vIHRoaXMgd2F5LCB5b3UgY2FuIGNhbGwgdXJsX2Zvcm1hdCgpIG9uIHN0cmluZ3NcbiAgLy8gdG8gY2xlYW4gdXAgcG90ZW50aWFsbHkgd29ua3kgdXJscy5cbiAgaWYgKHV0aWwuaXNTdHJpbmcob2JqKSkgb2JqID0gdXJsUGFyc2Uob2JqKTtcbiAgaWYgKCEob2JqIGluc3RhbmNlb2YgVXJsKSkgcmV0dXJuIFVybC5wcm90b3R5cGUuZm9ybWF0LmNhbGwob2JqKTtcbiAgcmV0dXJuIG9iai5mb3JtYXQoKTtcbn1cblxuVXJsLnByb3RvdHlwZS5mb3JtYXQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGF1dGggPSB0aGlzLmF1dGggfHwgJyc7XG4gIGlmIChhdXRoKSB7XG4gICAgYXV0aCA9IGVuY29kZVVSSUNvbXBvbmVudChhdXRoKTtcbiAgICBhdXRoID0gYXV0aC5yZXBsYWNlKC8lM0EvaSwgJzonKTtcbiAgICBhdXRoICs9ICdAJztcbiAgfVxuXG4gIHZhciBwcm90b2NvbCA9IHRoaXMucHJvdG9jb2wgfHwgJycsXG4gICAgICBwYXRobmFtZSA9IHRoaXMucGF0aG5hbWUgfHwgJycsXG4gICAgICBoYXNoID0gdGhpcy5oYXNoIHx8ICcnLFxuICAgICAgaG9zdCA9IGZhbHNlLFxuICAgICAgcXVlcnkgPSAnJztcblxuICBpZiAodGhpcy5ob3N0KSB7XG4gICAgaG9zdCA9IGF1dGggKyB0aGlzLmhvc3Q7XG4gIH0gZWxzZSBpZiAodGhpcy5ob3N0bmFtZSkge1xuICAgIGhvc3QgPSBhdXRoICsgKHRoaXMuaG9zdG5hbWUuaW5kZXhPZignOicpID09PSAtMSA/XG4gICAgICAgIHRoaXMuaG9zdG5hbWUgOlxuICAgICAgICAnWycgKyB0aGlzLmhvc3RuYW1lICsgJ10nKTtcbiAgICBpZiAodGhpcy5wb3J0KSB7XG4gICAgICBob3N0ICs9ICc6JyArIHRoaXMucG9ydDtcbiAgICB9XG4gIH1cblxuICBpZiAodGhpcy5xdWVyeSAmJlxuICAgICAgdXRpbC5pc09iamVjdCh0aGlzLnF1ZXJ5KSAmJlxuICAgICAgT2JqZWN0LmtleXModGhpcy5xdWVyeSkubGVuZ3RoKSB7XG4gICAgcXVlcnkgPSBxdWVyeXN0cmluZy5zdHJpbmdpZnkodGhpcy5xdWVyeSk7XG4gIH1cblxuICB2YXIgc2VhcmNoID0gdGhpcy5zZWFyY2ggfHwgKHF1ZXJ5ICYmICgnPycgKyBxdWVyeSkpIHx8ICcnO1xuXG4gIGlmIChwcm90b2NvbCAmJiBwcm90b2NvbC5zdWJzdHIoLTEpICE9PSAnOicpIHByb3RvY29sICs9ICc6JztcblxuICAvLyBvbmx5IHRoZSBzbGFzaGVkUHJvdG9jb2xzIGdldCB0aGUgLy8uICBOb3QgbWFpbHRvOiwgeG1wcDosIGV0Yy5cbiAgLy8gdW5sZXNzIHRoZXkgaGFkIHRoZW0gdG8gYmVnaW4gd2l0aC5cbiAgaWYgKHRoaXMuc2xhc2hlcyB8fFxuICAgICAgKCFwcm90b2NvbCB8fCBzbGFzaGVkUHJvdG9jb2xbcHJvdG9jb2xdKSAmJiBob3N0ICE9PSBmYWxzZSkge1xuICAgIGhvc3QgPSAnLy8nICsgKGhvc3QgfHwgJycpO1xuICAgIGlmIChwYXRobmFtZSAmJiBwYXRobmFtZS5jaGFyQXQoMCkgIT09ICcvJykgcGF0aG5hbWUgPSAnLycgKyBwYXRobmFtZTtcbiAgfSBlbHNlIGlmICghaG9zdCkge1xuICAgIGhvc3QgPSAnJztcbiAgfVxuXG4gIGlmIChoYXNoICYmIGhhc2guY2hhckF0KDApICE9PSAnIycpIGhhc2ggPSAnIycgKyBoYXNoO1xuICBpZiAoc2VhcmNoICYmIHNlYXJjaC5jaGFyQXQoMCkgIT09ICc/Jykgc2VhcmNoID0gJz8nICsgc2VhcmNoO1xuXG4gIHBhdGhuYW1lID0gcGF0aG5hbWUucmVwbGFjZSgvWz8jXS9nLCBmdW5jdGlvbihtYXRjaCkge1xuICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQobWF0Y2gpO1xuICB9KTtcbiAgc2VhcmNoID0gc2VhcmNoLnJlcGxhY2UoJyMnLCAnJTIzJyk7XG5cbiAgcmV0dXJuIHByb3RvY29sICsgaG9zdCArIHBhdGhuYW1lICsgc2VhcmNoICsgaGFzaDtcbn07XG5cbmZ1bmN0aW9uIHVybFJlc29sdmUoc291cmNlLCByZWxhdGl2ZSkge1xuICByZXR1cm4gdXJsUGFyc2Uoc291cmNlLCBmYWxzZSwgdHJ1ZSkucmVzb2x2ZShyZWxhdGl2ZSk7XG59XG5cblVybC5wcm90b3R5cGUucmVzb2x2ZSA9IGZ1bmN0aW9uKHJlbGF0aXZlKSB7XG4gIHJldHVybiB0aGlzLnJlc29sdmVPYmplY3QodXJsUGFyc2UocmVsYXRpdmUsIGZhbHNlLCB0cnVlKSkuZm9ybWF0KCk7XG59O1xuXG5mdW5jdGlvbiB1cmxSZXNvbHZlT2JqZWN0KHNvdXJjZSwgcmVsYXRpdmUpIHtcbiAgaWYgKCFzb3VyY2UpIHJldHVybiByZWxhdGl2ZTtcbiAgcmV0dXJuIHVybFBhcnNlKHNvdXJjZSwgZmFsc2UsIHRydWUpLnJlc29sdmVPYmplY3QocmVsYXRpdmUpO1xufVxuXG5VcmwucHJvdG90eXBlLnJlc29sdmVPYmplY3QgPSBmdW5jdGlvbihyZWxhdGl2ZSkge1xuICBpZiAodXRpbC5pc1N0cmluZyhyZWxhdGl2ZSkpIHtcbiAgICB2YXIgcmVsID0gbmV3IFVybCgpO1xuICAgIHJlbC5wYXJzZShyZWxhdGl2ZSwgZmFsc2UsIHRydWUpO1xuICAgIHJlbGF0aXZlID0gcmVsO1xuICB9XG5cbiAgdmFyIHJlc3VsdCA9IG5ldyBVcmwoKTtcbiAgdmFyIHRrZXlzID0gT2JqZWN0LmtleXModGhpcyk7XG4gIGZvciAodmFyIHRrID0gMDsgdGsgPCB0a2V5cy5sZW5ndGg7IHRrKyspIHtcbiAgICB2YXIgdGtleSA9IHRrZXlzW3RrXTtcbiAgICByZXN1bHRbdGtleV0gPSB0aGlzW3RrZXldO1xuICB9XG5cbiAgLy8gaGFzaCBpcyBhbHdheXMgb3ZlcnJpZGRlbiwgbm8gbWF0dGVyIHdoYXQuXG4gIC8vIGV2ZW4gaHJlZj1cIlwiIHdpbGwgcmVtb3ZlIGl0LlxuICByZXN1bHQuaGFzaCA9IHJlbGF0aXZlLmhhc2g7XG5cbiAgLy8gaWYgdGhlIHJlbGF0aXZlIHVybCBpcyBlbXB0eSwgdGhlbiB0aGVyZSdzIG5vdGhpbmcgbGVmdCB0byBkbyBoZXJlLlxuICBpZiAocmVsYXRpdmUuaHJlZiA9PT0gJycpIHtcbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLy8gaHJlZnMgbGlrZSAvL2Zvby9iYXIgYWx3YXlzIGN1dCB0byB0aGUgcHJvdG9jb2wuXG4gIGlmIChyZWxhdGl2ZS5zbGFzaGVzICYmICFyZWxhdGl2ZS5wcm90b2NvbCkge1xuICAgIC8vIHRha2UgZXZlcnl0aGluZyBleGNlcHQgdGhlIHByb3RvY29sIGZyb20gcmVsYXRpdmVcbiAgICB2YXIgcmtleXMgPSBPYmplY3Qua2V5cyhyZWxhdGl2ZSk7XG4gICAgZm9yICh2YXIgcmsgPSAwOyByayA8IHJrZXlzLmxlbmd0aDsgcmsrKykge1xuICAgICAgdmFyIHJrZXkgPSBya2V5c1tya107XG4gICAgICBpZiAocmtleSAhPT0gJ3Byb3RvY29sJylcbiAgICAgICAgcmVzdWx0W3JrZXldID0gcmVsYXRpdmVbcmtleV07XG4gICAgfVxuXG4gICAgLy91cmxQYXJzZSBhcHBlbmRzIHRyYWlsaW5nIC8gdG8gdXJscyBsaWtlIGh0dHA6Ly93d3cuZXhhbXBsZS5jb21cbiAgICBpZiAoc2xhc2hlZFByb3RvY29sW3Jlc3VsdC5wcm90b2NvbF0gJiZcbiAgICAgICAgcmVzdWx0Lmhvc3RuYW1lICYmICFyZXN1bHQucGF0aG5hbWUpIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gcmVzdWx0LnBhdGhuYW1lID0gJy8nO1xuICAgIH1cblxuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBpZiAocmVsYXRpdmUucHJvdG9jb2wgJiYgcmVsYXRpdmUucHJvdG9jb2wgIT09IHJlc3VsdC5wcm90b2NvbCkge1xuICAgIC8vIGlmIGl0J3MgYSBrbm93biB1cmwgcHJvdG9jb2wsIHRoZW4gY2hhbmdpbmdcbiAgICAvLyB0aGUgcHJvdG9jb2wgZG9lcyB3ZWlyZCB0aGluZ3NcbiAgICAvLyBmaXJzdCwgaWYgaXQncyBub3QgZmlsZTosIHRoZW4gd2UgTVVTVCBoYXZlIGEgaG9zdCxcbiAgICAvLyBhbmQgaWYgdGhlcmUgd2FzIGEgcGF0aFxuICAgIC8vIHRvIGJlZ2luIHdpdGgsIHRoZW4gd2UgTVVTVCBoYXZlIGEgcGF0aC5cbiAgICAvLyBpZiBpdCBpcyBmaWxlOiwgdGhlbiB0aGUgaG9zdCBpcyBkcm9wcGVkLFxuICAgIC8vIGJlY2F1c2UgdGhhdCdzIGtub3duIHRvIGJlIGhvc3RsZXNzLlxuICAgIC8vIGFueXRoaW5nIGVsc2UgaXMgYXNzdW1lZCB0byBiZSBhYnNvbHV0ZS5cbiAgICBpZiAoIXNsYXNoZWRQcm90b2NvbFtyZWxhdGl2ZS5wcm90b2NvbF0pIHtcbiAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMocmVsYXRpdmUpO1xuICAgICAgZm9yICh2YXIgdiA9IDA7IHYgPCBrZXlzLmxlbmd0aDsgdisrKSB7XG4gICAgICAgIHZhciBrID0ga2V5c1t2XTtcbiAgICAgICAgcmVzdWx0W2tdID0gcmVsYXRpdmVba107XG4gICAgICB9XG4gICAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgcmVzdWx0LnByb3RvY29sID0gcmVsYXRpdmUucHJvdG9jb2w7XG4gICAgaWYgKCFyZWxhdGl2ZS5ob3N0ICYmICFob3N0bGVzc1Byb3RvY29sW3JlbGF0aXZlLnByb3RvY29sXSkge1xuICAgICAgdmFyIHJlbFBhdGggPSAocmVsYXRpdmUucGF0aG5hbWUgfHwgJycpLnNwbGl0KCcvJyk7XG4gICAgICB3aGlsZSAocmVsUGF0aC5sZW5ndGggJiYgIShyZWxhdGl2ZS5ob3N0ID0gcmVsUGF0aC5zaGlmdCgpKSk7XG4gICAgICBpZiAoIXJlbGF0aXZlLmhvc3QpIHJlbGF0aXZlLmhvc3QgPSAnJztcbiAgICAgIGlmICghcmVsYXRpdmUuaG9zdG5hbWUpIHJlbGF0aXZlLmhvc3RuYW1lID0gJyc7XG4gICAgICBpZiAocmVsUGF0aFswXSAhPT0gJycpIHJlbFBhdGgudW5zaGlmdCgnJyk7XG4gICAgICBpZiAocmVsUGF0aC5sZW5ndGggPCAyKSByZWxQYXRoLnVuc2hpZnQoJycpO1xuICAgICAgcmVzdWx0LnBhdGhuYW1lID0gcmVsUGF0aC5qb2luKCcvJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC5wYXRobmFtZSA9IHJlbGF0aXZlLnBhdGhuYW1lO1xuICAgIH1cbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICAgIHJlc3VsdC5ob3N0ID0gcmVsYXRpdmUuaG9zdCB8fCAnJztcbiAgICByZXN1bHQuYXV0aCA9IHJlbGF0aXZlLmF1dGg7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gcmVsYXRpdmUuaG9zdG5hbWUgfHwgcmVsYXRpdmUuaG9zdDtcbiAgICByZXN1bHQucG9ydCA9IHJlbGF0aXZlLnBvcnQ7XG4gICAgLy8gdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgICBpZiAocmVzdWx0LnBhdGhuYW1lIHx8IHJlc3VsdC5zZWFyY2gpIHtcbiAgICAgIHZhciBwID0gcmVzdWx0LnBhdGhuYW1lIHx8ICcnO1xuICAgICAgdmFyIHMgPSByZXN1bHQuc2VhcmNoIHx8ICcnO1xuICAgICAgcmVzdWx0LnBhdGggPSBwICsgcztcbiAgICB9XG4gICAgcmVzdWx0LnNsYXNoZXMgPSByZXN1bHQuc2xhc2hlcyB8fCByZWxhdGl2ZS5zbGFzaGVzO1xuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICB2YXIgaXNTb3VyY2VBYnMgPSAocmVzdWx0LnBhdGhuYW1lICYmIHJlc3VsdC5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJyksXG4gICAgICBpc1JlbEFicyA9IChcbiAgICAgICAgICByZWxhdGl2ZS5ob3N0IHx8XG4gICAgICAgICAgcmVsYXRpdmUucGF0aG5hbWUgJiYgcmVsYXRpdmUucGF0aG5hbWUuY2hhckF0KDApID09PSAnLydcbiAgICAgICksXG4gICAgICBtdXN0RW5kQWJzID0gKGlzUmVsQWJzIHx8IGlzU291cmNlQWJzIHx8XG4gICAgICAgICAgICAgICAgICAgIChyZXN1bHQuaG9zdCAmJiByZWxhdGl2ZS5wYXRobmFtZSkpLFxuICAgICAgcmVtb3ZlQWxsRG90cyA9IG11c3RFbmRBYnMsXG4gICAgICBzcmNQYXRoID0gcmVzdWx0LnBhdGhuYW1lICYmIHJlc3VsdC5wYXRobmFtZS5zcGxpdCgnLycpIHx8IFtdLFxuICAgICAgcmVsUGF0aCA9IHJlbGF0aXZlLnBhdGhuYW1lICYmIHJlbGF0aXZlLnBhdGhuYW1lLnNwbGl0KCcvJykgfHwgW10sXG4gICAgICBwc3ljaG90aWMgPSByZXN1bHQucHJvdG9jb2wgJiYgIXNsYXNoZWRQcm90b2NvbFtyZXN1bHQucHJvdG9jb2xdO1xuXG4gIC8vIGlmIHRoZSB1cmwgaXMgYSBub24tc2xhc2hlZCB1cmwsIHRoZW4gcmVsYXRpdmVcbiAgLy8gbGlua3MgbGlrZSAuLi8uLiBzaG91bGQgYmUgYWJsZVxuICAvLyB0byBjcmF3bCB1cCB0byB0aGUgaG9zdG5hbWUsIGFzIHdlbGwuICBUaGlzIGlzIHN0cmFuZ2UuXG4gIC8vIHJlc3VsdC5wcm90b2NvbCBoYXMgYWxyZWFkeSBiZWVuIHNldCBieSBub3cuXG4gIC8vIExhdGVyIG9uLCBwdXQgdGhlIGZpcnN0IHBhdGggcGFydCBpbnRvIHRoZSBob3N0IGZpZWxkLlxuICBpZiAocHN5Y2hvdGljKSB7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gJyc7XG4gICAgcmVzdWx0LnBvcnQgPSBudWxsO1xuICAgIGlmIChyZXN1bHQuaG9zdCkge1xuICAgICAgaWYgKHNyY1BhdGhbMF0gPT09ICcnKSBzcmNQYXRoWzBdID0gcmVzdWx0Lmhvc3Q7XG4gICAgICBlbHNlIHNyY1BhdGgudW5zaGlmdChyZXN1bHQuaG9zdCk7XG4gICAgfVxuICAgIHJlc3VsdC5ob3N0ID0gJyc7XG4gICAgaWYgKHJlbGF0aXZlLnByb3RvY29sKSB7XG4gICAgICByZWxhdGl2ZS5ob3N0bmFtZSA9IG51bGw7XG4gICAgICByZWxhdGl2ZS5wb3J0ID0gbnVsbDtcbiAgICAgIGlmIChyZWxhdGl2ZS5ob3N0KSB7XG4gICAgICAgIGlmIChyZWxQYXRoWzBdID09PSAnJykgcmVsUGF0aFswXSA9IHJlbGF0aXZlLmhvc3Q7XG4gICAgICAgIGVsc2UgcmVsUGF0aC51bnNoaWZ0KHJlbGF0aXZlLmhvc3QpO1xuICAgICAgfVxuICAgICAgcmVsYXRpdmUuaG9zdCA9IG51bGw7XG4gICAgfVxuICAgIG11c3RFbmRBYnMgPSBtdXN0RW5kQWJzICYmIChyZWxQYXRoWzBdID09PSAnJyB8fCBzcmNQYXRoWzBdID09PSAnJyk7XG4gIH1cblxuICBpZiAoaXNSZWxBYnMpIHtcbiAgICAvLyBpdCdzIGFic29sdXRlLlxuICAgIHJlc3VsdC5ob3N0ID0gKHJlbGF0aXZlLmhvc3QgfHwgcmVsYXRpdmUuaG9zdCA9PT0gJycpID9cbiAgICAgICAgICAgICAgICAgIHJlbGF0aXZlLmhvc3QgOiByZXN1bHQuaG9zdDtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSAocmVsYXRpdmUuaG9zdG5hbWUgfHwgcmVsYXRpdmUuaG9zdG5hbWUgPT09ICcnKSA/XG4gICAgICAgICAgICAgICAgICAgICAgcmVsYXRpdmUuaG9zdG5hbWUgOiByZXN1bHQuaG9zdG5hbWU7XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgICBzcmNQYXRoID0gcmVsUGF0aDtcbiAgICAvLyBmYWxsIHRocm91Z2ggdG8gdGhlIGRvdC1oYW5kbGluZyBiZWxvdy5cbiAgfSBlbHNlIGlmIChyZWxQYXRoLmxlbmd0aCkge1xuICAgIC8vIGl0J3MgcmVsYXRpdmVcbiAgICAvLyB0aHJvdyBhd2F5IHRoZSBleGlzdGluZyBmaWxlLCBhbmQgdGFrZSB0aGUgbmV3IHBhdGggaW5zdGVhZC5cbiAgICBpZiAoIXNyY1BhdGgpIHNyY1BhdGggPSBbXTtcbiAgICBzcmNQYXRoLnBvcCgpO1xuICAgIHNyY1BhdGggPSBzcmNQYXRoLmNvbmNhdChyZWxQYXRoKTtcbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICB9IGVsc2UgaWYgKCF1dGlsLmlzTnVsbE9yVW5kZWZpbmVkKHJlbGF0aXZlLnNlYXJjaCkpIHtcbiAgICAvLyBqdXN0IHB1bGwgb3V0IHRoZSBzZWFyY2guXG4gICAgLy8gbGlrZSBocmVmPSc/Zm9vJy5cbiAgICAvLyBQdXQgdGhpcyBhZnRlciB0aGUgb3RoZXIgdHdvIGNhc2VzIGJlY2F1c2UgaXQgc2ltcGxpZmllcyB0aGUgYm9vbGVhbnNcbiAgICBpZiAocHN5Y2hvdGljKSB7XG4gICAgICByZXN1bHQuaG9zdG5hbWUgPSByZXN1bHQuaG9zdCA9IHNyY1BhdGguc2hpZnQoKTtcbiAgICAgIC8vb2NjYXRpb25hbHkgdGhlIGF1dGggY2FuIGdldCBzdHVjayBvbmx5IGluIGhvc3RcbiAgICAgIC8vdGhpcyBlc3BlY2lhbGx5IGhhcHBlbnMgaW4gY2FzZXMgbGlrZVxuICAgICAgLy91cmwucmVzb2x2ZU9iamVjdCgnbWFpbHRvOmxvY2FsMUBkb21haW4xJywgJ2xvY2FsMkBkb21haW4yJylcbiAgICAgIHZhciBhdXRoSW5Ib3N0ID0gcmVzdWx0Lmhvc3QgJiYgcmVzdWx0Lmhvc3QuaW5kZXhPZignQCcpID4gMCA/XG4gICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5ob3N0LnNwbGl0KCdAJykgOiBmYWxzZTtcbiAgICAgIGlmIChhdXRoSW5Ib3N0KSB7XG4gICAgICAgIHJlc3VsdC5hdXRoID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgICAgICByZXN1bHQuaG9zdCA9IHJlc3VsdC5ob3N0bmFtZSA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgICAvL3RvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gICAgaWYgKCF1dGlsLmlzTnVsbChyZXN1bHQucGF0aG5hbWUpIHx8ICF1dGlsLmlzTnVsbChyZXN1bHQuc2VhcmNoKSkge1xuICAgICAgcmVzdWx0LnBhdGggPSAocmVzdWx0LnBhdGhuYW1lID8gcmVzdWx0LnBhdGhuYW1lIDogJycpICtcbiAgICAgICAgICAgICAgICAgICAgKHJlc3VsdC5zZWFyY2ggPyByZXN1bHQuc2VhcmNoIDogJycpO1xuICAgIH1cbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgaWYgKCFzcmNQYXRoLmxlbmd0aCkge1xuICAgIC8vIG5vIHBhdGggYXQgYWxsLiAgZWFzeS5cbiAgICAvLyB3ZSd2ZSBhbHJlYWR5IGhhbmRsZWQgdGhlIG90aGVyIHN0dWZmIGFib3ZlLlxuICAgIHJlc3VsdC5wYXRobmFtZSA9IG51bGw7XG4gICAgLy90byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICAgIGlmIChyZXN1bHQuc2VhcmNoKSB7XG4gICAgICByZXN1bHQucGF0aCA9ICcvJyArIHJlc3VsdC5zZWFyY2g7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gbnVsbDtcbiAgICB9XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8vIGlmIGEgdXJsIEVORHMgaW4gLiBvciAuLiwgdGhlbiBpdCBtdXN0IGdldCBhIHRyYWlsaW5nIHNsYXNoLlxuICAvLyBob3dldmVyLCBpZiBpdCBlbmRzIGluIGFueXRoaW5nIGVsc2Ugbm9uLXNsYXNoeSxcbiAgLy8gdGhlbiBpdCBtdXN0IE5PVCBnZXQgYSB0cmFpbGluZyBzbGFzaC5cbiAgdmFyIGxhc3QgPSBzcmNQYXRoLnNsaWNlKC0xKVswXTtcbiAgdmFyIGhhc1RyYWlsaW5nU2xhc2ggPSAoXG4gICAgICAocmVzdWx0Lmhvc3QgfHwgcmVsYXRpdmUuaG9zdCB8fCBzcmNQYXRoLmxlbmd0aCA+IDEpICYmXG4gICAgICAobGFzdCA9PT0gJy4nIHx8IGxhc3QgPT09ICcuLicpIHx8IGxhc3QgPT09ICcnKTtcblxuICAvLyBzdHJpcCBzaW5nbGUgZG90cywgcmVzb2x2ZSBkb3VibGUgZG90cyB0byBwYXJlbnQgZGlyXG4gIC8vIGlmIHRoZSBwYXRoIHRyaWVzIHRvIGdvIGFib3ZlIHRoZSByb290LCBgdXBgIGVuZHMgdXAgPiAwXG4gIHZhciB1cCA9IDA7XG4gIGZvciAodmFyIGkgPSBzcmNQYXRoLmxlbmd0aDsgaSA+PSAwOyBpLS0pIHtcbiAgICBsYXN0ID0gc3JjUGF0aFtpXTtcbiAgICBpZiAobGFzdCA9PT0gJy4nKSB7XG4gICAgICBzcmNQYXRoLnNwbGljZShpLCAxKTtcbiAgICB9IGVsc2UgaWYgKGxhc3QgPT09ICcuLicpIHtcbiAgICAgIHNyY1BhdGguc3BsaWNlKGksIDEpO1xuICAgICAgdXArKztcbiAgICB9IGVsc2UgaWYgKHVwKSB7XG4gICAgICBzcmNQYXRoLnNwbGljZShpLCAxKTtcbiAgICAgIHVwLS07XG4gICAgfVxuICB9XG5cbiAgLy8gaWYgdGhlIHBhdGggaXMgYWxsb3dlZCB0byBnbyBhYm92ZSB0aGUgcm9vdCwgcmVzdG9yZSBsZWFkaW5nIC4uc1xuICBpZiAoIW11c3RFbmRBYnMgJiYgIXJlbW92ZUFsbERvdHMpIHtcbiAgICBmb3IgKDsgdXAtLTsgdXApIHtcbiAgICAgIHNyY1BhdGgudW5zaGlmdCgnLi4nKTtcbiAgICB9XG4gIH1cblxuICBpZiAobXVzdEVuZEFicyAmJiBzcmNQYXRoWzBdICE9PSAnJyAmJlxuICAgICAgKCFzcmNQYXRoWzBdIHx8IHNyY1BhdGhbMF0uY2hhckF0KDApICE9PSAnLycpKSB7XG4gICAgc3JjUGF0aC51bnNoaWZ0KCcnKTtcbiAgfVxuXG4gIGlmIChoYXNUcmFpbGluZ1NsYXNoICYmIChzcmNQYXRoLmpvaW4oJy8nKS5zdWJzdHIoLTEpICE9PSAnLycpKSB7XG4gICAgc3JjUGF0aC5wdXNoKCcnKTtcbiAgfVxuXG4gIHZhciBpc0Fic29sdXRlID0gc3JjUGF0aFswXSA9PT0gJycgfHxcbiAgICAgIChzcmNQYXRoWzBdICYmIHNyY1BhdGhbMF0uY2hhckF0KDApID09PSAnLycpO1xuXG4gIC8vIHB1dCB0aGUgaG9zdCBiYWNrXG4gIGlmIChwc3ljaG90aWMpIHtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSByZXN1bHQuaG9zdCA9IGlzQWJzb2x1dGUgPyAnJyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmNQYXRoLmxlbmd0aCA/IHNyY1BhdGguc2hpZnQoKSA6ICcnO1xuICAgIC8vb2NjYXRpb25hbHkgdGhlIGF1dGggY2FuIGdldCBzdHVjayBvbmx5IGluIGhvc3RcbiAgICAvL3RoaXMgZXNwZWNpYWxseSBoYXBwZW5zIGluIGNhc2VzIGxpa2VcbiAgICAvL3VybC5yZXNvbHZlT2JqZWN0KCdtYWlsdG86bG9jYWwxQGRvbWFpbjEnLCAnbG9jYWwyQGRvbWFpbjInKVxuICAgIHZhciBhdXRoSW5Ib3N0ID0gcmVzdWx0Lmhvc3QgJiYgcmVzdWx0Lmhvc3QuaW5kZXhPZignQCcpID4gMCA/XG4gICAgICAgICAgICAgICAgICAgICByZXN1bHQuaG9zdC5zcGxpdCgnQCcpIDogZmFsc2U7XG4gICAgaWYgKGF1dGhJbkhvc3QpIHtcbiAgICAgIHJlc3VsdC5hdXRoID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgICAgcmVzdWx0Lmhvc3QgPSByZXN1bHQuaG9zdG5hbWUgPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgfVxuICB9XG5cbiAgbXVzdEVuZEFicyA9IG11c3RFbmRBYnMgfHwgKHJlc3VsdC5ob3N0ICYmIHNyY1BhdGgubGVuZ3RoKTtcblxuICBpZiAobXVzdEVuZEFicyAmJiAhaXNBYnNvbHV0ZSkge1xuICAgIHNyY1BhdGgudW5zaGlmdCgnJyk7XG4gIH1cblxuICBpZiAoIXNyY1BhdGgubGVuZ3RoKSB7XG4gICAgcmVzdWx0LnBhdGhuYW1lID0gbnVsbDtcbiAgICByZXN1bHQucGF0aCA9IG51bGw7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0LnBhdGhuYW1lID0gc3JjUGF0aC5qb2luKCcvJyk7XG4gIH1cblxuICAvL3RvIHN1cHBvcnQgcmVxdWVzdC5odHRwXG4gIGlmICghdXRpbC5pc051bGwocmVzdWx0LnBhdGhuYW1lKSB8fCAhdXRpbC5pc051bGwocmVzdWx0LnNlYXJjaCkpIHtcbiAgICByZXN1bHQucGF0aCA9IChyZXN1bHQucGF0aG5hbWUgPyByZXN1bHQucGF0aG5hbWUgOiAnJykgK1xuICAgICAgICAgICAgICAgICAgKHJlc3VsdC5zZWFyY2ggPyByZXN1bHQuc2VhcmNoIDogJycpO1xuICB9XG4gIHJlc3VsdC5hdXRoID0gcmVsYXRpdmUuYXV0aCB8fCByZXN1bHQuYXV0aDtcbiAgcmVzdWx0LnNsYXNoZXMgPSByZXN1bHQuc2xhc2hlcyB8fCByZWxhdGl2ZS5zbGFzaGVzO1xuICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cblVybC5wcm90b3R5cGUucGFyc2VIb3N0ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBob3N0ID0gdGhpcy5ob3N0O1xuICB2YXIgcG9ydCA9IHBvcnRQYXR0ZXJuLmV4ZWMoaG9zdCk7XG4gIGlmIChwb3J0KSB7XG4gICAgcG9ydCA9IHBvcnRbMF07XG4gICAgaWYgKHBvcnQgIT09ICc6Jykge1xuICAgICAgdGhpcy5wb3J0ID0gcG9ydC5zdWJzdHIoMSk7XG4gICAgfVxuICAgIGhvc3QgPSBob3N0LnN1YnN0cigwLCBob3N0Lmxlbmd0aCAtIHBvcnQubGVuZ3RoKTtcbiAgfVxuICBpZiAoaG9zdCkgdGhpcy5ob3N0bmFtZSA9IGhvc3Q7XG59O1xuIiwiJ3VzZSBzdHJpY3QnXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcGFyc2VVUkkgKHN0ciwgb3B0cykge1xuICBvcHRzID0gb3B0cyB8fCB7fVxuXG4gIHZhciBvID0ge1xuICAgIGtleTogWydzb3VyY2UnLCAncHJvdG9jb2wnLCAnYXV0aG9yaXR5JywgJ3VzZXJJbmZvJywgJ3VzZXInLCAncGFzc3dvcmQnLCAnaG9zdCcsICdwb3J0JywgJ3JlbGF0aXZlJywgJ3BhdGgnLCAnZGlyZWN0b3J5JywgJ2ZpbGUnLCAncXVlcnknLCAnYW5jaG9yJ10sXG4gICAgcToge1xuICAgICAgbmFtZTogJ3F1ZXJ5S2V5JyxcbiAgICAgIHBhcnNlcjogLyg/Ol58JikoW14mPV0qKT0/KFteJl0qKS9nXG4gICAgfSxcbiAgICBwYXJzZXI6IHtcbiAgICAgIHN0cmljdDogL14oPzooW146XFwvPyNdKyk6KT8oPzpcXC9cXC8oKD86KChbXjpAXSopKD86OihbXjpAXSopKT8pP0ApPyhbXjpcXC8/I10qKSg/OjooXFxkKikpPykpPygoKCg/OltePyNcXC9dKlxcLykqKShbXj8jXSopKSg/OlxcPyhbXiNdKikpPyg/OiMoLiopKT8pLyxcbiAgICAgIGxvb3NlOiAvXig/Oig/IVteOkBdKzpbXjpAXFwvXSpAKShbXjpcXC8/Iy5dKyk6KT8oPzpcXC9cXC8pPygoPzooKFteOkBdKikoPzo6KFteOkBdKikpPyk/QCk/KFteOlxcLz8jXSopKD86OihcXGQqKSk/KSgoKFxcLyg/OltePyNdKD8hW14/I1xcL10qXFwuW14/I1xcLy5dKyg/Ols/I118JCkpKSpcXC8/KT8oW14/I1xcL10qKSkoPzpcXD8oW14jXSopKT8oPzojKC4qKSk/KS9cbiAgICB9XG4gIH1cblxuICB2YXIgbSA9IG8ucGFyc2VyW29wdHMuc3RyaWN0TW9kZSA/ICdzdHJpY3QnIDogJ2xvb3NlJ10uZXhlYyhzdHIpXG4gIHZhciB1cmkgPSB7fVxuICB2YXIgaSA9IDE0XG5cbiAgd2hpbGUgKGktLSkgdXJpW28ua2V5W2ldXSA9IG1baV0gfHwgJydcblxuICB1cmlbby5xLm5hbWVdID0ge31cbiAgdXJpW28ua2V5WzEyXV0ucmVwbGFjZShvLnEucGFyc2VyLCBmdW5jdGlvbiAoJDAsICQxLCAkMikge1xuICAgIGlmICgkMSkgdXJpW28ucS5uYW1lXVskMV0gPSAkMlxuICB9KVxuXG4gIHJldHVybiB1cmlcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHlcbiAgLCBwcmVmaXggPSAnfic7XG5cbi8qKlxuICogQ29uc3RydWN0b3IgdG8gY3JlYXRlIGEgc3RvcmFnZSBmb3Igb3VyIGBFRWAgb2JqZWN0cy5cbiAqIEFuIGBFdmVudHNgIGluc3RhbmNlIGlzIGEgcGxhaW4gb2JqZWN0IHdob3NlIHByb3BlcnRpZXMgYXJlIGV2ZW50IG5hbWVzLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gRXZlbnRzKCkge31cblxuLy9cbi8vIFdlIHRyeSB0byBub3QgaW5oZXJpdCBmcm9tIGBPYmplY3QucHJvdG90eXBlYC4gSW4gc29tZSBlbmdpbmVzIGNyZWF0aW5nIGFuXG4vLyBpbnN0YW5jZSBpbiB0aGlzIHdheSBpcyBmYXN0ZXIgdGhhbiBjYWxsaW5nIGBPYmplY3QuY3JlYXRlKG51bGwpYCBkaXJlY3RseS5cbi8vIElmIGBPYmplY3QuY3JlYXRlKG51bGwpYCBpcyBub3Qgc3VwcG9ydGVkIHdlIHByZWZpeCB0aGUgZXZlbnQgbmFtZXMgd2l0aCBhXG4vLyBjaGFyYWN0ZXIgdG8gbWFrZSBzdXJlIHRoYXQgdGhlIGJ1aWx0LWluIG9iamVjdCBwcm9wZXJ0aWVzIGFyZSBub3Rcbi8vIG92ZXJyaWRkZW4gb3IgdXNlZCBhcyBhbiBhdHRhY2sgdmVjdG9yLlxuLy9cbmlmIChPYmplY3QuY3JlYXRlKSB7XG4gIEV2ZW50cy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gIC8vXG4gIC8vIFRoaXMgaGFjayBpcyBuZWVkZWQgYmVjYXVzZSB0aGUgYF9fcHJvdG9fX2AgcHJvcGVydHkgaXMgc3RpbGwgaW5oZXJpdGVkIGluXG4gIC8vIHNvbWUgb2xkIGJyb3dzZXJzIGxpa2UgQW5kcm9pZCA0LCBpUGhvbmUgNS4xLCBPcGVyYSAxMSBhbmQgU2FmYXJpIDUuXG4gIC8vXG4gIGlmICghbmV3IEV2ZW50cygpLl9fcHJvdG9fXykgcHJlZml4ID0gZmFsc2U7XG59XG5cbi8qKlxuICogUmVwcmVzZW50YXRpb24gb2YgYSBzaW5nbGUgZXZlbnQgbGlzdGVuZXIuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29uY2U9ZmFsc2VdIFNwZWNpZnkgaWYgdGhlIGxpc3RlbmVyIGlzIGEgb25lLXRpbWUgbGlzdGVuZXIuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIEVFKGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIHRoaXMuZm4gPSBmbjtcbiAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgdGhpcy5vbmNlID0gb25jZSB8fCBmYWxzZTtcbn1cblxuLyoqXG4gKiBBZGQgYSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50RW1pdHRlcn0gZW1pdHRlciBSZWZlcmVuY2UgdG8gdGhlIGBFdmVudEVtaXR0ZXJgIGluc3RhbmNlLlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb25jZSBTcGVjaWZ5IGlmIHRoZSBsaXN0ZW5lciBpcyBhIG9uZS10aW1lIGxpc3RlbmVyLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGFkZExpc3RlbmVyKGVtaXR0ZXIsIGV2ZW50LCBmbiwgY29udGV4dCwgb25jZSkge1xuICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICB9XG5cbiAgdmFyIGxpc3RlbmVyID0gbmV3IEVFKGZuLCBjb250ZXh0IHx8IGVtaXR0ZXIsIG9uY2UpXG4gICAgLCBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghZW1pdHRlci5fZXZlbnRzW2V2dF0pIGVtaXR0ZXIuX2V2ZW50c1tldnRdID0gbGlzdGVuZXIsIGVtaXR0ZXIuX2V2ZW50c0NvdW50Kys7XG4gIGVsc2UgaWYgKCFlbWl0dGVyLl9ldmVudHNbZXZ0XS5mbikgZW1pdHRlci5fZXZlbnRzW2V2dF0ucHVzaChsaXN0ZW5lcik7XG4gIGVsc2UgZW1pdHRlci5fZXZlbnRzW2V2dF0gPSBbZW1pdHRlci5fZXZlbnRzW2V2dF0sIGxpc3RlbmVyXTtcblxuICByZXR1cm4gZW1pdHRlcjtcbn1cblxuLyoqXG4gKiBDbGVhciBldmVudCBieSBuYW1lLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRFbWl0dGVyfSBlbWl0dGVyIFJlZmVyZW5jZSB0byB0aGUgYEV2ZW50RW1pdHRlcmAgaW5zdGFuY2UuXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZ0IFRoZSBFdmVudCBuYW1lLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY2xlYXJFdmVudChlbWl0dGVyLCBldnQpIHtcbiAgaWYgKC0tZW1pdHRlci5fZXZlbnRzQ291bnQgPT09IDApIGVtaXR0ZXIuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgZWxzZSBkZWxldGUgZW1pdHRlci5fZXZlbnRzW2V2dF07XG59XG5cbi8qKlxuICogTWluaW1hbCBgRXZlbnRFbWl0dGVyYCBpbnRlcmZhY2UgdGhhdCBpcyBtb2xkZWQgYWdhaW5zdCB0aGUgTm9kZS5qc1xuICogYEV2ZW50RW1pdHRlcmAgaW50ZXJmYWNlLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHB1YmxpY1xuICovXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xufVxuXG4vKipcbiAqIFJldHVybiBhbiBhcnJheSBsaXN0aW5nIHRoZSBldmVudHMgZm9yIHdoaWNoIHRoZSBlbWl0dGVyIGhhcyByZWdpc3RlcmVkXG4gKiBsaXN0ZW5lcnMuXG4gKlxuICogQHJldHVybnMge0FycmF5fVxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmV2ZW50TmFtZXMgPSBmdW5jdGlvbiBldmVudE5hbWVzKCkge1xuICB2YXIgbmFtZXMgPSBbXVxuICAgICwgZXZlbnRzXG4gICAgLCBuYW1lO1xuXG4gIGlmICh0aGlzLl9ldmVudHNDb3VudCA9PT0gMCkgcmV0dXJuIG5hbWVzO1xuXG4gIGZvciAobmFtZSBpbiAoZXZlbnRzID0gdGhpcy5fZXZlbnRzKSkge1xuICAgIGlmIChoYXMuY2FsbChldmVudHMsIG5hbWUpKSBuYW1lcy5wdXNoKHByZWZpeCA/IG5hbWUuc2xpY2UoMSkgOiBuYW1lKTtcbiAgfVxuXG4gIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgcmV0dXJuIG5hbWVzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGV2ZW50cykpO1xuICB9XG5cbiAgcmV0dXJuIG5hbWVzO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIGxpc3RlbmVycyByZWdpc3RlcmVkIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtBcnJheX0gVGhlIHJlZ2lzdGVyZWQgbGlzdGVuZXJzLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIGxpc3RlbmVycyhldmVudCkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudFxuICAgICwgaGFuZGxlcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAoIWhhbmRsZXJzKSByZXR1cm4gW107XG4gIGlmIChoYW5kbGVycy5mbikgcmV0dXJuIFtoYW5kbGVycy5mbl07XG5cbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBoYW5kbGVycy5sZW5ndGgsIGVlID0gbmV3IEFycmF5KGwpOyBpIDwgbDsgaSsrKSB7XG4gICAgZWVbaV0gPSBoYW5kbGVyc1tpXS5mbjtcbiAgfVxuXG4gIHJldHVybiBlZTtcbn07XG5cbi8qKlxuICogUmV0dXJuIHRoZSBudW1iZXIgb2YgbGlzdGVuZXJzIGxpc3RlbmluZyB0byBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1iZXIgb2YgbGlzdGVuZXJzLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbiBsaXN0ZW5lckNvdW50KGV2ZW50KSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50XG4gICAgLCBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAoIWxpc3RlbmVycykgcmV0dXJuIDA7XG4gIGlmIChsaXN0ZW5lcnMuZm4pIHJldHVybiAxO1xuICByZXR1cm4gbGlzdGVuZXJzLmxlbmd0aDtcbn07XG5cbi8qKlxuICogQ2FsbHMgZWFjaCBvZiB0aGUgbGlzdGVuZXJzIHJlZ2lzdGVyZWQgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge0Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgZXZlbnQgaGFkIGxpc3RlbmVycywgZWxzZSBgZmFsc2VgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiBlbWl0KGV2ZW50LCBhMSwgYTIsIGEzLCBhNCwgYTUpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XSkgcmV0dXJuIGZhbHNlO1xuXG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XVxuICAgICwgbGVuID0gYXJndW1lbnRzLmxlbmd0aFxuICAgICwgYXJnc1xuICAgICwgaTtcblxuICBpZiAobGlzdGVuZXJzLmZuKSB7XG4gICAgaWYgKGxpc3RlbmVycy5vbmNlKSB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcnMuZm4sIHVuZGVmaW5lZCwgdHJ1ZSk7XG5cbiAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgY2FzZSAxOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQpLCB0cnVlO1xuICAgICAgY2FzZSAyOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExKSwgdHJ1ZTtcbiAgICAgIGNhc2UgMzogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIpLCB0cnVlO1xuICAgICAgY2FzZSA0OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMpLCB0cnVlO1xuICAgICAgY2FzZSA1OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMsIGE0KSwgdHJ1ZTtcbiAgICAgIGNhc2UgNjogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzLCBhNCwgYTUpLCB0cnVlO1xuICAgIH1cblxuICAgIGZvciAoaSA9IDEsIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0xKTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICB9XG5cbiAgICBsaXN0ZW5lcnMuZm4uYXBwbHkobGlzdGVuZXJzLmNvbnRleHQsIGFyZ3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoXG4gICAgICAsIGo7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChsaXN0ZW5lcnNbaV0ub25jZSkgdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudCwgbGlzdGVuZXJzW2ldLmZuLCB1bmRlZmluZWQsIHRydWUpO1xuXG4gICAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgICBjYXNlIDE6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0KTsgYnJlYWs7XG4gICAgICAgIGNhc2UgMjogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgMzogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExLCBhMik7IGJyZWFrO1xuICAgICAgICBjYXNlIDQ6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSwgYTIsIGEzKTsgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaWYgKCFhcmdzKSBmb3IgKGogPSAxLCBhcmdzID0gbmV3IEFycmF5KGxlbiAtMSk7IGogPCBsZW47IGorKykge1xuICAgICAgICAgICAgYXJnc1tqIC0gMV0gPSBhcmd1bWVudHNbal07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGlzdGVuZXJzW2ldLmZuLmFwcGx5KGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhcmdzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qKlxuICogQWRkIGEgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBbY29udGV4dD10aGlzXSBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBmdW5jdGlvbiBvbihldmVudCwgZm4sIGNvbnRleHQpIHtcbiAgcmV0dXJuIGFkZExpc3RlbmVyKHRoaXMsIGV2ZW50LCBmbiwgY29udGV4dCwgZmFsc2UpO1xufTtcblxuLyoqXG4gKiBBZGQgYSBvbmUtdGltZSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IFtjb250ZXh0PXRoaXNdIFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gb25jZShldmVudCwgZm4sIGNvbnRleHQpIHtcbiAgcmV0dXJuIGFkZExpc3RlbmVyKHRoaXMsIGV2ZW50LCBmbiwgY29udGV4dCwgdHJ1ZSk7XG59O1xuXG4vKipcbiAqIFJlbW92ZSB0aGUgbGlzdGVuZXJzIG9mIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gT25seSByZW1vdmUgdGhlIGxpc3RlbmVycyB0aGF0IG1hdGNoIHRoaXMgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IGNvbnRleHQgT25seSByZW1vdmUgdGhlIGxpc3RlbmVycyB0aGF0IGhhdmUgdGhpcyBjb250ZXh0LlxuICogQHBhcmFtIHtCb29sZWFufSBvbmNlIE9ubHkgcmVtb3ZlIG9uZS10aW1lIGxpc3RlbmVycy5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKGV2ZW50LCBmbiwgY29udGV4dCwgb25jZSkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1tldnRdKSByZXR1cm4gdGhpcztcbiAgaWYgKCFmbikge1xuICAgIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAobGlzdGVuZXJzLmZuKSB7XG4gICAgaWYgKFxuICAgICAgbGlzdGVuZXJzLmZuID09PSBmbiAmJlxuICAgICAgKCFvbmNlIHx8IGxpc3RlbmVycy5vbmNlKSAmJlxuICAgICAgKCFjb250ZXh0IHx8IGxpc3RlbmVycy5jb250ZXh0ID09PSBjb250ZXh0KVxuICAgICkge1xuICAgICAgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciBpID0gMCwgZXZlbnRzID0gW10sIGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKFxuICAgICAgICBsaXN0ZW5lcnNbaV0uZm4gIT09IGZuIHx8XG4gICAgICAgIChvbmNlICYmICFsaXN0ZW5lcnNbaV0ub25jZSkgfHxcbiAgICAgICAgKGNvbnRleHQgJiYgbGlzdGVuZXJzW2ldLmNvbnRleHQgIT09IGNvbnRleHQpXG4gICAgICApIHtcbiAgICAgICAgZXZlbnRzLnB1c2gobGlzdGVuZXJzW2ldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvL1xuICAgIC8vIFJlc2V0IHRoZSBhcnJheSwgb3IgcmVtb3ZlIGl0IGNvbXBsZXRlbHkgaWYgd2UgaGF2ZSBubyBtb3JlIGxpc3RlbmVycy5cbiAgICAvL1xuICAgIGlmIChldmVudHMubGVuZ3RoKSB0aGlzLl9ldmVudHNbZXZ0XSA9IGV2ZW50cy5sZW5ndGggPT09IDEgPyBldmVudHNbMF0gOiBldmVudHM7XG4gICAgZWxzZSBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVtb3ZlIGFsbCBsaXN0ZW5lcnMsIG9yIHRob3NlIG9mIHRoZSBzcGVjaWZpZWQgZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IFtldmVudF0gVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24gcmVtb3ZlQWxsTGlzdGVuZXJzKGV2ZW50KSB7XG4gIHZhciBldnQ7XG5cbiAgaWYgKGV2ZW50KSB7XG4gICAgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcbiAgICBpZiAodGhpcy5fZXZlbnRzW2V2dF0pIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vL1xuLy8gQWxpYXMgbWV0aG9kcyBuYW1lcyBiZWNhdXNlIHBlb3BsZSByb2xsIGxpa2UgdGhhdC5cbi8vXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbjtcblxuLy9cbi8vIEV4cG9zZSB0aGUgcHJlZml4LlxuLy9cbkV2ZW50RW1pdHRlci5wcmVmaXhlZCA9IHByZWZpeDtcblxuLy9cbi8vIEFsbG93IGBFdmVudEVtaXR0ZXJgIHRvIGJlIGltcG9ydGVkIGFzIG1vZHVsZSBuYW1lc3BhY2UuXG4vL1xuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuLy9cbi8vIEV4cG9zZSB0aGUgbW9kdWxlLlxuLy9cbmlmICgndW5kZWZpbmVkJyAhPT0gdHlwZW9mIG1vZHVsZSkge1xuICBtb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBlYXJjdXQ7XG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gZWFyY3V0O1xuXG5mdW5jdGlvbiBlYXJjdXQoZGF0YSwgaG9sZUluZGljZXMsIGRpbSkge1xuXG4gICAgZGltID0gZGltIHx8IDI7XG5cbiAgICB2YXIgaGFzSG9sZXMgPSBob2xlSW5kaWNlcyAmJiBob2xlSW5kaWNlcy5sZW5ndGgsXG4gICAgICAgIG91dGVyTGVuID0gaGFzSG9sZXMgPyBob2xlSW5kaWNlc1swXSAqIGRpbSA6IGRhdGEubGVuZ3RoLFxuICAgICAgICBvdXRlck5vZGUgPSBsaW5rZWRMaXN0KGRhdGEsIDAsIG91dGVyTGVuLCBkaW0sIHRydWUpLFxuICAgICAgICB0cmlhbmdsZXMgPSBbXTtcblxuICAgIGlmICghb3V0ZXJOb2RlIHx8IG91dGVyTm9kZS5uZXh0ID09PSBvdXRlck5vZGUucHJldikgcmV0dXJuIHRyaWFuZ2xlcztcblxuICAgIHZhciBtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZLCB4LCB5LCBpbnZTaXplO1xuXG4gICAgaWYgKGhhc0hvbGVzKSBvdXRlck5vZGUgPSBlbGltaW5hdGVIb2xlcyhkYXRhLCBob2xlSW5kaWNlcywgb3V0ZXJOb2RlLCBkaW0pO1xuXG4gICAgLy8gaWYgdGhlIHNoYXBlIGlzIG5vdCB0b28gc2ltcGxlLCB3ZSdsbCB1c2Ugei1vcmRlciBjdXJ2ZSBoYXNoIGxhdGVyOyBjYWxjdWxhdGUgcG9seWdvbiBiYm94XG4gICAgaWYgKGRhdGEubGVuZ3RoID4gODAgKiBkaW0pIHtcbiAgICAgICAgbWluWCA9IG1heFggPSBkYXRhWzBdO1xuICAgICAgICBtaW5ZID0gbWF4WSA9IGRhdGFbMV07XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IGRpbTsgaSA8IG91dGVyTGVuOyBpICs9IGRpbSkge1xuICAgICAgICAgICAgeCA9IGRhdGFbaV07XG4gICAgICAgICAgICB5ID0gZGF0YVtpICsgMV07XG4gICAgICAgICAgICBpZiAoeCA8IG1pblgpIG1pblggPSB4O1xuICAgICAgICAgICAgaWYgKHkgPCBtaW5ZKSBtaW5ZID0geTtcbiAgICAgICAgICAgIGlmICh4ID4gbWF4WCkgbWF4WCA9IHg7XG4gICAgICAgICAgICBpZiAoeSA+IG1heFkpIG1heFkgPSB5O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbWluWCwgbWluWSBhbmQgaW52U2l6ZSBhcmUgbGF0ZXIgdXNlZCB0byB0cmFuc2Zvcm0gY29vcmRzIGludG8gaW50ZWdlcnMgZm9yIHotb3JkZXIgY2FsY3VsYXRpb25cbiAgICAgICAgaW52U2l6ZSA9IE1hdGgubWF4KG1heFggLSBtaW5YLCBtYXhZIC0gbWluWSk7XG4gICAgICAgIGludlNpemUgPSBpbnZTaXplICE9PSAwID8gMSAvIGludlNpemUgOiAwO1xuICAgIH1cblxuICAgIGVhcmN1dExpbmtlZChvdXRlck5vZGUsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcblxuICAgIHJldHVybiB0cmlhbmdsZXM7XG59XG5cbi8vIGNyZWF0ZSBhIGNpcmN1bGFyIGRvdWJseSBsaW5rZWQgbGlzdCBmcm9tIHBvbHlnb24gcG9pbnRzIGluIHRoZSBzcGVjaWZpZWQgd2luZGluZyBvcmRlclxuZnVuY3Rpb24gbGlua2VkTGlzdChkYXRhLCBzdGFydCwgZW5kLCBkaW0sIGNsb2Nrd2lzZSkge1xuICAgIHZhciBpLCBsYXN0O1xuXG4gICAgaWYgKGNsb2Nrd2lzZSA9PT0gKHNpZ25lZEFyZWEoZGF0YSwgc3RhcnQsIGVuZCwgZGltKSA+IDApKSB7XG4gICAgICAgIGZvciAoaSA9IHN0YXJ0OyBpIDwgZW5kOyBpICs9IGRpbSkgbGFzdCA9IGluc2VydE5vZGUoaSwgZGF0YVtpXSwgZGF0YVtpICsgMV0sIGxhc3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAoaSA9IGVuZCAtIGRpbTsgaSA+PSBzdGFydDsgaSAtPSBkaW0pIGxhc3QgPSBpbnNlcnROb2RlKGksIGRhdGFbaV0sIGRhdGFbaSArIDFdLCBsYXN0KTtcbiAgICB9XG5cbiAgICBpZiAobGFzdCAmJiBlcXVhbHMobGFzdCwgbGFzdC5uZXh0KSkge1xuICAgICAgICByZW1vdmVOb2RlKGxhc3QpO1xuICAgICAgICBsYXN0ID0gbGFzdC5uZXh0O1xuICAgIH1cblxuICAgIHJldHVybiBsYXN0O1xufVxuXG4vLyBlbGltaW5hdGUgY29saW5lYXIgb3IgZHVwbGljYXRlIHBvaW50c1xuZnVuY3Rpb24gZmlsdGVyUG9pbnRzKHN0YXJ0LCBlbmQpIHtcbiAgICBpZiAoIXN0YXJ0KSByZXR1cm4gc3RhcnQ7XG4gICAgaWYgKCFlbmQpIGVuZCA9IHN0YXJ0O1xuXG4gICAgdmFyIHAgPSBzdGFydCxcbiAgICAgICAgYWdhaW47XG4gICAgZG8ge1xuICAgICAgICBhZ2FpbiA9IGZhbHNlO1xuXG4gICAgICAgIGlmICghcC5zdGVpbmVyICYmIChlcXVhbHMocCwgcC5uZXh0KSB8fCBhcmVhKHAucHJldiwgcCwgcC5uZXh0KSA9PT0gMCkpIHtcbiAgICAgICAgICAgIHJlbW92ZU5vZGUocCk7XG4gICAgICAgICAgICBwID0gZW5kID0gcC5wcmV2O1xuICAgICAgICAgICAgaWYgKHAgPT09IHAubmV4dCkgYnJlYWs7XG4gICAgICAgICAgICBhZ2FpbiA9IHRydWU7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHAgPSBwLm5leHQ7XG4gICAgICAgIH1cbiAgICB9IHdoaWxlIChhZ2FpbiB8fCBwICE9PSBlbmQpO1xuXG4gICAgcmV0dXJuIGVuZDtcbn1cblxuLy8gbWFpbiBlYXIgc2xpY2luZyBsb29wIHdoaWNoIHRyaWFuZ3VsYXRlcyBhIHBvbHlnb24gKGdpdmVuIGFzIGEgbGlua2VkIGxpc3QpXG5mdW5jdGlvbiBlYXJjdXRMaW5rZWQoZWFyLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSwgcGFzcykge1xuICAgIGlmICghZWFyKSByZXR1cm47XG5cbiAgICAvLyBpbnRlcmxpbmsgcG9seWdvbiBub2RlcyBpbiB6LW9yZGVyXG4gICAgaWYgKCFwYXNzICYmIGludlNpemUpIGluZGV4Q3VydmUoZWFyLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcblxuICAgIHZhciBzdG9wID0gZWFyLFxuICAgICAgICBwcmV2LCBuZXh0O1xuXG4gICAgLy8gaXRlcmF0ZSB0aHJvdWdoIGVhcnMsIHNsaWNpbmcgdGhlbSBvbmUgYnkgb25lXG4gICAgd2hpbGUgKGVhci5wcmV2ICE9PSBlYXIubmV4dCkge1xuICAgICAgICBwcmV2ID0gZWFyLnByZXY7XG4gICAgICAgIG5leHQgPSBlYXIubmV4dDtcblxuICAgICAgICBpZiAoaW52U2l6ZSA/IGlzRWFySGFzaGVkKGVhciwgbWluWCwgbWluWSwgaW52U2l6ZSkgOiBpc0VhcihlYXIpKSB7XG4gICAgICAgICAgICAvLyBjdXQgb2ZmIHRoZSB0cmlhbmdsZVxuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2gocHJldi5pIC8gZGltKTtcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKGVhci5pIC8gZGltKTtcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKG5leHQuaSAvIGRpbSk7XG5cbiAgICAgICAgICAgIHJlbW92ZU5vZGUoZWFyKTtcblxuICAgICAgICAgICAgLy8gc2tpcHBpbmcgdGhlIG5leHQgdmVydGV4IGxlYWRzIHRvIGxlc3Mgc2xpdmVyIHRyaWFuZ2xlc1xuICAgICAgICAgICAgZWFyID0gbmV4dC5uZXh0O1xuICAgICAgICAgICAgc3RvcCA9IG5leHQubmV4dDtcblxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBlYXIgPSBuZXh0O1xuXG4gICAgICAgIC8vIGlmIHdlIGxvb3BlZCB0aHJvdWdoIHRoZSB3aG9sZSByZW1haW5pbmcgcG9seWdvbiBhbmQgY2FuJ3QgZmluZCBhbnkgbW9yZSBlYXJzXG4gICAgICAgIGlmIChlYXIgPT09IHN0b3ApIHtcbiAgICAgICAgICAgIC8vIHRyeSBmaWx0ZXJpbmcgcG9pbnRzIGFuZCBzbGljaW5nIGFnYWluXG4gICAgICAgICAgICBpZiAoIXBhc3MpIHtcbiAgICAgICAgICAgICAgICBlYXJjdXRMaW5rZWQoZmlsdGVyUG9pbnRzKGVhciksIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplLCAxKTtcblxuICAgICAgICAgICAgLy8gaWYgdGhpcyBkaWRuJ3Qgd29yaywgdHJ5IGN1cmluZyBhbGwgc21hbGwgc2VsZi1pbnRlcnNlY3Rpb25zIGxvY2FsbHlcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGFzcyA9PT0gMSkge1xuICAgICAgICAgICAgICAgIGVhciA9IGN1cmVMb2NhbEludGVyc2VjdGlvbnMoZmlsdGVyUG9pbnRzKGVhciksIHRyaWFuZ2xlcywgZGltKTtcbiAgICAgICAgICAgICAgICBlYXJjdXRMaW5rZWQoZWFyLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSwgMik7XG5cbiAgICAgICAgICAgIC8vIGFzIGEgbGFzdCByZXNvcnQsIHRyeSBzcGxpdHRpbmcgdGhlIHJlbWFpbmluZyBwb2x5Z29uIGludG8gdHdvXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBhc3MgPT09IDIpIHtcbiAgICAgICAgICAgICAgICBzcGxpdEVhcmN1dChlYXIsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIGNoZWNrIHdoZXRoZXIgYSBwb2x5Z29uIG5vZGUgZm9ybXMgYSB2YWxpZCBlYXIgd2l0aCBhZGphY2VudCBub2Rlc1xuZnVuY3Rpb24gaXNFYXIoZWFyKSB7XG4gICAgdmFyIGEgPSBlYXIucHJldixcbiAgICAgICAgYiA9IGVhcixcbiAgICAgICAgYyA9IGVhci5uZXh0O1xuXG4gICAgaWYgKGFyZWEoYSwgYiwgYykgPj0gMCkgcmV0dXJuIGZhbHNlOyAvLyByZWZsZXgsIGNhbid0IGJlIGFuIGVhclxuXG4gICAgLy8gbm93IG1ha2Ugc3VyZSB3ZSBkb24ndCBoYXZlIG90aGVyIHBvaW50cyBpbnNpZGUgdGhlIHBvdGVudGlhbCBlYXJcbiAgICB2YXIgcCA9IGVhci5uZXh0Lm5leHQ7XG5cbiAgICB3aGlsZSAocCAhPT0gZWFyLnByZXYpIHtcbiAgICAgICAgaWYgKHBvaW50SW5UcmlhbmdsZShhLngsIGEueSwgYi54LCBiLnksIGMueCwgYy55LCBwLngsIHAueSkgJiZcbiAgICAgICAgICAgIGFyZWEocC5wcmV2LCBwLCBwLm5leHQpID49IDApIHJldHVybiBmYWxzZTtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gaXNFYXJIYXNoZWQoZWFyLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSB7XG4gICAgdmFyIGEgPSBlYXIucHJldixcbiAgICAgICAgYiA9IGVhcixcbiAgICAgICAgYyA9IGVhci5uZXh0O1xuXG4gICAgaWYgKGFyZWEoYSwgYiwgYykgPj0gMCkgcmV0dXJuIGZhbHNlOyAvLyByZWZsZXgsIGNhbid0IGJlIGFuIGVhclxuXG4gICAgLy8gdHJpYW5nbGUgYmJveDsgbWluICYgbWF4IGFyZSBjYWxjdWxhdGVkIGxpa2UgdGhpcyBmb3Igc3BlZWRcbiAgICB2YXIgbWluVFggPSBhLnggPCBiLnggPyAoYS54IDwgYy54ID8gYS54IDogYy54KSA6IChiLnggPCBjLnggPyBiLnggOiBjLngpLFxuICAgICAgICBtaW5UWSA9IGEueSA8IGIueSA/IChhLnkgPCBjLnkgPyBhLnkgOiBjLnkpIDogKGIueSA8IGMueSA/IGIueSA6IGMueSksXG4gICAgICAgIG1heFRYID0gYS54ID4gYi54ID8gKGEueCA+IGMueCA/IGEueCA6IGMueCkgOiAoYi54ID4gYy54ID8gYi54IDogYy54KSxcbiAgICAgICAgbWF4VFkgPSBhLnkgPiBiLnkgPyAoYS55ID4gYy55ID8gYS55IDogYy55KSA6IChiLnkgPiBjLnkgPyBiLnkgOiBjLnkpO1xuXG4gICAgLy8gei1vcmRlciByYW5nZSBmb3IgdGhlIGN1cnJlbnQgdHJpYW5nbGUgYmJveDtcbiAgICB2YXIgbWluWiA9IHpPcmRlcihtaW5UWCwgbWluVFksIG1pblgsIG1pblksIGludlNpemUpLFxuICAgICAgICBtYXhaID0gek9yZGVyKG1heFRYLCBtYXhUWSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG5cbiAgICB2YXIgcCA9IGVhci5wcmV2WixcbiAgICAgICAgbiA9IGVhci5uZXh0WjtcblxuICAgIC8vIGxvb2sgZm9yIHBvaW50cyBpbnNpZGUgdGhlIHRyaWFuZ2xlIGluIGJvdGggZGlyZWN0aW9uc1xuICAgIHdoaWxlIChwICYmIHAueiA+PSBtaW5aICYmIG4gJiYgbi56IDw9IG1heFopIHtcbiAgICAgICAgaWYgKHAgIT09IGVhci5wcmV2ICYmIHAgIT09IGVhci5uZXh0ICYmXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYS54LCBhLnksIGIueCwgYi55LCBjLngsIGMueSwgcC54LCBwLnkpICYmXG4gICAgICAgICAgICBhcmVhKHAucHJldiwgcCwgcC5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHAgPSBwLnByZXZaO1xuXG4gICAgICAgIGlmIChuICE9PSBlYXIucHJldiAmJiBuICE9PSBlYXIubmV4dCAmJlxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGEueCwgYS55LCBiLngsIGIueSwgYy54LCBjLnksIG4ueCwgbi55KSAmJlxuICAgICAgICAgICAgYXJlYShuLnByZXYsIG4sIG4ubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBuID0gbi5uZXh0WjtcbiAgICB9XG5cbiAgICAvLyBsb29rIGZvciByZW1haW5pbmcgcG9pbnRzIGluIGRlY3JlYXNpbmcgei1vcmRlclxuICAgIHdoaWxlIChwICYmIHAueiA+PSBtaW5aKSB7XG4gICAgICAgIGlmIChwICE9PSBlYXIucHJldiAmJiBwICE9PSBlYXIubmV4dCAmJlxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGEueCwgYS55LCBiLngsIGIueSwgYy54LCBjLnksIHAueCwgcC55KSAmJlxuICAgICAgICAgICAgYXJlYShwLnByZXYsIHAsIHAubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBwID0gcC5wcmV2WjtcbiAgICB9XG5cbiAgICAvLyBsb29rIGZvciByZW1haW5pbmcgcG9pbnRzIGluIGluY3JlYXNpbmcgei1vcmRlclxuICAgIHdoaWxlIChuICYmIG4ueiA8PSBtYXhaKSB7XG4gICAgICAgIGlmIChuICE9PSBlYXIucHJldiAmJiBuICE9PSBlYXIubmV4dCAmJlxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGEueCwgYS55LCBiLngsIGIueSwgYy54LCBjLnksIG4ueCwgbi55KSAmJlxuICAgICAgICAgICAgYXJlYShuLnByZXYsIG4sIG4ubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBuID0gbi5uZXh0WjtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuLy8gZ28gdGhyb3VnaCBhbGwgcG9seWdvbiBub2RlcyBhbmQgY3VyZSBzbWFsbCBsb2NhbCBzZWxmLWludGVyc2VjdGlvbnNcbmZ1bmN0aW9uIGN1cmVMb2NhbEludGVyc2VjdGlvbnMoc3RhcnQsIHRyaWFuZ2xlcywgZGltKSB7XG4gICAgdmFyIHAgPSBzdGFydDtcbiAgICBkbyB7XG4gICAgICAgIHZhciBhID0gcC5wcmV2LFxuICAgICAgICAgICAgYiA9IHAubmV4dC5uZXh0O1xuXG4gICAgICAgIGlmICghZXF1YWxzKGEsIGIpICYmIGludGVyc2VjdHMoYSwgcCwgcC5uZXh0LCBiKSAmJiBsb2NhbGx5SW5zaWRlKGEsIGIpICYmIGxvY2FsbHlJbnNpZGUoYiwgYSkpIHtcblxuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2goYS5pIC8gZGltKTtcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKHAuaSAvIGRpbSk7XG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChiLmkgLyBkaW0pO1xuXG4gICAgICAgICAgICAvLyByZW1vdmUgdHdvIG5vZGVzIGludm9sdmVkXG4gICAgICAgICAgICByZW1vdmVOb2RlKHApO1xuICAgICAgICAgICAgcmVtb3ZlTm9kZShwLm5leHQpO1xuXG4gICAgICAgICAgICBwID0gc3RhcnQgPSBiO1xuICAgICAgICB9XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gc3RhcnQpO1xuXG4gICAgcmV0dXJuIGZpbHRlclBvaW50cyhwKTtcbn1cblxuLy8gdHJ5IHNwbGl0dGluZyBwb2x5Z29uIGludG8gdHdvIGFuZCB0cmlhbmd1bGF0ZSB0aGVtIGluZGVwZW5kZW50bHlcbmZ1bmN0aW9uIHNwbGl0RWFyY3V0KHN0YXJ0LCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSkge1xuICAgIC8vIGxvb2sgZm9yIGEgdmFsaWQgZGlhZ29uYWwgdGhhdCBkaXZpZGVzIHRoZSBwb2x5Z29uIGludG8gdHdvXG4gICAgdmFyIGEgPSBzdGFydDtcbiAgICBkbyB7XG4gICAgICAgIHZhciBiID0gYS5uZXh0Lm5leHQ7XG4gICAgICAgIHdoaWxlIChiICE9PSBhLnByZXYpIHtcbiAgICAgICAgICAgIGlmIChhLmkgIT09IGIuaSAmJiBpc1ZhbGlkRGlhZ29uYWwoYSwgYikpIHtcbiAgICAgICAgICAgICAgICAvLyBzcGxpdCB0aGUgcG9seWdvbiBpbiB0d28gYnkgdGhlIGRpYWdvbmFsXG4gICAgICAgICAgICAgICAgdmFyIGMgPSBzcGxpdFBvbHlnb24oYSwgYik7XG5cbiAgICAgICAgICAgICAgICAvLyBmaWx0ZXIgY29saW5lYXIgcG9pbnRzIGFyb3VuZCB0aGUgY3V0c1xuICAgICAgICAgICAgICAgIGEgPSBmaWx0ZXJQb2ludHMoYSwgYS5uZXh0KTtcbiAgICAgICAgICAgICAgICBjID0gZmlsdGVyUG9pbnRzKGMsIGMubmV4dCk7XG5cbiAgICAgICAgICAgICAgICAvLyBydW4gZWFyY3V0IG9uIGVhY2ggaGFsZlxuICAgICAgICAgICAgICAgIGVhcmN1dExpbmtlZChhLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG4gICAgICAgICAgICAgICAgZWFyY3V0TGlua2VkKGMsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBiID0gYi5uZXh0O1xuICAgICAgICB9XG4gICAgICAgIGEgPSBhLm5leHQ7XG4gICAgfSB3aGlsZSAoYSAhPT0gc3RhcnQpO1xufVxuXG4vLyBsaW5rIGV2ZXJ5IGhvbGUgaW50byB0aGUgb3V0ZXIgbG9vcCwgcHJvZHVjaW5nIGEgc2luZ2xlLXJpbmcgcG9seWdvbiB3aXRob3V0IGhvbGVzXG5mdW5jdGlvbiBlbGltaW5hdGVIb2xlcyhkYXRhLCBob2xlSW5kaWNlcywgb3V0ZXJOb2RlLCBkaW0pIHtcbiAgICB2YXIgcXVldWUgPSBbXSxcbiAgICAgICAgaSwgbGVuLCBzdGFydCwgZW5kLCBsaXN0O1xuXG4gICAgZm9yIChpID0gMCwgbGVuID0gaG9sZUluZGljZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgc3RhcnQgPSBob2xlSW5kaWNlc1tpXSAqIGRpbTtcbiAgICAgICAgZW5kID0gaSA8IGxlbiAtIDEgPyBob2xlSW5kaWNlc1tpICsgMV0gKiBkaW0gOiBkYXRhLmxlbmd0aDtcbiAgICAgICAgbGlzdCA9IGxpbmtlZExpc3QoZGF0YSwgc3RhcnQsIGVuZCwgZGltLCBmYWxzZSk7XG4gICAgICAgIGlmIChsaXN0ID09PSBsaXN0Lm5leHQpIGxpc3Quc3RlaW5lciA9IHRydWU7XG4gICAgICAgIHF1ZXVlLnB1c2goZ2V0TGVmdG1vc3QobGlzdCkpO1xuICAgIH1cblxuICAgIHF1ZXVlLnNvcnQoY29tcGFyZVgpO1xuXG4gICAgLy8gcHJvY2VzcyBob2xlcyBmcm9tIGxlZnQgdG8gcmlnaHRcbiAgICBmb3IgKGkgPSAwOyBpIDwgcXVldWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZWxpbWluYXRlSG9sZShxdWV1ZVtpXSwgb3V0ZXJOb2RlKTtcbiAgICAgICAgb3V0ZXJOb2RlID0gZmlsdGVyUG9pbnRzKG91dGVyTm9kZSwgb3V0ZXJOb2RlLm5leHQpO1xuICAgIH1cblxuICAgIHJldHVybiBvdXRlck5vZGU7XG59XG5cbmZ1bmN0aW9uIGNvbXBhcmVYKGEsIGIpIHtcbiAgICByZXR1cm4gYS54IC0gYi54O1xufVxuXG4vLyBmaW5kIGEgYnJpZGdlIGJldHdlZW4gdmVydGljZXMgdGhhdCBjb25uZWN0cyBob2xlIHdpdGggYW4gb3V0ZXIgcmluZyBhbmQgYW5kIGxpbmsgaXRcbmZ1bmN0aW9uIGVsaW1pbmF0ZUhvbGUoaG9sZSwgb3V0ZXJOb2RlKSB7XG4gICAgb3V0ZXJOb2RlID0gZmluZEhvbGVCcmlkZ2UoaG9sZSwgb3V0ZXJOb2RlKTtcbiAgICBpZiAob3V0ZXJOb2RlKSB7XG4gICAgICAgIHZhciBiID0gc3BsaXRQb2x5Z29uKG91dGVyTm9kZSwgaG9sZSk7XG4gICAgICAgIGZpbHRlclBvaW50cyhiLCBiLm5leHQpO1xuICAgIH1cbn1cblxuLy8gRGF2aWQgRWJlcmx5J3MgYWxnb3JpdGhtIGZvciBmaW5kaW5nIGEgYnJpZGdlIGJldHdlZW4gaG9sZSBhbmQgb3V0ZXIgcG9seWdvblxuZnVuY3Rpb24gZmluZEhvbGVCcmlkZ2UoaG9sZSwgb3V0ZXJOb2RlKSB7XG4gICAgdmFyIHAgPSBvdXRlck5vZGUsXG4gICAgICAgIGh4ID0gaG9sZS54LFxuICAgICAgICBoeSA9IGhvbGUueSxcbiAgICAgICAgcXggPSAtSW5maW5pdHksXG4gICAgICAgIG07XG5cbiAgICAvLyBmaW5kIGEgc2VnbWVudCBpbnRlcnNlY3RlZCBieSBhIHJheSBmcm9tIHRoZSBob2xlJ3MgbGVmdG1vc3QgcG9pbnQgdG8gdGhlIGxlZnQ7XG4gICAgLy8gc2VnbWVudCdzIGVuZHBvaW50IHdpdGggbGVzc2VyIHggd2lsbCBiZSBwb3RlbnRpYWwgY29ubmVjdGlvbiBwb2ludFxuICAgIGRvIHtcbiAgICAgICAgaWYgKGh5IDw9IHAueSAmJiBoeSA+PSBwLm5leHQueSAmJiBwLm5leHQueSAhPT0gcC55KSB7XG4gICAgICAgICAgICB2YXIgeCA9IHAueCArIChoeSAtIHAueSkgKiAocC5uZXh0LnggLSBwLngpIC8gKHAubmV4dC55IC0gcC55KTtcbiAgICAgICAgICAgIGlmICh4IDw9IGh4ICYmIHggPiBxeCkge1xuICAgICAgICAgICAgICAgIHF4ID0geDtcbiAgICAgICAgICAgICAgICBpZiAoeCA9PT0gaHgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGh5ID09PSBwLnkpIHJldHVybiBwO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaHkgPT09IHAubmV4dC55KSByZXR1cm4gcC5uZXh0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBtID0gcC54IDwgcC5uZXh0LnggPyBwIDogcC5uZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gb3V0ZXJOb2RlKTtcblxuICAgIGlmICghbSkgcmV0dXJuIG51bGw7XG5cbiAgICBpZiAoaHggPT09IHF4KSByZXR1cm4gbTsgLy8gaG9sZSB0b3VjaGVzIG91dGVyIHNlZ21lbnQ7IHBpY2sgbGVmdG1vc3QgZW5kcG9pbnRcblxuICAgIC8vIGxvb2sgZm9yIHBvaW50cyBpbnNpZGUgdGhlIHRyaWFuZ2xlIG9mIGhvbGUgcG9pbnQsIHNlZ21lbnQgaW50ZXJzZWN0aW9uIGFuZCBlbmRwb2ludDtcbiAgICAvLyBpZiB0aGVyZSBhcmUgbm8gcG9pbnRzIGZvdW5kLCB3ZSBoYXZlIGEgdmFsaWQgY29ubmVjdGlvbjtcbiAgICAvLyBvdGhlcndpc2UgY2hvb3NlIHRoZSBwb2ludCBvZiB0aGUgbWluaW11bSBhbmdsZSB3aXRoIHRoZSByYXkgYXMgY29ubmVjdGlvbiBwb2ludFxuXG4gICAgdmFyIHN0b3AgPSBtLFxuICAgICAgICBteCA9IG0ueCxcbiAgICAgICAgbXkgPSBtLnksXG4gICAgICAgIHRhbk1pbiA9IEluZmluaXR5LFxuICAgICAgICB0YW47XG5cbiAgICBwID0gbTtcblxuICAgIGRvIHtcbiAgICAgICAgaWYgKGh4ID49IHAueCAmJiBwLnggPj0gbXggJiYgaHggIT09IHAueCAmJlxuICAgICAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShoeSA8IG15ID8gaHggOiBxeCwgaHksIG14LCBteSwgaHkgPCBteSA/IHF4IDogaHgsIGh5LCBwLngsIHAueSkpIHtcblxuICAgICAgICAgICAgdGFuID0gTWF0aC5hYnMoaHkgLSBwLnkpIC8gKGh4IC0gcC54KTsgLy8gdGFuZ2VudGlhbFxuXG4gICAgICAgICAgICBpZiAobG9jYWxseUluc2lkZShwLCBob2xlKSAmJlxuICAgICAgICAgICAgICAgICh0YW4gPCB0YW5NaW4gfHwgKHRhbiA9PT0gdGFuTWluICYmIChwLnggPiBtLnggfHwgKHAueCA9PT0gbS54ICYmIHNlY3RvckNvbnRhaW5zU2VjdG9yKG0sIHApKSkpKSkge1xuICAgICAgICAgICAgICAgIG0gPSBwO1xuICAgICAgICAgICAgICAgIHRhbk1pbiA9IHRhbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gc3RvcCk7XG5cbiAgICByZXR1cm4gbTtcbn1cblxuLy8gd2hldGhlciBzZWN0b3IgaW4gdmVydGV4IG0gY29udGFpbnMgc2VjdG9yIGluIHZlcnRleCBwIGluIHRoZSBzYW1lIGNvb3JkaW5hdGVzXG5mdW5jdGlvbiBzZWN0b3JDb250YWluc1NlY3RvcihtLCBwKSB7XG4gICAgcmV0dXJuIGFyZWEobS5wcmV2LCBtLCBwLnByZXYpIDwgMCAmJiBhcmVhKHAubmV4dCwgbSwgbS5uZXh0KSA8IDA7XG59XG5cbi8vIGludGVybGluayBwb2x5Z29uIG5vZGVzIGluIHotb3JkZXJcbmZ1bmN0aW9uIGluZGV4Q3VydmUoc3RhcnQsIG1pblgsIG1pblksIGludlNpemUpIHtcbiAgICB2YXIgcCA9IHN0YXJ0O1xuICAgIGRvIHtcbiAgICAgICAgaWYgKHAueiA9PT0gbnVsbCkgcC56ID0gek9yZGVyKHAueCwgcC55LCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcbiAgICAgICAgcC5wcmV2WiA9IHAucHJldjtcbiAgICAgICAgcC5uZXh0WiA9IHAubmV4dDtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBzdGFydCk7XG5cbiAgICBwLnByZXZaLm5leHRaID0gbnVsbDtcbiAgICBwLnByZXZaID0gbnVsbDtcblxuICAgIHNvcnRMaW5rZWQocCk7XG59XG5cbi8vIFNpbW9uIFRhdGhhbSdzIGxpbmtlZCBsaXN0IG1lcmdlIHNvcnQgYWxnb3JpdGhtXG4vLyBodHRwOi8vd3d3LmNoaWFyay5ncmVlbmVuZC5vcmcudWsvfnNndGF0aGFtL2FsZ29yaXRobXMvbGlzdHNvcnQuaHRtbFxuZnVuY3Rpb24gc29ydExpbmtlZChsaXN0KSB7XG4gICAgdmFyIGksIHAsIHEsIGUsIHRhaWwsIG51bU1lcmdlcywgcFNpemUsIHFTaXplLFxuICAgICAgICBpblNpemUgPSAxO1xuXG4gICAgZG8ge1xuICAgICAgICBwID0gbGlzdDtcbiAgICAgICAgbGlzdCA9IG51bGw7XG4gICAgICAgIHRhaWwgPSBudWxsO1xuICAgICAgICBudW1NZXJnZXMgPSAwO1xuXG4gICAgICAgIHdoaWxlIChwKSB7XG4gICAgICAgICAgICBudW1NZXJnZXMrKztcbiAgICAgICAgICAgIHEgPSBwO1xuICAgICAgICAgICAgcFNpemUgPSAwO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGluU2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcFNpemUrKztcbiAgICAgICAgICAgICAgICBxID0gcS5uZXh0WjtcbiAgICAgICAgICAgICAgICBpZiAoIXEpIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcVNpemUgPSBpblNpemU7XG5cbiAgICAgICAgICAgIHdoaWxlIChwU2l6ZSA+IDAgfHwgKHFTaXplID4gMCAmJiBxKSkge1xuXG4gICAgICAgICAgICAgICAgaWYgKHBTaXplICE9PSAwICYmIChxU2l6ZSA9PT0gMCB8fCAhcSB8fCBwLnogPD0gcS56KSkge1xuICAgICAgICAgICAgICAgICAgICBlID0gcDtcbiAgICAgICAgICAgICAgICAgICAgcCA9IHAubmV4dFo7XG4gICAgICAgICAgICAgICAgICAgIHBTaXplLS07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZSA9IHE7XG4gICAgICAgICAgICAgICAgICAgIHEgPSBxLm5leHRaO1xuICAgICAgICAgICAgICAgICAgICBxU2l6ZS0tO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0YWlsKSB0YWlsLm5leHRaID0gZTtcbiAgICAgICAgICAgICAgICBlbHNlIGxpc3QgPSBlO1xuXG4gICAgICAgICAgICAgICAgZS5wcmV2WiA9IHRhaWw7XG4gICAgICAgICAgICAgICAgdGFpbCA9IGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHAgPSBxO1xuICAgICAgICB9XG5cbiAgICAgICAgdGFpbC5uZXh0WiA9IG51bGw7XG4gICAgICAgIGluU2l6ZSAqPSAyO1xuXG4gICAgfSB3aGlsZSAobnVtTWVyZ2VzID4gMSk7XG5cbiAgICByZXR1cm4gbGlzdDtcbn1cblxuLy8gei1vcmRlciBvZiBhIHBvaW50IGdpdmVuIGNvb3JkcyBhbmQgaW52ZXJzZSBvZiB0aGUgbG9uZ2VyIHNpZGUgb2YgZGF0YSBiYm94XG5mdW5jdGlvbiB6T3JkZXIoeCwgeSwgbWluWCwgbWluWSwgaW52U2l6ZSkge1xuICAgIC8vIGNvb3JkcyBhcmUgdHJhbnNmb3JtZWQgaW50byBub24tbmVnYXRpdmUgMTUtYml0IGludGVnZXIgcmFuZ2VcbiAgICB4ID0gMzI3NjcgKiAoeCAtIG1pblgpICogaW52U2l6ZTtcbiAgICB5ID0gMzI3NjcgKiAoeSAtIG1pblkpICogaW52U2l6ZTtcblxuICAgIHggPSAoeCB8ICh4IDw8IDgpKSAmIDB4MDBGRjAwRkY7XG4gICAgeCA9ICh4IHwgKHggPDwgNCkpICYgMHgwRjBGMEYwRjtcbiAgICB4ID0gKHggfCAoeCA8PCAyKSkgJiAweDMzMzMzMzMzO1xuICAgIHggPSAoeCB8ICh4IDw8IDEpKSAmIDB4NTU1NTU1NTU7XG5cbiAgICB5ID0gKHkgfCAoeSA8PCA4KSkgJiAweDAwRkYwMEZGO1xuICAgIHkgPSAoeSB8ICh5IDw8IDQpKSAmIDB4MEYwRjBGMEY7XG4gICAgeSA9ICh5IHwgKHkgPDwgMikpICYgMHgzMzMzMzMzMztcbiAgICB5ID0gKHkgfCAoeSA8PCAxKSkgJiAweDU1NTU1NTU1O1xuXG4gICAgcmV0dXJuIHggfCAoeSA8PCAxKTtcbn1cblxuLy8gZmluZCB0aGUgbGVmdG1vc3Qgbm9kZSBvZiBhIHBvbHlnb24gcmluZ1xuZnVuY3Rpb24gZ2V0TGVmdG1vc3Qoc3RhcnQpIHtcbiAgICB2YXIgcCA9IHN0YXJ0LFxuICAgICAgICBsZWZ0bW9zdCA9IHN0YXJ0O1xuICAgIGRvIHtcbiAgICAgICAgaWYgKHAueCA8IGxlZnRtb3N0LnggfHwgKHAueCA9PT0gbGVmdG1vc3QueCAmJiBwLnkgPCBsZWZ0bW9zdC55KSkgbGVmdG1vc3QgPSBwO1xuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IHN0YXJ0KTtcblxuICAgIHJldHVybiBsZWZ0bW9zdDtcbn1cblxuLy8gY2hlY2sgaWYgYSBwb2ludCBsaWVzIHdpdGhpbiBhIGNvbnZleCB0cmlhbmdsZVxuZnVuY3Rpb24gcG9pbnRJblRyaWFuZ2xlKGF4LCBheSwgYngsIGJ5LCBjeCwgY3ksIHB4LCBweSkge1xuICAgIHJldHVybiAoY3ggLSBweCkgKiAoYXkgLSBweSkgLSAoYXggLSBweCkgKiAoY3kgLSBweSkgPj0gMCAmJlxuICAgICAgICAgICAoYXggLSBweCkgKiAoYnkgLSBweSkgLSAoYnggLSBweCkgKiAoYXkgLSBweSkgPj0gMCAmJlxuICAgICAgICAgICAoYnggLSBweCkgKiAoY3kgLSBweSkgLSAoY3ggLSBweCkgKiAoYnkgLSBweSkgPj0gMDtcbn1cblxuLy8gY2hlY2sgaWYgYSBkaWFnb25hbCBiZXR3ZWVuIHR3byBwb2x5Z29uIG5vZGVzIGlzIHZhbGlkIChsaWVzIGluIHBvbHlnb24gaW50ZXJpb3IpXG5mdW5jdGlvbiBpc1ZhbGlkRGlhZ29uYWwoYSwgYikge1xuICAgIHJldHVybiBhLm5leHQuaSAhPT0gYi5pICYmIGEucHJldi5pICE9PSBiLmkgJiYgIWludGVyc2VjdHNQb2x5Z29uKGEsIGIpICYmIC8vIGRvbmVzJ3QgaW50ZXJzZWN0IG90aGVyIGVkZ2VzXG4gICAgICAgICAgIChsb2NhbGx5SW5zaWRlKGEsIGIpICYmIGxvY2FsbHlJbnNpZGUoYiwgYSkgJiYgbWlkZGxlSW5zaWRlKGEsIGIpICYmIC8vIGxvY2FsbHkgdmlzaWJsZVxuICAgICAgICAgICAgKGFyZWEoYS5wcmV2LCBhLCBiLnByZXYpIHx8IGFyZWEoYSwgYi5wcmV2LCBiKSkgfHwgLy8gZG9lcyBub3QgY3JlYXRlIG9wcG9zaXRlLWZhY2luZyBzZWN0b3JzXG4gICAgICAgICAgICBlcXVhbHMoYSwgYikgJiYgYXJlYShhLnByZXYsIGEsIGEubmV4dCkgPiAwICYmIGFyZWEoYi5wcmV2LCBiLCBiLm5leHQpID4gMCk7IC8vIHNwZWNpYWwgemVyby1sZW5ndGggY2FzZVxufVxuXG4vLyBzaWduZWQgYXJlYSBvZiBhIHRyaWFuZ2xlXG5mdW5jdGlvbiBhcmVhKHAsIHEsIHIpIHtcbiAgICByZXR1cm4gKHEueSAtIHAueSkgKiAoci54IC0gcS54KSAtIChxLnggLSBwLngpICogKHIueSAtIHEueSk7XG59XG5cbi8vIGNoZWNrIGlmIHR3byBwb2ludHMgYXJlIGVxdWFsXG5mdW5jdGlvbiBlcXVhbHMocDEsIHAyKSB7XG4gICAgcmV0dXJuIHAxLnggPT09IHAyLnggJiYgcDEueSA9PT0gcDIueTtcbn1cblxuLy8gY2hlY2sgaWYgdHdvIHNlZ21lbnRzIGludGVyc2VjdFxuZnVuY3Rpb24gaW50ZXJzZWN0cyhwMSwgcTEsIHAyLCBxMikge1xuICAgIHZhciBvMSA9IHNpZ24oYXJlYShwMSwgcTEsIHAyKSk7XG4gICAgdmFyIG8yID0gc2lnbihhcmVhKHAxLCBxMSwgcTIpKTtcbiAgICB2YXIgbzMgPSBzaWduKGFyZWEocDIsIHEyLCBwMSkpO1xuICAgIHZhciBvNCA9IHNpZ24oYXJlYShwMiwgcTIsIHExKSk7XG5cbiAgICBpZiAobzEgIT09IG8yICYmIG8zICE9PSBvNCkgcmV0dXJuIHRydWU7IC8vIGdlbmVyYWwgY2FzZVxuXG4gICAgaWYgKG8xID09PSAwICYmIG9uU2VnbWVudChwMSwgcDIsIHExKSkgcmV0dXJuIHRydWU7IC8vIHAxLCBxMSBhbmQgcDIgYXJlIGNvbGxpbmVhciBhbmQgcDIgbGllcyBvbiBwMXExXG4gICAgaWYgKG8yID09PSAwICYmIG9uU2VnbWVudChwMSwgcTIsIHExKSkgcmV0dXJuIHRydWU7IC8vIHAxLCBxMSBhbmQgcTIgYXJlIGNvbGxpbmVhciBhbmQgcTIgbGllcyBvbiBwMXExXG4gICAgaWYgKG8zID09PSAwICYmIG9uU2VnbWVudChwMiwgcDEsIHEyKSkgcmV0dXJuIHRydWU7IC8vIHAyLCBxMiBhbmQgcDEgYXJlIGNvbGxpbmVhciBhbmQgcDEgbGllcyBvbiBwMnEyXG4gICAgaWYgKG80ID09PSAwICYmIG9uU2VnbWVudChwMiwgcTEsIHEyKSkgcmV0dXJuIHRydWU7IC8vIHAyLCBxMiBhbmQgcTEgYXJlIGNvbGxpbmVhciBhbmQgcTEgbGllcyBvbiBwMnEyXG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8vIGZvciBjb2xsaW5lYXIgcG9pbnRzIHAsIHEsIHIsIGNoZWNrIGlmIHBvaW50IHEgbGllcyBvbiBzZWdtZW50IHByXG5mdW5jdGlvbiBvblNlZ21lbnQocCwgcSwgcikge1xuICAgIHJldHVybiBxLnggPD0gTWF0aC5tYXgocC54LCByLngpICYmIHEueCA+PSBNYXRoLm1pbihwLngsIHIueCkgJiYgcS55IDw9IE1hdGgubWF4KHAueSwgci55KSAmJiBxLnkgPj0gTWF0aC5taW4ocC55LCByLnkpO1xufVxuXG5mdW5jdGlvbiBzaWduKG51bSkge1xuICAgIHJldHVybiBudW0gPiAwID8gMSA6IG51bSA8IDAgPyAtMSA6IDA7XG59XG5cbi8vIGNoZWNrIGlmIGEgcG9seWdvbiBkaWFnb25hbCBpbnRlcnNlY3RzIGFueSBwb2x5Z29uIHNlZ21lbnRzXG5mdW5jdGlvbiBpbnRlcnNlY3RzUG9seWdvbihhLCBiKSB7XG4gICAgdmFyIHAgPSBhO1xuICAgIGRvIHtcbiAgICAgICAgaWYgKHAuaSAhPT0gYS5pICYmIHAubmV4dC5pICE9PSBhLmkgJiYgcC5pICE9PSBiLmkgJiYgcC5uZXh0LmkgIT09IGIuaSAmJlxuICAgICAgICAgICAgICAgIGludGVyc2VjdHMocCwgcC5uZXh0LCBhLCBiKSkgcmV0dXJuIHRydWU7XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gYSk7XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8vIGNoZWNrIGlmIGEgcG9seWdvbiBkaWFnb25hbCBpcyBsb2NhbGx5IGluc2lkZSB0aGUgcG9seWdvblxuZnVuY3Rpb24gbG9jYWxseUluc2lkZShhLCBiKSB7XG4gICAgcmV0dXJuIGFyZWEoYS5wcmV2LCBhLCBhLm5leHQpIDwgMCA/XG4gICAgICAgIGFyZWEoYSwgYiwgYS5uZXh0KSA+PSAwICYmIGFyZWEoYSwgYS5wcmV2LCBiKSA+PSAwIDpcbiAgICAgICAgYXJlYShhLCBiLCBhLnByZXYpIDwgMCB8fCBhcmVhKGEsIGEubmV4dCwgYikgPCAwO1xufVxuXG4vLyBjaGVjayBpZiB0aGUgbWlkZGxlIHBvaW50IG9mIGEgcG9seWdvbiBkaWFnb25hbCBpcyBpbnNpZGUgdGhlIHBvbHlnb25cbmZ1bmN0aW9uIG1pZGRsZUluc2lkZShhLCBiKSB7XG4gICAgdmFyIHAgPSBhLFxuICAgICAgICBpbnNpZGUgPSBmYWxzZSxcbiAgICAgICAgcHggPSAoYS54ICsgYi54KSAvIDIsXG4gICAgICAgIHB5ID0gKGEueSArIGIueSkgLyAyO1xuICAgIGRvIHtcbiAgICAgICAgaWYgKCgocC55ID4gcHkpICE9PSAocC5uZXh0LnkgPiBweSkpICYmIHAubmV4dC55ICE9PSBwLnkgJiZcbiAgICAgICAgICAgICAgICAocHggPCAocC5uZXh0LnggLSBwLngpICogKHB5IC0gcC55KSAvIChwLm5leHQueSAtIHAueSkgKyBwLngpKVxuICAgICAgICAgICAgaW5zaWRlID0gIWluc2lkZTtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBhKTtcblxuICAgIHJldHVybiBpbnNpZGU7XG59XG5cbi8vIGxpbmsgdHdvIHBvbHlnb24gdmVydGljZXMgd2l0aCBhIGJyaWRnZTsgaWYgdGhlIHZlcnRpY2VzIGJlbG9uZyB0byB0aGUgc2FtZSByaW5nLCBpdCBzcGxpdHMgcG9seWdvbiBpbnRvIHR3bztcbi8vIGlmIG9uZSBiZWxvbmdzIHRvIHRoZSBvdXRlciByaW5nIGFuZCBhbm90aGVyIHRvIGEgaG9sZSwgaXQgbWVyZ2VzIGl0IGludG8gYSBzaW5nbGUgcmluZ1xuZnVuY3Rpb24gc3BsaXRQb2x5Z29uKGEsIGIpIHtcbiAgICB2YXIgYTIgPSBuZXcgTm9kZShhLmksIGEueCwgYS55KSxcbiAgICAgICAgYjIgPSBuZXcgTm9kZShiLmksIGIueCwgYi55KSxcbiAgICAgICAgYW4gPSBhLm5leHQsXG4gICAgICAgIGJwID0gYi5wcmV2O1xuXG4gICAgYS5uZXh0ID0gYjtcbiAgICBiLnByZXYgPSBhO1xuXG4gICAgYTIubmV4dCA9IGFuO1xuICAgIGFuLnByZXYgPSBhMjtcblxuICAgIGIyLm5leHQgPSBhMjtcbiAgICBhMi5wcmV2ID0gYjI7XG5cbiAgICBicC5uZXh0ID0gYjI7XG4gICAgYjIucHJldiA9IGJwO1xuXG4gICAgcmV0dXJuIGIyO1xufVxuXG4vLyBjcmVhdGUgYSBub2RlIGFuZCBvcHRpb25hbGx5IGxpbmsgaXQgd2l0aCBwcmV2aW91cyBvbmUgKGluIGEgY2lyY3VsYXIgZG91Ymx5IGxpbmtlZCBsaXN0KVxuZnVuY3Rpb24gaW5zZXJ0Tm9kZShpLCB4LCB5LCBsYXN0KSB7XG4gICAgdmFyIHAgPSBuZXcgTm9kZShpLCB4LCB5KTtcblxuICAgIGlmICghbGFzdCkge1xuICAgICAgICBwLnByZXYgPSBwO1xuICAgICAgICBwLm5leHQgPSBwO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgcC5uZXh0ID0gbGFzdC5uZXh0O1xuICAgICAgICBwLnByZXYgPSBsYXN0O1xuICAgICAgICBsYXN0Lm5leHQucHJldiA9IHA7XG4gICAgICAgIGxhc3QubmV4dCA9IHA7XG4gICAgfVxuICAgIHJldHVybiBwO1xufVxuXG5mdW5jdGlvbiByZW1vdmVOb2RlKHApIHtcbiAgICBwLm5leHQucHJldiA9IHAucHJldjtcbiAgICBwLnByZXYubmV4dCA9IHAubmV4dDtcblxuICAgIGlmIChwLnByZXZaKSBwLnByZXZaLm5leHRaID0gcC5uZXh0WjtcbiAgICBpZiAocC5uZXh0WikgcC5uZXh0Wi5wcmV2WiA9IHAucHJldlo7XG59XG5cbmZ1bmN0aW9uIE5vZGUoaSwgeCwgeSkge1xuICAgIC8vIHZlcnRleCBpbmRleCBpbiBjb29yZGluYXRlcyBhcnJheVxuICAgIHRoaXMuaSA9IGk7XG5cbiAgICAvLyB2ZXJ0ZXggY29vcmRpbmF0ZXNcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG5cbiAgICAvLyBwcmV2aW91cyBhbmQgbmV4dCB2ZXJ0ZXggbm9kZXMgaW4gYSBwb2x5Z29uIHJpbmdcbiAgICB0aGlzLnByZXYgPSBudWxsO1xuICAgIHRoaXMubmV4dCA9IG51bGw7XG5cbiAgICAvLyB6LW9yZGVyIGN1cnZlIHZhbHVlXG4gICAgdGhpcy56ID0gbnVsbDtcblxuICAgIC8vIHByZXZpb3VzIGFuZCBuZXh0IG5vZGVzIGluIHotb3JkZXJcbiAgICB0aGlzLnByZXZaID0gbnVsbDtcbiAgICB0aGlzLm5leHRaID0gbnVsbDtcblxuICAgIC8vIGluZGljYXRlcyB3aGV0aGVyIHRoaXMgaXMgYSBzdGVpbmVyIHBvaW50XG4gICAgdGhpcy5zdGVpbmVyID0gZmFsc2U7XG59XG5cbi8vIHJldHVybiBhIHBlcmNlbnRhZ2UgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSBwb2x5Z29uIGFyZWEgYW5kIGl0cyB0cmlhbmd1bGF0aW9uIGFyZWE7XG4vLyB1c2VkIHRvIHZlcmlmeSBjb3JyZWN0bmVzcyBvZiB0cmlhbmd1bGF0aW9uXG5lYXJjdXQuZGV2aWF0aW9uID0gZnVuY3Rpb24gKGRhdGEsIGhvbGVJbmRpY2VzLCBkaW0sIHRyaWFuZ2xlcykge1xuICAgIHZhciBoYXNIb2xlcyA9IGhvbGVJbmRpY2VzICYmIGhvbGVJbmRpY2VzLmxlbmd0aDtcbiAgICB2YXIgb3V0ZXJMZW4gPSBoYXNIb2xlcyA/IGhvbGVJbmRpY2VzWzBdICogZGltIDogZGF0YS5sZW5ndGg7XG5cbiAgICB2YXIgcG9seWdvbkFyZWEgPSBNYXRoLmFicyhzaWduZWRBcmVhKGRhdGEsIDAsIG91dGVyTGVuLCBkaW0pKTtcbiAgICBpZiAoaGFzSG9sZXMpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGhvbGVJbmRpY2VzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc3RhcnQgPSBob2xlSW5kaWNlc1tpXSAqIGRpbTtcbiAgICAgICAgICAgIHZhciBlbmQgPSBpIDwgbGVuIC0gMSA/IGhvbGVJbmRpY2VzW2kgKyAxXSAqIGRpbSA6IGRhdGEubGVuZ3RoO1xuICAgICAgICAgICAgcG9seWdvbkFyZWEgLT0gTWF0aC5hYnMoc2lnbmVkQXJlYShkYXRhLCBzdGFydCwgZW5kLCBkaW0pKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciB0cmlhbmdsZXNBcmVhID0gMDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgdHJpYW5nbGVzLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgICAgIHZhciBhID0gdHJpYW5nbGVzW2ldICogZGltO1xuICAgICAgICB2YXIgYiA9IHRyaWFuZ2xlc1tpICsgMV0gKiBkaW07XG4gICAgICAgIHZhciBjID0gdHJpYW5nbGVzW2kgKyAyXSAqIGRpbTtcbiAgICAgICAgdHJpYW5nbGVzQXJlYSArPSBNYXRoLmFicyhcbiAgICAgICAgICAgIChkYXRhW2FdIC0gZGF0YVtjXSkgKiAoZGF0YVtiICsgMV0gLSBkYXRhW2EgKyAxXSkgLVxuICAgICAgICAgICAgKGRhdGFbYV0gLSBkYXRhW2JdKSAqIChkYXRhW2MgKyAxXSAtIGRhdGFbYSArIDFdKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBvbHlnb25BcmVhID09PSAwICYmIHRyaWFuZ2xlc0FyZWEgPT09IDAgPyAwIDpcbiAgICAgICAgTWF0aC5hYnMoKHRyaWFuZ2xlc0FyZWEgLSBwb2x5Z29uQXJlYSkgLyBwb2x5Z29uQXJlYSk7XG59O1xuXG5mdW5jdGlvbiBzaWduZWRBcmVhKGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSkge1xuICAgIHZhciBzdW0gPSAwO1xuICAgIGZvciAodmFyIGkgPSBzdGFydCwgaiA9IGVuZCAtIGRpbTsgaSA8IGVuZDsgaSArPSBkaW0pIHtcbiAgICAgICAgc3VtICs9IChkYXRhW2pdIC0gZGF0YVtpXSkgKiAoZGF0YVtpICsgMV0gKyBkYXRhW2ogKyAxXSk7XG4gICAgICAgIGogPSBpO1xuICAgIH1cbiAgICByZXR1cm4gc3VtO1xufVxuXG4vLyB0dXJuIGEgcG9seWdvbiBpbiBhIG11bHRpLWRpbWVuc2lvbmFsIGFycmF5IGZvcm0gKGUuZy4gYXMgaW4gR2VvSlNPTikgaW50byBhIGZvcm0gRWFyY3V0IGFjY2VwdHNcbmVhcmN1dC5mbGF0dGVuID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICB2YXIgZGltID0gZGF0YVswXVswXS5sZW5ndGgsXG4gICAgICAgIHJlc3VsdCA9IHt2ZXJ0aWNlczogW10sIGhvbGVzOiBbXSwgZGltZW5zaW9uczogZGltfSxcbiAgICAgICAgaG9sZUluZGV4ID0gMDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGRhdGFbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGZvciAodmFyIGQgPSAwOyBkIDwgZGltOyBkKyspIHJlc3VsdC52ZXJ0aWNlcy5wdXNoKGRhdGFbaV1bal1bZF0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgICAgaG9sZUluZGV4ICs9IGRhdGFbaSAtIDFdLmxlbmd0aDtcbiAgICAgICAgICAgIHJlc3VsdC5ob2xlcy5wdXNoKGhvbGVJbmRleCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG4iLCIoZnVuY3Rpb24oZ2xvYmFsKXtcblxuLy9cbi8vIENoZWNrIGZvciBuYXRpdmUgUHJvbWlzZSBhbmQgaXQgaGFzIGNvcnJlY3QgaW50ZXJmYWNlXG4vL1xuXG52YXIgTmF0aXZlUHJvbWlzZSA9IGdsb2JhbFsnUHJvbWlzZSddO1xudmFyIG5hdGl2ZVByb21pc2VTdXBwb3J0ZWQgPVxuICBOYXRpdmVQcm9taXNlICYmXG4gIC8vIFNvbWUgb2YgdGhlc2UgbWV0aG9kcyBhcmUgbWlzc2luZyBmcm9tXG4gIC8vIEZpcmVmb3gvQ2hyb21lIGV4cGVyaW1lbnRhbCBpbXBsZW1lbnRhdGlvbnNcbiAgJ3Jlc29sdmUnIGluIE5hdGl2ZVByb21pc2UgJiZcbiAgJ3JlamVjdCcgaW4gTmF0aXZlUHJvbWlzZSAmJlxuICAnYWxsJyBpbiBOYXRpdmVQcm9taXNlICYmXG4gICdyYWNlJyBpbiBOYXRpdmVQcm9taXNlICYmXG4gIC8vIE9sZGVyIHZlcnNpb24gb2YgdGhlIHNwZWMgaGFkIGEgcmVzb2x2ZXIgb2JqZWN0XG4gIC8vIGFzIHRoZSBhcmcgcmF0aGVyIHRoYW4gYSBmdW5jdGlvblxuICAoZnVuY3Rpb24oKXtcbiAgICB2YXIgcmVzb2x2ZTtcbiAgICBuZXcgTmF0aXZlUHJvbWlzZShmdW5jdGlvbihyKXsgcmVzb2x2ZSA9IHI7IH0pO1xuICAgIHJldHVybiB0eXBlb2YgcmVzb2x2ZSA9PT0gJ2Z1bmN0aW9uJztcbiAgfSkoKTtcblxuXG4vL1xuLy8gZXhwb3J0IGlmIG5lY2Vzc2FyeVxuLy9cblxuaWYgKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyAmJiBleHBvcnRzKVxue1xuICAvLyBub2RlLmpzXG4gIGV4cG9ydHMuUHJvbWlzZSA9IG5hdGl2ZVByb21pc2VTdXBwb3J0ZWQgPyBOYXRpdmVQcm9taXNlIDogUHJvbWlzZTtcbiAgZXhwb3J0cy5Qb2x5ZmlsbCA9IFByb21pc2U7XG59XG5lbHNlXG57XG4gIC8vIEFNRFxuICBpZiAodHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG4gIHtcbiAgICBkZWZpbmUoZnVuY3Rpb24oKXtcbiAgICAgIHJldHVybiBuYXRpdmVQcm9taXNlU3VwcG9ydGVkID8gTmF0aXZlUHJvbWlzZSA6IFByb21pc2U7XG4gICAgfSk7XG4gIH1cbiAgZWxzZVxuICB7XG4gICAgLy8gaW4gYnJvd3NlciBhZGQgdG8gZ2xvYmFsXG4gICAgaWYgKCFuYXRpdmVQcm9taXNlU3VwcG9ydGVkKVxuICAgICAgZ2xvYmFsWydQcm9taXNlJ10gPSBQcm9taXNlO1xuICB9XG59XG5cblxuLy9cbi8vIFBvbHlmaWxsXG4vL1xuXG52YXIgUEVORElORyA9ICdwZW5kaW5nJztcbnZhciBTRUFMRUQgPSAnc2VhbGVkJztcbnZhciBGVUxGSUxMRUQgPSAnZnVsZmlsbGVkJztcbnZhciBSRUpFQ1RFRCA9ICdyZWplY3RlZCc7XG52YXIgTk9PUCA9IGZ1bmN0aW9uKCl7fTtcblxuZnVuY3Rpb24gaXNBcnJheSh2YWx1ZSkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbn1cblxuLy8gYXN5bmMgY2FsbHNcbnZhciBhc3luY1NldFRpbWVyID0gdHlwZW9mIHNldEltbWVkaWF0ZSAhPT0gJ3VuZGVmaW5lZCcgPyBzZXRJbW1lZGlhdGUgOiBzZXRUaW1lb3V0O1xudmFyIGFzeW5jUXVldWUgPSBbXTtcbnZhciBhc3luY1RpbWVyO1xuXG5mdW5jdGlvbiBhc3luY0ZsdXNoKCl7XG4gIC8vIHJ1biBwcm9taXNlIGNhbGxiYWNrc1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGFzeW5jUXVldWUubGVuZ3RoOyBpKyspXG4gICAgYXN5bmNRdWV1ZVtpXVswXShhc3luY1F1ZXVlW2ldWzFdKTtcblxuICAvLyByZXNldCBhc3luYyBhc3luY1F1ZXVlXG4gIGFzeW5jUXVldWUgPSBbXTtcbiAgYXN5bmNUaW1lciA9IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBhc3luY0NhbGwoY2FsbGJhY2ssIGFyZyl7XG4gIGFzeW5jUXVldWUucHVzaChbY2FsbGJhY2ssIGFyZ10pO1xuXG4gIGlmICghYXN5bmNUaW1lcilcbiAge1xuICAgIGFzeW5jVGltZXIgPSB0cnVlO1xuICAgIGFzeW5jU2V0VGltZXIoYXN5bmNGbHVzaCwgMCk7XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBpbnZva2VSZXNvbHZlcihyZXNvbHZlciwgcHJvbWlzZSkge1xuICBmdW5jdGlvbiByZXNvbHZlUHJvbWlzZSh2YWx1ZSkge1xuICAgIHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVqZWN0UHJvbWlzZShyZWFzb24pIHtcbiAgICByZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgcmVzb2x2ZXIocmVzb2x2ZVByb21pc2UsIHJlamVjdFByb21pc2UpO1xuICB9IGNhdGNoKGUpIHtcbiAgICByZWplY3RQcm9taXNlKGUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGludm9rZUNhbGxiYWNrKHN1YnNjcmliZXIpe1xuICB2YXIgb3duZXIgPSBzdWJzY3JpYmVyLm93bmVyO1xuICB2YXIgc2V0dGxlZCA9IG93bmVyLnN0YXRlXztcbiAgdmFyIHZhbHVlID0gb3duZXIuZGF0YV87ICBcbiAgdmFyIGNhbGxiYWNrID0gc3Vic2NyaWJlcltzZXR0bGVkXTtcbiAgdmFyIHByb21pc2UgPSBzdWJzY3JpYmVyLnRoZW47XG5cbiAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJylcbiAge1xuICAgIHNldHRsZWQgPSBGVUxGSUxMRUQ7XG4gICAgdHJ5IHtcbiAgICAgIHZhbHVlID0gY2FsbGJhY2sodmFsdWUpO1xuICAgIH0gY2F0Y2goZSkge1xuICAgICAgcmVqZWN0KHByb21pc2UsIGUpO1xuICAgIH1cbiAgfVxuXG4gIGlmICghaGFuZGxlVGhlbmFibGUocHJvbWlzZSwgdmFsdWUpKVxuICB7XG4gICAgaWYgKHNldHRsZWQgPT09IEZVTEZJTExFRClcbiAgICAgIHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuXG4gICAgaWYgKHNldHRsZWQgPT09IFJFSkVDVEVEKVxuICAgICAgcmVqZWN0KHByb21pc2UsIHZhbHVlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGVUaGVuYWJsZShwcm9taXNlLCB2YWx1ZSkge1xuICB2YXIgcmVzb2x2ZWQ7XG5cbiAgdHJ5IHtcbiAgICBpZiAocHJvbWlzZSA9PT0gdmFsdWUpXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBIHByb21pc2VzIGNhbGxiYWNrIGNhbm5vdCByZXR1cm4gdGhhdCBzYW1lIHByb21pc2UuJyk7XG5cbiAgICBpZiAodmFsdWUgJiYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSlcbiAgICB7XG4gICAgICB2YXIgdGhlbiA9IHZhbHVlLnRoZW47ICAvLyB0aGVuIHNob3VsZCBiZSByZXRyaXZlZCBvbmx5IG9uY2VcblxuICAgICAgaWYgKHR5cGVvZiB0aGVuID09PSAnZnVuY3Rpb24nKVxuICAgICAge1xuICAgICAgICB0aGVuLmNhbGwodmFsdWUsIGZ1bmN0aW9uKHZhbCl7XG4gICAgICAgICAgaWYgKCFyZXNvbHZlZClcbiAgICAgICAgICB7XG4gICAgICAgICAgICByZXNvbHZlZCA9IHRydWU7XG5cbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdmFsKVxuICAgICAgICAgICAgICByZXNvbHZlKHByb21pc2UsIHZhbCk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgIGZ1bGZpbGwocHJvbWlzZSwgdmFsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgICAgICAgaWYgKCFyZXNvbHZlZClcbiAgICAgICAgICB7XG4gICAgICAgICAgICByZXNvbHZlZCA9IHRydWU7XG5cbiAgICAgICAgICAgIHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKCFyZXNvbHZlZClcbiAgICAgIHJlamVjdChwcm9taXNlLCBlKTtcblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiByZXNvbHZlKHByb21pc2UsIHZhbHVlKXtcbiAgaWYgKHByb21pc2UgPT09IHZhbHVlIHx8ICFoYW5kbGVUaGVuYWJsZShwcm9taXNlLCB2YWx1ZSkpXG4gICAgZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7XG59XG5cbmZ1bmN0aW9uIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpe1xuICBpZiAocHJvbWlzZS5zdGF0ZV8gPT09IFBFTkRJTkcpXG4gIHtcbiAgICBwcm9taXNlLnN0YXRlXyA9IFNFQUxFRDtcbiAgICBwcm9taXNlLmRhdGFfID0gdmFsdWU7XG5cbiAgICBhc3luY0NhbGwocHVibGlzaEZ1bGZpbGxtZW50LCBwcm9taXNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZWplY3QocHJvbWlzZSwgcmVhc29uKXtcbiAgaWYgKHByb21pc2Uuc3RhdGVfID09PSBQRU5ESU5HKVxuICB7XG4gICAgcHJvbWlzZS5zdGF0ZV8gPSBTRUFMRUQ7XG4gICAgcHJvbWlzZS5kYXRhXyA9IHJlYXNvbjtcblxuICAgIGFzeW5jQ2FsbChwdWJsaXNoUmVqZWN0aW9uLCBwcm9taXNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwdWJsaXNoKHByb21pc2UpIHtcbiAgdmFyIGNhbGxiYWNrcyA9IHByb21pc2UudGhlbl87XG4gIHByb21pc2UudGhlbl8gPSB1bmRlZmluZWQ7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyBpKyspIHtcbiAgICBpbnZva2VDYWxsYmFjayhjYWxsYmFja3NbaV0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2hGdWxmaWxsbWVudChwcm9taXNlKXtcbiAgcHJvbWlzZS5zdGF0ZV8gPSBGVUxGSUxMRUQ7XG4gIHB1Ymxpc2gocHJvbWlzZSk7XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2hSZWplY3Rpb24ocHJvbWlzZSl7XG4gIHByb21pc2Uuc3RhdGVfID0gUkVKRUNURUQ7XG4gIHB1Ymxpc2gocHJvbWlzZSk7XG59XG5cbi8qKlxuKiBAY2xhc3NcbiovXG5mdW5jdGlvbiBQcm9taXNlKHJlc29sdmVyKXtcbiAgaWYgKHR5cGVvZiByZXNvbHZlciAhPT0gJ2Z1bmN0aW9uJylcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQcm9taXNlIGNvbnN0cnVjdG9yIHRha2VzIGEgZnVuY3Rpb24gYXJndW1lbnQnKTtcblxuICBpZiAodGhpcyBpbnN0YW5jZW9mIFByb21pc2UgPT09IGZhbHNlKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ZhaWxlZCB0byBjb25zdHJ1Y3QgXFwnUHJvbWlzZVxcJzogUGxlYXNlIHVzZSB0aGUgXFwnbmV3XFwnIG9wZXJhdG9yLCB0aGlzIG9iamVjdCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uJyk7XG5cbiAgdGhpcy50aGVuXyA9IFtdO1xuXG4gIGludm9rZVJlc29sdmVyKHJlc29sdmVyLCB0aGlzKTtcbn1cblxuUHJvbWlzZS5wcm90b3R5cGUgPSB7XG4gIGNvbnN0cnVjdG9yOiBQcm9taXNlLFxuXG4gIHN0YXRlXzogUEVORElORyxcbiAgdGhlbl86IG51bGwsXG4gIGRhdGFfOiB1bmRlZmluZWQsXG5cbiAgdGhlbjogZnVuY3Rpb24ob25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pe1xuICAgIHZhciBzdWJzY3JpYmVyID0ge1xuICAgICAgb3duZXI6IHRoaXMsXG4gICAgICB0aGVuOiBuZXcgdGhpcy5jb25zdHJ1Y3RvcihOT09QKSxcbiAgICAgIGZ1bGZpbGxlZDogb25GdWxmaWxsbWVudCxcbiAgICAgIHJlamVjdGVkOiBvblJlamVjdGlvblxuICAgIH07XG5cbiAgICBpZiAodGhpcy5zdGF0ZV8gPT09IEZVTEZJTExFRCB8fCB0aGlzLnN0YXRlXyA9PT0gUkVKRUNURUQpXG4gICAge1xuICAgICAgLy8gYWxyZWFkeSByZXNvbHZlZCwgY2FsbCBjYWxsYmFjayBhc3luY1xuICAgICAgYXN5bmNDYWxsKGludm9rZUNhbGxiYWNrLCBzdWJzY3JpYmVyKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgIC8vIHN1YnNjcmliZVxuICAgICAgdGhpcy50aGVuXy5wdXNoKHN1YnNjcmliZXIpO1xuICAgIH1cblxuICAgIHJldHVybiBzdWJzY3JpYmVyLnRoZW47XG4gIH0sXG5cbiAgJ2NhdGNoJzogZnVuY3Rpb24ob25SZWplY3Rpb24pIHtcbiAgICByZXR1cm4gdGhpcy50aGVuKG51bGwsIG9uUmVqZWN0aW9uKTtcbiAgfVxufTtcblxuUHJvbWlzZS5hbGwgPSBmdW5jdGlvbihwcm9taXNlcyl7XG4gIHZhciBDbGFzcyA9IHRoaXM7XG5cbiAgaWYgKCFpc0FycmF5KHByb21pc2VzKSlcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdZb3UgbXVzdCBwYXNzIGFuIGFycmF5IHRvIFByb21pc2UuYWxsKCkuJyk7XG5cbiAgcmV0dXJuIG5ldyBDbGFzcyhmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHZhciByZXN1bHRzID0gW107XG4gICAgdmFyIHJlbWFpbmluZyA9IDA7XG5cbiAgICBmdW5jdGlvbiByZXNvbHZlcihpbmRleCl7XG4gICAgICByZW1haW5pbmcrKztcbiAgICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSl7XG4gICAgICAgIHJlc3VsdHNbaW5kZXhdID0gdmFsdWU7XG4gICAgICAgIGlmICghLS1yZW1haW5pbmcpXG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHRzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDAsIHByb21pc2U7IGkgPCBwcm9taXNlcy5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICBwcm9taXNlID0gcHJvbWlzZXNbaV07XG5cbiAgICAgIGlmIChwcm9taXNlICYmIHR5cGVvZiBwcm9taXNlLnRoZW4gPT09ICdmdW5jdGlvbicpXG4gICAgICAgIHByb21pc2UudGhlbihyZXNvbHZlcihpKSwgcmVqZWN0KTtcbiAgICAgIGVsc2VcbiAgICAgICAgcmVzdWx0c1tpXSA9IHByb21pc2U7XG4gICAgfVxuXG4gICAgaWYgKCFyZW1haW5pbmcpXG4gICAgICByZXNvbHZlKHJlc3VsdHMpO1xuICB9KTtcbn07XG5cblByb21pc2UucmFjZSA9IGZ1bmN0aW9uKHByb21pc2VzKXtcbiAgdmFyIENsYXNzID0gdGhpcztcblxuICBpZiAoIWlzQXJyYXkocHJvbWlzZXMpKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1lvdSBtdXN0IHBhc3MgYW4gYXJyYXkgdG8gUHJvbWlzZS5yYWNlKCkuJyk7XG5cbiAgcmV0dXJuIG5ldyBDbGFzcyhmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgcHJvbWlzZTsgaSA8IHByb21pc2VzLmxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgIHByb21pc2UgPSBwcm9taXNlc1tpXTtcblxuICAgICAgaWYgKHByb21pc2UgJiYgdHlwZW9mIHByb21pc2UudGhlbiA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgcHJvbWlzZS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICBlbHNlXG4gICAgICAgIHJlc29sdmUocHJvbWlzZSk7XG4gICAgfVxuICB9KTtcbn07XG5cblByb21pc2UucmVzb2x2ZSA9IGZ1bmN0aW9uKHZhbHVlKXtcbiAgdmFyIENsYXNzID0gdGhpcztcblxuICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gQ2xhc3MpXG4gICAgcmV0dXJuIHZhbHVlO1xuXG4gIHJldHVybiBuZXcgQ2xhc3MoZnVuY3Rpb24ocmVzb2x2ZSl7XG4gICAgcmVzb2x2ZSh2YWx1ZSk7XG4gIH0pO1xufTtcblxuUHJvbWlzZS5yZWplY3QgPSBmdW5jdGlvbihyZWFzb24pe1xuICB2YXIgQ2xhc3MgPSB0aGlzO1xuXG4gIHJldHVybiBuZXcgQ2xhc3MoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICByZWplY3QocmVhc29uKTtcbiAgfSk7XG59O1xuXG59KSh0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnID8gd2luZG93IDogdHlwZW9mIGdsb2JhbCAhPSAndW5kZWZpbmVkJyA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9ICd1bmRlZmluZWQnID8gc2VsZiA6IHRoaXMpO1xuIiwiLypcbm9iamVjdC1hc3NpZ25cbihjKSBTaW5kcmUgU29yaHVzXG5AbGljZW5zZSBNSVRcbiovXG5cbid1c2Ugc3RyaWN0Jztcbi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG52YXIgZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgcHJvcElzRW51bWVyYWJsZSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG5cbmZ1bmN0aW9uIHRvT2JqZWN0KHZhbCkge1xuXHRpZiAodmFsID09PSBudWxsIHx8IHZhbCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0LmFzc2lnbiBjYW5ub3QgYmUgY2FsbGVkIHdpdGggbnVsbCBvciB1bmRlZmluZWQnKTtcblx0fVxuXG5cdHJldHVybiBPYmplY3QodmFsKTtcbn1cblxuZnVuY3Rpb24gc2hvdWxkVXNlTmF0aXZlKCkge1xuXHR0cnkge1xuXHRcdGlmICghT2JqZWN0LmFzc2lnbikge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIERldGVjdCBidWdneSBwcm9wZXJ0eSBlbnVtZXJhdGlvbiBvcmRlciBpbiBvbGRlciBWOCB2ZXJzaW9ucy5cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTQxMThcblx0XHR2YXIgdGVzdDEgPSBuZXcgU3RyaW5nKCdhYmMnKTsgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3LXdyYXBwZXJzXG5cdFx0dGVzdDFbNV0gPSAnZGUnO1xuXHRcdGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0ZXN0MSlbMF0gPT09ICc1Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMwNTZcblx0XHR2YXIgdGVzdDIgPSB7fTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IDEwOyBpKyspIHtcblx0XHRcdHRlc3QyWydfJyArIFN0cmluZy5mcm9tQ2hhckNvZGUoaSldID0gaTtcblx0XHR9XG5cdFx0dmFyIG9yZGVyMiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QyKS5tYXAoZnVuY3Rpb24gKG4pIHtcblx0XHRcdHJldHVybiB0ZXN0MltuXTtcblx0XHR9KTtcblx0XHRpZiAob3JkZXIyLmpvaW4oJycpICE9PSAnMDEyMzQ1Njc4OScpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMDU2XG5cdFx0dmFyIHRlc3QzID0ge307XG5cdFx0J2FiY2RlZmdoaWprbG1ub3BxcnN0Jy5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbiAobGV0dGVyKSB7XG5cdFx0XHR0ZXN0M1tsZXR0ZXJdID0gbGV0dGVyO1xuXHRcdH0pO1xuXHRcdGlmIChPYmplY3Qua2V5cyhPYmplY3QuYXNzaWduKHt9LCB0ZXN0MykpLmpvaW4oJycpICE9PVxuXHRcdFx0XHQnYWJjZGVmZ2hpamtsbW5vcHFyc3QnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdC8vIFdlIGRvbid0IGV4cGVjdCBhbnkgb2YgdGhlIGFib3ZlIHRvIHRocm93LCBidXQgYmV0dGVyIHRvIGJlIHNhZmUuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2hvdWxkVXNlTmF0aXZlKCkgPyBPYmplY3QuYXNzaWduIDogZnVuY3Rpb24gKHRhcmdldCwgc291cmNlKSB7XG5cdHZhciBmcm9tO1xuXHR2YXIgdG8gPSB0b09iamVjdCh0YXJnZXQpO1xuXHR2YXIgc3ltYm9scztcblxuXHRmb3IgKHZhciBzID0gMTsgcyA8IGFyZ3VtZW50cy5sZW5ndGg7IHMrKykge1xuXHRcdGZyb20gPSBPYmplY3QoYXJndW1lbnRzW3NdKTtcblxuXHRcdGZvciAodmFyIGtleSBpbiBmcm9tKSB7XG5cdFx0XHRpZiAoaGFzT3duUHJvcGVydHkuY2FsbChmcm9tLCBrZXkpKSB7XG5cdFx0XHRcdHRvW2tleV0gPSBmcm9tW2tleV07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGdldE93blByb3BlcnR5U3ltYm9scykge1xuXHRcdFx0c3ltYm9scyA9IGdldE93blByb3BlcnR5U3ltYm9scyhmcm9tKTtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3ltYm9scy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZiAocHJvcElzRW51bWVyYWJsZS5jYWxsKGZyb20sIHN5bWJvbHNbaV0pKSB7XG5cdFx0XHRcdFx0dG9bc3ltYm9sc1tpXV0gPSBmcm9tW3N5bWJvbHNbaV1dO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRvO1xufTtcbiIsImltcG9ydCB7IEFwcGxpY2F0aW9uLCBDb250YWluZXIsIEdyYXBoaWNzLCBTcHJpdGUsIFRleHQgfSBmcm9tIFwicGl4aS5qc1wiO1xyXG5pbXBvcnQgeyBHbG9iYWwgfSBmcm9tIFwiLi9nbG9iYWxcIjtcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpPT57XHJcbiAgICAvLyBTZXQgdGhlIHRpdGxlIHRvIHRoZSBudW1iZXIgb2YgaGF0cyBldmVyeSAxMCBzZWNvbmRzXHJcbiAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBgVGhlIEhhdCBTdG9hciBDbGlja2VyOiAke0dsb2JhbC5udW1iZXJPZkhhdHN9IGhhdHNgO1xyXG4gICAgfSwgMTAwMDApO1xyXG5cclxuICAgIC8vIENyZWF0ZSB3aW5kb3dcclxuICAgIGNvbnN0IGFwcCA9IG5ldyBBcHBsaWNhdGlvbih7XHJcbiAgICAgICAgYW50aWFsaWFzOiB0cnVlLFxyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogMHhGRkZGRkYsXHJcbiAgICAgICAgcmVzaXplVG86IHdpbmRvd1xyXG4gICAgfSk7XHJcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGFwcC52aWV3KTtcclxuXHJcbiAgICAvLyBDcmVhdGUgc3RhdCBjb250YWluZXIgJiBzdGF0IGVsZW1lbnRzXHJcbiAgICBjb25zdCBzdGF0Q29udGFpbmVyID0gbmV3IENvbnRhaW5lcigpO1xyXG4gICAgYXBwLnN0YWdlLmFkZENoaWxkKHN0YXRDb250YWluZXIpO1xyXG5cclxuICAgIGNvbnN0IHN0YXRSZWN0YW5nbGUgPSBuZXcgR3JhcGhpY3MoKTtcclxuICAgIHN0YXRSZWN0YW5nbGUubGluZVN0eWxlKDEwLCAweDAwMDAwMCwgMSk7XHJcbiAgICBzdGF0UmVjdGFuZ2xlLmJlZ2luRmlsbCgweEFBQUFBQSk7XHJcbiAgICBzdGF0UmVjdGFuZ2xlLmRyYXdSZWN0KC01LCAtNSwgMzUwLCAxMDApO1xyXG4gICAgc3RhdFJlY3RhbmdsZS5lbmRGaWxsKCk7XHJcbiAgICBzdGF0Q29udGFpbmVyLmFkZENoaWxkKHN0YXRSZWN0YW5nbGUpO1xyXG4gICAgXHJcbiAgICBjb25zdCBpbmRpY2F0b3JUZXh0U3R5bGUgPSB7XHJcbiAgICAgICAgYWxpZ246IFwiY2VudGVyXCIsXHJcbiAgICAgICAgZm9udEZhbWlseTogXCJDb3JiZWxcIixcclxuICAgICAgICBmb250U2l6ZTogMzIsXHJcbiAgICAgICAgZmlsbDogMHgwMDAwMDBcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgaGF0c0luZGljYXRvciA9IG5ldyBUZXh0KGBIYXRzOiAke0dsb2JhbC5udW1iZXJPZkhhdHN9YCwgaW5kaWNhdG9yVGV4dFN0eWxlKTtcclxuICAgIGhhdHNJbmRpY2F0b3IucG9zaXRpb24uc2V0KDEwLCAxMCk7XHJcbiAgICBzdGF0Q29udGFpbmVyLmFkZENoaWxkKGhhdHNJbmRpY2F0b3IpO1xyXG5cclxuICAgIGNvbnN0IGhhdHNQZXJDbGlja0luZGljYXRvciA9IG5ldyBUZXh0KGBIYXRzIHBlciBjbGljazogJHtHbG9iYWwuaGF0c1BlckNsaWNrfWAsIGluZGljYXRvclRleHRTdHlsZSk7XHJcbiAgICBoYXRzUGVyQ2xpY2tJbmRpY2F0b3IucG9zaXRpb24uc2V0KDEwLCA1MCk7XHJcbiAgICBzdGF0Q29udGFpbmVyLmFkZENoaWxkKGhhdHNQZXJDbGlja0luZGljYXRvcik7XHJcblxyXG4gICAgLy8gQ3JlYXRlIGZsYXZvdXIgdGV4dFxyXG4gICAgY29uc3QgZmxhdm91clRleHRDb250YWluZXIgPSBuZXcgQ29udGFpbmVyKCk7XHJcbiAgICBmbGF2b3VyVGV4dENvbnRhaW5lci5wb3NpdGlvbi5zZXQoYXBwLnNjcmVlbi53aWR0aCAvIDIgLSAzNTAsIGFwcC5zY3JlZW4uaGVpZ2h0IC0gNjUpO1xyXG4gICAgYXBwLnN0YWdlLmFkZENoaWxkKGZsYXZvdXJUZXh0Q29udGFpbmVyKTtcclxuXHJcbiAgICBjb25zdCBmbGF2b3VyVGV4dFJlY3RhbmdsZSA9IG5ldyBHcmFwaGljcygpO1xyXG4gICAgZmxhdm91clRleHRSZWN0YW5nbGUubGluZVN0eWxlKDEwLCAweDAwMDAwMCwgMSk7XHJcbiAgICBmbGF2b3VyVGV4dFJlY3RhbmdsZS5iZWdpbkZpbGwoMHhBQUFBQUEpO1xyXG4gICAgZmxhdm91clRleHRSZWN0YW5nbGUuZHJhd1JlY3QoMCwgMCwgNzAwLCA2MCk7XHJcbiAgICBmbGF2b3VyVGV4dFJlY3RhbmdsZS5lbmRGaWxsKCk7XHJcbiAgICBmbGF2b3VyVGV4dFJlY3RhbmdsZS5waXZvdC5zZXQoZmxhdm91clRleHRSZWN0YW5nbGUueCwgZmxhdm91clRleHRSZWN0YW5nbGUueSk7XHJcbiAgICBmbGF2b3VyVGV4dENvbnRhaW5lci5hZGRDaGlsZChmbGF2b3VyVGV4dFJlY3RhbmdsZSk7XHJcblxyXG4gICAgY29uc3QgZmxhdm91clRleHQgPSBuZXcgVGV4dChcIkdvIHR3byBUaGUgSGF0IFN0b2FyIVwiLCBpbmRpY2F0b3JUZXh0U3R5bGUpO1xyXG4gICAgZmxhdm91clRleHQucG9zaXRpb24uc2V0KDEwLCAxMCk7XHJcbiAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgZmxhdm91clRleHQudGV4dCA9IEdsb2JhbC5mbGF2b3VyVGV4dFtNYXRoLnRydW5jKE1hdGgucmFuZG9tKCkgKiBHbG9iYWwuZmxhdm91clRleHQubGVuZ3RoKV07XHJcbiAgICB9LCAxNTAwMCk7XHJcbiAgICBmbGF2b3VyVGV4dENvbnRhaW5lci5hZGRDaGlsZChmbGF2b3VyVGV4dCk7XHJcblxyXG4gICAgLy8gQ3JlYXRlIGNsaWNrYWJsZSBoYXRcclxuICAgIGNvbnN0IGhhdFNwcml0ZSA9IFNwcml0ZS5mcm9tKFwiLi9pbWFnZXMvSEFUVCBNQU5OLnBuZ1wiKTtcclxuICAgIGhhdFNwcml0ZS5hbmNob3Iuc2V0KDAuNSwgMC41KTtcclxuICAgIGhhdFNwcml0ZS5wb3NpdGlvbi5zZXQoYXBwLnNjcmVlbi53aWR0aCAvIDIgLSBoYXRTcHJpdGUud2lkdGggLyAyLCBhcHAuc2NyZWVuLmhlaWdodCAvIDIgLSBoYXRTcHJpdGUuaGVpZ2h0IC0gMik7XHJcbiAgICBoYXRTcHJpdGUuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0ICogMC41O1xyXG4gICAgaGF0U3ByaXRlLndpZHRoID0gd2luZG93LmlubmVySGVpZ2h0ICogMC4yNjY2NjY2NjY2NjtcclxuICAgIGFwcC5zdGFnZS5hZGRDaGlsZChoYXRTcHJpdGUpO1xyXG5cclxuICAgIGhhdFNwcml0ZS5pbnRlcmFjdGl2ZSA9IHRydWU7XHJcbiAgICBoYXRTcHJpdGUuYnV0dG9uTW9kZSA9IHRydWU7XHJcbiAgICBoYXRTcHJpdGUub24oXCJwb2ludGVyZG93blwiLCAoKSA9PiB7XHJcbiAgICAgICAgR2xvYmFsLm51bWJlck9mSGF0cyArPSBHbG9iYWwuaGF0c1BlckNsaWNrO1xyXG4gICAgICAgIGhhdHNJbmRpY2F0b3IudGV4dCA9IGBIYXRzOiAke1N0cmluZyhHbG9iYWwubnVtYmVyT2ZIYXRzKX1gO1xyXG4gICAgfSk7XHJcbn0sIGZhbHNlKTsiLCIvKiFcbiAqIEBwaXhpL3BvbHlmaWxsIC0gdjUuMS4wXG4gKiBDb21waWxlZCBGcmksIDE5IEp1bCAyMDE5IDIxOjU0OjM2IFVUQ1xuICpcbiAqIEBwaXhpL3BvbHlmaWxsIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgUG9seWZpbGwgfSBmcm9tICdlczYtcHJvbWlzZS1wb2x5ZmlsbCc7XG5pbXBvcnQgb2JqZWN0QXNzaWduIGZyb20gJ29iamVjdC1hc3NpZ24nO1xuXG4vLyBTdXBwb3J0IGZvciBJRSA5IC0gMTEgd2hpY2ggZG9lcyBub3QgaW5jbHVkZSBQcm9taXNlc1xuaWYgKCF3aW5kb3cuUHJvbWlzZSlcbntcbiAgICB3aW5kb3cuUHJvbWlzZSA9IFBvbHlmaWxsO1xufVxuXG4vLyBSZWZlcmVuY2VzOlxuXG5pZiAoIU9iamVjdC5hc3NpZ24pXG57XG4gICAgT2JqZWN0LmFzc2lnbiA9IG9iamVjdEFzc2lnbjtcbn1cblxudmFyIGNvbW1vbmpzR2xvYmFsID0gdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsVGhpcyA6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDoge307XG5cbi8vIFJlZmVyZW5jZXM6XG4vLyBodHRwOi8vcGF1bGlyaXNoLmNvbS8yMDExL3JlcXVlc3RhbmltYXRpb25mcmFtZS1mb3Itc21hcnQtYW5pbWF0aW5nL1xuLy8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vMTU3OTY3MVxuLy8gaHR0cDovL3VwZGF0ZXMuaHRtbDVyb2Nrcy5jb20vMjAxMi8wNS9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUtQVBJLW5vdy13aXRoLXN1Yi1taWxsaXNlY29uZC1wcmVjaXNpb25cbi8vIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL3RpbWhhbGwvNDA3ODYxNFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL0ZpbmFuY2lhbC1UaW1lcy9wb2x5ZmlsbC1zZXJ2aWNlL3RyZWUvbWFzdGVyL3BvbHlmaWxscy9yZXF1ZXN0QW5pbWF0aW9uRnJhbWVcblxuLy8gRXhwZWN0ZWQgdG8gYmUgdXNlZCB3aXRoIEJyb3dzZXJmaXlcbi8vIEJyb3dzZXJpZnkgYXV0b21hdGljYWxseSBkZXRlY3RzIHRoZSB1c2Ugb2YgYGdsb2JhbGAgYW5kIHBhc3NlcyB0aGVcbi8vIGNvcnJlY3QgcmVmZXJlbmNlIG9mIGBnbG9iYWxgLCBgc2VsZmAsIGFuZCBmaW5hbGx5IGB3aW5kb3dgXG5cbnZhciBPTkVfRlJBTUVfVElNRSA9IDE2O1xuXG4vLyBEYXRlLm5vd1xuaWYgKCEoRGF0ZS5ub3cgJiYgRGF0ZS5wcm90b3R5cGUuZ2V0VGltZSkpXG57XG4gICAgRGF0ZS5ub3cgPSBmdW5jdGlvbiBub3coKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIH07XG59XG5cbi8vIHBlcmZvcm1hbmNlLm5vd1xuaWYgKCEoY29tbW9uanNHbG9iYWwucGVyZm9ybWFuY2UgJiYgY29tbW9uanNHbG9iYWwucGVyZm9ybWFuY2Uubm93KSlcbntcbiAgICB2YXIgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcblxuICAgIGlmICghY29tbW9uanNHbG9iYWwucGVyZm9ybWFuY2UpXG4gICAge1xuICAgICAgICBjb21tb25qc0dsb2JhbC5wZXJmb3JtYW5jZSA9IHt9O1xuICAgIH1cblxuICAgIGNvbW1vbmpzR2xvYmFsLnBlcmZvcm1hbmNlLm5vdyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIERhdGUubm93KCkgLSBzdGFydFRpbWU7IH07XG59XG5cbi8vIHJlcXVlc3RBbmltYXRpb25GcmFtZVxudmFyIGxhc3RUaW1lID0gRGF0ZS5ub3coKTtcbnZhciB2ZW5kb3JzID0gWydtcycsICdtb3onLCAnd2Via2l0JywgJ28nXTtcblxuZm9yICh2YXIgeCA9IDA7IHggPCB2ZW5kb3JzLmxlbmd0aCAmJiAhY29tbW9uanNHbG9iYWwucmVxdWVzdEFuaW1hdGlvbkZyYW1lOyArK3gpXG57XG4gICAgdmFyIHAgPSB2ZW5kb3JzW3hdO1xuXG4gICAgY29tbW9uanNHbG9iYWwucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gY29tbW9uanNHbG9iYWxbKHAgKyBcIlJlcXVlc3RBbmltYXRpb25GcmFtZVwiKV07XG4gICAgY29tbW9uanNHbG9iYWwuY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSBjb21tb25qc0dsb2JhbFsocCArIFwiQ2FuY2VsQW5pbWF0aW9uRnJhbWVcIildIHx8IGNvbW1vbmpzR2xvYmFsWyhwICsgXCJDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcIildO1xufVxuXG5pZiAoIWNvbW1vbmpzR2xvYmFsLnJlcXVlc3RBbmltYXRpb25GcmFtZSlcbntcbiAgICBjb21tb25qc0dsb2JhbC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigoY2FsbGJhY2sgKyBcImlzIG5vdCBhIGZ1bmN0aW9uXCIpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjdXJyZW50VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIHZhciBkZWxheSA9IE9ORV9GUkFNRV9USU1FICsgbGFzdFRpbWUgLSBjdXJyZW50VGltZTtcblxuICAgICAgICBpZiAoZGVsYXkgPCAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBsYXN0VGltZSA9IGN1cnJlbnRUaW1lO1xuXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGxhc3RUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIGNhbGxiYWNrKHBlcmZvcm1hbmNlLm5vdygpKTtcbiAgICAgICAgfSwgZGVsYXkpO1xuICAgIH07XG59XG5cbmlmICghY29tbW9uanNHbG9iYWwuY2FuY2VsQW5pbWF0aW9uRnJhbWUpXG57XG4gICAgY29tbW9uanNHbG9iYWwuY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbiAoaWQpIHsgcmV0dXJuIGNsZWFyVGltZW91dChpZCk7IH07XG59XG5cbi8vIFJlZmVyZW5jZXM6XG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL3NpZ25cblxuaWYgKCFNYXRoLnNpZ24pXG57XG4gICAgTWF0aC5zaWduID0gZnVuY3Rpb24gbWF0aFNpZ24oeClcbiAgICB7XG4gICAgICAgIHggPSBOdW1iZXIoeCk7XG5cbiAgICAgICAgaWYgKHggPT09IDAgfHwgaXNOYU4oeCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB4O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHggPiAwID8gMSA6IC0xO1xuICAgIH07XG59XG5cbi8vIFJlZmVyZW5jZXM6XG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9OdW1iZXIvaXNJbnRlZ2VyXG5cbmlmICghTnVtYmVyLmlzSW50ZWdlcilcbntcbiAgICBOdW1iZXIuaXNJbnRlZ2VyID0gZnVuY3Rpb24gbnVtYmVySXNJbnRlZ2VyKHZhbHVlKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgaXNGaW5pdGUodmFsdWUpICYmIE1hdGguZmxvb3IodmFsdWUpID09PSB2YWx1ZTtcbiAgICB9O1xufVxuXG5pZiAoIXdpbmRvdy5BcnJheUJ1ZmZlcilcbntcbiAgICB3aW5kb3cuQXJyYXlCdWZmZXIgPSBBcnJheTtcbn1cblxuaWYgKCF3aW5kb3cuRmxvYXQzMkFycmF5KVxue1xuICAgIHdpbmRvdy5GbG9hdDMyQXJyYXkgPSBBcnJheTtcbn1cblxuaWYgKCF3aW5kb3cuVWludDMyQXJyYXkpXG57XG4gICAgd2luZG93LlVpbnQzMkFycmF5ID0gQXJyYXk7XG59XG5cbmlmICghd2luZG93LlVpbnQxNkFycmF5KVxue1xuICAgIHdpbmRvdy5VaW50MTZBcnJheSA9IEFycmF5O1xufVxuXG5pZiAoIXdpbmRvdy5VaW50OEFycmF5KVxue1xuICAgIHdpbmRvdy5VaW50OEFycmF5ID0gQXJyYXk7XG59XG5cbmlmICghd2luZG93LkludDMyQXJyYXkpXG57XG4gICAgd2luZG93LkludDMyQXJyYXkgPSBBcnJheTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBvbHlmaWxsLmVzLmpzLm1hcFxuIiwidmFyIHNjb3BlID0gKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgJiYgZ2xvYmFsKSB8fFxuICAgICAgICAgICAgKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiICYmIHNlbGYpIHx8XG4gICAgICAgICAgICB3aW5kb3c7XG52YXIgYXBwbHkgPSBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHk7XG5cbi8vIERPTSBBUElzLCBmb3IgY29tcGxldGVuZXNzXG5cbmV4cG9ydHMuc2V0VGltZW91dCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFRpbWVvdXQoYXBwbHkuY2FsbChzZXRUaW1lb3V0LCBzY29wZSwgYXJndW1lbnRzKSwgY2xlYXJUaW1lb3V0KTtcbn07XG5leHBvcnRzLnNldEludGVydmFsID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgVGltZW91dChhcHBseS5jYWxsKHNldEludGVydmFsLCBzY29wZSwgYXJndW1lbnRzKSwgY2xlYXJJbnRlcnZhbCk7XG59O1xuZXhwb3J0cy5jbGVhclRpbWVvdXQgPVxuZXhwb3J0cy5jbGVhckludGVydmFsID0gZnVuY3Rpb24odGltZW91dCkge1xuICBpZiAodGltZW91dCkge1xuICAgIHRpbWVvdXQuY2xvc2UoKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gVGltZW91dChpZCwgY2xlYXJGbikge1xuICB0aGlzLl9pZCA9IGlkO1xuICB0aGlzLl9jbGVhckZuID0gY2xlYXJGbjtcbn1cblRpbWVvdXQucHJvdG90eXBlLnVucmVmID0gVGltZW91dC5wcm90b3R5cGUucmVmID0gZnVuY3Rpb24oKSB7fTtcblRpbWVvdXQucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX2NsZWFyRm4uY2FsbChzY29wZSwgdGhpcy5faWQpO1xufTtcblxuLy8gRG9lcyBub3Qgc3RhcnQgdGhlIHRpbWUsIGp1c3Qgc2V0cyB1cCB0aGUgbWVtYmVycyBuZWVkZWQuXG5leHBvcnRzLmVucm9sbCA9IGZ1bmN0aW9uKGl0ZW0sIG1zZWNzKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcbiAgaXRlbS5faWRsZVRpbWVvdXQgPSBtc2Vjcztcbn07XG5cbmV4cG9ydHMudW5lbnJvbGwgPSBmdW5jdGlvbihpdGVtKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcbiAgaXRlbS5faWRsZVRpbWVvdXQgPSAtMTtcbn07XG5cbmV4cG9ydHMuX3VucmVmQWN0aXZlID0gZXhwb3J0cy5hY3RpdmUgPSBmdW5jdGlvbihpdGVtKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcblxuICB2YXIgbXNlY3MgPSBpdGVtLl9pZGxlVGltZW91dDtcbiAgaWYgKG1zZWNzID49IDApIHtcbiAgICBpdGVtLl9pZGxlVGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiBvblRpbWVvdXQoKSB7XG4gICAgICBpZiAoaXRlbS5fb25UaW1lb3V0KVxuICAgICAgICBpdGVtLl9vblRpbWVvdXQoKTtcbiAgICB9LCBtc2Vjcyk7XG4gIH1cbn07XG5cbi8vIHNldGltbWVkaWF0ZSBhdHRhY2hlcyBpdHNlbGYgdG8gdGhlIGdsb2JhbCBvYmplY3RcbnJlcXVpcmUoXCJzZXRpbW1lZGlhdGVcIik7XG4vLyBPbiBzb21lIGV4b3RpYyBlbnZpcm9ubWVudHMsIGl0J3Mgbm90IGNsZWFyIHdoaWNoIG9iamVjdCBgc2V0aW1tZWRpYXRlYCB3YXNcbi8vIGFibGUgdG8gaW5zdGFsbCBvbnRvLiAgU2VhcmNoIGVhY2ggcG9zc2liaWxpdHkgaW4gdGhlIHNhbWUgb3JkZXIgYXMgdGhlXG4vLyBgc2V0aW1tZWRpYXRlYCBsaWJyYXJ5LlxuZXhwb3J0cy5zZXRJbW1lZGlhdGUgPSAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZi5zZXRJbW1lZGlhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiICYmIGdsb2JhbC5zZXRJbW1lZGlhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICh0aGlzICYmIHRoaXMuc2V0SW1tZWRpYXRlKTtcbmV4cG9ydHMuY2xlYXJJbW1lZGlhdGUgPSAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZi5jbGVhckltbWVkaWF0ZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBnbG9iYWwuY2xlYXJJbW1lZGlhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMgJiYgdGhpcy5jbGVhckltbWVkaWF0ZSk7XG4iLCIoZnVuY3Rpb24gKGdsb2JhbCwgdW5kZWZpbmVkKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICBpZiAoZ2xvYmFsLnNldEltbWVkaWF0ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG5leHRIYW5kbGUgPSAxOyAvLyBTcGVjIHNheXMgZ3JlYXRlciB0aGFuIHplcm9cbiAgICB2YXIgdGFza3NCeUhhbmRsZSA9IHt9O1xuICAgIHZhciBjdXJyZW50bHlSdW5uaW5nQVRhc2sgPSBmYWxzZTtcbiAgICB2YXIgZG9jID0gZ2xvYmFsLmRvY3VtZW50O1xuICAgIHZhciByZWdpc3RlckltbWVkaWF0ZTtcblxuICAgIGZ1bmN0aW9uIHNldEltbWVkaWF0ZShjYWxsYmFjaykge1xuICAgICAgLy8gQ2FsbGJhY2sgY2FuIGVpdGhlciBiZSBhIGZ1bmN0aW9uIG9yIGEgc3RyaW5nXG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgY2FsbGJhY2sgPSBuZXcgRnVuY3Rpb24oXCJcIiArIGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICAgIC8vIENvcHkgZnVuY3Rpb24gYXJndW1lbnRzXG4gICAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2kgKyAxXTtcbiAgICAgIH1cbiAgICAgIC8vIFN0b3JlIGFuZCByZWdpc3RlciB0aGUgdGFza1xuICAgICAgdmFyIHRhc2sgPSB7IGNhbGxiYWNrOiBjYWxsYmFjaywgYXJnczogYXJncyB9O1xuICAgICAgdGFza3NCeUhhbmRsZVtuZXh0SGFuZGxlXSA9IHRhc2s7XG4gICAgICByZWdpc3RlckltbWVkaWF0ZShuZXh0SGFuZGxlKTtcbiAgICAgIHJldHVybiBuZXh0SGFuZGxlKys7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xlYXJJbW1lZGlhdGUoaGFuZGxlKSB7XG4gICAgICAgIGRlbGV0ZSB0YXNrc0J5SGFuZGxlW2hhbmRsZV07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcnVuKHRhc2spIHtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gdGFzay5jYWxsYmFjaztcbiAgICAgICAgdmFyIGFyZ3MgPSB0YXNrLmFyZ3M7XG4gICAgICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICBjYWxsYmFjayhhcmdzWzBdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICBjYWxsYmFjayhhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICBjYWxsYmFjayhhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkodW5kZWZpbmVkLCBhcmdzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcnVuSWZQcmVzZW50KGhhbmRsZSkge1xuICAgICAgICAvLyBGcm9tIHRoZSBzcGVjOiBcIldhaXQgdW50aWwgYW55IGludm9jYXRpb25zIG9mIHRoaXMgYWxnb3JpdGhtIHN0YXJ0ZWQgYmVmb3JlIHRoaXMgb25lIGhhdmUgY29tcGxldGVkLlwiXG4gICAgICAgIC8vIFNvIGlmIHdlJ3JlIGN1cnJlbnRseSBydW5uaW5nIGEgdGFzaywgd2UnbGwgbmVlZCB0byBkZWxheSB0aGlzIGludm9jYXRpb24uXG4gICAgICAgIGlmIChjdXJyZW50bHlSdW5uaW5nQVRhc2spIHtcbiAgICAgICAgICAgIC8vIERlbGF5IGJ5IGRvaW5nIGEgc2V0VGltZW91dC4gc2V0SW1tZWRpYXRlIHdhcyB0cmllZCBpbnN0ZWFkLCBidXQgaW4gRmlyZWZveCA3IGl0IGdlbmVyYXRlZCBhXG4gICAgICAgICAgICAvLyBcInRvbyBtdWNoIHJlY3Vyc2lvblwiIGVycm9yLlxuICAgICAgICAgICAgc2V0VGltZW91dChydW5JZlByZXNlbnQsIDAsIGhhbmRsZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgdGFzayA9IHRhc2tzQnlIYW5kbGVbaGFuZGxlXTtcbiAgICAgICAgICAgIGlmICh0YXNrKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudGx5UnVubmluZ0FUYXNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBydW4odGFzayk7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbW1lZGlhdGUoaGFuZGxlKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudGx5UnVubmluZ0FUYXNrID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbE5leHRUaWNrSW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uICgpIHsgcnVuSWZQcmVzZW50KGhhbmRsZSk7IH0pO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhblVzZVBvc3RNZXNzYWdlKCkge1xuICAgICAgICAvLyBUaGUgdGVzdCBhZ2FpbnN0IGBpbXBvcnRTY3JpcHRzYCBwcmV2ZW50cyB0aGlzIGltcGxlbWVudGF0aW9uIGZyb20gYmVpbmcgaW5zdGFsbGVkIGluc2lkZSBhIHdlYiB3b3JrZXIsXG4gICAgICAgIC8vIHdoZXJlIGBnbG9iYWwucG9zdE1lc3NhZ2VgIG1lYW5zIHNvbWV0aGluZyBjb21wbGV0ZWx5IGRpZmZlcmVudCBhbmQgY2FuJ3QgYmUgdXNlZCBmb3IgdGhpcyBwdXJwb3NlLlxuICAgICAgICBpZiAoZ2xvYmFsLnBvc3RNZXNzYWdlICYmICFnbG9iYWwuaW1wb3J0U2NyaXB0cykge1xuICAgICAgICAgICAgdmFyIHBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXMgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIG9sZE9uTWVzc2FnZSA9IGdsb2JhbC5vbm1lc3NhZ2U7XG4gICAgICAgICAgICBnbG9iYWwub25tZXNzYWdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcG9zdE1lc3NhZ2VJc0FzeW5jaHJvbm91cyA9IGZhbHNlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGdsb2JhbC5wb3N0TWVzc2FnZShcIlwiLCBcIipcIik7XG4gICAgICAgICAgICBnbG9iYWwub25tZXNzYWdlID0gb2xkT25NZXNzYWdlO1xuICAgICAgICAgICAgcmV0dXJuIHBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsUG9zdE1lc3NhZ2VJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgLy8gSW5zdGFsbHMgYW4gZXZlbnQgaGFuZGxlciBvbiBgZ2xvYmFsYCBmb3IgdGhlIGBtZXNzYWdlYCBldmVudDogc2VlXG4gICAgICAgIC8vICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vRE9NL3dpbmRvdy5wb3N0TWVzc2FnZVxuICAgICAgICAvLyAqIGh0dHA6Ly93d3cud2hhdHdnLm9yZy9zcGVjcy93ZWItYXBwcy9jdXJyZW50LXdvcmsvbXVsdGlwYWdlL2NvbW1zLmh0bWwjY3Jvc3NEb2N1bWVudE1lc3NhZ2VzXG5cbiAgICAgICAgdmFyIG1lc3NhZ2VQcmVmaXggPSBcInNldEltbWVkaWF0ZSRcIiArIE1hdGgucmFuZG9tKCkgKyBcIiRcIjtcbiAgICAgICAgdmFyIG9uR2xvYmFsTWVzc2FnZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuc291cmNlID09PSBnbG9iYWwgJiZcbiAgICAgICAgICAgICAgICB0eXBlb2YgZXZlbnQuZGF0YSA9PT0gXCJzdHJpbmdcIiAmJlxuICAgICAgICAgICAgICAgIGV2ZW50LmRhdGEuaW5kZXhPZihtZXNzYWdlUHJlZml4KSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJ1bklmUHJlc2VudCgrZXZlbnQuZGF0YS5zbGljZShtZXNzYWdlUHJlZml4Lmxlbmd0aCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIG9uR2xvYmFsTWVzc2FnZSwgZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2xvYmFsLmF0dGFjaEV2ZW50KFwib25tZXNzYWdlXCIsIG9uR2xvYmFsTWVzc2FnZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgZ2xvYmFsLnBvc3RNZXNzYWdlKG1lc3NhZ2VQcmVmaXggKyBoYW5kbGUsIFwiKlwiKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsTWVzc2FnZUNoYW5uZWxJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgdmFyIGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbiAgICAgICAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgdmFyIGhhbmRsZSA9IGV2ZW50LmRhdGE7XG4gICAgICAgICAgICBydW5JZlByZXNlbnQoaGFuZGxlKTtcbiAgICAgICAgfTtcblxuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgY2hhbm5lbC5wb3J0Mi5wb3N0TWVzc2FnZShoYW5kbGUpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxSZWFkeVN0YXRlQ2hhbmdlSW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHZhciBodG1sID0gZG9jLmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIDxzY3JpcHQ+IGVsZW1lbnQ7IGl0cyByZWFkeXN0YXRlY2hhbmdlIGV2ZW50IHdpbGwgYmUgZmlyZWQgYXN5bmNocm9ub3VzbHkgb25jZSBpdCBpcyBpbnNlcnRlZFxuICAgICAgICAgICAgLy8gaW50byB0aGUgZG9jdW1lbnQuIERvIHNvLCB0aHVzIHF1ZXVpbmcgdXAgdGhlIHRhc2suIFJlbWVtYmVyIHRvIGNsZWFuIHVwIG9uY2UgaXQncyBiZWVuIGNhbGxlZC5cbiAgICAgICAgICAgIHZhciBzY3JpcHQgPSBkb2MuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcbiAgICAgICAgICAgIHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcnVuSWZQcmVzZW50KGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgc2NyaXB0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgaHRtbC5yZW1vdmVDaGlsZChzY3JpcHQpO1xuICAgICAgICAgICAgICAgIHNjcmlwdCA9IG51bGw7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaHRtbC5hcHBlbmRDaGlsZChzY3JpcHQpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxTZXRUaW1lb3V0SW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KHJ1bklmUHJlc2VudCwgMCwgaGFuZGxlKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBJZiBzdXBwb3J0ZWQsIHdlIHNob3VsZCBhdHRhY2ggdG8gdGhlIHByb3RvdHlwZSBvZiBnbG9iYWwsIHNpbmNlIHRoYXQgaXMgd2hlcmUgc2V0VGltZW91dCBldCBhbC4gbGl2ZS5cbiAgICB2YXIgYXR0YWNoVG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKGdsb2JhbCk7XG4gICAgYXR0YWNoVG8gPSBhdHRhY2hUbyAmJiBhdHRhY2hUby5zZXRUaW1lb3V0ID8gYXR0YWNoVG8gOiBnbG9iYWw7XG5cbiAgICAvLyBEb24ndCBnZXQgZm9vbGVkIGJ5IGUuZy4gYnJvd3NlcmlmeSBlbnZpcm9ubWVudHMuXG4gICAgaWYgKHt9LnRvU3RyaW5nLmNhbGwoZ2xvYmFsLnByb2Nlc3MpID09PSBcIltvYmplY3QgcHJvY2Vzc11cIikge1xuICAgICAgICAvLyBGb3IgTm9kZS5qcyBiZWZvcmUgMC45XG4gICAgICAgIGluc3RhbGxOZXh0VGlja0ltcGxlbWVudGF0aW9uKCk7XG5cbiAgICB9IGVsc2UgaWYgKGNhblVzZVBvc3RNZXNzYWdlKCkpIHtcbiAgICAgICAgLy8gRm9yIG5vbi1JRTEwIG1vZGVybiBicm93c2Vyc1xuICAgICAgICBpbnN0YWxsUG9zdE1lc3NhZ2VJbXBsZW1lbnRhdGlvbigpO1xuXG4gICAgfSBlbHNlIGlmIChnbG9iYWwuTWVzc2FnZUNoYW5uZWwpIHtcbiAgICAgICAgLy8gRm9yIHdlYiB3b3JrZXJzLCB3aGVyZSBzdXBwb3J0ZWRcbiAgICAgICAgaW5zdGFsbE1lc3NhZ2VDaGFubmVsSW1wbGVtZW50YXRpb24oKTtcblxuICAgIH0gZWxzZSBpZiAoZG9jICYmIFwib25yZWFkeXN0YXRlY2hhbmdlXCIgaW4gZG9jLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIikpIHtcbiAgICAgICAgLy8gRm9yIElFIDbigJM4XG4gICAgICAgIGluc3RhbGxSZWFkeVN0YXRlQ2hhbmdlSW1wbGVtZW50YXRpb24oKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEZvciBvbGRlciBicm93c2Vyc1xuICAgICAgICBpbnN0YWxsU2V0VGltZW91dEltcGxlbWVudGF0aW9uKCk7XG4gICAgfVxuXG4gICAgYXR0YWNoVG8uc2V0SW1tZWRpYXRlID0gc2V0SW1tZWRpYXRlO1xuICAgIGF0dGFjaFRvLmNsZWFySW1tZWRpYXRlID0gY2xlYXJJbW1lZGlhdGU7XG59KHR5cGVvZiBzZWxmID09PSBcInVuZGVmaW5lZFwiID8gdHlwZW9mIGdsb2JhbCA9PT0gXCJ1bmRlZmluZWRcIiA/IHRoaXMgOiBnbG9iYWwgOiBzZWxmKSk7XG4iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwiLyohIGh0dHBzOi8vbXRocy5iZS9wdW55Y29kZSB2MS40LjEgYnkgQG1hdGhpYXMgKi9cbjsoZnVuY3Rpb24ocm9vdCkge1xuXG5cdC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZXMgKi9cblx0dmFyIGZyZWVFeHBvcnRzID0gdHlwZW9mIGV4cG9ydHMgPT0gJ29iamVjdCcgJiYgZXhwb3J0cyAmJlxuXHRcdCFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cdHZhciBmcmVlTW9kdWxlID0gdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiZcblx0XHQhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblx0dmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbDtcblx0aWYgKFxuXHRcdGZyZWVHbG9iYWwuZ2xvYmFsID09PSBmcmVlR2xvYmFsIHx8XG5cdFx0ZnJlZUdsb2JhbC53aW5kb3cgPT09IGZyZWVHbG9iYWwgfHxcblx0XHRmcmVlR2xvYmFsLnNlbGYgPT09IGZyZWVHbG9iYWxcblx0KSB7XG5cdFx0cm9vdCA9IGZyZWVHbG9iYWw7XG5cdH1cblxuXHQvKipcblx0ICogVGhlIGBwdW55Y29kZWAgb2JqZWN0LlxuXHQgKiBAbmFtZSBwdW55Y29kZVxuXHQgKiBAdHlwZSBPYmplY3Rcblx0ICovXG5cdHZhciBwdW55Y29kZSxcblxuXHQvKiogSGlnaGVzdCBwb3NpdGl2ZSBzaWduZWQgMzItYml0IGZsb2F0IHZhbHVlICovXG5cdG1heEludCA9IDIxNDc0ODM2NDcsIC8vIGFrYS4gMHg3RkZGRkZGRiBvciAyXjMxLTFcblxuXHQvKiogQm9vdHN0cmluZyBwYXJhbWV0ZXJzICovXG5cdGJhc2UgPSAzNixcblx0dE1pbiA9IDEsXG5cdHRNYXggPSAyNixcblx0c2tldyA9IDM4LFxuXHRkYW1wID0gNzAwLFxuXHRpbml0aWFsQmlhcyA9IDcyLFxuXHRpbml0aWFsTiA9IDEyOCwgLy8gMHg4MFxuXHRkZWxpbWl0ZXIgPSAnLScsIC8vICdcXHgyRCdcblxuXHQvKiogUmVndWxhciBleHByZXNzaW9ucyAqL1xuXHRyZWdleFB1bnljb2RlID0gL154bi0tLyxcblx0cmVnZXhOb25BU0NJSSA9IC9bXlxceDIwLVxceDdFXS8sIC8vIHVucHJpbnRhYmxlIEFTQ0lJIGNoYXJzICsgbm9uLUFTQ0lJIGNoYXJzXG5cdHJlZ2V4U2VwYXJhdG9ycyA9IC9bXFx4MkVcXHUzMDAyXFx1RkYwRVxcdUZGNjFdL2csIC8vIFJGQyAzNDkwIHNlcGFyYXRvcnNcblxuXHQvKiogRXJyb3IgbWVzc2FnZXMgKi9cblx0ZXJyb3JzID0ge1xuXHRcdCdvdmVyZmxvdyc6ICdPdmVyZmxvdzogaW5wdXQgbmVlZHMgd2lkZXIgaW50ZWdlcnMgdG8gcHJvY2VzcycsXG5cdFx0J25vdC1iYXNpYyc6ICdJbGxlZ2FsIGlucHV0ID49IDB4ODAgKG5vdCBhIGJhc2ljIGNvZGUgcG9pbnQpJyxcblx0XHQnaW52YWxpZC1pbnB1dCc6ICdJbnZhbGlkIGlucHV0J1xuXHR9LFxuXG5cdC8qKiBDb252ZW5pZW5jZSBzaG9ydGN1dHMgKi9cblx0YmFzZU1pbnVzVE1pbiA9IGJhc2UgLSB0TWluLFxuXHRmbG9vciA9IE1hdGguZmxvb3IsXG5cdHN0cmluZ0Zyb21DaGFyQ29kZSA9IFN0cmluZy5mcm9tQ2hhckNvZGUsXG5cblx0LyoqIFRlbXBvcmFyeSB2YXJpYWJsZSAqL1xuXHRrZXk7XG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0LyoqXG5cdCAqIEEgZ2VuZXJpYyBlcnJvciB1dGlsaXR5IGZ1bmN0aW9uLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBUaGUgZXJyb3IgdHlwZS5cblx0ICogQHJldHVybnMge0Vycm9yfSBUaHJvd3MgYSBgUmFuZ2VFcnJvcmAgd2l0aCB0aGUgYXBwbGljYWJsZSBlcnJvciBtZXNzYWdlLlxuXHQgKi9cblx0ZnVuY3Rpb24gZXJyb3IodHlwZSkge1xuXHRcdHRocm93IG5ldyBSYW5nZUVycm9yKGVycm9yc1t0eXBlXSk7XG5cdH1cblxuXHQvKipcblx0ICogQSBnZW5lcmljIGBBcnJheSNtYXBgIHV0aWxpdHkgZnVuY3Rpb24uXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0aGF0IGdldHMgY2FsbGVkIGZvciBldmVyeSBhcnJheVxuXHQgKiBpdGVtLlxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IEEgbmV3IGFycmF5IG9mIHZhbHVlcyByZXR1cm5lZCBieSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24uXG5cdCAqL1xuXHRmdW5jdGlvbiBtYXAoYXJyYXksIGZuKSB7XG5cdFx0dmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblx0XHR2YXIgcmVzdWx0ID0gW107XG5cdFx0d2hpbGUgKGxlbmd0aC0tKSB7XG5cdFx0XHRyZXN1bHRbbGVuZ3RoXSA9IGZuKGFycmF5W2xlbmd0aF0pO1xuXHRcdH1cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9XG5cblx0LyoqXG5cdCAqIEEgc2ltcGxlIGBBcnJheSNtYXBgLWxpa2Ugd3JhcHBlciB0byB3b3JrIHdpdGggZG9tYWluIG5hbWUgc3RyaW5ncyBvciBlbWFpbFxuXHQgKiBhZGRyZXNzZXMuXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBkb21haW4gVGhlIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MuXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0aGF0IGdldHMgY2FsbGVkIGZvciBldmVyeVxuXHQgKiBjaGFyYWN0ZXIuXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gQSBuZXcgc3RyaW5nIG9mIGNoYXJhY3RlcnMgcmV0dXJuZWQgYnkgdGhlIGNhbGxiYWNrXG5cdCAqIGZ1bmN0aW9uLlxuXHQgKi9cblx0ZnVuY3Rpb24gbWFwRG9tYWluKHN0cmluZywgZm4pIHtcblx0XHR2YXIgcGFydHMgPSBzdHJpbmcuc3BsaXQoJ0AnKTtcblx0XHR2YXIgcmVzdWx0ID0gJyc7XG5cdFx0aWYgKHBhcnRzLmxlbmd0aCA+IDEpIHtcblx0XHRcdC8vIEluIGVtYWlsIGFkZHJlc3Nlcywgb25seSB0aGUgZG9tYWluIG5hbWUgc2hvdWxkIGJlIHB1bnljb2RlZC4gTGVhdmVcblx0XHRcdC8vIHRoZSBsb2NhbCBwYXJ0IChpLmUuIGV2ZXJ5dGhpbmcgdXAgdG8gYEBgKSBpbnRhY3QuXG5cdFx0XHRyZXN1bHQgPSBwYXJ0c1swXSArICdAJztcblx0XHRcdHN0cmluZyA9IHBhcnRzWzFdO1xuXHRcdH1cblx0XHQvLyBBdm9pZCBgc3BsaXQocmVnZXgpYCBmb3IgSUU4IGNvbXBhdGliaWxpdHkuIFNlZSAjMTcuXG5cdFx0c3RyaW5nID0gc3RyaW5nLnJlcGxhY2UocmVnZXhTZXBhcmF0b3JzLCAnXFx4MkUnKTtcblx0XHR2YXIgbGFiZWxzID0gc3RyaW5nLnNwbGl0KCcuJyk7XG5cdFx0dmFyIGVuY29kZWQgPSBtYXAobGFiZWxzLCBmbikuam9pbignLicpO1xuXHRcdHJldHVybiByZXN1bHQgKyBlbmNvZGVkO1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYW4gYXJyYXkgY29udGFpbmluZyB0aGUgbnVtZXJpYyBjb2RlIHBvaW50cyBvZiBlYWNoIFVuaWNvZGVcblx0ICogY2hhcmFjdGVyIGluIHRoZSBzdHJpbmcuIFdoaWxlIEphdmFTY3JpcHQgdXNlcyBVQ1MtMiBpbnRlcm5hbGx5LFxuXHQgKiB0aGlzIGZ1bmN0aW9uIHdpbGwgY29udmVydCBhIHBhaXIgb2Ygc3Vycm9nYXRlIGhhbHZlcyAoZWFjaCBvZiB3aGljaFxuXHQgKiBVQ1MtMiBleHBvc2VzIGFzIHNlcGFyYXRlIGNoYXJhY3RlcnMpIGludG8gYSBzaW5nbGUgY29kZSBwb2ludCxcblx0ICogbWF0Y2hpbmcgVVRGLTE2LlxuXHQgKiBAc2VlIGBwdW55Y29kZS51Y3MyLmVuY29kZWBcblx0ICogQHNlZSA8aHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtZW5jb2Rpbmc+XG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZS51Y3MyXG5cdCAqIEBuYW1lIGRlY29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gc3RyaW5nIFRoZSBVbmljb2RlIGlucHV0IHN0cmluZyAoVUNTLTIpLlxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IFRoZSBuZXcgYXJyYXkgb2YgY29kZSBwb2ludHMuXG5cdCAqL1xuXHRmdW5jdGlvbiB1Y3MyZGVjb2RlKHN0cmluZykge1xuXHRcdHZhciBvdXRwdXQgPSBbXSxcblx0XHQgICAgY291bnRlciA9IDAsXG5cdFx0ICAgIGxlbmd0aCA9IHN0cmluZy5sZW5ndGgsXG5cdFx0ICAgIHZhbHVlLFxuXHRcdCAgICBleHRyYTtcblx0XHR3aGlsZSAoY291bnRlciA8IGxlbmd0aCkge1xuXHRcdFx0dmFsdWUgPSBzdHJpbmcuY2hhckNvZGVBdChjb3VudGVyKyspO1xuXHRcdFx0aWYgKHZhbHVlID49IDB4RDgwMCAmJiB2YWx1ZSA8PSAweERCRkYgJiYgY291bnRlciA8IGxlbmd0aCkge1xuXHRcdFx0XHQvLyBoaWdoIHN1cnJvZ2F0ZSwgYW5kIHRoZXJlIGlzIGEgbmV4dCBjaGFyYWN0ZXJcblx0XHRcdFx0ZXh0cmEgPSBzdHJpbmcuY2hhckNvZGVBdChjb3VudGVyKyspO1xuXHRcdFx0XHRpZiAoKGV4dHJhICYgMHhGQzAwKSA9PSAweERDMDApIHsgLy8gbG93IHN1cnJvZ2F0ZVxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKCgodmFsdWUgJiAweDNGRikgPDwgMTApICsgKGV4dHJhICYgMHgzRkYpICsgMHgxMDAwMCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gdW5tYXRjaGVkIHN1cnJvZ2F0ZTsgb25seSBhcHBlbmQgdGhpcyBjb2RlIHVuaXQsIGluIGNhc2UgdGhlIG5leHRcblx0XHRcdFx0XHQvLyBjb2RlIHVuaXQgaXMgdGhlIGhpZ2ggc3Vycm9nYXRlIG9mIGEgc3Vycm9nYXRlIHBhaXJcblx0XHRcdFx0XHRvdXRwdXQucHVzaCh2YWx1ZSk7XG5cdFx0XHRcdFx0Y291bnRlci0tO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRvdXRwdXQucHVzaCh2YWx1ZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBvdXRwdXQ7XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlcyBhIHN0cmluZyBiYXNlZCBvbiBhbiBhcnJheSBvZiBudW1lcmljIGNvZGUgcG9pbnRzLlxuXHQgKiBAc2VlIGBwdW55Y29kZS51Y3MyLmRlY29kZWBcblx0ICogQG1lbWJlck9mIHB1bnljb2RlLnVjczJcblx0ICogQG5hbWUgZW5jb2RlXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGNvZGVQb2ludHMgVGhlIGFycmF5IG9mIG51bWVyaWMgY29kZSBwb2ludHMuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBuZXcgVW5pY29kZSBzdHJpbmcgKFVDUy0yKS5cblx0ICovXG5cdGZ1bmN0aW9uIHVjczJlbmNvZGUoYXJyYXkpIHtcblx0XHRyZXR1cm4gbWFwKGFycmF5LCBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdFx0dmFyIG91dHB1dCA9ICcnO1xuXHRcdFx0aWYgKHZhbHVlID4gMHhGRkZGKSB7XG5cdFx0XHRcdHZhbHVlIC09IDB4MTAwMDA7XG5cdFx0XHRcdG91dHB1dCArPSBzdHJpbmdGcm9tQ2hhckNvZGUodmFsdWUgPj4+IDEwICYgMHgzRkYgfCAweEQ4MDApO1xuXHRcdFx0XHR2YWx1ZSA9IDB4REMwMCB8IHZhbHVlICYgMHgzRkY7XG5cdFx0XHR9XG5cdFx0XHRvdXRwdXQgKz0gc3RyaW5nRnJvbUNoYXJDb2RlKHZhbHVlKTtcblx0XHRcdHJldHVybiBvdXRwdXQ7XG5cdFx0fSkuam9pbignJyk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBiYXNpYyBjb2RlIHBvaW50IGludG8gYSBkaWdpdC9pbnRlZ2VyLlxuXHQgKiBAc2VlIGBkaWdpdFRvQmFzaWMoKWBcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGNvZGVQb2ludCBUaGUgYmFzaWMgbnVtZXJpYyBjb2RlIHBvaW50IHZhbHVlLlxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgbnVtZXJpYyB2YWx1ZSBvZiBhIGJhc2ljIGNvZGUgcG9pbnQgKGZvciB1c2UgaW5cblx0ICogcmVwcmVzZW50aW5nIGludGVnZXJzKSBpbiB0aGUgcmFuZ2UgYDBgIHRvIGBiYXNlIC0gMWAsIG9yIGBiYXNlYCBpZlxuXHQgKiB0aGUgY29kZSBwb2ludCBkb2VzIG5vdCByZXByZXNlbnQgYSB2YWx1ZS5cblx0ICovXG5cdGZ1bmN0aW9uIGJhc2ljVG9EaWdpdChjb2RlUG9pbnQpIHtcblx0XHRpZiAoY29kZVBvaW50IC0gNDggPCAxMCkge1xuXHRcdFx0cmV0dXJuIGNvZGVQb2ludCAtIDIyO1xuXHRcdH1cblx0XHRpZiAoY29kZVBvaW50IC0gNjUgPCAyNikge1xuXHRcdFx0cmV0dXJuIGNvZGVQb2ludCAtIDY1O1xuXHRcdH1cblx0XHRpZiAoY29kZVBvaW50IC0gOTcgPCAyNikge1xuXHRcdFx0cmV0dXJuIGNvZGVQb2ludCAtIDk3O1xuXHRcdH1cblx0XHRyZXR1cm4gYmFzZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIGRpZ2l0L2ludGVnZXIgaW50byBhIGJhc2ljIGNvZGUgcG9pbnQuXG5cdCAqIEBzZWUgYGJhc2ljVG9EaWdpdCgpYFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gZGlnaXQgVGhlIG51bWVyaWMgdmFsdWUgb2YgYSBiYXNpYyBjb2RlIHBvaW50LlxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgYmFzaWMgY29kZSBwb2ludCB3aG9zZSB2YWx1ZSAod2hlbiB1c2VkIGZvclxuXHQgKiByZXByZXNlbnRpbmcgaW50ZWdlcnMpIGlzIGBkaWdpdGAsIHdoaWNoIG5lZWRzIHRvIGJlIGluIHRoZSByYW5nZVxuXHQgKiBgMGAgdG8gYGJhc2UgLSAxYC4gSWYgYGZsYWdgIGlzIG5vbi16ZXJvLCB0aGUgdXBwZXJjYXNlIGZvcm0gaXNcblx0ICogdXNlZDsgZWxzZSwgdGhlIGxvd2VyY2FzZSBmb3JtIGlzIHVzZWQuIFRoZSBiZWhhdmlvciBpcyB1bmRlZmluZWRcblx0ICogaWYgYGZsYWdgIGlzIG5vbi16ZXJvIGFuZCBgZGlnaXRgIGhhcyBubyB1cHBlcmNhc2UgZm9ybS5cblx0ICovXG5cdGZ1bmN0aW9uIGRpZ2l0VG9CYXNpYyhkaWdpdCwgZmxhZykge1xuXHRcdC8vICAwLi4yNSBtYXAgdG8gQVNDSUkgYS4ueiBvciBBLi5aXG5cdFx0Ly8gMjYuLjM1IG1hcCB0byBBU0NJSSAwLi45XG5cdFx0cmV0dXJuIGRpZ2l0ICsgMjIgKyA3NSAqIChkaWdpdCA8IDI2KSAtICgoZmxhZyAhPSAwKSA8PCA1KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBCaWFzIGFkYXB0YXRpb24gZnVuY3Rpb24gYXMgcGVyIHNlY3Rpb24gMy40IG9mIFJGQyAzNDkyLlxuXHQgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzQ5MiNzZWN0aW9uLTMuNFxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0ZnVuY3Rpb24gYWRhcHQoZGVsdGEsIG51bVBvaW50cywgZmlyc3RUaW1lKSB7XG5cdFx0dmFyIGsgPSAwO1xuXHRcdGRlbHRhID0gZmlyc3RUaW1lID8gZmxvb3IoZGVsdGEgLyBkYW1wKSA6IGRlbHRhID4+IDE7XG5cdFx0ZGVsdGEgKz0gZmxvb3IoZGVsdGEgLyBudW1Qb2ludHMpO1xuXHRcdGZvciAoLyogbm8gaW5pdGlhbGl6YXRpb24gKi87IGRlbHRhID4gYmFzZU1pbnVzVE1pbiAqIHRNYXggPj4gMTsgayArPSBiYXNlKSB7XG5cdFx0XHRkZWx0YSA9IGZsb29yKGRlbHRhIC8gYmFzZU1pbnVzVE1pbik7XG5cdFx0fVxuXHRcdHJldHVybiBmbG9vcihrICsgKGJhc2VNaW51c1RNaW4gKyAxKSAqIGRlbHRhIC8gKGRlbHRhICsgc2tldykpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scyB0byBhIHN0cmluZyBvZiBVbmljb2RlXG5cdCAqIHN5bWJvbHMuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXN1bHRpbmcgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scy5cblx0ICovXG5cdGZ1bmN0aW9uIGRlY29kZShpbnB1dCkge1xuXHRcdC8vIERvbid0IHVzZSBVQ1MtMlxuXHRcdHZhciBvdXRwdXQgPSBbXSxcblx0XHQgICAgaW5wdXRMZW5ndGggPSBpbnB1dC5sZW5ndGgsXG5cdFx0ICAgIG91dCxcblx0XHQgICAgaSA9IDAsXG5cdFx0ICAgIG4gPSBpbml0aWFsTixcblx0XHQgICAgYmlhcyA9IGluaXRpYWxCaWFzLFxuXHRcdCAgICBiYXNpYyxcblx0XHQgICAgaixcblx0XHQgICAgaW5kZXgsXG5cdFx0ICAgIG9sZGksXG5cdFx0ICAgIHcsXG5cdFx0ICAgIGssXG5cdFx0ICAgIGRpZ2l0LFxuXHRcdCAgICB0LFxuXHRcdCAgICAvKiogQ2FjaGVkIGNhbGN1bGF0aW9uIHJlc3VsdHMgKi9cblx0XHQgICAgYmFzZU1pbnVzVDtcblxuXHRcdC8vIEhhbmRsZSB0aGUgYmFzaWMgY29kZSBwb2ludHM6IGxldCBgYmFzaWNgIGJlIHRoZSBudW1iZXIgb2YgaW5wdXQgY29kZVxuXHRcdC8vIHBvaW50cyBiZWZvcmUgdGhlIGxhc3QgZGVsaW1pdGVyLCBvciBgMGAgaWYgdGhlcmUgaXMgbm9uZSwgdGhlbiBjb3B5XG5cdFx0Ly8gdGhlIGZpcnN0IGJhc2ljIGNvZGUgcG9pbnRzIHRvIHRoZSBvdXRwdXQuXG5cblx0XHRiYXNpYyA9IGlucHV0Lmxhc3RJbmRleE9mKGRlbGltaXRlcik7XG5cdFx0aWYgKGJhc2ljIDwgMCkge1xuXHRcdFx0YmFzaWMgPSAwO1xuXHRcdH1cblxuXHRcdGZvciAoaiA9IDA7IGogPCBiYXNpYzsgKytqKSB7XG5cdFx0XHQvLyBpZiBpdCdzIG5vdCBhIGJhc2ljIGNvZGUgcG9pbnRcblx0XHRcdGlmIChpbnB1dC5jaGFyQ29kZUF0KGopID49IDB4ODApIHtcblx0XHRcdFx0ZXJyb3IoJ25vdC1iYXNpYycpO1xuXHRcdFx0fVxuXHRcdFx0b3V0cHV0LnB1c2goaW5wdXQuY2hhckNvZGVBdChqKSk7XG5cdFx0fVxuXG5cdFx0Ly8gTWFpbiBkZWNvZGluZyBsb29wOiBzdGFydCBqdXN0IGFmdGVyIHRoZSBsYXN0IGRlbGltaXRlciBpZiBhbnkgYmFzaWMgY29kZVxuXHRcdC8vIHBvaW50cyB3ZXJlIGNvcGllZDsgc3RhcnQgYXQgdGhlIGJlZ2lubmluZyBvdGhlcndpc2UuXG5cblx0XHRmb3IgKGluZGV4ID0gYmFzaWMgPiAwID8gYmFzaWMgKyAxIDogMDsgaW5kZXggPCBpbnB1dExlbmd0aDsgLyogbm8gZmluYWwgZXhwcmVzc2lvbiAqLykge1xuXG5cdFx0XHQvLyBgaW5kZXhgIGlzIHRoZSBpbmRleCBvZiB0aGUgbmV4dCBjaGFyYWN0ZXIgdG8gYmUgY29uc3VtZWQuXG5cdFx0XHQvLyBEZWNvZGUgYSBnZW5lcmFsaXplZCB2YXJpYWJsZS1sZW5ndGggaW50ZWdlciBpbnRvIGBkZWx0YWAsXG5cdFx0XHQvLyB3aGljaCBnZXRzIGFkZGVkIHRvIGBpYC4gVGhlIG92ZXJmbG93IGNoZWNraW5nIGlzIGVhc2llclxuXHRcdFx0Ly8gaWYgd2UgaW5jcmVhc2UgYGlgIGFzIHdlIGdvLCB0aGVuIHN1YnRyYWN0IG9mZiBpdHMgc3RhcnRpbmdcblx0XHRcdC8vIHZhbHVlIGF0IHRoZSBlbmQgdG8gb2J0YWluIGBkZWx0YWAuXG5cdFx0XHRmb3IgKG9sZGkgPSBpLCB3ID0gMSwgayA9IGJhc2U7IC8qIG5vIGNvbmRpdGlvbiAqLzsgayArPSBiYXNlKSB7XG5cblx0XHRcdFx0aWYgKGluZGV4ID49IGlucHV0TGVuZ3RoKSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ2ludmFsaWQtaW5wdXQnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGRpZ2l0ID0gYmFzaWNUb0RpZ2l0KGlucHV0LmNoYXJDb2RlQXQoaW5kZXgrKykpO1xuXG5cdFx0XHRcdGlmIChkaWdpdCA+PSBiYXNlIHx8IGRpZ2l0ID4gZmxvb3IoKG1heEludCAtIGkpIC8gdykpIHtcblx0XHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGkgKz0gZGlnaXQgKiB3O1xuXHRcdFx0XHR0ID0gayA8PSBiaWFzID8gdE1pbiA6IChrID49IGJpYXMgKyB0TWF4ID8gdE1heCA6IGsgLSBiaWFzKTtcblxuXHRcdFx0XHRpZiAoZGlnaXQgPCB0KSB7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRiYXNlTWludXNUID0gYmFzZSAtIHQ7XG5cdFx0XHRcdGlmICh3ID4gZmxvb3IobWF4SW50IC8gYmFzZU1pbnVzVCkpIHtcblx0XHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHcgKj0gYmFzZU1pbnVzVDtcblxuXHRcdFx0fVxuXG5cdFx0XHRvdXQgPSBvdXRwdXQubGVuZ3RoICsgMTtcblx0XHRcdGJpYXMgPSBhZGFwdChpIC0gb2xkaSwgb3V0LCBvbGRpID09IDApO1xuXG5cdFx0XHQvLyBgaWAgd2FzIHN1cHBvc2VkIHRvIHdyYXAgYXJvdW5kIGZyb20gYG91dGAgdG8gYDBgLFxuXHRcdFx0Ly8gaW5jcmVtZW50aW5nIGBuYCBlYWNoIHRpbWUsIHNvIHdlJ2xsIGZpeCB0aGF0IG5vdzpcblx0XHRcdGlmIChmbG9vcihpIC8gb3V0KSA+IG1heEludCAtIG4pIHtcblx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHR9XG5cblx0XHRcdG4gKz0gZmxvb3IoaSAvIG91dCk7XG5cdFx0XHRpICU9IG91dDtcblxuXHRcdFx0Ly8gSW5zZXJ0IGBuYCBhdCBwb3NpdGlvbiBgaWAgb2YgdGhlIG91dHB1dFxuXHRcdFx0b3V0cHV0LnNwbGljZShpKyssIDAsIG4pO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHVjczJlbmNvZGUob3V0cHV0KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMgKGUuZy4gYSBkb21haW4gbmFtZSBsYWJlbCkgdG8gYVxuXHQgKiBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgcmVzdWx0aW5nIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuXG5cdCAqL1xuXHRmdW5jdGlvbiBlbmNvZGUoaW5wdXQpIHtcblx0XHR2YXIgbixcblx0XHQgICAgZGVsdGEsXG5cdFx0ICAgIGhhbmRsZWRDUENvdW50LFxuXHRcdCAgICBiYXNpY0xlbmd0aCxcblx0XHQgICAgYmlhcyxcblx0XHQgICAgaixcblx0XHQgICAgbSxcblx0XHQgICAgcSxcblx0XHQgICAgayxcblx0XHQgICAgdCxcblx0XHQgICAgY3VycmVudFZhbHVlLFxuXHRcdCAgICBvdXRwdXQgPSBbXSxcblx0XHQgICAgLyoqIGBpbnB1dExlbmd0aGAgd2lsbCBob2xkIHRoZSBudW1iZXIgb2YgY29kZSBwb2ludHMgaW4gYGlucHV0YC4gKi9cblx0XHQgICAgaW5wdXRMZW5ndGgsXG5cdFx0ICAgIC8qKiBDYWNoZWQgY2FsY3VsYXRpb24gcmVzdWx0cyAqL1xuXHRcdCAgICBoYW5kbGVkQ1BDb3VudFBsdXNPbmUsXG5cdFx0ICAgIGJhc2VNaW51c1QsXG5cdFx0ICAgIHFNaW51c1Q7XG5cblx0XHQvLyBDb252ZXJ0IHRoZSBpbnB1dCBpbiBVQ1MtMiB0byBVbmljb2RlXG5cdFx0aW5wdXQgPSB1Y3MyZGVjb2RlKGlucHV0KTtcblxuXHRcdC8vIENhY2hlIHRoZSBsZW5ndGhcblx0XHRpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aDtcblxuXHRcdC8vIEluaXRpYWxpemUgdGhlIHN0YXRlXG5cdFx0biA9IGluaXRpYWxOO1xuXHRcdGRlbHRhID0gMDtcblx0XHRiaWFzID0gaW5pdGlhbEJpYXM7XG5cblx0XHQvLyBIYW5kbGUgdGhlIGJhc2ljIGNvZGUgcG9pbnRzXG5cdFx0Zm9yIChqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHtcblx0XHRcdGN1cnJlbnRWYWx1ZSA9IGlucHV0W2pdO1xuXHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA8IDB4ODApIHtcblx0XHRcdFx0b3V0cHV0LnB1c2goc3RyaW5nRnJvbUNoYXJDb2RlKGN1cnJlbnRWYWx1ZSkpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGhhbmRsZWRDUENvdW50ID0gYmFzaWNMZW5ndGggPSBvdXRwdXQubGVuZ3RoO1xuXG5cdFx0Ly8gYGhhbmRsZWRDUENvdW50YCBpcyB0aGUgbnVtYmVyIG9mIGNvZGUgcG9pbnRzIHRoYXQgaGF2ZSBiZWVuIGhhbmRsZWQ7XG5cdFx0Ly8gYGJhc2ljTGVuZ3RoYCBpcyB0aGUgbnVtYmVyIG9mIGJhc2ljIGNvZGUgcG9pbnRzLlxuXG5cdFx0Ly8gRmluaXNoIHRoZSBiYXNpYyBzdHJpbmcgLSBpZiBpdCBpcyBub3QgZW1wdHkgLSB3aXRoIGEgZGVsaW1pdGVyXG5cdFx0aWYgKGJhc2ljTGVuZ3RoKSB7XG5cdFx0XHRvdXRwdXQucHVzaChkZWxpbWl0ZXIpO1xuXHRcdH1cblxuXHRcdC8vIE1haW4gZW5jb2RpbmcgbG9vcDpcblx0XHR3aGlsZSAoaGFuZGxlZENQQ291bnQgPCBpbnB1dExlbmd0aCkge1xuXG5cdFx0XHQvLyBBbGwgbm9uLWJhc2ljIGNvZGUgcG9pbnRzIDwgbiBoYXZlIGJlZW4gaGFuZGxlZCBhbHJlYWR5LiBGaW5kIHRoZSBuZXh0XG5cdFx0XHQvLyBsYXJnZXIgb25lOlxuXHRcdFx0Zm9yIChtID0gbWF4SW50LCBqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHtcblx0XHRcdFx0Y3VycmVudFZhbHVlID0gaW5wdXRbal07XG5cdFx0XHRcdGlmIChjdXJyZW50VmFsdWUgPj0gbiAmJiBjdXJyZW50VmFsdWUgPCBtKSB7XG5cdFx0XHRcdFx0bSA9IGN1cnJlbnRWYWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBJbmNyZWFzZSBgZGVsdGFgIGVub3VnaCB0byBhZHZhbmNlIHRoZSBkZWNvZGVyJ3MgPG4saT4gc3RhdGUgdG8gPG0sMD4sXG5cdFx0XHQvLyBidXQgZ3VhcmQgYWdhaW5zdCBvdmVyZmxvd1xuXHRcdFx0aGFuZGxlZENQQ291bnRQbHVzT25lID0gaGFuZGxlZENQQ291bnQgKyAxO1xuXHRcdFx0aWYgKG0gLSBuID4gZmxvb3IoKG1heEludCAtIGRlbHRhKSAvIGhhbmRsZWRDUENvdW50UGx1c09uZSkpIHtcblx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHR9XG5cblx0XHRcdGRlbHRhICs9IChtIC0gbikgKiBoYW5kbGVkQ1BDb3VudFBsdXNPbmU7XG5cdFx0XHRuID0gbTtcblxuXHRcdFx0Zm9yIChqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHtcblx0XHRcdFx0Y3VycmVudFZhbHVlID0gaW5wdXRbal07XG5cblx0XHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA8IG4gJiYgKytkZWx0YSA+IG1heEludCkge1xuXHRcdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA9PSBuKSB7XG5cdFx0XHRcdFx0Ly8gUmVwcmVzZW50IGRlbHRhIGFzIGEgZ2VuZXJhbGl6ZWQgdmFyaWFibGUtbGVuZ3RoIGludGVnZXJcblx0XHRcdFx0XHRmb3IgKHEgPSBkZWx0YSwgayA9IGJhc2U7IC8qIG5vIGNvbmRpdGlvbiAqLzsgayArPSBiYXNlKSB7XG5cdFx0XHRcdFx0XHR0ID0gayA8PSBiaWFzID8gdE1pbiA6IChrID49IGJpYXMgKyB0TWF4ID8gdE1heCA6IGsgLSBiaWFzKTtcblx0XHRcdFx0XHRcdGlmIChxIDwgdCkge1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHFNaW51c1QgPSBxIC0gdDtcblx0XHRcdFx0XHRcdGJhc2VNaW51c1QgPSBiYXNlIC0gdDtcblx0XHRcdFx0XHRcdG91dHB1dC5wdXNoKFxuXHRcdFx0XHRcdFx0XHRzdHJpbmdGcm9tQ2hhckNvZGUoZGlnaXRUb0Jhc2ljKHQgKyBxTWludXNUICUgYmFzZU1pbnVzVCwgMCkpXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0cSA9IGZsb29yKHFNaW51c1QgLyBiYXNlTWludXNUKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoZGlnaXRUb0Jhc2ljKHEsIDApKSk7XG5cdFx0XHRcdFx0YmlhcyA9IGFkYXB0KGRlbHRhLCBoYW5kbGVkQ1BDb3VudFBsdXNPbmUsIGhhbmRsZWRDUENvdW50ID09IGJhc2ljTGVuZ3RoKTtcblx0XHRcdFx0XHRkZWx0YSA9IDA7XG5cdFx0XHRcdFx0KytoYW5kbGVkQ1BDb3VudDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQrK2RlbHRhO1xuXHRcdFx0KytuO1xuXG5cdFx0fVxuXHRcdHJldHVybiBvdXRwdXQuam9pbignJyk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBQdW55Y29kZSBzdHJpbmcgcmVwcmVzZW50aW5nIGEgZG9tYWluIG5hbWUgb3IgYW4gZW1haWwgYWRkcmVzc1xuXHQgKiB0byBVbmljb2RlLiBPbmx5IHRoZSBQdW55Y29kZWQgcGFydHMgb2YgdGhlIGlucHV0IHdpbGwgYmUgY29udmVydGVkLCBpLmUuXG5cdCAqIGl0IGRvZXNuJ3QgbWF0dGVyIGlmIHlvdSBjYWxsIGl0IG9uIGEgc3RyaW5nIHRoYXQgaGFzIGFscmVhZHkgYmVlblxuXHQgKiBjb252ZXJ0ZWQgdG8gVW5pY29kZS5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgUHVueWNvZGVkIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MgdG9cblx0ICogY29udmVydCB0byBVbmljb2RlLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgVW5pY29kZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gUHVueWNvZGVcblx0ICogc3RyaW5nLlxuXHQgKi9cblx0ZnVuY3Rpb24gdG9Vbmljb2RlKGlucHV0KSB7XG5cdFx0cmV0dXJuIG1hcERvbWFpbihpbnB1dCwgZnVuY3Rpb24oc3RyaW5nKSB7XG5cdFx0XHRyZXR1cm4gcmVnZXhQdW55Y29kZS50ZXN0KHN0cmluZylcblx0XHRcdFx0PyBkZWNvZGUoc3RyaW5nLnNsaWNlKDQpLnRvTG93ZXJDYXNlKCkpXG5cdFx0XHRcdDogc3RyaW5nO1xuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgVW5pY29kZSBzdHJpbmcgcmVwcmVzZW50aW5nIGEgZG9tYWluIG5hbWUgb3IgYW4gZW1haWwgYWRkcmVzcyB0b1xuXHQgKiBQdW55Y29kZS4gT25seSB0aGUgbm9uLUFTQ0lJIHBhcnRzIG9mIHRoZSBkb21haW4gbmFtZSB3aWxsIGJlIGNvbnZlcnRlZCxcblx0ICogaS5lLiBpdCBkb2Vzbid0IG1hdHRlciBpZiB5b3UgY2FsbCBpdCB3aXRoIGEgZG9tYWluIHRoYXQncyBhbHJlYWR5IGluXG5cdCAqIEFTQ0lJLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzIHRvIGNvbnZlcnQsIGFzIGFcblx0ICogVW5pY29kZSBzdHJpbmcuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBQdW55Y29kZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gZG9tYWluIG5hbWUgb3Jcblx0ICogZW1haWwgYWRkcmVzcy5cblx0ICovXG5cdGZ1bmN0aW9uIHRvQVNDSUkoaW5wdXQpIHtcblx0XHRyZXR1cm4gbWFwRG9tYWluKGlucHV0LCBmdW5jdGlvbihzdHJpbmcpIHtcblx0XHRcdHJldHVybiByZWdleE5vbkFTQ0lJLnRlc3Qoc3RyaW5nKVxuXHRcdFx0XHQ/ICd4bi0tJyArIGVuY29kZShzdHJpbmcpXG5cdFx0XHRcdDogc3RyaW5nO1xuXHRcdH0pO1xuXHR9XG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0LyoqIERlZmluZSB0aGUgcHVibGljIEFQSSAqL1xuXHRwdW55Y29kZSA9IHtcblx0XHQvKipcblx0XHQgKiBBIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGN1cnJlbnQgUHVueWNvZGUuanMgdmVyc2lvbiBudW1iZXIuXG5cdFx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdFx0ICogQHR5cGUgU3RyaW5nXG5cdFx0ICovXG5cdFx0J3ZlcnNpb24nOiAnMS40LjEnLFxuXHRcdC8qKlxuXHRcdCAqIEFuIG9iamVjdCBvZiBtZXRob2RzIHRvIGNvbnZlcnQgZnJvbSBKYXZhU2NyaXB0J3MgaW50ZXJuYWwgY2hhcmFjdGVyXG5cdFx0ICogcmVwcmVzZW50YXRpb24gKFVDUy0yKSB0byBVbmljb2RlIGNvZGUgcG9pbnRzLCBhbmQgYmFjay5cblx0XHQgKiBAc2VlIDxodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZz5cblx0XHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0XHQgKiBAdHlwZSBPYmplY3Rcblx0XHQgKi9cblx0XHQndWNzMic6IHtcblx0XHRcdCdkZWNvZGUnOiB1Y3MyZGVjb2RlLFxuXHRcdFx0J2VuY29kZSc6IHVjczJlbmNvZGVcblx0XHR9LFxuXHRcdCdkZWNvZGUnOiBkZWNvZGUsXG5cdFx0J2VuY29kZSc6IGVuY29kZSxcblx0XHQndG9BU0NJSSc6IHRvQVNDSUksXG5cdFx0J3RvVW5pY29kZSc6IHRvVW5pY29kZVxuXHR9O1xuXG5cdC8qKiBFeHBvc2UgYHB1bnljb2RlYCAqL1xuXHQvLyBTb21lIEFNRCBidWlsZCBvcHRpbWl6ZXJzLCBsaWtlIHIuanMsIGNoZWNrIGZvciBzcGVjaWZpYyBjb25kaXRpb24gcGF0dGVybnNcblx0Ly8gbGlrZSB0aGUgZm9sbG93aW5nOlxuXHRpZiAoXG5cdFx0dHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmXG5cdFx0dHlwZW9mIGRlZmluZS5hbWQgPT0gJ29iamVjdCcgJiZcblx0XHRkZWZpbmUuYW1kXG5cdCkge1xuXHRcdGRlZmluZSgncHVueWNvZGUnLCBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBwdW55Y29kZTtcblx0XHR9KTtcblx0fSBlbHNlIGlmIChmcmVlRXhwb3J0cyAmJiBmcmVlTW9kdWxlKSB7XG5cdFx0aWYgKG1vZHVsZS5leHBvcnRzID09IGZyZWVFeHBvcnRzKSB7XG5cdFx0XHQvLyBpbiBOb2RlLmpzLCBpby5qcywgb3IgUmluZ29KUyB2MC44LjArXG5cdFx0XHRmcmVlTW9kdWxlLmV4cG9ydHMgPSBwdW55Y29kZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gaW4gTmFyd2hhbCBvciBSaW5nb0pTIHYwLjcuMC1cblx0XHRcdGZvciAoa2V5IGluIHB1bnljb2RlKSB7XG5cdFx0XHRcdHB1bnljb2RlLmhhc093blByb3BlcnR5KGtleSkgJiYgKGZyZWVFeHBvcnRzW2tleV0gPSBwdW55Y29kZVtrZXldKTtcblx0XHRcdH1cblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0Ly8gaW4gUmhpbm8gb3IgYSB3ZWIgYnJvd3NlclxuXHRcdHJvb3QucHVueWNvZGUgPSBwdW55Y29kZTtcblx0fVxuXG59KHRoaXMpKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obW9kdWxlKSB7XG5cdGlmICghbW9kdWxlLndlYnBhY2tQb2x5ZmlsbCkge1xuXHRcdG1vZHVsZS5kZXByZWNhdGUgPSBmdW5jdGlvbigpIHt9O1xuXHRcdG1vZHVsZS5wYXRocyA9IFtdO1xuXHRcdC8vIG1vZHVsZS5wYXJlbnQgPSB1bmRlZmluZWQgYnkgZGVmYXVsdFxuXHRcdGlmICghbW9kdWxlLmNoaWxkcmVuKSBtb2R1bGUuY2hpbGRyZW4gPSBbXTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImxvYWRlZFwiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5sO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwiaWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUuaTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRtb2R1bGUud2VicGFja1BvbHlmaWxsID0gMTtcblx0fVxuXHRyZXR1cm4gbW9kdWxlO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGlzU3RyaW5nOiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gdHlwZW9mKGFyZykgPT09ICdzdHJpbmcnO1xuICB9LFxuICBpc09iamVjdDogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHR5cGVvZihhcmcpID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG4gIH0sXG4gIGlzTnVsbDogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGFyZyA9PT0gbnVsbDtcbiAgfSxcbiAgaXNOdWxsT3JVbmRlZmluZWQ6IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiBhcmcgPT0gbnVsbDtcbiAgfVxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5kZWNvZGUgPSBleHBvcnRzLnBhcnNlID0gcmVxdWlyZSgnLi9kZWNvZGUnKTtcbmV4cG9ydHMuZW5jb2RlID0gZXhwb3J0cy5zdHJpbmdpZnkgPSByZXF1aXJlKCcuL2VuY29kZScpO1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxuLy8gSWYgb2JqLmhhc093blByb3BlcnR5IGhhcyBiZWVuIG92ZXJyaWRkZW4sIHRoZW4gY2FsbGluZ1xuLy8gb2JqLmhhc093blByb3BlcnR5KHByb3ApIHdpbGwgYnJlYWsuXG4vLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9qb3llbnQvbm9kZS9pc3N1ZXMvMTcwN1xuZnVuY3Rpb24gaGFzT3duUHJvcGVydHkob2JqLCBwcm9wKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihxcywgc2VwLCBlcSwgb3B0aW9ucykge1xuICBzZXAgPSBzZXAgfHwgJyYnO1xuICBlcSA9IGVxIHx8ICc9JztcbiAgdmFyIG9iaiA9IHt9O1xuXG4gIGlmICh0eXBlb2YgcXMgIT09ICdzdHJpbmcnIHx8IHFzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICB2YXIgcmVnZXhwID0gL1xcKy9nO1xuICBxcyA9IHFzLnNwbGl0KHNlcCk7XG5cbiAgdmFyIG1heEtleXMgPSAxMDAwO1xuICBpZiAob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucy5tYXhLZXlzID09PSAnbnVtYmVyJykge1xuICAgIG1heEtleXMgPSBvcHRpb25zLm1heEtleXM7XG4gIH1cblxuICB2YXIgbGVuID0gcXMubGVuZ3RoO1xuICAvLyBtYXhLZXlzIDw9IDAgbWVhbnMgdGhhdCB3ZSBzaG91bGQgbm90IGxpbWl0IGtleXMgY291bnRcbiAgaWYgKG1heEtleXMgPiAwICYmIGxlbiA+IG1heEtleXMpIHtcbiAgICBsZW4gPSBtYXhLZXlzO1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgIHZhciB4ID0gcXNbaV0ucmVwbGFjZShyZWdleHAsICclMjAnKSxcbiAgICAgICAgaWR4ID0geC5pbmRleE9mKGVxKSxcbiAgICAgICAga3N0ciwgdnN0ciwgaywgdjtcblxuICAgIGlmIChpZHggPj0gMCkge1xuICAgICAga3N0ciA9IHguc3Vic3RyKDAsIGlkeCk7XG4gICAgICB2c3RyID0geC5zdWJzdHIoaWR4ICsgMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGtzdHIgPSB4O1xuICAgICAgdnN0ciA9ICcnO1xuICAgIH1cblxuICAgIGsgPSBkZWNvZGVVUklDb21wb25lbnQoa3N0cik7XG4gICAgdiA9IGRlY29kZVVSSUNvbXBvbmVudCh2c3RyKTtcblxuICAgIGlmICghaGFzT3duUHJvcGVydHkob2JqLCBrKSkge1xuICAgICAgb2JqW2tdID0gdjtcbiAgICB9IGVsc2UgaWYgKGlzQXJyYXkob2JqW2tdKSkge1xuICAgICAgb2JqW2tdLnB1c2godik7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9ialtrXSA9IFtvYmpba10sIHZdO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvYmo7XG59O1xuXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKHhzKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeHMpID09PSAnW29iamVjdCBBcnJheV0nO1xufTtcbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBzdHJpbmdpZnlQcmltaXRpdmUgPSBmdW5jdGlvbih2KSB7XG4gIHN3aXRjaCAodHlwZW9mIHYpIHtcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgcmV0dXJuIHY7XG5cbiAgICBjYXNlICdib29sZWFuJzpcbiAgICAgIHJldHVybiB2ID8gJ3RydWUnIDogJ2ZhbHNlJztcblxuICAgIGNhc2UgJ251bWJlcic6XG4gICAgICByZXR1cm4gaXNGaW5pdGUodikgPyB2IDogJyc7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuICcnO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9iaiwgc2VwLCBlcSwgbmFtZSkge1xuICBzZXAgPSBzZXAgfHwgJyYnO1xuICBlcSA9IGVxIHx8ICc9JztcbiAgaWYgKG9iaiA9PT0gbnVsbCkge1xuICAgIG9iaiA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBtYXAob2JqZWN0S2V5cyhvYmopLCBmdW5jdGlvbihrKSB7XG4gICAgICB2YXIga3MgPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKGspKSArIGVxO1xuICAgICAgaWYgKGlzQXJyYXkob2JqW2tdKSkge1xuICAgICAgICByZXR1cm4gbWFwKG9ialtrXSwgZnVuY3Rpb24odikge1xuICAgICAgICAgIHJldHVybiBrcyArIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUodikpO1xuICAgICAgICB9KS5qb2luKHNlcCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4ga3MgKyBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKG9ialtrXSkpO1xuICAgICAgfVxuICAgIH0pLmpvaW4oc2VwKTtcblxuICB9XG5cbiAgaWYgKCFuYW1lKSByZXR1cm4gJyc7XG4gIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKG5hbWUpKSArIGVxICtcbiAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUob2JqKSk7XG59O1xuXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKHhzKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeHMpID09PSAnW29iamVjdCBBcnJheV0nO1xufTtcblxuZnVuY3Rpb24gbWFwICh4cywgZikge1xuICBpZiAoeHMubWFwKSByZXR1cm4geHMubWFwKGYpO1xuICB2YXIgcmVzID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgeHMubGVuZ3RoOyBpKyspIHtcbiAgICByZXMucHVzaChmKHhzW2ldLCBpKSk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cblxudmFyIG9iamVjdEtleXMgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiAob2JqKSB7XG4gIHZhciByZXMgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSByZXMucHVzaChrZXkpO1xuICB9XG4gIHJldHVybiByZXM7XG59O1xuIiwiZXhwb3J0IGNsYXNzIEdsb2JhbCB7XHJcbiAgICBwdWJsaWMgc3RhdGljIGhhdHNQZXJDbGljayA6IG51bWJlciA9IDE7XHJcbiAgICBwdWJsaWMgc3RhdGljIG51bWJlck9mSGF0cyA6IG51bWJlciA9IDA7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBmbGF2b3VyVGV4dDogc3RyaW5nW10gPSBbXHJcbiAgICAgICAgXCJHbyB0d28gVGhlIEhhdCBTdG9hclwiLFxyXG4gICAgICAgIFwiIXBvb1MgcHVvUCBrbmlyRFwiLFxyXG4gICAgICAgIFwiV29haFwiXHJcbiAgICBdO1xyXG59IiwiLyohXG4gKiBAcGl4aS9zZXR0aW5ncyAtIHY1LjEuM1xuICogQ29tcGlsZWQgTW9uLCAwOSBTZXAgMjAxOSAwNDo1MTo1MyBVVENcbiAqXG4gKiBAcGl4aS9zZXR0aW5ncyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCBpc01vYmlsZSBmcm9tICdpc21vYmlsZWpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgaXNNb2JpbGUgfSBmcm9tICdpc21vYmlsZWpzJztcblxuLyoqXG4gKiBUaGUgbWF4aW11bSByZWNvbW1lbmRlZCB0ZXh0dXJlIHVuaXRzIHRvIHVzZS5cbiAqIEluIHRoZW9yeSB0aGUgYmlnZ2VyIHRoZSBiZXR0ZXIsIGFuZCBmb3IgZGVza3RvcCB3ZSdsbCB1c2UgYXMgbWFueSBhcyB3ZSBjYW4uXG4gKiBCdXQgc29tZSBtb2JpbGUgZGV2aWNlcyBzbG93IGRvd24gaWYgdGhlcmUgaXMgdG8gbWFueSBicmFuY2hlcyBpbiB0aGUgc2hhZGVyLlxuICogU28gaW4gcHJhY3RpY2UgdGhlcmUgc2VlbXMgdG8gYmUgYSBzd2VldCBzcG90IHNpemUgdGhhdCB2YXJpZXMgZGVwZW5kaW5nIG9uIHRoZSBkZXZpY2UuXG4gKlxuICogSW4gdjQsIGFsbCBtb2JpbGUgZGV2aWNlcyB3ZXJlIGxpbWl0ZWQgdG8gNCB0ZXh0dXJlIHVuaXRzIGJlY2F1c2UgZm9yIHRoaXMuXG4gKiBJbiB2NSwgd2UgYWxsb3cgYWxsIHRleHR1cmUgdW5pdHMgdG8gYmUgdXNlZCBvbiBtb2Rlcm4gQXBwbGUgb3IgQW5kcm9pZCBkZXZpY2VzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5mdW5jdGlvbiBtYXhSZWNvbW1lbmRlZFRleHR1cmVzKG1heClcbntcbiAgICB2YXIgYWxsb3dNYXggPSB0cnVlO1xuXG4gICAgaWYgKGlzTW9iaWxlLnRhYmxldCB8fCBpc01vYmlsZS5waG9uZSlcbiAgICB7XG4gICAgICAgIGFsbG93TWF4ID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKGlzTW9iaWxlLmFwcGxlLmRldmljZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIG1hdGNoID0gKG5hdmlnYXRvci51c2VyQWdlbnQpLm1hdGNoKC9PUyAoXFxkKylfKFxcZCspPy8pO1xuXG4gICAgICAgICAgICBpZiAobWF0Y2gpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIG1ham9yVmVyc2lvbiA9IHBhcnNlSW50KG1hdGNoWzFdLCAxMCk7XG5cbiAgICAgICAgICAgICAgICAvLyBBbGwgdGV4dHVyZSB1bml0cyBjYW4gYmUgdXNlZCBvbiBkZXZpY2VzIHRoYXQgc3VwcG9ydCBpb3MgMTEgb3IgYWJvdmVcbiAgICAgICAgICAgICAgICBpZiAobWFqb3JWZXJzaW9uID49IDExKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYWxsb3dNYXggPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNNb2JpbGUuYW5kcm9pZC5kZXZpY2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBtYXRjaCQxID0gKG5hdmlnYXRvci51c2VyQWdlbnQpLm1hdGNoKC9BbmRyb2lkXFxzKFswLTkuXSopLyk7XG5cbiAgICAgICAgICAgIGlmIChtYXRjaCQxKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBtYWpvclZlcnNpb24kMSA9IHBhcnNlSW50KG1hdGNoJDFbMV0sIDEwKTtcblxuICAgICAgICAgICAgICAgIC8vIEFsbCB0ZXh0dXJlIHVuaXRzIGNhbiBiZSB1c2VkIG9uIGRldmljZXMgdGhhdCBzdXBwb3J0IEFuZHJvaWQgNyAoTm91Z2F0KSBvciBhYm92ZVxuICAgICAgICAgICAgICAgIGlmIChtYWpvclZlcnNpb24kMSA+PSA3KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYWxsb3dNYXggPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBhbGxvd01heCA/IG1heCA6IDQ7XG59XG5cbi8qKlxuICogVXBsb2FkaW5nIHRoZSBzYW1lIGJ1ZmZlciBtdWx0aXBsZSB0aW1lcyBpbiBhIHNpbmdsZSBmcmFtZSBjYW4gY2F1c2UgcGVyZm9ybWFuY2UgaXNzdWVzLlxuICogQXBwYXJlbnQgb24gaU9TIHNvIG9ubHkgY2hlY2sgZm9yIHRoYXQgYXQgdGhlIG1vbWVudFxuICogVGhpcyBjaGVjayBtYXkgYmVjb21lIG1vcmUgY29tcGxleCBpZiB0aGlzIGlzc3VlIHBvcHMgdXAgZWxzZXdoZXJlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gY2FuVXBsb2FkU2FtZUJ1ZmZlcigpXG57XG4gICAgcmV0dXJuICFpc01vYmlsZS5hcHBsZS5kZXZpY2U7XG59XG5cbi8qKlxuICogVXNlcidzIGN1c3RvbWl6YWJsZSBnbG9iYWxzIGZvciBvdmVycmlkaW5nIHRoZSBkZWZhdWx0IFBJWEkgc2V0dGluZ3MsIHN1Y2hcbiAqIGFzIGEgcmVuZGVyZXIncyBkZWZhdWx0IHJlc29sdXRpb24sIGZyYW1lcmF0ZSwgZmxvYXQgcHJlY2lzaW9uLCBldGMuXG4gKiBAZXhhbXBsZVxuICogLy8gVXNlIHRoZSBuYXRpdmUgd2luZG93IHJlc29sdXRpb24gYXMgdGhlIGRlZmF1bHQgcmVzb2x1dGlvblxuICogLy8gd2lsbCBzdXBwb3J0IGhpZ2gtZGVuc2l0eSBkaXNwbGF5cyB3aGVuIHJlbmRlcmluZ1xuICogUElYSS5zZXR0aW5ncy5SRVNPTFVUSU9OID0gd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gKlxuICogLy8gRGlzYWJsZSBpbnRlcnBvbGF0aW9uIHdoZW4gc2NhbGluZywgd2lsbCBtYWtlIHRleHR1cmUgYmUgcGl4ZWxhdGVkXG4gKiBQSVhJLnNldHRpbmdzLlNDQUxFX01PREUgPSBQSVhJLlNDQUxFX01PREVTLk5FQVJFU1Q7XG4gKiBAbmFtZXNwYWNlIFBJWEkuc2V0dGluZ3NcbiAqL1xudmFyIHNldHRpbmdzID0ge1xuXG4gICAgLyoqXG4gICAgICogSWYgc2V0IHRvIHRydWUgV2ViR0wgd2lsbCBhdHRlbXB0IG1ha2UgdGV4dHVyZXMgbWltcGFwZWQgYnkgZGVmYXVsdC5cbiAgICAgKiBNaXBtYXBwaW5nIHdpbGwgb25seSBzdWNjZWVkIGlmIHRoZSBiYXNlIHRleHR1cmUgdXBsb2FkZWQgaGFzIHBvd2VyIG9mIHR3byBkaW1lbnNpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIE1JUE1BUF9URVhUVVJFU1xuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge1BJWEkuTUlQTUFQX01PREVTfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuTUlQTUFQX01PREVTLlBPVzJcbiAgICAgKi9cbiAgICBNSVBNQVBfVEVYVFVSRVM6IDEsXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IGFuaXNvdHJvcGljIGZpbHRlcmluZyBsZXZlbCBvZiB0ZXh0dXJlcy5cbiAgICAgKiBVc3VhbGx5IGZyb20gMCB0byAxNlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIEFOSVNPVFJPUElDX0xFVkVMXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICBBTklTT1RST1BJQ19MRVZFTDogMCxcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgUkVTT0xVVElPTlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG4gICAgUkVTT0xVVElPTjogMSxcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgZmlsdGVyIHJlc29sdXRpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgRklMVEVSX1JFU09MVVRJT05cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqL1xuICAgIEZJTFRFUl9SRVNPTFVUSU9OOiAxLFxuXG4gICAgLyoqXG4gICAgICogVGhlIG1heGltdW0gdGV4dHVyZXMgdGhhdCB0aGlzIGRldmljZSBzdXBwb3J0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBTUFJJVEVfTUFYX1RFWFRVUkVTXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDMyXG4gICAgICovXG4gICAgU1BSSVRFX01BWF9URVhUVVJFUzogbWF4UmVjb21tZW5kZWRUZXh0dXJlcygzMiksXG5cbiAgICAvLyBUT0RPOiBtYXliZSBjaGFuZ2UgdG8gU1BSSVRFLkJBVENIX1NJWkU6IDIwMDBcbiAgICAvLyBUT0RPOiBtYXliZSBhZGQgUEFSVElDTEUuQkFUQ0hfU0laRTogMTUwMDBcblxuICAgIC8qKlxuICAgICAqIFRoZSBkZWZhdWx0IHNwcml0ZSBiYXRjaCBzaXplLlxuICAgICAqXG4gICAgICogVGhlIGRlZmF1bHQgYWltcyB0byBiYWxhbmNlIGRlc2t0b3AgYW5kIG1vYmlsZSBkZXZpY2VzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIFNQUklURV9CQVRDSF9TSVpFXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDQwOTZcbiAgICAgKi9cbiAgICBTUFJJVEVfQkFUQ0hfU0laRTogNDA5NixcblxuICAgIC8qKlxuICAgICAqIFRoZSBkZWZhdWx0IHJlbmRlciBvcHRpb25zIGlmIG5vbmUgYXJlIHN1cHBsaWVkIHRvIHtAbGluayBQSVhJLlJlbmRlcmVyfVxuICAgICAqIG9yIHtAbGluayBQSVhJLkNhbnZhc1JlbmRlcmVyfS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBSRU5ERVJfT1BUSU9OU1xuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge0hUTUxDYW52YXNFbGVtZW50fSB2aWV3PW51bGxcbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gcmVzb2x1dGlvbj0xXG4gICAgICogQHByb3BlcnR5IHtib29sZWFufSBhbnRpYWxpYXM9ZmFsc2VcbiAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGZvcmNlRlhBQT1mYWxzZVxuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gYXV0b0RlbnNpdHk9ZmFsc2VcbiAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IHRyYW5zcGFyZW50PWZhbHNlXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IGJhY2tncm91bmRDb2xvcj0weDAwMDAwMFxuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gY2xlYXJCZWZvcmVSZW5kZXI9dHJ1ZVxuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gcHJlc2VydmVEcmF3aW5nQnVmZmVyPWZhbHNlXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHdpZHRoPTgwMFxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBoZWlnaHQ9NjAwXG4gICAgICogQHByb3BlcnR5IHtib29sZWFufSBsZWdhY3k9ZmFsc2VcbiAgICAgKi9cbiAgICBSRU5ERVJfT1BUSU9OUzoge1xuICAgICAgICB2aWV3OiBudWxsLFxuICAgICAgICBhbnRpYWxpYXM6IGZhbHNlLFxuICAgICAgICBmb3JjZUZYQUE6IGZhbHNlLFxuICAgICAgICBhdXRvRGVuc2l0eTogZmFsc2UsXG4gICAgICAgIHRyYW5zcGFyZW50OiBmYWxzZSxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAweDAwMDAwMCxcbiAgICAgICAgY2xlYXJCZWZvcmVSZW5kZXI6IHRydWUsXG4gICAgICAgIHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogZmFsc2UsXG4gICAgICAgIHdpZHRoOiA4MDAsXG4gICAgICAgIGhlaWdodDogNjAwLFxuICAgICAgICBsZWdhY3k6IGZhbHNlLFxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IEdhcmJhZ2UgQ29sbGVjdGlvbiBtb2RlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIEdDX01PREVcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtQSVhJLkdDX01PREVTfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuR0NfTU9ERVMuQVVUT1xuICAgICAqL1xuICAgIEdDX01PREU6IDAsXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IEdhcmJhZ2UgQ29sbGVjdGlvbiBtYXggaWRsZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBHQ19NQVhfSURMRVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAzNjAwXG4gICAgICovXG4gICAgR0NfTUFYX0lETEU6IDYwICogNjAsXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IEdhcmJhZ2UgQ29sbGVjdGlvbiBtYXhpbXVtIGNoZWNrIGNvdW50LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIEdDX01BWF9DSEVDS19DT1VOVFxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCA2MDBcbiAgICAgKi9cbiAgICBHQ19NQVhfQ0hFQ0tfQ09VTlQ6IDYwICogMTAsXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IHdyYXAgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgV1JBUF9NT0RFXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7UElYSS5XUkFQX01PREVTfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuV1JBUF9NT0RFUy5DTEFNUFxuICAgICAqL1xuICAgIFdSQVBfTU9ERTogMzMwNzEsXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IHNjYWxlIG1vZGUgZm9yIHRleHR1cmVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIFNDQUxFX01PREVcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtQSVhJLlNDQUxFX01PREVTfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuU0NBTEVfTU9ERVMuTElORUFSXG4gICAgICovXG4gICAgU0NBTEVfTU9ERTogMSxcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgc3BlY2lmeSBmbG9hdCBwcmVjaXNpb24gaW4gdmVydGV4IHNoYWRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBQUkVDSVNJT05fVkVSVEVYXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7UElYSS5QUkVDSVNJT059XG4gICAgICogQGRlZmF1bHQgUElYSS5QUkVDSVNJT04uSElHSFxuICAgICAqL1xuICAgIFBSRUNJU0lPTl9WRVJURVg6ICdoaWdocCcsXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IHNwZWNpZnkgZmxvYXQgcHJlY2lzaW9uIGluIGZyYWdtZW50IHNoYWRlci5cbiAgICAgKiBpT1MgaXMgYmVzdCBzZXQgYXQgaGlnaHAgZHVlIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS5qcy9pc3N1ZXMvMzc0MlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIFBSRUNJU0lPTl9GUkFHTUVOVFxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge1BJWEkuUFJFQ0lTSU9OfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuUFJFQ0lTSU9OLk1FRElVTVxuICAgICAqL1xuICAgIFBSRUNJU0lPTl9GUkFHTUVOVDogaXNNb2JpbGUuYXBwbGUuZGV2aWNlID8gJ2hpZ2hwJyA6ICdtZWRpdW1wJyxcblxuICAgIC8qKlxuICAgICAqIENhbiB3ZSB1cGxvYWQgdGhlIHNhbWUgYnVmZmVyIGluIGEgc2luZ2xlIGZyYW1lP1xuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIENBTl9VUExPQURfU0FNRV9CVUZGRVJcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIENBTl9VUExPQURfU0FNRV9CVUZGRVI6IGNhblVwbG9hZFNhbWVCdWZmZXIoKSxcblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgYml0bWFwIGNyZWF0aW9uIGJlZm9yZSBpbWFnZSBsb2FkLiBUaGlzIGZlYXR1cmUgaXMgZXhwZXJpbWVudGFsLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIENSRUFURV9JTUFHRV9CSVRNQVBcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgQ1JFQVRFX0lNQUdFX0JJVE1BUDogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW4gcmVuZGVyaW5nLCBzdG9wcGluZyBwaXhlbCBpbnRlcnBvbGF0aW9uLlxuICAgICAqIEFkdmFudGFnZXMgY2FuIGluY2x1ZGUgc2hhcnBlciBpbWFnZSBxdWFsaXR5IChsaWtlIHRleHQpIGFuZCBmYXN0ZXIgcmVuZGVyaW5nIG9uIGNhbnZhcy5cbiAgICAgKiBUaGUgbWFpbiBkaXNhZHZhbnRhZ2UgaXMgbW92ZW1lbnQgb2Ygb2JqZWN0cyBtYXkgYXBwZWFyIGxlc3Mgc21vb3RoLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBjb25zdGFudFxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICBST1VORF9QSVhFTFM6IGZhbHNlLFxufTtcblxuZXhwb3J0IHsgc2V0dGluZ3MgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNldHRpbmdzLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9jb25zdGFudHMgLSB2NS4xLjBcbiAqIENvbXBpbGVkIEZyaSwgMTkgSnVsIDIwMTkgMjE6NTQ6MzYgVVRDXG4gKlxuICogQHBpeGkvY29uc3RhbnRzIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuLyoqXG4gKiBEaWZmZXJlbnQgdHlwZXMgb2YgZW52aXJvbm1lbnRzIGZvciBXZWJHTC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgRU5WXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFdFQkdMX0xFR0FDWSAtIFVzZWQgZm9yIG9sZGVyIHYxIFdlYkdMIGRldmljZXMuIFBpeGlKUyB3aWxsIGFpbSB0byBlbnN1cmUgY29tcGF0aWJpbGl0eVxuICogIHdpdGggb2xkZXIgLyBsZXNzIGFkdmFuY2VkIGRldmljZXMuIElmIHlvdSBleHBlcmllbmNlIHVuZXhwbGFpbmVkIGZsaWNrZXJpbmcgcHJlZmVyIHRoaXMgZW52aXJvbm1lbnQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gV0VCR0wgLSBWZXJzaW9uIDEgb2YgV2ViR0xcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBXRUJHTDIgLSBWZXJzaW9uIDIgb2YgV2ViR0xcbiAqL1xudmFyIEVOViA9IHtcbiAgICBXRUJHTF9MRUdBQ1k6IDAsXG4gICAgV0VCR0w6IDEsXG4gICAgV0VCR0wyOiAyLFxufTtcblxuLyoqXG4gKiBDb25zdGFudCB0byBpZGVudGlmeSB0aGUgUmVuZGVyZXIgVHlwZS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgUkVOREVSRVJfVFlQRVxuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTktOT1dOIC0gVW5rbm93biByZW5kZXIgdHlwZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBXRUJHTCAtIFdlYkdMIHJlbmRlciB0eXBlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IENBTlZBUyAtIENhbnZhcyByZW5kZXIgdHlwZS5cbiAqL1xudmFyIFJFTkRFUkVSX1RZUEUgPSB7XG4gICAgVU5LTk9XTjogICAgMCxcbiAgICBXRUJHTDogICAgICAxLFxuICAgIENBTlZBUzogICAgIDIsXG59O1xuXG4vKipcbiAqIFZhcmlvdXMgYmxlbmQgbW9kZXMgc3VwcG9ydGVkIGJ5IFBJWEkuXG4gKlxuICogSU1QT1JUQU5UIC0gVGhlIFdlYkdMIHJlbmRlcmVyIG9ubHkgc3VwcG9ydHMgdGhlIE5PUk1BTCwgQURELCBNVUxUSVBMWSBhbmQgU0NSRUVOIGJsZW5kIG1vZGVzLlxuICogQW55dGhpbmcgZWxzZSB3aWxsIHNpbGVudGx5IGFjdCBsaWtlIE5PUk1BTC5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgQkxFTkRfTU9ERVNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTk9STUFMXG4gKiBAcHJvcGVydHkge251bWJlcn0gQUREXG4gKiBAcHJvcGVydHkge251bWJlcn0gTVVMVElQTFlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTQ1JFRU5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBPVkVSTEFZXG4gKiBAcHJvcGVydHkge251bWJlcn0gREFSS0VOXG4gKiBAcHJvcGVydHkge251bWJlcn0gTElHSFRFTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTE9SX0RPREdFXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09MT1JfQlVSTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IEhBUkRfTElHSFRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTT0ZUX0xJR0hUXG4gKiBAcHJvcGVydHkge251bWJlcn0gRElGRkVSRU5DRVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEVYQ0xVU0lPTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IEhVRVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNBVFVSQVRJT05cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT0xPUlxuICogQHByb3BlcnR5IHtudW1iZXJ9IExVTUlOT1NJVFlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT1JNQUxfTlBNXG4gKiBAcHJvcGVydHkge251bWJlcn0gQUREX05QTVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNDUkVFTl9OUE1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT05FXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1JDX0lOXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1JDX09VVFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNSQ19BVE9QXG4gKiBAcHJvcGVydHkge251bWJlcn0gRFNUX09WRVJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEU1RfSU5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEU1RfT1VUXG4gKiBAcHJvcGVydHkge251bWJlcn0gRFNUX0FUT1BcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTVUJUUkFDVFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNSQ19PVkVSXG4gKiBAcHJvcGVydHkge251bWJlcn0gRVJBU0VcbiAqL1xudmFyIEJMRU5EX01PREVTID0ge1xuICAgIE5PUk1BTDogICAgICAgICAwLFxuICAgIEFERDogICAgICAgICAgICAxLFxuICAgIE1VTFRJUExZOiAgICAgICAyLFxuICAgIFNDUkVFTjogICAgICAgICAzLFxuICAgIE9WRVJMQVk6ICAgICAgICA0LFxuICAgIERBUktFTjogICAgICAgICA1LFxuICAgIExJR0hURU46ICAgICAgICA2LFxuICAgIENPTE9SX0RPREdFOiAgICA3LFxuICAgIENPTE9SX0JVUk46ICAgICA4LFxuICAgIEhBUkRfTElHSFQ6ICAgICA5LFxuICAgIFNPRlRfTElHSFQ6ICAgICAxMCxcbiAgICBESUZGRVJFTkNFOiAgICAgMTEsXG4gICAgRVhDTFVTSU9OOiAgICAgIDEyLFxuICAgIEhVRTogICAgICAgICAgICAxMyxcbiAgICBTQVRVUkFUSU9OOiAgICAgMTQsXG4gICAgQ09MT1I6ICAgICAgICAgIDE1LFxuICAgIExVTUlOT1NJVFk6ICAgICAxNixcbiAgICBOT1JNQUxfTlBNOiAgICAgMTcsXG4gICAgQUREX05QTTogICAgICAgIDE4LFxuICAgIFNDUkVFTl9OUE06ICAgICAxOSxcbiAgICBOT05FOiAgICAgICAgICAgMjAsXG5cbiAgICBTUkNfT1ZFUjogICAgICAgMCxcbiAgICBTUkNfSU46ICAgICAgICAgMjEsXG4gICAgU1JDX09VVDogICAgICAgIDIyLFxuICAgIFNSQ19BVE9QOiAgICAgICAyMyxcbiAgICBEU1RfT1ZFUjogICAgICAgMjQsXG4gICAgRFNUX0lOOiAgICAgICAgIDI1LFxuICAgIERTVF9PVVQ6ICAgICAgICAyNixcbiAgICBEU1RfQVRPUDogICAgICAgMjcsXG4gICAgRVJBU0U6ICAgICAgICAgIDI2LFxuICAgIFNVQlRSQUNUOiAgICAgICAyOCxcbn07XG5cbi8qKlxuICogVmFyaW91cyB3ZWJnbCBkcmF3IG1vZGVzLiBUaGVzZSBjYW4gYmUgdXNlZCB0byBzcGVjaWZ5IHdoaWNoIEdMIGRyYXdNb2RlIHRvIHVzZVxuICogdW5kZXIgY2VydGFpbiBzaXR1YXRpb25zIGFuZCByZW5kZXJlcnMuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIERSQVdfTU9ERVNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gUE9JTlRTXG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORVNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FX0xPT1BcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FX1NUUklQXG4gKiBAcHJvcGVydHkge251bWJlcn0gVFJJQU5HTEVTXG4gKiBAcHJvcGVydHkge251bWJlcn0gVFJJQU5HTEVfU1RSSVBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBUUklBTkdMRV9GQU5cbiAqL1xudmFyIERSQVdfTU9ERVMgPSB7XG4gICAgUE9JTlRTOiAgICAgICAgIDAsXG4gICAgTElORVM6ICAgICAgICAgIDEsXG4gICAgTElORV9MT09QOiAgICAgIDIsXG4gICAgTElORV9TVFJJUDogICAgIDMsXG4gICAgVFJJQU5HTEVTOiAgICAgIDQsXG4gICAgVFJJQU5HTEVfU1RSSVA6IDUsXG4gICAgVFJJQU5HTEVfRkFOOiAgIDYsXG59O1xuXG4vKipcbiAqIFZhcmlvdXMgR0wgdGV4dHVyZS9yZXNvdXJjZXMgZm9ybWF0cy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQG5hbWUgRk9STUFUU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSR0JBPTY0MDhcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSR0I9NjQwN1xuICogQHByb3BlcnR5IHtudW1iZXJ9IEFMUEhBPTY0MDZcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMVU1JTkFOQ0U9NjQwOVxuICogQHByb3BlcnR5IHtudW1iZXJ9IExVTUlOQU5DRV9BTFBIQT02NDEwXG4gKiBAcHJvcGVydHkge251bWJlcn0gREVQVEhfQ09NUE9ORU5UPTY0MDJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBERVBUSF9TVEVOQ0lMPTM0MDQxXG4gKi9cbnZhciBGT1JNQVRTID0ge1xuICAgIFJHQkE6ICAgICAgICAgICAgIDY0MDgsXG4gICAgUkdCOiAgICAgICAgICAgICAgNjQwNyxcbiAgICBBTFBIQTogICAgICAgICAgICA2NDA2LFxuICAgIExVTUlOQU5DRTogICAgICAgIDY0MDksXG4gICAgTFVNSU5BTkNFX0FMUEhBOiAgNjQxMCxcbiAgICBERVBUSF9DT01QT05FTlQ6ICA2NDAyLFxuICAgIERFUFRIX1NURU5DSUw6ICAgIDM0MDQxLFxufTtcblxuLyoqXG4gKiBWYXJpb3VzIEdMIHRhcmdldCB0eXBlcy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQG5hbWUgVEFSR0VUU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFXzJEPTM1NTNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFX0NVQkVfTUFQPTM0MDY3XG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV8yRF9BUlJBWT0zNTg2NlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWD0zNDA2OVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWD0zNDA3MFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWT0zNDA3MVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWT0zNDA3MlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWj0zNDA3M1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWj0zNDA3NFxuICovXG52YXIgVEFSR0VUUyA9IHtcbiAgICBURVhUVVJFXzJEOiAzNTUzLFxuICAgIFRFWFRVUkVfQ1VCRV9NQVA6IDM0MDY3LFxuICAgIFRFWFRVUkVfMkRfQVJSQVk6IDM1ODY2LFxuICAgIFRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWDogMzQwNjksXG4gICAgVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9YOiAzNDA3MCxcbiAgICBURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1k6IDM0MDcxLFxuICAgIFRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWTogMzQwNzIsXG4gICAgVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9aOiAzNDA3MyxcbiAgICBURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1o6IDM0MDc0LFxufTtcblxuLyoqXG4gKiBWYXJpb3VzIEdMIGRhdGEgZm9ybWF0IHR5cGVzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBUWVBFU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlNJR05FRF9CWVRFPTUxMjFcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlNJR05FRF9TSE9SVD01MTIzXG4gKiBAcHJvcGVydHkge251bWJlcn0gVU5TSUdORURfU0hPUlRfNV82XzU9MzM2MzVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlNJR05FRF9TSE9SVF80XzRfNF80PTMyODE5XG4gKiBAcHJvcGVydHkge251bWJlcn0gVU5TSUdORURfU0hPUlRfNV81XzVfMT0zMjgyMFxuICogQHByb3BlcnR5IHtudW1iZXJ9IEZMT0FUPTUxMjZcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBIQUxGX0ZMT0FUPTM2MTkzXG4gKi9cbnZhciBUWVBFUyA9IHtcbiAgICBVTlNJR05FRF9CWVRFOiA1MTIxLFxuICAgIFVOU0lHTkVEX1NIT1JUOiA1MTIzLFxuICAgIFVOU0lHTkVEX1NIT1JUXzVfNl81OiAzMzYzNSxcbiAgICBVTlNJR05FRF9TSE9SVF80XzRfNF80OiAzMjgxOSxcbiAgICBVTlNJR05FRF9TSE9SVF81XzVfNV8xOiAzMjgyMCxcbiAgICBGTE9BVDogNTEyNixcbiAgICBIQUxGX0ZMT0FUOiAzNjE5Myxcbn07XG5cbi8qKlxuICogVGhlIHNjYWxlIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICpcbiAqIFRoZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFfSBzY2FsZSBtb2RlIGFmZmVjdHMgdGhlIGRlZmF1bHQgc2NhbGluZyBtb2RlIG9mIGZ1dHVyZSBvcGVyYXRpb25zLlxuICogSXQgY2FuIGJlIHJlLWFzc2lnbmVkIHRvIGVpdGhlciBMSU5FQVIgb3IgTkVBUkVTVCwgZGVwZW5kaW5nIHVwb24gc3VpdGFiaWxpdHkuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFNDQUxFX01PREVTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVBUiBTbW9vdGggc2NhbGluZ1xuICogQHByb3BlcnR5IHtudW1iZXJ9IE5FQVJFU1QgUGl4ZWxhdGluZyBzY2FsaW5nXG4gKi9cbnZhciBTQ0FMRV9NT0RFUyA9IHtcbiAgICBMSU5FQVI6ICAgICAxLFxuICAgIE5FQVJFU1Q6ICAgIDAsXG59O1xuXG4vKipcbiAqIFRoZSB3cmFwIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICpcbiAqIFRoZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5XUkFQX01PREV9IHdyYXAgbW9kZSBhZmZlY3RzIHRoZSBkZWZhdWx0IHdyYXBwaW5nIG1vZGUgb2YgZnV0dXJlIG9wZXJhdGlvbnMuXG4gKiBJdCBjYW4gYmUgcmUtYXNzaWduZWQgdG8gZWl0aGVyIENMQU1QIG9yIFJFUEVBVCwgZGVwZW5kaW5nIHVwb24gc3VpdGFiaWxpdHkuXG4gKiBJZiB0aGUgdGV4dHVyZSBpcyBub24gcG93ZXIgb2YgdHdvIHRoZW4gY2xhbXAgd2lsbCBiZSB1c2VkIHJlZ2FyZGxlc3MgYXMgV2ViR0wgY2FuXG4gKiBvbmx5IHVzZSBSRVBFQVQgaWYgdGhlIHRleHR1cmUgaXMgcG8yLlxuICpcbiAqIFRoaXMgcHJvcGVydHkgb25seSBhZmZlY3RzIFdlYkdMLlxuICpcbiAqIEBuYW1lIFdSQVBfTU9ERVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IENMQU1QIC0gVGhlIHRleHR1cmVzIHV2cyBhcmUgY2xhbXBlZFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFJFUEVBVCAtIFRoZSB0ZXh0dXJlIHV2cyB0aWxlIGFuZCByZXBlYXRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBNSVJST1JFRF9SRVBFQVQgLSBUaGUgdGV4dHVyZSB1dnMgdGlsZSBhbmQgcmVwZWF0IHdpdGggbWlycm9yaW5nXG4gKi9cbnZhciBXUkFQX01PREVTID0ge1xuICAgIENMQU1QOiAgICAgICAgICAgMzMwNzEsXG4gICAgUkVQRUFUOiAgICAgICAgICAxMDQ5NyxcbiAgICBNSVJST1JFRF9SRVBFQVQ6IDMzNjQ4LFxufTtcblxuLyoqXG4gKiBNaXBtYXAgZmlsdGVyaW5nIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICpcbiAqIFRoZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5NSVBNQVBfVEVYVFVSRVN9IGFmZmVjdHMgZGVmYXVsdCB0ZXh0dXJlIGZpbHRlcmluZy5cbiAqIE1pcG1hcHMgYXJlIGdlbmVyYXRlZCBmb3IgYSBiYXNlVGV4dHVyZSBpZiBpdHMgYG1pcG1hcGAgZmllbGQgaXMgYE9OYCxcbiAqIG9yIGl0cyBgUE9XMmAgYW5kIHRleHR1cmUgZGltZW5zaW9ucyBhcmUgcG93ZXJzIG9mIDIuXG4gKiBEdWUgdG8gcGxhdGZvcm0gcmVzdHJpY3Rpb24sIGBPTmAgb3B0aW9uIHdpbGwgd29yayBsaWtlIGBQT1cyYCBmb3Igd2ViZ2wtMS5cbiAqXG4gKiBUaGlzIHByb3BlcnR5IG9ubHkgYWZmZWN0cyBXZWJHTC5cbiAqXG4gKiBAbmFtZSBNSVBNQVBfTU9ERVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE9GRiAtIE5vIG1pcG1hcHNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBQT1cyIC0gR2VuZXJhdGUgbWlwbWFwcyBpZiB0ZXh0dXJlIGRpbWVuc2lvbnMgYXJlIHBvdzJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBPTiAtIEFsd2F5cyBnZW5lcmF0ZSBtaXBtYXBzXG4gKi9cbnZhciBNSVBNQVBfTU9ERVMgPSB7XG4gICAgT0ZGOiAwLFxuICAgIFBPVzI6IDEsXG4gICAgT046IDIsXG59O1xuXG4vKipcbiAqIFRoZSBnYyBtb2RlcyB0aGF0IGFyZSBzdXBwb3J0ZWQgYnkgcGl4aS5cbiAqXG4gKiBUaGUge0BsaW5rIFBJWEkuc2V0dGluZ3MuR0NfTU9ERX0gR2FyYmFnZSBDb2xsZWN0aW9uIG1vZGUgZm9yIFBpeGlKUyB0ZXh0dXJlcyBpcyBBVVRPXG4gKiBJZiBzZXQgdG8gR0NfTU9ERSwgdGhlIHJlbmRlcmVyIHdpbGwgb2NjYXNpb25hbGx5IGNoZWNrIHRleHR1cmVzIHVzYWdlLiBJZiB0aGV5IGFyZSBub3RcbiAqIHVzZWQgZm9yIGEgc3BlY2lmaWVkIHBlcmlvZCBvZiB0aW1lIHRoZXkgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIEdQVS4gVGhleSB3aWxsIG9mIGNvdXJzZVxuICogYmUgdXBsb2FkZWQgYWdhaW4gd2hlbiB0aGV5IGFyZSByZXF1aXJlZC4gVGhpcyBpcyBhIHNpbGVudCBiZWhpbmQgdGhlIHNjZW5lcyBwcm9jZXNzIHRoYXRcbiAqIHNob3VsZCBlbnN1cmUgdGhhdCB0aGUgR1BVIGRvZXMgbm90ICBnZXQgZmlsbGVkIHVwLlxuICpcbiAqIEhhbmR5IGZvciBtb2JpbGUgZGV2aWNlcyFcbiAqIFRoaXMgcHJvcGVydHkgb25seSBhZmZlY3RzIFdlYkdMLlxuICpcbiAqIEBuYW1lIEdDX01PREVTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBBVVRPIC0gR2FyYmFnZSBjb2xsZWN0aW9uIHdpbGwgaGFwcGVuIHBlcmlvZGljYWxseSBhdXRvbWF0aWNhbGx5XG4gKiBAcHJvcGVydHkge251bWJlcn0gTUFOVUFMIC0gR2FyYmFnZSBjb2xsZWN0aW9uIHdpbGwgbmVlZCB0byBiZSBjYWxsZWQgbWFudWFsbHlcbiAqL1xudmFyIEdDX01PREVTID0ge1xuICAgIEFVVE86ICAgICAgICAgICAwLFxuICAgIE1BTlVBTDogICAgICAgICAxLFxufTtcblxuLyoqXG4gKiBDb25zdGFudHMgdGhhdCBzcGVjaWZ5IGZsb2F0IHByZWNpc2lvbiBpbiBzaGFkZXJzLlxuICpcbiAqIEBuYW1lIFBSRUNJU0lPTlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKiBAY29uc3RhbnRcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBMT1c9J2xvd3AnXG4gKiBAcHJvcGVydHkge3N0cmluZ30gTUVESVVNPSdtZWRpdW1wJ1xuICogQHByb3BlcnR5IHtzdHJpbmd9IEhJR0g9J2hpZ2hwJ1xuICovXG52YXIgUFJFQ0lTSU9OID0ge1xuICAgIExPVzogJ2xvd3AnLFxuICAgIE1FRElVTTogJ21lZGl1bXAnLFxuICAgIEhJR0g6ICdoaWdocCcsXG59O1xuXG5leHBvcnQgeyBCTEVORF9NT0RFUywgRFJBV19NT0RFUywgRU5WLCBGT1JNQVRTLCBHQ19NT0RFUywgTUlQTUFQX01PREVTLCBQUkVDSVNJT04sIFJFTkRFUkVSX1RZUEUsIFNDQUxFX01PREVTLCBUQVJHRVRTLCBUWVBFUywgV1JBUF9NT0RFUyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnRzLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS91dGlscyAtIHY1LjEuM1xuICogQ29tcGlsZWQgTW9uLCAwOSBTZXAgMjAxOSAwNDo1MTo1MyBVVENcbiAqXG4gKiBAcGl4aS91dGlscyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuZXhwb3J0IHsgaXNNb2JpbGUgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEV2ZW50RW1pdHRlciB9IGZyb20gJ2V2ZW50ZW1pdHRlcjMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBlYXJjdXQgfSBmcm9tICdlYXJjdXQnO1xuaW1wb3J0IF91cmwgZnJvbSAndXJsJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdXJsIH0gZnJvbSAndXJsJztcbmltcG9ydCB7IEJMRU5EX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcblxuLyoqXG4gKiBUaGUgcHJlZml4IHRoYXQgZGVub3RlcyBhIFVSTCBpcyBmb3IgYSByZXRpbmEgYXNzZXQuXG4gKlxuICogQHN0YXRpY1xuICogQG5hbWUgUkVUSU5BX1BSRUZJWFxuICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAqIEB0eXBlIHtSZWdFeHB9XG4gKiBAZGVmYXVsdCAvQChbMC05XFwuXSspeC9cbiAqIEBleGFtcGxlIGBAMnhgXG4gKi9cbnNldHRpbmdzLlJFVElOQV9QUkVGSVggPSAvQChbMC05XFwuXSspeC87XG5cbi8qKlxuICogU2hvdWxkIHRoZSBgZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdGAgZmxhZyBiZSBlbmFibGVkIGFzIGEgY29udGV4dCBvcHRpb24gdXNlZCBpbiB0aGUgYGlzV2ViR0xTdXBwb3J0ZWRgIGZ1bmN0aW9uLlxuICogRm9yIG1vc3Qgc2NlbmFyaW9zIHRoaXMgc2hvdWxkIGJlIGxlZnQgYXMgdHJ1ZSwgYXMgb3RoZXJ3aXNlIHRoZSB1c2VyIG1heSBoYXZlIGEgcG9vciBleHBlcmllbmNlLlxuICogSG93ZXZlciwgaXQgY2FuIGJlIHVzZWZ1bCB0byBkaXNhYmxlIHVuZGVyIGNlcnRhaW4gc2NlbmFyaW9zLCBzdWNoIGFzIGhlYWRsZXNzIHVuaXQgdGVzdHMuXG4gKlxuICogQHN0YXRpY1xuICogQG5hbWUgRkFJTF9JRl9NQUpPUl9QRVJGT1JNQU5DRV9DQVZFQVRcbiAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqIEBkZWZhdWx0IHRydWVcbiAqL1xuc2V0dGluZ3MuRkFJTF9JRl9NQUpPUl9QRVJGT1JNQU5DRV9DQVZFQVQgPSB0cnVlO1xuXG52YXIgc2FpZEhlbGxvID0gZmFsc2U7XG52YXIgVkVSU0lPTiA9ICc1LjEuMyc7XG5cbi8qKlxuICogU2tpcHMgdGhlIGhlbGxvIG1lc3NhZ2Ugb2YgcmVuZGVyZXJzIHRoYXQgYXJlIGNyZWF0ZWQgYWZ0ZXIgdGhpcyBpcyBydW4uXG4gKlxuICogQGZ1bmN0aW9uIHNraXBIZWxsb1xuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqL1xuZnVuY3Rpb24gc2tpcEhlbGxvKClcbntcbiAgICBzYWlkSGVsbG8gPSB0cnVlO1xufVxuXG4vKipcbiAqIExvZ3Mgb3V0IHRoZSB2ZXJzaW9uIGFuZCByZW5kZXJlciBpbmZvcm1hdGlvbiBmb3IgdGhpcyBydW5uaW5nIGluc3RhbmNlIG9mIFBJWEkuXG4gKiBJZiB5b3UgZG9uJ3Qgd2FudCB0byBzZWUgdGhpcyBtZXNzYWdlIHlvdSBjYW4gcnVuIGBQSVhJLnV0aWxzLnNraXBIZWxsbygpYCBiZWZvcmVcbiAqIGNyZWF0aW5nIHlvdXIgcmVuZGVyZXIuIEtlZXAgaW4gbWluZCB0aGF0IGRvaW5nIHRoYXQgd2lsbCBmb3JldmVyIG1ha2UgeW91IGEgamVyayBmYWNlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBmdW5jdGlvbiBzYXlIZWxsb1xuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gVGhlIHN0cmluZyByZW5kZXJlciB0eXBlIHRvIGxvZy5cbiAqL1xuZnVuY3Rpb24gc2F5SGVsbG8odHlwZSlcbntcbiAgICBpZiAoc2FpZEhlbGxvKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZignY2hyb21lJykgPiAtMSlcbiAgICB7XG4gICAgICAgIHZhciBhcmdzID0gW1xuICAgICAgICAgICAgKFwiXFxuICVjICVjICVjIFBpeGlKUyBcIiArIFZFUlNJT04gKyBcIiAtIOKcsCBcIiArIHR5cGUgKyBcIiDinLAgICVjICAlYyAgaHR0cDovL3d3dy5waXhpanMuY29tLyAgJWMgJWMg4pmlJWPimaUlY+KZpSBcXG5cXG5cIiksXG4gICAgICAgICAgICAnYmFja2dyb3VuZDogI2ZmNjZhNTsgcGFkZGluZzo1cHggMDsnLFxuICAgICAgICAgICAgJ2JhY2tncm91bmQ6ICNmZjY2YTU7IHBhZGRpbmc6NXB4IDA7JyxcbiAgICAgICAgICAgICdjb2xvcjogI2ZmNjZhNTsgYmFja2dyb3VuZDogIzAzMDMwNzsgcGFkZGluZzo1cHggMDsnLFxuICAgICAgICAgICAgJ2JhY2tncm91bmQ6ICNmZjY2YTU7IHBhZGRpbmc6NXB4IDA7JyxcbiAgICAgICAgICAgICdiYWNrZ3JvdW5kOiAjZmZjM2RjOyBwYWRkaW5nOjVweCAwOycsXG4gICAgICAgICAgICAnYmFja2dyb3VuZDogI2ZmNjZhNTsgcGFkZGluZzo1cHggMDsnLFxuICAgICAgICAgICAgJ2NvbG9yOiAjZmYyNDI0OyBiYWNrZ3JvdW5kOiAjZmZmOyBwYWRkaW5nOjVweCAwOycsXG4gICAgICAgICAgICAnY29sb3I6ICNmZjI0MjQ7IGJhY2tncm91bmQ6ICNmZmY7IHBhZGRpbmc6NXB4IDA7JyxcbiAgICAgICAgICAgICdjb2xvcjogI2ZmMjQyNDsgYmFja2dyb3VuZDogI2ZmZjsgcGFkZGluZzo1cHggMDsnIF07XG5cbiAgICAgICAgd2luZG93LmNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsIGFyZ3MpO1xuICAgIH1cbiAgICBlbHNlIGlmICh3aW5kb3cuY29uc29sZSlcbiAgICB7XG4gICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygoXCJQaXhpSlMgXCIgKyBWRVJTSU9OICsgXCIgLSBcIiArIHR5cGUgKyBcIiAtIGh0dHA6Ly93d3cucGl4aWpzLmNvbS9cIikpO1xuICAgIH1cblxuICAgIHNhaWRIZWxsbyA9IHRydWU7XG59XG5cbnZhciBzdXBwb3J0ZWQ7XG5cbi8qKlxuICogSGVscGVyIGZvciBjaGVja2luZyBmb3IgV2ViR0wgc3VwcG9ydC5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGlzV2ViR0xTdXBwb3J0ZWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IElzIFdlYkdMIHN1cHBvcnRlZC5cbiAqL1xuZnVuY3Rpb24gaXNXZWJHTFN1cHBvcnRlZCgpXG57XG4gICAgaWYgKHR5cGVvZiBzdXBwb3J0ZWQgPT09ICd1bmRlZmluZWQnKVxuICAgIHtcbiAgICAgICAgc3VwcG9ydGVkID0gKGZ1bmN0aW9uIHN1cHBvcnRlZCgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBjb250ZXh0T3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBzdGVuY2lsOiB0cnVlLFxuICAgICAgICAgICAgICAgIGZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ6IHNldHRpbmdzLkZBSUxfSUZfTUFKT1JfUEVSRk9STUFOQ0VfQ0FWRUFULFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdHJ5XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKCF3aW5kb3cuV2ViR0xSZW5kZXJpbmdDb250ZXh0KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgICAgICAgICB2YXIgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnLCBjb250ZXh0T3B0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgfHwgY2FudmFzLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcsIGNvbnRleHRPcHRpb25zKTtcblxuICAgICAgICAgICAgICAgIHZhciBzdWNjZXNzID0gISEoZ2wgJiYgZ2wuZ2V0Q29udGV4dEF0dHJpYnV0ZXMoKS5zdGVuY2lsKTtcblxuICAgICAgICAgICAgICAgIGlmIChnbClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsb3NlQ29udGV4dCA9IGdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGxvc2VDb250ZXh0KVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb3NlQ29udGV4dC5sb3NlQ29udGV4dCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZ2wgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN1Y2Nlc3M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN1cHBvcnRlZDtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhIGhleGFkZWNpbWFsIGNvbG9yIG51bWJlciB0byBhbiBbUiwgRywgQl0gYXJyYXkgb2Ygbm9ybWFsaXplZCBmbG9hdHMgKG51bWJlcnMgZnJvbSAwLjAgdG8gMS4wKS5cbiAqXG4gKiBAZXhhbXBsZVxuICogUElYSS51dGlscy5oZXgycmdiKDB4ZmZmZmZmKTsgLy8gcmV0dXJucyBbMSwgMSwgMV1cbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gaGV4MnJnYlxuICogQHBhcmFtIHtudW1iZXJ9IGhleCAtIFRoZSBoZXhhZGVjaW1hbCBudW1iZXIgdG8gY29udmVydFxuICogQHBhcmFtICB7bnVtYmVyW119IFtvdXQ9W11dIElmIHN1cHBsaWVkLCB0aGlzIGFycmF5IHdpbGwgYmUgdXNlZCByYXRoZXIgdGhhbiByZXR1cm5pbmcgYSBuZXcgb25lXG4gKiBAcmV0dXJuIHtudW1iZXJbXX0gQW4gYXJyYXkgcmVwcmVzZW50aW5nIHRoZSBbUiwgRywgQl0gb2YgdGhlIGNvbG9yIHdoZXJlIGFsbCB2YWx1ZXMgYXJlIGZsb2F0cy5cbiAqL1xuZnVuY3Rpb24gaGV4MnJnYihoZXgsIG91dClcbntcbiAgICBvdXQgPSBvdXQgfHwgW107XG5cbiAgICBvdXRbMF0gPSAoKGhleCA+PiAxNikgJiAweEZGKSAvIDI1NTtcbiAgICBvdXRbMV0gPSAoKGhleCA+PiA4KSAmIDB4RkYpIC8gMjU1O1xuICAgIG91dFsyXSA9IChoZXggJiAweEZGKSAvIDI1NTtcblxuICAgIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQ29udmVydHMgYSBoZXhhZGVjaW1hbCBjb2xvciBudW1iZXIgdG8gYSBzdHJpbmcuXG4gKlxuICogQGV4YW1wbGVcbiAqIFBJWEkudXRpbHMuaGV4MnN0cmluZygweGZmZmZmZik7IC8vIHJldHVybnMgXCIjZmZmZmZmXCJcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gaGV4MnN0cmluZ1xuICogQHBhcmFtIHtudW1iZXJ9IGhleCAtIE51bWJlciBpbiBoZXggKGUuZy4sIGAweGZmZmZmZmApXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBzdHJpbmcgY29sb3IgKGUuZy4sIGBcIiNmZmZmZmZcImApLlxuICovXG5mdW5jdGlvbiBoZXgyc3RyaW5nKGhleClcbntcbiAgICBoZXggPSBoZXgudG9TdHJpbmcoMTYpO1xuICAgIGhleCA9ICcwMDAwMDAnLnN1YnN0cigwLCA2IC0gaGV4Lmxlbmd0aCkgKyBoZXg7XG5cbiAgICByZXR1cm4gKFwiI1wiICsgaGV4KTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhIGhleGFkZWNpbWFsIHN0cmluZyB0byBhIGhleGFkZWNpbWFsIGNvbG9yIG51bWJlci5cbiAqXG4gKiBAZXhhbXBsZVxuICogUElYSS51dGlscy5zdHJpbmcyaGV4KFwiI2ZmZmZmZlwiKTsgLy8gcmV0dXJucyAweGZmZmZmZlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBzdHJpbmcyaGV4XG4gKiBAcGFyYW0ge3N0cmluZ30gVGhlIHN0cmluZyBjb2xvciAoZS5nLiwgYFwiI2ZmZmZmZlwiYClcbiAqIEByZXR1cm4ge251bWJlcn0gTnVtYmVyIGluIGhleGFkZWNpbWFsLlxuICovXG5mdW5jdGlvbiBzdHJpbmcyaGV4KHN0cmluZylcbntcbiAgICBpZiAodHlwZW9mIHN0cmluZyA9PT0gJ3N0cmluZycgJiYgc3RyaW5nWzBdID09PSAnIycpXG4gICAge1xuICAgICAgICBzdHJpbmcgPSBzdHJpbmcuc3Vic3RyKDEpO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJzZUludChzdHJpbmcsIDE2KTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhIGNvbG9yIGFzIGFuIFtSLCBHLCBCXSBhcnJheSBvZiBub3JtYWxpemVkIGZsb2F0cyB0byBhIGhleGFkZWNpbWFsIG51bWJlci5cbiAqXG4gKiBAZXhhbXBsZVxuICogUElYSS51dGlscy5yZ2IyaGV4KFsxLCAxLCAxXSk7IC8vIHJldHVybnMgMHhmZmZmZmZcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gcmdiMmhleFxuICogQHBhcmFtIHtudW1iZXJbXX0gcmdiIC0gQXJyYXkgb2YgbnVtYmVycyB3aGVyZSBhbGwgdmFsdWVzIGFyZSBub3JtYWxpemVkIGZsb2F0cyBmcm9tIDAuMCB0byAxLjAuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE51bWJlciBpbiBoZXhhZGVjaW1hbC5cbiAqL1xuZnVuY3Rpb24gcmdiMmhleChyZ2IpXG57XG4gICAgcmV0dXJuICgoKHJnYlswXSAqIDI1NSkgPDwgMTYpICsgKChyZ2JbMV0gKiAyNTUpIDw8IDgpICsgKHJnYlsyXSAqIDI1NSB8IDApKTtcbn1cblxuLyoqXG4gKiBDb3JyZWN0cyBQaXhpSlMgYmxlbmQsIHRha2VzIHByZW11bHRpcGxpZWQgYWxwaGEgaW50byBhY2NvdW50XG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBtYXBQcmVtdWx0aXBsaWVkQmxlbmRNb2Rlc1xuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyW10+fSBbYXJyYXldIC0gVGhlIGFycmF5IHRvIG91dHB1dCBpbnRvLlxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyW10+fSBNYXBwZWQgbW9kZXMuXG4gKi9cbmZ1bmN0aW9uIG1hcFByZW11bHRpcGxpZWRCbGVuZE1vZGVzKClcbntcbiAgICB2YXIgcG0gPSBbXTtcbiAgICB2YXIgbnBtID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDMyOyBpKyspXG4gICAge1xuICAgICAgICBwbVtpXSA9IGk7XG4gICAgICAgIG5wbVtpXSA9IGk7XG4gICAgfVxuXG4gICAgcG1bQkxFTkRfTU9ERVMuTk9STUFMX05QTV0gPSBCTEVORF9NT0RFUy5OT1JNQUw7XG4gICAgcG1bQkxFTkRfTU9ERVMuQUREX05QTV0gPSBCTEVORF9NT0RFUy5BREQ7XG4gICAgcG1bQkxFTkRfTU9ERVMuU0NSRUVOX05QTV0gPSBCTEVORF9NT0RFUy5TQ1JFRU47XG5cbiAgICBucG1bQkxFTkRfTU9ERVMuTk9STUFMXSA9IEJMRU5EX01PREVTLk5PUk1BTF9OUE07XG4gICAgbnBtW0JMRU5EX01PREVTLkFERF0gPSBCTEVORF9NT0RFUy5BRERfTlBNO1xuICAgIG5wbVtCTEVORF9NT0RFUy5TQ1JFRU5dID0gQkxFTkRfTU9ERVMuU0NSRUVOX05QTTtcblxuICAgIHZhciBhcnJheSA9IFtdO1xuXG4gICAgYXJyYXkucHVzaChucG0pO1xuICAgIGFycmF5LnB1c2gocG0pO1xuXG4gICAgcmV0dXJuIGFycmF5O1xufVxuXG4vKipcbiAqIG1hcHMgcHJlbXVsdGlwbHkgZmxhZyBhbmQgYmxlbmRNb2RlIHRvIGFkanVzdGVkIGJsZW5kTW9kZVxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBjb25zdCBwcmVtdWx0aXBseUJsZW5kTW9kZVxuICogQHR5cGUge0FycmF5PG51bWJlcltdPn1cbiAqL1xudmFyIHByZW11bHRpcGx5QmxlbmRNb2RlID0gbWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXMoKTtcblxuLyoqXG4gKiBjaGFuZ2VzIGJsZW5kTW9kZSBhY2NvcmRpbmcgdG8gdGV4dHVyZSBmb3JtYXRcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGNvcnJlY3RCbGVuZE1vZGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBibGVuZE1vZGUgc3VwcG9zZWQgYmxlbmQgbW9kZVxuICogQHBhcmFtIHtib29sZWFufSBwcmVtdWx0aXBsaWVkICB3aGV0aGVyIHNvdXJjZSBpcyBwcmVtdWx0aXBsaWVkXG4gKiBAcmV0dXJucyB7bnVtYmVyfSB0cnVlIGJsZW5kIG1vZGUgZm9yIHRoaXMgdGV4dHVyZVxuICovXG5mdW5jdGlvbiBjb3JyZWN0QmxlbmRNb2RlKGJsZW5kTW9kZSwgcHJlbXVsdGlwbGllZClcbntcbiAgICByZXR1cm4gcHJlbXVsdGlwbHlCbGVuZE1vZGVbcHJlbXVsdGlwbGllZCA/IDEgOiAwXVtibGVuZE1vZGVdO1xufVxuXG4vKipcbiAqIGNvbWJpbmVzIHJnYiBhbmQgYWxwaGEgdG8gb3V0IGFycmF5XG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBwcmVtdWx0aXBseVJnYmFcbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fG51bWJlcltdfSByZ2IgaW5wdXQgcmdiXG4gKiBAcGFyYW0ge251bWJlcn0gYWxwaGEgYWxwaGEgcGFyYW1cbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbb3V0XSBvdXRwdXRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3ByZW11bHRpcGx5PXRydWVdIGRvIHByZW11bHRpcGx5IGl0XG4gKiBAcmV0dXJucyB7RmxvYXQzMkFycmF5fSB2ZWM0IHJnYmFcbiAqL1xuZnVuY3Rpb24gcHJlbXVsdGlwbHlSZ2JhKHJnYiwgYWxwaGEsIG91dCwgcHJlbXVsdGlwbHkpXG57XG4gICAgb3V0ID0gb3V0IHx8IG5ldyBGbG9hdDMyQXJyYXkoNCk7XG4gICAgaWYgKHByZW11bHRpcGx5IHx8IHByZW11bHRpcGx5ID09PSB1bmRlZmluZWQpXG4gICAge1xuICAgICAgICBvdXRbMF0gPSByZ2JbMF0gKiBhbHBoYTtcbiAgICAgICAgb3V0WzFdID0gcmdiWzFdICogYWxwaGE7XG4gICAgICAgIG91dFsyXSA9IHJnYlsyXSAqIGFscGhhO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICBvdXRbMF0gPSByZ2JbMF07XG4gICAgICAgIG91dFsxXSA9IHJnYlsxXTtcbiAgICAgICAgb3V0WzJdID0gcmdiWzJdO1xuICAgIH1cbiAgICBvdXRbM10gPSBhbHBoYTtcblxuICAgIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogcHJlbXVsdGlwbGllcyB0aW50XG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBwcmVtdWx0aXBseVRpbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSB0aW50IGludGVnZXIgUkdCXG4gKiBAcGFyYW0ge251bWJlcn0gYWxwaGEgZmxvYXRpbmcgcG9pbnQgYWxwaGEgKDAuMC0xLjApXG4gKiBAcmV0dXJucyB7bnVtYmVyfSB0aW50IG11bHRpcGxpZWQgYnkgYWxwaGFcbiAqL1xuZnVuY3Rpb24gcHJlbXVsdGlwbHlUaW50KHRpbnQsIGFscGhhKVxue1xuICAgIGlmIChhbHBoYSA9PT0gMS4wKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIChhbHBoYSAqIDI1NSA8PCAyNCkgKyB0aW50O1xuICAgIH1cbiAgICBpZiAoYWxwaGEgPT09IDAuMClcbiAgICB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICB2YXIgUiA9ICgodGludCA+PiAxNikgJiAweEZGKTtcbiAgICB2YXIgRyA9ICgodGludCA+PiA4KSAmIDB4RkYpO1xuICAgIHZhciBCID0gKHRpbnQgJiAweEZGKTtcblxuICAgIFIgPSAoKFIgKiBhbHBoYSkgKyAwLjUpIHwgMDtcbiAgICBHID0gKChHICogYWxwaGEpICsgMC41KSB8IDA7XG4gICAgQiA9ICgoQiAqIGFscGhhKSArIDAuNSkgfCAwO1xuXG4gICAgcmV0dXJuIChhbHBoYSAqIDI1NSA8PCAyNCkgKyAoUiA8PCAxNikgKyAoRyA8PCA4KSArIEI7XG59XG5cbi8qKlxuICogY29udmVydHMgaW50ZWdlciB0aW50IGFuZCBmbG9hdCBhbHBoYSB0byB2ZWM0IGZvcm0sIHByZW11bHRpcGxpZXMgYnkgZGVmYXVsdFxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gcHJlbXVsdGlwbHlUaW50VG9SZ2JhXG4gKiBAcGFyYW0ge251bWJlcn0gdGludCBpbnB1dCB0aW50XG4gKiBAcGFyYW0ge251bWJlcn0gYWxwaGEgYWxwaGEgcGFyYW1cbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbb3V0XSBvdXRwdXRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3ByZW11bHRpcGx5PXRydWVdIGRvIHByZW11bHRpcGx5IGl0XG4gKiBAcmV0dXJucyB7RmxvYXQzMkFycmF5fSB2ZWM0IHJnYmFcbiAqL1xuZnVuY3Rpb24gcHJlbXVsdGlwbHlUaW50VG9SZ2JhKHRpbnQsIGFscGhhLCBvdXQsIHByZW11bHRpcGx5KVxue1xuICAgIG91dCA9IG91dCB8fCBuZXcgRmxvYXQzMkFycmF5KDQpO1xuICAgIG91dFswXSA9ICgodGludCA+PiAxNikgJiAweEZGKSAvIDI1NS4wO1xuICAgIG91dFsxXSA9ICgodGludCA+PiA4KSAmIDB4RkYpIC8gMjU1LjA7XG4gICAgb3V0WzJdID0gKHRpbnQgJiAweEZGKSAvIDI1NS4wO1xuICAgIGlmIChwcmVtdWx0aXBseSB8fCBwcmVtdWx0aXBseSA9PT0gdW5kZWZpbmVkKVxuICAgIHtcbiAgICAgICAgb3V0WzBdICo9IGFscGhhO1xuICAgICAgICBvdXRbMV0gKj0gYWxwaGE7XG4gICAgICAgIG91dFsyXSAqPSBhbHBoYTtcbiAgICB9XG4gICAgb3V0WzNdID0gYWxwaGE7XG5cbiAgICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIEdlbmVyaWMgTWFzayBTdGFjayBkYXRhIHN0cnVjdHVyZVxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gY3JlYXRlSW5kaWNlc0ZvclF1YWRzXG4gKiBAcGFyYW0ge251bWJlcn0gc2l6ZSAtIE51bWJlciBvZiBxdWFkc1xuICogQHBhcmFtIHtVaW50MTZBcnJheXxVaW50MzJBcnJheX0gW291dEJ1ZmZlcl0gLSBCdWZmZXIgZm9yIG91dHB1dCwgbGVuZ3RoIGhhcyB0byBiZSBgNiAqIHNpemVgXG4gKiBAcmV0dXJuIHtVaW50MTZBcnJheXxVaW50MzJBcnJheX0gLSBSZXN1bHRpbmcgaW5kZXggYnVmZmVyXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUluZGljZXNGb3JRdWFkcyhzaXplLCBvdXRCdWZmZXIpXG57XG4gICAgaWYgKCBvdXRCdWZmZXIgPT09IHZvaWQgMCApIG91dEJ1ZmZlciA9IG51bGw7XG5cbiAgICAvLyB0aGUgdG90YWwgbnVtYmVyIG9mIGluZGljZXMgaW4gb3VyIGFycmF5LCB0aGVyZSBhcmUgNiBwb2ludHMgcGVyIHF1YWQuXG4gICAgdmFyIHRvdGFsSW5kaWNlcyA9IHNpemUgKiA2O1xuXG4gICAgb3V0QnVmZmVyID0gb3V0QnVmZmVyIHx8IG5ldyBVaW50MTZBcnJheSh0b3RhbEluZGljZXMpO1xuXG4gICAgaWYgKG91dEJ1ZmZlci5sZW5ndGggIT09IHRvdGFsSW5kaWNlcylcbiAgICB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigoXCJPdXQgYnVmZmVyIGxlbmd0aCBpcyBpbmNvcnJlY3QsIGdvdCBcIiArIChvdXRCdWZmZXIubGVuZ3RoKSArIFwiIGFuZCBleHBlY3RlZCBcIiArIHRvdGFsSW5kaWNlcykpO1xuICAgIH1cblxuICAgIC8vIGZpbGwgdGhlIGluZGljZXMgd2l0aCB0aGUgcXVhZHMgdG8gZHJhd1xuICAgIGZvciAodmFyIGkgPSAwLCBqID0gMDsgaSA8IHRvdGFsSW5kaWNlczsgaSArPSA2LCBqICs9IDQpXG4gICAge1xuICAgICAgICBvdXRCdWZmZXJbaSArIDBdID0gaiArIDA7XG4gICAgICAgIG91dEJ1ZmZlcltpICsgMV0gPSBqICsgMTtcbiAgICAgICAgb3V0QnVmZmVyW2kgKyAyXSA9IGogKyAyO1xuICAgICAgICBvdXRCdWZmZXJbaSArIDNdID0gaiArIDA7XG4gICAgICAgIG91dEJ1ZmZlcltpICsgNF0gPSBqICsgMjtcbiAgICAgICAgb3V0QnVmZmVyW2kgKyA1XSA9IGogKyAzO1xuICAgIH1cblxuICAgIHJldHVybiBvdXRCdWZmZXI7XG59XG5cbi8qKlxuICogUmVtb3ZlIGl0ZW1zIGZyb20gYSBqYXZhc2NyaXB0IGFycmF5IHdpdGhvdXQgZ2VuZXJhdGluZyBnYXJiYWdlXG4gKlxuICogQGZ1bmN0aW9uIHJlbW92ZUl0ZW1zXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHBhcmFtIHtBcnJheTxhbnk+fSBhcnIgQXJyYXkgdG8gcmVtb3ZlIGVsZW1lbnRzIGZyb21cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydElkeCBzdGFydGluZyBpbmRleFxuICogQHBhcmFtIHtudW1iZXJ9IHJlbW92ZUNvdW50IGhvdyBtYW55IHRvIHJlbW92ZVxuICovXG5mdW5jdGlvbiByZW1vdmVJdGVtcyhhcnIsIHN0YXJ0SWR4LCByZW1vdmVDb3VudClcbntcbiAgICB2YXIgbGVuZ3RoID0gYXJyLmxlbmd0aDtcbiAgICB2YXIgaTtcblxuICAgIGlmIChzdGFydElkeCA+PSBsZW5ndGggfHwgcmVtb3ZlQ291bnQgPT09IDApXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmVtb3ZlQ291bnQgPSAoc3RhcnRJZHggKyByZW1vdmVDb3VudCA+IGxlbmd0aCA/IGxlbmd0aCAtIHN0YXJ0SWR4IDogcmVtb3ZlQ291bnQpO1xuXG4gICAgdmFyIGxlbiA9IGxlbmd0aCAtIHJlbW92ZUNvdW50O1xuXG4gICAgZm9yIChpID0gc3RhcnRJZHg7IGkgPCBsZW47ICsraSlcbiAgICB7XG4gICAgICAgIGFycltpXSA9IGFycltpICsgcmVtb3ZlQ291bnRdO1xuICAgIH1cblxuICAgIGFyci5sZW5ndGggPSBsZW47XG59XG5cbnZhciBuZXh0VWlkID0gMDtcblxuLyoqXG4gKiBHZXRzIHRoZSBuZXh0IHVuaXF1ZSBpZGVudGlmaWVyXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiB1aWRcbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIG5leHQgdW5pcXVlIGlkZW50aWZpZXIgdG8gdXNlLlxuICovXG5mdW5jdGlvbiB1aWQoKVxue1xuICAgIHJldHVybiArK25leHRVaWQ7XG59XG5cbi8qKlxuICogUmV0dXJucyBzaWduIG9mIG51bWJlclxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gc2lnblxuICogQHBhcmFtIHtudW1iZXJ9IG4gLSB0aGUgbnVtYmVyIHRvIGNoZWNrIHRoZSBzaWduIG9mXG4gKiBAcmV0dXJucyB7bnVtYmVyfSAwIGlmIGBuYCBpcyAwLCAtMSBpZiBgbmAgaXMgbmVnYXRpdmUsIDEgaWYgYG5gIGlzIHBvc2l0aXZlXG4gKi9cbmZ1bmN0aW9uIHNpZ24obilcbntcbiAgICBpZiAobiA9PT0gMCkgeyByZXR1cm4gMDsgfVxuXG4gICAgcmV0dXJuIG4gPCAwID8gLTEgOiAxO1xufVxuXG4vLyBUYWtlbiBmcm9tIHRoZSBiaXQtdHdpZGRsZSBwYWNrYWdlXG5cbi8qKlxuICogUm91bmRzIHRvIG5leHQgcG93ZXIgb2YgdHdvLlxuICpcbiAqIEBmdW5jdGlvbiBuZXh0UG93MlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBwYXJhbSB7bnVtYmVyfSB2IGlucHV0IHZhbHVlXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIG5leHRQb3cyKHYpXG57XG4gICAgdiArPSB2ID09PSAwO1xuICAgIC0tdjtcbiAgICB2IHw9IHYgPj4+IDE7XG4gICAgdiB8PSB2ID4+PiAyO1xuICAgIHYgfD0gdiA+Pj4gNDtcbiAgICB2IHw9IHYgPj4+IDg7XG4gICAgdiB8PSB2ID4+PiAxNjtcblxuICAgIHJldHVybiB2ICsgMTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBudW1iZXIgaXMgYSBwb3dlciBvZiB0d28uXG4gKlxuICogQGZ1bmN0aW9uIGlzUG93MlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBwYXJhbSB7bnVtYmVyfSB2IGlucHV0IHZhbHVlXG4gKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdmFsdWUgaXMgcG93ZXIgb2YgdHdvXG4gKi9cbmZ1bmN0aW9uIGlzUG93Mih2KVxue1xuICAgIHJldHVybiAhKHYgJiAodiAtIDEpKSAmJiAoISF2KTtcbn1cblxuLyoqXG4gKiBDb21wdXRlcyBjZWlsIG9mIGxvZyBiYXNlIDJcbiAqXG4gKiBAZnVuY3Rpb24gbG9nMlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBwYXJhbSB7bnVtYmVyfSB2IGlucHV0IHZhbHVlXG4gKiBAcmV0dXJuIHtudW1iZXJ9IGxvZ2FyaXRobSBiYXNlIDJcbiAqL1xuZnVuY3Rpb24gbG9nMih2KVxue1xuICAgIHZhciByID0gKHYgPiAweEZGRkYpIDw8IDQ7XG5cbiAgICB2ID4+Pj0gcjtcblxuICAgIHZhciBzaGlmdCA9ICh2ID4gMHhGRikgPDwgMztcblxuICAgIHYgPj4+PSBzaGlmdDsgciB8PSBzaGlmdDtcbiAgICBzaGlmdCA9ICh2ID4gMHhGKSA8PCAyO1xuICAgIHYgPj4+PSBzaGlmdDsgciB8PSBzaGlmdDtcbiAgICBzaGlmdCA9ICh2ID4gMHgzKSA8PCAxO1xuICAgIHYgPj4+PSBzaGlmdDsgciB8PSBzaGlmdDtcblxuICAgIHJldHVybiByIHwgKHYgPj4gMSk7XG59XG5cbi8qKlxuICogQHRvZG8gRGVzY3JpYmUgcHJvcGVydHkgdXNhZ2VcbiAqXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBQcm9ncmFtQ2FjaGVcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG52YXIgUHJvZ3JhbUNhY2hlID0ge307XG5cbi8qKlxuICogQHRvZG8gRGVzY3JpYmUgcHJvcGVydHkgdXNhZ2VcbiAqXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBUZXh0dXJlQ2FjaGVcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG52YXIgVGV4dHVyZUNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuLyoqXG4gKiBAdG9kbyBEZXNjcmliZSBwcm9wZXJ0eSB1c2FnZVxuICpcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIEJhc2VUZXh0dXJlQ2FjaGVcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG5cbnZhciBCYXNlVGV4dHVyZUNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbi8qKlxuICogRGVzdHJveXMgYWxsIHRleHR1cmUgaW4gdGhlIGNhY2hlXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBkZXN0cm95VGV4dHVyZUNhY2hlXG4gKi9cbmZ1bmN0aW9uIGRlc3Ryb3lUZXh0dXJlQ2FjaGUoKVxue1xuICAgIHZhciBrZXk7XG5cbiAgICBmb3IgKGtleSBpbiBUZXh0dXJlQ2FjaGUpXG4gICAge1xuICAgICAgICBUZXh0dXJlQ2FjaGVba2V5XS5kZXN0cm95KCk7XG4gICAgfVxuICAgIGZvciAoa2V5IGluIEJhc2VUZXh0dXJlQ2FjaGUpXG4gICAge1xuICAgICAgICBCYXNlVGV4dHVyZUNhY2hlW2tleV0uZGVzdHJveSgpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCB0ZXh0dXJlcyBmcm9tIGNhY2hlLCBidXQgZG9lcyBub3QgZGVzdHJveSB0aGVtXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBjbGVhclRleHR1cmVDYWNoZVxuICovXG5mdW5jdGlvbiBjbGVhclRleHR1cmVDYWNoZSgpXG57XG4gICAgdmFyIGtleTtcblxuICAgIGZvciAoa2V5IGluIFRleHR1cmVDYWNoZSlcbiAgICB7XG4gICAgICAgIGRlbGV0ZSBUZXh0dXJlQ2FjaGVba2V5XTtcbiAgICB9XG4gICAgZm9yIChrZXkgaW4gQmFzZVRleHR1cmVDYWNoZSlcbiAgICB7XG4gICAgICAgIGRlbGV0ZSBCYXNlVGV4dHVyZUNhY2hlW2tleV07XG4gICAgfVxufVxuXG4vKipcbiAqIFRyaW0gdHJhbnNwYXJlbnQgYm9yZGVycyBmcm9tIGEgY2FudmFzXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiB0cmltQ2FudmFzXG4gKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBjYW52YXMgLSB0aGUgY2FudmFzIHRvIHRyaW1cbiAqIEByZXR1cm5zIHtvYmplY3R9IFRyaW0gZGF0YVxuICovXG5mdW5jdGlvbiB0cmltQ2FudmFzKGNhbnZhcylcbntcbiAgICAvLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9yZW15Lzc4NDUwOFxuXG4gICAgdmFyIHdpZHRoID0gY2FudmFzLndpZHRoO1xuICAgIHZhciBoZWlnaHQgPSBjYW52YXMuaGVpZ2h0O1xuXG4gICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICB2YXIgaW1hZ2VEYXRhID0gY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgdmFyIHBpeGVscyA9IGltYWdlRGF0YS5kYXRhO1xuICAgIHZhciBsZW4gPSBwaXhlbHMubGVuZ3RoO1xuXG4gICAgdmFyIGJvdW5kID0ge1xuICAgICAgICB0b3A6IG51bGwsXG4gICAgICAgIGxlZnQ6IG51bGwsXG4gICAgICAgIHJpZ2h0OiBudWxsLFxuICAgICAgICBib3R0b206IG51bGwsXG4gICAgfTtcbiAgICB2YXIgZGF0YSA9IG51bGw7XG4gICAgdmFyIGk7XG4gICAgdmFyIHg7XG4gICAgdmFyIHk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpXG4gICAge1xuICAgICAgICBpZiAocGl4ZWxzW2kgKyAzXSAhPT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgeCA9IChpIC8gNCkgJSB3aWR0aDtcbiAgICAgICAgICAgIHkgPSB+figoaSAvIDQpIC8gd2lkdGgpO1xuXG4gICAgICAgICAgICBpZiAoYm91bmQudG9wID09PSBudWxsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJvdW5kLnRvcCA9IHk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChib3VuZC5sZWZ0ID09PSBudWxsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJvdW5kLmxlZnQgPSB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoeCA8IGJvdW5kLmxlZnQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYm91bmQubGVmdCA9IHg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChib3VuZC5yaWdodCA9PT0gbnVsbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBib3VuZC5yaWdodCA9IHggKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYm91bmQucmlnaHQgPCB4KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJvdW5kLnJpZ2h0ID0geCArIDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChib3VuZC5ib3R0b20gPT09IG51bGwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYm91bmQuYm90dG9tID0geTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGJvdW5kLmJvdHRvbSA8IHkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYm91bmQuYm90dG9tID0geTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChib3VuZC50b3AgIT09IG51bGwpXG4gICAge1xuICAgICAgICB3aWR0aCA9IGJvdW5kLnJpZ2h0IC0gYm91bmQubGVmdDtcbiAgICAgICAgaGVpZ2h0ID0gYm91bmQuYm90dG9tIC0gYm91bmQudG9wICsgMTtcbiAgICAgICAgZGF0YSA9IGNvbnRleHQuZ2V0SW1hZ2VEYXRhKGJvdW5kLmxlZnQsIGJvdW5kLnRvcCwgd2lkdGgsIGhlaWdodCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgZGF0YTogZGF0YSxcbiAgICB9O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBDYW52YXMgZWxlbWVudCBvZiB0aGUgZ2l2ZW4gc2l6ZSB0byBiZSB1c2VkIGFzIGEgdGFyZ2V0IGZvciByZW5kZXJpbmcgdG8uXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICovXG52YXIgQ2FudmFzUmVuZGVyVGFyZ2V0ID0gZnVuY3Rpb24gQ2FudmFzUmVuZGVyVGFyZ2V0KHdpZHRoLCBoZWlnaHQsIHJlc29sdXRpb24pXG57XG4gICAgLyoqXG4gICAgICogVGhlIENhbnZhcyBvYmplY3QgdGhhdCBiZWxvbmdzIHRvIHRoaXMgQ2FudmFzUmVuZGVyVGFyZ2V0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICovXG4gICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuICAgIC8qKlxuICAgICAqIEEgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIG9iamVjdCByZXByZXNlbnRpbmcgYSB0d28tZGltZW5zaW9uYWwgcmVuZGVyaW5nIGNvbnRleHQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICovXG4gICAgdGhpcy5jb250ZXh0ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb24gfHwgc2V0dGluZ3MuUkVTT0xVVElPTjtcblxuICAgIHRoaXMucmVzaXplKHdpZHRoLCBoZWlnaHQpO1xufTtcblxudmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgd2lkdGg6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0saGVpZ2h0OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbi8qKlxuICogQ2xlYXJzIHRoZSBjYW52YXMgdGhhdCB3YXMgY3JlYXRlZCBieSB0aGUgQ2FudmFzUmVuZGVyVGFyZ2V0IGNsYXNzLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbkNhbnZhc1JlbmRlclRhcmdldC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiBjbGVhciAoKVxue1xuICAgIHRoaXMuY29udGV4dC5zZXRUcmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgMCk7XG4gICAgdGhpcy5jb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcbn07XG5cbi8qKlxuICogUmVzaXplcyB0aGUgY2FudmFzIHRvIHRoZSBzcGVjaWZpZWQgd2lkdGggYW5kIGhlaWdodC5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSB0aGUgbmV3IHdpZHRoIG9mIHRoZSBjYW52YXNcbiAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSB0aGUgbmV3IGhlaWdodCBvZiB0aGUgY2FudmFzXG4gKi9cbkNhbnZhc1JlbmRlclRhcmdldC5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gcmVzaXplICh3aWR0aCwgaGVpZ2h0KVxue1xuICAgIHRoaXMuY2FudmFzLndpZHRoID0gd2lkdGggKiB0aGlzLnJlc29sdXRpb247XG4gICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gaGVpZ2h0ICogdGhpcy5yZXNvbHV0aW9uO1xufTtcblxuLyoqXG4gKiBEZXN0cm95cyB0aGlzIGNhbnZhcy5cbiAqXG4gKi9cbkNhbnZhc1JlbmRlclRhcmdldC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbntcbiAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuICAgIHRoaXMuY2FudmFzID0gbnVsbDtcbn07XG5cbi8qKlxuICogVGhlIHdpZHRoIG9mIHRoZSBjYW52YXMgYnVmZmVyIGluIHBpeGVscy5cbiAqXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy53aWR0aC5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLmNhbnZhcy53aWR0aDtcbn07XG5cbnByb3RvdHlwZUFjY2Vzc29ycy53aWR0aC5zZXQgPSBmdW5jdGlvbiAodmFsKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHZhbDtcbn07XG5cbi8qKlxuICogVGhlIGhlaWdodCBvZiB0aGUgY2FudmFzIGJ1ZmZlciBpbiBwaXhlbHMuXG4gKlxuICogQG1lbWJlciB7bnVtYmVyfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMuaGVpZ2h0LmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuY2FudmFzLmhlaWdodDtcbn07XG5cbnByb3RvdHlwZUFjY2Vzc29ycy5oZWlnaHQuc2V0ID0gZnVuY3Rpb24gKHZhbCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gdmFsO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIENhbnZhc1JlbmRlclRhcmdldC5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4vKipcbiAqIFJlZ2V4cCBmb3IgZGF0YSBVUkkuXG4gKiBCYXNlZCBvbjoge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9yYWdpbmd3aW5kL2RhdGEtdXJpLXJlZ2V4fVxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudCB7UmVnRXhwfHN0cmluZ30gREFUQV9VUklcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXhhbXBsZSBkYXRhOmltYWdlL3BuZztiYXNlNjRcbiAqL1xudmFyIERBVEFfVVJJID0gL15cXHMqZGF0YTooPzooW1xcdy1dKylcXC8oW1xcdysuLV0rKSk/KD86O2NoYXJzZXQ9KFtcXHctXSspKT8oPzo7KGJhc2U2NCkpPywoLiopL2k7XG5cbi8qKlxuICogVHlwZWRlZiBmb3IgZGVjb21wb3NlRGF0YVVyaSByZXR1cm4gb2JqZWN0LlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBEZWNvbXBvc2VkRGF0YVVyaVxuICogQHByb3BlcnR5IHtzdHJpbmd9IG1lZGlhVHlwZSBNZWRpYSB0eXBlLCBlZy4gYGltYWdlYFxuICogQHByb3BlcnR5IHtzdHJpbmd9IHN1YlR5cGUgU3ViIHR5cGUsIGVnLiBgcG5nYFxuICogQHByb3BlcnR5IHtzdHJpbmd9IGVuY29kaW5nIERhdGEgZW5jb2RpbmcsIGVnLiBgYmFzZTY0YFxuICogQHByb3BlcnR5IHtzdHJpbmd9IGRhdGEgVGhlIGFjdHVhbCBkYXRhXG4gKi9cblxuLyoqXG4gKiBTcGxpdCBhIGRhdGEgVVJJIGludG8gY29tcG9uZW50cy4gUmV0dXJucyB1bmRlZmluZWQgaWZcbiAqIHBhcmFtZXRlciBgZGF0YVVyaWAgaXMgbm90IGEgdmFsaWQgZGF0YSBVUkkuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBkZWNvbXBvc2VEYXRhVXJpXG4gKiBAcGFyYW0ge3N0cmluZ30gZGF0YVVyaSAtIHRoZSBkYXRhIFVSSSB0byBjaGVja1xuICogQHJldHVybiB7UElYSS51dGlscy5EZWNvbXBvc2VkRGF0YVVyaXx1bmRlZmluZWR9IFRoZSBkZWNvbXBvc2VkIGRhdGEgdXJpIG9yIHVuZGVmaW5lZFxuICovXG5mdW5jdGlvbiBkZWNvbXBvc2VEYXRhVXJpKGRhdGFVcmkpXG57XG4gICAgdmFyIGRhdGFVcmlNYXRjaCA9IERBVEFfVVJJLmV4ZWMoZGF0YVVyaSk7XG5cbiAgICBpZiAoZGF0YVVyaU1hdGNoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1lZGlhVHlwZTogZGF0YVVyaU1hdGNoWzFdID8gZGF0YVVyaU1hdGNoWzFdLnRvTG93ZXJDYXNlKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBzdWJUeXBlOiBkYXRhVXJpTWF0Y2hbMl0gPyBkYXRhVXJpTWF0Y2hbMl0udG9Mb3dlckNhc2UoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGNoYXJzZXQ6IGRhdGFVcmlNYXRjaFszXSA/IGRhdGFVcmlNYXRjaFszXS50b0xvd2VyQ2FzZSgpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZW5jb2Rpbmc6IGRhdGFVcmlNYXRjaFs0XSA/IGRhdGFVcmlNYXRjaFs0XS50b0xvd2VyQ2FzZSgpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZGF0YTogZGF0YVVyaU1hdGNoWzVdLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbnZhciB0ZW1wQW5jaG9yO1xuXG4vKipcbiAqIFNldHMgdGhlIGBjcm9zc09yaWdpbmAgcHJvcGVydHkgZm9yIHRoaXMgcmVzb3VyY2UgYmFzZWQgb24gaWYgdGhlIHVybFxuICogZm9yIHRoaXMgcmVzb3VyY2UgaXMgY3Jvc3Mtb3JpZ2luLiBJZiBjcm9zc09yaWdpbiB3YXMgbWFudWFsbHkgc2V0LCB0aGlzXG4gKiBmdW5jdGlvbiBkb2VzIG5vdGhpbmcuXG4gKiBOaXBwZWQgZnJvbSB0aGUgcmVzb3VyY2UgbG9hZGVyIVxuICpcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgdXJsIHRvIHRlc3QuXG4gKiBAcGFyYW0ge29iamVjdH0gW2xvYz13aW5kb3cubG9jYXRpb25dIC0gVGhlIGxvY2F0aW9uIG9iamVjdCB0byB0ZXN0IGFnYWluc3QuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBjcm9zc09yaWdpbiB2YWx1ZSB0byB1c2UgKG9yIGVtcHR5IHN0cmluZyBmb3Igbm9uZSkuXG4gKi9cbmZ1bmN0aW9uIGRldGVybWluZUNyb3NzT3JpZ2luKHVybCwgbG9jKVxue1xuICAgIGlmICggbG9jID09PSB2b2lkIDAgKSBsb2MgPSB3aW5kb3cubG9jYXRpb247XG5cbiAgICAvLyBkYXRhOiBhbmQgamF2YXNjcmlwdDogdXJscyBhcmUgY29uc2lkZXJlZCBzYW1lLW9yaWdpblxuICAgIGlmICh1cmwuaW5kZXhPZignZGF0YTonKSA9PT0gMClcbiAgICB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICAvLyBkZWZhdWx0IGlzIHdpbmRvdy5sb2NhdGlvblxuICAgIGxvYyA9IGxvYyB8fCB3aW5kb3cubG9jYXRpb247XG5cbiAgICBpZiAoIXRlbXBBbmNob3IpXG4gICAge1xuICAgICAgICB0ZW1wQW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIH1cblxuICAgIC8vIGxldCB0aGUgYnJvd3NlciBkZXRlcm1pbmUgdGhlIGZ1bGwgaHJlZiBmb3IgdGhlIHVybCBvZiB0aGlzIHJlc291cmNlIGFuZCB0aGVuXG4gICAgLy8gcGFyc2Ugd2l0aCB0aGUgbm9kZSB1cmwgbGliLCB3ZSBjYW4ndCB1c2UgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGFuY2hvciBlbGVtZW50XG4gICAgLy8gYmVjYXVzZSB0aGV5IGRvbid0IHdvcmsgaW4gSUU5IDooXG4gICAgdGVtcEFuY2hvci5ocmVmID0gdXJsO1xuICAgIHVybCA9IF91cmwucGFyc2UodGVtcEFuY2hvci5ocmVmKTtcblxuICAgIHZhciBzYW1lUG9ydCA9ICghdXJsLnBvcnQgJiYgbG9jLnBvcnQgPT09ICcnKSB8fCAodXJsLnBvcnQgPT09IGxvYy5wb3J0KTtcblxuICAgIC8vIGlmIGNyb3NzIG9yaWdpblxuICAgIGlmICh1cmwuaG9zdG5hbWUgIT09IGxvYy5ob3N0bmFtZSB8fCAhc2FtZVBvcnQgfHwgdXJsLnByb3RvY29sICE9PSBsb2MucHJvdG9jb2wpXG4gICAge1xuICAgICAgICByZXR1cm4gJ2Fub255bW91cyc7XG4gICAgfVxuXG4gICAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIGdldCB0aGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiBhbiBhc3NldCBieSBsb29raW5nIGZvciB0aGUgcHJlZml4XG4gKiB1c2VkIGJ5IHNwcml0ZXNoZWV0cyBhbmQgaW1hZ2UgdXJsc1xuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gZ2V0UmVzb2x1dGlvbk9mVXJsXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gdGhlIGltYWdlIHBhdGhcbiAqIEBwYXJhbSB7bnVtYmVyfSBbZGVmYXVsdFZhbHVlPTFdIC0gdGhlIGRlZmF1bHRWYWx1ZSBpZiBubyBmaWxlbmFtZSBwcmVmaXggaXMgc2V0LlxuICogQHJldHVybiB7bnVtYmVyfSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIGFuIGFzc2V0XG4gKi9cbmZ1bmN0aW9uIGdldFJlc29sdXRpb25PZlVybCh1cmwsIGRlZmF1bHRWYWx1ZSlcbntcbiAgICB2YXIgcmVzb2x1dGlvbiA9IHNldHRpbmdzLlJFVElOQV9QUkVGSVguZXhlYyh1cmwpO1xuXG4gICAgaWYgKHJlc29sdXRpb24pXG4gICAge1xuICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChyZXNvbHV0aW9uWzFdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQgPyBkZWZhdWx0VmFsdWUgOiAxO1xufVxuXG4vLyBBIG1hcCBvZiB3YXJuaW5nIG1lc3NhZ2VzIGFscmVhZHkgZmlyZWRcbnZhciB3YXJuaW5ncyA9IHt9O1xuXG4vKipcbiAqIEhlbHBlciBmb3Igd2FybmluZyBkZXZlbG9wZXJzIGFib3V0IGRlcHJlY2F0ZWQgZmVhdHVyZXMgJiBzZXR0aW5ncy5cbiAqIEEgc3RhY2sgdHJhY2sgZm9yIHdhcm5pbmdzIGlzIGdpdmVuOyB1c2VmdWwgZm9yIHRyYWNraW5nLWRvd24gd2hlcmVcbiAqIGRlcHJlY2F0ZWQgbWV0aG9kcy9wcm9wZXJ0aWVzL2NsYXNzZXMgYXJlIGJlaW5nIHVzZWQgd2l0aGluIHRoZSBjb2RlLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gZGVwcmVjYXRpb25cbiAqIEBwYXJhbSB7c3RyaW5nfSB2ZXJzaW9uIC0gVGhlIHZlcnNpb24gd2hlcmUgdGhlIGZlYXR1cmUgYmVjYW1lIGRlcHJlY2F0ZWRcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIC0gTWVzc2FnZSBzaG91bGQgaW5jbHVkZSB3aGF0IGlzIGRlcHJlY2F0ZWQsIHdoZXJlLCBhbmQgdGhlIG5ldyBzb2x1dGlvblxuICogQHBhcmFtIHtudW1iZXJ9IFtpZ25vcmVEZXB0aD0zXSAtIFRoZSBudW1iZXIgb2Ygc3RlcHMgdG8gaWdub3JlIGF0IHRoZSB0b3Agb2YgdGhlIGVycm9yIHN0YWNrXG4gKiAgICAgICAgdGhpcyBpcyBtb3N0bHkgdG8gaWdub3JlIGludGVybmFsIGRlcHJlY2F0aW9uIGNhbGxzLlxuICovXG5mdW5jdGlvbiBkZXByZWNhdGlvbih2ZXJzaW9uLCBtZXNzYWdlLCBpZ25vcmVEZXB0aClcbntcbiAgICBpZiAoIGlnbm9yZURlcHRoID09PSB2b2lkIDAgKSBpZ25vcmVEZXB0aCA9IDM7XG5cbiAgICAvLyBJZ25vcmUgZHVwbGljYXRcbiAgICBpZiAod2FybmluZ3NbbWVzc2FnZV0pXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuICAgIHZhciBzdGFjayA9IG5ldyBFcnJvcigpLnN0YWNrO1xuXG4gICAgLy8gSGFuZGxlIElFIDwgMTAgYW5kIFNhZmFyaSA8IDZcbiAgICBpZiAodHlwZW9mIHN0YWNrID09PSAndW5kZWZpbmVkJylcbiAgICB7XG4gICAgICAgIGNvbnNvbGUud2FybignUGl4aUpTIERlcHJlY2F0aW9uIFdhcm5pbmc6ICcsIChtZXNzYWdlICsgXCJcXG5EZXByZWNhdGVkIHNpbmNlIHZcIiArIHZlcnNpb24pKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgLy8gY2hvcCBvZmYgdGhlIHN0YWNrIHRyYWNlIHdoaWNoIGluY2x1ZGVzIFBpeGlKUyBpbnRlcm5hbCBjYWxsc1xuICAgICAgICBzdGFjayA9IHN0YWNrLnNwbGl0KCdcXG4nKS5zcGxpY2UoaWdub3JlRGVwdGgpLmpvaW4oJ1xcbicpO1xuXG4gICAgICAgIGlmIChjb25zb2xlLmdyb3VwQ29sbGFwc2VkKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zb2xlLmdyb3VwQ29sbGFwc2VkKFxuICAgICAgICAgICAgICAgICclY1BpeGlKUyBEZXByZWNhdGlvbiBXYXJuaW5nOiAlYyVzJyxcbiAgICAgICAgICAgICAgICAnY29sb3I6IzYxNDEwODtiYWNrZ3JvdW5kOiNmZmZiZTYnLFxuICAgICAgICAgICAgICAgICdmb250LXdlaWdodDpub3JtYWw7Y29sb3I6IzYxNDEwODtiYWNrZ3JvdW5kOiNmZmZiZTYnLFxuICAgICAgICAgICAgICAgIChtZXNzYWdlICsgXCJcXG5EZXByZWNhdGVkIHNpbmNlIHZcIiArIHZlcnNpb24pXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29uc29sZS53YXJuKHN0YWNrKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZ3JvdXBFbmQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignUGl4aUpTIERlcHJlY2F0aW9uIFdhcm5pbmc6ICcsIChtZXNzYWdlICsgXCJcXG5EZXByZWNhdGVkIHNpbmNlIHZcIiArIHZlcnNpb24pKTtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihzdGFjayk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zb2xlICovXG5cbiAgICB3YXJuaW5nc1ttZXNzYWdlXSA9IHRydWU7XG59XG5cbi8qKlxuICogR2VuZXJhbGl6ZWQgY29udmVuaWVuY2UgdXRpbGl0aWVzIGZvciBQSVhJLlxuICogQGV4YW1wbGVcbiAqIC8vIEV4dGVuZCBQSVhJJ3MgaW50ZXJuYWwgRXZlbnQgRW1pdHRlci5cbiAqIGNsYXNzIE15RW1pdHRlciBleHRlbmRzIFBJWEkudXRpbHMuRXZlbnRFbWl0dGVyIHtcbiAqICAgY29uc3RydWN0b3IoKSB7XG4gKiAgICAgIHN1cGVyKCk7XG4gKiAgICAgIGNvbnNvbGUubG9nKFwiRW1pdHRlciBjcmVhdGVkIVwiKTtcbiAqICAgfVxuICogfVxuICpcbiAqIC8vIEdldCBpbmZvIG9uIGN1cnJlbnQgZGV2aWNlXG4gKiBjb25zb2xlLmxvZyhQSVhJLnV0aWxzLmlzTW9iaWxlKTtcbiAqXG4gKiAvLyBDb252ZXJ0IGhleCBjb2xvciB0byBzdHJpbmdcbiAqIGNvbnNvbGUubG9nKFBJWEkudXRpbHMuaGV4MnN0cmluZygweGZmMDBmZikpOyAvLyByZXR1cm5zOiBcIiNmZjAwZmZcIlxuICogQG5hbWVzcGFjZSBQSVhJLnV0aWxzXG4gKi9cblxuZXhwb3J0IHsgQmFzZVRleHR1cmVDYWNoZSwgQ2FudmFzUmVuZGVyVGFyZ2V0LCBEQVRBX1VSSSwgUHJvZ3JhbUNhY2hlLCBUZXh0dXJlQ2FjaGUsIGNsZWFyVGV4dHVyZUNhY2hlLCBjb3JyZWN0QmxlbmRNb2RlLCBjcmVhdGVJbmRpY2VzRm9yUXVhZHMsIGRlY29tcG9zZURhdGFVcmksIGRlcHJlY2F0aW9uLCBkZXN0cm95VGV4dHVyZUNhY2hlLCBkZXRlcm1pbmVDcm9zc09yaWdpbiwgZ2V0UmVzb2x1dGlvbk9mVXJsLCBoZXgycmdiLCBoZXgyc3RyaW5nLCBpc1BvdzIsIGlzV2ViR0xTdXBwb3J0ZWQsIGxvZzIsIG5leHRQb3cyLCBwcmVtdWx0aXBseUJsZW5kTW9kZSwgcHJlbXVsdGlwbHlSZ2JhLCBwcmVtdWx0aXBseVRpbnQsIHByZW11bHRpcGx5VGludFRvUmdiYSwgcmVtb3ZlSXRlbXMsIHJnYjJoZXgsIHNheUhlbGxvLCBzaWduLCBza2lwSGVsbG8sIHN0cmluZzJoZXgsIHRyaW1DYW52YXMsIHVpZCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbHMuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL21hdGggLSB2NS4xLjBcbiAqIENvbXBpbGVkIEZyaSwgMTkgSnVsIDIwMTkgMjE6NTQ6MzYgVVRDXG4gKlxuICogQHBpeGkvbWF0aCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbi8qKlxuICogVGhlIFBvaW50IG9iamVjdCByZXByZXNlbnRzIGEgbG9jYXRpb24gaW4gYSB0d28tZGltZW5zaW9uYWwgY29vcmRpbmF0ZSBzeXN0ZW0sIHdoZXJlIHggcmVwcmVzZW50c1xuICogdGhlIGhvcml6b250YWwgYXhpcyBhbmQgeSByZXByZXNlbnRzIHRoZSB2ZXJ0aWNhbCBheGlzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFBvaW50ID0gZnVuY3Rpb24gUG9pbnQoeCwgeSlcbntcbiAgICBpZiAoIHggPT09IHZvaWQgMCApIHggPSAwO1xuICAgIGlmICggeSA9PT0gdm9pZCAwICkgeSA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMueCA9IHg7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMueSA9IHk7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIHBvaW50XG4gKlxuICogQHJldHVybiB7UElYSS5Qb2ludH0gYSBjb3B5IG9mIHRoZSBwb2ludFxuICovXG5Qb2ludC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSAoKVxue1xuICAgIHJldHVybiBuZXcgUG9pbnQodGhpcy54LCB0aGlzLnkpO1xufTtcblxuLyoqXG4gKiBDb3BpZXMgeCBhbmQgeSBmcm9tIHRoZSBnaXZlbiBwb2ludFxuICpcbiAqIEBwYXJhbSB7UElYSS5JUG9pbnR9IHAgLSBUaGUgcG9pbnQgdG8gY29weSBmcm9tXG4gKiBAcmV0dXJucyB7UElYSS5JUG9pbnR9IFJldHVybnMgaXRzZWxmLlxuICovXG5Qb2ludC5wcm90b3R5cGUuY29weUZyb20gPSBmdW5jdGlvbiBjb3B5RnJvbSAocClcbntcbiAgICB0aGlzLnNldChwLngsIHAueSk7XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogQ29waWVzIHggYW5kIHkgaW50byB0aGUgZ2l2ZW4gcG9pbnRcbiAqXG4gKiBAcGFyYW0ge1BJWEkuSVBvaW50fSBwIC0gVGhlIHBvaW50IHRvIGNvcHkuXG4gKiBAcmV0dXJucyB7UElYSS5JUG9pbnR9IEdpdmVuIHBvaW50IHdpdGggdmFsdWVzIHVwZGF0ZWRcbiAqL1xuUG9pbnQucHJvdG90eXBlLmNvcHlUbyA9IGZ1bmN0aW9uIGNvcHlUbyAocClcbntcbiAgICBwLnNldCh0aGlzLngsIHRoaXMueSk7XG5cbiAgICByZXR1cm4gcDtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBwb2ludCBpcyBlcXVhbCB0byB0aGlzIHBvaW50XG4gKlxuICogQHBhcmFtIHtQSVhJLklQb2ludH0gcCAtIFRoZSBwb2ludCB0byBjaGVja1xuICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgdGhlIGdpdmVuIHBvaW50IGVxdWFsIHRvIHRoaXMgcG9pbnRcbiAqL1xuUG9pbnQucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyAocClcbntcbiAgICByZXR1cm4gKHAueCA9PT0gdGhpcy54KSAmJiAocC55ID09PSB0aGlzLnkpO1xufTtcblxuLyoqXG4gKiBTZXRzIHRoZSBwb2ludCB0byBhIG5ldyB4IGFuZCB5IHBvc2l0aW9uLlxuICogSWYgeSBpcyBvbWl0dGVkLCBib3RoIHggYW5kIHkgd2lsbCBiZSBzZXQgdG8geC5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHggYXhpc1xuICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB5IGF4aXNcbiAqL1xuUG9pbnQucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIHNldCAoeCwgeSlcbntcbiAgICB0aGlzLnggPSB4IHx8IDA7XG4gICAgdGhpcy55ID0geSB8fCAoKHkgIT09IDApID8gdGhpcy54IDogMCk7XG59O1xuXG4vKipcbiAqIFRoZSBQb2ludCBvYmplY3QgcmVwcmVzZW50cyBhIGxvY2F0aW9uIGluIGEgdHdvLWRpbWVuc2lvbmFsIGNvb3JkaW5hdGUgc3lzdGVtLCB3aGVyZSB4IHJlcHJlc2VudHNcbiAqIHRoZSBob3Jpem9udGFsIGF4aXMgYW5kIHkgcmVwcmVzZW50cyB0aGUgdmVydGljYWwgYXhpcy5cbiAqXG4gKiBBbiBPYnNlcnZhYmxlUG9pbnQgaXMgYSBwb2ludCB0aGF0IHRyaWdnZXJzIGEgY2FsbGJhY2sgd2hlbiB0aGUgcG9pbnQncyBwb3NpdGlvbiBpcyBjaGFuZ2VkLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIE9ic2VydmFibGVQb2ludCA9IGZ1bmN0aW9uIE9ic2VydmFibGVQb2ludChjYiwgc2NvcGUsIHgsIHkpXG57XG4gICAgaWYgKCB4ID09PSB2b2lkIDAgKSB4ID0gMDtcbiAgICBpZiAoIHkgPT09IHZvaWQgMCApIHkgPSAwO1xuXG4gICAgdGhpcy5feCA9IHg7XG4gICAgdGhpcy5feSA9IHk7XG5cbiAgICB0aGlzLmNiID0gY2I7XG4gICAgdGhpcy5zY29wZSA9IHNjb3BlO1xufTtcblxudmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgeDogeyBjb25maWd1cmFibGU6IHRydWUgfSx5OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbi8qKlxuICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgcG9pbnQuXG4gKiBUaGUgY2FsbGJhY2sgYW5kIHNjb3BlIHBhcmFtcyBjYW4gYmUgb3ZlcmlkZGVuIG90aGVyd2lzZSB0aGV5IHdpbGwgZGVmYXVsdFxuICogdG8gdGhlIGNsb25lIG9iamVjdCdzIHZhbHVlcy5cbiAqXG4gKiBAb3ZlcnJpZGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYj1udWxsXSAtIGNhbGxiYWNrIHdoZW4gY2hhbmdlZFxuICogQHBhcmFtIHtvYmplY3R9IFtzY29wZT1udWxsXSAtIG93bmVyIG9mIGNhbGxiYWNrXG4gKiBAcmV0dXJuIHtQSVhJLk9ic2VydmFibGVQb2ludH0gYSBjb3B5IG9mIHRoZSBwb2ludFxuICovXG5PYnNlcnZhYmxlUG9pbnQucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUgKGNiLCBzY29wZSlcbntcbiAgICAgICAgaWYgKCBjYiA9PT0gdm9pZCAwICkgY2IgPSBudWxsO1xuICAgICAgICBpZiAoIHNjb3BlID09PSB2b2lkIDAgKSBzY29wZSA9IG51bGw7XG5cbiAgICB2YXIgX2NiID0gY2IgfHwgdGhpcy5jYjtcbiAgICB2YXIgX3Njb3BlID0gc2NvcGUgfHwgdGhpcy5zY29wZTtcblxuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZVBvaW50KF9jYiwgX3Njb3BlLCB0aGlzLl94LCB0aGlzLl95KTtcbn07XG5cbi8qKlxuICogU2V0cyB0aGUgcG9pbnQgdG8gYSBuZXcgeCBhbmQgeSBwb3NpdGlvbi5cbiAqIElmIHkgaXMgb21pdHRlZCwgYm90aCB4IGFuZCB5IHdpbGwgYmUgc2V0IHRvIHguXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB4IGF4aXNcbiAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeSBheGlzXG4gKi9cbk9ic2VydmFibGVQb2ludC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gc2V0ICh4LCB5KVxue1xuICAgIHZhciBfeCA9IHggfHwgMDtcbiAgICB2YXIgX3kgPSB5IHx8ICgoeSAhPT0gMCkgPyBfeCA6IDApO1xuXG4gICAgaWYgKHRoaXMuX3ggIT09IF94IHx8IHRoaXMuX3kgIT09IF95KVxuICAgIHtcbiAgICAgICAgdGhpcy5feCA9IF94O1xuICAgICAgICB0aGlzLl95ID0gX3k7XG4gICAgICAgIHRoaXMuY2IuY2FsbCh0aGlzLnNjb3BlKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIENvcGllcyB4IGFuZCB5IGZyb20gdGhlIGdpdmVuIHBvaW50XG4gKlxuICogQHBhcmFtIHtQSVhJLklQb2ludH0gcCAtIFRoZSBwb2ludCB0byBjb3B5IGZyb20uXG4gKiBAcmV0dXJucyB7UElYSS5JUG9pbnR9IFJldHVybnMgaXRzZWxmLlxuICovXG5PYnNlcnZhYmxlUG9pbnQucHJvdG90eXBlLmNvcHlGcm9tID0gZnVuY3Rpb24gY29weUZyb20gKHApXG57XG4gICAgaWYgKHRoaXMuX3ggIT09IHAueCB8fCB0aGlzLl95ICE9PSBwLnkpXG4gICAge1xuICAgICAgICB0aGlzLl94ID0gcC54O1xuICAgICAgICB0aGlzLl95ID0gcC55O1xuICAgICAgICB0aGlzLmNiLmNhbGwodGhpcy5zY29wZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIENvcGllcyB4IGFuZCB5IGludG8gdGhlIGdpdmVuIHBvaW50XG4gKlxuICogQHBhcmFtIHtQSVhJLklQb2ludH0gcCAtIFRoZSBwb2ludCB0byBjb3B5LlxuICogQHJldHVybnMge1BJWEkuSVBvaW50fSBHaXZlbiBwb2ludCB3aXRoIHZhbHVlcyB1cGRhdGVkXG4gKi9cbk9ic2VydmFibGVQb2ludC5wcm90b3R5cGUuY29weVRvID0gZnVuY3Rpb24gY29weVRvIChwKVxue1xuICAgIHAuc2V0KHRoaXMuX3gsIHRoaXMuX3kpO1xuXG4gICAgcmV0dXJuIHA7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gcG9pbnQgaXMgZXF1YWwgdG8gdGhpcyBwb2ludFxuICpcbiAqIEBwYXJhbSB7UElYSS5JUG9pbnR9IHAgLSBUaGUgcG9pbnQgdG8gY2hlY2tcbiAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIHRoZSBnaXZlbiBwb2ludCBlcXVhbCB0byB0aGlzIHBvaW50XG4gKi9cbk9ic2VydmFibGVQb2ludC5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gZXF1YWxzIChwKVxue1xuICAgIHJldHVybiAocC54ID09PSB0aGlzLl94KSAmJiAocC55ID09PSB0aGlzLl95KTtcbn07XG5cbi8qKlxuICogVGhlIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGF5T2JqZWN0IG9uIHRoZSB4IGF4aXMgcmVsYXRpdmUgdG8gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBwYXJlbnQuXG4gKlxuICogQG1lbWJlciB7bnVtYmVyfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMueC5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl94O1xufTtcblxucHJvdG90eXBlQWNjZXNzb3JzLnguc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5feCAhPT0gdmFsdWUpXG4gICAge1xuICAgICAgICB0aGlzLl94ID0gdmFsdWU7XG4gICAgICAgIHRoaXMuY2IuY2FsbCh0aGlzLnNjb3BlKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFRoZSBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheU9iamVjdCBvbiB0aGUgeCBheGlzIHJlbGF0aXZlIHRvIHRoZSBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgcGFyZW50LlxuICpcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLnkuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5feTtcbn07XG5cbnByb3RvdHlwZUFjY2Vzc29ycy55LnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKHRoaXMuX3kgIT09IHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5feSA9IHZhbHVlO1xuICAgICAgICB0aGlzLmNiLmNhbGwodGhpcy5zY29wZSk7XG4gICAgfVxufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIE9ic2VydmFibGVQb2ludC5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4vKipcbiAqIEEgbnVtYmVyLCBvciBhIHN0cmluZyBjb250YWluaW5nIGEgbnVtYmVyLlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlZGVmIHsoUElYSS5Qb2ludHxQSVhJLk9ic2VydmFibGVQb2ludCl9IElQb2ludFxuICovXG5cbi8qKlxuICogVHdvIFBpLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudCB7bnVtYmVyfSBQSV8yXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUElfMiA9IE1hdGguUEkgKiAyO1xuXG4vKipcbiAqIENvbnZlcnNpb24gZmFjdG9yIGZvciBjb252ZXJ0aW5nIHJhZGlhbnMgdG8gZGVncmVlcy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnQge251bWJlcn0gUkFEX1RPX0RFR1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFJBRF9UT19ERUcgPSAxODAgLyBNYXRoLlBJO1xuXG4vKipcbiAqIENvbnZlcnNpb24gZmFjdG9yIGZvciBjb252ZXJ0aW5nIGRlZ3JlZXMgdG8gcmFkaWFucy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnQge251bWJlcn0gREVHX1RPX1JBRFxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIERFR19UT19SQUQgPSBNYXRoLlBJIC8gMTgwO1xuXG4vKipcbiAqIENvbnN0YW50cyB0aGF0IGlkZW50aWZ5IHNoYXBlcywgbWFpbmx5IHRvIHByZXZlbnQgYGluc3RhbmNlb2ZgIGNhbGxzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG5hbWUgU0hBUEVTXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBQT0xZIFBvbHlnb25cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSRUNUIFJlY3RhbmdsZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IENJUkMgQ2lyY2xlXG4gKiBAcHJvcGVydHkge251bWJlcn0gRUxJUCBFbGxpcHNlXG4gKiBAcHJvcGVydHkge251bWJlcn0gUlJFQyBSb3VuZGVkIFJlY3RhbmdsZVxuICovXG52YXIgU0hBUEVTID0ge1xuICAgIFBPTFk6IDAsXG4gICAgUkVDVDogMSxcbiAgICBDSVJDOiAyLFxuICAgIEVMSVA6IDMsXG4gICAgUlJFQzogNCxcbn07XG5cbi8qKlxuICogVGhlIFBpeGlKUyBNYXRyaXggYXMgYSBjbGFzcyBtYWtlcyBpdCBhIGxvdCBmYXN0ZXIuXG4gKlxuICogSGVyZSBpcyBhIHJlcHJlc2VudGF0aW9uIG9mIGl0OlxuICogYGBganNcbiAqIHwgYSB8IGMgfCB0eHxcbiAqIHwgYiB8IGQgfCB0eXxcbiAqIHwgMCB8IDAgfCAxIHxcbiAqIGBgYFxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgTWF0cml4ID0gZnVuY3Rpb24gTWF0cml4KGEsIGIsIGMsIGQsIHR4LCB0eSlcbntcbiAgICBpZiAoIGEgPT09IHZvaWQgMCApIGEgPSAxO1xuICAgIGlmICggYiA9PT0gdm9pZCAwICkgYiA9IDA7XG4gICAgaWYgKCBjID09PSB2b2lkIDAgKSBjID0gMDtcbiAgICBpZiAoIGQgPT09IHZvaWQgMCApIGQgPSAxO1xuICAgIGlmICggdHggPT09IHZvaWQgMCApIHR4ID0gMDtcbiAgICBpZiAoIHR5ID09PSB2b2lkIDAgKSB0eSA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqL1xuICAgIHRoaXMuYSA9IGE7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMuYiA9IGI7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMuYyA9IGM7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqL1xuICAgIHRoaXMuZCA9IGQ7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMudHggPSB0eDtcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgdGhpcy50eSA9IHR5O1xuXG4gICAgdGhpcy5hcnJheSA9IG51bGw7XG59O1xuXG52YXIgc3RhdGljQWNjZXNzb3JzID0geyBJREVOVElUWTogeyBjb25maWd1cmFibGU6IHRydWUgfSxURU1QX01BVFJJWDogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBNYXRyaXggb2JqZWN0IGJhc2VkIG9uIHRoZSBnaXZlbiBhcnJheS4gVGhlIEVsZW1lbnQgdG8gTWF0cml4IG1hcHBpbmcgb3JkZXIgaXMgYXMgZm9sbG93czpcbiAqXG4gKiBhID0gYXJyYXlbMF1cbiAqIGIgPSBhcnJheVsxXVxuICogYyA9IGFycmF5WzNdXG4gKiBkID0gYXJyYXlbNF1cbiAqIHR4ID0gYXJyYXlbMl1cbiAqIHR5ID0gYXJyYXlbNV1cbiAqXG4gKiBAcGFyYW0ge251bWJlcltdfSBhcnJheSAtIFRoZSBhcnJheSB0aGF0IHRoZSBtYXRyaXggd2lsbCBiZSBwb3B1bGF0ZWQgZnJvbS5cbiAqL1xuTWF0cml4LnByb3RvdHlwZS5mcm9tQXJyYXkgPSBmdW5jdGlvbiBmcm9tQXJyYXkgKGFycmF5KVxue1xuICAgIHRoaXMuYSA9IGFycmF5WzBdO1xuICAgIHRoaXMuYiA9IGFycmF5WzFdO1xuICAgIHRoaXMuYyA9IGFycmF5WzNdO1xuICAgIHRoaXMuZCA9IGFycmF5WzRdO1xuICAgIHRoaXMudHggPSBhcnJheVsyXTtcbiAgICB0aGlzLnR5ID0gYXJyYXlbNV07XG59O1xuXG4vKipcbiAqIHNldHMgdGhlIG1hdHJpeCBwcm9wZXJ0aWVzXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGEgLSBNYXRyaXggY29tcG9uZW50XG4gKiBAcGFyYW0ge251bWJlcn0gYiAtIE1hdHJpeCBjb21wb25lbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSBjIC0gTWF0cml4IGNvbXBvbmVudFxuICogQHBhcmFtIHtudW1iZXJ9IGQgLSBNYXRyaXggY29tcG9uZW50XG4gKiBAcGFyYW0ge251bWJlcn0gdHggLSBNYXRyaXggY29tcG9uZW50XG4gKiBAcGFyYW0ge251bWJlcn0gdHkgLSBNYXRyaXggY29tcG9uZW50XG4gKlxuICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gKi9cbk1hdHJpeC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gc2V0IChhLCBiLCBjLCBkLCB0eCwgdHkpXG57XG4gICAgdGhpcy5hID0gYTtcbiAgICB0aGlzLmIgPSBiO1xuICAgIHRoaXMuYyA9IGM7XG4gICAgdGhpcy5kID0gZDtcbiAgICB0aGlzLnR4ID0gdHg7XG4gICAgdGhpcy50eSA9IHR5O1xuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgZnJvbSB0aGUgY3VycmVudCBNYXRyaXggb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gdHJhbnNwb3NlIC0gV2hldGhlciB3ZSBuZWVkIHRvIHRyYW5zcG9zZSB0aGUgbWF0cml4IG9yIG5vdFxuICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IFtvdXQ9bmV3IEZsb2F0MzJBcnJheSg5KV0gLSBJZiBwcm92aWRlZCB0aGUgYXJyYXkgd2lsbCBiZSBhc3NpZ25lZCB0byBvdXRcbiAqIEByZXR1cm4ge251bWJlcltdfSB0aGUgbmV3bHkgY3JlYXRlZCBhcnJheSB3aGljaCBjb250YWlucyB0aGUgbWF0cml4XG4gKi9cbk1hdHJpeC5wcm90b3R5cGUudG9BcnJheSA9IGZ1bmN0aW9uIHRvQXJyYXkgKHRyYW5zcG9zZSwgb3V0KVxue1xuICAgIGlmICghdGhpcy5hcnJheSlcbiAgICB7XG4gICAgICAgIHRoaXMuYXJyYXkgPSBuZXcgRmxvYXQzMkFycmF5KDkpO1xuICAgIH1cblxuICAgIHZhciBhcnJheSA9IG91dCB8fCB0aGlzLmFycmF5O1xuXG4gICAgaWYgKHRyYW5zcG9zZSlcbiAgICB7XG4gICAgICAgIGFycmF5WzBdID0gdGhpcy5hO1xuICAgICAgICBhcnJheVsxXSA9IHRoaXMuYjtcbiAgICAgICAgYXJyYXlbMl0gPSAwO1xuICAgICAgICBhcnJheVszXSA9IHRoaXMuYztcbiAgICAgICAgYXJyYXlbNF0gPSB0aGlzLmQ7XG4gICAgICAgIGFycmF5WzVdID0gMDtcbiAgICAgICAgYXJyYXlbNl0gPSB0aGlzLnR4O1xuICAgICAgICBhcnJheVs3XSA9IHRoaXMudHk7XG4gICAgICAgIGFycmF5WzhdID0gMTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgYXJyYXlbMF0gPSB0aGlzLmE7XG4gICAgICAgIGFycmF5WzFdID0gdGhpcy5jO1xuICAgICAgICBhcnJheVsyXSA9IHRoaXMudHg7XG4gICAgICAgIGFycmF5WzNdID0gdGhpcy5iO1xuICAgICAgICBhcnJheVs0XSA9IHRoaXMuZDtcbiAgICAgICAgYXJyYXlbNV0gPSB0aGlzLnR5O1xuICAgICAgICBhcnJheVs2XSA9IDA7XG4gICAgICAgIGFycmF5WzddID0gMDtcbiAgICAgICAgYXJyYXlbOF0gPSAxO1xuICAgIH1cblxuICAgIHJldHVybiBhcnJheTtcbn07XG5cbi8qKlxuICogR2V0IGEgbmV3IHBvc2l0aW9uIHdpdGggdGhlIGN1cnJlbnQgdHJhbnNmb3JtYXRpb24gYXBwbGllZC5cbiAqIENhbiBiZSB1c2VkIHRvIGdvIGZyb20gYSBjaGlsZCdzIGNvb3JkaW5hdGUgc3BhY2UgdG8gdGhlIHdvcmxkIGNvb3JkaW5hdGUgc3BhY2UuIChlLmcuIHJlbmRlcmluZylcbiAqXG4gKiBAcGFyYW0ge1BJWEkuUG9pbnR9IHBvcyAtIFRoZSBvcmlnaW5cbiAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW25ld1Bvc10gLSBUaGUgcG9pbnQgdGhhdCB0aGUgbmV3IHBvc2l0aW9uIGlzIGFzc2lnbmVkIHRvIChhbGxvd2VkIHRvIGJlIHNhbWUgYXMgaW5wdXQpXG4gKiBAcmV0dXJuIHtQSVhJLlBvaW50fSBUaGUgbmV3IHBvaW50LCB0cmFuc2Zvcm1lZCB0aHJvdWdoIHRoaXMgbWF0cml4XG4gKi9cbk1hdHJpeC5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbiBhcHBseSAocG9zLCBuZXdQb3MpXG57XG4gICAgbmV3UG9zID0gbmV3UG9zIHx8IG5ldyBQb2ludCgpO1xuXG4gICAgdmFyIHggPSBwb3MueDtcbiAgICB2YXIgeSA9IHBvcy55O1xuXG4gICAgbmV3UG9zLnggPSAodGhpcy5hICogeCkgKyAodGhpcy5jICogeSkgKyB0aGlzLnR4O1xuICAgIG5ld1Bvcy55ID0gKHRoaXMuYiAqIHgpICsgKHRoaXMuZCAqIHkpICsgdGhpcy50eTtcblxuICAgIHJldHVybiBuZXdQb3M7XG59O1xuXG4vKipcbiAqIEdldCBhIG5ldyBwb3NpdGlvbiB3aXRoIHRoZSBpbnZlcnNlIG9mIHRoZSBjdXJyZW50IHRyYW5zZm9ybWF0aW9uIGFwcGxpZWQuXG4gKiBDYW4gYmUgdXNlZCB0byBnbyBmcm9tIHRoZSB3b3JsZCBjb29yZGluYXRlIHNwYWNlIHRvIGEgY2hpbGQncyBjb29yZGluYXRlIHNwYWNlLiAoZS5nLiBpbnB1dClcbiAqXG4gKiBAcGFyYW0ge1BJWEkuUG9pbnR9IHBvcyAtIFRoZSBvcmlnaW5cbiAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW25ld1Bvc10gLSBUaGUgcG9pbnQgdGhhdCB0aGUgbmV3IHBvc2l0aW9uIGlzIGFzc2lnbmVkIHRvIChhbGxvd2VkIHRvIGJlIHNhbWUgYXMgaW5wdXQpXG4gKiBAcmV0dXJuIHtQSVhJLlBvaW50fSBUaGUgbmV3IHBvaW50LCBpbnZlcnNlLXRyYW5zZm9ybWVkIHRocm91Z2ggdGhpcyBtYXRyaXhcbiAqL1xuTWF0cml4LnByb3RvdHlwZS5hcHBseUludmVyc2UgPSBmdW5jdGlvbiBhcHBseUludmVyc2UgKHBvcywgbmV3UG9zKVxue1xuICAgIG5ld1BvcyA9IG5ld1BvcyB8fCBuZXcgUG9pbnQoKTtcblxuICAgIHZhciBpZCA9IDEgLyAoKHRoaXMuYSAqIHRoaXMuZCkgKyAodGhpcy5jICogLXRoaXMuYikpO1xuXG4gICAgdmFyIHggPSBwb3MueDtcbiAgICB2YXIgeSA9IHBvcy55O1xuXG4gICAgbmV3UG9zLnggPSAodGhpcy5kICogaWQgKiB4KSArICgtdGhpcy5jICogaWQgKiB5KSArICgoKHRoaXMudHkgKiB0aGlzLmMpIC0gKHRoaXMudHggKiB0aGlzLmQpKSAqIGlkKTtcbiAgICBuZXdQb3MueSA9ICh0aGlzLmEgKiBpZCAqIHkpICsgKC10aGlzLmIgKiBpZCAqIHgpICsgKCgoLXRoaXMudHkgKiB0aGlzLmEpICsgKHRoaXMudHggKiB0aGlzLmIpKSAqIGlkKTtcblxuICAgIHJldHVybiBuZXdQb3M7XG59O1xuXG4vKipcbiAqIFRyYW5zbGF0ZXMgdGhlIG1hdHJpeCBvbiB0aGUgeCBhbmQgeS5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0geCBIb3cgbXVjaCB0byB0cmFuc2xhdGUgeCBieVxuICogQHBhcmFtIHtudW1iZXJ9IHkgSG93IG11Y2ggdG8gdHJhbnNsYXRlIHkgYnlcbiAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICovXG5NYXRyaXgucHJvdG90eXBlLnRyYW5zbGF0ZSA9IGZ1bmN0aW9uIHRyYW5zbGF0ZSAoeCwgeSlcbntcbiAgICB0aGlzLnR4ICs9IHg7XG4gICAgdGhpcy50eSArPSB5O1xuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIEFwcGxpZXMgYSBzY2FsZSB0cmFuc2Zvcm1hdGlvbiB0byB0aGUgbWF0cml4LlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSB4IFRoZSBhbW91bnQgdG8gc2NhbGUgaG9yaXpvbnRhbGx5XG4gKiBAcGFyYW0ge251bWJlcn0geSBUaGUgYW1vdW50IHRvIHNjYWxlIHZlcnRpY2FsbHlcbiAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICovXG5NYXRyaXgucHJvdG90eXBlLnNjYWxlID0gZnVuY3Rpb24gc2NhbGUgKHgsIHkpXG57XG4gICAgdGhpcy5hICo9IHg7XG4gICAgdGhpcy5kICo9IHk7XG4gICAgdGhpcy5jICo9IHg7XG4gICAgdGhpcy5iICo9IHk7XG4gICAgdGhpcy50eCAqPSB4O1xuICAgIHRoaXMudHkgKj0geTtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBBcHBsaWVzIGEgcm90YXRpb24gdHJhbnNmb3JtYXRpb24gdG8gdGhlIG1hdHJpeC5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gYW5nbGUgLSBUaGUgYW5nbGUgaW4gcmFkaWFucy5cbiAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICovXG5NYXRyaXgucHJvdG90eXBlLnJvdGF0ZSA9IGZ1bmN0aW9uIHJvdGF0ZSAoYW5nbGUpXG57XG4gICAgdmFyIGNvcyA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICB2YXIgc2luID0gTWF0aC5zaW4oYW5nbGUpO1xuXG4gICAgdmFyIGExID0gdGhpcy5hO1xuICAgIHZhciBjMSA9IHRoaXMuYztcbiAgICB2YXIgdHgxID0gdGhpcy50eDtcblxuICAgIHRoaXMuYSA9IChhMSAqIGNvcykgLSAodGhpcy5iICogc2luKTtcbiAgICB0aGlzLmIgPSAoYTEgKiBzaW4pICsgKHRoaXMuYiAqIGNvcyk7XG4gICAgdGhpcy5jID0gKGMxICogY29zKSAtICh0aGlzLmQgKiBzaW4pO1xuICAgIHRoaXMuZCA9IChjMSAqIHNpbikgKyAodGhpcy5kICogY29zKTtcbiAgICB0aGlzLnR4ID0gKHR4MSAqIGNvcykgLSAodGhpcy50eSAqIHNpbik7XG4gICAgdGhpcy50eSA9ICh0eDEgKiBzaW4pICsgKHRoaXMudHkgKiBjb3MpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIEFwcGVuZHMgdGhlIGdpdmVuIE1hdHJpeCB0byB0aGlzIE1hdHJpeC5cbiAqXG4gKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUaGUgbWF0cml4IHRvIGFwcGVuZC5cbiAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICovXG5NYXRyaXgucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uIGFwcGVuZCAobWF0cml4KVxue1xuICAgIHZhciBhMSA9IHRoaXMuYTtcbiAgICB2YXIgYjEgPSB0aGlzLmI7XG4gICAgdmFyIGMxID0gdGhpcy5jO1xuICAgIHZhciBkMSA9IHRoaXMuZDtcblxuICAgIHRoaXMuYSA9IChtYXRyaXguYSAqIGExKSArIChtYXRyaXguYiAqIGMxKTtcbiAgICB0aGlzLmIgPSAobWF0cml4LmEgKiBiMSkgKyAobWF0cml4LmIgKiBkMSk7XG4gICAgdGhpcy5jID0gKG1hdHJpeC5jICogYTEpICsgKG1hdHJpeC5kICogYzEpO1xuICAgIHRoaXMuZCA9IChtYXRyaXguYyAqIGIxKSArIChtYXRyaXguZCAqIGQxKTtcblxuICAgIHRoaXMudHggPSAobWF0cml4LnR4ICogYTEpICsgKG1hdHJpeC50eSAqIGMxKSArIHRoaXMudHg7XG4gICAgdGhpcy50eSA9IChtYXRyaXgudHggKiBiMSkgKyAobWF0cml4LnR5ICogZDEpICsgdGhpcy50eTtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBTZXRzIHRoZSBtYXRyaXggYmFzZWQgb24gYWxsIHRoZSBhdmFpbGFibGUgcHJvcGVydGllc1xuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gUG9zaXRpb24gb24gdGhlIHggYXhpc1xuICogQHBhcmFtIHtudW1iZXJ9IHkgLSBQb3NpdGlvbiBvbiB0aGUgeSBheGlzXG4gKiBAcGFyYW0ge251bWJlcn0gcGl2b3RYIC0gUGl2b3Qgb24gdGhlIHggYXhpc1xuICogQHBhcmFtIHtudW1iZXJ9IHBpdm90WSAtIFBpdm90IG9uIHRoZSB5IGF4aXNcbiAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZVggLSBTY2FsZSBvbiB0aGUgeCBheGlzXG4gKiBAcGFyYW0ge251bWJlcn0gc2NhbGVZIC0gU2NhbGUgb24gdGhlIHkgYXhpc1xuICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIC0gUm90YXRpb24gaW4gcmFkaWFuc1xuICogQHBhcmFtIHtudW1iZXJ9IHNrZXdYIC0gU2tldyBvbiB0aGUgeCBheGlzXG4gKiBAcGFyYW0ge251bWJlcn0gc2tld1kgLSBTa2V3IG9uIHRoZSB5IGF4aXNcbiAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICovXG5NYXRyaXgucHJvdG90eXBlLnNldFRyYW5zZm9ybSA9IGZ1bmN0aW9uIHNldFRyYW5zZm9ybSAoeCwgeSwgcGl2b3RYLCBwaXZvdFksIHNjYWxlWCwgc2NhbGVZLCByb3RhdGlvbiwgc2tld1gsIHNrZXdZKVxue1xuICAgIHRoaXMuYSA9IE1hdGguY29zKHJvdGF0aW9uICsgc2tld1kpICogc2NhbGVYO1xuICAgIHRoaXMuYiA9IE1hdGguc2luKHJvdGF0aW9uICsgc2tld1kpICogc2NhbGVYO1xuICAgIHRoaXMuYyA9IC1NYXRoLnNpbihyb3RhdGlvbiAtIHNrZXdYKSAqIHNjYWxlWTtcbiAgICB0aGlzLmQgPSBNYXRoLmNvcyhyb3RhdGlvbiAtIHNrZXdYKSAqIHNjYWxlWTtcblxuICAgIHRoaXMudHggPSB4IC0gKChwaXZvdFggKiB0aGlzLmEpICsgKHBpdm90WSAqIHRoaXMuYykpO1xuICAgIHRoaXMudHkgPSB5IC0gKChwaXZvdFggKiB0aGlzLmIpICsgKHBpdm90WSAqIHRoaXMuZCkpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFByZXBlbmRzIHRoZSBnaXZlbiBNYXRyaXggdG8gdGhpcyBNYXRyaXguXG4gKlxuICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIG1hdHJpeCB0byBwcmVwZW5kXG4gKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAqL1xuTWF0cml4LnByb3RvdHlwZS5wcmVwZW5kID0gZnVuY3Rpb24gcHJlcGVuZCAobWF0cml4KVxue1xuICAgIHZhciB0eDEgPSB0aGlzLnR4O1xuXG4gICAgaWYgKG1hdHJpeC5hICE9PSAxIHx8IG1hdHJpeC5iICE9PSAwIHx8IG1hdHJpeC5jICE9PSAwIHx8IG1hdHJpeC5kICE9PSAxKVxuICAgIHtcbiAgICAgICAgdmFyIGExID0gdGhpcy5hO1xuICAgICAgICB2YXIgYzEgPSB0aGlzLmM7XG5cbiAgICAgICAgdGhpcy5hID0gKGExICogbWF0cml4LmEpICsgKHRoaXMuYiAqIG1hdHJpeC5jKTtcbiAgICAgICAgdGhpcy5iID0gKGExICogbWF0cml4LmIpICsgKHRoaXMuYiAqIG1hdHJpeC5kKTtcbiAgICAgICAgdGhpcy5jID0gKGMxICogbWF0cml4LmEpICsgKHRoaXMuZCAqIG1hdHJpeC5jKTtcbiAgICAgICAgdGhpcy5kID0gKGMxICogbWF0cml4LmIpICsgKHRoaXMuZCAqIG1hdHJpeC5kKTtcbiAgICB9XG5cbiAgICB0aGlzLnR4ID0gKHR4MSAqIG1hdHJpeC5hKSArICh0aGlzLnR5ICogbWF0cml4LmMpICsgbWF0cml4LnR4O1xuICAgIHRoaXMudHkgPSAodHgxICogbWF0cml4LmIpICsgKHRoaXMudHkgKiBtYXRyaXguZCkgKyBtYXRyaXgudHk7XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogRGVjb21wb3NlcyB0aGUgbWF0cml4ICh4LCB5LCBzY2FsZVgsIHNjYWxlWSwgYW5kIHJvdGF0aW9uKSBhbmQgc2V0cyB0aGUgcHJvcGVydGllcyBvbiB0byBhIHRyYW5zZm9ybS5cbiAqXG4gKiBAcGFyYW0ge1BJWEkuVHJhbnNmb3JtfSB0cmFuc2Zvcm0gLSBUaGUgdHJhbnNmb3JtIHRvIGFwcGx5IHRoZSBwcm9wZXJ0aWVzIHRvLlxuICogQHJldHVybiB7UElYSS5UcmFuc2Zvcm19IFRoZSB0cmFuc2Zvcm0gd2l0aCB0aGUgbmV3bHkgYXBwbGllZCBwcm9wZXJ0aWVzXG4gKi9cbk1hdHJpeC5wcm90b3R5cGUuZGVjb21wb3NlID0gZnVuY3Rpb24gZGVjb21wb3NlICh0cmFuc2Zvcm0pXG57XG4gICAgLy8gc29ydCBvdXQgcm90YXRpb24gLyBza2V3Li5cbiAgICB2YXIgYSA9IHRoaXMuYTtcbiAgICB2YXIgYiA9IHRoaXMuYjtcbiAgICB2YXIgYyA9IHRoaXMuYztcbiAgICB2YXIgZCA9IHRoaXMuZDtcblxuICAgIHZhciBza2V3WCA9IC1NYXRoLmF0YW4yKC1jLCBkKTtcbiAgICB2YXIgc2tld1kgPSBNYXRoLmF0YW4yKGIsIGEpO1xuXG4gICAgdmFyIGRlbHRhID0gTWF0aC5hYnMoc2tld1ggKyBza2V3WSk7XG5cbiAgICBpZiAoZGVsdGEgPCAwLjAwMDAxIHx8IE1hdGguYWJzKFBJXzIgLSBkZWx0YSkgPCAwLjAwMDAxKVxuICAgIHtcbiAgICAgICAgdHJhbnNmb3JtLnJvdGF0aW9uID0gc2tld1k7XG4gICAgICAgIHRyYW5zZm9ybS5za2V3LnggPSB0cmFuc2Zvcm0uc2tldy55ID0gMDtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgdHJhbnNmb3JtLnJvdGF0aW9uID0gMDtcbiAgICAgICAgdHJhbnNmb3JtLnNrZXcueCA9IHNrZXdYO1xuICAgICAgICB0cmFuc2Zvcm0uc2tldy55ID0gc2tld1k7XG4gICAgfVxuXG4gICAgLy8gbmV4dCBzZXQgc2NhbGVcbiAgICB0cmFuc2Zvcm0uc2NhbGUueCA9IE1hdGguc3FydCgoYSAqIGEpICsgKGIgKiBiKSk7XG4gICAgdHJhbnNmb3JtLnNjYWxlLnkgPSBNYXRoLnNxcnQoKGMgKiBjKSArIChkICogZCkpO1xuXG4gICAgLy8gbmV4dCBzZXQgcG9zaXRpb25cbiAgICB0cmFuc2Zvcm0ucG9zaXRpb24ueCA9IHRoaXMudHg7XG4gICAgdHJhbnNmb3JtLnBvc2l0aW9uLnkgPSB0aGlzLnR5O1xuXG4gICAgcmV0dXJuIHRyYW5zZm9ybTtcbn07XG5cbi8qKlxuICogSW52ZXJ0cyB0aGlzIG1hdHJpeFxuICpcbiAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICovXG5NYXRyaXgucHJvdG90eXBlLmludmVydCA9IGZ1bmN0aW9uIGludmVydCAoKVxue1xuICAgIHZhciBhMSA9IHRoaXMuYTtcbiAgICB2YXIgYjEgPSB0aGlzLmI7XG4gICAgdmFyIGMxID0gdGhpcy5jO1xuICAgIHZhciBkMSA9IHRoaXMuZDtcbiAgICB2YXIgdHgxID0gdGhpcy50eDtcbiAgICB2YXIgbiA9IChhMSAqIGQxKSAtIChiMSAqIGMxKTtcblxuICAgIHRoaXMuYSA9IGQxIC8gbjtcbiAgICB0aGlzLmIgPSAtYjEgLyBuO1xuICAgIHRoaXMuYyA9IC1jMSAvIG47XG4gICAgdGhpcy5kID0gYTEgLyBuO1xuICAgIHRoaXMudHggPSAoKGMxICogdGhpcy50eSkgLSAoZDEgKiB0eDEpKSAvIG47XG4gICAgdGhpcy50eSA9IC0oKGExICogdGhpcy50eSkgLSAoYjEgKiB0eDEpKSAvIG47XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVzZXRzIHRoaXMgTWF0cml4IHRvIGFuIGlkZW50aXR5IChkZWZhdWx0KSBtYXRyaXguXG4gKlxuICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gKi9cbk1hdHJpeC5wcm90b3R5cGUuaWRlbnRpdHkgPSBmdW5jdGlvbiBpZGVudGl0eSAoKVxue1xuICAgIHRoaXMuYSA9IDE7XG4gICAgdGhpcy5iID0gMDtcbiAgICB0aGlzLmMgPSAwO1xuICAgIHRoaXMuZCA9IDE7XG4gICAgdGhpcy50eCA9IDA7XG4gICAgdGhpcy50eSA9IDA7XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBNYXRyaXggb2JqZWN0IHdpdGggdGhlIHNhbWUgdmFsdWVzIGFzIHRoaXMgb25lLlxuICpcbiAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBBIGNvcHkgb2YgdGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAqL1xuTWF0cml4LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIGNsb25lICgpXG57XG4gICAgdmFyIG1hdHJpeCA9IG5ldyBNYXRyaXgoKTtcblxuICAgIG1hdHJpeC5hID0gdGhpcy5hO1xuICAgIG1hdHJpeC5iID0gdGhpcy5iO1xuICAgIG1hdHJpeC5jID0gdGhpcy5jO1xuICAgIG1hdHJpeC5kID0gdGhpcy5kO1xuICAgIG1hdHJpeC50eCA9IHRoaXMudHg7XG4gICAgbWF0cml4LnR5ID0gdGhpcy50eTtcblxuICAgIHJldHVybiBtYXRyaXg7XG59O1xuXG4vKipcbiAqIENoYW5nZXMgdGhlIHZhbHVlcyBvZiB0aGUgZ2l2ZW4gbWF0cml4IHRvIGJlIHRoZSBzYW1lIGFzIHRoZSBvbmVzIGluIHRoaXMgbWF0cml4XG4gKlxuICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIG1hdHJpeCB0byBjb3B5IHRvLlxuICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoZSBtYXRyaXggZ2l2ZW4gaW4gcGFyYW1ldGVyIHdpdGggaXRzIHZhbHVlcyB1cGRhdGVkLlxuICovXG5NYXRyaXgucHJvdG90eXBlLmNvcHlUbyA9IGZ1bmN0aW9uIGNvcHlUbyAobWF0cml4KVxue1xuICAgIG1hdHJpeC5hID0gdGhpcy5hO1xuICAgIG1hdHJpeC5iID0gdGhpcy5iO1xuICAgIG1hdHJpeC5jID0gdGhpcy5jO1xuICAgIG1hdHJpeC5kID0gdGhpcy5kO1xuICAgIG1hdHJpeC50eCA9IHRoaXMudHg7XG4gICAgbWF0cml4LnR5ID0gdGhpcy50eTtcblxuICAgIHJldHVybiBtYXRyaXg7XG59O1xuXG4vKipcbiAqIENoYW5nZXMgdGhlIHZhbHVlcyBvZiB0aGUgbWF0cml4IHRvIGJlIHRoZSBzYW1lIGFzIHRoZSBvbmVzIGluIGdpdmVuIG1hdHJpeFxuICpcbiAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRoZSBtYXRyaXggdG8gY29weSBmcm9tLlxuICogQHJldHVybiB7UElYSS5NYXRyaXh9IHRoaXNcbiAqL1xuTWF0cml4LnByb3RvdHlwZS5jb3B5RnJvbSA9IGZ1bmN0aW9uIGNvcHlGcm9tIChtYXRyaXgpXG57XG4gICAgdGhpcy5hID0gbWF0cml4LmE7XG4gICAgdGhpcy5iID0gbWF0cml4LmI7XG4gICAgdGhpcy5jID0gbWF0cml4LmM7XG4gICAgdGhpcy5kID0gbWF0cml4LmQ7XG4gICAgdGhpcy50eCA9IG1hdHJpeC50eDtcbiAgICB0aGlzLnR5ID0gbWF0cml4LnR5O1xuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIEEgZGVmYXVsdCAoaWRlbnRpdHkpIG1hdHJpeFxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdFxuICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gKi9cbnN0YXRpY0FjY2Vzc29ycy5JREVOVElUWS5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiBuZXcgTWF0cml4KCk7XG59O1xuXG4vKipcbiAqIEEgdGVtcCBtYXRyaXhcbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RcbiAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICovXG5zdGF0aWNBY2Nlc3NvcnMuVEVNUF9NQVRSSVguZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gbmV3IE1hdHJpeCgpO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIE1hdHJpeCwgc3RhdGljQWNjZXNzb3JzICk7XG5cbi8vIFlvdXIgZnJpZW5kbHkgbmVpZ2hib3VyIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0RpaGVkcmFsX2dyb3VwXG5cbi8qXG4gKiBUcmFuc2Zvcm0gbWF0cml4IGZvciBvcGVyYXRpb24gbiBpczpcbiAqIHwgdXggfCB2eCB8XG4gKiB8IHV5IHwgdnkgfFxuICovXG5cbnZhciB1eCA9IFsxLCAxLCAwLCAtMSwgLTEsIC0xLCAwLCAxLCAxLCAxLCAwLCAtMSwgLTEsIC0xLCAwLCAxXTtcbnZhciB1eSA9IFswLCAxLCAxLCAxLCAwLCAtMSwgLTEsIC0xLCAwLCAxLCAxLCAxLCAwLCAtMSwgLTEsIC0xXTtcbnZhciB2eCA9IFswLCAtMSwgLTEsIC0xLCAwLCAxLCAxLCAxLCAwLCAxLCAxLCAxLCAwLCAtMSwgLTEsIC0xXTtcbnZhciB2eSA9IFsxLCAxLCAwLCAtMSwgLTEsIC0xLCAwLCAxLCAtMSwgLTEsIDAsIDEsIDEsIDEsIDAsIC0xXTtcblxuLyoqXG4gKiBbQ2F5bGV5IFRhYmxlXXtAbGluayBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DYXlsZXlfdGFibGV9XG4gKiBmb3IgdGhlIGNvbXBvc2l0aW9uIG9mIGVhY2ggcm90YXRpb24gaW4gdGhlIGRpaGVkZXJhbCBncm91cCBEOC5cbiAqXG4gKiBAdHlwZSBudW1iZXJbXVtdXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgcm90YXRpb25DYXlsZXkgPSBbXTtcblxuLyoqXG4gKiBNYXRyaWNlcyBmb3IgZWFjaCBgR0Q4U3ltbWV0cnlgIHJvdGF0aW9uLlxuICpcbiAqIEB0eXBlIE1hdHJpeFtdXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgcm90YXRpb25NYXRyaWNlcyA9IFtdO1xuXG4vKlxuICogQWxpYXMgZm9yIHtAY29kZSBNYXRoLnNpZ259LlxuICovXG52YXIgc2lnbnVtID0gTWF0aC5zaWduO1xuXG4vKlxuICogSW5pdGlhbGl6ZXMgYHJvdGF0aW9uQ2F5bGV5YCBhbmQgYHJvdGF0aW9uTWF0cmljZXNgLiBJdCBpcyBjYWxsZWRcbiAqIG9ubHkgb25jZSBiZWxvdy5cbiAqL1xuZnVuY3Rpb24gaW5pdCgpXG57XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxNjsgaSsrKVxuICAgIHtcbiAgICAgICAgdmFyIHJvdyA9IFtdO1xuXG4gICAgICAgIHJvdGF0aW9uQ2F5bGV5LnB1c2gocm93KTtcblxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDE2OyBqKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8qIE11bHRpcGxpZXMgcm90YXRpb24gbWF0cmljZXMgaSBhbmQgai4gKi9cbiAgICAgICAgICAgIHZhciBfdXggPSBzaWdudW0oKHV4W2ldICogdXhbal0pICsgKHZ4W2ldICogdXlbal0pKTtcbiAgICAgICAgICAgIHZhciBfdXkgPSBzaWdudW0oKHV5W2ldICogdXhbal0pICsgKHZ5W2ldICogdXlbal0pKTtcbiAgICAgICAgICAgIHZhciBfdnggPSBzaWdudW0oKHV4W2ldICogdnhbal0pICsgKHZ4W2ldICogdnlbal0pKTtcbiAgICAgICAgICAgIHZhciBfdnkgPSBzaWdudW0oKHV5W2ldICogdnhbal0pICsgKHZ5W2ldICogdnlbal0pKTtcblxuICAgICAgICAgICAgLyogRmluZHMgcm90YXRpb24gbWF0cml4IG1hdGNoaW5nIHRoZSBwcm9kdWN0IGFuZCBwdXNoZXMgaXQuICovXG4gICAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IDE2OyBrKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHV4W2tdID09PSBfdXggJiYgdXlba10gPT09IF91eVxuICAgICAgICAgICAgICAgICAgICAgICYmIHZ4W2tdID09PSBfdnggJiYgdnlba10gPT09IF92eSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJvdy5wdXNoKGspO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCAxNjsgaSQxKyspXG4gICAge1xuICAgICAgICB2YXIgbWF0ID0gbmV3IE1hdHJpeCgpO1xuXG4gICAgICAgIG1hdC5zZXQodXhbaSQxXSwgdXlbaSQxXSwgdnhbaSQxXSwgdnlbaSQxXSwgMCwgMCk7XG4gICAgICAgIHJvdGF0aW9uTWF0cmljZXMucHVzaChtYXQpO1xuICAgIH1cbn1cblxuaW5pdCgpO1xuXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZWRlZiB7bnVtYmVyfSBHRDhTeW1tZXRyeVxuICogQHNlZSBQSVhJLkdyb3VwRDhcbiAqL1xuXG4vKipcbiAqIEltcGxlbWVudHMgdGhlIGRpaGVkcmFsIGdyb3VwIEQ4LCB3aGljaCBpcyBzaW1pbGFyIHRvXG4gKiBbZ3JvdXAgRDRde0BsaW5rIGh0dHA6Ly9tYXRod29ybGQud29sZnJhbS5jb20vRGloZWRyYWxHcm91cEQ0Lmh0bWx9O1xuICogRDggaXMgdGhlIHNhbWUgYnV0IHdpdGggZGlhZ29uYWxzLCBhbmQgaXQgaXMgdXNlZCBmb3IgdGV4dHVyZVxuICogcm90YXRpb25zLlxuICpcbiAqIFRoZSBkaXJlY3Rpb25zIHRoZSBVLSBhbmQgVi0gYXhlcyBhZnRlciByb3RhdGlvblxuICogb2YgYW4gYW5nbGUgb2YgYGE6IEdEOENvbnN0YW50YCBhcmUgdGhlIHZlY3RvcnMgYCh1WChhKSwgdVkoYSkpYFxuICogYW5kIGAodlgoYSksIHZZKGEpKWAuIFRoZXNlIGFyZW4ndCBuZWNlc3NhcmlseSB1bml0IHZlY3RvcnMuXG4gKlxuICogKipPcmlnaW46Kio8YnI+XG4gKiAgVGhpcyBpcyB0aGUgc21hbGwgcGFydCBvZiBnYW1lb2Zib21icy5jb20gcG9ydGFsIHN5c3RlbS4gSXQgd29ya3MuXG4gKlxuICogQHNlZSBQSVhJLkdyb3VwRDguRVxuICogQHNlZSBQSVhJLkdyb3VwRDguU0VcbiAqIEBzZWUgUElYSS5Hcm91cEQ4LlNcbiAqIEBzZWUgUElYSS5Hcm91cEQ4LlNXXG4gKiBAc2VlIFBJWEkuR3JvdXBEOC5XXG4gKiBAc2VlIFBJWEkuR3JvdXBEOC5OV1xuICogQHNlZSBQSVhJLkdyb3VwRDguTlxuICogQHNlZSBQSVhJLkdyb3VwRDguTkVcbiAqIEBhdXRob3IgSXZhbiBAaXZhbnBvcGVseXNoZXZcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEdyb3VwRDggPSB7XG4gICAgLyoqXG4gICAgICogfCBSb3RhdGlvbiB8IERpcmVjdGlvbiB8XG4gICAgICogfC0tLS0tLS0tLS18LS0tLS0tLS0tLS18XG4gICAgICogfCAwwrAgICAgICAgfCBFYXN0ICAgICAgfFxuICAgICAqXG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIEU6IDAsXG5cbiAgICAvKipcbiAgICAgKiB8IFJvdGF0aW9uIHwgRGlyZWN0aW9uIHxcbiAgICAgKiB8LS0tLS0tLS0tLXwtLS0tLS0tLS0tLXxcbiAgICAgKiB8IDQ1wrDihrsgICAgIHwgU291dGhlYXN0IHxcbiAgICAgKlxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBTRTogMSxcblxuICAgIC8qKlxuICAgICAqIHwgUm90YXRpb24gfCBEaXJlY3Rpb24gfFxuICAgICAqIHwtLS0tLS0tLS0tfC0tLS0tLS0tLS0tfFxuICAgICAqIHwgOTDCsOKGuyAgICAgfCBTb3V0aCAgICAgfFxuICAgICAqXG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIFM6IDIsXG5cbiAgICAvKipcbiAgICAgKiB8IFJvdGF0aW9uIHwgRGlyZWN0aW9uIHxcbiAgICAgKiB8LS0tLS0tLS0tLXwtLS0tLS0tLS0tLXxcbiAgICAgKiB8IDEzNcKw4oa7ICAgIHwgU291dGh3ZXN0IHxcbiAgICAgKlxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBTVzogMyxcblxuICAgIC8qKlxuICAgICAqIHwgUm90YXRpb24gfCBEaXJlY3Rpb24gfFxuICAgICAqIHwtLS0tLS0tLS0tfC0tLS0tLS0tLS0tfFxuICAgICAqIHwgMTgwwrAgICAgIHwgV2VzdCAgICAgIHxcbiAgICAgKlxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBXOiA0LFxuXG4gICAgLyoqXG4gICAgICogfCBSb3RhdGlvbiAgICB8IERpcmVjdGlvbiAgICB8XG4gICAgICogfC0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS18XG4gICAgICogfCAtMTM1wrAvMjI1wrDihrsgfCBOb3J0aHdlc3QgICAgfFxuICAgICAqXG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIE5XOiA1LFxuXG4gICAgLyoqXG4gICAgICogfCBSb3RhdGlvbiAgICB8IERpcmVjdGlvbiAgICB8XG4gICAgICogfC0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS18XG4gICAgICogfCAtOTDCsC8yNzDCsOKGuyAgfCBOb3J0aCAgICAgICAgfFxuICAgICAqXG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIE46IDYsXG5cbiAgICAvKipcbiAgICAgKiB8IFJvdGF0aW9uICAgIHwgRGlyZWN0aW9uICAgIHxcbiAgICAgKiB8LS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLXxcbiAgICAgKiB8IC00NcKwLzMxNcKw4oa7ICB8IE5vcnRoZWFzdCAgICB8XG4gICAgICpcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgTkU6IDcsXG5cbiAgICAvKipcbiAgICAgKiBSZWZsZWN0aW9uIGFib3V0IFktYXhpcy5cbiAgICAgKlxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBNSVJST1JfVkVSVElDQUw6IDgsXG5cbiAgICAvKipcbiAgICAgKiBSZWZsZWN0aW9uIGFib3V0IHRoZSBtYWluIGRpYWdvbmFsLlxuICAgICAqXG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIE1BSU5fRElBR09OQUw6IDEwLFxuXG4gICAgLyoqXG4gICAgICogUmVmbGVjdGlvbiBhYm91dCBYLWF4aXMuXG4gICAgICpcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgTUlSUk9SX0hPUklaT05UQUw6IDEyLFxuXG4gICAgLyoqXG4gICAgICogUmVmbGVjdGlvbiBhYm91dCByZXZlcnNlIGRpYWdvbmFsLlxuICAgICAqXG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIFJFVkVSU0VfRElBR09OQUw6IDE0LFxuXG4gICAgLyoqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuR3JvdXBEOFxuICAgICAqIEBwYXJhbSB7UElYSS5HRDhTeW1tZXRyeX0gaW5kIC0gc3ByaXRlIHJvdGF0aW9uIGFuZ2xlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR0Q4U3ltbWV0cnl9IFRoZSBYLWNvbXBvbmVudCBvZiB0aGUgVS1heGlzXG4gICAgICogICAgYWZ0ZXIgcm90YXRpbmcgdGhlIGF4ZXMuXG4gICAgICovXG4gICAgdVg6IGZ1bmN0aW9uIChpbmQpIHsgcmV0dXJuIHV4W2luZF07IH0sXG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5Hcm91cEQ4XG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSBpbmQgLSBzcHJpdGUgcm90YXRpb24gYW5nbGUuXG4gICAgICogQHJldHVybiB7UElYSS5HRDhTeW1tZXRyeX0gVGhlIFktY29tcG9uZW50IG9mIHRoZSBVLWF4aXNcbiAgICAgKiAgICBhZnRlciByb3RhdGluZyB0aGUgYXhlcy5cbiAgICAgKi9cbiAgICB1WTogZnVuY3Rpb24gKGluZCkgeyByZXR1cm4gdXlbaW5kXTsgfSxcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IGluZCAtIHNwcml0ZSByb3RhdGlvbiBhbmdsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdEOFN5bW1ldHJ5fSBUaGUgWC1jb21wb25lbnQgb2YgdGhlIFYtYXhpc1xuICAgICAqICAgIGFmdGVyIHJvdGF0aW5nIHRoZSBheGVzLlxuICAgICAqL1xuICAgIHZYOiBmdW5jdGlvbiAoaW5kKSB7IHJldHVybiB2eFtpbmRdOyB9LFxuXG4gICAgLyoqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuR3JvdXBEOFxuICAgICAqIEBwYXJhbSB7UElYSS5HRDhTeW1tZXRyeX0gaW5kIC0gc3ByaXRlIHJvdGF0aW9uIGFuZ2xlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR0Q4U3ltbWV0cnl9IFRoZSBZLWNvbXBvbmVudCBvZiB0aGUgVi1heGlzXG4gICAgICogICAgYWZ0ZXIgcm90YXRpbmcgdGhlIGF4ZXMuXG4gICAgICovXG4gICAgdlk6IGZ1bmN0aW9uIChpbmQpIHsgcmV0dXJuIHZ5W2luZF07IH0sXG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5Hcm91cEQ4XG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSByb3RhdGlvbiAtIHN5bW1ldHJ5IHdob3NlIG9wcG9zaXRlXG4gICAgICogICBpcyBuZWVkZWQuIE9ubHkgcm90YXRpb25zIGhhdmUgb3Bwb3NpdGUgc3ltbWV0cmllcyB3aGlsZVxuICAgICAqICAgcmVmbGVjdGlvbnMgZG9uJ3QuXG4gICAgICogQHJldHVybiB7UElYSS5HRDhTeW1tZXRyeX0gVGhlIG9wcG9zaXRlIHN5bW1ldHJ5IG9mIGByb3RhdGlvbmBcbiAgICAgKi9cbiAgICBpbnY6IGZ1bmN0aW9uIChyb3RhdGlvbikge1xuICAgICAgICBpZiAocm90YXRpb24gJiA4KS8vIHRydWUgb25seSBpZiBiZXR3ZWVuIDggJiAxNSAocmVmbGVjdGlvbnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiByb3RhdGlvbiAmIDE1Oy8vIG9yIHJvdGF0aW9uICUgMTZcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAoLXJvdGF0aW9uKSAmIDc7Ly8gb3IgKDggLSByb3RhdGlvbikgJSA4XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENvbXBvc2VzIHRoZSB0d28gRDggb3BlcmF0aW9ucy5cbiAgICAgKlxuICAgICAqIFRha2luZyBgXmAgYXMgcmVmbGVjdGlvbjpcbiAgICAgKlxuICAgICAqIHwgICAgICAgfCBFPTAgfCBTPTIgfCBXPTQgfCBOPTYgfCBFXj04IHwgU149MTAgfCBXXj0xMiB8IE5ePTE0IHxcbiAgICAgKiB8LS0tLS0tLXwtLS0tLXwtLS0tLXwtLS0tLXwtLS0tLXwtLS0tLS18LS0tLS0tLXwtLS0tLS0tfC0tLS0tLS18XG4gICAgICogfCBFPTAgICB8IEUgICB8IFMgICB8IFcgICB8IE4gICB8IEVeICAgfCBTXiAgICB8IFdeICAgIHwgTl4gICAgfFxuICAgICAqIHwgUz0yICAgfCBTICAgfCBXICAgfCBOICAgfCBFICAgfCBTXiAgIHwgV14gICAgfCBOXiAgICB8IEVeICAgIHxcbiAgICAgKiB8IFc9NCAgIHwgVyAgIHwgTiAgIHwgRSAgIHwgUyAgIHwgV14gICB8IE5eICAgIHwgRV4gICAgfCBTXiAgICB8XG4gICAgICogfCBOPTYgICB8IE4gICB8IEUgICB8IFMgICB8IFcgICB8IE5eICAgfCBFXiAgICB8IFNeICAgIHwgV14gICAgfFxuICAgICAqIHwgRV49OCAgfCBFXiAgfCBOXiAgfCBXXiAgfCBTXiAgfCBFICAgIHwgTiAgICAgfCBXICAgICB8IFMgICAgIHxcbiAgICAgKiB8IFNePTEwIHwgU14gIHwgRV4gIHwgTl4gIHwgV14gIHwgUyAgICB8IEUgICAgIHwgTiAgICAgfCBXICAgICB8XG4gICAgICogfCBXXj0xMiB8IFdeICB8IFNeICB8IEVeICB8IE5eICB8IFcgICAgfCBTICAgICB8IEUgICAgIHwgTiAgICAgfFxuICAgICAqIHwgTl49MTQgfCBOXiAgfCBXXiAgfCBTXiAgfCBFXiAgfCBOICAgIHwgVyAgICAgfCBTICAgICB8IEUgICAgIHxcbiAgICAgKlxuICAgICAqIFtUaGlzIGlzIGEgQ2F5bGV5IHRhYmxlXXtAbGluayBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DYXlsZXlfdGFibGV9XG4gICAgICogQG1lbWJlcm9mIFBJWEkuR3JvdXBEOFxuICAgICAqIEBwYXJhbSB7UElYSS5HRDhTeW1tZXRyeX0gcm90YXRpb25TZWNvbmQgLSBTZWNvbmQgb3BlcmF0aW9uLCB3aGljaFxuICAgICAqICAgaXMgdGhlIHJvdyBpbiB0aGUgYWJvdmUgY2F5bGV5IHRhYmxlLlxuICAgICAqIEBwYXJhbSB7UElYSS5HRDhTeW1tZXRyeX0gcm90YXRpb25GaXJzdCAtIEZpcnN0IG9wZXJhdGlvbiwgd2hpY2hcbiAgICAgKiAgIGlzIHRoZSBjb2x1bW4gaW4gdGhlIGFib3ZlIGNheWxleSB0YWJsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdEOFN5bW1ldHJ5fSBDb21wb3NlZCBvcGVyYXRpb25cbiAgICAgKi9cbiAgICBhZGQ6IGZ1bmN0aW9uIChyb3RhdGlvblNlY29uZCwgcm90YXRpb25GaXJzdCkgeyByZXR1cm4gKFxuICAgICAgICByb3RhdGlvbkNheWxleVtyb3RhdGlvblNlY29uZF1bcm90YXRpb25GaXJzdF1cbiAgICApOyB9LFxuXG4gICAgLyoqXG4gICAgICogUmV2ZXJzZSBvZiBgYWRkYC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IHJvdGF0aW9uU2Vjb25kIC0gU2Vjb25kIG9wZXJhdGlvblxuICAgICAqIEBwYXJhbSB7UElYSS5HRDhTeW1tZXRyeX0gcm90YXRpb25GaXJzdCAtIEZpcnN0IG9wZXJhdGlvblxuICAgICAqIEByZXR1cm4ge1BJWEkuR0Q4U3ltbWV0cnl9IFJlc3VsdFxuICAgICAqL1xuICAgIHN1YjogZnVuY3Rpb24gKHJvdGF0aW9uU2Vjb25kLCByb3RhdGlvbkZpcnN0KSB7IHJldHVybiAoXG4gICAgICAgIHJvdGF0aW9uQ2F5bGV5W3JvdGF0aW9uU2Vjb25kXVtHcm91cEQ4Lmludihyb3RhdGlvbkZpcnN0KV1cbiAgICApOyB9LFxuXG4gICAgLyoqXG4gICAgICogQWRkcyAxODAgZGVncmVlcyB0byByb3RhdGlvbiwgd2hpY2ggaXMgYSBjb21tdXRhdGl2ZVxuICAgICAqIG9wZXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gLSBUaGUgbnVtYmVyIHRvIHJvdGF0ZS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSb3RhdGVkIG51bWJlclxuICAgICAqL1xuICAgIHJvdGF0ZTE4MDogZnVuY3Rpb24gKHJvdGF0aW9uKSB7IHJldHVybiByb3RhdGlvbiBeIDQ7IH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIHJvdGF0aW9uIGFuZ2xlIGlzIHZlcnRpY2FsLCBpLmUuIHNvdXRoXG4gICAgICogb3Igbm9ydGguIEl0IGRvZXNuJ3Qgd29yayBmb3IgcmVmbGVjdGlvbnMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5Hcm91cEQ4XG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSByb3RhdGlvbiAtIFRoZSBudW1iZXIgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgb3Igbm90IHRoZSBkaXJlY3Rpb24gaXMgdmVydGljYWxcbiAgICAgKi9cbiAgICBpc1ZlcnRpY2FsOiBmdW5jdGlvbiAocm90YXRpb24pIHsgcmV0dXJuIChyb3RhdGlvbiAmIDMpID09PSAyOyB9LCAvLyByb3RhdGlvbiAlIDQgPT09IDJcblxuICAgIC8qKlxuICAgICAqIEFwcHJveGltYXRlcyB0aGUgdmVjdG9yIGBWKGR4LGR5KWAgaW50byBvbmUgb2YgdGhlXG4gICAgICogZWlnaHQgZGlyZWN0aW9ucyBwcm92aWRlZCBieSBgR3JvdXBEOGAuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5Hcm91cEQ4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGR4IC0gWC1jb21wb25lbnQgb2YgdGhlIHZlY3RvclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkeSAtIFktY29tcG9uZW50IG9mIHRoZSB2ZWN0b3JcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdEOFN5bW1ldHJ5fSBBcHByb3hpbWF0aW9uIG9mIHRoZSB2ZWN0b3IgaW50b1xuICAgICAqICBvbmUgb2YgdGhlIGVpZ2h0IHN5bW1ldHJpZXMuXG4gICAgICovXG4gICAgYnlEaXJlY3Rpb246IGZ1bmN0aW9uIChkeCwgZHkpIHtcbiAgICAgICAgaWYgKE1hdGguYWJzKGR4KSAqIDIgPD0gTWF0aC5hYnMoZHkpKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoZHkgPj0gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gR3JvdXBEOC5TO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gR3JvdXBEOC5OO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKE1hdGguYWJzKGR5KSAqIDIgPD0gTWF0aC5hYnMoZHgpKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoZHggPiAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBHcm91cEQ4LkU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBHcm91cEQ4Llc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZHkgPiAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoZHggPiAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBHcm91cEQ4LlNFO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gR3JvdXBEOC5TVztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkeCA+IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBHcm91cEQ4Lk5FO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIEdyb3VwRDguTlc7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEhlbHBzIHNwcml0ZSB0byBjb21wZW5zYXRlIHRleHR1cmUgcGFja2VyIHJvdGF0aW9uLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuR3JvdXBEOFxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIHNwcml0ZSB3b3JsZCBtYXRyaXhcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IHJvdGF0aW9uIC0gVGhlIHJvdGF0aW9uIGZhY3RvciB0byB1c2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHR4IC0gc3ByaXRlIGFuY2hvcmluZ1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0eSAtIHNwcml0ZSBhbmNob3JpbmdcbiAgICAgKi9cbiAgICBtYXRyaXhBcHBlbmRSb3RhdGlvbkludjogZnVuY3Rpb24gKG1hdHJpeCwgcm90YXRpb24sIHR4LCB0eSkge1xuICAgICAgICBpZiAoIHR4ID09PSB2b2lkIDAgKSB0eCA9IDA7XG4gICAgICAgIGlmICggdHkgPT09IHZvaWQgMCApIHR5ID0gMDtcblxuICAgICAgICAvLyBQYWNrZXIgdXNlZCBcInJvdGF0aW9uXCIsIHdlIHVzZSBcImludihyb3RhdGlvbilcIlxuICAgICAgICB2YXIgbWF0ID0gcm90YXRpb25NYXRyaWNlc1tHcm91cEQ4Lmludihyb3RhdGlvbildO1xuXG4gICAgICAgIG1hdC50eCA9IHR4O1xuICAgICAgICBtYXQudHkgPSB0eTtcbiAgICAgICAgbWF0cml4LmFwcGVuZChtYXQpO1xuICAgIH0sXG59O1xuXG4vKipcbiAqIFRyYW5zZm9ybSB0aGF0IHRha2VzIGNhcmUgYWJvdXQgaXRzIHZlcnNpb25zXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVHJhbnNmb3JtID0gZnVuY3Rpb24gVHJhbnNmb3JtKClcbntcbiAgICAvKipcbiAgICAgKiBUaGUgd29ybGQgdHJhbnNmb3JtYXRpb24gbWF0cml4LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICovXG4gICAgdGhpcy53b3JsZFRyYW5zZm9ybSA9IG5ldyBNYXRyaXgoKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBsb2NhbCB0cmFuc2Zvcm1hdGlvbiBtYXRyaXguXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgKi9cbiAgICB0aGlzLmxvY2FsVHJhbnNmb3JtID0gbmV3IE1hdHJpeCgpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGNvb3JkaW5hdGUgb2YgdGhlIG9iamVjdCByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAqL1xuICAgIHRoaXMucG9zaXRpb24gPSBuZXcgT2JzZXJ2YWJsZVBvaW50KHRoaXMub25DaGFuZ2UsIHRoaXMsIDAsIDApO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNjYWxlIGZhY3RvciBvZiB0aGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICovXG4gICAgdGhpcy5zY2FsZSA9IG5ldyBPYnNlcnZhYmxlUG9pbnQodGhpcy5vbkNoYW5nZSwgdGhpcywgMSwgMSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcGl2b3QgcG9pbnQgb2YgdGhlIGRpc3BsYXlPYmplY3QgdGhhdCBpdCByb3RhdGVzIGFyb3VuZC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAqL1xuICAgIHRoaXMucGl2b3QgPSBuZXcgT2JzZXJ2YWJsZVBvaW50KHRoaXMub25DaGFuZ2UsIHRoaXMsIDAsIDApO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNrZXcgYW1vdW50LCBvbiB0aGUgeCBhbmQgeSBheGlzLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICovXG4gICAgdGhpcy5za2V3ID0gbmV3IE9ic2VydmFibGVQb2ludCh0aGlzLnVwZGF0ZVNrZXcsIHRoaXMsIDAsIDApO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHJvdGF0aW9uIGFtb3VudC5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5fcm90YXRpb24gPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIFgtY29vcmRpbmF0ZSB2YWx1ZSBvZiB0aGUgbm9ybWFsaXplZCBsb2NhbCBYIGF4aXMsXG4gICAgICogdGhlIGZpcnN0IGNvbHVtbiBvZiB0aGUgbG9jYWwgdHJhbnNmb3JtYXRpb24gbWF0cml4IHdpdGhvdXQgYSBzY2FsZS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5fY3ggPSAxO1xuXG4gICAgLyoqXG4gICAgICogVGhlIFktY29vcmRpbmF0ZSB2YWx1ZSBvZiB0aGUgbm9ybWFsaXplZCBsb2NhbCBYIGF4aXMsXG4gICAgICogdGhlIGZpcnN0IGNvbHVtbiBvZiB0aGUgbG9jYWwgdHJhbnNmb3JtYXRpb24gbWF0cml4IHdpdGhvdXQgYSBzY2FsZS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5fc3ggPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIFgtY29vcmRpbmF0ZSB2YWx1ZSBvZiB0aGUgbm9ybWFsaXplZCBsb2NhbCBZIGF4aXMsXG4gICAgICogdGhlIHNlY29uZCBjb2x1bW4gb2YgdGhlIGxvY2FsIHRyYW5zZm9ybWF0aW9uIG1hdHJpeCB3aXRob3V0IGEgc2NhbGUuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuX2N5ID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBZLWNvb3JkaW5hdGUgdmFsdWUgb2YgdGhlIG5vcm1hbGl6ZWQgbG9jYWwgWSBheGlzLFxuICAgICAqIHRoZSBzZWNvbmQgY29sdW1uIG9mIHRoZSBsb2NhbCB0cmFuc2Zvcm1hdGlvbiBtYXRyaXggd2l0aG91dCBhIHNjYWxlLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLl9zeSA9IDE7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbG9jYWxseSB1bmlxdWUgSUQgb2YgdGhlIGxvY2FsIHRyYW5zZm9ybS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5fbG9jYWxJRCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbG9jYWxseSB1bmlxdWUgSUQgb2YgdGhlIGxvY2FsIHRyYW5zZm9ybVxuICAgICAqIHVzZWQgdG8gY2FsY3VsYXRlIHRoZSBjdXJyZW50IGxvY2FsIHRyYW5zZm9ybWF0aW9uIG1hdHJpeC5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5fY3VycmVudExvY2FsSUQgPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGxvY2FsbHkgdW5pcXVlIElEIG9mIHRoZSB3b3JsZCB0cmFuc2Zvcm0uXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuX3dvcmxkSUQgPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGxvY2FsbHkgdW5pcXVlIElEIG9mIHRoZSBwYXJlbnQncyB3b3JsZCB0cmFuc2Zvcm1cbiAgICAgKiB1c2VkIHRvIGNhbGN1bGF0ZSB0aGUgY3VycmVudCB3b3JsZCB0cmFuc2Zvcm1hdGlvbiBtYXRyaXguXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuX3BhcmVudElEID0gMDtcbn07XG5cbnZhciBwcm90b3R5cGVBY2Nlc3NvcnMkMSA9IHsgcm90YXRpb246IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuLyoqXG4gKiBDYWxsZWQgd2hlbiBhIHZhbHVlIGNoYW5nZXMuXG4gKlxuICogQHByb3RlY3RlZFxuICovXG5UcmFuc2Zvcm0ucHJvdG90eXBlLm9uQ2hhbmdlID0gZnVuY3Rpb24gb25DaGFuZ2UgKClcbntcbiAgICB0aGlzLl9sb2NhbElEKys7XG59O1xuXG4vKipcbiAqIENhbGxlZCB3aGVuIHRoZSBza2V3IG9yIHRoZSByb3RhdGlvbiBjaGFuZ2VzLlxuICpcbiAqIEBwcm90ZWN0ZWRcbiAqL1xuVHJhbnNmb3JtLnByb3RvdHlwZS51cGRhdGVTa2V3ID0gZnVuY3Rpb24gdXBkYXRlU2tldyAoKVxue1xuICAgIHRoaXMuX2N4ID0gTWF0aC5jb3ModGhpcy5fcm90YXRpb24gKyB0aGlzLnNrZXcuX3kpO1xuICAgIHRoaXMuX3N4ID0gTWF0aC5zaW4odGhpcy5fcm90YXRpb24gKyB0aGlzLnNrZXcuX3kpO1xuICAgIHRoaXMuX2N5ID0gLU1hdGguc2luKHRoaXMuX3JvdGF0aW9uIC0gdGhpcy5za2V3Ll94KTsgLy8gY29zLCBhZGRlZCBQSS8yXG4gICAgdGhpcy5fc3kgPSBNYXRoLmNvcyh0aGlzLl9yb3RhdGlvbiAtIHRoaXMuc2tldy5feCk7IC8vIHNpbiwgYWRkZWQgUEkvMlxuXG4gICAgdGhpcy5fbG9jYWxJRCsrO1xufTtcblxuLyoqXG4gKiBVcGRhdGVzIHRoZSBsb2NhbCB0cmFuc2Zvcm1hdGlvbiBtYXRyaXguXG4gKi9cblRyYW5zZm9ybS5wcm90b3R5cGUudXBkYXRlTG9jYWxUcmFuc2Zvcm0gPSBmdW5jdGlvbiB1cGRhdGVMb2NhbFRyYW5zZm9ybSAoKVxue1xuICAgIHZhciBsdCA9IHRoaXMubG9jYWxUcmFuc2Zvcm07XG5cbiAgICBpZiAodGhpcy5fbG9jYWxJRCAhPT0gdGhpcy5fY3VycmVudExvY2FsSUQpXG4gICAge1xuICAgICAgICAvLyBnZXQgdGhlIG1hdHJpeCB2YWx1ZXMgb2YgdGhlIGRpc3BsYXlvYmplY3QgYmFzZWQgb24gaXRzIHRyYW5zZm9ybSBwcm9wZXJ0aWVzLi5cbiAgICAgICAgbHQuYSA9IHRoaXMuX2N4ICogdGhpcy5zY2FsZS5feDtcbiAgICAgICAgbHQuYiA9IHRoaXMuX3N4ICogdGhpcy5zY2FsZS5feDtcbiAgICAgICAgbHQuYyA9IHRoaXMuX2N5ICogdGhpcy5zY2FsZS5feTtcbiAgICAgICAgbHQuZCA9IHRoaXMuX3N5ICogdGhpcy5zY2FsZS5feTtcblxuICAgICAgICBsdC50eCA9IHRoaXMucG9zaXRpb24uX3ggLSAoKHRoaXMucGl2b3QuX3ggKiBsdC5hKSArICh0aGlzLnBpdm90Ll95ICogbHQuYykpO1xuICAgICAgICBsdC50eSA9IHRoaXMucG9zaXRpb24uX3kgLSAoKHRoaXMucGl2b3QuX3ggKiBsdC5iKSArICh0aGlzLnBpdm90Ll95ICogbHQuZCkpO1xuICAgICAgICB0aGlzLl9jdXJyZW50TG9jYWxJRCA9IHRoaXMuX2xvY2FsSUQ7XG5cbiAgICAgICAgLy8gZm9yY2UgYW4gdXBkYXRlLi5cbiAgICAgICAgdGhpcy5fcGFyZW50SUQgPSAtMTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFVwZGF0ZXMgdGhlIGxvY2FsIGFuZCB0aGUgd29ybGQgdHJhbnNmb3JtYXRpb24gbWF0cmljZXMuXG4gKlxuICogQHBhcmFtIHtQSVhJLlRyYW5zZm9ybX0gcGFyZW50VHJhbnNmb3JtIC0gVGhlIHBhcmVudCB0cmFuc2Zvcm1cbiAqL1xuVHJhbnNmb3JtLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiB1cGRhdGVUcmFuc2Zvcm0gKHBhcmVudFRyYW5zZm9ybSlcbntcbiAgICB2YXIgbHQgPSB0aGlzLmxvY2FsVHJhbnNmb3JtO1xuXG4gICAgaWYgKHRoaXMuX2xvY2FsSUQgIT09IHRoaXMuX2N1cnJlbnRMb2NhbElEKVxuICAgIHtcbiAgICAgICAgLy8gZ2V0IHRoZSBtYXRyaXggdmFsdWVzIG9mIHRoZSBkaXNwbGF5b2JqZWN0IGJhc2VkIG9uIGl0cyB0cmFuc2Zvcm0gcHJvcGVydGllcy4uXG4gICAgICAgIGx0LmEgPSB0aGlzLl9jeCAqIHRoaXMuc2NhbGUuX3g7XG4gICAgICAgIGx0LmIgPSB0aGlzLl9zeCAqIHRoaXMuc2NhbGUuX3g7XG4gICAgICAgIGx0LmMgPSB0aGlzLl9jeSAqIHRoaXMuc2NhbGUuX3k7XG4gICAgICAgIGx0LmQgPSB0aGlzLl9zeSAqIHRoaXMuc2NhbGUuX3k7XG5cbiAgICAgICAgbHQudHggPSB0aGlzLnBvc2l0aW9uLl94IC0gKCh0aGlzLnBpdm90Ll94ICogbHQuYSkgKyAodGhpcy5waXZvdC5feSAqIGx0LmMpKTtcbiAgICAgICAgbHQudHkgPSB0aGlzLnBvc2l0aW9uLl95IC0gKCh0aGlzLnBpdm90Ll94ICogbHQuYikgKyAodGhpcy5waXZvdC5feSAqIGx0LmQpKTtcbiAgICAgICAgdGhpcy5fY3VycmVudExvY2FsSUQgPSB0aGlzLl9sb2NhbElEO1xuXG4gICAgICAgIC8vIGZvcmNlIGFuIHVwZGF0ZS4uXG4gICAgICAgIHRoaXMuX3BhcmVudElEID0gLTE7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3BhcmVudElEICE9PSBwYXJlbnRUcmFuc2Zvcm0uX3dvcmxkSUQpXG4gICAge1xuICAgICAgICAvLyBjb25jYXQgdGhlIHBhcmVudCBtYXRyaXggd2l0aCB0aGUgb2JqZWN0cyB0cmFuc2Zvcm0uXG4gICAgICAgIHZhciBwdCA9IHBhcmVudFRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIHd0ID0gdGhpcy53b3JsZFRyYW5zZm9ybTtcblxuICAgICAgICB3dC5hID0gKGx0LmEgKiBwdC5hKSArIChsdC5iICogcHQuYyk7XG4gICAgICAgIHd0LmIgPSAobHQuYSAqIHB0LmIpICsgKGx0LmIgKiBwdC5kKTtcbiAgICAgICAgd3QuYyA9IChsdC5jICogcHQuYSkgKyAobHQuZCAqIHB0LmMpO1xuICAgICAgICB3dC5kID0gKGx0LmMgKiBwdC5iKSArIChsdC5kICogcHQuZCk7XG4gICAgICAgIHd0LnR4ID0gKGx0LnR4ICogcHQuYSkgKyAobHQudHkgKiBwdC5jKSArIHB0LnR4O1xuICAgICAgICB3dC50eSA9IChsdC50eCAqIHB0LmIpICsgKGx0LnR5ICogcHQuZCkgKyBwdC50eTtcblxuICAgICAgICB0aGlzLl9wYXJlbnRJRCA9IHBhcmVudFRyYW5zZm9ybS5fd29ybGRJRDtcblxuICAgICAgICAvLyB1cGRhdGUgdGhlIGlkIG9mIHRoZSB0cmFuc2Zvcm0uLlxuICAgICAgICB0aGlzLl93b3JsZElEKys7XG4gICAgfVxufTtcblxuLyoqXG4gKiBEZWNvbXBvc2VzIGEgbWF0cml4IGFuZCBzZXRzIHRoZSB0cmFuc2Zvcm1zIHByb3BlcnRpZXMgYmFzZWQgb24gaXQuXG4gKlxuICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIG1hdHJpeCB0byBkZWNvbXBvc2VcbiAqL1xuVHJhbnNmb3JtLnByb3RvdHlwZS5zZXRGcm9tTWF0cml4ID0gZnVuY3Rpb24gc2V0RnJvbU1hdHJpeCAobWF0cml4KVxue1xuICAgIG1hdHJpeC5kZWNvbXBvc2UodGhpcyk7XG4gICAgdGhpcy5fbG9jYWxJRCsrO1xufTtcblxuLyoqXG4gKiBUaGUgcm90YXRpb24gb2YgdGhlIG9iamVjdCBpbiByYWRpYW5zLlxuICpcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzJDEucm90YXRpb24uZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fcm90YXRpb247XG59O1xuXG5wcm90b3R5cGVBY2Nlc3NvcnMkMS5yb3RhdGlvbi5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIGlmICh0aGlzLl9yb3RhdGlvbiAhPT0gdmFsdWUpXG4gICAge1xuICAgICAgICB0aGlzLl9yb3RhdGlvbiA9IHZhbHVlO1xuICAgICAgICB0aGlzLnVwZGF0ZVNrZXcoKTtcbiAgICB9XG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyggVHJhbnNmb3JtLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzJDEgKTtcblxuLyoqXG4gKiBBIGRlZmF1bHQgKGlkZW50aXR5KSB0cmFuc2Zvcm1cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBtZW1iZXIge1BJWEkuVHJhbnNmb3JtfVxuICovXG5UcmFuc2Zvcm0uSURFTlRJVFkgPSBuZXcgVHJhbnNmb3JtKCk7XG5cbi8qKlxuICogU2l6ZSBvYmplY3QsIGNvbnRhaW5zIHdpZHRoIGFuZCBoZWlnaHRcbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGVkZWYge29iamVjdH0gSVNpemVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB3aWR0aCAtIFdpZHRoIGNvbXBvbmVudFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGhlaWdodCAtIEhlaWdodCBjb21wb25lbnRcbiAqL1xuXG4vKipcbiAqIFJlY3RhbmdsZSBvYmplY3QgaXMgYW4gYXJlYSBkZWZpbmVkIGJ5IGl0cyBwb3NpdGlvbiwgYXMgaW5kaWNhdGVkIGJ5IGl0cyB0b3AtbGVmdCBjb3JuZXJcbiAqIHBvaW50ICh4LCB5KSBhbmQgYnkgaXRzIHdpZHRoIGFuZCBpdHMgaGVpZ2h0LlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFJlY3RhbmdsZSA9IGZ1bmN0aW9uIFJlY3RhbmdsZSh4LCB5LCB3aWR0aCwgaGVpZ2h0KVxue1xuICAgIGlmICggeCA9PT0gdm9pZCAwICkgeCA9IDA7XG4gICAgaWYgKCB5ID09PSB2b2lkIDAgKSB5ID0gMDtcbiAgICBpZiAoIHdpZHRoID09PSB2b2lkIDAgKSB3aWR0aCA9IDA7XG4gICAgaWYgKCBoZWlnaHQgPT09IHZvaWQgMCApIGhlaWdodCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMueCA9IE51bWJlcih4KTtcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgdGhpcy55ID0gTnVtYmVyKHkpO1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICB0aGlzLndpZHRoID0gTnVtYmVyKHdpZHRoKTtcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgdGhpcy5oZWlnaHQgPSBOdW1iZXIoaGVpZ2h0KTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRoZSBvYmplY3QsIG1haW5seSB1c2VkIHRvIGF2b2lkIGBpbnN0YW5jZW9mYCBjaGVja3NcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAcmVhZE9ubHlcbiAgICAgKiBAZGVmYXVsdCBQSVhJLlNIQVBFUy5SRUNUXG4gICAgICogQHNlZSBQSVhJLlNIQVBFU1xuICAgICAqL1xuICAgIHRoaXMudHlwZSA9IFNIQVBFUy5SRUNUO1xufTtcblxudmFyIHByb3RvdHlwZUFjY2Vzc29ycyQyID0geyBsZWZ0OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHJpZ2h0OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHRvcDogeyBjb25maWd1cmFibGU6IHRydWUgfSxib3R0b206IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcbnZhciBzdGF0aWNBY2Nlc3NvcnMkMSA9IHsgRU1QVFk6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuLyoqXG4gKiByZXR1cm5zIHRoZSBsZWZ0IGVkZ2Ugb2YgdGhlIHJlY3RhbmdsZVxuICpcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzJDIubGVmdC5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLng7XG59O1xuXG4vKipcbiAqIHJldHVybnMgdGhlIHJpZ2h0IGVkZ2Ugb2YgdGhlIHJlY3RhbmdsZVxuICpcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzJDIucmlnaHQuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy54ICsgdGhpcy53aWR0aDtcbn07XG5cbi8qKlxuICogcmV0dXJucyB0aGUgdG9wIGVkZ2Ugb2YgdGhlIHJlY3RhbmdsZVxuICpcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzJDIudG9wLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMueTtcbn07XG5cbi8qKlxuICogcmV0dXJucyB0aGUgYm90dG9tIGVkZ2Ugb2YgdGhlIHJlY3RhbmdsZVxuICpcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzJDIuYm90dG9tLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMueSArIHRoaXMuaGVpZ2h0O1xufTtcblxuLyoqXG4gKiBBIGNvbnN0YW50IGVtcHR5IHJlY3RhbmdsZS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICovXG5zdGF0aWNBY2Nlc3NvcnMkMS5FTVBUWS5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiBuZXcgUmVjdGFuZ2xlKDAsIDAsIDAsIDApO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhpcyBSZWN0YW5nbGVcbiAqXG4gKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gYSBjb3B5IG9mIHRoZSByZWN0YW5nbGVcbiAqL1xuUmVjdGFuZ2xlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIGNsb25lICgpXG57XG4gICAgcmV0dXJuIG5ldyBSZWN0YW5nbGUodGhpcy54LCB0aGlzLnksIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbn07XG5cbi8qKlxuICogQ29waWVzIGFub3RoZXIgcmVjdGFuZ2xlIHRvIHRoaXMgb25lLlxuICpcbiAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3RhbmdsZSAtIFRoZSByZWN0YW5nbGUgdG8gY29weSBmcm9tLlxuICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFJldHVybnMgaXRzZWxmLlxuICovXG5SZWN0YW5nbGUucHJvdG90eXBlLmNvcHlGcm9tID0gZnVuY3Rpb24gY29weUZyb20gKHJlY3RhbmdsZSlcbntcbiAgICB0aGlzLnggPSByZWN0YW5nbGUueDtcbiAgICB0aGlzLnkgPSByZWN0YW5nbGUueTtcbiAgICB0aGlzLndpZHRoID0gcmVjdGFuZ2xlLndpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gcmVjdGFuZ2xlLmhlaWdodDtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBDb3BpZXMgdGhpcyByZWN0YW5nbGUgdG8gYW5vdGhlciBvbmUuXG4gKlxuICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gcmVjdGFuZ2xlIC0gVGhlIHJlY3RhbmdsZSB0byBjb3B5IHRvLlxuICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFJldHVybnMgZ2l2ZW4gcGFyYW1ldGVyLlxuICovXG5SZWN0YW5nbGUucHJvdG90eXBlLmNvcHlUbyA9IGZ1bmN0aW9uIGNvcHlUbyAocmVjdGFuZ2xlKVxue1xuICAgIHJlY3RhbmdsZS54ID0gdGhpcy54O1xuICAgIHJlY3RhbmdsZS55ID0gdGhpcy55O1xuICAgIHJlY3RhbmdsZS53aWR0aCA9IHRoaXMud2lkdGg7XG4gICAgcmVjdGFuZ2xlLmhlaWdodCA9IHRoaXMuaGVpZ2h0O1xuXG4gICAgcmV0dXJuIHJlY3RhbmdsZTtcbn07XG5cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgdGhlIHggYW5kIHkgY29vcmRpbmF0ZXMgZ2l2ZW4gYXJlIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBSZWN0YW5nbGVcbiAqXG4gKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkaW5hdGVzIGFyZSB3aXRoaW4gdGhpcyBSZWN0YW5nbGVcbiAqL1xuUmVjdGFuZ2xlLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uIGNvbnRhaW5zICh4LCB5KVxue1xuICAgIGlmICh0aGlzLndpZHRoIDw9IDAgfHwgdGhpcy5oZWlnaHQgPD0gMClcbiAgICB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoeCA+PSB0aGlzLnggJiYgeCA8IHRoaXMueCArIHRoaXMud2lkdGgpXG4gICAge1xuICAgICAgICBpZiAoeSA+PSB0aGlzLnkgJiYgeSA8IHRoaXMueSArIHRoaXMuaGVpZ2h0KVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn07XG5cbi8qKlxuICogUGFkcyB0aGUgcmVjdGFuZ2xlIG1ha2luZyBpdCBncm93IGluIGFsbCBkaXJlY3Rpb25zLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBwYWRkaW5nWCAtIFRoZSBob3Jpem9udGFsIHBhZGRpbmcgYW1vdW50LlxuICogQHBhcmFtIHtudW1iZXJ9IHBhZGRpbmdZIC0gVGhlIHZlcnRpY2FsIHBhZGRpbmcgYW1vdW50LlxuICovXG5SZWN0YW5nbGUucHJvdG90eXBlLnBhZCA9IGZ1bmN0aW9uIHBhZCAocGFkZGluZ1gsIHBhZGRpbmdZKVxue1xuICAgIHBhZGRpbmdYID0gcGFkZGluZ1ggfHwgMDtcbiAgICBwYWRkaW5nWSA9IHBhZGRpbmdZIHx8ICgocGFkZGluZ1kgIT09IDApID8gcGFkZGluZ1ggOiAwKTtcblxuICAgIHRoaXMueCAtPSBwYWRkaW5nWDtcbiAgICB0aGlzLnkgLT0gcGFkZGluZ1k7XG5cbiAgICB0aGlzLndpZHRoICs9IHBhZGRpbmdYICogMjtcbiAgICB0aGlzLmhlaWdodCArPSBwYWRkaW5nWSAqIDI7XG59O1xuXG4vKipcbiAqIEZpdHMgdGhpcyByZWN0YW5nbGUgYXJvdW5kIHRoZSBwYXNzZWQgb25lLlxuICpcbiAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3RhbmdsZSAtIFRoZSByZWN0YW5nbGUgdG8gZml0LlxuICovXG5SZWN0YW5nbGUucHJvdG90eXBlLmZpdCA9IGZ1bmN0aW9uIGZpdCAocmVjdGFuZ2xlKVxue1xuICAgIHZhciB4MSA9IE1hdGgubWF4KHRoaXMueCwgcmVjdGFuZ2xlLngpO1xuICAgIHZhciB4MiA9IE1hdGgubWluKHRoaXMueCArIHRoaXMud2lkdGgsIHJlY3RhbmdsZS54ICsgcmVjdGFuZ2xlLndpZHRoKTtcbiAgICB2YXIgeTEgPSBNYXRoLm1heCh0aGlzLnksIHJlY3RhbmdsZS55KTtcbiAgICB2YXIgeTIgPSBNYXRoLm1pbih0aGlzLnkgKyB0aGlzLmhlaWdodCwgcmVjdGFuZ2xlLnkgKyByZWN0YW5nbGUuaGVpZ2h0KTtcblxuICAgIHRoaXMueCA9IHgxO1xuICAgIHRoaXMud2lkdGggPSBNYXRoLm1heCh4MiAtIHgxLCAwKTtcbiAgICB0aGlzLnkgPSB5MTtcbiAgICB0aGlzLmhlaWdodCA9IE1hdGgubWF4KHkyIC0geTEsIDApO1xufTtcblxuLyoqXG4gKiBFbmxhcmdlcyByZWN0YW5nbGUgdGhhdCB3YXkgaXRzIGNvcm5lcnMgbGllIG9uIGdyaWRcbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gcmVzb2x1dGlvblxuICogQHBhcmFtIHtudW1iZXJ9IFtlcHM9MC4wMDFdIHByZWNpc2lvblxuICovXG5SZWN0YW5nbGUucHJvdG90eXBlLmNlaWwgPSBmdW5jdGlvbiBjZWlsIChyZXNvbHV0aW9uLCBlcHMpXG57XG4gICAgICAgIGlmICggcmVzb2x1dGlvbiA9PT0gdm9pZCAwICkgcmVzb2x1dGlvbiA9IDE7XG4gICAgICAgIGlmICggZXBzID09PSB2b2lkIDAgKSBlcHMgPSAwLjAwMTtcblxuICAgIHZhciB4MiA9IE1hdGguY2VpbCgodGhpcy54ICsgdGhpcy53aWR0aCAtIGVwcykgKiByZXNvbHV0aW9uKSAvIHJlc29sdXRpb247XG4gICAgdmFyIHkyID0gTWF0aC5jZWlsKCh0aGlzLnkgKyB0aGlzLmhlaWdodCAtIGVwcykgKiByZXNvbHV0aW9uKSAvIHJlc29sdXRpb247XG5cbiAgICB0aGlzLnggPSBNYXRoLmZsb29yKCh0aGlzLnggKyBlcHMpICogcmVzb2x1dGlvbikgLyByZXNvbHV0aW9uO1xuICAgIHRoaXMueSA9IE1hdGguZmxvb3IoKHRoaXMueSArIGVwcykgKiByZXNvbHV0aW9uKSAvIHJlc29sdXRpb247XG5cbiAgICB0aGlzLndpZHRoID0geDIgLSB0aGlzLng7XG4gICAgdGhpcy5oZWlnaHQgPSB5MiAtIHRoaXMueTtcbn07XG5cbi8qKlxuICogRW5sYXJnZXMgdGhpcyByZWN0YW5nbGUgdG8gaW5jbHVkZSB0aGUgcGFzc2VkIHJlY3RhbmdsZS5cbiAqXG4gKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0YW5nbGUgLSBUaGUgcmVjdGFuZ2xlIHRvIGluY2x1ZGUuXG4gKi9cblJlY3RhbmdsZS5wcm90b3R5cGUuZW5sYXJnZSA9IGZ1bmN0aW9uIGVubGFyZ2UgKHJlY3RhbmdsZSlcbntcbiAgICB2YXIgeDEgPSBNYXRoLm1pbih0aGlzLngsIHJlY3RhbmdsZS54KTtcbiAgICB2YXIgeDIgPSBNYXRoLm1heCh0aGlzLnggKyB0aGlzLndpZHRoLCByZWN0YW5nbGUueCArIHJlY3RhbmdsZS53aWR0aCk7XG4gICAgdmFyIHkxID0gTWF0aC5taW4odGhpcy55LCByZWN0YW5nbGUueSk7XG4gICAgdmFyIHkyID0gTWF0aC5tYXgodGhpcy55ICsgdGhpcy5oZWlnaHQsIHJlY3RhbmdsZS55ICsgcmVjdGFuZ2xlLmhlaWdodCk7XG5cbiAgICB0aGlzLnggPSB4MTtcbiAgICB0aGlzLndpZHRoID0geDIgLSB4MTtcbiAgICB0aGlzLnkgPSB5MTtcbiAgICB0aGlzLmhlaWdodCA9IHkyIC0geTE7XG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyggUmVjdGFuZ2xlLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzJDIgKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBSZWN0YW5nbGUsIHN0YXRpY0FjY2Vzc29ycyQxICk7XG5cbi8qKlxuICogVGhlIENpcmNsZSBvYmplY3QgaXMgdXNlZCB0byBoZWxwIGRyYXcgZ3JhcGhpY3MgYW5kIGNhbiBhbHNvIGJlIHVzZWQgdG8gc3BlY2lmeSBhIGhpdCBhcmVhIGZvciBkaXNwbGF5T2JqZWN0cy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBDaXJjbGUgPSBmdW5jdGlvbiBDaXJjbGUoeCwgeSwgcmFkaXVzKVxue1xuICAgIGlmICggeCA9PT0gdm9pZCAwICkgeCA9IDA7XG4gICAgaWYgKCB5ID09PSB2b2lkIDAgKSB5ID0gMDtcbiAgICBpZiAoIHJhZGl1cyA9PT0gdm9pZCAwICkgcmFkaXVzID0gMDtcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgdGhpcy54ID0geDtcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgdGhpcy55ID0geTtcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgdGhpcy5yYWRpdXMgPSByYWRpdXM7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0LCBtYWlubHkgdXNlZCB0byBhdm9pZCBgaW5zdGFuY2VvZmAgY2hlY2tzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQHJlYWRPbmx5XG4gICAgICogQGRlZmF1bHQgUElYSS5TSEFQRVMuQ0lSQ1xuICAgICAqIEBzZWUgUElYSS5TSEFQRVNcbiAgICAgKi9cbiAgICB0aGlzLnR5cGUgPSBTSEFQRVMuQ0lSQztcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgQ2lyY2xlIGluc3RhbmNlXG4gKlxuICogQHJldHVybiB7UElYSS5DaXJjbGV9IGEgY29weSBvZiB0aGUgQ2lyY2xlXG4gKi9cbkNpcmNsZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSAoKVxue1xuICAgIHJldHVybiBuZXcgQ2lyY2xlKHRoaXMueCwgdGhpcy55LCB0aGlzLnJhZGl1cyk7XG59O1xuXG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIHRoZSB4IGFuZCB5IGNvb3JkaW5hdGVzIGdpdmVuIGFyZSBjb250YWluZWQgd2l0aGluIHRoaXMgY2lyY2xlXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHgveSBjb29yZGluYXRlcyBhcmUgd2l0aGluIHRoaXMgQ2lyY2xlXG4gKi9cbkNpcmNsZS5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbiBjb250YWlucyAoeCwgeSlcbntcbiAgICBpZiAodGhpcy5yYWRpdXMgPD0gMClcbiAgICB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgcjIgPSB0aGlzLnJhZGl1cyAqIHRoaXMucmFkaXVzO1xuICAgIHZhciBkeCA9ICh0aGlzLnggLSB4KTtcbiAgICB2YXIgZHkgPSAodGhpcy55IC0geSk7XG5cbiAgICBkeCAqPSBkeDtcbiAgICBkeSAqPSBkeTtcblxuICAgIHJldHVybiAoZHggKyBkeSA8PSByMik7XG59O1xuXG4vKipcbiogUmV0dXJucyB0aGUgZnJhbWluZyByZWN0YW5nbGUgb2YgdGhlIGNpcmNsZSBhcyBhIFJlY3RhbmdsZSBvYmplY3RcbipcbiogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IHRoZSBmcmFtaW5nIHJlY3RhbmdsZVxuKi9cbkNpcmNsZS5wcm90b3R5cGUuZ2V0Qm91bmRzID0gZnVuY3Rpb24gZ2V0Qm91bmRzICgpXG57XG4gICAgcmV0dXJuIG5ldyBSZWN0YW5nbGUodGhpcy54IC0gdGhpcy5yYWRpdXMsIHRoaXMueSAtIHRoaXMucmFkaXVzLCB0aGlzLnJhZGl1cyAqIDIsIHRoaXMucmFkaXVzICogMik7XG59O1xuXG4vKipcbiAqIFRoZSBFbGxpcHNlIG9iamVjdCBpcyB1c2VkIHRvIGhlbHAgZHJhdyBncmFwaGljcyBhbmQgY2FuIGFsc28gYmUgdXNlZCB0byBzcGVjaWZ5IGEgaGl0IGFyZWEgZm9yIGRpc3BsYXlPYmplY3RzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEVsbGlwc2UgPSBmdW5jdGlvbiBFbGxpcHNlKHgsIHksIGhhbGZXaWR0aCwgaGFsZkhlaWdodClcbntcbiAgICBpZiAoIHggPT09IHZvaWQgMCApIHggPSAwO1xuICAgIGlmICggeSA9PT0gdm9pZCAwICkgeSA9IDA7XG4gICAgaWYgKCBoYWxmV2lkdGggPT09IHZvaWQgMCApIGhhbGZXaWR0aCA9IDA7XG4gICAgaWYgKCBoYWxmSGVpZ2h0ID09PSB2b2lkIDAgKSBoYWxmSGVpZ2h0ID0gMDtcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgdGhpcy54ID0geDtcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgdGhpcy55ID0geTtcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgdGhpcy53aWR0aCA9IGhhbGZXaWR0aDtcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgdGhpcy5oZWlnaHQgPSBoYWxmSGVpZ2h0O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgdGhlIG9iamVjdCwgbWFpbmx5IHVzZWQgdG8gYXZvaWQgYGluc3RhbmNlb2ZgIGNoZWNrc1xuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEByZWFkT25seVxuICAgICAqIEBkZWZhdWx0IFBJWEkuU0hBUEVTLkVMSVBcbiAgICAgKiBAc2VlIFBJWEkuU0hBUEVTXG4gICAgICovXG4gICAgdGhpcy50eXBlID0gU0hBUEVTLkVMSVA7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIEVsbGlwc2UgaW5zdGFuY2VcbiAqXG4gKiBAcmV0dXJuIHtQSVhJLkVsbGlwc2V9IGEgY29weSBvZiB0aGUgZWxsaXBzZVxuICovXG5FbGxpcHNlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIGNsb25lICgpXG57XG4gICAgcmV0dXJuIG5ldyBFbGxpcHNlKHRoaXMueCwgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG59O1xuXG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIHRoZSB4IGFuZCB5IGNvb3JkaW5hdGVzIGdpdmVuIGFyZSBjb250YWluZWQgd2l0aGluIHRoaXMgZWxsaXBzZVxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSB4L3kgY29vcmRzIGFyZSB3aXRoaW4gdGhpcyBlbGxpcHNlXG4gKi9cbkVsbGlwc2UucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gY29udGFpbnMgKHgsIHkpXG57XG4gICAgaWYgKHRoaXMud2lkdGggPD0gMCB8fCB0aGlzLmhlaWdodCA8PSAwKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIG5vcm1hbGl6ZSB0aGUgY29vcmRzIHRvIGFuIGVsbGlwc2Ugd2l0aCBjZW50ZXIgMCwwXG4gICAgdmFyIG5vcm14ID0gKCh4IC0gdGhpcy54KSAvIHRoaXMud2lkdGgpO1xuICAgIHZhciBub3JteSA9ICgoeSAtIHRoaXMueSkgLyB0aGlzLmhlaWdodCk7XG5cbiAgICBub3JteCAqPSBub3JteDtcbiAgICBub3JteSAqPSBub3JteTtcblxuICAgIHJldHVybiAobm9ybXggKyBub3JteSA8PSAxKTtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZnJhbWluZyByZWN0YW5nbGUgb2YgdGhlIGVsbGlwc2UgYXMgYSBSZWN0YW5nbGUgb2JqZWN0XG4gKlxuICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IHRoZSBmcmFtaW5nIHJlY3RhbmdsZVxuICovXG5FbGxpcHNlLnByb3RvdHlwZS5nZXRCb3VuZHMgPSBmdW5jdGlvbiBnZXRCb3VuZHMgKClcbntcbiAgICByZXR1cm4gbmV3IFJlY3RhbmdsZSh0aGlzLnggLSB0aGlzLndpZHRoLCB0aGlzLnkgLSB0aGlzLmhlaWdodCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xufTtcblxuLyoqXG4gKiBBIGNsYXNzIHRvIGRlZmluZSBhIHNoYXBlIHZpYSB1c2VyIGRlZmluZWQgY28tb3JpbmF0ZXMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUG9seWdvbiA9IGZ1bmN0aW9uIFBvbHlnb24oKVxue1xuICAgIHZhciBwb2ludHMgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICB3aGlsZSAoIGxlbi0tICkgcG9pbnRzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheShwb2ludHNbMF0pKVxuICAgIHtcbiAgICAgICAgcG9pbnRzID0gcG9pbnRzWzBdO1xuICAgIH1cblxuICAgIC8vIGlmIHRoaXMgaXMgYW4gYXJyYXkgb2YgcG9pbnRzLCBjb252ZXJ0IGl0IHRvIGEgZmxhdCBhcnJheSBvZiBudW1iZXJzXG4gICAgaWYgKHBvaW50c1swXSBpbnN0YW5jZW9mIFBvaW50KVxuICAgIHtcbiAgICAgICAgdmFyIHAgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBwb2ludHMubGVuZ3RoOyBpIDwgaWw7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgcC5wdXNoKHBvaW50c1tpXS54LCBwb2ludHNbaV0ueSk7XG4gICAgICAgIH1cblxuICAgICAgICBwb2ludHMgPSBwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFuIGFycmF5IG9mIHRoZSBwb2ludHMgb2YgdGhpcyBwb2x5Z29uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgKi9cbiAgICB0aGlzLnBvaW50cyA9IHBvaW50cztcblxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRoZSBvYmplY3QsIG1haW5seSB1c2VkIHRvIGF2b2lkIGBpbnN0YW5jZW9mYCBjaGVja3NcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAcmVhZE9ubHlcbiAgICAgKiBAZGVmYXVsdCBQSVhJLlNIQVBFUy5QT0xZXG4gICAgICogQHNlZSBQSVhJLlNIQVBFU1xuICAgICAqL1xuICAgIHRoaXMudHlwZSA9IFNIQVBFUy5QT0xZO1xuXG4gICAgLyoqXG4gICAgICogYGZhbHNlYCBhZnRlciBtb3ZlVG8sIGB0cnVlYCBhZnRlciBgY2xvc2VQYXRoYC4gSW4gYWxsIG90aGVyIGNhc2VzIGl0IGlzIGB0cnVlYC5cbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgKi9cbiAgICB0aGlzLmNsb3NlU3Ryb2tlID0gdHJ1ZTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgcG9seWdvblxuICpcbiAqIEByZXR1cm4ge1BJWEkuUG9seWdvbn0gYSBjb3B5IG9mIHRoZSBwb2x5Z29uXG4gKi9cblBvbHlnb24ucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUgKClcbntcbiAgICB2YXIgcG9seWdvbiA9IG5ldyBQb2x5Z29uKHRoaXMucG9pbnRzLnNsaWNlKCkpO1xuXG4gICAgcG9seWdvbi5jbG9zZVN0cm9rZSA9IHRoaXMuY2xvc2VTdHJva2U7XG5cbiAgICByZXR1cm4gcG9seWdvbjtcbn07XG5cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgdGhlIHggYW5kIHkgY29vcmRpbmF0ZXMgcGFzc2VkIHRvIHRoaXMgZnVuY3Rpb24gYXJlIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBwb2x5Z29uXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHgveSBjb29yZGluYXRlcyBhcmUgd2l0aGluIHRoaXMgcG9seWdvblxuICovXG5Qb2x5Z29uLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uIGNvbnRhaW5zICh4LCB5KVxue1xuICAgIHZhciBpbnNpZGUgPSBmYWxzZTtcblxuICAgIC8vIHVzZSBzb21lIHJheWNhc3RpbmcgdG8gdGVzdCBoaXRzXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N1YnN0YWNrL3BvaW50LWluLXBvbHlnb24vYmxvYi9tYXN0ZXIvaW5kZXguanNcbiAgICB2YXIgbGVuZ3RoID0gdGhpcy5wb2ludHMubGVuZ3RoIC8gMjtcblxuICAgIGZvciAodmFyIGkgPSAwLCBqID0gbGVuZ3RoIC0gMTsgaSA8IGxlbmd0aDsgaiA9IGkrKylcbiAgICB7XG4gICAgICAgIHZhciB4aSA9IHRoaXMucG9pbnRzW2kgKiAyXTtcbiAgICAgICAgdmFyIHlpID0gdGhpcy5wb2ludHNbKGkgKiAyKSArIDFdO1xuICAgICAgICB2YXIgeGogPSB0aGlzLnBvaW50c1tqICogMl07XG4gICAgICAgIHZhciB5aiA9IHRoaXMucG9pbnRzWyhqICogMikgKyAxXTtcbiAgICAgICAgdmFyIGludGVyc2VjdCA9ICgoeWkgPiB5KSAhPT0gKHlqID4geSkpICYmICh4IDwgKCh4aiAtIHhpKSAqICgoeSAtIHlpKSAvICh5aiAtIHlpKSkpICsgeGkpO1xuXG4gICAgICAgIGlmIChpbnRlcnNlY3QpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGluc2lkZSA9ICFpbnNpZGU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gaW5zaWRlO1xufTtcblxuLyoqXG4gKiBUaGUgUm91bmRlZCBSZWN0YW5nbGUgb2JqZWN0IGlzIGFuIGFyZWEgdGhhdCBoYXMgbmljZSByb3VuZGVkIGNvcm5lcnMsIGFzIGluZGljYXRlZCBieSBpdHNcbiAqIHRvcC1sZWZ0IGNvcm5lciBwb2ludCAoeCwgeSkgYW5kIGJ5IGl0cyB3aWR0aCBhbmQgaXRzIGhlaWdodCBhbmQgaXRzIHJhZGl1cy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBSb3VuZGVkUmVjdGFuZ2xlID0gZnVuY3Rpb24gUm91bmRlZFJlY3RhbmdsZSh4LCB5LCB3aWR0aCwgaGVpZ2h0LCByYWRpdXMpXG57XG4gICAgaWYgKCB4ID09PSB2b2lkIDAgKSB4ID0gMDtcbiAgICBpZiAoIHkgPT09IHZvaWQgMCApIHkgPSAwO1xuICAgIGlmICggd2lkdGggPT09IHZvaWQgMCApIHdpZHRoID0gMDtcbiAgICBpZiAoIGhlaWdodCA9PT0gdm9pZCAwICkgaGVpZ2h0ID0gMDtcbiAgICBpZiAoIHJhZGl1cyA9PT0gdm9pZCAwICkgcmFkaXVzID0gMjA7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMueCA9IHg7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMueSA9IHk7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMjBcbiAgICAgKi9cbiAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cztcblxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRoZSBvYmplY3QsIG1haW5seSB1c2VkIHRvIGF2b2lkIGBpbnN0YW5jZW9mYCBjaGVja3NcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAZGVmYXVsdCBQSVhJLlNIQVBFUy5SUkVDXG4gICAgICogQHNlZSBQSVhJLlNIQVBFU1xuICAgICAqL1xuICAgIHRoaXMudHlwZSA9IFNIQVBFUy5SUkVDO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhpcyBSb3VuZGVkIFJlY3RhbmdsZVxuICpcbiAqIEByZXR1cm4ge1BJWEkuUm91bmRlZFJlY3RhbmdsZX0gYSBjb3B5IG9mIHRoZSByb3VuZGVkIHJlY3RhbmdsZVxuICovXG5Sb3VuZGVkUmVjdGFuZ2xlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIGNsb25lICgpXG57XG4gICAgcmV0dXJuIG5ldyBSb3VuZGVkUmVjdGFuZ2xlKHRoaXMueCwgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgdGhpcy5yYWRpdXMpO1xufTtcblxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBnaXZlbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIFJvdW5kZWQgUmVjdGFuZ2xlXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHgveSBjb29yZGluYXRlcyBhcmUgd2l0aGluIHRoaXMgUm91bmRlZCBSZWN0YW5nbGVcbiAqL1xuUm91bmRlZFJlY3RhbmdsZS5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbiBjb250YWlucyAoeCwgeSlcbntcbiAgICBpZiAodGhpcy53aWR0aCA8PSAwIHx8IHRoaXMuaGVpZ2h0IDw9IDApXG4gICAge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICh4ID49IHRoaXMueCAmJiB4IDw9IHRoaXMueCArIHRoaXMud2lkdGgpXG4gICAge1xuICAgICAgICBpZiAoeSA+PSB0aGlzLnkgJiYgeSA8PSB0aGlzLnkgKyB0aGlzLmhlaWdodClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCh5ID49IHRoaXMueSArIHRoaXMucmFkaXVzICYmIHkgPD0gdGhpcy55ICsgdGhpcy5oZWlnaHQgLSB0aGlzLnJhZGl1cylcbiAgICAgICAgICAgIHx8ICh4ID49IHRoaXMueCArIHRoaXMucmFkaXVzICYmIHggPD0gdGhpcy54ICsgdGhpcy53aWR0aCAtIHRoaXMucmFkaXVzKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBkeCA9IHggLSAodGhpcy54ICsgdGhpcy5yYWRpdXMpO1xuICAgICAgICAgICAgdmFyIGR5ID0geSAtICh0aGlzLnkgKyB0aGlzLnJhZGl1cyk7XG4gICAgICAgICAgICB2YXIgcmFkaXVzMiA9IHRoaXMucmFkaXVzICogdGhpcy5yYWRpdXM7XG5cbiAgICAgICAgICAgIGlmICgoZHggKiBkeCkgKyAoZHkgKiBkeSkgPD0gcmFkaXVzMilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGR4ID0geCAtICh0aGlzLnggKyB0aGlzLndpZHRoIC0gdGhpcy5yYWRpdXMpO1xuICAgICAgICAgICAgaWYgKChkeCAqIGR4KSArIChkeSAqIGR5KSA8PSByYWRpdXMyKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZHkgPSB5IC0gKHRoaXMueSArIHRoaXMuaGVpZ2h0IC0gdGhpcy5yYWRpdXMpO1xuICAgICAgICAgICAgaWYgKChkeCAqIGR4KSArIChkeSAqIGR5KSA8PSByYWRpdXMyKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZHggPSB4IC0gKHRoaXMueCArIHRoaXMucmFkaXVzKTtcbiAgICAgICAgICAgIGlmICgoZHggKiBkeCkgKyAoZHkgKiBkeSkgPD0gcmFkaXVzMilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn07XG5cbi8qKlxuICogTWF0aCBjbGFzc2VzIGFuZCB1dGlsaXRpZXMgbWl4ZWQgaW50byBQSVhJIG5hbWVzcGFjZS5cbiAqXG4gKiBAbGVuZHMgUElYSVxuICovXG5cbmV4cG9ydCB7IENpcmNsZSwgREVHX1RPX1JBRCwgRWxsaXBzZSwgR3JvdXBEOCwgTWF0cml4LCBPYnNlcnZhYmxlUG9pbnQsIFBJXzIsIFBvaW50LCBQb2x5Z29uLCBSQURfVE9fREVHLCBSZWN0YW5nbGUsIFJvdW5kZWRSZWN0YW5nbGUsIFNIQVBFUywgVHJhbnNmb3JtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXRoLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9kaXNwbGF5IC0gdjUuMS4zXG4gKiBDb21waWxlZCBNb24sIDA5IFNlcCAyMDE5IDA0OjUxOjUzIFVUQ1xuICpcbiAqIEBwaXhpL2Rpc3BsYXkgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IFJlY3RhbmdsZSwgUkFEX1RPX0RFRywgREVHX1RPX1JBRCwgVHJhbnNmb3JtIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBFdmVudEVtaXR0ZXIsIHJlbW92ZUl0ZW1zIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuXG4vKipcbiAqIFNldHMgdGhlIGRlZmF1bHQgdmFsdWUgZm9yIHRoZSBjb250YWluZXIgcHJvcGVydHkgJ3NvcnRhYmxlQ2hpbGRyZW4nLlxuICogSWYgc2V0IHRvIHRydWUsIHRoZSBjb250YWluZXIgd2lsbCBzb3J0IGl0cyBjaGlsZHJlbiBieSB6SW5kZXggdmFsdWVcbiAqIHdoZW4gdXBkYXRlVHJhbnNmb3JtKCkgaXMgY2FsbGVkLCBvciBtYW51YWxseSBpZiBzb3J0Q2hpbGRyZW4oKSBpcyBjYWxsZWQuXG4gKlxuICogVGhpcyBhY3R1YWxseSBjaGFuZ2VzIHRoZSBvcmRlciBvZiBlbGVtZW50cyBpbiB0aGUgYXJyYXksIHNvIHNob3VsZCBiZSB0cmVhdGVkXG4gKiBhcyBhIGJhc2ljIHNvbHV0aW9uIHRoYXQgaXMgbm90IHBlcmZvcm1hbnQgY29tcGFyZWQgdG8gb3RoZXIgc29sdXRpb25zLFxuICogc3VjaCBhcyBAbGluayBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGktZGlzcGxheVxuICpcbiAqIEFsc28gYmUgYXdhcmUgb2YgdGhhdCB0aGlzIG1heSBub3Qgd29yayBuaWNlbHkgd2l0aCB0aGUgYWRkQ2hpbGRBdCgpIGZ1bmN0aW9uLFxuICogYXMgdGhlIHpJbmRleCBzb3J0aW5nIG1heSBjYXVzZSB0aGUgY2hpbGQgdG8gYXV0b21hdGljYWxseSBzb3J0ZWQgdG8gYW5vdGhlciBwb3NpdGlvbi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIFNPUlRBQkxFX0NISUxEUkVOXG4gKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICogQHR5cGUge2Jvb2xlYW59XG4gKiBAZGVmYXVsdCBmYWxzZVxuICovXG5zZXR0aW5ncy5TT1JUQUJMRV9DSElMRFJFTiA9IGZhbHNlO1xuXG4vKipcbiAqICdCdWlsZGVyJyBwYXR0ZXJuIGZvciBib3VuZHMgcmVjdGFuZ2xlcy5cbiAqXG4gKiBUaGlzIGNvdWxkIGJlIGNhbGxlZCBhbiBBeGlzLUFsaWduZWQgQm91bmRpbmcgQm94LlxuICogSXQgaXMgbm90IGFuIGFjdHVhbCBzaGFwZS4gSXQgaXMgYSBtdXRhYmxlIHRoaW5nOyBubyAnRU1QVFknIG9yIHRob3NlIGtpbmQgb2YgcHJvYmxlbXMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQm91bmRzID0gZnVuY3Rpb24gQm91bmRzKClcbntcbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMubWluWCA9IEluZmluaXR5O1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICB0aGlzLm1pblkgPSBJbmZpbml0eTtcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgdGhpcy5tYXhYID0gLUluZmluaXR5O1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICB0aGlzLm1heFkgPSAtSW5maW5pdHk7XG5cbiAgICB0aGlzLnJlY3QgPSBudWxsO1xufTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYm91bmRzIGFyZSBlbXB0eS5cbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIGVtcHR5LlxuICovXG5Cb3VuZHMucHJvdG90eXBlLmlzRW1wdHkgPSBmdW5jdGlvbiBpc0VtcHR5ICgpXG57XG4gICAgcmV0dXJuIHRoaXMubWluWCA+IHRoaXMubWF4WCB8fCB0aGlzLm1pblkgPiB0aGlzLm1heFk7XG59O1xuXG4vKipcbiAqIENsZWFycyB0aGUgYm91bmRzIGFuZCByZXNldHMuXG4gKlxuICovXG5Cb3VuZHMucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIgKClcbntcbiAgICB0aGlzLnVwZGF0ZUlEKys7XG5cbiAgICB0aGlzLm1pblggPSBJbmZpbml0eTtcbiAgICB0aGlzLm1pblkgPSBJbmZpbml0eTtcbiAgICB0aGlzLm1heFggPSAtSW5maW5pdHk7XG4gICAgdGhpcy5tYXhZID0gLUluZmluaXR5O1xufTtcblxuLyoqXG4gKiBDYW4gcmV0dXJuIFJlY3RhbmdsZS5FTVBUWSBjb25zdGFudCwgZWl0aGVyIGNvbnN0cnVjdCBuZXcgcmVjdGFuZ2xlLCBlaXRoZXIgdXNlIHlvdXIgcmVjdGFuZ2xlXG4gKiBJdCBpcyBub3QgZ3VhcmFudGVlZCB0aGF0IGl0IHdpbGwgcmV0dXJuIHRlbXBSZWN0XG4gKlxuICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gcmVjdCAtIHRlbXBvcmFyeSBvYmplY3Qgd2lsbCBiZSB1c2VkIGlmIEFBQkIgaXMgbm90IGVtcHR5XG4gKiBAcmV0dXJucyB7UElYSS5SZWN0YW5nbGV9IEEgcmVjdGFuZ2xlIG9mIHRoZSBib3VuZHNcbiAqL1xuQm91bmRzLnByb3RvdHlwZS5nZXRSZWN0YW5nbGUgPSBmdW5jdGlvbiBnZXRSZWN0YW5nbGUgKHJlY3QpXG57XG4gICAgaWYgKHRoaXMubWluWCA+IHRoaXMubWF4WCB8fCB0aGlzLm1pblkgPiB0aGlzLm1heFkpXG4gICAge1xuICAgICAgICByZXR1cm4gUmVjdGFuZ2xlLkVNUFRZO1xuICAgIH1cblxuICAgIHJlY3QgPSByZWN0IHx8IG5ldyBSZWN0YW5nbGUoMCwgMCwgMSwgMSk7XG5cbiAgICByZWN0LnggPSB0aGlzLm1pblg7XG4gICAgcmVjdC55ID0gdGhpcy5taW5ZO1xuICAgIHJlY3Qud2lkdGggPSB0aGlzLm1heFggLSB0aGlzLm1pblg7XG4gICAgcmVjdC5oZWlnaHQgPSB0aGlzLm1heFkgLSB0aGlzLm1pblk7XG5cbiAgICByZXR1cm4gcmVjdDtcbn07XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBzaG91bGQgYmUgaW5saW5lZCB3aGVuIGl0cyBwb3NzaWJsZS5cbiAqXG4gKiBAcGFyYW0ge1BJWEkuUG9pbnR9IHBvaW50IC0gVGhlIHBvaW50IHRvIGFkZC5cbiAqL1xuQm91bmRzLnByb3RvdHlwZS5hZGRQb2ludCA9IGZ1bmN0aW9uIGFkZFBvaW50IChwb2ludClcbntcbiAgICB0aGlzLm1pblggPSBNYXRoLm1pbih0aGlzLm1pblgsIHBvaW50LngpO1xuICAgIHRoaXMubWF4WCA9IE1hdGgubWF4KHRoaXMubWF4WCwgcG9pbnQueCk7XG4gICAgdGhpcy5taW5ZID0gTWF0aC5taW4odGhpcy5taW5ZLCBwb2ludC55KTtcbiAgICB0aGlzLm1heFkgPSBNYXRoLm1heCh0aGlzLm1heFksIHBvaW50LnkpO1xufTtcblxuLyoqXG4gKiBBZGRzIGEgcXVhZCwgbm90IHRyYW5zZm9ybWVkXG4gKlxuICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IHZlcnRpY2VzIC0gVGhlIHZlcnRzIHRvIGFkZC5cbiAqL1xuQm91bmRzLnByb3RvdHlwZS5hZGRRdWFkID0gZnVuY3Rpb24gYWRkUXVhZCAodmVydGljZXMpXG57XG4gICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgdmFyIG1pblkgPSB0aGlzLm1pblk7XG4gICAgdmFyIG1heFggPSB0aGlzLm1heFg7XG4gICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG5cbiAgICB2YXIgeCA9IHZlcnRpY2VzWzBdO1xuICAgIHZhciB5ID0gdmVydGljZXNbMV07XG5cbiAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcblxuICAgIHggPSB2ZXJ0aWNlc1syXTtcbiAgICB5ID0gdmVydGljZXNbM107XG4gICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG5cbiAgICB4ID0gdmVydGljZXNbNF07XG4gICAgeSA9IHZlcnRpY2VzWzVdO1xuICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuXG4gICAgeCA9IHZlcnRpY2VzWzZdO1xuICAgIHkgPSB2ZXJ0aWNlc1s3XTtcbiAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcblxuICAgIHRoaXMubWluWCA9IG1pblg7XG4gICAgdGhpcy5taW5ZID0gbWluWTtcbiAgICB0aGlzLm1heFggPSBtYXhYO1xuICAgIHRoaXMubWF4WSA9IG1heFk7XG59O1xuXG4vKipcbiAqIEFkZHMgc3ByaXRlIGZyYW1lLCB0cmFuc2Zvcm1lZC5cbiAqXG4gKiBAcGFyYW0ge1BJWEkuVHJhbnNmb3JtfSB0cmFuc2Zvcm0gLSBUT0RPXG4gKiBAcGFyYW0ge251bWJlcn0geDAgLSBUT0RPXG4gKiBAcGFyYW0ge251bWJlcn0geTAgLSBUT0RPXG4gKiBAcGFyYW0ge251bWJlcn0geDEgLSBUT0RPXG4gKiBAcGFyYW0ge251bWJlcn0geTEgLSBUT0RPXG4gKi9cbkJvdW5kcy5wcm90b3R5cGUuYWRkRnJhbWUgPSBmdW5jdGlvbiBhZGRGcmFtZSAodHJhbnNmb3JtLCB4MCwgeTAsIHgxLCB5MSlcbntcbiAgICB2YXIgbWF0cml4ID0gdHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgIHZhciBhID0gbWF0cml4LmE7XG4gICAgdmFyIGIgPSBtYXRyaXguYjtcbiAgICB2YXIgYyA9IG1hdHJpeC5jO1xuICAgIHZhciBkID0gbWF0cml4LmQ7XG4gICAgdmFyIHR4ID0gbWF0cml4LnR4O1xuICAgIHZhciB0eSA9IG1hdHJpeC50eTtcblxuICAgIHZhciBtaW5YID0gdGhpcy5taW5YO1xuICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgIHZhciBtYXhYID0gdGhpcy5tYXhYO1xuICAgIHZhciBtYXhZID0gdGhpcy5tYXhZO1xuXG4gICAgdmFyIHggPSAoYSAqIHgwKSArIChjICogeTApICsgdHg7XG4gICAgdmFyIHkgPSAoYiAqIHgwKSArIChkICogeTApICsgdHk7XG5cbiAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcblxuICAgIHggPSAoYSAqIHgxKSArIChjICogeTApICsgdHg7XG4gICAgeSA9IChiICogeDEpICsgKGQgKiB5MCkgKyB0eTtcbiAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcblxuICAgIHggPSAoYSAqIHgwKSArIChjICogeTEpICsgdHg7XG4gICAgeSA9IChiICogeDApICsgKGQgKiB5MSkgKyB0eTtcbiAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcblxuICAgIHggPSAoYSAqIHgxKSArIChjICogeTEpICsgdHg7XG4gICAgeSA9IChiICogeDEpICsgKGQgKiB5MSkgKyB0eTtcbiAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcblxuICAgIHRoaXMubWluWCA9IG1pblg7XG4gICAgdGhpcy5taW5ZID0gbWluWTtcbiAgICB0aGlzLm1heFggPSBtYXhYO1xuICAgIHRoaXMubWF4WSA9IG1heFk7XG59O1xuXG4vKipcbiAqIEFkZHMgc2NyZWVuIHZlcnRpY2VzIGZyb20gYXJyYXlcbiAqXG4gKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gdmVydGV4RGF0YSAtIGNhbGN1bGF0ZWQgdmVydGljZXNcbiAqIEBwYXJhbSB7bnVtYmVyfSBiZWdpbk9mZnNldCAtIGJlZ2luIG9mZnNldFxuICogQHBhcmFtIHtudW1iZXJ9IGVuZE9mZnNldCAtIGVuZCBvZmZzZXQsIGV4Y2x1ZGVkXG4gKi9cbkJvdW5kcy5wcm90b3R5cGUuYWRkVmVydGV4RGF0YSA9IGZ1bmN0aW9uIGFkZFZlcnRleERhdGEgKHZlcnRleERhdGEsIGJlZ2luT2Zmc2V0LCBlbmRPZmZzZXQpXG57XG4gICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgdmFyIG1pblkgPSB0aGlzLm1pblk7XG4gICAgdmFyIG1heFggPSB0aGlzLm1heFg7XG4gICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG5cbiAgICBmb3IgKHZhciBpID0gYmVnaW5PZmZzZXQ7IGkgPCBlbmRPZmZzZXQ7IGkgKz0gMilcbiAgICB7XG4gICAgICAgIHZhciB4ID0gdmVydGV4RGF0YVtpXTtcbiAgICAgICAgdmFyIHkgPSB2ZXJ0ZXhEYXRhW2kgKyAxXTtcblxuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcbiAgICB9XG5cbiAgICB0aGlzLm1pblggPSBtaW5YO1xuICAgIHRoaXMubWluWSA9IG1pblk7XG4gICAgdGhpcy5tYXhYID0gbWF4WDtcbiAgICB0aGlzLm1heFkgPSBtYXhZO1xufTtcblxuLyoqXG4gKiBBZGQgYW4gYXJyYXkgb2YgbWVzaCB2ZXJ0aWNlc1xuICpcbiAqIEBwYXJhbSB7UElYSS5UcmFuc2Zvcm19IHRyYW5zZm9ybSAtIG1lc2ggdHJhbnNmb3JtXG4gKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gdmVydGljZXMgLSBtZXNoIGNvb3JkaW5hdGVzIGluIGFycmF5XG4gKiBAcGFyYW0ge251bWJlcn0gYmVnaW5PZmZzZXQgLSBiZWdpbiBvZmZzZXRcbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmRPZmZzZXQgLSBlbmQgb2Zmc2V0LCBleGNsdWRlZFxuICovXG5Cb3VuZHMucHJvdG90eXBlLmFkZFZlcnRpY2VzID0gZnVuY3Rpb24gYWRkVmVydGljZXMgKHRyYW5zZm9ybSwgdmVydGljZXMsIGJlZ2luT2Zmc2V0LCBlbmRPZmZzZXQpXG57XG4gICAgdmFyIG1hdHJpeCA9IHRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICB2YXIgYSA9IG1hdHJpeC5hO1xuICAgIHZhciBiID0gbWF0cml4LmI7XG4gICAgdmFyIGMgPSBtYXRyaXguYztcbiAgICB2YXIgZCA9IG1hdHJpeC5kO1xuICAgIHZhciB0eCA9IG1hdHJpeC50eDtcbiAgICB2YXIgdHkgPSBtYXRyaXgudHk7XG5cbiAgICB2YXIgbWluWCA9IHRoaXMubWluWDtcbiAgICB2YXIgbWluWSA9IHRoaXMubWluWTtcbiAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICB2YXIgbWF4WSA9IHRoaXMubWF4WTtcblxuICAgIGZvciAodmFyIGkgPSBiZWdpbk9mZnNldDsgaSA8IGVuZE9mZnNldDsgaSArPSAyKVxuICAgIHtcbiAgICAgICAgdmFyIHJhd1ggPSB2ZXJ0aWNlc1tpXTtcbiAgICAgICAgdmFyIHJhd1kgPSB2ZXJ0aWNlc1tpICsgMV07XG4gICAgICAgIHZhciB4ID0gKGEgKiByYXdYKSArIChjICogcmF3WSkgKyB0eDtcbiAgICAgICAgdmFyIHkgPSAoZCAqIHJhd1kpICsgKGIgKiByYXdYKSArIHR5O1xuXG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuICAgIH1cblxuICAgIHRoaXMubWluWCA9IG1pblg7XG4gICAgdGhpcy5taW5ZID0gbWluWTtcbiAgICB0aGlzLm1heFggPSBtYXhYO1xuICAgIHRoaXMubWF4WSA9IG1heFk7XG59O1xuXG4vKipcbiAqIEFkZHMgb3RoZXIgQm91bmRzXG4gKlxuICogQHBhcmFtIHtQSVhJLkJvdW5kc30gYm91bmRzIC0gVE9ET1xuICovXG5Cb3VuZHMucHJvdG90eXBlLmFkZEJvdW5kcyA9IGZ1bmN0aW9uIGFkZEJvdW5kcyAoYm91bmRzKVxue1xuICAgIHZhciBtaW5YID0gdGhpcy5taW5YO1xuICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgIHZhciBtYXhYID0gdGhpcy5tYXhYO1xuICAgIHZhciBtYXhZID0gdGhpcy5tYXhZO1xuXG4gICAgdGhpcy5taW5YID0gYm91bmRzLm1pblggPCBtaW5YID8gYm91bmRzLm1pblggOiBtaW5YO1xuICAgIHRoaXMubWluWSA9IGJvdW5kcy5taW5ZIDwgbWluWSA/IGJvdW5kcy5taW5ZIDogbWluWTtcbiAgICB0aGlzLm1heFggPSBib3VuZHMubWF4WCA+IG1heFggPyBib3VuZHMubWF4WCA6IG1heFg7XG4gICAgdGhpcy5tYXhZID0gYm91bmRzLm1heFkgPiBtYXhZID8gYm91bmRzLm1heFkgOiBtYXhZO1xufTtcblxuLyoqXG4gKiBBZGRzIG90aGVyIEJvdW5kcywgbWFza2VkIHdpdGggQm91bmRzXG4gKlxuICogQHBhcmFtIHtQSVhJLkJvdW5kc30gYm91bmRzIC0gVE9ET1xuICogQHBhcmFtIHtQSVhJLkJvdW5kc30gbWFzayAtIFRPRE9cbiAqL1xuQm91bmRzLnByb3RvdHlwZS5hZGRCb3VuZHNNYXNrID0gZnVuY3Rpb24gYWRkQm91bmRzTWFzayAoYm91bmRzLCBtYXNrKVxue1xuICAgIHZhciBfbWluWCA9IGJvdW5kcy5taW5YID4gbWFzay5taW5YID8gYm91bmRzLm1pblggOiBtYXNrLm1pblg7XG4gICAgdmFyIF9taW5ZID0gYm91bmRzLm1pblkgPiBtYXNrLm1pblkgPyBib3VuZHMubWluWSA6IG1hc2subWluWTtcbiAgICB2YXIgX21heFggPSBib3VuZHMubWF4WCA8IG1hc2subWF4WCA/IGJvdW5kcy5tYXhYIDogbWFzay5tYXhYO1xuICAgIHZhciBfbWF4WSA9IGJvdW5kcy5tYXhZIDwgbWFzay5tYXhZID8gYm91bmRzLm1heFkgOiBtYXNrLm1heFk7XG5cbiAgICBpZiAoX21pblggPD0gX21heFggJiYgX21pblkgPD0gX21heFkpXG4gICAge1xuICAgICAgICB2YXIgbWluWCA9IHRoaXMubWluWDtcbiAgICAgICAgdmFyIG1pblkgPSB0aGlzLm1pblk7XG4gICAgICAgIHZhciBtYXhYID0gdGhpcy5tYXhYO1xuICAgICAgICB2YXIgbWF4WSA9IHRoaXMubWF4WTtcblxuICAgICAgICB0aGlzLm1pblggPSBfbWluWCA8IG1pblggPyBfbWluWCA6IG1pblg7XG4gICAgICAgIHRoaXMubWluWSA9IF9taW5ZIDwgbWluWSA/IF9taW5ZIDogbWluWTtcbiAgICAgICAgdGhpcy5tYXhYID0gX21heFggPiBtYXhYID8gX21heFggOiBtYXhYO1xuICAgICAgICB0aGlzLm1heFkgPSBfbWF4WSA+IG1heFkgPyBfbWF4WSA6IG1heFk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBBZGRzIG90aGVyIEJvdW5kcywgbWFza2VkIHdpdGggUmVjdGFuZ2xlXG4gKlxuICogQHBhcmFtIHtQSVhJLkJvdW5kc30gYm91bmRzIC0gVE9ET1xuICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gYXJlYSAtIFRPRE9cbiAqL1xuQm91bmRzLnByb3RvdHlwZS5hZGRCb3VuZHNBcmVhID0gZnVuY3Rpb24gYWRkQm91bmRzQXJlYSAoYm91bmRzLCBhcmVhKVxue1xuICAgIHZhciBfbWluWCA9IGJvdW5kcy5taW5YID4gYXJlYS54ID8gYm91bmRzLm1pblggOiBhcmVhLng7XG4gICAgdmFyIF9taW5ZID0gYm91bmRzLm1pblkgPiBhcmVhLnkgPyBib3VuZHMubWluWSA6IGFyZWEueTtcbiAgICB2YXIgX21heFggPSBib3VuZHMubWF4WCA8IGFyZWEueCArIGFyZWEud2lkdGggPyBib3VuZHMubWF4WCA6IChhcmVhLnggKyBhcmVhLndpZHRoKTtcbiAgICB2YXIgX21heFkgPSBib3VuZHMubWF4WSA8IGFyZWEueSArIGFyZWEuaGVpZ2h0ID8gYm91bmRzLm1heFkgOiAoYXJlYS55ICsgYXJlYS5oZWlnaHQpO1xuXG4gICAgaWYgKF9taW5YIDw9IF9tYXhYICYmIF9taW5ZIDw9IF9tYXhZKVxuICAgIHtcbiAgICAgICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG5cbiAgICAgICAgdGhpcy5taW5YID0gX21pblggPCBtaW5YID8gX21pblggOiBtaW5YO1xuICAgICAgICB0aGlzLm1pblkgPSBfbWluWSA8IG1pblkgPyBfbWluWSA6IG1pblk7XG4gICAgICAgIHRoaXMubWF4WCA9IF9tYXhYID4gbWF4WCA/IF9tYXhYIDogbWF4WDtcbiAgICAgICAgdGhpcy5tYXhZID0gX21heFkgPiBtYXhZID8gX21heFkgOiBtYXhZO1xuICAgIH1cbn07XG5cbi8vIF90ZW1wRGlzcGxheU9iamVjdFBhcmVudCA9IG5ldyBEaXNwbGF5T2JqZWN0KCk7XG5cbi8qKlxuICogVGhlIGJhc2UgY2xhc3MgZm9yIGFsbCBvYmplY3RzIHRoYXQgYXJlIHJlbmRlcmVkIG9uIHRoZSBzY3JlZW4uXG4gKlxuICogVGhpcyBpcyBhbiBhYnN0cmFjdCBjbGFzcyBhbmQgc2hvdWxkIG5vdCBiZSB1c2VkIG9uIGl0cyBvd247IHJhdGhlciBpdCBzaG91bGQgYmUgZXh0ZW5kZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnV0aWxzLkV2ZW50RW1pdHRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIERpc3BsYXlPYmplY3QgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChFdmVudEVtaXR0ZXIpIHtcbiAgICBmdW5jdGlvbiBEaXNwbGF5T2JqZWN0KClcbiAgICB7XG4gICAgICAgIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gICAgICAgIHRoaXMudGVtcERpc3BsYXlPYmplY3RQYXJlbnQgPSBudWxsO1xuXG4gICAgICAgIC8vIFRPRE86IG5lZWQgdG8gY3JlYXRlIFRyYW5zZm9ybSBmcm9tIGZhY3RvcnlcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdvcmxkIHRyYW5zZm9ybSBhbmQgbG9jYWwgdHJhbnNmb3JtIG9mIHRoaXMgb2JqZWN0LlxuICAgICAgICAgKiBUaGlzIHdpbGwgYmVjb21lIHJlYWQtb25seSBsYXRlciwgcGxlYXNlIGRvIG5vdCBhc3NpZ24gYW55dGhpbmcgdGhlcmUgdW5sZXNzIHlvdSBrbm93IHdoYXQgYXJlIHlvdSBkb2luZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UcmFuc2Zvcm19XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IG5ldyBUcmFuc2Zvcm0oKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9wYWNpdHkgb2YgdGhlIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hbHBoYSA9IDE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB2aXNpYmlsaXR5IG9mIHRoZSBvYmplY3QuIElmIGZhbHNlIHRoZSBvYmplY3Qgd2lsbCBub3QgYmUgZHJhd24sIGFuZFxuICAgICAgICAgKiB0aGUgdXBkYXRlVHJhbnNmb3JtIGZ1bmN0aW9uIHdpbGwgbm90IGJlIGNhbGxlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogT25seSBhZmZlY3RzIHJlY3Vyc2l2ZSBjYWxscyBmcm9tIHBhcmVudC4gWW91IGNhbiBhc2sgZm9yIGJvdW5kcyBvciBjYWxsIHVwZGF0ZVRyYW5zZm9ybSBtYW51YWxseS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudmlzaWJsZSA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbiB0aGlzIG9iamVjdCBiZSByZW5kZXJlZCwgaWYgZmFsc2UgdGhlIG9iamVjdCB3aWxsIG5vdCBiZSBkcmF3biBidXQgdGhlIHVwZGF0ZVRyYW5zZm9ybVxuICAgICAgICAgKiBtZXRob2RzIHdpbGwgc3RpbGwgYmUgY2FsbGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBPbmx5IGFmZmVjdHMgcmVjdXJzaXZlIGNhbGxzIGZyb20gcGFyZW50LiBZb3UgY2FuIGFzayBmb3IgYm91bmRzIG1hbnVhbGx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJhYmxlID0gdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRpc3BsYXkgb2JqZWN0IGNvbnRhaW5lciB0aGF0IGNvbnRhaW5zIHRoaXMgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQ29udGFpbmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG11bHRpcGxpZWQgYWxwaGEgb2YgdGhlIGRpc3BsYXlPYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndvcmxkQWxwaGEgPSAxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGljaCBpbmRleCBpbiB0aGUgY2hpbGRyZW4gYXJyYXkgdGhlIGRpc3BsYXkgY29tcG9uZW50IHdhcyBiZWZvcmUgdGhlIHByZXZpb3VzIHpJbmRleCBzb3J0LlxuICAgICAgICAgKiBVc2VkIGJ5IGNvbnRhaW5lcnMgdG8gaGVscCBzb3J0IG9iamVjdHMgd2l0aCB0aGUgc2FtZSB6SW5kZXgsIGJ5IHVzaW5nIHByZXZpb3VzIGFycmF5IGluZGV4IGFzIHRoZSBkZWNpZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2xhc3RTb3J0ZWRJbmRleCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB6SW5kZXggb2YgdGhlIGRpc3BsYXlPYmplY3QuXG4gICAgICAgICAqIEEgaGlnaGVyIHZhbHVlIHdpbGwgbWVhbiBpdCB3aWxsIGJlIHJlbmRlcmVkIG9uIHRvcCBvZiBvdGhlciBkaXNwbGF5T2JqZWN0cyB3aXRoaW4gdGhlIHNhbWUgY29udGFpbmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3pJbmRleCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhcmVhIHRoZSBmaWx0ZXIgaXMgYXBwbGllZCB0by4gVGhpcyBpcyB1c2VkIGFzIG1vcmUgb2YgYW4gb3B0aW1pemF0aW9uXG4gICAgICAgICAqIHJhdGhlciB0aGFuIGZpZ3VyaW5nIG91dCB0aGUgZGltZW5zaW9ucyBvZiB0aGUgZGlzcGxheU9iamVjdCBlYWNoIGZyYW1lIHlvdSBjYW4gc2V0IHRoaXMgcmVjdGFuZ2xlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBBbHNvIHdvcmtzIGFzIGFuIGludGVyYWN0aW9uIG1hc2suXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIgez9QSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmlsdGVyQXJlYSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIGZpbHRlcnMgZm9yIHRoZSBkaXNwbGF5T2JqZWN0LlxuICAgICAgICAgKiAqIElNUE9SVEFOVDogVGhpcyBpcyBhIFdlYkdMIG9ubHkgZmVhdHVyZSBhbmQgd2lsbCBiZSBpZ25vcmVkIGJ5IHRoZSBjYW52YXMgcmVuZGVyZXIuXG4gICAgICAgICAqIFRvIHJlbW92ZSBmaWx0ZXJzIHNpbXBseSBzZXQgdGhpcyBwcm9wZXJ0eSB0byBgJ251bGwnYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7P1BJWEkuRmlsdGVyW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZpbHRlcnMgPSBudWxsO1xuICAgICAgICB0aGlzLl9lbmFibGVkRmlsdGVycyA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBib3VuZHMgb2JqZWN0LCB0aGlzIGlzIHVzZWQgdG8gY2FsY3VsYXRlIGFuZCBzdG9yZSB0aGUgYm91bmRzIG9mIHRoZSBkaXNwbGF5T2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJvdW5kc31cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYm91bmRzID0gbmV3IEJvdW5kcygpO1xuICAgICAgICB0aGlzLl9ib3VuZHNJRCA9IDA7XG4gICAgICAgIHRoaXMuX2xhc3RCb3VuZHNJRCA9IC0xO1xuICAgICAgICB0aGlzLl9ib3VuZHNSZWN0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHNSZWN0ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9yaWdpbmFsLCBjYWNoZWQgbWFzayBvZiB0aGUgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdyYXBoaWNzfFBJWEkuU3ByaXRlfG51bGx9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX21hc2sgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoaXMgRGlzcGxheU9iamVjdCBpcyBhZGRlZCB0byBhIENvbnRhaW5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNhZGRlZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIGFkZGVkIHRvLlxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGlzIERpc3BsYXlPYmplY3QgaXMgcmVtb3ZlZCBmcm9tIGEgQ29udGFpbmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3JlbW92ZWRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciByZW1vdmVkIGZyb20uXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGUgb2JqZWN0IGhhcyBiZWVuIGRlc3Ryb3llZCB2aWEgZGVzdHJveSgpLiBJZiB0cnVlLCBpdCBzaG91bGQgbm90IGJlIHVzZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB1c2VkIHRvIGZhc3QgY2hlY2sgaWYgYSBzcHJpdGUgaXMuLiBhIHNwcml0ZSFcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXNTcHJpdGUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIEV2ZW50RW1pdHRlciApIERpc3BsYXlPYmplY3QuX19wcm90b19fID0gRXZlbnRFbWl0dGVyO1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggRXZlbnRFbWl0dGVyICYmIEV2ZW50RW1pdHRlci5wcm90b3R5cGUgKTtcbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IERpc3BsYXlPYmplY3Q7XG5cbiAgICB2YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyBfdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0seDogeyBjb25maWd1cmFibGU6IHRydWUgfSx5OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHdvcmxkVHJhbnNmb3JtOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGxvY2FsVHJhbnNmb3JtOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHBvc2l0aW9uOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHNjYWxlOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHBpdm90OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHNrZXc6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0scm90YXRpb246IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sYW5nbGU6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sekluZGV4OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHdvcmxkVmlzaWJsZTogeyBjb25maWd1cmFibGU6IHRydWUgfSxtYXNrOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgICAvKipcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QubWl4aW4gPSBmdW5jdGlvbiBtaXhpbiAoc291cmNlKVxuICAgIHtcbiAgICAgICAgLy8gaW4gRVM4L0VTMjAxNywgdGhpcyB3b3VsZCBiZSByZWFsbHkgZWFzeTpcbiAgICAgICAgLy8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTtcblxuICAgICAgICAvLyBnZXQgYWxsIHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IGtleXNcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuXG4gICAgICAgIC8vIGxvb3AgdGhyb3VnaCBwcm9wZXJ0aWVzXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHByb3BlcnR5TmFtZSA9IGtleXNbaV07XG5cbiAgICAgICAgICAgIC8vIFNldCB0aGUgcHJvcGVydHkgdXNpbmcgdGhlIHByb3BlcnR5IGRlc2NyaXB0b3IgLSB0aGlzIHdvcmtzIGZvciBhY2Nlc3NvcnMgYW5kIG5vcm1hbCB2YWx1ZSBwcm9wZXJ0aWVzXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoXG4gICAgICAgICAgICAgICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUsXG4gICAgICAgICAgICAgICAgcHJvcGVydHlOYW1lLFxuICAgICAgICAgICAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBwcm9wZXJ0eU5hbWUpXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnRlbXBEaXNwbGF5T2JqZWN0UGFyZW50ID09PSBudWxsKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRlbXBEaXNwbGF5T2JqZWN0UGFyZW50ID0gbmV3IERpc3BsYXlPYmplY3QoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnRlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBvYmplY3QgdHJhbnNmb3JtIGZvciByZW5kZXJpbmcuXG4gICAgICpcbiAgICAgKiBUT0RPIC0gT3B0aW1pemF0aW9uIHBhc3MhXG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gdXBkYXRlVHJhbnNmb3JtICgpXG4gICAge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybS51cGRhdGVUcmFuc2Zvcm0odGhpcy5wYXJlbnQudHJhbnNmb3JtKTtcbiAgICAgICAgLy8gbXVsdGlwbHkgdGhlIGFscGhhcy4uXG4gICAgICAgIHRoaXMud29ybGRBbHBoYSA9IHRoaXMuYWxwaGEgKiB0aGlzLnBhcmVudC53b3JsZEFscGhhO1xuXG4gICAgICAgIHRoaXMuX2JvdW5kcy51cGRhdGVJRCsrO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZWN1cnNpdmVseSB1cGRhdGVzIHRyYW5zZm9ybSBvZiBhbGwgb2JqZWN0cyBmcm9tIHRoZSByb290IHRvIHRoaXMgb25lXG4gICAgICogaW50ZXJuYWwgZnVuY3Rpb24gZm9yIHRvTG9jYWwoKVxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLl9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0gKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnBhcmVudClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnVwZGF0ZVRyYW5zZm9ybSh0aGlzLnBhcmVudC50cmFuc2Zvcm0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0udXBkYXRlVHJhbnNmb3JtKHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50LnRyYW5zZm9ybSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBib3VuZHMgb2YgdGhlIGRpc3BsYXlPYmplY3QgYXMgYSByZWN0YW5nbGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFVwZGF0ZV0gLSBTZXR0aW5nIHRvIGB0cnVlYCB3aWxsIHN0b3AgdGhlIHRyYW5zZm9ybXMgb2YgdGhlIHNjZW5lIGdyYXBoIGZyb21cbiAgICAgKiAgYmVpbmcgdXBkYXRlZC4gVGhpcyBtZWFucyB0aGUgY2FsY3VsYXRpb24gcmV0dXJuZWQgTUFZIGJlIG91dCBvZiBkYXRlIEJVVCB3aWxsIGdpdmUgeW91IGFcbiAgICAgKiAgbmljZSBwZXJmb3JtYW5jZSBib29zdC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbcmVjdF0gLSBPcHRpb25hbCByZWN0YW5nbGUgdG8gc3RvcmUgdGhlIHJlc3VsdCBvZiB0aGUgYm91bmRzIGNhbGN1bGF0aW9uLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBUaGUgcmVjdGFuZ3VsYXIgYm91bmRpbmcgYXJlYS5cbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5nZXRCb3VuZHMgPSBmdW5jdGlvbiBnZXRCb3VuZHMgKHNraXBVcGRhdGUsIHJlY3QpXG4gICAge1xuICAgICAgICBpZiAoIXNraXBVcGRhdGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5wYXJlbnQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9ib3VuZHNJRCAhPT0gdGhpcy5fbGFzdEJvdW5kc0lEKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZUJvdW5kcygpO1xuICAgICAgICAgICAgdGhpcy5fbGFzdEJvdW5kc0lEID0gdGhpcy5fYm91bmRzSUQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXJlY3QpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fYm91bmRzUmVjdClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ib3VuZHNSZWN0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZWN0ID0gdGhpcy5fYm91bmRzUmVjdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9ib3VuZHMuZ2V0UmVjdGFuZ2xlKHJlY3QpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgZGlzcGxheU9iamVjdCBhcyBhIHJlY3RhbmdsZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbcmVjdF0gLSBPcHRpb25hbCByZWN0YW5nbGUgdG8gc3RvcmUgdGhlIHJlc3VsdCBvZiB0aGUgYm91bmRzIGNhbGN1bGF0aW9uLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBUaGUgcmVjdGFuZ3VsYXIgYm91bmRpbmcgYXJlYS5cbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uIGdldExvY2FsQm91bmRzIChyZWN0KVxuICAgIHtcbiAgICAgICAgdmFyIHRyYW5zZm9ybVJlZiA9IHRoaXMudHJhbnNmb3JtO1xuICAgICAgICB2YXIgcGFyZW50UmVmID0gdGhpcy5wYXJlbnQ7XG5cbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50LnRyYW5zZm9ybTtcblxuICAgICAgICBpZiAoIXJlY3QpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fbG9jYWxCb3VuZHNSZWN0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvY2FsQm91bmRzUmVjdCA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVjdCA9IHRoaXMuX2xvY2FsQm91bmRzUmVjdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBib3VuZHMgPSB0aGlzLmdldEJvdW5kcyhmYWxzZSwgcmVjdCk7XG5cbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnRSZWY7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gdHJhbnNmb3JtUmVmO1xuXG4gICAgICAgIHJldHVybiBib3VuZHM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGdsb2JhbCBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50fSBwb3NpdGlvbiAtIFRoZSB3b3JsZCBvcmlnaW4gdG8gY2FsY3VsYXRlIGZyb20uXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludH0gW3BvaW50XSAtIEEgUG9pbnQgb2JqZWN0IGluIHdoaWNoIHRvIHN0b3JlIHRoZSB2YWx1ZSwgb3B0aW9uYWxcbiAgICAgKiAgKG90aGVyd2lzZSB3aWxsIGNyZWF0ZSBhIG5ldyBQb2ludCkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFVwZGF0ZT1mYWxzZV0gLSBTaG91bGQgd2Ugc2tpcCB0aGUgdXBkYXRlIHRyYW5zZm9ybS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLklQb2ludH0gQSBwb2ludCBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBwb3NpdGlvbiBvZiB0aGlzIG9iamVjdC5cbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS50b0dsb2JhbCA9IGZ1bmN0aW9uIHRvR2xvYmFsIChwb3NpdGlvbiwgcG9pbnQsIHNraXBVcGRhdGUpXG4gICAge1xuICAgICAgICBpZiAoIHNraXBVcGRhdGUgPT09IHZvaWQgMCApIHNraXBVcGRhdGUgPSBmYWxzZTtcblxuICAgICAgICBpZiAoIXNraXBVcGRhdGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0oKTtcblxuICAgICAgICAgICAgLy8gdGhpcyBwYXJlbnQgY2hlY2sgaXMgZm9yIGp1c3QgaW4gY2FzZSB0aGUgaXRlbSBpcyBhIHJvb3Qgb2JqZWN0LlxuICAgICAgICAgICAgLy8gSWYgaXQgaXMgd2UgbmVlZCB0byBnaXZlIGl0IGEgdGVtcG9yYXJ5IHBhcmVudCBzbyB0aGF0IGRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0gd29ya3MgY29ycmVjdGx5XG4gICAgICAgICAgICAvLyB0aGlzIGlzIG1haW5seSB0byBhdm9pZCBhIHBhcmVudCBjaGVjayBpbiB0aGUgbWFpbiBsb29wLiBFdmVyeSBsaXR0bGUgaGVscHMgZm9yIHBlcmZvcm1hbmNlIDopXG4gICAgICAgICAgICBpZiAoIXRoaXMucGFyZW50KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZG9uJ3QgbmVlZCB0byB1cGRhdGUgdGhlIGxvdFxuICAgICAgICByZXR1cm4gdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseShwb3NpdGlvbiwgcG9pbnQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBsb2NhbCBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheSBvYmplY3QgcmVsYXRpdmUgdG8gYW5vdGhlciBwb2ludC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnR9IHBvc2l0aW9uIC0gVGhlIHdvcmxkIG9yaWdpbiB0byBjYWxjdWxhdGUgZnJvbS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gW2Zyb21dIC0gVGhlIERpc3BsYXlPYmplY3QgdG8gY2FsY3VsYXRlIHRoZSBnbG9iYWwgcG9zaXRpb24gZnJvbS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50fSBbcG9pbnRdIC0gQSBQb2ludCBvYmplY3QgaW4gd2hpY2ggdG8gc3RvcmUgdGhlIHZhbHVlLCBvcHRpb25hbFxuICAgICAqICAob3RoZXJ3aXNlIHdpbGwgY3JlYXRlIGEgbmV3IFBvaW50KS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwVXBkYXRlPWZhbHNlXSAtIFNob3VsZCB3ZSBza2lwIHRoZSB1cGRhdGUgdHJhbnNmb3JtXG4gICAgICogQHJldHVybiB7UElYSS5JUG9pbnR9IEEgcG9pbnQgb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgcG9zaXRpb24gb2YgdGhpcyBvYmplY3RcbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS50b0xvY2FsID0gZnVuY3Rpb24gdG9Mb2NhbCAocG9zaXRpb24sIGZyb20sIHBvaW50LCBza2lwVXBkYXRlKVxuICAgIHtcbiAgICAgICAgaWYgKGZyb20pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHBvc2l0aW9uID0gZnJvbS50b0dsb2JhbChwb3NpdGlvbiwgcG9pbnQsIHNraXBVcGRhdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFza2lwVXBkYXRlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCk7XG5cbiAgICAgICAgICAgIC8vIHRoaXMgcGFyZW50IGNoZWNrIGlzIGZvciBqdXN0IGluIGNhc2UgdGhlIGl0ZW0gaXMgYSByb290IG9iamVjdC5cbiAgICAgICAgICAgIC8vIElmIGl0IGlzIHdlIG5lZWQgdG8gZ2l2ZSBpdCBhIHRlbXBvcmFyeSBwYXJlbnQgc28gdGhhdCBkaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtIHdvcmtzIGNvcnJlY3RseVxuICAgICAgICAgICAgLy8gdGhpcyBpcyBtYWlubHkgdG8gYXZvaWQgYSBwYXJlbnQgY2hlY2sgaW4gdGhlIG1haW4gbG9vcC4gRXZlcnkgbGl0dGxlIGhlbHBzIGZvciBwZXJmb3JtYW5jZSA6KVxuICAgICAgICAgICAgaWYgKCF0aGlzLnBhcmVudClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNpbXBseSBhcHBseSB0aGUgbWF0cml4Li5cbiAgICAgICAgcmV0dXJuIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvc2l0aW9uLCBwb2ludCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyLlxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlciAocmVuZGVyZXIpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICB7XG4gICAgICAgIC8vIE9WRVJXUklURTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBwYXJlbnQgQ29udGFpbmVyIG9mIHRoaXMgRGlzcGxheU9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBDb250YWluZXIgdG8gYWRkIHRoaXMgRGlzcGxheU9iamVjdCB0by5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkNvbnRhaW5lcn0gVGhlIENvbnRhaW5lciB0aGF0IHRoaXMgRGlzcGxheU9iamVjdCB3YXMgYWRkZWQgdG8uXG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUuc2V0UGFyZW50ID0gZnVuY3Rpb24gc2V0UGFyZW50IChjb250YWluZXIpXG4gICAge1xuICAgICAgICBpZiAoIWNvbnRhaW5lciB8fCAhY29udGFpbmVyLmFkZENoaWxkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFBhcmVudDogQXJndW1lbnQgbXVzdCBiZSBhIENvbnRhaW5lcicpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGFpbmVyLmFkZENoaWxkKHRoaXMpO1xuXG4gICAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlbmllbmNlIGZ1bmN0aW9uIHRvIHNldCB0aGUgcG9zaXRpb24sIHNjYWxlLCBza2V3IGFuZCBwaXZvdCBhdCBvbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gVGhlIFggcG9zaXRpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBUaGUgWSBwb3NpdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVYPTFdIC0gVGhlIFggc2NhbGUgdmFsdWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NjYWxlWT0xXSAtIFRoZSBZIHNjYWxlIHZhbHVlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyb3RhdGlvbj0wXSAtIFRoZSByb3RhdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2tld1g9MF0gLSBUaGUgWCBza2V3IHZhbHVlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtza2V3WT0wXSAtIFRoZSBZIHNrZXcgdmFsdWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Bpdm90WD0wXSAtIFRoZSBYIHBpdm90IHZhbHVlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwaXZvdFk9MF0gLSBUaGUgWSBwaXZvdCB2YWx1ZVxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIERpc3BsYXlPYmplY3QgaW5zdGFuY2VcbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5zZXRUcmFuc2Zvcm0gPSBmdW5jdGlvbiBzZXRUcmFuc2Zvcm0gKHgsIHksIHNjYWxlWCwgc2NhbGVZLCByb3RhdGlvbiwgc2tld1gsIHNrZXdZLCBwaXZvdFgsIHBpdm90WSlcbiAgICB7XG4gICAgICAgIGlmICggeCA9PT0gdm9pZCAwICkgeCA9IDA7XG4gICAgICAgIGlmICggeSA9PT0gdm9pZCAwICkgeSA9IDA7XG4gICAgICAgIGlmICggc2NhbGVYID09PSB2b2lkIDAgKSBzY2FsZVggPSAxO1xuICAgICAgICBpZiAoIHNjYWxlWSA9PT0gdm9pZCAwICkgc2NhbGVZID0gMTtcbiAgICAgICAgaWYgKCByb3RhdGlvbiA9PT0gdm9pZCAwICkgcm90YXRpb24gPSAwO1xuICAgICAgICBpZiAoIHNrZXdYID09PSB2b2lkIDAgKSBza2V3WCA9IDA7XG4gICAgICAgIGlmICggc2tld1kgPT09IHZvaWQgMCApIHNrZXdZID0gMDtcbiAgICAgICAgaWYgKCBwaXZvdFggPT09IHZvaWQgMCApIHBpdm90WCA9IDA7XG4gICAgICAgIGlmICggcGl2b3RZID09PSB2b2lkIDAgKSBwaXZvdFkgPSAwO1xuXG4gICAgICAgIHRoaXMucG9zaXRpb24ueCA9IHg7XG4gICAgICAgIHRoaXMucG9zaXRpb24ueSA9IHk7XG4gICAgICAgIHRoaXMuc2NhbGUueCA9ICFzY2FsZVggPyAxIDogc2NhbGVYO1xuICAgICAgICB0aGlzLnNjYWxlLnkgPSAhc2NhbGVZID8gMSA6IHNjYWxlWTtcbiAgICAgICAgdGhpcy5yb3RhdGlvbiA9IHJvdGF0aW9uO1xuICAgICAgICB0aGlzLnNrZXcueCA9IHNrZXdYO1xuICAgICAgICB0aGlzLnNrZXcueSA9IHNrZXdZO1xuICAgICAgICB0aGlzLnBpdm90LnggPSBwaXZvdFg7XG4gICAgICAgIHRoaXMucGl2b3QueSA9IHBpdm90WTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQmFzZSBkZXN0cm95IG1ldGhvZCBmb3IgZ2VuZXJpYyBkaXNwbGF5IG9iamVjdHMuIFRoaXMgd2lsbCBhdXRvbWF0aWNhbGx5XG4gICAgICogcmVtb3ZlIHRoZSBkaXNwbGF5IG9iamVjdCBmcm9tIGl0cyBwYXJlbnQgQ29udGFpbmVyIGFzIHdlbGwgYXMgcmVtb3ZlXG4gICAgICogYWxsIGN1cnJlbnQgZXZlbnQgbGlzdGVuZXJzIGFuZCBpbnRlcm5hbCByZWZlcmVuY2VzLiBEbyBub3QgdXNlIGEgRGlzcGxheU9iamVjdFxuICAgICAqIGFmdGVyIGNhbGxpbmcgYGRlc3Ryb3koKWAuXG4gICAgICpcbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudC5yZW1vdmVDaGlsZCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX2JvdW5kcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRCb3VuZHMgPSBudWxsO1xuICAgICAgICB0aGlzLl9tYXNrID0gbnVsbDtcblxuICAgICAgICB0aGlzLmZpbHRlckFyZWEgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuaW50ZXJhY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pbnRlcmFjdGl2ZUNoaWxkcmVuID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fZGVzdHJveWVkID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGF5T2JqZWN0IG9uIHRoZSB4IGF4aXMgcmVsYXRpdmUgdG8gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBwYXJlbnQuXG4gICAgICogQW4gYWxpYXMgdG8gcG9zaXRpb24ueFxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy54LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5wb3NpdGlvbi54O1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMueC5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24ueCA9IHZhbHVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXlPYmplY3Qgb24gdGhlIHkgYXhpcyByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgKiBBbiBhbGlhcyB0byBwb3NpdGlvbi55XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnkuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnBvc2l0aW9uLnk7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy55LnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi55ID0gdmFsdWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEN1cnJlbnQgdHJhbnNmb3JtIG9mIHRoZSBvYmplY3QgYmFzZWQgb24gd29ybGQgKHBhcmVudCkgZmFjdG9ycy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy53b3JsZFRyYW5zZm9ybS5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDdXJyZW50IHRyYW5zZm9ybSBvZiB0aGUgb2JqZWN0IGJhc2VkIG9uIGxvY2FsIGZhY3RvcnM6IHBvc2l0aW9uLCBzY2FsZSwgb3RoZXIgc3R1ZmYuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMubG9jYWxUcmFuc2Zvcm0uZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5sb2NhbFRyYW5zZm9ybTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGNvb3JkaW5hdGUgb2YgdGhlIG9iamVjdCByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgKiBBc3NpZ25tZW50IGJ5IHZhbHVlIHNpbmNlIHBpeGktdjQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLklQb2ludH1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMucG9zaXRpb24uZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbjtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnBvc2l0aW9uLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi5jb3B5RnJvbSh2YWx1ZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzY2FsZSBmYWN0b3Igb2YgdGhlIG9iamVjdC5cbiAgICAgKiBBc3NpZ25tZW50IGJ5IHZhbHVlIHNpbmNlIHBpeGktdjQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLklQb2ludH1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuc2NhbGUuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5zY2FsZTtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnNjYWxlLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybS5zY2FsZS5jb3B5RnJvbSh2YWx1ZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBwaXZvdCBwb2ludCBvZiB0aGUgZGlzcGxheU9iamVjdCB0aGF0IGl0IHJvdGF0ZXMgYXJvdW5kLlxuICAgICAqIEFzc2lnbm1lbnQgYnkgdmFsdWUgc2luY2UgcGl4aS12NC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuSVBvaW50fVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5waXZvdC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnBpdm90O1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMucGl2b3Quc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnBpdm90LmNvcHlGcm9tKHZhbHVlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNrZXcgZmFjdG9yIGZvciB0aGUgb2JqZWN0IGluIHJhZGlhbnMuXG4gICAgICogQXNzaWdubWVudCBieSB2YWx1ZSBzaW5jZSBwaXhpLXY0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnNrZXcuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5za2V3O1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuc2tldy5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0uc2tldy5jb3B5RnJvbSh2YWx1ZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSByb3RhdGlvbiBvZiB0aGUgb2JqZWN0IGluIHJhZGlhbnMuXG4gICAgICogJ3JvdGF0aW9uJyBhbmQgJ2FuZ2xlJyBoYXZlIHRoZSBzYW1lIGVmZmVjdCBvbiBhIGRpc3BsYXkgb2JqZWN0OyByb3RhdGlvbiBpcyBpbiByYWRpYW5zLCBhbmdsZSBpcyBpbiBkZWdyZWVzLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5yb3RhdGlvbi5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMucm90YXRpb24uc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uID0gdmFsdWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhbmdsZSBvZiB0aGUgb2JqZWN0IGluIGRlZ3JlZXMuXG4gICAgICogJ3JvdGF0aW9uJyBhbmQgJ2FuZ2xlJyBoYXZlIHRoZSBzYW1lIGVmZmVjdCBvbiBhIGRpc3BsYXkgb2JqZWN0OyByb3RhdGlvbiBpcyBpbiByYWRpYW5zLCBhbmdsZSBpcyBpbiBkZWdyZWVzLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5hbmdsZS5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uICogUkFEX1RPX0RFRztcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmFuZ2xlLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvbiA9IHZhbHVlICogREVHX1RPX1JBRDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHpJbmRleCBvZiB0aGUgZGlzcGxheU9iamVjdC5cbiAgICAgKiBJZiBhIGNvbnRhaW5lciBoYXMgdGhlIHNvcnRhYmxlQ2hpbGRyZW4gcHJvcGVydHkgc2V0IHRvIHRydWUsIGNoaWxkcmVuIHdpbGwgYmUgYXV0b21hdGljYWxseVxuICAgICAqIHNvcnRlZCBieSB6SW5kZXggdmFsdWU7IGEgaGlnaGVyIHZhbHVlIHdpbGwgbWVhbiBpdCB3aWxsIGJlIG1vdmVkIHRvd2FyZHMgdGhlIGVuZCBvZiB0aGUgYXJyYXksXG4gICAgICogYW5kIHRodXMgcmVuZGVyZWQgb24gdG9wIG9mIG90aGVyIGRpc3BsYXlPYmplY3RzIHdpdGhpbiB0aGUgc2FtZSBjb250YWluZXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnpJbmRleC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3pJbmRleDtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnpJbmRleC5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5fekluZGV4ID0gdmFsdWU7XG4gICAgICAgIGlmICh0aGlzLnBhcmVudClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQuc29ydERpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIG9iamVjdCBpcyBnbG9iYWxseSB2aXNpYmxlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMud29ybGRWaXNpYmxlLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICB2YXIgaXRlbSA9IHRoaXM7XG5cbiAgICAgICAgZG9cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCFpdGVtLnZpc2libGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpdGVtID0gaXRlbS5wYXJlbnQ7XG4gICAgICAgIH0gd2hpbGUgKGl0ZW0pO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIGEgbWFzayBmb3IgdGhlIGRpc3BsYXlPYmplY3QuIEEgbWFzayBpcyBhbiBvYmplY3QgdGhhdCBsaW1pdHMgdGhlIHZpc2liaWxpdHkgb2YgYW5cbiAgICAgKiBvYmplY3QgdG8gdGhlIHNoYXBlIG9mIHRoZSBtYXNrIGFwcGxpZWQgdG8gaXQuIEluIFBpeGlKUyBhIHJlZ3VsYXIgbWFzayBtdXN0IGJlIGFcbiAgICAgKiB7QGxpbmsgUElYSS5HcmFwaGljc30gb3IgYSB7QGxpbmsgUElYSS5TcHJpdGV9IG9iamVjdC4gVGhpcyBhbGxvd3MgZm9yIG11Y2ggZmFzdGVyIG1hc2tpbmcgaW4gY2FudmFzIGFzIGl0XG4gICAgICogdXRpbGl0aWVzIHNoYXBlIGNsaXBwaW5nLiBUbyByZW1vdmUgYSBtYXNrLCBzZXQgdGhpcyBwcm9wZXJ0eSB0byBgbnVsbGAuXG4gICAgICpcbiAgICAgKiBGb3Igc3ByaXRlIG1hc2sgYm90aCBhbHBoYSBhbmQgcmVkIGNoYW5uZWwgYXJlIHVzZWQuIEJsYWNrIG1hc2sgaXMgdGhlIHNhbWUgYXMgdHJhbnNwYXJlbnQgbWFzay5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGdyYXBoaWNzID0gbmV3IFBJWEkuR3JhcGhpY3MoKTtcbiAgICAgKiBncmFwaGljcy5iZWdpbkZpbGwoMHhGRjMzMDApO1xuICAgICAqIGdyYXBoaWNzLmRyYXdSZWN0KDUwLCAyNTAsIDEwMCwgMTAwKTtcbiAgICAgKiBncmFwaGljcy5lbmRGaWxsKCk7XG4gICAgICpcbiAgICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gICAgICogc3ByaXRlLm1hc2sgPSBncmFwaGljcztcbiAgICAgKiBAdG9kbyBBdCB0aGUgbW9tZW50LCBQSVhJLkNhbnZhc1JlbmRlcmVyIGRvZXNuJ3Qgc3VwcG9ydCBQSVhJLlNwcml0ZSBhcyBtYXNrLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc3xQSVhJLlNwcml0ZXxudWxsfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5tYXNrLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWFzaztcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLm1hc2suc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9tYXNrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9tYXNrLnJlbmRlcmFibGUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fbWFzay5pc01hc2sgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX21hc2sgPSB2YWx1ZTtcblxuICAgICAgICBpZiAodGhpcy5fbWFzaylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fbWFzay5yZW5kZXJhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9tYXNrLmlzTWFzayA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIERpc3BsYXlPYmplY3QucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuICAgIHJldHVybiBEaXNwbGF5T2JqZWN0O1xufShFdmVudEVtaXR0ZXIpKTtcblxuLyoqXG4gKiBEaXNwbGF5T2JqZWN0IGRlZmF1bHQgdXBkYXRlVHJhbnNmb3JtLCBkb2VzIG5vdCB1cGRhdGUgY2hpbGRyZW4gb2YgY29udGFpbmVyLlxuICogV2lsbCBjcmFzaCBpZiB0aGVyZSdzIG5vIHBhcmVudCBlbGVtZW50LlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAZnVuY3Rpb24gZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybVxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtID0gRGlzcGxheU9iamVjdC5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtO1xuXG5mdW5jdGlvbiBzb3J0Q2hpbGRyZW4oYSwgYilcbntcbiAgICBpZiAoYS56SW5kZXggPT09IGIuekluZGV4KVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGEuX2xhc3RTb3J0ZWRJbmRleCAtIGIuX2xhc3RTb3J0ZWRJbmRleDtcbiAgICB9XG5cbiAgICByZXR1cm4gYS56SW5kZXggLSBiLnpJbmRleDtcbn1cblxuLyoqXG4gKiBBIENvbnRhaW5lciByZXByZXNlbnRzIGEgY29sbGVjdGlvbiBvZiBkaXNwbGF5IG9iamVjdHMuXG4gKlxuICogSXQgaXMgdGhlIGJhc2UgY2xhc3Mgb2YgYWxsIGRpc3BsYXkgb2JqZWN0cyB0aGF0IGFjdCBhcyBhIGNvbnRhaW5lciBmb3Igb3RoZXIgb2JqZWN0cyAobGlrZSBTcHJpdGVzKS5cbiAqXG4gKmBgYGpzXG4gKiBsZXQgY29udGFpbmVyID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XG4gKiBjb250YWluZXIuYWRkQ2hpbGQoc3ByaXRlKTtcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5EaXNwbGF5T2JqZWN0XG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQ29udGFpbmVyID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoRGlzcGxheU9iamVjdCkge1xuICAgIGZ1bmN0aW9uIENvbnRhaW5lcigpXG4gICAge1xuICAgICAgICBEaXNwbGF5T2JqZWN0LmNhbGwodGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhcnJheSBvZiBjaGlsZHJlbiBvZiB0aGlzIGNvbnRhaW5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0W119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBzZXQgdG8gdHJ1ZSwgdGhlIGNvbnRhaW5lciB3aWxsIHNvcnQgaXRzIGNoaWxkcmVuIGJ5IHpJbmRleCB2YWx1ZVxuICAgICAgICAgKiB3aGVuIHVwZGF0ZVRyYW5zZm9ybSgpIGlzIGNhbGxlZCwgb3IgbWFudWFsbHkgaWYgc29ydENoaWxkcmVuKCkgaXMgY2FsbGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIGFjdHVhbGx5IGNoYW5nZXMgdGhlIG9yZGVyIG9mIGVsZW1lbnRzIGluIHRoZSBhcnJheSwgc28gc2hvdWxkIGJlIHRyZWF0ZWRcbiAgICAgICAgICogYXMgYSBiYXNpYyBzb2x1dGlvbiB0aGF0IGlzIG5vdCBwZXJmb3JtYW50IGNvbXBhcmVkIHRvIG90aGVyIHNvbHV0aW9ucyxcbiAgICAgICAgICogc3VjaCBhcyBAbGluayBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGktZGlzcGxheVxuICAgICAgICAgKlxuICAgICAgICAgKiBBbHNvIGJlIGF3YXJlIG9mIHRoYXQgdGhpcyBtYXkgbm90IHdvcmsgbmljZWx5IHdpdGggdGhlIGFkZENoaWxkQXQoKSBmdW5jdGlvbixcbiAgICAgICAgICogYXMgdGhlIHpJbmRleCBzb3J0aW5nIG1heSBjYXVzZSB0aGUgY2hpbGQgdG8gYXV0b21hdGljYWxseSBzb3J0ZWQgdG8gYW5vdGhlciBwb3NpdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQHNlZSBQSVhJLnNldHRpbmdzLlNPUlRBQkxFX0NISUxEUkVOXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNvcnRhYmxlQ2hpbGRyZW4gPSBzZXR0aW5ncy5TT1JUQUJMRV9DSElMRFJFTjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2hvdWxkIGNoaWxkcmVuIGJlIHNvcnRlZCBieSB6SW5kZXggYXQgdGhlIG5leHQgdXBkYXRlVHJhbnNmb3JtIGNhbGwuXG4gICAgICAgICAqIFdpbGwgZ2V0IGF1dG9tYXRpY2FsbHkgc2V0IHRvIHRydWUgaWYgYSBuZXcgY2hpbGQgaXMgYWRkZWQsIG9yIGlmIGEgY2hpbGQncyB6SW5kZXggY2hhbmdlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc29ydERpcnR5ID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBEaXNwbGF5T2JqZWN0IGlzIGFkZGVkIHRvIHRoaXMgQ29udGFpbmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5Db250YWluZXIjY2hpbGRBZGRlZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgY2hpbGQgYWRkZWQgdG8gdGhlIENvbnRhaW5lci5cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciB0aGF0IGFkZGVkIHRoZSBjaGlsZC5cbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gVGhlIGNoaWxkcmVuJ3MgaW5kZXggb2YgdGhlIGFkZGVkIGNoaWxkLlxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIERpc3BsYXlPYmplY3QgaXMgcmVtb3ZlZCBmcm9tIHRoaXMgQ29udGFpbmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3JlbW92ZWRGcm9tXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZCAtIFRoZSBjaGlsZCByZW1vdmVkIGZyb20gdGhlIENvbnRhaW5lci5cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciB0aGF0IHJlbW92ZWQgcmVtb3ZlZCB0aGUgY2hpbGQuXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFRoZSBmb3JtZXIgY2hpbGRyZW4ncyBpbmRleCBvZiB0aGUgcmVtb3ZlZCBjaGlsZFxuICAgICAgICAgKi9cbiAgICB9XG5cbiAgICBpZiAoIERpc3BsYXlPYmplY3QgKSBDb250YWluZXIuX19wcm90b19fID0gRGlzcGxheU9iamVjdDtcbiAgICBDb250YWluZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggRGlzcGxheU9iamVjdCAmJiBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSApO1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDb250YWluZXI7XG5cbiAgICB2YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyB3aWR0aDogeyBjb25maWd1cmFibGU6IHRydWUgfSxoZWlnaHQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRhYmxlIG1ldGhvZCB0aGF0IGNhbiBiZSB1c2VkIGJ5IENvbnRhaW5lciBzdWJjbGFzc2VzIHdoZW5ldmVyIHRoZSBjaGlsZHJlbiBhcnJheSBpcyBtb2RpZmllZFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUub25DaGlsZHJlbkNoYW5nZSA9IGZ1bmN0aW9uIG9uQ2hpbGRyZW5DaGFuZ2UgKClcbiAgICB7XG4gICAgICAgIC8qIGVtcHR5ICovXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgb25lIG9yIG1vcmUgY2hpbGRyZW4gdG8gdGhlIGNvbnRhaW5lci5cbiAgICAgKlxuICAgICAqIE11bHRpcGxlIGl0ZW1zIGNhbiBiZSBhZGRlZCBsaWtlIHNvOiBgbXlDb250YWluZXIuYWRkQ2hpbGQodGhpbmdPbmUsIHRoaW5nVHdvLCB0aGluZ1RocmVlKWBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Li4uUElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZCAtIFRoZSBEaXNwbGF5T2JqZWN0KHMpIHRvIGFkZCB0byB0aGUgY29udGFpbmVyXG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgZmlyc3QgY2hpbGQgdGhhdCB3YXMgYWRkZWQuXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5hZGRDaGlsZCA9IGZ1bmN0aW9uIGFkZENoaWxkIChjaGlsZClcbiAgICB7XG4gICAgICAgIHZhciBhcmd1bWVudHMkMSA9IGFyZ3VtZW50cztcblxuICAgICAgICB2YXIgYXJndW1lbnRzTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcblxuICAgICAgICAvLyBpZiB0aGVyZSBpcyBvbmx5IG9uZSBhcmd1bWVudCB3ZSBjYW4gYnlwYXNzIGxvb3BpbmcgdGhyb3VnaCB0aGUgdGhlbVxuICAgICAgICBpZiAoYXJndW1lbnRzTGVuZ3RoID4gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gbG9vcCB0aHJvdWdoIHRoZSBhcmd1bWVudHMgcHJvcGVydHkgYW5kIGFkZCBhbGwgY2hpbGRyZW5cbiAgICAgICAgICAgIC8vIHVzZSBpdCB0aGUgcmlnaHQgd2F5ICgubGVuZ3RoIGFuZCBbaV0pIHNvIHRoYXQgdGhpcyBmdW5jdGlvbiBjYW4gc3RpbGwgYmUgb3B0aW1pemVkIGJ5IEpTIHJ1bnRpbWVzXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50c0xlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQoYXJndW1lbnRzJDFbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gaWYgdGhlIGNoaWxkIGhhcyBhIHBhcmVudCB0aGVuIGxldHMgcmVtb3ZlIGl0IGFzIFBpeGlKUyBvYmplY3RzIGNhbiBvbmx5IGV4aXN0IGluIG9uZSBwbGFjZVxuICAgICAgICAgICAgaWYgKGNoaWxkLnBhcmVudClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjaGlsZC5wYXJlbnQucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjaGlsZC5wYXJlbnQgPSB0aGlzO1xuICAgICAgICAgICAgdGhpcy5zb3J0RGlydHkgPSB0cnVlO1xuXG4gICAgICAgICAgICAvLyBlbnN1cmUgY2hpbGQgdHJhbnNmb3JtIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgICAgICBjaGlsZC50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG5cbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChjaGlsZCk7XG5cbiAgICAgICAgICAgIC8vIGVuc3VyZSBib3VuZHMgd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG5cbiAgICAgICAgICAgIC8vIFRPRE8gLSBsZXRzIGVpdGhlciBkbyBhbGwgY2FsbGJhY2tzIG9yIGFsbCBldmVudHMuLiBub3QgYm90aCFcbiAgICAgICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZSh0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdjaGlsZEFkZGVkJywgY2hpbGQsIHRoaXMsIHRoaXMuY2hpbGRyZW4ubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICBjaGlsZC5lbWl0KCdhZGRlZCcsIHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgY2hpbGQgdG8gdGhlIGNvbnRhaW5lciBhdCBhIHNwZWNpZmllZCBpbmRleC4gSWYgdGhlIGluZGV4IGlzIG91dCBvZiBib3VuZHMgYW4gZXJyb3Igd2lsbCBiZSB0aHJvd25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZCAtIFRoZSBjaGlsZCB0byBhZGRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgaW5kZXggdG8gcGxhY2UgdGhlIGNoaWxkIGluXG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgY2hpbGQgdGhhdCB3YXMgYWRkZWQuXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5hZGRDaGlsZEF0ID0gZnVuY3Rpb24gYWRkQ2hpbGRBdCAoY2hpbGQsIGluZGV4KVxuICAgIHtcbiAgICAgICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+IHRoaXMuY2hpbGRyZW4ubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKGNoaWxkICsgXCJhZGRDaGlsZEF0OiBUaGUgaW5kZXggXCIgKyBpbmRleCArIFwiIHN1cHBsaWVkIGlzIG91dCBvZiBib3VuZHMgXCIgKyAodGhpcy5jaGlsZHJlbi5sZW5ndGgpKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2hpbGQucGFyZW50KVxuICAgICAgICB7XG4gICAgICAgICAgICBjaGlsZC5wYXJlbnQucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY2hpbGQucGFyZW50ID0gdGhpcztcbiAgICAgICAgdGhpcy5zb3J0RGlydHkgPSB0cnVlO1xuXG4gICAgICAgIC8vIGVuc3VyZSBjaGlsZCB0cmFuc2Zvcm0gd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgY2hpbGQudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuXG4gICAgICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAwLCBjaGlsZCk7XG5cbiAgICAgICAgLy8gZW5zdXJlIGJvdW5kcyB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuXG4gICAgICAgIC8vIFRPRE8gLSBsZXRzIGVpdGhlciBkbyBhbGwgY2FsbGJhY2tzIG9yIGFsbCBldmVudHMuLiBub3QgYm90aCFcbiAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGluZGV4KTtcbiAgICAgICAgY2hpbGQuZW1pdCgnYWRkZWQnLCB0aGlzKTtcbiAgICAgICAgdGhpcy5lbWl0KCdjaGlsZEFkZGVkJywgY2hpbGQsIHRoaXMsIGluZGV4KTtcblxuICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFN3YXBzIHRoZSBwb3NpdGlvbiBvZiAyIERpc3BsYXkgT2JqZWN0cyB3aXRoaW4gdGhpcyBjb250YWluZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBGaXJzdCBkaXNwbGF5IG9iamVjdCB0byBzd2FwXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkMiAtIFNlY29uZCBkaXNwbGF5IG9iamVjdCB0byBzd2FwXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5zd2FwQ2hpbGRyZW4gPSBmdW5jdGlvbiBzd2FwQ2hpbGRyZW4gKGNoaWxkLCBjaGlsZDIpXG4gICAge1xuICAgICAgICBpZiAoY2hpbGQgPT09IGNoaWxkMilcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGluZGV4MSA9IHRoaXMuZ2V0Q2hpbGRJbmRleChjaGlsZCk7XG4gICAgICAgIHZhciBpbmRleDIgPSB0aGlzLmdldENoaWxkSW5kZXgoY2hpbGQyKTtcblxuICAgICAgICB0aGlzLmNoaWxkcmVuW2luZGV4MV0gPSBjaGlsZDI7XG4gICAgICAgIHRoaXMuY2hpbGRyZW5baW5kZXgyXSA9IGNoaWxkO1xuICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgxIDwgaW5kZXgyID8gaW5kZXgxIDogaW5kZXgyKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgaW5kZXggcG9zaXRpb24gb2YgYSBjaGlsZCBEaXNwbGF5T2JqZWN0IGluc3RhbmNlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgRGlzcGxheU9iamVjdCBpbnN0YW5jZSB0byBpZGVudGlmeVxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGluZGV4IHBvc2l0aW9uIG9mIHRoZSBjaGlsZCBkaXNwbGF5IG9iamVjdCB0byBpZGVudGlmeVxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuZ2V0Q2hpbGRJbmRleCA9IGZ1bmN0aW9uIGdldENoaWxkSW5kZXggKGNoaWxkKVxuICAgIHtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5jaGlsZHJlbi5pbmRleE9mKGNoaWxkKTtcblxuICAgICAgICBpZiAoaW5kZXggPT09IC0xKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBzdXBwbGllZCBEaXNwbGF5T2JqZWN0IG11c3QgYmUgYSBjaGlsZCBvZiB0aGUgY2FsbGVyJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIHBvc2l0aW9uIG9mIGFuIGV4aXN0aW5nIGNoaWxkIGluIHRoZSBkaXNwbGF5IG9iamVjdCBjb250YWluZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZCAtIFRoZSBjaGlsZCBEaXNwbGF5T2JqZWN0IGluc3RhbmNlIGZvciB3aGljaCB5b3Ugd2FudCB0byBjaGFuZ2UgdGhlIGluZGV4IG51bWJlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFRoZSByZXN1bHRpbmcgaW5kZXggbnVtYmVyIGZvciB0aGUgY2hpbGQgZGlzcGxheSBvYmplY3RcbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLnNldENoaWxkSW5kZXggPSBmdW5jdGlvbiBzZXRDaGlsZEluZGV4IChjaGlsZCwgaW5kZXgpXG4gICAge1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IHRoaXMuY2hpbGRyZW4ubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKFwiVGhlIGluZGV4IFwiICsgaW5kZXggKyBcIiBzdXBwbGllZCBpcyBvdXQgb2YgYm91bmRzIFwiICsgKHRoaXMuY2hpbGRyZW4ubGVuZ3RoKSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGN1cnJlbnRJbmRleCA9IHRoaXMuZ2V0Q2hpbGRJbmRleChjaGlsZCk7XG5cbiAgICAgICAgcmVtb3ZlSXRlbXModGhpcy5jaGlsZHJlbiwgY3VycmVudEluZGV4LCAxKTsgLy8gcmVtb3ZlIGZyb20gb2xkIHBvc2l0aW9uXG4gICAgICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAwLCBjaGlsZCk7IC8vIGFkZCBhdCBuZXcgcG9zaXRpb25cblxuICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjaGlsZCBhdCB0aGUgc3BlY2lmaWVkIGluZGV4XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgaW5kZXggdG8gZ2V0IHRoZSBjaGlsZCBhdFxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGNoaWxkIGF0IHRoZSBnaXZlbiBpbmRleCwgaWYgYW55LlxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuZ2V0Q2hpbGRBdCA9IGZ1bmN0aW9uIGdldENoaWxkQXQgKGluZGV4KVxuICAgIHtcbiAgICAgICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSB0aGlzLmNoaWxkcmVuLmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKChcImdldENoaWxkQXQ6IEluZGV4IChcIiArIGluZGV4ICsgXCIpIGRvZXMgbm90IGV4aXN0LlwiKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbltpbmRleF07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgb25lIG9yIG1vcmUgY2hpbGRyZW4gZnJvbSB0aGUgY29udGFpbmVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHsuLi5QSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkIC0gVGhlIERpc3BsYXlPYmplY3QocykgdG8gcmVtb3ZlXG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgZmlyc3QgY2hpbGQgdGhhdCB3YXMgcmVtb3ZlZC5cbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLnJlbW92ZUNoaWxkID0gZnVuY3Rpb24gcmVtb3ZlQ2hpbGQgKGNoaWxkKVxuICAgIHtcbiAgICAgICAgdmFyIGFyZ3VtZW50cyQxID0gYXJndW1lbnRzO1xuXG4gICAgICAgIHZhciBhcmd1bWVudHNMZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoO1xuXG4gICAgICAgIC8vIGlmIHRoZXJlIGlzIG9ubHkgb25lIGFyZ3VtZW50IHdlIGNhbiBieXBhc3MgbG9vcGluZyB0aHJvdWdoIHRoZSB0aGVtXG4gICAgICAgIGlmIChhcmd1bWVudHNMZW5ndGggPiAxKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBsb29wIHRocm91Z2ggdGhlIGFyZ3VtZW50cyBwcm9wZXJ0eSBhbmQgYWRkIGFsbCBjaGlsZHJlblxuICAgICAgICAgICAgLy8gdXNlIGl0IHRoZSByaWdodCB3YXkgKC5sZW5ndGggYW5kIFtpXSkgc28gdGhhdCB0aGlzIGZ1bmN0aW9uIGNhbiBzdGlsbCBiZSBvcHRpbWl6ZWQgYnkgSlMgcnVudGltZXNcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzTGVuZ3RoOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVDaGlsZChhcmd1bWVudHMkMVtpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmNoaWxkcmVuLmluZGV4T2YoY2hpbGQpO1xuXG4gICAgICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7IHJldHVybiBudWxsOyB9XG5cbiAgICAgICAgICAgIGNoaWxkLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICAvLyBlbnN1cmUgY2hpbGQgdHJhbnNmb3JtIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgICAgICBjaGlsZC50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG4gICAgICAgICAgICByZW1vdmVJdGVtcyh0aGlzLmNoaWxkcmVuLCBpbmRleCwgMSk7XG5cbiAgICAgICAgICAgIC8vIGVuc3VyZSBib3VuZHMgd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG5cbiAgICAgICAgICAgIC8vIFRPRE8gLSBsZXRzIGVpdGhlciBkbyBhbGwgY2FsbGJhY2tzIG9yIGFsbCBldmVudHMuLiBub3QgYm90aCFcbiAgICAgICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZShpbmRleCk7XG4gICAgICAgICAgICBjaGlsZC5lbWl0KCdyZW1vdmVkJywgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2NoaWxkUmVtb3ZlZCcsIGNoaWxkLCB0aGlzLCBpbmRleCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBjaGlsZCBmcm9tIHRoZSBzcGVjaWZpZWQgaW5kZXggcG9zaXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgaW5kZXggdG8gZ2V0IHRoZSBjaGlsZCBmcm9tXG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgY2hpbGQgdGhhdCB3YXMgcmVtb3ZlZC5cbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLnJlbW92ZUNoaWxkQXQgPSBmdW5jdGlvbiByZW1vdmVDaGlsZEF0IChpbmRleClcbiAgICB7XG4gICAgICAgIHZhciBjaGlsZCA9IHRoaXMuZ2V0Q2hpbGRBdChpbmRleCk7XG5cbiAgICAgICAgLy8gZW5zdXJlIGNoaWxkIHRyYW5zZm9ybSB3aWxsIGJlIHJlY2FsY3VsYXRlZC4uXG4gICAgICAgIGNoaWxkLnBhcmVudCA9IG51bGw7XG4gICAgICAgIGNoaWxkLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgICAgICAgcmVtb3ZlSXRlbXModGhpcy5jaGlsZHJlbiwgaW5kZXgsIDEpO1xuXG4gICAgICAgIC8vIGVuc3VyZSBib3VuZHMgd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgdGhpcy5fYm91bmRzSUQrKztcblxuICAgICAgICAvLyBUT0RPIC0gbGV0cyBlaXRoZXIgZG8gYWxsIGNhbGxiYWNrcyBvciBhbGwgZXZlbnRzLi4gbm90IGJvdGghXG4gICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZShpbmRleCk7XG4gICAgICAgIGNoaWxkLmVtaXQoJ3JlbW92ZWQnLCB0aGlzKTtcbiAgICAgICAgdGhpcy5lbWl0KCdjaGlsZFJlbW92ZWQnLCBjaGlsZCwgdGhpcywgaW5kZXgpO1xuXG4gICAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgY2hpbGRyZW4gZnJvbSB0aGlzIGNvbnRhaW5lciB0aGF0IGFyZSB3aXRoaW4gdGhlIGJlZ2luIGFuZCBlbmQgaW5kZXhlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYmVnaW5JbmRleD0wXSAtIFRoZSBiZWdpbm5pbmcgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmRJbmRleD10aGlzLmNoaWxkcmVuLmxlbmd0aF0gLSBUaGUgZW5kaW5nIHBvc2l0aW9uLiBEZWZhdWx0IHZhbHVlIGlzIHNpemUgb2YgdGhlIGNvbnRhaW5lci5cbiAgICAgKiBAcmV0dXJucyB7UElYSS5EaXNwbGF5T2JqZWN0W119IExpc3Qgb2YgcmVtb3ZlZCBjaGlsZHJlblxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUucmVtb3ZlQ2hpbGRyZW4gPSBmdW5jdGlvbiByZW1vdmVDaGlsZHJlbiAoYmVnaW5JbmRleCwgZW5kSW5kZXgpXG4gICAge1xuICAgICAgICBpZiAoIGJlZ2luSW5kZXggPT09IHZvaWQgMCApIGJlZ2luSW5kZXggPSAwO1xuXG4gICAgICAgIHZhciBiZWdpbiA9IGJlZ2luSW5kZXg7XG4gICAgICAgIHZhciBlbmQgPSB0eXBlb2YgZW5kSW5kZXggPT09ICdudW1iZXInID8gZW5kSW5kZXggOiB0aGlzLmNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgdmFyIHJhbmdlID0gZW5kIC0gYmVnaW47XG4gICAgICAgIHZhciByZW1vdmVkO1xuXG4gICAgICAgIGlmIChyYW5nZSA+IDAgJiYgcmFuZ2UgPD0gZW5kKVxuICAgICAgICB7XG4gICAgICAgICAgICByZW1vdmVkID0gdGhpcy5jaGlsZHJlbi5zcGxpY2UoYmVnaW4sIHJhbmdlKTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZW1vdmVkLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJlbW92ZWRbaV0ucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAocmVtb3ZlZFtpXS50cmFuc2Zvcm0pXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVkW2ldLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG5cbiAgICAgICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZShiZWdpbkluZGV4KTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgcmVtb3ZlZC5sZW5ndGg7ICsraSQxKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJlbW92ZWRbaSQxXS5lbWl0KCdyZW1vdmVkJywgdGhpcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdjaGlsZFJlbW92ZWQnLCByZW1vdmVkW2kkMV0sIHRoaXMsIGkkMSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZW1vdmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJhbmdlID09PSAwICYmIHRoaXMuY2hpbGRyZW4ubGVuZ3RoID09PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcigncmVtb3ZlQ2hpbGRyZW46IG51bWVyaWMgdmFsdWVzIGFyZSBvdXRzaWRlIHRoZSBhY2NlcHRhYmxlIHJhbmdlLicpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTb3J0cyBjaGlsZHJlbiBieSB6SW5kZXguIFByZXZpb3VzIG9yZGVyIGlzIG1hbnRhaW5lZCBmb3IgMiBjaGlsZHJlbiB3aXRoIHRoZSBzYW1lIHpJbmRleC5cbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLnNvcnRDaGlsZHJlbiA9IGZ1bmN0aW9uIHNvcnRDaGlsZHJlbiQxICgpXG4gICAge1xuICAgICAgICB2YXIgc29ydFJlcXVpcmVkID0gZmFsc2U7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcblxuICAgICAgICAgICAgY2hpbGQuX2xhc3RTb3J0ZWRJbmRleCA9IGk7XG5cbiAgICAgICAgICAgIGlmICghc29ydFJlcXVpcmVkICYmIGNoaWxkLnpJbmRleCAhPT0gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzb3J0UmVxdWlyZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNvcnRSZXF1aXJlZCAmJiB0aGlzLmNoaWxkcmVuLmxlbmd0aCA+IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4uc29ydChzb3J0Q2hpbGRyZW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zb3J0RGlydHkgPSBmYWxzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgdHJhbnNmb3JtIG9uIGFsbCBjaGlsZHJlbiBvZiB0aGlzIGNvbnRhaW5lciBmb3IgcmVuZGVyaW5nXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiB1cGRhdGVUcmFuc2Zvcm0gKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnNvcnRhYmxlQ2hpbGRyZW4gJiYgdGhpcy5zb3J0RGlydHkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc29ydENoaWxkcmVuKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuXG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnVwZGF0ZVRyYW5zZm9ybSh0aGlzLnBhcmVudC50cmFuc2Zvcm0pO1xuXG4gICAgICAgIC8vIFRPRE86IGNoZWNrIHJlbmRlciBmbGFncywgaG93IHRvIHByb2Nlc3Mgc3R1ZmYgaGVyZVxuICAgICAgICB0aGlzLndvcmxkQWxwaGEgPSB0aGlzLmFscGhhICogdGhpcy5wYXJlbnQud29ybGRBbHBoYTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgajsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xuXG4gICAgICAgICAgICBpZiAoY2hpbGQudmlzaWJsZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjaGlsZC51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZWNhbGN1bGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgY29udGFpbmVyLlxuICAgICAqXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiBjYWxjdWxhdGVCb3VuZHMgKClcbiAgICB7XG4gICAgICAgIHRoaXMuX2JvdW5kcy5jbGVhcigpO1xuXG4gICAgICAgIHRoaXMuX2NhbGN1bGF0ZUJvdW5kcygpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcblxuICAgICAgICAgICAgaWYgKCFjaGlsZC52aXNpYmxlIHx8ICFjaGlsZC5yZW5kZXJhYmxlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjaGlsZC5jYWxjdWxhdGVCb3VuZHMoKTtcblxuICAgICAgICAgICAgLy8gVE9ETzogZmlsdGVyK21hc2ssIG5lZWQgdG8gbWFzayBib3RoIHNvbWVob3dcbiAgICAgICAgICAgIGlmIChjaGlsZC5fbWFzaylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjaGlsZC5fbWFzay5jYWxjdWxhdGVCb3VuZHMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9ib3VuZHMuYWRkQm91bmRzTWFzayhjaGlsZC5fYm91bmRzLCBjaGlsZC5fbWFzay5fYm91bmRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoaWxkLmZpbHRlckFyZWEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYm91bmRzLmFkZEJvdW5kc0FyZWEoY2hpbGQuX2JvdW5kcywgY2hpbGQuZmlsdGVyQXJlYSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYm91bmRzLmFkZEJvdW5kcyhjaGlsZC5fYm91bmRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2xhc3RCb3VuZHNJRCA9IHRoaXMuX2JvdW5kc0lEO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZWNhbGN1bGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgb2JqZWN0LiBPdmVycmlkZSB0aGlzIHRvXG4gICAgICogY2FsY3VsYXRlIHRoZSBib3VuZHMgb2YgdGhlIHNwZWNpZmljIG9iamVjdCAobm90IGluY2x1ZGluZyBjaGlsZHJlbikuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5fY2FsY3VsYXRlQm91bmRzID0gZnVuY3Rpb24gX2NhbGN1bGF0ZUJvdW5kcyAoKVxuICAgIHtcbiAgICAgICAgLy8gRklMTCBJTi8vXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlciAocmVuZGVyZXIpXG4gICAge1xuICAgICAgICAvLyBpZiB0aGUgb2JqZWN0IGlzIG5vdCB2aXNpYmxlIG9yIHRoZSBhbHBoYSBpcyAwIHRoZW4gbm8gbmVlZCB0byByZW5kZXIgdGhpcyBlbGVtZW50XG4gICAgICAgIGlmICghdGhpcy52aXNpYmxlIHx8IHRoaXMud29ybGRBbHBoYSA8PSAwIHx8ICF0aGlzLnJlbmRlcmFibGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRvIGEgcXVpY2sgY2hlY2sgdG8gc2VlIGlmIHRoaXMgZWxlbWVudCBoYXMgYSBtYXNrIG9yIGEgZmlsdGVyLlxuICAgICAgICBpZiAodGhpcy5fbWFzayB8fCAodGhpcy5maWx0ZXJzICYmIHRoaXMuZmlsdGVycy5sZW5ndGgpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlckFkdmFuY2VkKHJlbmRlcmVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcihyZW5kZXJlcik7XG5cbiAgICAgICAgICAgIC8vIHNpbXBsZSByZW5kZXIgY2hpbGRyZW4hXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgajsgKytpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5baV0ucmVuZGVyKHJlbmRlcmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXIgYW5kIGFkdmFuY2VkIGZlYXR1cmVzLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLnJlbmRlckFkdmFuY2VkID0gZnVuY3Rpb24gcmVuZGVyQWR2YW5jZWQgKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgcmVuZGVyZXIuYmF0Y2guZmx1c2goKTtcblxuICAgICAgICB2YXIgZmlsdGVycyA9IHRoaXMuZmlsdGVycztcbiAgICAgICAgdmFyIG1hc2sgPSB0aGlzLl9tYXNrO1xuXG4gICAgICAgIC8vIHB1c2ggZmlsdGVyIGZpcnN0IGFzIHdlIG5lZWQgdG8gZW5zdXJlIHRoZSBzdGVuY2lsIGJ1ZmZlciBpcyBjb3JyZWN0IGZvciBhbnkgbWFza2luZ1xuICAgICAgICBpZiAoZmlsdGVycylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9lbmFibGVkRmlsdGVycylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbmFibGVkRmlsdGVycyA9IFtdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9lbmFibGVkRmlsdGVycy5sZW5ndGggPSAwO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbHRlcnMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGZpbHRlcnNbaV0uZW5hYmxlZClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VuYWJsZWRGaWx0ZXJzLnB1c2goZmlsdGVyc1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5fZW5hYmxlZEZpbHRlcnMubGVuZ3RoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLmZpbHRlci5wdXNoKHRoaXMsIHRoaXMuX2VuYWJsZWRGaWx0ZXJzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtYXNrKVxuICAgICAgICB7XG4gICAgICAgICAgICByZW5kZXJlci5tYXNrLnB1c2godGhpcywgdGhpcy5fbWFzayk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhZGQgdGhpcyBvYmplY3QgdG8gdGhlIGJhdGNoLCBvbmx5IHJlbmRlcmVkIGlmIGl0IGhhcyBhIHRleHR1cmUuXG4gICAgICAgIHRoaXMuX3JlbmRlcihyZW5kZXJlcik7XG5cbiAgICAgICAgLy8gbm93IGxvb3AgdGhyb3VnaCB0aGUgY2hpbGRyZW4gYW5kIG1ha2Ugc3VyZSB0aGV5IGdldCByZW5kZXJlZFxuICAgICAgICBmb3IgKHZhciBpJDEgPSAwLCBqID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkkMSA8IGo7IGkkMSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuW2kkMV0ucmVuZGVyKHJlbmRlcmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlcmVyLmJhdGNoLmZsdXNoKCk7XG5cbiAgICAgICAgaWYgKG1hc2spXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLm1hc2sucG9wKHRoaXMsIHRoaXMuX21hc2spO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZpbHRlcnMgJiYgdGhpcy5fZW5hYmxlZEZpbHRlcnMgJiYgdGhpcy5fZW5hYmxlZEZpbHRlcnMubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICByZW5kZXJlci5maWx0ZXIucG9wKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVG8gYmUgb3ZlcnJpZGRlbiBieSB0aGUgc3ViY2xhc3Nlcy5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5fcmVuZGVyID0gZnVuY3Rpb24gX3JlbmRlciAocmVuZGVyZXIpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICB7XG4gICAgICAgIC8vIHRoaXMgaXMgd2hlcmUgY29udGVudCBpdHNlbGYgZ2V0cyByZW5kZXJlZC4uLlxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBpbnRlcm5hbCByZWZlcmVuY2VzIGFuZCBsaXN0ZW5lcnMgYXMgd2VsbCBhcyByZW1vdmVzIGNoaWxkcmVuIGZyb20gdGhlIGRpc3BsYXkgbGlzdC5cbiAgICAgKiBEbyBub3QgdXNlIGEgQ29udGFpbmVyIGFmdGVyIGNhbGxpbmcgYGRlc3Ryb3lgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpciBkZXN0cm95XG4gICAgICogIG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95IChvcHRpb25zKVxuICAgIHtcbiAgICAgICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuc29ydERpcnR5ID0gZmFsc2U7XG5cbiAgICAgICAgdmFyIGRlc3Ryb3lDaGlsZHJlbiA9IHR5cGVvZiBvcHRpb25zID09PSAnYm9vbGVhbicgPyBvcHRpb25zIDogb3B0aW9ucyAmJiBvcHRpb25zLmNoaWxkcmVuO1xuXG4gICAgICAgIHZhciBvbGRDaGlsZHJlbiA9IHRoaXMucmVtb3ZlQ2hpbGRyZW4oMCwgdGhpcy5jaGlsZHJlbi5sZW5ndGgpO1xuXG4gICAgICAgIGlmIChkZXN0cm95Q2hpbGRyZW4pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2xkQ2hpbGRyZW4ubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgb2xkQ2hpbGRyZW5baV0uZGVzdHJveShvcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggb2YgdGhlIENvbnRhaW5lciwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMud2lkdGguZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjYWxlLnggKiB0aGlzLmdldExvY2FsQm91bmRzKCkud2lkdGg7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy53aWR0aC5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5nZXRMb2NhbEJvdW5kcygpLndpZHRoO1xuXG4gICAgICAgIGlmICh3aWR0aCAhPT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zY2FsZS54ID0gdmFsdWUgLyB3aWR0aDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc2NhbGUueCA9IDE7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl93aWR0aCA9IHZhbHVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBDb250YWluZXIsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmhlaWdodC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NhbGUueSAqIHRoaXMuZ2V0TG9jYWxCb3VuZHMoKS5oZWlnaHQ7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5oZWlnaHQuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmdldExvY2FsQm91bmRzKCkuaGVpZ2h0O1xuXG4gICAgICAgIGlmIChoZWlnaHQgIT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc2NhbGUueSA9IHZhbHVlIC8gaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zY2FsZS55ID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2hlaWdodCA9IHZhbHVlO1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggQ29udGFpbmVyLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbiAgICByZXR1cm4gQ29udGFpbmVyO1xufShEaXNwbGF5T2JqZWN0KSk7XG5cbi8vIHBlcmZvcm1hbmNlIGluY3JlYXNlIHRvIGF2b2lkIHVzaW5nIGNhbGwuLiAoMTB4IGZhc3RlcilcbkNvbnRhaW5lci5wcm90b3R5cGUuY29udGFpbmVyVXBkYXRlVHJhbnNmb3JtID0gQ29udGFpbmVyLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm07XG5cbmV4cG9ydCB7IEJvdW5kcywgQ29udGFpbmVyLCBEaXNwbGF5T2JqZWN0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kaXNwbGF5LmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9hY2Nlc3NpYmlsaXR5IC0gdjUuMS40XG4gKiBDb21waWxlZCBGcmksIDIwIFNlcCAyMDE5IDE3OjE3OjU5IFVUQ1xuICpcbiAqIEBwaXhpL2FjY2Vzc2liaWxpdHkgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBpc01vYmlsZSwgcmVtb3ZlSXRlbXMgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBEaXNwbGF5T2JqZWN0IH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5cbi8qKlxuICogRGVmYXVsdCBwcm9wZXJ0eSB2YWx1ZXMgb2YgYWNjZXNzaWJsZSBvYmplY3RzXG4gKiB1c2VkIGJ5IHtAbGluayBQSVhJLmFjY2Vzc2liaWxpdHkuQWNjZXNzaWJpbGl0eU1hbmFnZXJ9LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAZnVuY3Rpb24gYWNjZXNzaWJsZVRhcmdldFxuICogQG1lbWJlcm9mIFBJWEkuYWNjZXNzaWJpbGl0eVxuICogQHR5cGUge09iamVjdH1cbiAqIEBleGFtcGxlXG4gKiAgICAgIGZ1bmN0aW9uIE15T2JqZWN0KCkge31cbiAqXG4gKiAgICAgIE9iamVjdC5hc3NpZ24oXG4gKiAgICAgICAgICBNeU9iamVjdC5wcm90b3R5cGUsXG4gKiAgICAgICAgICBQSVhJLmFjY2Vzc2liaWxpdHkuYWNjZXNzaWJsZVRhcmdldFxuICogICAgICApO1xuICovXG52YXIgYWNjZXNzaWJsZVRhcmdldCA9IHtcbiAgICAvKipcbiAgICAgKiAgRmxhZyBmb3IgaWYgdGhlIG9iamVjdCBpcyBhY2Nlc3NpYmxlLiBJZiB0cnVlIEFjY2Vzc2liaWxpdHlNYW5hZ2VyIHdpbGwgb3ZlcmxheSBhXG4gICAgICogICBzaGFkb3cgZGl2IHdpdGggYXR0cmlidXRlcyBzZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKi9cbiAgICBhY2Nlc3NpYmxlOiBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHRpdGxlIGF0dHJpYnV0ZSBvZiB0aGUgc2hhZG93IGRpdlxuICAgICAqIElmIGFjY2Vzc2libGVUaXRsZSBBTkQgYWNjZXNzaWJsZUhpbnQgaGFzIG5vdCBiZWVuIHRoaXMgd2lsbCBkZWZhdWx0IHRvICdkaXNwbGF5T2JqZWN0IFt0YWJJbmRleF0nXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHs/c3RyaW5nfVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICovXG4gICAgYWNjZXNzaWJsZVRpdGxlOiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYXJpYS1sYWJlbCBhdHRyaWJ1dGUgb2YgdGhlIHNoYWRvdyBkaXZcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqL1xuICAgIGFjY2Vzc2libGVIaW50OiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdG9kbyBOZWVkcyBkb2NzLlxuICAgICAqL1xuICAgIHRhYkluZGV4OiAwLFxuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqIEB0b2RvIE5lZWRzIGRvY3MuXG4gICAgICovXG4gICAgX2FjY2Vzc2libGVBY3RpdmU6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqIEB0b2RvIE5lZWRzIGRvY3MuXG4gICAgICovXG4gICAgX2FjY2Vzc2libGVEaXY6IGZhbHNlLFxufTtcblxuLy8gYWRkIHNvbWUgZXh0cmEgdmFyaWFibGVzIHRvIHRoZSBjb250YWluZXIuLlxuRGlzcGxheU9iamVjdC5taXhpbihhY2Nlc3NpYmxlVGFyZ2V0KTtcblxudmFyIEtFWV9DT0RFX1RBQiA9IDk7XG5cbnZhciBESVZfVE9VQ0hfU0laRSA9IDEwMDtcbnZhciBESVZfVE9VQ0hfUE9TX1ggPSAwO1xudmFyIERJVl9UT1VDSF9QT1NfWSA9IDA7XG52YXIgRElWX1RPVUNIX1pJTkRFWCA9IDI7XG5cbnZhciBESVZfSE9PS19TSVpFID0gMTtcbnZhciBESVZfSE9PS19QT1NfWCA9IC0xMDAwO1xudmFyIERJVl9IT09LX1BPU19ZID0gLTEwMDA7XG52YXIgRElWX0hPT0tfWklOREVYID0gMjtcblxuLyoqXG4gKiBUaGUgQWNjZXNzaWJpbGl0eSBtYW5hZ2VyIHJlY3JlYXRlcyB0aGUgYWJpbGl0eSB0byB0YWIgYW5kIGhhdmUgY29udGVudCByZWFkIGJ5IHNjcmVlbiByZWFkZXJzLlxuICogVGhpcyBpcyB2ZXJ5IGltcG9ydGFudCBhcyBpdCBjYW4gcG9zc2libHkgaGVscCBwZW9wbGUgd2l0aCBkaXNhYmlsaXRpZXMgYWNjZXNzIFBpeGlKUyBjb250ZW50LlxuICpcbiAqIEEgRGlzcGxheU9iamVjdCBjYW4gYmUgbWFkZSBhY2Nlc3NpYmxlIGp1c3QgbGlrZSBpdCBjYW4gYmUgbWFkZSBpbnRlcmFjdGl2ZS4gVGhpcyBtYW5hZ2VyIHdpbGwgbWFwIHRoZVxuICogZXZlbnRzIGFzIGlmIHRoZSBtb3VzZSB3YXMgYmVpbmcgdXNlZCwgbWluaW1pemluZyB0aGUgZWZmb3J0IHJlcXVpcmVkIHRvIGltcGxlbWVudC5cbiAqXG4gKiBBbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgY3JlYXRlZCBieSBkZWZhdWx0LCBhbmQgY2FuIGJlIGZvdW5kIGF0IGByZW5kZXJlci5wbHVnaW5zLmFjY2Vzc2liaWxpdHlgXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5hY2Nlc3NpYmlsaXR5XG4gKi9cbnZhciBBY2Nlc3NpYmlsaXR5TWFuYWdlciA9IGZ1bmN0aW9uIEFjY2Vzc2liaWxpdHlNYW5hZ2VyKHJlbmRlcmVyKVxue1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHs/SFRNTEVsZW1lbnR9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9ob29rRGl2ID0gbnVsbDtcbiAgICBpZiAoaXNNb2JpbGUudGFibGV0IHx8IGlzTW9iaWxlLnBob25lKVxuICAgIHtcbiAgICAgICAgdGhpcy5jcmVhdGVUb3VjaEhvb2soKTtcbiAgICB9XG5cbiAgICAvLyBmaXJzdCB3ZSBjcmVhdGUgYSBkaXYgdGhhdCB3aWxsIHNpdCBvdmVyIHRoZSBQaXhpSlMgZWxlbWVudC4gVGhpcyBpcyB3aGVyZSB0aGUgZGl2IG92ZXJsYXlzIHdpbGwgZ28uXG4gICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgZGl2LnN0eWxlLndpZHRoID0gRElWX1RPVUNIX1NJWkUgKyBcInB4XCI7XG4gICAgZGl2LnN0eWxlLmhlaWdodCA9IERJVl9UT1VDSF9TSVpFICsgXCJweFwiO1xuICAgIGRpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgZGl2LnN0eWxlLnRvcCA9IERJVl9UT1VDSF9QT1NfWCArIFwicHhcIjtcbiAgICBkaXYuc3R5bGUubGVmdCA9IERJVl9UT1VDSF9QT1NfWSArIFwicHhcIjtcbiAgICBkaXYuc3R5bGUuekluZGV4ID0gRElWX1RPVUNIX1pJTkRFWDtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgaXMgdGhlIGRvbSBlbGVtZW50IHRoYXQgd2lsbCBzaXQgb3ZlciB0aGUgUGl4aUpTIGVsZW1lbnQuIFRoaXMgaXMgd2hlcmUgdGhlIGRpdiBvdmVybGF5cyB3aWxsIGdvLlxuICAgICAqXG4gICAgICogQHR5cGUge0hUTUxFbGVtZW50fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5kaXYgPSBkaXY7XG5cbiAgICAvKipcbiAgICAgKiBBIHNpbXBsZSBwb29sIGZvciBzdG9yaW5nIGRpdnMuXG4gICAgICpcbiAgICAgKiBAdHlwZSB7Kn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMucG9vbCA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBpcyBhIHRpY2sgdXNlZCB0byBjaGVjayBpZiBhbiBvYmplY3QgaXMgbm8gbG9uZ2VyIGJlaW5nIHJlbmRlcmVkLlxuICAgICAqXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMucmVuZGVySWQgPSAwO1xuXG4gICAgLyoqXG4gICAgICogU2V0dGluZyB0aGlzIHRvIHRydWUgd2lsbCB2aXN1YWxseSBzaG93IHRoZSBkaXZzLlxuICAgICAqXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5kZWJ1ZyA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHJlbmRlcmVyIHRoaXMgYWNjZXNzaWJpbGl0eSBtYW5hZ2VyIHdvcmtzIGZvci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuQWJzdHJhY3RSZW5kZXJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYXJyYXkgb2YgY3VycmVudGx5IGFjdGl2ZSBhY2Nlc3NpYmxlIGl0ZW1zLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7QXJyYXk8Kj59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmNoaWxkcmVuID0gW107XG5cbiAgICAvKipcbiAgICAgKiBwcmUtYmluZCB0aGUgZnVuY3Rpb25zXG4gICAgICpcbiAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9vbktleURvd24gPSB0aGlzLl9vbktleURvd24uYmluZCh0aGlzKTtcblxuICAgIC8qKlxuICAgICAqIHByZS1iaW5kIHRoZSBmdW5jdGlvbnNcbiAgICAgKlxuICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX29uTW91c2VNb3ZlID0gdGhpcy5fb25Nb3VzZU1vdmUuYmluZCh0aGlzKTtcblxuICAgIC8qKlxuICAgICAqIEEgZmxhZ1xuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIHRoaXMuaXNBY3RpdmUgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEEgZmxhZ1xuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIHRoaXMuaXNNb2JpbGVBY2Nlc3NpYmlsaXR5ID0gZmFsc2U7XG5cbiAgICAvLyBsZXQgbGlzdGVuIGZvciB0YWIuLiBvbmNlIHByZXNzZWQgd2UgY2FuIGZpcmUgdXAgYW5kIHNob3cgdGhlIGFjY2Vzc2liaWxpdHkgbGF5ZXJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93biwgZmFsc2UpO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIHRoZSB0b3VjaCBob29rcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5BY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuY3JlYXRlVG91Y2hIb29rID0gZnVuY3Rpb24gY3JlYXRlVG91Y2hIb29rICgpXG57XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgdmFyIGhvb2tEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcblxuICAgIGhvb2tEaXYuc3R5bGUud2lkdGggPSBESVZfSE9PS19TSVpFICsgXCJweFwiO1xuICAgIGhvb2tEaXYuc3R5bGUuaGVpZ2h0ID0gRElWX0hPT0tfU0laRSArIFwicHhcIjtcbiAgICBob29rRGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICBob29rRGl2LnN0eWxlLnRvcCA9IERJVl9IT09LX1BPU19YICsgXCJweFwiO1xuICAgIGhvb2tEaXYuc3R5bGUubGVmdCA9IERJVl9IT09LX1BPU19ZICsgXCJweFwiO1xuICAgIGhvb2tEaXYuc3R5bGUuekluZGV4ID0gRElWX0hPT0tfWklOREVYO1xuICAgIGhvb2tEaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNGRjAwMDAnO1xuICAgIGhvb2tEaXYudGl0bGUgPSAnSE9PSyBESVYnO1xuXG4gICAgaG9va0Rpdi5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcyQxLmlzTW9iaWxlQWNjZXNzaWJpbGl0eSA9IHRydWU7XG4gICAgICAgIHRoaXMkMS5hY3RpdmF0ZSgpO1xuICAgICAgICB0aGlzJDEuZGVzdHJveVRvdWNoSG9vaygpO1xuICAgIH0pO1xuXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChob29rRGl2KTtcbiAgICB0aGlzLl9ob29rRGl2ID0gaG9va0Rpdjtcbn07XG5cbi8qKlxuICogRGVzdHJveXMgdGhlIHRvdWNoIGhvb2tzLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbkFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5kZXN0cm95VG91Y2hIb29rID0gZnVuY3Rpb24gZGVzdHJveVRvdWNoSG9vayAoKVxue1xuICAgIGlmICghdGhpcy5faG9va0RpdilcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLl9ob29rRGl2KTtcbiAgICB0aGlzLl9ob29rRGl2ID0gbnVsbDtcbn07XG5cbi8qKlxuICogQWN0aXZhdGluZyB3aWxsIGNhdXNlIHRoZSBBY2Nlc3NpYmlsaXR5IGxheWVyIHRvIGJlIHNob3duLlxuICogVGhpcyBpcyBjYWxsZWQgd2hlbiBhIHVzZXIgcHJlc3NlcyB0aGUgdGFiIGtleS5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5BY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuYWN0aXZhdGUgPSBmdW5jdGlvbiBhY3RpdmF0ZSAoKVxue1xuICAgIGlmICh0aGlzLmlzQWN0aXZlKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuaXNBY3RpdmUgPSB0cnVlO1xuXG4gICAgd2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX29uTW91c2VNb3ZlLCB0cnVlKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93biwgZmFsc2UpO1xuXG4gICAgdGhpcy5yZW5kZXJlci5vbigncG9zdHJlbmRlcicsIHRoaXMudXBkYXRlLCB0aGlzKTtcblxuICAgIGlmICh0aGlzLnJlbmRlcmVyLnZpZXcucGFyZW50Tm9kZSlcbiAgICB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIudmlldy5wYXJlbnROb2RlLmFwcGVuZENoaWxkKHRoaXMuZGl2KTtcbiAgICB9XG59O1xuXG4vKipcbiAqIERlYWN0aXZhdGluZyB3aWxsIGNhdXNlIHRoZSBBY2Nlc3NpYmlsaXR5IGxheWVyIHRvIGJlIGhpZGRlbi5cbiAqIFRoaXMgaXMgY2FsbGVkIHdoZW4gYSB1c2VyIG1vdmVzIHRoZSBtb3VzZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5BY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuZGVhY3RpdmF0ZSA9IGZ1bmN0aW9uIGRlYWN0aXZhdGUgKClcbntcbiAgICBpZiAoIXRoaXMuaXNBY3RpdmUgfHwgdGhpcy5pc01vYmlsZUFjY2Vzc2liaWxpdHkpXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5pc0FjdGl2ZSA9IGZhbHNlO1xuXG4gICAgd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX29uTW91c2VNb3ZlLCB0cnVlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93biwgZmFsc2UpO1xuXG4gICAgdGhpcy5yZW5kZXJlci5vZmYoJ3Bvc3RyZW5kZXInLCB0aGlzLnVwZGF0ZSk7XG5cbiAgICBpZiAodGhpcy5kaXYucGFyZW50Tm9kZSlcbiAgICB7XG4gICAgICAgIHRoaXMuZGl2LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5kaXYpO1xuICAgIH1cbn07XG5cbi8qKlxuICogVGhpcyByZWN1cnNpdmUgZnVuY3Rpb24gd2lsbCBydW4gdGhyb3VnaCB0aGUgc2NlbmUgZ3JhcGggYW5kIGFkZCBhbnkgbmV3IGFjY2Vzc2libGUgb2JqZWN0cyB0byB0aGUgRE9NIGxheWVyLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfSBkaXNwbGF5T2JqZWN0IC0gVGhlIERpc3BsYXlPYmplY3QgdG8gY2hlY2suXG4gKi9cbkFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS51cGRhdGVBY2Nlc3NpYmxlT2JqZWN0cyA9IGZ1bmN0aW9uIHVwZGF0ZUFjY2Vzc2libGVPYmplY3RzIChkaXNwbGF5T2JqZWN0KVxue1xuICAgIGlmICghZGlzcGxheU9iamVjdC52aXNpYmxlKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGUgJiYgZGlzcGxheU9iamVjdC5pbnRlcmFjdGl2ZSlcbiAgICB7XG4gICAgICAgIGlmICghZGlzcGxheU9iamVjdC5fYWNjZXNzaWJsZUFjdGl2ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChkaXNwbGF5T2JqZWN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRpc3BsYXlPYmplY3QucmVuZGVySWQgPSB0aGlzLnJlbmRlcklkO1xuICAgIH1cblxuICAgIHZhciBjaGlsZHJlbiA9IGRpc3BsYXlPYmplY3QuY2hpbGRyZW47XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgICAgdGhpcy51cGRhdGVBY2Nlc3NpYmxlT2JqZWN0cyhjaGlsZHJlbltpXSk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBCZWZvcmUgZWFjaCByZW5kZXIgdGhpcyBmdW5jdGlvbiB3aWxsIGVuc3VyZSB0aGF0IGFsbCBkaXZzIGFyZSBtYXBwZWQgY29ycmVjdGx5IHRvIHRoZWlyIERpc3BsYXlPYmplY3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbkFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUgKClcbntcbiAgICBpZiAoIXRoaXMucmVuZGVyZXIucmVuZGVyaW5nVG9TY3JlZW4pXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gdXBkYXRlIGNoaWxkcmVuLi4uXG4gICAgdGhpcy51cGRhdGVBY2Nlc3NpYmxlT2JqZWN0cyh0aGlzLnJlbmRlcmVyLl9sYXN0T2JqZWN0UmVuZGVyZWQpO1xuXG4gICAgdmFyIHJlY3QgPSB0aGlzLnJlbmRlcmVyLnZpZXcuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgdmFyIHN4ID0gcmVjdC53aWR0aCAvIHRoaXMucmVuZGVyZXIud2lkdGg7XG4gICAgdmFyIHN5ID0gcmVjdC5oZWlnaHQgLyB0aGlzLnJlbmRlcmVyLmhlaWdodDtcblxuICAgIHZhciBkaXYgPSB0aGlzLmRpdjtcblxuICAgIGRpdi5zdHlsZS5sZWZ0ID0gKHJlY3QubGVmdCkgKyBcInB4XCI7XG4gICAgZGl2LnN0eWxlLnRvcCA9IChyZWN0LnRvcCkgKyBcInB4XCI7XG4gICAgZGl2LnN0eWxlLndpZHRoID0gKHRoaXMucmVuZGVyZXIud2lkdGgpICsgXCJweFwiO1xuICAgIGRpdi5zdHlsZS5oZWlnaHQgPSAodGhpcy5yZW5kZXJlci5oZWlnaHQpICsgXCJweFwiO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcblxuICAgICAgICBpZiAoY2hpbGQucmVuZGVySWQgIT09IHRoaXMucmVuZGVySWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNoaWxkLl9hY2Nlc3NpYmxlQWN0aXZlID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHJlbW92ZUl0ZW1zKHRoaXMuY2hpbGRyZW4sIGksIDEpO1xuICAgICAgICAgICAgdGhpcy5kaXYucmVtb3ZlQ2hpbGQoY2hpbGQuX2FjY2Vzc2libGVEaXYpO1xuICAgICAgICAgICAgdGhpcy5wb29sLnB1c2goY2hpbGQuX2FjY2Vzc2libGVEaXYpO1xuICAgICAgICAgICAgY2hpbGQuX2FjY2Vzc2libGVEaXYgPSBudWxsO1xuXG4gICAgICAgICAgICBpLS07XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlYWN0aXZhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIG1hcCBkaXYgdG8gZGlzcGxheS4uXG4gICAgICAgICAgICBkaXYgPSBjaGlsZC5fYWNjZXNzaWJsZURpdjtcbiAgICAgICAgICAgIHZhciBoaXRBcmVhID0gY2hpbGQuaGl0QXJlYTtcbiAgICAgICAgICAgIHZhciB3dCA9IGNoaWxkLndvcmxkVHJhbnNmb3JtO1xuXG4gICAgICAgICAgICBpZiAoY2hpbGQuaGl0QXJlYSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkaXYuc3R5bGUubGVmdCA9ICgod3QudHggKyAoaGl0QXJlYS54ICogd3QuYSkpICogc3gpICsgXCJweFwiO1xuICAgICAgICAgICAgICAgIGRpdi5zdHlsZS50b3AgPSAoKHd0LnR5ICsgKGhpdEFyZWEueSAqIHd0LmQpKSAqIHN5KSArIFwicHhcIjtcblxuICAgICAgICAgICAgICAgIGRpdi5zdHlsZS53aWR0aCA9IChoaXRBcmVhLndpZHRoICogd3QuYSAqIHN4KSArIFwicHhcIjtcbiAgICAgICAgICAgICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gKGhpdEFyZWEuaGVpZ2h0ICogd3QuZCAqIHN5KSArIFwicHhcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBoaXRBcmVhID0gY2hpbGQuZ2V0Qm91bmRzKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNhcEhpdEFyZWEoaGl0QXJlYSk7XG5cbiAgICAgICAgICAgICAgICBkaXYuc3R5bGUubGVmdCA9IChoaXRBcmVhLnggKiBzeCkgKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgZGl2LnN0eWxlLnRvcCA9IChoaXRBcmVhLnkgKiBzeSkgKyBcInB4XCI7XG5cbiAgICAgICAgICAgICAgICBkaXYuc3R5bGUud2lkdGggPSAoaGl0QXJlYS53aWR0aCAqIHN4KSArIFwicHhcIjtcbiAgICAgICAgICAgICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gKGhpdEFyZWEuaGVpZ2h0ICogc3kpICsgXCJweFwiO1xuXG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIGJ1dHRvbiB0aXRsZXMgYW5kIGhpbnRzIGlmIHRoZXkgZXhpc3QgYW5kIHRoZXkndmUgY2hhbmdlZFxuICAgICAgICAgICAgICAgIGlmIChkaXYudGl0bGUgIT09IGNoaWxkLmFjY2Vzc2libGVUaXRsZSAmJiBjaGlsZC5hY2Nlc3NpYmxlVGl0bGUgIT09IG51bGwpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkaXYudGl0bGUgPSBjaGlsZC5hY2Nlc3NpYmxlVGl0bGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkaXYuZ2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJykgIT09IGNoaWxkLmFjY2Vzc2libGVIaW50XG4gICAgICAgICAgICAgICAgICAgICYmIGNoaWxkLmFjY2Vzc2libGVIaW50ICE9PSBudWxsKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIGNoaWxkLmFjY2Vzc2libGVIaW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBpbmNyZW1lbnQgdGhlIHJlbmRlciBpZC4uXG4gICAgdGhpcy5yZW5kZXJJZCsrO1xufTtcblxuLyoqXG4gKiBBZGp1c3QgdGhlIGhpdCBhcmVhIGJhc2VkIG9uIHRoZSBib3VuZHMgb2YgYSBkaXNwbGF5IG9iamVjdFxuICpcbiAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGhpdEFyZWEgLSBCb3VuZHMgb2YgdGhlIGNoaWxkXG4gKi9cbkFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5jYXBIaXRBcmVhID0gZnVuY3Rpb24gY2FwSGl0QXJlYSAoaGl0QXJlYSlcbntcbiAgICBpZiAoaGl0QXJlYS54IDwgMClcbiAgICB7XG4gICAgICAgIGhpdEFyZWEud2lkdGggKz0gaGl0QXJlYS54O1xuICAgICAgICBoaXRBcmVhLnggPSAwO1xuICAgIH1cblxuICAgIGlmIChoaXRBcmVhLnkgPCAwKVxuICAgIHtcbiAgICAgICAgaGl0QXJlYS5oZWlnaHQgKz0gaGl0QXJlYS55O1xuICAgICAgICBoaXRBcmVhLnkgPSAwO1xuICAgIH1cblxuICAgIGlmIChoaXRBcmVhLnggKyBoaXRBcmVhLndpZHRoID4gdGhpcy5yZW5kZXJlci53aWR0aClcbiAgICB7XG4gICAgICAgIGhpdEFyZWEud2lkdGggPSB0aGlzLnJlbmRlcmVyLndpZHRoIC0gaGl0QXJlYS54O1xuICAgIH1cblxuICAgIGlmIChoaXRBcmVhLnkgKyBoaXRBcmVhLmhlaWdodCA+IHRoaXMucmVuZGVyZXIuaGVpZ2h0KVxuICAgIHtcbiAgICAgICAgaGl0QXJlYS5oZWlnaHQgPSB0aGlzLnJlbmRlcmVyLmhlaWdodCAtIGhpdEFyZWEueTtcbiAgICB9XG59O1xuXG4vKipcbiAqIEFkZHMgYSBEaXNwbGF5T2JqZWN0IHRvIHRoZSBhY2Nlc3NpYmlsaXR5IG1hbmFnZXJcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGRpc3BsYXlPYmplY3QgLSBUaGUgY2hpbGQgdG8gbWFrZSBhY2Nlc3NpYmxlLlxuICovXG5BY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuYWRkQ2hpbGQgPSBmdW5jdGlvbiBhZGRDaGlsZCAoZGlzcGxheU9iamVjdClcbntcbiAgICAvL3RoaXMuYWN0aXZhdGUoKTtcblxuICAgIHZhciBkaXYgPSB0aGlzLnBvb2wucG9wKCk7XG5cbiAgICBpZiAoIWRpdilcbiAgICB7XG4gICAgICAgIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuXG4gICAgICAgIGRpdi5zdHlsZS53aWR0aCA9IERJVl9UT1VDSF9TSVpFICsgXCJweFwiO1xuICAgICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gRElWX1RPVUNIX1NJWkUgKyBcInB4XCI7XG4gICAgICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLmRlYnVnID8gJ3JnYmEoMjU1LDAsMCwwLjUpJyA6ICd0cmFuc3BhcmVudCc7XG4gICAgICAgIGRpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIGRpdi5zdHlsZS56SW5kZXggPSBESVZfVE9VQ0hfWklOREVYO1xuICAgICAgICBkaXYuc3R5bGUuYm9yZGVyU3R5bGUgPSAnbm9uZSc7XG5cbiAgICAgICAgLy8gQVJJQSBhdHRyaWJ1dGVzIGVuc3VyZSB0aGF0IGJ1dHRvbiB0aXRsZSBhbmQgaGludCB1cGRhdGVzIGFyZSBhbm5vdW5jZWQgcHJvcGVybHlcbiAgICAgICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKCdjaHJvbWUnKSA+IC0xKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBDaHJvbWUgZG9lc24ndCBuZWVkIGFyaWEtbGl2ZSB0byB3b3JrIGFzIGludGVuZGVkOyBpbiBmYWN0IGl0IGp1c3QgZ2V0cyBtb3JlIGNvbmZ1c2VkLlxuICAgICAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnYXJpYS1saXZlJywgJ29mZicpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnYXJpYS1saXZlJywgJ3BvbGl0ZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL3J2Oi4qR2Vja29cXC8vKSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gRmlyZUZveCBuZWVkcyB0aGlzIHRvIGFubm91bmNlIG9ubHkgdGhlIG5ldyBidXR0b24gbmFtZVxuICAgICAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnYXJpYS1yZWxldmFudCcsICdhZGRpdGlvbnMnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHJlcXVpcmVkIGJ5IElFLCBvdGhlciBicm93c2VycyBkb24ndCBtdWNoIGNhcmVcbiAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2FyaWEtcmVsZXZhbnQnLCAndGV4dCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fb25DbGljay5iaW5kKHRoaXMpKTtcbiAgICAgICAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5fb25Gb2N1cy5iaW5kKHRoaXMpKTtcbiAgICAgICAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3Vzb3V0JywgdGhpcy5fb25Gb2N1c091dC5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICBpZiAoZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlVGl0bGUgJiYgZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlVGl0bGUgIT09IG51bGwpXG4gICAge1xuICAgICAgICBkaXYudGl0bGUgPSBkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVUaXRsZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoIWRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZUhpbnRcbiAgICAgICAgICAgICB8fCBkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVIaW50ID09PSBudWxsKVxuICAgIHtcbiAgICAgICAgZGl2LnRpdGxlID0gXCJkaXNwbGF5T2JqZWN0IFwiICsgKGRpc3BsYXlPYmplY3QudGFiSW5kZXgpO1xuICAgIH1cblxuICAgIGlmIChkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVIaW50XG4gICAgICAgICYmIGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZUhpbnQgIT09IG51bGwpXG4gICAge1xuICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlSGludCk7XG4gICAgfVxuXG4gICAgLy9cblxuICAgIGRpc3BsYXlPYmplY3QuX2FjY2Vzc2libGVBY3RpdmUgPSB0cnVlO1xuICAgIGRpc3BsYXlPYmplY3QuX2FjY2Vzc2libGVEaXYgPSBkaXY7XG4gICAgZGl2LmRpc3BsYXlPYmplY3QgPSBkaXNwbGF5T2JqZWN0O1xuXG4gICAgdGhpcy5jaGlsZHJlbi5wdXNoKGRpc3BsYXlPYmplY3QpO1xuICAgIHRoaXMuZGl2LmFwcGVuZENoaWxkKGRpc3BsYXlPYmplY3QuX2FjY2Vzc2libGVEaXYpO1xuICAgIGRpc3BsYXlPYmplY3QuX2FjY2Vzc2libGVEaXYudGFiSW5kZXggPSBkaXNwbGF5T2JqZWN0LnRhYkluZGV4O1xufTtcblxuLyoqXG4gKiBNYXBzIHRoZSBkaXYgYnV0dG9uIHByZXNzIHRvIHBpeGkncyBJbnRlcmFjdGlvbk1hbmFnZXIgKGNsaWNrKVxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge01vdXNlRXZlbnR9IGUgLSBUaGUgY2xpY2sgZXZlbnQuXG4gKi9cbkFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5fb25DbGljayA9IGZ1bmN0aW9uIF9vbkNsaWNrIChlKVxue1xuICAgIHZhciBpbnRlcmFjdGlvbk1hbmFnZXIgPSB0aGlzLnJlbmRlcmVyLnBsdWdpbnMuaW50ZXJhY3Rpb247XG5cbiAgICBpbnRlcmFjdGlvbk1hbmFnZXIuZGlzcGF0Y2hFdmVudChlLnRhcmdldC5kaXNwbGF5T2JqZWN0LCAnY2xpY2snLCBpbnRlcmFjdGlvbk1hbmFnZXIuZXZlbnREYXRhKTtcbiAgICBpbnRlcmFjdGlvbk1hbmFnZXIuZGlzcGF0Y2hFdmVudChlLnRhcmdldC5kaXNwbGF5T2JqZWN0LCAncG9pbnRlcnRhcCcsIGludGVyYWN0aW9uTWFuYWdlci5ldmVudERhdGEpO1xuICAgIGludGVyYWN0aW9uTWFuYWdlci5kaXNwYXRjaEV2ZW50KGUudGFyZ2V0LmRpc3BsYXlPYmplY3QsICd0YXAnLCBpbnRlcmFjdGlvbk1hbmFnZXIuZXZlbnREYXRhKTtcbn07XG5cbi8qKlxuICogTWFwcyB0aGUgZGl2IGZvY3VzIGV2ZW50cyB0byBwaXhpJ3MgSW50ZXJhY3Rpb25NYW5hZ2VyIChtb3VzZW92ZXIpXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Rm9jdXNFdmVudH0gZSAtIFRoZSBmb2N1cyBldmVudC5cbiAqL1xuQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLl9vbkZvY3VzID0gZnVuY3Rpb24gX29uRm9jdXMgKGUpXG57XG4gICAgaWYgKCFlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScsICdvZmYnKSlcbiAgICB7XG4gICAgICAgIGUudGFyZ2V0LnNldEF0dHJpYnV0ZSgnYXJpYS1saXZlJywgJ2Fzc2VydGl2ZScpO1xuICAgIH1cbiAgICB2YXIgaW50ZXJhY3Rpb25NYW5hZ2VyID0gdGhpcy5yZW5kZXJlci5wbHVnaW5zLmludGVyYWN0aW9uO1xuXG4gICAgaW50ZXJhY3Rpb25NYW5hZ2VyLmRpc3BhdGNoRXZlbnQoZS50YXJnZXQuZGlzcGxheU9iamVjdCwgJ21vdXNlb3ZlcicsIGludGVyYWN0aW9uTWFuYWdlci5ldmVudERhdGEpO1xufTtcblxuLyoqXG4gKiBNYXBzIHRoZSBkaXYgZm9jdXMgZXZlbnRzIHRvIHBpeGkncyBJbnRlcmFjdGlvbk1hbmFnZXIgKG1vdXNlb3V0KVxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0ZvY3VzRXZlbnR9IGUgLSBUaGUgZm9jdXNvdXQgZXZlbnQuXG4gKi9cbkFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5fb25Gb2N1c091dCA9IGZ1bmN0aW9uIF9vbkZvY3VzT3V0IChlKVxue1xuICAgIGlmICghZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAnb2ZmJykpXG4gICAge1xuICAgICAgICBlLnRhcmdldC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScsICdwb2xpdGUnKTtcbiAgICB9XG4gICAgdmFyIGludGVyYWN0aW9uTWFuYWdlciA9IHRoaXMucmVuZGVyZXIucGx1Z2lucy5pbnRlcmFjdGlvbjtcblxuICAgIGludGVyYWN0aW9uTWFuYWdlci5kaXNwYXRjaEV2ZW50KGUudGFyZ2V0LmRpc3BsYXlPYmplY3QsICdtb3VzZW91dCcsIGludGVyYWN0aW9uTWFuYWdlci5ldmVudERhdGEpO1xufTtcblxuLyoqXG4gKiBJcyBjYWxsZWQgd2hlbiBhIGtleSBpcyBwcmVzc2VkXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZSAtIFRoZSBrZXlkb3duIGV2ZW50LlxuICovXG5BY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuX29uS2V5RG93biA9IGZ1bmN0aW9uIF9vbktleURvd24gKGUpXG57XG4gICAgaWYgKGUua2V5Q29kZSAhPT0gS0VZX0NPREVfVEFCKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuYWN0aXZhdGUoKTtcbn07XG5cbi8qKlxuICogSXMgY2FsbGVkIHdoZW4gdGhlIG1vdXNlIG1vdmVzIGFjcm9zcyB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge01vdXNlRXZlbnR9IGUgLSBUaGUgbW91c2UgZXZlbnQuXG4gKi9cbkFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5fb25Nb3VzZU1vdmUgPSBmdW5jdGlvbiBfb25Nb3VzZU1vdmUgKGUpXG57XG4gICAgaWYgKGUubW92ZW1lbnRYID09PSAwICYmIGUubW92ZW1lbnRZID09PSAwKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuZGVhY3RpdmF0ZSgpO1xufTtcblxuLyoqXG4gKiBEZXN0cm95cyB0aGUgYWNjZXNzaWJpbGl0eSBtYW5hZ2VyXG4gKlxuICovXG5BY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbntcbiAgICB0aGlzLmRlc3Ryb3lUb3VjaEhvb2soKTtcbiAgICB0aGlzLmRpdiA9IG51bGw7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgICB0aGlzLmNoaWxkcmVuW2ldLmRpdiA9IG51bGw7XG4gICAgfVxuXG4gICAgd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX29uTW91c2VNb3ZlLCB0cnVlKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93bik7XG5cbiAgICB0aGlzLnBvb2wgPSBudWxsO1xuICAgIHRoaXMuY2hpbGRyZW4gPSBudWxsO1xuICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xufTtcblxuLyoqXG4gKiBUaGlzIG5hbWVzcGFjZSBjb250YWlucyBhbiBhY2Nlc3NpYmlsaXR5IHBsdWdpbiBmb3IgYWxsb3dpbmcgaW50ZXJhY3Rpb24gdmlhIHRoZSBrZXlib2FyZC5cbiAqXG4gKiBEbyBub3QgaW5zdGFudGlhdGUgdGhpcyBwbHVnaW4gZGlyZWN0bHkuIEl0IGlzIGF2YWlsYWJsZSBmcm9tIHRoZSBgcmVuZGVyZXIucGx1Z2luc2AgcHJvcGVydHkuXG4gKiBTZWUge0BsaW5rIFBJWEkuQ2FudmFzUmVuZGVyZXIjcGx1Z2luc30gb3Ige0BsaW5rIFBJWEkuUmVuZGVyZXIjcGx1Z2luc30uXG4gKiBAbmFtZXNwYWNlIFBJWEkuYWNjZXNzaWJpbGl0eVxuICovXG5cbmV4cG9ydCB7IEFjY2Vzc2liaWxpdHlNYW5hZ2VyLCBhY2Nlc3NpYmxlVGFyZ2V0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hY2Nlc3NpYmlsaXR5LmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9ydW5uZXIgLSB2NS4xLjFcbiAqIENvbXBpbGVkIEZyaSwgMDIgQXVnIDIwMTkgMjM6MjA6MjMgVVRDXG4gKlxuICogQHBpeGkvcnVubmVyIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuLyoqXG4gKiBBIFJ1bm5lciBpcyBhIGhpZ2hseSBwZXJmb3JtYW50IGFuZCBzaW1wbGUgYWx0ZXJuYXRpdmUgdG8gc2lnbmFscy4gQmVzdCB1c2VkIGluIHNpdHVhdGlvbnNcbiAqIHdoZXJlIGV2ZW50cyBhcmUgZGlzcGF0Y2hlZCB0byBtYW55IG9iamVjdHMgYXQgaGlnaCBmcmVxdWVuY3kgKHNheSBldmVyeSBmcmFtZSEpXG4gKlxuICpcbiAqIGxpa2UgYSBzaWduYWwuLlxuICogYGBgXG4gKiBjb25zdCBteU9iamVjdCA9IHtcbiAqICAgICBsb2FkZWQ6IG5ldyBQSVhJLlJ1bm5lcignbG9hZGVkJylcbiAqIH1cbiAqXG4gKiBjb25zdCBsaXN0ZW5lciA9IHtcbiAqICAgICBsb2FkZWQ6IGZ1bmN0aW9uKCl7XG4gKiAgICAgICAgIC8vIHRoaW5cbiAqICAgICB9XG4gKiB9XG4gKlxuICogbXlPYmplY3QudXBkYXRlLmFkZChsaXN0ZW5lcik7XG4gKlxuICogbXlPYmplY3QubG9hZGVkLmVtaXQoKTtcbiAqIGBgYFxuICpcbiAqIE9yIGZvciBoYW5kbGluZyBjYWxsaW5nIHRoZSBzYW1lIGZ1bmN0aW9uIG9uIG1hbnkgaXRlbXNcbiAqIGBgYFxuICogY29uc3QgbXlHYW1lID0ge1xuICogICAgIHVwZGF0ZTogbmV3IFBJWEkuUnVubmVyKCd1cGRhdGUnKVxuICogfVxuICpcbiAqIGNvbnN0IGdhbWVPYmplY3QgPSB7XG4gKiAgICAgdXBkYXRlOiBmdW5jdGlvbih0aW1lKXtcbiAqICAgICAgICAgLy8gdXBkYXRlIG15IGdhbWV5IHN0YXRlXG4gKiAgICAgfVxuICogfVxuICpcbiAqIG15R2FtZS51cGRhdGUuYWRkKGdhbWVPYmplY3QxKTtcbiAqXG4gKiBteUdhbWUudXBkYXRlLmVtaXQodGltZSk7XG4gKiBgYGBcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFJ1bm5lciA9IGZ1bmN0aW9uIFJ1bm5lcihuYW1lKVxue1xuICAgIHRoaXMuaXRlbXMgPSBbXTtcbiAgICB0aGlzLl9uYW1lID0gbmFtZTtcbiAgICB0aGlzLl9hbGlhc0NvdW50ID0gMDtcbn07XG5cbnZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IGVtcHR5OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LG5hbWU6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuLyoqXG4gKiBEaXNwYXRjaC9Ccm9hZGNhc3QgUnVubmVyIHRvIGFsbCBsaXN0ZW5lcnMgYWRkZWQgdG8gdGhlIHF1ZXVlLlxuICogQHBhcmFtIHsuLi5hbnl9IHBhcmFtcyAtIG9wdGlvbmFsIHBhcmFtZXRlcnMgdG8gcGFzcyB0byBlYWNoIGxpc3RlbmVyXG4gKi9cblJ1bm5lci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQgKGEwLCBhMSwgYTIsIGEzLCBhNCwgYTUsIGE2LCBhNylcbntcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDgpXG4gICAge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ21heCBhcmd1bWVudHMgcmVhY2hlZCcpO1xuICAgIH1cblxuICAgIHZhciByZWYgPSB0aGlzO1xuICAgICAgICB2YXIgbmFtZSA9IHJlZi5uYW1lO1xuICAgICAgICB2YXIgaXRlbXMgPSByZWYuaXRlbXM7XG5cbiAgICB0aGlzLl9hbGlhc0NvdW50Kys7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gaXRlbXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspXG4gICAge1xuICAgICAgICBpdGVtc1tpXVtuYW1lXShhMCwgYTEsIGEyLCBhMywgYTQsIGE1LCBhNiwgYTcpO1xuICAgIH1cblxuICAgIGlmIChpdGVtcyA9PT0gdGhpcy5pdGVtcylcbiAgICB7XG4gICAgICAgIHRoaXMuX2FsaWFzQ291bnQtLTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cblJ1bm5lci5wcm90b3R5cGUuZW5zdXJlTm9uQWxpYXNlZEl0ZW1zID0gZnVuY3Rpb24gZW5zdXJlTm9uQWxpYXNlZEl0ZW1zICgpXG57XG4gICAgaWYgKHRoaXMuX2FsaWFzQ291bnQgPiAwICYmIHRoaXMuaXRlbXMubGVuZ3RoID4gMSlcbiAgICB7XG4gICAgICAgIHRoaXMuX2FsaWFzQ291bnQgPSAwO1xuICAgICAgICB0aGlzLml0ZW1zID0gdGhpcy5pdGVtcy5zbGljZSgwKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIEFkZCBhIGxpc3RlbmVyIHRvIHRoZSBSdW5uZXJcbiAqXG4gKiBSdW5uZXJzIGRvIG5vdCBuZWVkIHRvIGhhdmUgc2NvcGUgb3IgZnVuY3Rpb25zIHBhc3NlZCB0byB0aGVtLlxuICogQWxsIHRoYXQgaXMgcmVxdWlyZWQgaXMgdG8gcGFzcyB0aGUgbGlzdGVuaW5nIG9iamVjdCBhbmQgZW5zdXJlIHRoYXQgaXQgaGFzIGNvbnRhaW5zIGEgZnVuY3Rpb24gdGhhdCBoYXMgdGhlIHNhbWUgbmFtZVxuICogYXMgdGhlIG5hbWUgcHJvdmlkZWQgdG8gdGhlIFJ1bm5lciB3aGVuIGl0IHdhcyBjcmVhdGVkLlxuICpcbiAqIEVnIEEgbGlzdGVuZXIgcGFzc2VkIHRvIHRoaXMgUnVubmVyIHdpbGwgcmVxdWlyZSBhICdjb21wbGV0ZScgZnVuY3Rpb24uXG4gKlxuICogYGBgXG4gKiBjb25zdCBjb21wbGV0ZSA9IG5ldyBQSVhJLlJ1bm5lcignY29tcGxldGUnKTtcbiAqIGBgYFxuICpcbiAqIFRoZSBzY29wZSB1c2VkIHdpbGwgYmUgdGhlIG9iamVjdCBpdHNlbGYuXG4gKlxuICogQHBhcmFtIHthbnl9IGl0ZW0gLSBUaGUgb2JqZWN0IHRoYXQgd2lsbCBiZSBsaXN0ZW5pbmcuXG4gKi9cblJ1bm5lci5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gYWRkIChpdGVtKVxue1xuICAgIGlmIChpdGVtW3RoaXMuX25hbWVdKVxuICAgIHtcbiAgICAgICAgdGhpcy5lbnN1cmVOb25BbGlhc2VkSXRlbXMoKTtcbiAgICAgICAgdGhpcy5yZW1vdmUoaXRlbSk7XG4gICAgICAgIHRoaXMuaXRlbXMucHVzaChpdGVtKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVtb3ZlIGEgc2luZ2xlIGxpc3RlbmVyIGZyb20gdGhlIGRpc3BhdGNoIHF1ZXVlLlxuICogQHBhcmFtIHthbnl9IGl0ZW0gLSBUaGUgbGlzdGVuciB0aGF0IHlvdSB3b3VsZCBsaWtlIHRvIHJlbW92ZS5cbiAqL1xuUnVubmVyLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUgKGl0ZW0pXG57XG4gICAgdmFyIGluZGV4ID0gdGhpcy5pdGVtcy5pbmRleE9mKGl0ZW0pO1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSlcbiAgICB7XG4gICAgICAgIHRoaXMuZW5zdXJlTm9uQWxpYXNlZEl0ZW1zKCk7XG4gICAgICAgIHRoaXMuaXRlbXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogQ2hlY2sgdG8gc2VlIGlmIHRoZSBsaXN0ZW5lciBpcyBhbHJlYWR5IGluIHRoZSBSdW5uZXJcbiAqIEBwYXJhbSB7YW55fSBpdGVtIC0gVGhlIGxpc3RlbmVyIHRoYXQgeW91IHdvdWxkIGxpa2UgdG8gY2hlY2suXG4gKi9cblJ1bm5lci5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbiBjb250YWlucyAoaXRlbSlcbntcbiAgICByZXR1cm4gdGhpcy5pdGVtcy5pbmRleE9mKGl0ZW0pICE9PSAtMTtcbn07XG5cbi8qKlxuICogUmVtb3ZlIGFsbCBsaXN0ZW5lcnMgZnJvbSB0aGUgUnVubmVyXG4gKi9cblJ1bm5lci5wcm90b3R5cGUucmVtb3ZlQWxsID0gZnVuY3Rpb24gcmVtb3ZlQWxsICgpXG57XG4gICAgdGhpcy5lbnN1cmVOb25BbGlhc2VkSXRlbXMoKTtcbiAgICB0aGlzLml0ZW1zLmxlbmd0aCA9IDA7XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVtb3ZlIGFsbCByZWZlcmVuY2VzLCBkb24ndCB1c2UgYWZ0ZXIgdGhpcy5cbiAqL1xuUnVubmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxue1xuICAgIHRoaXMucmVtb3ZlQWxsKCk7XG4gICAgdGhpcy5pdGVtcyA9IG51bGw7XG4gICAgdGhpcy5fbmFtZSA9IG51bGw7XG59O1xuXG4vKipcbiAqIGB0cnVlYCBpZiB0aGVyZSBhcmUgbm8gdGhpcyBSdW5uZXIgY29udGFpbnMgbm8gbGlzdGVuZXJzXG4gKlxuICogQG1lbWJlciB7Ym9vbGVhbn1cbiAqIEByZWFkb25seVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMuZW1wdHkuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5pdGVtcy5sZW5ndGggPT09IDA7XG59O1xuXG4vKipcbiAqIFRoZSBuYW1lIG9mIHRoZSBydW5uZXIuXG4gKlxuICogQG1lbWJlciB7c3RyaW5nfVxuICogQHJlYWRvbmx5XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5uYW1lLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX25hbWU7XG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyggUnVubmVyLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbi8qKlxuICogQWxpYXMgZm9yIGBlbWl0YFxuICogQG1lbWJlcm9mIFBJWEkuUnVubmVyI1xuICogQG1ldGhvZCBkaXNwYXRjaFxuICogQHNlZSBQSVhJLlJ1bm5lciNlbWl0XG4gKi9cblJ1bm5lci5wcm90b3R5cGUuZGlzcGF0Y2ggPSBSdW5uZXIucHJvdG90eXBlLmVtaXQ7XG5cbi8qKlxuICogQWxpYXMgZm9yIGBlbWl0YFxuICogQG1lbWJlcm9mIFBJWEkuUnVubmVyI1xuICogQG1ldGhvZCBydW5cbiAqIEBzZWUgUElYSS5SdW5uZXIjZW1pdFxuICovXG5SdW5uZXIucHJvdG90eXBlLnJ1biA9IFJ1bm5lci5wcm90b3R5cGUuZW1pdDtcblxuZXhwb3J0IHsgUnVubmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ydW5uZXIuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3RpY2tlciAtIHY1LjEuM1xuICogQ29tcGlsZWQgTW9uLCAwOSBTZXAgMjAxOSAwNDo1MTo1MyBVVENcbiAqXG4gKiBAcGl4aS90aWNrZXIgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcblxuLyoqXG4gKiBUYXJnZXQgZnJhbWVzIHBlciBtaWxsaXNlY29uZC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBUQVJHRVRfRlBNU1xuICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAZGVmYXVsdCAwLjA2XG4gKi9cbnNldHRpbmdzLlRBUkdFVF9GUE1TID0gMC4wNjtcblxuLyoqXG4gKiBSZXByZXNlbnRzIHRoZSB1cGRhdGUgcHJpb3JpdGllcyB1c2VkIGJ5IGludGVybmFsIFBJWEkgY2xhc3NlcyB3aGVuIHJlZ2lzdGVyZWQgd2l0aFxuICogdGhlIHtAbGluayBQSVhJLlRpY2tlcn0gb2JqZWN0LiBIaWdoZXIgcHJpb3JpdHkgaXRlbXMgYXJlIHVwZGF0ZWQgZmlyc3QgYW5kIGxvd2VyXG4gKiBwcmlvcml0eSBpdGVtcywgc3VjaCBhcyByZW5kZXIsIHNob3VsZCBnbyBsYXRlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIFVQREFURV9QUklPUklUWVxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge251bWJlcn0gSU5URVJBQ1RJT049NTAgSGlnaGVzdCBwcmlvcml0eSwgdXNlZCBmb3Ige0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEhJR0g9MjUgSGlnaCBwcmlvcml0eSB1cGRhdGluZywge0BsaW5rIFBJWEkuVmlkZW9CYXNlVGV4dHVyZX0gYW5kIHtAbGluayBQSVhJLkFuaW1hdGVkU3ByaXRlfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PUk1BTD0wIERlZmF1bHQgcHJpb3JpdHkgZm9yIHRpY2tlciBldmVudHMsIHNlZSB7QGxpbmsgUElYSS5UaWNrZXIjYWRkfS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMT1c9LTI1IExvdyBwcmlvcml0eSB1c2VkIGZvciB7QGxpbmsgUElYSS5BcHBsaWNhdGlvbn0gcmVuZGVyaW5nLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVUSUxJVFk9LTUwIExvd2VzdCBwcmlvcml0eSB1c2VkIGZvciB7QGxpbmsgUElYSS5wcmVwYXJlLkJhc2VQcmVwYXJlfSB1dGlsaXR5LlxuICovXG52YXIgVVBEQVRFX1BSSU9SSVRZID0ge1xuICAgIElOVEVSQUNUSU9OOiA1MCxcbiAgICBISUdIOiAyNSxcbiAgICBOT1JNQUw6IDAsXG4gICAgTE9XOiAtMjUsXG4gICAgVVRJTElUWTogLTUwLFxufTtcblxuLyoqXG4gKiBJbnRlcm5hbCBjbGFzcyBmb3IgaGFuZGxpbmcgdGhlIHByaW9yaXR5IHNvcnRpbmcgb2YgdGlja2VyIGhhbmRsZXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUaWNrZXJMaXN0ZW5lciA9IGZ1bmN0aW9uIFRpY2tlckxpc3RlbmVyKGZuLCBjb250ZXh0LCBwcmlvcml0eSwgb25jZSlcbntcbiAgICBpZiAoIGNvbnRleHQgPT09IHZvaWQgMCApIGNvbnRleHQgPSBudWxsO1xuICAgIGlmICggcHJpb3JpdHkgPT09IHZvaWQgMCApIHByaW9yaXR5ID0gMDtcbiAgICBpZiAoIG9uY2UgPT09IHZvaWQgMCApIG9uY2UgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBoYW5kbGVyIGZ1bmN0aW9uIHRvIGV4ZWN1dGUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgKi9cbiAgICB0aGlzLmZuID0gZm47XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY2FsbGluZyB0byBleGVjdXRlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7Kn1cbiAgICAgKi9cbiAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgcHJpb3JpdHkuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5O1xuXG4gICAgLyoqXG4gICAgICogSWYgdGhpcyBzaG91bGQgb25seSBleGVjdXRlIG9uY2UuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMub25jZSA9IG9uY2U7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbmV4dCBpdGVtIGluIGNoYWluLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7VGlja2VyTGlzdGVuZXJ9XG4gICAgICovXG4gICAgdGhpcy5uZXh0ID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBwcmV2aW91cyBpdGVtIGluIGNoYWluLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7VGlja2VyTGlzdGVuZXJ9XG4gICAgICovXG4gICAgdGhpcy5wcmV2aW91cyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBgdHJ1ZWAgaWYgdGhpcyBsaXN0ZW5lciBoYXMgYmVlbiBkZXN0cm95ZWQgYWxyZWFkeS5cbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fZGVzdHJveWVkID0gZmFsc2U7XG59O1xuXG4vKipcbiAqIFNpbXBsZSBjb21wYXJlIGZ1bmN0aW9uIHRvIGZpZ3VyZSBvdXQgaWYgYSBmdW5jdGlvbiBhbmQgY29udGV4dCBtYXRjaC5cbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIFRoZSBsaXN0ZW5lciBmdW5jdGlvbiB0byBiZSBhZGRlZCBmb3Igb25lIHVwZGF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY29udGV4dCAtIFRoZSBsaXN0ZW5lciBjb250ZXh0XG4gKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIGxpc3RlbmVyIG1hdGNoIHRoZSBhcmd1bWVudHNcbiAqL1xuVGlja2VyTGlzdGVuZXIucHJvdG90eXBlLm1hdGNoID0gZnVuY3Rpb24gbWF0Y2ggKGZuLCBjb250ZXh0KVxue1xuICAgIGNvbnRleHQgPSBjb250ZXh0IHx8IG51bGw7XG5cbiAgICByZXR1cm4gdGhpcy5mbiA9PT0gZm4gJiYgdGhpcy5jb250ZXh0ID09PSBjb250ZXh0O1xufTtcblxuLyoqXG4gKiBFbWl0IGJ5IGNhbGxpbmcgdGhlIGN1cnJlbnQgZnVuY3Rpb24uXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhVGltZSAtIHRpbWUgc2luY2UgdGhlIGxhc3QgZW1pdC5cbiAqIEByZXR1cm4ge1RpY2tlckxpc3RlbmVyfSBOZXh0IHRpY2tlclxuICovXG5UaWNrZXJMaXN0ZW5lci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQgKGRlbHRhVGltZSlcbntcbiAgICBpZiAodGhpcy5mbilcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmNvbnRleHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZm4uY2FsbCh0aGlzLmNvbnRleHQsIGRlbHRhVGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmZuKGRlbHRhVGltZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcmVkaXJlY3QgPSB0aGlzLm5leHQ7XG5cbiAgICBpZiAodGhpcy5vbmNlKVxuICAgIHtcbiAgICAgICAgdGhpcy5kZXN0cm95KHRydWUpO1xuICAgIH1cblxuICAgIC8vIFNvZnQtZGVzdHJveWluZyBzaG91bGQgcmVtb3ZlXG4gICAgLy8gdGhlIG5leHQgcmVmZXJlbmNlXG4gICAgaWYgKHRoaXMuX2Rlc3Ryb3llZClcbiAgICB7XG4gICAgICAgIHRoaXMubmV4dCA9IG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlZGlyZWN0O1xufTtcblxuLyoqXG4gKiBDb25uZWN0IHRvIHRoZSBsaXN0LlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7VGlja2VyTGlzdGVuZXJ9IHByZXZpb3VzIC0gSW5wdXQgbm9kZSwgcHJldmlvdXMgbGlzdGVuZXJcbiAqL1xuVGlja2VyTGlzdGVuZXIucHJvdG90eXBlLmNvbm5lY3QgPSBmdW5jdGlvbiBjb25uZWN0IChwcmV2aW91cylcbntcbiAgICB0aGlzLnByZXZpb3VzID0gcHJldmlvdXM7XG4gICAgaWYgKHByZXZpb3VzLm5leHQpXG4gICAge1xuICAgICAgICBwcmV2aW91cy5uZXh0LnByZXZpb3VzID0gdGhpcztcbiAgICB9XG4gICAgdGhpcy5uZXh0ID0gcHJldmlvdXMubmV4dDtcbiAgICBwcmV2aW91cy5uZXh0ID0gdGhpcztcbn07XG5cbi8qKlxuICogRGVzdHJveSBhbmQgZG9uJ3QgdXNlIGFmdGVyIHRoaXMuXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtib29sZWFufSBbaGFyZCA9IGZhbHNlXSBgdHJ1ZWAgdG8gcmVtb3ZlIHRoZSBgbmV4dGAgcmVmZXJlbmNlLCB0aGlzXG4gKiAgICBpcyBjb25zaWRlcmVkIGEgaGFyZCBkZXN0cm95LiBTb2Z0IGRlc3Ryb3kgbWFpbnRhaW5zIHRoZSBuZXh0IHJlZmVyZW5jZS5cbiAqIEByZXR1cm4ge1RpY2tlckxpc3RlbmVyfSBUaGUgbGlzdGVuZXIgdG8gcmVkaXJlY3Qgd2hpbGUgZW1pdHRpbmcgb3IgcmVtb3ZpbmcuXG4gKi9cblRpY2tlckxpc3RlbmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoaGFyZClcbntcbiAgICAgICAgaWYgKCBoYXJkID09PSB2b2lkIDAgKSBoYXJkID0gZmFsc2U7XG5cbiAgICB0aGlzLl9kZXN0cm95ZWQgPSB0cnVlO1xuICAgIHRoaXMuZm4gPSBudWxsO1xuICAgIHRoaXMuY29udGV4dCA9IG51bGw7XG5cbiAgICAvLyBEaXNjb25uZWN0LCBob29rIHVwIG5leHQgYW5kIHByZXZpb3VzXG4gICAgaWYgKHRoaXMucHJldmlvdXMpXG4gICAge1xuICAgICAgICB0aGlzLnByZXZpb3VzLm5leHQgPSB0aGlzLm5leHQ7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMubmV4dClcbiAgICB7XG4gICAgICAgIHRoaXMubmV4dC5wcmV2aW91cyA9IHRoaXMucHJldmlvdXM7XG4gICAgfVxuXG4gICAgLy8gUmVkaXJlY3QgdG8gdGhlIG5leHQgaXRlbVxuICAgIHZhciByZWRpcmVjdCA9IHRoaXMubmV4dDtcblxuICAgIC8vIFJlbW92ZSByZWZlcmVuY2VzXG4gICAgdGhpcy5uZXh0ID0gaGFyZCA/IG51bGwgOiByZWRpcmVjdDtcbiAgICB0aGlzLnByZXZpb3VzID0gbnVsbDtcblxuICAgIHJldHVybiByZWRpcmVjdDtcbn07XG5cbi8qKlxuICogQSBUaWNrZXIgY2xhc3MgdGhhdCBydW5zIGFuIHVwZGF0ZSBsb29wIHRoYXQgb3RoZXIgb2JqZWN0cyBsaXN0ZW4gdG8uXG4gKlxuICogVGhpcyBjbGFzcyBpcyBjb21wb3NlZCBhcm91bmQgbGlzdGVuZXJzIG1lYW50IGZvciBleGVjdXRpb24gb24gdGhlIG5leHQgcmVxdWVzdGVkIGFuaW1hdGlvbiBmcmFtZS5cbiAqIEFuaW1hdGlvbiBmcmFtZXMgYXJlIHJlcXVlc3RlZCBvbmx5IHdoZW4gbmVjZXNzYXJ5LCBlLmcuIFdoZW4gdGhlIHRpY2tlciBpcyBzdGFydGVkIGFuZCB0aGUgZW1pdHRlciBoYXMgbGlzdGVuZXJzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRpY2tlciA9IGZ1bmN0aW9uIFRpY2tlcigpXG57XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZmlyc3QgbGlzdGVuZXIuIEFsbCBuZXcgbGlzdGVuZXJzIGFkZGVkIGFyZSBjaGFpbmVkIG9uIHRoaXMuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7VGlja2VyTGlzdGVuZXJ9XG4gICAgICovXG4gICAgdGhpcy5faGVhZCA9IG5ldyBUaWNrZXJMaXN0ZW5lcihudWxsLCBudWxsLCBJbmZpbml0eSk7XG5cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBjdXJyZW50IGZyYW1lIHJlcXVlc3QgSURcbiAgICAgKiBAdHlwZSB7P251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX3JlcXVlc3RJZCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCB2YWx1ZSBtYW5hZ2VkIGJ5IG1pbkZQUyBwcm9wZXJ0eSBzZXR0ZXIgYW5kIGdldHRlci5cbiAgICAgKiBUaGlzIGlzIHRoZSBtYXhpbXVtIGFsbG93ZWQgbWlsbGlzZWNvbmRzIGJldHdlZW4gdXBkYXRlcy5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fbWF4RWxhcHNlZE1TID0gMTAwO1xuXG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwgdmFsdWUgbWFuYWdlZCBieSBtYXhGUFMgcHJvcGVydHkgc2V0dGVyIGFuZCBnZXR0ZXIuXG4gICAgICogVGhpcyBpcyB0aGUgbWluaW11bSBhbGxvd2VkIG1pbGxpc2Vjb25kcyBiZXR3ZWVuIHVwZGF0ZXMuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9taW5FbGFwc2VkTVMgPSAwO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciBvciBub3QgdGhpcyB0aWNrZXIgc2hvdWxkIGludm9rZSB0aGUgbWV0aG9kXG4gICAgICoge0BsaW5rIFBJWEkuVGlja2VyI3N0YXJ0fSBhdXRvbWF0aWNhbGx5XG4gICAgICogd2hlbiBhIGxpc3RlbmVyIGlzIGFkZGVkLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuICAgIHRoaXMuYXV0b1N0YXJ0ID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBTY2FsYXIgdGltZSB2YWx1ZSBmcm9tIGxhc3QgZnJhbWUgdG8gdGhpcyBmcmFtZS5cbiAgICAgKiBUaGlzIHZhbHVlIGlzIGNhcHBlZCBieSBzZXR0aW5nIHtAbGluayBQSVhJLlRpY2tlciNtaW5GUFN9XG4gICAgICogYW5kIGlzIHNjYWxlZCB3aXRoIHtAbGluayBQSVhJLlRpY2tlciNzcGVlZH0uXG4gICAgICogKipOb3RlOioqIFRoZSBjYXAgbWF5IGJlIGV4Y2VlZGVkIGJ5IHNjYWxpbmcuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqL1xuICAgIHRoaXMuZGVsdGFUaW1lID0gMTtcblxuICAgIC8qKlxuICAgICAqIFNjYWxlciB0aW1lIGVsYXBzZWQgaW4gbWlsbGlzZWNvbmRzIGZyb20gbGFzdCBmcmFtZSB0byB0aGlzIGZyYW1lLlxuICAgICAqIFRoaXMgdmFsdWUgaXMgY2FwcGVkIGJ5IHNldHRpbmcge0BsaW5rIFBJWEkuVGlja2VyI21pbkZQU31cbiAgICAgKiBhbmQgaXMgc2NhbGVkIHdpdGgge0BsaW5rIFBJWEkuVGlja2VyI3NwZWVkfS5cbiAgICAgKiAqKk5vdGU6KiogVGhlIGNhcCBtYXkgYmUgZXhjZWVkZWQgYnkgc2NhbGluZy5cbiAgICAgKiBJZiB0aGUgcGxhdGZvcm0gc3VwcG9ydHMgRE9NSGlnaFJlc1RpbWVTdGFtcCxcbiAgICAgKiB0aGlzIHZhbHVlIHdpbGwgaGF2ZSBhIHByZWNpc2lvbiBvZiAxIMK1cy5cbiAgICAgKiBEZWZhdWx0cyB0byB0YXJnZXQgZnJhbWUgdGltZVxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDE2LjY2XG4gICAgICovXG4gICAgdGhpcy5kZWx0YU1TID0gMSAvIHNldHRpbmdzLlRBUkdFVF9GUE1TO1xuXG4gICAgLyoqXG4gICAgICogVGltZSBlbGFwc2VkIGluIG1pbGxpc2Vjb25kcyBmcm9tIGxhc3QgZnJhbWUgdG8gdGhpcyBmcmFtZS5cbiAgICAgKiBPcHBvc2VkIHRvIHdoYXQgdGhlIHNjYWxhciB7QGxpbmsgUElYSS5UaWNrZXIjZGVsdGFUaW1lfVxuICAgICAqIGlzIGJhc2VkLCB0aGlzIHZhbHVlIGlzIG5laXRoZXIgY2FwcGVkIG5vciBzY2FsZWQuXG4gICAgICogSWYgdGhlIHBsYXRmb3JtIHN1cHBvcnRzIERPTUhpZ2hSZXNUaW1lU3RhbXAsXG4gICAgICogdGhpcyB2YWx1ZSB3aWxsIGhhdmUgYSBwcmVjaXNpb24gb2YgMSDCtXMuXG4gICAgICogRGVmYXVsdHMgdG8gdGFyZ2V0IGZyYW1lIHRpbWVcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxNi42NlxuICAgICAqL1xuICAgIHRoaXMuZWxhcHNlZE1TID0gMSAvIHNldHRpbmdzLlRBUkdFVF9GUE1TO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGxhc3QgdGltZSB7QGxpbmsgUElYSS5UaWNrZXIjdXBkYXRlfSB3YXMgaW52b2tlZC5cbiAgICAgKiBUaGlzIHZhbHVlIGlzIGFsc28gcmVzZXQgaW50ZXJuYWxseSBvdXRzaWRlIG9mIGludm9raW5nXG4gICAgICogdXBkYXRlLCBidXQgb25seSB3aGVuIGEgbmV3IGFuaW1hdGlvbiBmcmFtZSBpcyByZXF1ZXN0ZWQuXG4gICAgICogSWYgdGhlIHBsYXRmb3JtIHN1cHBvcnRzIERPTUhpZ2hSZXNUaW1lU3RhbXAsXG4gICAgICogdGhpcyB2YWx1ZSB3aWxsIGhhdmUgYSBwcmVjaXNpb24gb2YgMSDCtXMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgLTFcbiAgICAgKi9cbiAgICB0aGlzLmxhc3RUaW1lID0gLTE7XG5cbiAgICAvKipcbiAgICAgKiBGYWN0b3Igb2YgY3VycmVudCB7QGxpbmsgUElYSS5UaWNrZXIjZGVsdGFUaW1lfS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFNjYWxlcyB0aWNrZXIuZGVsdGFUaW1lIHRvIHdoYXQgd291bGQgYmVcbiAgICAgKiAvLyB0aGUgZXF1aXZhbGVudCBvZiBhcHByb3hpbWF0ZWx5IDEyMCBGUFNcbiAgICAgKiB0aWNrZXIuc3BlZWQgPSAyO1xuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cbiAgICB0aGlzLnNwZWVkID0gMTtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgb3Igbm90IHRoaXMgdGlja2VyIGhhcyBiZWVuIHN0YXJ0ZWQuXG4gICAgICogYHRydWVgIGlmIHtAbGluayBQSVhJLlRpY2tlciNzdGFydH0gaGFzIGJlZW4gY2FsbGVkLlxuICAgICAqIGBmYWxzZWAgaWYge0BsaW5rIFBJWEkuVGlja2VyI3N0b3B9IGhhcyBiZWVuIGNhbGxlZC5cbiAgICAgKiBXaGlsZSBgZmFsc2VgLCB0aGlzIHZhbHVlIG1heSBjaGFuZ2UgdG8gYHRydWVgIGluIHRoZVxuICAgICAqIGV2ZW50IG9mIHtAbGluayBQSVhJLlRpY2tlciNhdXRvU3RhcnR9IGJlaW5nIGB0cnVlYFxuICAgICAqIGFuZCBhIGxpc3RlbmVyIGlzIGFkZGVkLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogSWYgZW5hYmxlZCwgZGVsZXRpbmcgaXMgZGlzYWJsZWQuXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fcHJvdGVjdGVkID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbGFzdCB0aW1lIGtleWZyYW1lIHdhcyBleGVjdXRlZC5cbiAgICAgKiBNYWludGFpbnMgYSByZWxhdGl2ZWx5IGZpeGVkIGludGVydmFsIHdpdGggdGhlIHByZXZpb3VzIHZhbHVlLlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAtMVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fbGFzdEZyYW1lID0gLTE7XG5cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCB0aWNrIG1ldGhvZCBib3VuZCB0byB0aWNrZXIgaW5zdGFuY2UuXG4gICAgICogVGhpcyBpcyBiZWNhdXNlIGluIGVhcmx5IDIwMTUsIEZ1bmN0aW9uLmJpbmRcbiAgICAgKiBpcyBzdGlsbCA2MCUgc2xvd2VyIGluIGhpZ2ggcGVyZm9ybWFuY2Ugc2NlbmFyaW9zLlxuICAgICAqIEFsc28gc2VwYXJhdGluZyBmcmFtZSByZXF1ZXN0cyBmcm9tIHVwZGF0ZSBtZXRob2RcbiAgICAgKiBzbyBsaXN0ZW5lcnMgbWF5IGJlIGNhbGxlZCBhdCBhbnkgdGltZSBhbmQgd2l0aFxuICAgICAqIGFueSBhbmltYXRpb24gQVBJLCBqdXN0IGludm9rZSB0aWNrZXIudXBkYXRlKHRpbWUpLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdGltZSAtIFRpbWUgc2luY2UgbGFzdCB0aWNrLlxuICAgICAqL1xuICAgIHRoaXMuX3RpY2sgPSBmdW5jdGlvbiAodGltZSkge1xuICAgICAgICB0aGlzJDEuX3JlcXVlc3RJZCA9IG51bGw7XG5cbiAgICAgICAgaWYgKHRoaXMkMS5zdGFydGVkKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBJbnZva2UgbGlzdGVuZXJzIG5vd1xuICAgICAgICAgICAgdGhpcyQxLnVwZGF0ZSh0aW1lKTtcbiAgICAgICAgICAgIC8vIExpc3RlbmVyIHNpZGUgZWZmZWN0cyBtYXkgaGF2ZSBtb2RpZmllZCB0aWNrZXIgc3RhdGUuXG4gICAgICAgICAgICBpZiAodGhpcyQxLnN0YXJ0ZWQgJiYgdGhpcyQxLl9yZXF1ZXN0SWQgPT09IG51bGwgJiYgdGhpcyQxLl9oZWFkLm5leHQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcyQxLl9yZXF1ZXN0SWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcyQxLl90aWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59O1xuXG52YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyBGUFM6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sbWluRlBTOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LG1heEZQUzogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xudmFyIHN0YXRpY0FjY2Vzc29ycyA9IHsgc2hhcmVkOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHN5c3RlbTogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4vKipcbiAqIENvbmRpdGlvbmFsbHkgcmVxdWVzdHMgYSBuZXcgYW5pbWF0aW9uIGZyYW1lLlxuICogSWYgYSBmcmFtZSBoYXMgbm90IGFscmVhZHkgYmVlbiByZXF1ZXN0ZWQsIGFuZCBpZiB0aGUgaW50ZXJuYWxcbiAqIGVtaXR0ZXIgaGFzIGxpc3RlbmVycywgYSBuZXcgZnJhbWUgaXMgcmVxdWVzdGVkLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cblRpY2tlci5wcm90b3R5cGUuX3JlcXVlc3RJZk5lZWRlZCA9IGZ1bmN0aW9uIF9yZXF1ZXN0SWZOZWVkZWQgKClcbntcbiAgICBpZiAodGhpcy5fcmVxdWVzdElkID09PSBudWxsICYmIHRoaXMuX2hlYWQubmV4dClcbiAgICB7XG4gICAgICAgIC8vIGVuc3VyZSBjYWxsYmFja3MgZ2V0IGNvcnJlY3QgZGVsdGFcbiAgICAgICAgdGhpcy5sYXN0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICB0aGlzLl9sYXN0RnJhbWUgPSB0aGlzLmxhc3RUaW1lO1xuICAgICAgICB0aGlzLl9yZXF1ZXN0SWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5fdGljayk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBDb25kaXRpb25hbGx5IGNhbmNlbHMgYSBwZW5kaW5nIGFuaW1hdGlvbiBmcmFtZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5UaWNrZXIucHJvdG90eXBlLl9jYW5jZWxJZk5lZWRlZCA9IGZ1bmN0aW9uIF9jYW5jZWxJZk5lZWRlZCAoKVxue1xuICAgIGlmICh0aGlzLl9yZXF1ZXN0SWQgIT09IG51bGwpXG4gICAge1xuICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl9yZXF1ZXN0SWQpO1xuICAgICAgICB0aGlzLl9yZXF1ZXN0SWQgPSBudWxsO1xuICAgIH1cbn07XG5cbi8qKlxuICogQ29uZGl0aW9uYWxseSByZXF1ZXN0cyBhIG5ldyBhbmltYXRpb24gZnJhbWUuXG4gKiBJZiB0aGUgdGlja2VyIGhhcyBiZWVuIHN0YXJ0ZWQgaXQgY2hlY2tzIGlmIGEgZnJhbWUgaGFzIG5vdCBhbHJlYWR5XG4gKiBiZWVuIHJlcXVlc3RlZCwgYW5kIGlmIHRoZSBpbnRlcm5hbCBlbWl0dGVyIGhhcyBsaXN0ZW5lcnMuIElmIHRoZXNlXG4gKiBjb25kaXRpb25zIGFyZSBtZXQsIGEgbmV3IGZyYW1lIGlzIHJlcXVlc3RlZC4gSWYgdGhlIHRpY2tlciBoYXMgbm90XG4gKiBiZWVuIHN0YXJ0ZWQsIGJ1dCBhdXRvU3RhcnQgaXMgYHRydWVgLCB0aGVuIHRoZSB0aWNrZXIgc3RhcnRzIG5vdyxcbiAqIGFuZCBjb250aW51ZXMgd2l0aCB0aGUgcHJldmlvdXMgY29uZGl0aW9ucyB0byByZXF1ZXN0IGEgbmV3IGZyYW1lLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cblRpY2tlci5wcm90b3R5cGUuX3N0YXJ0SWZQb3NzaWJsZSA9IGZ1bmN0aW9uIF9zdGFydElmUG9zc2libGUgKClcbntcbiAgICBpZiAodGhpcy5zdGFydGVkKVxuICAgIHtcbiAgICAgICAgdGhpcy5fcmVxdWVzdElmTmVlZGVkKCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHRoaXMuYXV0b1N0YXJ0KVxuICAgIHtcbiAgICAgICAgdGhpcy5zdGFydCgpO1xuICAgIH1cbn07XG5cbi8qKlxuICogUmVnaXN0ZXIgYSBoYW5kbGVyIGZvciB0aWNrIGV2ZW50cy4gQ2FsbHMgY29udGludW91c2x5IHVubGVzc1xuICogaXQgaXMgcmVtb3ZlZCBvciB0aGUgdGlja2VyIGlzIHN0b3BwZWQuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBUaGUgbGlzdGVuZXIgZnVuY3Rpb24gdG8gYmUgYWRkZWQgZm9yIHVwZGF0ZXNcbiAqIEBwYXJhbSB7Kn0gW2NvbnRleHRdIC0gVGhlIGxpc3RlbmVyIGNvbnRleHRcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcHJpb3JpdHk9UElYSS5VUERBVEVfUFJJT1JJVFkuTk9STUFMXSAtIFRoZSBwcmlvcml0eSBmb3IgZW1pdHRpbmdcbiAqIEByZXR1cm5zIHtQSVhJLlRpY2tlcn0gVGhpcyBpbnN0YW5jZSBvZiBhIHRpY2tlclxuICovXG5UaWNrZXIucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIGFkZCAoZm4sIGNvbnRleHQsIHByaW9yaXR5KVxue1xuICAgICAgICBpZiAoIHByaW9yaXR5ID09PSB2b2lkIDAgKSBwcmlvcml0eSA9IFVQREFURV9QUklPUklUWS5OT1JNQUw7XG5cbiAgICByZXR1cm4gdGhpcy5fYWRkTGlzdGVuZXIobmV3IFRpY2tlckxpc3RlbmVyKGZuLCBjb250ZXh0LCBwcmlvcml0eSkpO1xufTtcblxuLyoqXG4gKiBBZGQgYSBoYW5kbGVyIGZvciB0aGUgdGljayBldmVudCB3aGljaCBpcyBvbmx5IGV4ZWN1dGUgb25jZS5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIFRoZSBsaXN0ZW5lciBmdW5jdGlvbiB0byBiZSBhZGRlZCBmb3Igb25lIHVwZGF0ZVxuICogQHBhcmFtIHsqfSBbY29udGV4dF0gLSBUaGUgbGlzdGVuZXIgY29udGV4dFxuICogQHBhcmFtIHtudW1iZXJ9IFtwcmlvcml0eT1QSVhJLlVQREFURV9QUklPUklUWS5OT1JNQUxdIC0gVGhlIHByaW9yaXR5IGZvciBlbWl0dGluZ1xuICogQHJldHVybnMge1BJWEkuVGlja2VyfSBUaGlzIGluc3RhbmNlIG9mIGEgdGlja2VyXG4gKi9cblRpY2tlci5wcm90b3R5cGUuYWRkT25jZSA9IGZ1bmN0aW9uIGFkZE9uY2UgKGZuLCBjb250ZXh0LCBwcmlvcml0eSlcbntcbiAgICAgICAgaWYgKCBwcmlvcml0eSA9PT0gdm9pZCAwICkgcHJpb3JpdHkgPSBVUERBVEVfUFJJT1JJVFkuTk9STUFMO1xuXG4gICAgcmV0dXJuIHRoaXMuX2FkZExpc3RlbmVyKG5ldyBUaWNrZXJMaXN0ZW5lcihmbiwgY29udGV4dCwgcHJpb3JpdHksIHRydWUpKTtcbn07XG5cbi8qKlxuICogSW50ZXJuYWxseSBhZGRzIHRoZSBldmVudCBoYW5kbGVyIHNvIHRoYXQgaXQgY2FuIGJlIHNvcnRlZCBieSBwcmlvcml0eS5cbiAqIFByaW9yaXR5IGFsbG93cyBjZXJ0YWluIGhhbmRsZXIgKHVzZXIsIEFuaW1hdGVkU3ByaXRlLCBJbnRlcmFjdGlvbikgdG8gYmUgcnVuXG4gKiBiZWZvcmUgdGhlIHJlbmRlcmluZy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtUaWNrZXJMaXN0ZW5lcn0gbGlzdGVuZXIgLSBDdXJyZW50IGxpc3RlbmVyIGJlaW5nIGFkZGVkLlxuICogQHJldHVybnMge1BJWEkuVGlja2VyfSBUaGlzIGluc3RhbmNlIG9mIGEgdGlja2VyXG4gKi9cblRpY2tlci5wcm90b3R5cGUuX2FkZExpc3RlbmVyID0gZnVuY3Rpb24gX2FkZExpc3RlbmVyIChsaXN0ZW5lcilcbntcbiAgICAvLyBGb3IgYXR0YWNoaW5nIHRvIGhlYWRcbiAgICB2YXIgY3VycmVudCA9IHRoaXMuX2hlYWQubmV4dDtcbiAgICB2YXIgcHJldmlvdXMgPSB0aGlzLl9oZWFkO1xuXG4gICAgLy8gQWRkIHRoZSBmaXJzdCBpdGVtXG4gICAgaWYgKCFjdXJyZW50KVxuICAgIHtcbiAgICAgICAgbGlzdGVuZXIuY29ubmVjdChwcmV2aW91cyk7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIC8vIEdvIGZyb20gaGlnaGVzdCB0byBsb3dlc3QgcHJpb3JpdHlcbiAgICAgICAgd2hpbGUgKGN1cnJlbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lci5wcmlvcml0eSA+IGN1cnJlbnQucHJpb3JpdHkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIuY29ubmVjdChwcmV2aW91cyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcmV2aW91cyA9IGN1cnJlbnQ7XG4gICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5uZXh0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTm90IHlldCBjb25uZWN0ZWRcbiAgICAgICAgaWYgKCFsaXN0ZW5lci5wcmV2aW91cylcbiAgICAgICAge1xuICAgICAgICAgICAgbGlzdGVuZXIuY29ubmVjdChwcmV2aW91cyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLl9zdGFydElmUG9zc2libGUoKTtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZW1vdmVzIGFueSBoYW5kbGVycyBtYXRjaGluZyB0aGUgZnVuY3Rpb24gYW5kIGNvbnRleHQgcGFyYW1ldGVycy5cbiAqIElmIG5vIGhhbmRsZXJzIGFyZSBsZWZ0IGFmdGVyIHJlbW92aW5nLCB0aGVuIGl0IGNhbmNlbHMgdGhlIGFuaW1hdGlvbiBmcmFtZS5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIFRoZSBsaXN0ZW5lciBmdW5jdGlvbiB0byBiZSByZW1vdmVkXG4gKiBAcGFyYW0geyp9IFtjb250ZXh0XSAtIFRoZSBsaXN0ZW5lciBjb250ZXh0IHRvIGJlIHJlbW92ZWRcbiAqIEByZXR1cm5zIHtQSVhJLlRpY2tlcn0gVGhpcyBpbnN0YW5jZSBvZiBhIHRpY2tlclxuICovXG5UaWNrZXIucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZSAoZm4sIGNvbnRleHQpXG57XG4gICAgdmFyIGxpc3RlbmVyID0gdGhpcy5faGVhZC5uZXh0O1xuXG4gICAgd2hpbGUgKGxpc3RlbmVyKVxuICAgIHtcbiAgICAgICAgLy8gV2UgZm91bmQgYSBtYXRjaCwgbGV0cyByZW1vdmUgaXRcbiAgICAgICAgLy8gbm8gYnJlYWsgdG8gZGVsZXRlIGFsbCBwb3NzaWJsZSBtYXRjaGVzXG4gICAgICAgIC8vIGluY2FzZSBhIGxpc3RlbmVyIHdhcyBhZGRlZCAyKyB0aW1lc1xuICAgICAgICBpZiAobGlzdGVuZXIubWF0Y2goZm4sIGNvbnRleHQpKVxuICAgICAgICB7XG4gICAgICAgICAgICBsaXN0ZW5lciA9IGxpc3RlbmVyLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxpc3RlbmVyID0gbGlzdGVuZXIubmV4dDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICghdGhpcy5faGVhZC5uZXh0KVxuICAgIHtcbiAgICAgICAgdGhpcy5fY2FuY2VsSWZOZWVkZWQoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogU3RhcnRzIHRoZSB0aWNrZXIuIElmIHRoZSB0aWNrZXIgaGFzIGxpc3RlbmVyc1xuICogYSBuZXcgYW5pbWF0aW9uIGZyYW1lIGlzIHJlcXVlc3RlZCBhdCB0aGlzIHBvaW50LlxuICovXG5UaWNrZXIucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gc3RhcnQgKClcbntcbiAgICBpZiAoIXRoaXMuc3RhcnRlZClcbiAgICB7XG4gICAgICAgIHRoaXMuc3RhcnRlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX3JlcXVlc3RJZk5lZWRlZCgpO1xuICAgIH1cbn07XG5cbi8qKlxuICogU3RvcHMgdGhlIHRpY2tlci4gSWYgdGhlIHRpY2tlciBoYXMgcmVxdWVzdGVkXG4gKiBhbiBhbmltYXRpb24gZnJhbWUgaXQgaXMgY2FuY2VsZWQgYXQgdGhpcyBwb2ludC5cbiAqL1xuVGlja2VyLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gc3RvcCAoKVxue1xuICAgIGlmICh0aGlzLnN0YXJ0ZWQpXG4gICAge1xuICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fY2FuY2VsSWZOZWVkZWQoKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIERlc3Ryb3kgdGhlIHRpY2tlciBhbmQgZG9uJ3QgdXNlIGFmdGVyIHRoaXMuIENhbGxpbmdcbiAqIHRoaXMgbWV0aG9kIHJlbW92ZXMgYWxsIHJlZmVyZW5jZXMgdG8gaW50ZXJuYWwgZXZlbnRzLlxuICovXG5UaWNrZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95ICgpXG57XG4gICAgaWYgKCF0aGlzLl9wcm90ZWN0ZWQpXG4gICAge1xuICAgICAgICB0aGlzLnN0b3AoKTtcblxuICAgICAgICB2YXIgbGlzdGVuZXIgPSB0aGlzLl9oZWFkLm5leHQ7XG5cbiAgICAgICAgd2hpbGUgKGxpc3RlbmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICBsaXN0ZW5lciA9IGxpc3RlbmVyLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9oZWFkLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5faGVhZCA9IG51bGw7XG4gICAgfVxufTtcblxuLyoqXG4gKiBUcmlnZ2VycyBhbiB1cGRhdGUuIEFuIHVwZGF0ZSBlbnRhaWxzIHNldHRpbmcgdGhlXG4gKiBjdXJyZW50IHtAbGluayBQSVhJLlRpY2tlciNlbGFwc2VkTVN9LFxuICogdGhlIGN1cnJlbnQge0BsaW5rIFBJWEkuVGlja2VyI2RlbHRhVGltZX0sXG4gKiBpbnZva2luZyBhbGwgbGlzdGVuZXJzIHdpdGggY3VycmVudCBkZWx0YVRpbWUsXG4gKiBhbmQgdGhlbiBmaW5hbGx5IHNldHRpbmcge0BsaW5rIFBJWEkuVGlja2VyI2xhc3RUaW1lfVxuICogd2l0aCB0aGUgdmFsdWUgb2YgY3VycmVudFRpbWUgdGhhdCB3YXMgcHJvdmlkZWQuXG4gKiBUaGlzIG1ldGhvZCB3aWxsIGJlIGNhbGxlZCBhdXRvbWF0aWNhbGx5IGJ5IGFuaW1hdGlvblxuICogZnJhbWUgY2FsbGJhY2tzIGlmIHRoZSB0aWNrZXIgaW5zdGFuY2UgaGFzIGJlZW4gc3RhcnRlZFxuICogYW5kIGxpc3RlbmVycyBhcmUgYWRkZWQuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IFtjdXJyZW50VGltZT1wZXJmb3JtYW5jZS5ub3coKV0gLSB0aGUgY3VycmVudCB0aW1lIG9mIGV4ZWN1dGlvblxuICovXG5UaWNrZXIucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSAoY3VycmVudFRpbWUpXG57XG4gICAgICAgIGlmICggY3VycmVudFRpbWUgPT09IHZvaWQgMCApIGN1cnJlbnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG5cbiAgICB2YXIgZWxhcHNlZE1TO1xuXG4gICAgLy8gSWYgdGhlIGRpZmZlcmVuY2UgaW4gdGltZSBpcyB6ZXJvIG9yIG5lZ2F0aXZlLCB3ZSBpZ25vcmUgbW9zdCBvZiB0aGUgd29yayBkb25lIGhlcmUuXG4gICAgLy8gSWYgdGhlcmUgaXMgbm8gdmFsaWQgZGlmZmVyZW5jZSwgdGhlbiBzaG91bGQgYmUgbm8gcmVhc29uIHRvIGxldCBhbnlvbmUga25vdyBhYm91dCBpdC5cbiAgICAvLyBBIHplcm8gZGVsdGEsIGlzIGV4YWN0bHkgdGhhdCwgbm90aGluZyBzaG91bGQgdXBkYXRlLlxuICAgIC8vXG4gICAgLy8gVGhlIGRpZmZlcmVuY2UgaW4gdGltZSBjYW4gYmUgbmVnYXRpdmUsIGFuZCBubyB0aGlzIGRvZXMgbm90IG1lYW4gdGltZSB0cmF2ZWxpbmcuXG4gICAgLy8gVGhpcyBjYW4gYmUgdGhlIHJlc3VsdCBvZiBhIHJhY2UgY29uZGl0aW9uIGJldHdlZW4gd2hlbiBhbiBhbmltYXRpb24gZnJhbWUgaXMgcmVxdWVzdGVkXG4gICAgLy8gb24gdGhlIGN1cnJlbnQgSmF2YVNjcmlwdCBlbmdpbmUgZXZlbnQgbG9vcCwgYW5kIHdoZW4gdGhlIHRpY2tlcidzIHN0YXJ0IG1ldGhvZCBpcyBpbnZva2VkXG4gICAgLy8gKHdoaWNoIGludm9rZXMgdGhlIGludGVybmFsIF9yZXF1ZXN0SWZOZWVkZWQgbWV0aG9kKS4gSWYgYSBmcmFtZSBpcyByZXF1ZXN0ZWQgYmVmb3JlXG4gICAgLy8gX3JlcXVlc3RJZk5lZWRlZCBpcyBpbnZva2VkLCB0aGVuIHRoZSBjYWxsYmFjayBmb3IgdGhlIGFuaW1hdGlvbiBmcmFtZSB0aGUgdGlja2VyIHJlcXVlc3RzLFxuICAgIC8vIGNhbiByZWNlaXZlIGEgdGltZSBhcmd1bWVudCB0aGF0IGNhbiBiZSBsZXNzIHRoYW4gdGhlIGxhc3RUaW1lIHZhbHVlIHRoYXQgd2FzIHNldCB3aXRoaW5cbiAgICAvLyBfcmVxdWVzdElmTmVlZGVkLiBUaGlzIGRpZmZlcmVuY2UgaXMgaW4gbWljcm9zZWNvbmRzLCBidXQgdGhpcyBpcyBlbm91Z2ggdG8gY2F1c2UgcHJvYmxlbXMuXG4gICAgLy9cbiAgICAvLyBUaGlzIGNoZWNrIGNvdmVycyB0aGlzIGJyb3dzZXIgZW5naW5lIHRpbWluZyBpc3N1ZSwgYXMgd2VsbCBhcyBpZiBjb25zdW1lcnMgcGFzcyBhbiBpbnZhbGlkXG4gICAgLy8gY3VycmVudFRpbWUgdmFsdWUuIFRoaXMgbWF5IGhhcHBlbiBpZiBjb25zdW1lcnMgb3B0LW91dCBvZiB0aGUgYXV0b1N0YXJ0LCBhbmQgdXBkYXRlIHRoZW1zZWx2ZXMuXG5cbiAgICBpZiAoY3VycmVudFRpbWUgPiB0aGlzLmxhc3RUaW1lKVxuICAgIHtcbiAgICAgICAgLy8gU2F2ZSB1bmNhcHBlZCBlbGFwc2VkTVMgZm9yIG1lYXN1cmVtZW50XG4gICAgICAgIGVsYXBzZWRNUyA9IHRoaXMuZWxhcHNlZE1TID0gY3VycmVudFRpbWUgLSB0aGlzLmxhc3RUaW1lO1xuXG4gICAgICAgIC8vIGNhcCB0aGUgbWlsbGlzZWNvbmRzIGVsYXBzZWQgdXNlZCBmb3IgZGVsdGFUaW1lXG4gICAgICAgIGlmIChlbGFwc2VkTVMgPiB0aGlzLl9tYXhFbGFwc2VkTVMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGVsYXBzZWRNUyA9IHRoaXMuX21heEVsYXBzZWRNUztcbiAgICAgICAgfVxuXG4gICAgICAgIGVsYXBzZWRNUyAqPSB0aGlzLnNwZWVkO1xuXG4gICAgICAgIC8vIElmIG5vdCBlbm91Z2ggdGltZSBoYXMgcGFzc2VkLCBleGl0IHRoZSBmdW5jdGlvbi5cbiAgICAgICAgLy8gR2V0IHJlYWR5IGZvciBuZXh0IGZyYW1lIGJ5IHNldHRpbmcgX2xhc3RGcmFtZSwgYnV0IGJhc2VkIG9uIF9taW5FbGFwc2VkTVNcbiAgICAgICAgLy8gYWRqdXN0bWVudCB0byBlbnN1cmUgYSByZWxhdGl2ZWx5IHN0YWJsZSBpbnRlcnZhbC5cbiAgICAgICAgaWYgKHRoaXMuX21pbkVsYXBzZWRNUylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGRlbHRhID0gY3VycmVudFRpbWUgLSB0aGlzLl9sYXN0RnJhbWUgfCAwO1xuXG4gICAgICAgICAgICBpZiAoZGVsdGEgPCB0aGlzLl9taW5FbGFwc2VkTVMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9sYXN0RnJhbWUgPSBjdXJyZW50VGltZSAtIChkZWx0YSAlIHRoaXMuX21pbkVsYXBzZWRNUyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRlbHRhTVMgPSBlbGFwc2VkTVM7XG4gICAgICAgIHRoaXMuZGVsdGFUaW1lID0gdGhpcy5kZWx0YU1TICogc2V0dGluZ3MuVEFSR0VUX0ZQTVM7XG5cbiAgICAgICAgLy8gQ2FjaGUgYSBsb2NhbCByZWZlcmVuY2UsIGluLWNhc2UgdGlja2VyIGlzIGRlc3Ryb3llZFxuICAgICAgICAvLyBkdXJpbmcgdGhlIGVtaXQsIHdlIGNhbiBzdGlsbCBjaGVjayBmb3IgaGVhZC5uZXh0XG4gICAgICAgIHZhciBoZWFkID0gdGhpcy5faGVhZDtcblxuICAgICAgICAvLyBJbnZva2UgbGlzdGVuZXJzIGFkZGVkIHRvIGludGVybmFsIGVtaXR0ZXJcbiAgICAgICAgdmFyIGxpc3RlbmVyID0gaGVhZC5uZXh0O1xuXG4gICAgICAgIHdoaWxlIChsaXN0ZW5lcilcbiAgICAgICAge1xuICAgICAgICAgICAgbGlzdGVuZXIgPSBsaXN0ZW5lci5lbWl0KHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaGVhZC5uZXh0KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9jYW5jZWxJZk5lZWRlZCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIHRoaXMuZGVsdGFUaW1lID0gdGhpcy5kZWx0YU1TID0gdGhpcy5lbGFwc2VkTVMgPSAwO1xuICAgIH1cblxuICAgIHRoaXMubGFzdFRpbWUgPSBjdXJyZW50VGltZTtcbn07XG5cbi8qKlxuICogVGhlIGZyYW1lcyBwZXIgc2Vjb25kIGF0IHdoaWNoIHRoaXMgdGlja2VyIGlzIHJ1bm5pbmcuXG4gKiBUaGUgZGVmYXVsdCBpcyBhcHByb3hpbWF0ZWx5IDYwIGluIG1vc3QgbW9kZXJuIGJyb3dzZXJzLlxuICogKipOb3RlOioqIFRoaXMgZG9lcyBub3QgZmFjdG9yIGluIHRoZSB2YWx1ZSBvZlxuICoge0BsaW5rIFBJWEkuVGlja2VyI3NwZWVkfSwgd2hpY2ggaXMgc3BlY2lmaWNcbiAqIHRvIHNjYWxpbmcge0BsaW5rIFBJWEkuVGlja2VyI2RlbHRhVGltZX0uXG4gKlxuICogQG1lbWJlciB7bnVtYmVyfVxuICogQHJlYWRvbmx5XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5GUFMuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gMTAwMCAvIHRoaXMuZWxhcHNlZE1TO1xufTtcblxuLyoqXG4gKiBNYW5hZ2VzIHRoZSBtYXhpbXVtIGFtb3VudCBvZiBtaWxsaXNlY29uZHMgYWxsb3dlZCB0b1xuICogZWxhcHNlIGJldHdlZW4gaW52b2tpbmcge0BsaW5rIFBJWEkuVGlja2VyI3VwZGF0ZX0uXG4gKiBUaGlzIHZhbHVlIGlzIHVzZWQgdG8gY2FwIHtAbGluayBQSVhJLlRpY2tlciNkZWx0YVRpbWV9LFxuICogYnV0IGRvZXMgbm90IGVmZmVjdCB0aGUgbWVhc3VyZWQgdmFsdWUgb2Yge0BsaW5rIFBJWEkuVGlja2VyI0ZQU30uXG4gKiBXaGVuIHNldHRpbmcgdGhpcyBwcm9wZXJ0eSBpdCBpcyBjbGFtcGVkIHRvIGEgdmFsdWUgYmV0d2VlblxuICogYDBgIGFuZCBgUElYSS5zZXR0aW5ncy5UQVJHRVRfRlBNUyAqIDEwMDBgLlxuICpcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqIEBkZWZhdWx0IDEwXG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5taW5GUFMuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gMTAwMCAvIHRoaXMuX21heEVsYXBzZWRNUztcbn07XG5cbnByb3RvdHlwZUFjY2Vzc29ycy5taW5GUFMuc2V0ID0gZnVuY3Rpb24gKGZwcykgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgLy8gTWluaW11bSBtdXN0IGJlIGJlbG93IHRoZSBtYXhGUFNcbiAgICB2YXIgbWluRlBTID0gTWF0aC5taW4odGhpcy5tYXhGUFMsIGZwcyk7XG5cbiAgICAvLyBNdXN0IGJlIGF0IGxlYXN0IDAsIGJ1dCBiZWxvdyAxIC8gc2V0dGluZ3MuVEFSR0VUX0ZQTVNcbiAgICB2YXIgbWluRlBNUyA9IE1hdGgubWluKE1hdGgubWF4KDAsIG1pbkZQUykgLyAxMDAwLCBzZXR0aW5ncy5UQVJHRVRfRlBNUyk7XG5cbiAgICB0aGlzLl9tYXhFbGFwc2VkTVMgPSAxIC8gbWluRlBNUztcbn07XG5cbi8qKlxuICogTWFuYWdlcyB0aGUgbWluaW11bSBhbW91bnQgb2YgbWlsbGlzZWNvbmRzIHJlcXVpcmVkIHRvXG4gKiBlbGFwc2UgYmV0d2VlbiBpbnZva2luZyB7QGxpbmsgUElYSS5UaWNrZXIjdXBkYXRlfS5cbiAqIFRoaXMgd2lsbCBlZmZlY3QgdGhlIG1lYXN1cmVkIHZhbHVlIG9mIHtAbGluayBQSVhJLlRpY2tlciNGUFN9LlxuICogSWYgaXQgaXMgc2V0IHRvIGAwYCwgdGhlbiB0aGVyZSBpcyBubyBsaW1pdDsgUGl4aUpTIHdpbGwgcmVuZGVyIGFzIG1hbnkgZnJhbWVzIGFzIGl0IGNhbi5cbiAqIE90aGVyd2lzZSBpdCB3aWxsIGJlIGF0IGxlYXN0IGBtaW5GUFNgXG4gKlxuICogQG1lbWJlciB7bnVtYmVyfVxuICogQGRlZmF1bHQgMFxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMubWF4RlBTLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgaWYgKHRoaXMuX21pbkVsYXBzZWRNUylcbiAgICB7XG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKDEwMDAgLyB0aGlzLl9taW5FbGFwc2VkTVMpO1xuICAgIH1cblxuICAgIHJldHVybiAwO1xufTtcblxucHJvdG90eXBlQWNjZXNzb3JzLm1heEZQUy5zZXQgPSBmdW5jdGlvbiAoZnBzKVxue1xuICAgIGlmIChmcHMgPT09IDApXG4gICAge1xuICAgICAgICB0aGlzLl9taW5FbGFwc2VkTVMgPSAwO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICAvLyBNYXggbXVzdCBiZSBhdCBsZWFzdCB0aGUgbWluRlBTXG4gICAgICAgIHZhciBtYXhGUFMgPSBNYXRoLm1heCh0aGlzLm1pbkZQUywgZnBzKTtcblxuICAgICAgICB0aGlzLl9taW5FbGFwc2VkTVMgPSAxIC8gKG1heEZQUyAvIDEwMDApO1xuICAgIH1cbn07XG5cbi8qKlxuICogVGhlIHNoYXJlZCB0aWNrZXIgaW5zdGFuY2UgdXNlZCBieSB7QGxpbmsgUElYSS5BbmltYXRlZFNwcml0ZX0gYW5kIGJ5XG4gKiB7QGxpbmsgUElYSS5WaWRlb1Jlc291cmNlfSB0byB1cGRhdGUgYW5pbWF0aW9uIGZyYW1lcyAvIHZpZGVvIHRleHR1cmVzLlxuICpcbiAqIEl0IG1heSBhbHNvIGJlIHVzZWQgYnkge0BsaW5rIFBJWEkuQXBwbGljYXRpb259IGlmIGNyZWF0ZWQgd2l0aCB0aGUgYHNoYXJlZFRpY2tlcmAgb3B0aW9uIHByb3BlcnR5IHNldCB0byB0cnVlLlxuICpcbiAqIFRoZSBwcm9wZXJ0eSB7QGxpbmsgUElYSS5UaWNrZXIjYXV0b1N0YXJ0fSBpcyBzZXQgdG8gYHRydWVgIGZvciB0aGlzIGluc3RhbmNlLlxuICogUGxlYXNlIGZvbGxvdyB0aGUgZXhhbXBsZXMgZm9yIHVzYWdlLCBpbmNsdWRpbmcgaG93IHRvIG9wdC1vdXQgb2YgYXV0by1zdGFydGluZyB0aGUgc2hhcmVkIHRpY2tlci5cbiAqXG4gKiBAZXhhbXBsZVxuICogbGV0IHRpY2tlciA9IFBJWEkuVGlja2VyLnNoYXJlZDtcbiAqIC8vIFNldCB0aGlzIHRvIHByZXZlbnQgc3RhcnRpbmcgdGhpcyB0aWNrZXIgd2hlbiBsaXN0ZW5lcnMgYXJlIGFkZGVkLlxuICogLy8gQnkgZGVmYXVsdCB0aGlzIGlzIHRydWUgb25seSBmb3IgdGhlIFBJWEkuVGlja2VyLnNoYXJlZCBpbnN0YW5jZS5cbiAqIHRpY2tlci5hdXRvU3RhcnQgPSBmYWxzZTtcbiAqIC8vIEZZSSwgY2FsbCB0aGlzIHRvIGVuc3VyZSB0aGUgdGlja2VyIGlzIHN0b3BwZWQuIEl0IHNob3VsZCBiZSBzdG9wcGVkXG4gKiAvLyBpZiB5b3UgaGF2ZSBub3QgYXR0ZW1wdGVkIHRvIHJlbmRlciBhbnl0aGluZyB5ZXQuXG4gKiB0aWNrZXIuc3RvcCgpO1xuICogLy8gQ2FsbCB0aGlzIHdoZW4geW91IGFyZSByZWFkeSBmb3IgYSBydW5uaW5nIHNoYXJlZCB0aWNrZXIuXG4gKiB0aWNrZXIuc3RhcnQoKTtcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gWW91IG1heSB1c2UgdGhlIHNoYXJlZCB0aWNrZXIgdG8gcmVuZGVyLi4uXG4gKiBsZXQgcmVuZGVyZXIgPSBQSVhJLmF1dG9EZXRlY3RSZW5kZXJlcigpO1xuICogbGV0IHN0YWdlID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XG4gKiBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHJlbmRlcmVyLnZpZXcpO1xuICogdGlja2VyLmFkZChmdW5jdGlvbiAodGltZSkge1xuICogcmVuZGVyZXIucmVuZGVyKHN0YWdlKTtcbiAqIH0pO1xuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBPciB5b3UgY2FuIGp1c3QgdXBkYXRlIGl0IG1hbnVhbGx5LlxuICogdGlja2VyLmF1dG9TdGFydCA9IGZhbHNlO1xuICogdGlja2VyLnN0b3AoKTtcbiAqIGZ1bmN0aW9uIGFuaW1hdGUodGltZSkge1xuICogdGlja2VyLnVwZGF0ZSh0aW1lKTtcbiAqIHJlbmRlcmVyLnJlbmRlcihzdGFnZSk7XG4gKiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7XG4gKiB9XG4gKiBhbmltYXRlKHBlcmZvcm1hbmNlLm5vdygpKTtcbiAqXG4gKiBAbWVtYmVyIHtQSVhJLlRpY2tlcn1cbiAqIEBzdGF0aWNcbiAqL1xuc3RhdGljQWNjZXNzb3JzLnNoYXJlZC5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIGlmICghVGlja2VyLl9zaGFyZWQpXG4gICAge1xuICAgICAgICB2YXIgc2hhcmVkID0gVGlja2VyLl9zaGFyZWQgPSBuZXcgVGlja2VyKCk7XG5cbiAgICAgICAgc2hhcmVkLmF1dG9TdGFydCA9IHRydWU7XG4gICAgICAgIHNoYXJlZC5fcHJvdGVjdGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gVGlja2VyLl9zaGFyZWQ7XG59O1xuXG4vKipcbiAqIFRoZSBzeXN0ZW0gdGlja2VyIGluc3RhbmNlIHVzZWQgYnkge0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyfSBhbmQgYnlcbiAqIHtAbGluayBQSVhJLkJhc2VQcmVwYXJlfSBmb3IgY29yZSB0aW1pbmcgZnVuY3Rpb25hbGl0eSB0aGF0IHNob3VsZG4ndCB1c3VhbGx5IG5lZWQgdG8gYmUgcGF1c2VkLFxuICogdW5saWtlIHRoZSBgc2hhcmVkYCB0aWNrZXIgd2hpY2ggZHJpdmVzIHZpc3VhbCBhbmltYXRpb25zIGFuZCByZW5kZXJpbmcgd2hpY2ggbWF5IHdhbnQgdG8gYmUgcGF1c2VkLlxuICpcbiAqIFRoZSBwcm9wZXJ0eSB7QGxpbmsgUElYSS5UaWNrZXIjYXV0b1N0YXJ0fSBpcyBzZXQgdG8gYHRydWVgIGZvciB0aGlzIGluc3RhbmNlLlxuICpcbiAqIEBtZW1iZXIge1BJWEkuVGlja2VyfVxuICogQHN0YXRpY1xuICovXG5zdGF0aWNBY2Nlc3NvcnMuc3lzdGVtLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgaWYgKCFUaWNrZXIuX3N5c3RlbSlcbiAgICB7XG4gICAgICAgIHZhciBzeXN0ZW0gPSBUaWNrZXIuX3N5c3RlbSA9IG5ldyBUaWNrZXIoKTtcblxuICAgICAgICBzeXN0ZW0uYXV0b1N0YXJ0ID0gdHJ1ZTtcbiAgICAgICAgc3lzdGVtLl9wcm90ZWN0ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBUaWNrZXIuX3N5c3RlbTtcbn07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBUaWNrZXIucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBUaWNrZXIsIHN0YXRpY0FjY2Vzc29ycyApO1xuXG4vKipcbiAqIE1pZGRsZXdhcmUgZm9yIGZvciBBcHBsaWNhdGlvbiBUaWNrZXIuXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7VGlja2VyUGx1Z2lufSBmcm9tICdAcGl4aS90aWNrZXInO1xuICogaW1wb3J0IHtBcHBsaWNhdGlvbn0gZnJvbSAnQHBpeGkvYXBwJztcbiAqIEFwcGxpY2F0aW9uLnJlZ2lzdGVyUGx1Z2luKFRpY2tlclBsdWdpbik7XG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGlja2VyUGx1Z2luID0gZnVuY3Rpb24gVGlja2VyUGx1Z2luICgpIHt9O1xuXG5UaWNrZXJQbHVnaW4uaW5pdCA9IGZ1bmN0aW9uIGluaXQgKG9wdGlvbnMpXG57XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgLy8gU2V0IGRlZmF1bHRcbiAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgIGF1dG9TdGFydDogdHJ1ZSxcbiAgICAgICAgc2hhcmVkVGlja2VyOiBmYWxzZSxcbiAgICB9LCBvcHRpb25zKTtcblxuICAgIC8vIENyZWF0ZSB0aWNrZXIgc2V0dGVyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICd0aWNrZXInLFxuICAgICAgICB7XG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh0aWNrZXIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3RpY2tlcilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RpY2tlci5yZW1vdmUodGhpcy5yZW5kZXIsIHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl90aWNrZXIgPSB0aWNrZXI7XG4gICAgICAgICAgICAgICAgaWYgKHRpY2tlcilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRpY2tlci5hZGQodGhpcy5yZW5kZXIsIHRoaXMsIFVQREFURV9QUklPUklUWS5MT1cpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RpY2tlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVuaWVuY2UgbWV0aG9kIGZvciBzdG9wcGluZyB0aGUgcmVuZGVyLlxuICAgICAqXG4gICAgICogQG1ldGhvZCBQSVhJLkFwcGxpY2F0aW9uI3N0b3BcbiAgICAgKi9cbiAgICB0aGlzLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMkMS5fdGlja2VyLnN0b3AoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29udmVuaWVuY2UgbWV0aG9kIGZvciBzdGFydGluZyB0aGUgcmVuZGVyLlxuICAgICAqXG4gICAgICogQG1ldGhvZCBQSVhJLkFwcGxpY2F0aW9uI3N0YXJ0XG4gICAgICovXG4gICAgdGhpcy5zdGFydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcyQxLl90aWNrZXIuc3RhcnQoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwgcmVmZXJlbmNlIHRvIHRoZSB0aWNrZXIuXG4gICAgICpcbiAgICAgKiBAdHlwZSB7UElYSS5UaWNrZXJ9XG4gICAgICogQG5hbWUgX3RpY2tlclxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkFwcGxpY2F0aW9uI1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fdGlja2VyID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRpY2tlciBmb3IgZG9pbmcgcmVuZGVyIHVwZGF0ZXMuXG4gICAgICpcbiAgICAgKiBAdHlwZSB7UElYSS5UaWNrZXJ9XG4gICAgICogQG5hbWUgdGlja2VyXG4gICAgICogQG1lbWJlcm9mIFBJWEkuQXBwbGljYXRpb24jXG4gICAgICogQGRlZmF1bHQgUElYSS5UaWNrZXIuc2hhcmVkXG4gICAgICovXG4gICAgdGhpcy50aWNrZXIgPSBvcHRpb25zLnNoYXJlZFRpY2tlciA/IFRpY2tlci5zaGFyZWQgOiBuZXcgVGlja2VyKCk7XG5cbiAgICAvLyBTdGFydCB0aGUgcmVuZGVyaW5nXG4gICAgaWYgKG9wdGlvbnMuYXV0b1N0YXJ0KVxuICAgIHtcbiAgICAgICAgdGhpcy5zdGFydCgpO1xuICAgIH1cbn07XG5cbi8qKlxuICogQ2xlYW4gdXAgdGhlIHRpY2tlciwgc2NvcGVkIHRvIGFwcGxpY2F0aW9uLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBwcml2YXRlXG4gKi9cblRpY2tlclBsdWdpbi5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxue1xuICAgIGlmICh0aGlzLl90aWNrZXIpXG4gICAge1xuICAgICAgICB2YXIgb2xkVGlja2VyID0gdGhpcy5fdGlja2VyO1xuXG4gICAgICAgIHRoaXMudGlja2VyID0gbnVsbDtcbiAgICAgICAgb2xkVGlja2VyLmRlc3Ryb3koKTtcbiAgICB9XG59O1xuXG5leHBvcnQgeyBUaWNrZXIsIFRpY2tlclBsdWdpbiwgVVBEQVRFX1BSSU9SSVRZIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aWNrZXIuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2NvcmUgLSB2NS4xLjRcbiAqIENvbXBpbGVkIEZyaSwgMjAgU2VwIDIwMTkgMTc6MTc6NTkgVVRDXG4gKlxuICogQHBpeGkvY29yZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFJ1bm5lciB9IGZyb20gJ0BwaXhpL3J1bm5lcic7XG5pbXBvcnQgeyBkZXRlcm1pbmVDcm9zc09yaWdpbiwgaXNQb3cyLCBCYXNlVGV4dHVyZUNhY2hlLCBUZXh0dXJlQ2FjaGUsIHVpZCwgRXZlbnRFbWl0dGVyLCBnZXRSZXNvbHV0aW9uT2ZVcmwsIG5leHRQb3cyLCBpc01vYmlsZSwgUHJvZ3JhbUNhY2hlLCByZW1vdmVJdGVtcywgaGV4MnN0cmluZywgaGV4MnJnYiwgZGVwcmVjYXRpb24sIGlzV2ViR0xTdXBwb3J0ZWQsIHNheUhlbGxvLCBwcmVtdWx0aXBseUJsZW5kTW9kZSwgbG9nMiwgcHJlbXVsdGlwbHlUaW50IH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBTQ0FMRV9NT0RFUywgRk9STUFUUywgVFlQRVMsIFRBUkdFVFMsIERSQVdfTU9ERVMsIEVOViwgUFJFQ0lTSU9OLCBCTEVORF9NT0RFUywgR0NfTU9ERVMsIE1JUE1BUF9NT0RFUywgV1JBUF9NT0RFUywgUkVOREVSRVJfVFlQRSB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBUaWNrZXIgfSBmcm9tICdAcGl4aS90aWNrZXInO1xuaW1wb3J0IHsgR3JvdXBEOCwgUmVjdGFuZ2xlLCBQb2ludCwgTWF0cml4IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcblxuLyoqXG4gKiBCYXNlIHJlc291cmNlIGNsYXNzIGZvciB0ZXh0dXJlcyB0aGF0IG1hbmFnZXMgdmFsaWRhdGlvbiBhbmQgdXBsb2FkaW5nLCBkZXBlbmRpbmcgb24gaXRzIHR5cGUuXG4gKlxuICogVXBsb2FkaW5nIG9mIGEgYmFzZSB0ZXh0dXJlIHRvIHRoZSBHUFUgaXMgcmVxdWlyZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqL1xudmFyIFJlc291cmNlID0gZnVuY3Rpb24gUmVzb3VyY2Uod2lkdGgsIGhlaWdodClcbntcbiAgICBpZiAoIHdpZHRoID09PSB2b2lkIDAgKSB3aWR0aCA9IDA7XG4gICAgaWYgKCBoZWlnaHQgPT09IHZvaWQgMCApIGhlaWdodCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCB3aWR0aCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHRoaXMuX3dpZHRoID0gd2lkdGg7XG5cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBoZWlnaHQgb2YgdGhlIHJlc291cmNlXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICB0aGlzLl9oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAvKipcbiAgICAgKiBJZiByZXNvdXJjZSBoYXMgYmVlbiBkZXN0cm95ZWRcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgdGhpcy5kZXN0cm95ZWQgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIGB0cnVlYCBpZiByZXNvdXJjZSBpcyBjcmVhdGVkIGJ5IEJhc2VUZXh0dXJlXG4gICAgICogdXNlZnVsIGZvciBkb2luZyBjbGVhbnVwIHdpdGggQmFzZVRleHR1cmUgZGVzdHJveVxuICAgICAqIGFuZCBub3QgY2xlYW5pbmcgdXAgcmVzb3VyY2VzIHRoYXQgd2VyZSBjcmVhdGVkXG4gICAgICogZXh0ZXJuYWxseS5cbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICB0aGlzLmludGVybmFsID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBNaW5pLXJ1bm5lciBmb3IgaGFuZGxpbmcgcmVzaXplIGV2ZW50c1xuICAgICAqXG4gICAgICogQG1lbWJlciB7UnVubmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5vblJlc2l6ZSA9IG5ldyBSdW5uZXIoJ3NldFJlYWxTaXplJywgMik7XG5cbiAgICAvKipcbiAgICAgKiBNaW5pLXJ1bm5lciBmb3IgaGFuZGxpbmcgdXBkYXRlIGV2ZW50c1xuICAgICAqXG4gICAgICogQG1lbWJlciB7UnVubmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5vblVwZGF0ZSA9IG5ldyBSdW5uZXIoJ3VwZGF0ZScpO1xuXG4gICAgLyoqXG4gICAgICogSGFuZGxlIGludGVybmFsIGVycm9ycywgc3VjaCBhcyBsb2FkaW5nIGVycm9yc1xuICAgICAqXG4gICAgICogQG1lbWJlciB7UnVubmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5vbkVycm9yID0gbmV3IFJ1bm5lcignb25FcnJvcicsIDEpO1xufTtcblxudmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgdmFsaWQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sd2lkdGg6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0saGVpZ2h0OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbi8qKlxuICogQmluZCB0byBhIHBhcmVudCBCYXNlVGV4dHVyZVxuICpcbiAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBQYXJlbnQgdGV4dHVyZVxuICovXG5SZXNvdXJjZS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uIGJpbmQgKGJhc2VUZXh0dXJlKVxue1xuICAgIHRoaXMub25SZXNpemUuYWRkKGJhc2VUZXh0dXJlKTtcbiAgICB0aGlzLm9uVXBkYXRlLmFkZChiYXNlVGV4dHVyZSk7XG4gICAgdGhpcy5vbkVycm9yLmFkZChiYXNlVGV4dHVyZSk7XG5cbiAgICAvLyBDYWxsIGEgcmVzaXplIGltbWVkaWF0ZSBpZiB3ZSBhbHJlYWR5XG4gICAgLy8gaGF2ZSB0aGUgd2lkdGggYW5kIGhlaWdodCBvZiB0aGUgcmVzb3VyY2VcbiAgICBpZiAodGhpcy5fd2lkdGggfHwgdGhpcy5faGVpZ2h0KVxuICAgIHtcbiAgICAgICAgdGhpcy5vblJlc2l6ZS5ydW4odGhpcy5fd2lkdGgsIHRoaXMuX2hlaWdodCk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBVbmJpbmQgdG8gYSBwYXJlbnQgQmFzZVRleHR1cmVcbiAqXG4gKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gUGFyZW50IHRleHR1cmVcbiAqL1xuUmVzb3VyY2UucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uIHVuYmluZCAoYmFzZVRleHR1cmUpXG57XG4gICAgdGhpcy5vblJlc2l6ZS5yZW1vdmUoYmFzZVRleHR1cmUpO1xuICAgIHRoaXMub25VcGRhdGUucmVtb3ZlKGJhc2VUZXh0dXJlKTtcbiAgICB0aGlzLm9uRXJyb3IucmVtb3ZlKGJhc2VUZXh0dXJlKTtcbn07XG5cbi8qKlxuICogVHJpZ2dlciBhIHJlc2l6ZSBldmVudFxuICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIFggZGltZW5zaW9uXG4gKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IFkgZGltZW5zaW9uXG4gKi9cblJlc291cmNlLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiByZXNpemUgKHdpZHRoLCBoZWlnaHQpXG57XG4gICAgaWYgKHdpZHRoICE9PSB0aGlzLl93aWR0aCB8fCBoZWlnaHQgIT09IHRoaXMuX2hlaWdodClcbiAgICB7XG4gICAgICAgIHRoaXMuX3dpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuX2hlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy5vblJlc2l6ZS5ydW4od2lkdGgsIGhlaWdodCk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBIYXMgYmVlbiB2YWxpZGF0ZWRcbiAqIEByZWFkb25seVxuICogQG1lbWJlciB7Ym9vbGVhbn1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLnZhbGlkLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuICEhdGhpcy5fd2lkdGggJiYgISF0aGlzLl9oZWlnaHQ7XG59O1xuXG4vKipcbiAqIEhhcyBiZWVuIHVwZGF0ZWQgdHJpZ2dlciBldmVudFxuICovXG5SZXNvdXJjZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlICgpXG57XG4gICAgaWYgKCF0aGlzLmRlc3Ryb3llZClcbiAgICB7XG4gICAgICAgIHRoaXMub25VcGRhdGUucnVuKCk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBUaGlzIGNhbiBiZSBvdmVycmlkZGVuIHRvIHN0YXJ0IHByZWxvYWRpbmcgYSByZXNvdXJjZVxuICogb3IgZG8gYW55IG90aGVyIHByZXBhcmUgc3RlcC5cbiAqIEBwcm90ZWN0ZWRcbiAqIEByZXR1cm4ge1Byb21pc2U8dm9pZD59IEhhbmRsZSB0aGUgdmFsaWRhdGUgZXZlbnRcbiAqL1xuUmVzb3VyY2UucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiBsb2FkICgpXG57XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xufTtcblxuLyoqXG4gKiBUaGUgd2lkdGggb2YgdGhlIHJlc291cmNlLlxuICpcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqIEByZWFkb25seVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMud2lkdGguZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fd2lkdGg7XG59O1xuXG4vKipcbiAqIFRoZSBoZWlnaHQgb2YgdGhlIHJlc291cmNlLlxuICpcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqIEByZWFkb25seVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMuaGVpZ2h0LmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX2hlaWdodDtcbn07XG5cbi8qKlxuICogVXBsb2FkcyB0aGUgdGV4dHVyZSBvciByZXR1cm5zIGZhbHNlIGlmIGl0IGNhbnQgZm9yIHNvbWUgcmVhc29uLiBPdmVycmlkZSB0aGlzLlxuICpcbiAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSB5ZWFoLCByZW5kZXJlciFcbiAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSB0aGUgdGV4dHVyZVxuICogQHBhcmFtIHtQSVhJLkdMVGV4dHVyZX0gZ2xUZXh0dXJlIC0gdGV4dHVyZSBpbnN0YW5jZSBmb3IgdGhpcyB3ZWJnbCBjb250ZXh0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpcyBzdWNjZXNzXG4gKi9cblJlc291cmNlLnByb3RvdHlwZS51cGxvYWQgPSBmdW5jdGlvbiB1cGxvYWQgKHJlbmRlcmVyLCBiYXNlVGV4dHVyZSwgZ2xUZXh0dXJlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG57XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxuLyoqXG4gKiBTZXQgdGhlIHN0eWxlLCBvcHRpb25hbCB0byBvdmVycmlkZVxuICpcbiAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSB5ZWFoLCByZW5kZXJlciFcbiAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSB0aGUgdGV4dHVyZVxuICogQHBhcmFtIHtQSVhJLkdMVGV4dHVyZX0gZ2xUZXh0dXJlIC0gdGV4dHVyZSBpbnN0YW5jZSBmb3IgdGhpcyB3ZWJnbCBjb250ZXh0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlzIHN1Y2Nlc3NcbiAqL1xuUmVzb3VyY2UucHJvdG90eXBlLnN0eWxlID0gZnVuY3Rpb24gc3R5bGUgKHJlbmRlcmVyLCBiYXNlVGV4dHVyZSwgZ2xUZXh0dXJlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG57XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxuLyoqXG4gKiBDbGVhbiB1cCBhbnl0aGluZywgdGhpcyBoYXBwZW5zIHdoZW4gZGVzdHJveWluZyBpcyByZWFkeS5cbiAqXG4gKiBAcHJvdGVjdGVkXG4gKi9cblJlc291cmNlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gZGlzcG9zZSAoKVxue1xuICAgIC8vIG92ZXJyaWRlXG59O1xuXG4vKipcbiAqIENhbGwgd2hlbiBkZXN0cm95aW5nIHJlc291cmNlLCB1bmJpbmQgYW55IEJhc2VUZXh0dXJlIG9iamVjdFxuICogYmVmb3JlIGNhbGxpbmcgdGhpcyBtZXRob2QsIGFzIHJlZmVyZW5jZSBjb3VudHMgYXJlIG1haW50YWluZWRcbiAqIGludGVybmFsbHkuXG4gKi9cblJlc291cmNlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxue1xuICAgIGlmICghdGhpcy5kZXN0cm95ZWQpXG4gICAge1xuICAgICAgICB0aGlzLmRlc3Ryb3llZCA9IHRydWU7XG4gICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLm9uRXJyb3IucmVtb3ZlQWxsKCk7XG4gICAgICAgIHRoaXMub25FcnJvciA9IG51bGw7XG4gICAgICAgIHRoaXMub25SZXNpemUucmVtb3ZlQWxsKCk7XG4gICAgICAgIHRoaXMub25SZXNpemUgPSBudWxsO1xuICAgICAgICB0aGlzLm9uVXBkYXRlLnJlbW92ZUFsbCgpO1xuICAgICAgICB0aGlzLm9uVXBkYXRlID0gbnVsbDtcbiAgICB9XG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyggUmVzb3VyY2UucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuLyoqXG4gKiBCYXNlIGZvciBhbGwgdGhlIGltYWdlL2NhbnZhcyByZXNvdXJjZXNcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICovXG52YXIgQmFzZUltYWdlUmVzb3VyY2UgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChSZXNvdXJjZSkge1xuICAgIGZ1bmN0aW9uIEJhc2VJbWFnZVJlc291cmNlKHNvdXJjZSlcbiAgICB7XG4gICAgICAgIHZhciB3aWR0aCA9IHNvdXJjZS5uYXR1cmFsV2lkdGggfHwgc291cmNlLnZpZGVvV2lkdGggfHwgc291cmNlLndpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gc291cmNlLm5hdHVyYWxIZWlnaHQgfHwgc291cmNlLnZpZGVvSGVpZ2h0IHx8IHNvdXJjZS5oZWlnaHQ7XG5cbiAgICAgICAgUmVzb3VyY2UuY2FsbCh0aGlzLCB3aWR0aCwgaGVpZ2h0KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNvdXJjZSBlbGVtZW50XG4gICAgICAgICAqIEBtZW1iZXIge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudHxTVkdFbGVtZW50fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc291cmNlID0gc291cmNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBzZXQgdG8gYHRydWVgLCB3aWxsIGZvcmNlIGB0ZXhJbWFnZTJEYCBvdmVyIGB0ZXhTdWJJbWFnZTJEYCBmb3IgdXBsb2FkaW5nLlxuICAgICAgICAgKiBDZXJ0YWluIHR5cGVzIG9mIG1lZGlhIChlLmcuIHZpZGVvKSB1c2luZyBgdGV4SW1hZ2UyRGAgaXMgbW9yZSBwZXJmb3JtYW50LlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ub1N1YkltYWdlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKCBSZXNvdXJjZSApIEJhc2VJbWFnZVJlc291cmNlLl9fcHJvdG9fXyA9IFJlc291cmNlO1xuICAgIEJhc2VJbWFnZVJlc291cmNlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFJlc291cmNlICYmIFJlc291cmNlLnByb3RvdHlwZSApO1xuICAgIEJhc2VJbWFnZVJlc291cmNlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEJhc2VJbWFnZVJlc291cmNlO1xuXG4gICAgLyoqXG4gICAgICogU2V0IGNyb3NzIG9yaWdpbiBiYXNlZCBkZXRlY3RpbmcgdGhlIHVybCBhbmQgdGhlIGNyb3Nzb3JpZ2luXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgLSBFbGVtZW50IHRvIGFwcGx5IGNyb3NzT3JpZ2luXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFVSTCB0byBjaGVja1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbnxzdHJpbmd9IFtjcm9zc29yaWdpbj10cnVlXSAtIENyb3NzIG9yaWdpbiB2YWx1ZSB0byB1c2VcbiAgICAgKi9cbiAgICBCYXNlSW1hZ2VSZXNvdXJjZS5jcm9zc09yaWdpbiA9IGZ1bmN0aW9uIGNyb3NzT3JpZ2luIChlbGVtZW50LCB1cmwsIGNyb3Nzb3JpZ2luKVxuICAgIHtcbiAgICAgICAgaWYgKGNyb3Nzb3JpZ2luID09PSB1bmRlZmluZWQgJiYgdXJsLmluZGV4T2YoJ2RhdGE6JykgIT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGVsZW1lbnQuY3Jvc3NPcmlnaW4gPSBkZXRlcm1pbmVDcm9zc09yaWdpbih1cmwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNyb3Nzb3JpZ2luICE9PSBmYWxzZSlcbiAgICAgICAge1xuICAgICAgICAgICAgZWxlbWVudC5jcm9zc09yaWdpbiA9IHR5cGVvZiBjcm9zc29yaWdpbiA9PT0gJ3N0cmluZycgPyBjcm9zc29yaWdpbiA6ICdhbm9ueW1vdXMnO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwbG9hZCB0aGUgdGV4dHVyZSB0byB0aGUgR1BVLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgVXBsb2FkIHRvIHRoZSByZW5kZXJlclxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgUmVmZXJlbmNlIHRvIHBhcmVudCB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLkdMVGV4dHVyZX0gZ2xUZXh0dXJlXG4gICAgICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR8U1ZHRWxlbWVudH0gW3NvdXJjZV0gKG9wdGlvbmFsKVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlzIHN1Y2Nlc3NcbiAgICAgKi9cbiAgICBCYXNlSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUudXBsb2FkID0gZnVuY3Rpb24gdXBsb2FkIChyZW5kZXJlciwgYmFzZVRleHR1cmUsIGdsVGV4dHVyZSwgc291cmNlKVxuICAgIHtcbiAgICAgICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XG4gICAgICAgIHZhciB3aWR0aCA9IGJhc2VUZXh0dXJlLnJlYWxXaWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IGJhc2VUZXh0dXJlLnJlYWxIZWlnaHQ7XG5cbiAgICAgICAgc291cmNlID0gc291cmNlIHx8IHRoaXMuc291cmNlO1xuXG4gICAgICAgIGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCwgYmFzZVRleHR1cmUucHJlbXVsdGlwbHlBbHBoYSk7XG5cbiAgICAgICAgaWYgKCF0aGlzLm5vU3ViSW1hZ2VcbiAgICAgICAgICAgICYmIGJhc2VUZXh0dXJlLnRhcmdldCA9PT0gZ2wuVEVYVFVSRV8yRFxuICAgICAgICAgICAgJiYgZ2xUZXh0dXJlLndpZHRoID09PSB3aWR0aFxuICAgICAgICAgICAgJiYgZ2xUZXh0dXJlLmhlaWdodCA9PT0gaGVpZ2h0KVxuICAgICAgICB7XG4gICAgICAgICAgICBnbC50ZXhTdWJJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIDAsIDAsIGJhc2VUZXh0dXJlLmZvcm1hdCwgYmFzZVRleHR1cmUudHlwZSwgc291cmNlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgZ2xUZXh0dXJlLmhlaWdodCA9IGhlaWdodDtcblxuICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRChiYXNlVGV4dHVyZS50YXJnZXQsIDAsIGJhc2VUZXh0dXJlLmZvcm1hdCwgYmFzZVRleHR1cmUuZm9ybWF0LCBiYXNlVGV4dHVyZS50eXBlLCBzb3VyY2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBzb3VyY2Ugd2lkdGgvaGVpZ2h0IHdhcyBjaGFuZ2VkLCByZXNpemUgY2FuIGNhdXNlIGV4dHJhIGJhc2VUZXh0dXJlIHVwZGF0ZS5cbiAgICAgKiBUcmlnZ2VycyBvbmUgdXBkYXRlIGluIGFueSBjYXNlLlxuICAgICAqL1xuICAgIEJhc2VJbWFnZVJlc291cmNlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUgKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmRlc3Ryb3llZClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5zb3VyY2UubmF0dXJhbFdpZHRoIHx8IHRoaXMuc291cmNlLnZpZGVvV2lkdGggfHwgdGhpcy5zb3VyY2Uud2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLnNvdXJjZS5uYXR1cmFsSGVpZ2h0IHx8IHRoaXMuc291cmNlLnZpZGVvSGVpZ2h0IHx8IHRoaXMuc291cmNlLmhlaWdodDtcblxuICAgICAgICB0aGlzLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcblxuICAgICAgICBSZXNvdXJjZS5wcm90b3R5cGUudXBkYXRlLmNhbGwodGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgdGhpcyBCYXNlSW1hZ2VSZXNvdXJjZVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gW2Zyb21UZXh0dXJlXSBPcHRpb25hbCBiYXNlIHRleHR1cmVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBEZXN0cm95IHdhcyBzdWNjZXNzZnVsXG4gICAgICovXG4gICAgQmFzZUltYWdlUmVzb3VyY2UucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlICgpXG4gICAge1xuICAgICAgICB0aGlzLnNvdXJjZSA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBCYXNlSW1hZ2VSZXNvdXJjZTtcbn0oUmVzb3VyY2UpKTtcblxuLyoqXG4gKiBSZXNvdXJjZSB0eXBlIGZvciBIVE1MSW1hZ2VFbGVtZW50LlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5CYXNlSW1hZ2VSZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzXG4gKi9cbnZhciBJbWFnZVJlc291cmNlID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoQmFzZUltYWdlUmVzb3VyY2UpIHtcbiAgICBmdW5jdGlvbiBJbWFnZVJlc291cmNlKHNvdXJjZSwgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIGlmICghKHNvdXJjZSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQpKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgaW1hZ2VFbGVtZW50ID0gbmV3IEltYWdlKCk7XG5cbiAgICAgICAgICAgIEJhc2VJbWFnZVJlc291cmNlLmNyb3NzT3JpZ2luKGltYWdlRWxlbWVudCwgc291cmNlLCBvcHRpb25zLmNyb3Nzb3JpZ2luKTtcblxuICAgICAgICAgICAgaW1hZ2VFbGVtZW50LnNyYyA9IHNvdXJjZTtcbiAgICAgICAgICAgIHNvdXJjZSA9IGltYWdlRWxlbWVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIEJhc2VJbWFnZVJlc291cmNlLmNhbGwodGhpcywgc291cmNlKTtcblxuICAgICAgICAvLyBGaXJlRm94IDY4LCBhbmQgcG9zc2libHkgb3RoZXIgdmVyc2lvbnMsIHNlZW1zIGxpa2Ugc2V0dGluZyB0aGUgSFRNTEltYWdlRWxlbWVudCN3aWR0aCBhbmQgI2hlaWdodFxuICAgICAgICAvLyB0byBub24temVybyB2YWx1ZXMgYmVmb3JlIGl0cyBsb2FkaW5nIGNvbXBsZXRlcyBpZiBpbWFnZXMgYXJlIGluIGEgY2FjaGUuXG4gICAgICAgIC8vIEJlY2F1c2Ugb2YgdGhpcywgbmVlZCB0byBzZXQgdGhlIGBfd2lkdGhgIGFuZCB0aGUgYF9oZWlnaHRgIHRvIHplcm8gdG8gYXZvaWQgdXBsb2FkaW5nIGluY29tcGxldGUgaW1hZ2VzLlxuICAgICAgICAvLyBQbGVhc2UgcmVmZXIgdG8gdGhlIGlzc3VlICM1OTY4IChodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGkuanMvaXNzdWVzLzU5NjgpLlxuICAgICAgICBpZiAoIXNvdXJjZS5jb21wbGV0ZSAmJiAhIXRoaXMuX3dpZHRoICYmICEhdGhpcy5faGVpZ2h0KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl93aWR0aCA9IDA7XG4gICAgICAgICAgICB0aGlzLl9oZWlnaHQgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVSTCBvZiB0aGUgaW1hZ2Ugc291cmNlXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXJsID0gc291cmNlLnNyYztcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiBwcm9jZXNzIGlzIGNvbXBsZXRlZFxuICAgICAgICAgKiBAbWVtYmVyIHtQcm9taXNlPHZvaWQ+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcHJvY2VzcyA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoZSBpbWFnZSBzaG91bGQgYmUgZGlzcG9zZWQgYWZ0ZXIgdXBsb2FkXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByZXNlcnZlQml0bWFwID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGNhcGFibGUsIGNvbnZlcnQgdGhlIGltYWdlIHVzaW5nIGNyZWF0ZUltYWdlQml0bWFwIEFQSVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLnNldHRpbmdzLkNSRUFURV9JTUFHRV9CSVRNQVBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3JlYXRlQml0bWFwID0gKG9wdGlvbnMuY3JlYXRlQml0bWFwICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gb3B0aW9ucy5jcmVhdGVCaXRtYXAgOiBzZXR0aW5ncy5DUkVBVEVfSU1BR0VfQklUTUFQKSAmJiAhIXdpbmRvdy5jcmVhdGVJbWFnZUJpdG1hcDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29udHJvbHMgdGV4dHVyZSBwcmVtdWx0aXBseUFscGhhIGZpZWxkXG4gICAgICAgICAqIENvcGllcyBmcm9tIG9wdGlvbnNcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbnxudWxsfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJlbXVsdGlwbHlBbHBoYSA9IG9wdGlvbnMucHJlbXVsdGlwbHlBbHBoYSAhPT0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBJbWFnZUJpdG1hcCBlbGVtZW50IGNyZWF0ZWQgZm9yIEhUTUxJbWFnZUVsZW1lbnRcbiAgICAgICAgICogQG1lbWJlciB7SW1hZ2VCaXRtYXB9XG4gICAgICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYml0bWFwID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvbWlzZSB3aGVuIGxvYWRpbmdcbiAgICAgICAgICogQG1lbWJlciB7UHJvbWlzZTx2b2lkPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbG9hZCA9IG51bGw7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuYXV0b0xvYWQgIT09IGZhbHNlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmxvYWQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICggQmFzZUltYWdlUmVzb3VyY2UgKSBJbWFnZVJlc291cmNlLl9fcHJvdG9fXyA9IEJhc2VJbWFnZVJlc291cmNlO1xuICAgIEltYWdlUmVzb3VyY2UucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQmFzZUltYWdlUmVzb3VyY2UgJiYgQmFzZUltYWdlUmVzb3VyY2UucHJvdG90eXBlICk7XG4gICAgSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBJbWFnZVJlc291cmNlO1xuXG4gICAgLyoqXG4gICAgICogcmV0dXJucyBhIHByb21pc2Ugd2hlbiBpbWFnZSB3aWxsIGJlIGxvYWRlZCBhbmQgcHJvY2Vzc2VkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjcmVhdGVCaXRtYXA9dHJ1ZV0gd2hldGhlciBwcm9jZXNzIGltYWdlIGludG8gYml0bWFwXG4gICAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gICAgICovXG4gICAgSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uIGxvYWQgKGNyZWF0ZUJpdG1hcClcbiAgICB7XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgICAgIGlmIChjcmVhdGVCaXRtYXAgIT09IHVuZGVmaW5lZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVCaXRtYXAgPSBjcmVhdGVCaXRtYXA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fbG9hZClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9sb2FkID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICAgIHRoaXMkMS51cmwgPSB0aGlzJDEuc291cmNlLnNyYztcbiAgICAgICAgICAgIHZhciByZWYgPSB0aGlzJDE7XG4gICAgICAgICAgICB2YXIgc291cmNlID0gcmVmLnNvdXJjZTtcblxuICAgICAgICAgICAgdmFyIGNvbXBsZXRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcyQxLmRlc3Ryb3llZClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc291cmNlLm9ubG9hZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgc291cmNlLm9uZXJyb3IgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgdGhpcyQxLnJlc2l6ZShzb3VyY2Uud2lkdGgsIHNvdXJjZS5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIHRoaXMkMS5fbG9hZCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcyQxLmNyZWF0ZUJpdG1hcClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcyQxLnByb2Nlc3MoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcyQxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAoc291cmNlLmNvbXBsZXRlICYmIHNvdXJjZS5zcmMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29tcGxldGVkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc291cmNlLm9ubG9hZCA9IGNvbXBsZXRlZDtcbiAgICAgICAgICAgICAgICBzb3VyY2Uub25lcnJvciA9IGZ1bmN0aW9uIChldmVudCkgeyByZXR1cm4gdGhpcyQxLm9uRXJyb3IucnVuKGV2ZW50KTsgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHdlIG5lZWQgdG8gY29udmVydCBpbWFnZSBpbnRvIEJpdG1hcEltYWdlLlxuICAgICAqIENhbiBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMsIHJlYWwgcHJvbWlzZSBpcyBjYWNoZWQgaW5zaWRlLlxuICAgICAqXG4gICAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IGNhY2hlZCBwcm9taXNlIHRvIGZpbGwgdGhhdCBiaXRtYXBcbiAgICAgKi9cbiAgICBJbWFnZVJlc291cmNlLnByb3RvdHlwZS5wcm9jZXNzID0gZnVuY3Rpb24gcHJvY2VzcyAoKVxuICAgIHtcbiAgICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICAgICAgaWYgKHRoaXMuX3Byb2Nlc3MgIT09IG51bGwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wcm9jZXNzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmJpdG1hcCAhPT0gbnVsbCB8fCAhd2luZG93LmNyZWF0ZUltYWdlQml0bWFwKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcHJvY2VzcyA9IHdpbmRvdy5jcmVhdGVJbWFnZUJpdG1hcCh0aGlzLnNvdXJjZSxcbiAgICAgICAgICAgIDAsIDAsIHRoaXMuc291cmNlLndpZHRoLCB0aGlzLnNvdXJjZS5oZWlnaHQsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcHJlbXVsdGlwbHlBbHBoYTogdGhpcy5wcmVtdWx0aXBseUFscGhhID8gJ3ByZW11bHRpcGx5JyA6ICdub25lJyxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoYml0bWFwKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMkMS5kZXN0cm95ZWQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcyQxLmJpdG1hcCA9IGJpdG1hcDtcbiAgICAgICAgICAgICAgICB0aGlzJDEudXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgdGhpcyQxLl9wcm9jZXNzID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcyQxKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9wcm9jZXNzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWQgdGhlIGltYWdlIHJlc291cmNlIHRvIEdQVS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBSZW5kZXJlciB0byB1cGxvYWQgdG9cbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gQmFzZVRleHR1cmUgZm9yIHRoaXMgcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0xUZXh0dXJlfSBnbFRleHR1cmUgLSBHTFRleHR1cmUgdG8gdXNlXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaXMgc3VjY2Vzc1xuICAgICAqL1xuICAgIEltYWdlUmVzb3VyY2UucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uIHVwbG9hZCAocmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUpXG4gICAge1xuICAgICAgICBiYXNlVGV4dHVyZS5wcmVtdWx0aXBseUFscGhhID0gdGhpcy5wcmVtdWx0aXBseUFscGhhO1xuXG4gICAgICAgIGlmICghdGhpcy5jcmVhdGVCaXRtYXApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBCYXNlSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUudXBsb2FkLmNhbGwodGhpcywgcmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5iaXRtYXApXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHllYWgsIGlnbm9yZSB0aGUgb3V0cHV0XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3MoKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5iaXRtYXApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgQmFzZUltYWdlUmVzb3VyY2UucHJvdG90eXBlLnVwbG9hZC5jYWxsKHRoaXMsIHJlbmRlcmVyLCBiYXNlVGV4dHVyZSwgZ2xUZXh0dXJlLCB0aGlzLmJpdG1hcCk7XG5cbiAgICAgICAgaWYgKCF0aGlzLnByZXNlcnZlQml0bWFwKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBjaGVja3MgaWYgdGhlcmUgYXJlIG90aGVyIHJlbmRlcmVycyB0aGF0IHBvc3NpYmx5IG5lZWQgdGhpcyBiaXRtYXBcblxuICAgICAgICAgICAgdmFyIGZsYWcgPSB0cnVlO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gYmFzZVRleHR1cmUuX2dsVGV4dHVyZXMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIG90aGVyVGV4ID0gYmFzZVRleHR1cmUuX2dsVGV4dHVyZXNba2V5XTtcblxuICAgICAgICAgICAgICAgIGlmIChvdGhlclRleCAhPT0gZ2xUZXh0dXJlICYmIG90aGVyVGV4LmRpcnR5SWQgIT09IGJhc2VUZXh0dXJlLmRpcnR5SWQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBmbGFnID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGZsYWcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYml0bWFwLmNsb3NlKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iaXRtYXAuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmJpdG1hcCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyB0ZXh0dXJlXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UgKClcbiAgICB7XG4gICAgICAgIHRoaXMuc291cmNlLm9ubG9hZCA9IG51bGw7XG4gICAgICAgIHRoaXMuc291cmNlLm9uZXJyb3IgPSBudWxsO1xuXG4gICAgICAgIEJhc2VJbWFnZVJlc291cmNlLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyk7XG5cbiAgICAgICAgaWYgKHRoaXMuYml0bWFwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJpdG1hcC5jbG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5iaXRtYXAgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3Byb2Nlc3MgPSBudWxsO1xuICAgICAgICB0aGlzLl9sb2FkID0gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEltYWdlUmVzb3VyY2U7XG59KEJhc2VJbWFnZVJlc291cmNlKSk7XG5cbi8qKlxuICogQ29sbGVjdGlvbiBvZiBpbnN0YWxsZWQgcmVzb3VyY2UgdHlwZXMsIGNsYXNzIG11c3QgZXh0ZW5kIHtAbGluayBQSVhJLnJlc291cmNlcy5SZXNvdXJjZX0uXG4gKiBAZXhhbXBsZVxuICogY2xhc3MgQ3VzdG9tUmVzb3VyY2UgZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5SZXNvdXJjZSB7XG4gKiAgIC8vIE1VU1QgaGF2ZSBzb3VyY2UsIG9wdGlvbnMgY29uc3RydWN0b3Igc2lnbmF0dXJlXG4gKiAgIC8vIGZvciBhdXRvLWRldGVjdGVkIHJlc291cmNlcyB0byBiZSBjcmVhdGVkLlxuICogICBjb25zdHJ1Y3Rvcihzb3VyY2UsIG9wdGlvbnMpIHtcbiAqICAgICBzdXBlcigpO1xuICogICB9XG4gKiAgIHVwbG9hZChyZW5kZXJlciwgYmFzZVRleHR1cmUsIGdsVGV4dHVyZSkge1xuICogICAgIC8vIHVwbG9hZCB3aXRoIEdMXG4gKiAgICAgcmV0dXJuIHRydWU7XG4gKiAgIH1cbiAqICAgLy8gdXNlZCB0byBhdXRvLWRldGVjdCByZXNvdXJjZVxuICogICBzdGF0aWMgdGVzdChzb3VyY2UsIGV4dGVuc2lvbikge1xuICogICAgIHJldHVybiBleHRlbnNpb24gPT09ICd4eXonfHwgc291cmNlIGluc3RhbmNlb2YgU29tZUNsYXNzO1xuICogICB9XG4gKiB9XG4gKiAvLyBJbnN0YWxsIHRoZSBuZXcgcmVzb3VyY2UgdHlwZVxuICogUElYSS5yZXNvdXJjZXMuSU5TVEFMTEVELnB1c2goQ3VzdG9tUmVzb3VyY2UpO1xuICpcbiAqIEBuYW1lIFBJWEkucmVzb3VyY2VzLklOU1RBTExFRFxuICogQHR5cGUge0FycmF5PCo+fVxuICogQHN0YXRpY1xuICogQHJlYWRvbmx5XG4gKi9cbnZhciBJTlNUQUxMRUQgPSBbXTtcblxuLyoqXG4gKiBDcmVhdGUgYSByZXNvdXJjZSBlbGVtZW50IGZyb20gYSBzaW5nbGUgc291cmNlIGVsZW1lbnQuIFRoaXNcbiAqIGF1dG8tZGV0ZWN0cyB3aGljaCB0eXBlIG9mIHJlc291cmNlIHRvIGNyZWF0ZS4gQWxsIHJlc291cmNlcyB0aGF0XG4gKiBhcmUgYXV0by1kZXRlY3RhYmxlIG11c3QgaGF2ZSBhIHN0YXRpYyBgdGVzdGAgbWV0aG9kIGFuZCBhIGNvbnN0cnVjdG9yXG4gKiB3aXRoIHRoZSBhcmd1bWVudHMgYChzb3VyY2UsIG9wdGlvbnM/KWAuIEN1cnJlbnRseSwgdGhlIHN1cHBvcnRlZFxuICogcmVzb3VyY2VzIGZvciBhdXRvLWRldGVjdGlvbiBpbmNsdWRlOlxuICogIC0ge0BsaW5rIFBJWEkucmVzb3VyY2VzLkltYWdlUmVzb3VyY2V9XG4gKiAgLSB7QGxpbmsgUElYSS5yZXNvdXJjZXMuQ2FudmFzUmVzb3VyY2V9XG4gKiAgLSB7QGxpbmsgUElYSS5yZXNvdXJjZXMuVmlkZW9SZXNvdXJjZX1cbiAqICAtIHtAbGluayBQSVhJLnJlc291cmNlcy5TVkdSZXNvdXJjZX1cbiAqICAtIHtAbGluayBQSVhJLnJlc291cmNlcy5CdWZmZXJSZXNvdXJjZX1cbiAqIEBzdGF0aWNcbiAqIEBmdW5jdGlvbiBQSVhJLnJlc291cmNlcy5hdXRvRGV0ZWN0UmVzb3VyY2VcbiAqIEBwYXJhbSB7c3RyaW5nfCp9IHNvdXJjZSAtIFJlc291cmNlIHNvdXJjZSwgdGhpcyBjYW4gYmUgdGhlIFVSTCB0byB0aGUgcmVzb3VyY2UsXG4gKiAgICAgICAgYSB0eXBlZC1hcnJheSAoZm9yIEJ1ZmZlclJlc291cmNlKSwgSFRNTFZpZGVvRWxlbWVudCwgU1ZHIGRhdGEtdXJpXG4gKiAgICAgICAgb3IgYW55IG90aGVyIHJlc291cmNlIHRoYXQgY2FuIGJlIGF1dG8tZGV0ZWN0ZWQuIElmIG5vdCByZXNvdXJjZSBpc1xuICogICAgICAgIGRldGVjdGVkLCBpdCdzIGFzc3VtZWQgdG8gYmUgYW4gSW1hZ2VSZXNvdXJjZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBQYXNzLXRocm91Z2ggb3B0aW9ucyB0byB1c2UgZm9yIFJlc291cmNlXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGhdIC0gV2lkdGggb2YgQnVmZmVyUmVzb3VyY2Ugb3IgU1ZHIHJhc3Rlcml6YXRpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHRdIC0gSGVpZ2h0IG9mIEJ1ZmZlclJlc291cmNlIG9yIFNWRyByYXN0ZXJpemF0aW9uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9Mb2FkPXRydWVdIC0gSW1hZ2UsIFNWRyBhbmQgVmlkZW8gZmxhZyB0byBzdGFydCBsb2FkaW5nXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc2NhbGU9MV0gLSBTVkcgc291cmNlIHNjYWxlLiBPdmVycmlkZGVuIGJ5IHdpZHRoLCBoZWlnaHRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY3JlYXRlQml0bWFwPVBJWEkuc2V0dGluZ3MuQ1JFQVRFX0lNQUdFX0JJVE1BUF0gLSBJbWFnZSBvcHRpb24gdG8gY3JlYXRlIEJpdG1hcCBvYmplY3RcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY3Jvc3NvcmlnaW49dHJ1ZV0gLSBJbWFnZSBhbmQgVmlkZW8gb3B0aW9uIHRvIHNldCBjcm9zc09yaWdpblxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvUGxheT10cnVlXSAtIFZpZGVvIG9wdGlvbiB0byBzdGFydCBwbGF5aW5nIHZpZGVvIGltbWVkaWF0ZWx5XG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMudXBkYXRlRlBTPTBdIC0gVmlkZW8gb3B0aW9uIHRvIHVwZGF0ZSBob3cgbWFueSB0aW1lcyBhIHNlY29uZCB0aGVcbiAqICAgICAgICB0ZXh0dXJlIHNob3VsZCBiZSB1cGRhdGVkIGZyb20gdGhlIHZpZGVvLiBMZWF2ZSBhdCAwIHRvIHVwZGF0ZSBhdCBldmVyeSByZW5kZXJcbiAqIEByZXR1cm4ge1BJWEkucmVzb3VyY2VzLlJlc291cmNlfSBUaGUgY3JlYXRlZCByZXNvdXJjZS5cbiAqL1xuZnVuY3Rpb24gYXV0b0RldGVjdFJlc291cmNlKHNvdXJjZSwgb3B0aW9ucylcbntcbiAgICBpZiAoIXNvdXJjZSlcbiAgICB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciBleHRlbnNpb24gPSAnJztcblxuICAgIGlmICh0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJylcbiAgICB7XG4gICAgICAgIC8vIHNlYXJjaCBmb3IgZmlsZSBleHRlbnNpb246IHBlcmlvZCwgMy00IGNoYXJzLCB0aGVuID8sICMgb3IgRU9MXG4gICAgICAgIHZhciByZXN1bHQgPSAoL1xcLihcXHd7Myw0fSkoPzokfFxcP3wjKS9pKS5leGVjKHNvdXJjZSk7XG5cbiAgICAgICAgaWYgKHJlc3VsdClcbiAgICAgICAge1xuICAgICAgICAgICAgZXh0ZW5zaW9uID0gcmVzdWx0WzFdLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gSU5TVEFMTEVELmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKVxuICAgIHtcbiAgICAgICAgdmFyIFJlc291cmNlUGx1Z2luID0gSU5TVEFMTEVEW2ldO1xuXG4gICAgICAgIGlmIChSZXNvdXJjZVBsdWdpbi50ZXN0ICYmIFJlc291cmNlUGx1Z2luLnRlc3Qoc291cmNlLCBleHRlbnNpb24pKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlc291cmNlUGx1Z2luKHNvdXJjZSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBXaGVuIGluIGRvdWJ0OiBwcm9iYWJseSBhbiBpbWFnZVxuICAgIC8vIG1pZ2h0IGJlIGFwcHJvcHJpYXRlIHRvIHRocm93IGFuIGVycm9yIG9yIHJldHVybiBudWxsXG4gICAgcmV0dXJuIG5ldyBJbWFnZVJlc291cmNlKHNvdXJjZSwgb3B0aW9ucyk7XG59XG5cbi8qKlxuICogQGludGVyZmFjZSBTaGFyZWRBcnJheUJ1ZmZlclxuICovXG5cbi8qKlxuICogQnVmZmVyIHJlc291cmNlIHdpdGggZGF0YSBvZiB0eXBlZCBhcnJheS5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICovXG52YXIgQnVmZmVyUmVzb3VyY2UgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChSZXNvdXJjZSkge1xuICAgIGZ1bmN0aW9uIEJ1ZmZlclJlc291cmNlKHNvdXJjZSwgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIHZhciByZWYgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICB2YXIgd2lkdGggPSByZWYud2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSByZWYuaGVpZ2h0O1xuXG4gICAgICAgIGlmICghd2lkdGggfHwgIWhlaWdodClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdCdWZmZXJSZXNvdXJjZSB3aWR0aCBvciBoZWlnaHQgaW52YWxpZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgUmVzb3VyY2UuY2FsbCh0aGlzLCB3aWR0aCwgaGVpZ2h0KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU291cmNlIGFycmF5XG4gICAgICAgICAqIENhbm5vdCBiZSBDbGFtcGVkVWludDhBcnJheSBiZWNhdXNlIGl0IGNhbnQgYmUgdXBsb2FkZWQgdG8gV2ViR0xcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fFVpbnQ4QXJyYXl8VWludDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRhdGEgPSBzb3VyY2U7XG4gICAgfVxuXG4gICAgaWYgKCBSZXNvdXJjZSApIEJ1ZmZlclJlc291cmNlLl9fcHJvdG9fXyA9IFJlc291cmNlO1xuICAgIEJ1ZmZlclJlc291cmNlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFJlc291cmNlICYmIFJlc291cmNlLnByb3RvdHlwZSApO1xuICAgIEJ1ZmZlclJlc291cmNlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEJ1ZmZlclJlc291cmNlO1xuXG4gICAgLyoqXG4gICAgICogVXBsb2FkIHRoZSB0ZXh0dXJlIHRvIHRoZSBHUFUuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciBVcGxvYWQgdG8gdGhlIHJlbmRlcmVyXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSBSZWZlcmVuY2UgdG8gcGFyZW50IHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0xUZXh0dXJlfSBnbFRleHR1cmUgZ2xUZXh0dXJlXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaXMgc3VjY2Vzc1xuICAgICAqL1xuICAgIEJ1ZmZlclJlc291cmNlLnByb3RvdHlwZS51cGxvYWQgPSBmdW5jdGlvbiB1cGxvYWQgKHJlbmRlcmVyLCBiYXNlVGV4dHVyZSwgZ2xUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLCBiYXNlVGV4dHVyZS5wcmVtdWx0aXBseUFscGhhKTtcblxuICAgICAgICBpZiAoZ2xUZXh0dXJlLndpZHRoID09PSBiYXNlVGV4dHVyZS53aWR0aCAmJiBnbFRleHR1cmUuaGVpZ2h0ID09PSBiYXNlVGV4dHVyZS5oZWlnaHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLnRleFN1YkltYWdlMkQoXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUudGFyZ2V0LFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLndpZHRoLFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLmhlaWdodCxcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS5mb3JtYXQsXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUudHlwZSxcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBnbFRleHR1cmUud2lkdGggPSBiYXNlVGV4dHVyZS53aWR0aDtcbiAgICAgICAgICAgIGdsVGV4dHVyZS5oZWlnaHQgPSBiYXNlVGV4dHVyZS5oZWlnaHQ7XG5cbiAgICAgICAgICAgIGdsLnRleEltYWdlMkQoXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUudGFyZ2V0LFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgZ2xUZXh0dXJlLmludGVybmFsRm9ybWF0LFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLndpZHRoLFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLmhlaWdodCxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLmZvcm1hdCxcbiAgICAgICAgICAgICAgICBnbFRleHR1cmUudHlwZSxcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveSBhbmQgZG9uJ3QgdXNlIGFmdGVyIHRoaXNcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBCdWZmZXJSZXNvdXJjZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UgKClcbiAgICB7XG4gICAgICAgIHRoaXMuZGF0YSA9IG51bGw7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gYXV0by1kZXRlY3QgdGhlIHR5cGUgb2YgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHsqfSBzb3VyY2UgLSBUaGUgc291cmNlIG9iamVjdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiA8Y2FudmFzPlxuICAgICAqL1xuICAgIEJ1ZmZlclJlc291cmNlLnRlc3QgPSBmdW5jdGlvbiB0ZXN0IChzb3VyY2UpXG4gICAge1xuICAgICAgICByZXR1cm4gc291cmNlIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5XG4gICAgICAgICAgICB8fCBzb3VyY2UgaW5zdGFuY2VvZiBVaW50OEFycmF5XG4gICAgICAgICAgICB8fCBzb3VyY2UgaW5zdGFuY2VvZiBVaW50MzJBcnJheTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEJ1ZmZlclJlc291cmNlO1xufShSZXNvdXJjZSkpO1xuXG52YXIgZGVmYXVsdEJ1ZmZlck9wdGlvbnMgPSB7XG4gICAgc2NhbGVNb2RlOiBTQ0FMRV9NT0RFUy5ORUFSRVNULFxuICAgIGZvcm1hdDogRk9STUFUUy5SR0JBLFxuICAgIHByZW11bHRpcGx5QWxwaGE6IGZhbHNlLFxufTtcblxuLyoqXG4gKiBBIFRleHR1cmUgc3RvcmVzIHRoZSBpbmZvcm1hdGlvbiB0aGF0IHJlcHJlc2VudHMgYW4gaW1hZ2UuXG4gKiBBbGwgdGV4dHVyZXMgaGF2ZSBhIGJhc2UgdGV4dHVyZSwgd2hpY2ggY29udGFpbnMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHNvdXJjZS5cbiAqIFRoZXJlZm9yZSB5b3UgY2FuIGhhdmUgbWFueSB0ZXh0dXJlcyBhbGwgdXNpbmcgYSBzaW5nbGUgQmFzZVRleHR1cmVcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkudXRpbHMuRXZlbnRFbWl0dGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHBhcmFtIHtQSVhJLnJlc291cmNlcy5SZXNvdXJjZXxzdHJpbmd8SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBbcmVzb3VyY2U9bnVsbF1cbiAqICAgICAgICBUaGUgY3VycmVudCByZXNvdXJjZSB0byB1c2UsIGZvciB0aGluZ3MgdGhhdCBhcmVuJ3QgUmVzb3VyY2Ugb2JqZWN0cywgd2lsbCBiZSBjb252ZXJ0ZWRcbiAqICAgICAgICBpbnRvIGEgUmVzb3VyY2UuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIC0gQ29sbGVjdGlvbiBvZiBvcHRpb25zXG4gKiBAcGFyYW0ge1BJWEkuTUlQTUFQX01PREVTfSBbb3B0aW9ucy5taXBtYXA9UElYSS5zZXR0aW5ncy5NSVBNQVBfVEVYVFVSRVNdIC0gSWYgbWlwbWFwcGluZyBpcyBlbmFibGVkIGZvciB0ZXh0dXJlXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYW5pc290cm9waWNMZXZlbD1QSVhJLnNldHRpbmdzLkFOSVNPVFJPUElDX0xFVkVMXSAtIEFuaXNvdHJvcGljIGZpbHRlcmluZyBsZXZlbCBvZiB0ZXh0dXJlXG4gKiBAcGFyYW0ge1BJWEkuV1JBUF9NT0RFU30gW29wdGlvbnMud3JhcE1vZGU9UElYSS5zZXR0aW5ncy5XUkFQX01PREVdIC0gV3JhcCBtb2RlIGZvciB0ZXh0dXJlc1xuICogQHBhcmFtIHtQSVhJLlNDQUxFX01PREVTfSBbb3B0aW9ucy5zY2FsZU1vZGU9UElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXSAtIERlZmF1bHQgc2NhbGUgbW9kZSwgbGluZWFyLCBuZWFyZXN0XG4gKiBAcGFyYW0ge1BJWEkuRk9STUFUU30gW29wdGlvbnMuZm9ybWF0PVBJWEkuRk9STUFUUy5SR0JBXSAtIEdMIGZvcm1hdCB0eXBlXG4gKiBAcGFyYW0ge1BJWEkuVFlQRVN9IFtvcHRpb25zLnR5cGU9UElYSS5UWVBFUy5VTlNJR05FRF9CWVRFXSAtIEdMIGRhdGEgdHlwZVxuICogQHBhcmFtIHtQSVhJLlRBUkdFVFN9IFtvcHRpb25zLnRhcmdldD1QSVhJLlRBUkdFVFMuVEVYVFVSRV8yRF0gLSBHTCB0ZXh0dXJlIHRhcmdldFxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5wcmVtdWx0aXBseUFscGhhPXRydWVdIC0gUHJlIG11bHRpcGx5IHRoZSBpbWFnZSBhbHBoYVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoPTBdIC0gV2lkdGggb2YgdGhlIHRleHR1cmVcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHQ9MF0gLSBIZWlnaHQgb2YgdGhlIHRleHR1cmVcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uXSAtIFJlc29sdXRpb24gb2YgdGhlIGJhc2UgdGV4dHVyZVxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zLnJlc291cmNlT3B0aW9uc10gLSBPcHRpb25hbCByZXNvdXJjZSBvcHRpb25zLFxuICogICAgICAgIHNlZSB7QGxpbmsgUElYSS5yZXNvdXJjZXMuYXV0b0RldGVjdFJlc291cmNlIGF1dG9EZXRlY3RSZXNvdXJjZX1cbiAqL1xudmFyIEJhc2VUZXh0dXJlID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoRXZlbnRFbWl0dGVyKSB7XG4gICAgZnVuY3Rpb24gQmFzZVRleHR1cmUocmVzb3VyY2UsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICBpZiAoIHJlc291cmNlID09PSB2b2lkIDAgKSByZXNvdXJjZSA9IG51bGw7XG4gICAgICAgIGlmICggb3B0aW9ucyA9PT0gdm9pZCAwICkgb3B0aW9ucyA9IG51bGw7XG5cbiAgICAgICAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgdmFyIHByZW11bHRpcGx5QWxwaGEgPSBvcHRpb25zLnByZW11bHRpcGx5QWxwaGE7XG4gICAgICAgIHZhciBtaXBtYXAgPSBvcHRpb25zLm1pcG1hcDtcbiAgICAgICAgdmFyIGFuaXNvdHJvcGljTGV2ZWwgPSBvcHRpb25zLmFuaXNvdHJvcGljTGV2ZWw7XG4gICAgICAgIHZhciBzY2FsZU1vZGUgPSBvcHRpb25zLnNjYWxlTW9kZTtcbiAgICAgICAgdmFyIHdpZHRoID0gb3B0aW9ucy53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IG9wdGlvbnMuaGVpZ2h0O1xuICAgICAgICB2YXIgd3JhcE1vZGUgPSBvcHRpb25zLndyYXBNb2RlO1xuICAgICAgICB2YXIgZm9ybWF0ID0gb3B0aW9ucy5mb3JtYXQ7XG4gICAgICAgIHZhciB0eXBlID0gb3B0aW9ucy50eXBlO1xuICAgICAgICB2YXIgdGFyZ2V0ID0gb3B0aW9ucy50YXJnZXQ7XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gb3B0aW9ucy5yZXNvbHV0aW9uO1xuICAgICAgICB2YXIgcmVzb3VyY2VPcHRpb25zID0gb3B0aW9ucy5yZXNvdXJjZU9wdGlvbnM7XG5cbiAgICAgICAgLy8gQ29udmVydCB0aGUgcmVzb3VyY2UgdG8gYSBSZXNvdXJjZSBvYmplY3RcbiAgICAgICAgaWYgKHJlc291cmNlICYmICEocmVzb3VyY2UgaW5zdGFuY2VvZiBSZXNvdXJjZSkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlc291cmNlID0gYXV0b0RldGVjdFJlc291cmNlKHJlc291cmNlLCByZXNvdXJjZU9wdGlvbnMpO1xuICAgICAgICAgICAgcmVzb3VyY2UuaW50ZXJuYWwgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgYmFzZSB0ZXh0dXJlIHNldCB3aGVuIHRoZSBpbWFnZSBoYXMgbG9hZGVkXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGggfHwgMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgYmFzZSB0ZXh0dXJlIHNldCB3aGVuIHRoZSBpbWFnZSBoYXMgbG9hZGVkXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodCB8fCAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuc2V0dGluZ3MuUkVTT0xVVElPTlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbiB8fCBzZXR0aW5ncy5SRVNPTFVUSU9OO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNaXBtYXAgbW9kZSBvZiB0aGUgdGV4dHVyZSwgYWZmZWN0cyBkb3duc2NhbGVkIGltYWdlc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1JUE1BUF9NT0RFU31cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5zZXR0aW5ncy5NSVBNQVBfVEVYVFVSRVNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWlwbWFwID0gbWlwbWFwICE9PSB1bmRlZmluZWQgPyBtaXBtYXAgOiBzZXR0aW5ncy5NSVBNQVBfVEVYVFVSRVM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuaXNvdHJvcGljIGZpbHRlcmluZyBsZXZlbCBvZiB0ZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5zZXR0aW5ncy5BTklTT1RST1BJQ19MRVZFTFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hbmlzb3Ryb3BpY0xldmVsID0gYW5pc290cm9waWNMZXZlbCAhPT0gdW5kZWZpbmVkID8gYW5pc290cm9waWNMZXZlbCA6IHNldHRpbmdzLkFOSVNPVFJPUElDX0xFVkVMO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIb3cgdGhlIHRleHR1cmUgd3JhcHNcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53cmFwTW9kZSA9IHdyYXBNb2RlIHx8IHNldHRpbmdzLldSQVBfTU9ERTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNjYWxlIG1vZGUgdG8gYXBwbHkgd2hlbiBzY2FsaW5nIHRoaXMgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNDQUxFX01PREVTfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLnNldHRpbmdzLlNDQUxFX01PREVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2NhbGVNb2RlID0gc2NhbGVNb2RlICE9PSB1bmRlZmluZWQgPyBzY2FsZU1vZGUgOiBzZXR0aW5ncy5TQ0FMRV9NT0RFO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcGl4ZWwgZm9ybWF0IG9mIHRoZSB0ZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRk9STUFUU31cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5GT1JNQVRTLlJHQkFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZm9ybWF0ID0gZm9ybWF0IHx8IEZPUk1BVFMuUkdCQTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgcmVzb3VyY2UgZGF0YVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRZUEVTfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlRZUEVTLlVOU0lHTkVEX0JZVEVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGUgfHwgVFlQRVMuVU5TSUdORURfQllURTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRhcmdldCB0eXBlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVEFSR0VUU31cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5UQVJHRVRTLlRFWFRVUkVfMkRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0IHx8IFRBUkdFVFMuVEVYVFVSRV8yRDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHRvIHRydWUgdG8gZW5hYmxlIHByZS1tdWx0aXBsaWVkIGFscGhhXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJlbXVsdGlwbHlBbHBoYSA9IHByZW11bHRpcGx5QWxwaGEgIT09IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHbG9iYWwgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoaXMgQmFzZVRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVpZCA9IHVpZCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIGJ5IGF1dG9tYXRpYyB0ZXh0dXJlIEdhcmJhZ2UgQ29sbGVjdGlvbiwgc3RvcmVzIGxhc3QgR0MgdGljayB3aGVuIGl0IHdhcyBib3VuZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudG91Y2hlZCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgb3Igbm90IHRoZSB0ZXh0dXJlIGlzIGEgcG93ZXIgb2YgdHdvLCB0cnkgdG8gdXNlIHBvd2VyIG9mIHR3byB0ZXh0dXJlcyBhcyBtdWNoXG4gICAgICAgICAqIGFzIHlvdSBjYW5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlzUG93ZXJPZlR3byA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9yZWZyZXNoUE9UKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXAgb2YgcmVuZGVyIGNvbnRleHQgdGV4dHVyZXMgd2hlcmUgdGhpcyBpcyBib3VuZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9nbFRleHR1cmVzID0ge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgYnkgVGV4dHVyZVN5c3RlbSB0byBvbmx5IHVwZGF0ZSB0ZXh0dXJlIHRvIHRoZSBHUFUgd2hlbiBuZWVkZWQuXG4gICAgICAgICAqIFBsZWFzZSBjYWxsIGB1cGRhdGUoKWAgdG8gaW5jcmVtZW50IGl0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kaXJ0eUlkID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCBieSBUZXh0dXJlU3lzdGVtIHRvIG9ubHkgdXBkYXRlIHRleHR1cmUgc3R5bGUgd2hlbiBuZWVkZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kaXJ0eVN0eWxlSWQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50bHkgZGVmYXVsdCBjYWNoZSBJRC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jYWNoZUlkID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogR2VuZXJhbGx5IHNwZWFraW5nIG1lYW5zIHdoZW4gcmVzb3VyY2UgaXMgbG9hZGVkLlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudmFsaWQgPSB3aWR0aCA+IDAgJiYgaGVpZ2h0ID4gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvbGxlY3Rpb24gb2YgYWx0ZXJuYXRpdmUgY2FjaGUgaWRzLCBzaW5jZSBzb21lIEJhc2VUZXh0dXJlc1xuICAgICAgICAgKiBjYW4gaGF2ZSBtb3JlIHRoYW4gb25lIElELCBzaG9ydCBuYW1lIGFuZCBsb25nZXIgZnVsbCBVUkxcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7QXJyYXk8c3RyaW5nPn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRleHR1cmVDYWNoZUlkcyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGbGFnIGlmIEJhc2VUZXh0dXJlIGhhcyBiZWVuIGRlc3Ryb3llZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlc3Ryb3llZCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb3VyY2UgdXNlZCBieSB0aGlzIEJhc2VUZXh0dXJlLCB0aGVyZSBjYW4gb25seVxuICAgICAgICAgKiBiZSBvbmUgcmVzb3VyY2UgcGVyIEJhc2VUZXh0dXJlLCBidXQgdGV4dHVyZXMgY2FuIHNoYXJlXG4gICAgICAgICAqIHJlc291cmNlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5yZXNvdXJjZXMuUmVzb3VyY2V9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZXNvdXJjZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE51bWJlciBvZiB0aGUgdGV4dHVyZSBiYXRjaCwgdXNlZCBieSBtdWx0aS10ZXh0dXJlIHJlbmRlcmVyc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9iYXRjaEVuYWJsZWQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgbm90LWltbWVkaWF0ZWx5LWF2YWlsYWJsZSBzb3VyY2UgZmluaXNoZXMgbG9hZGluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAZXZlbnQgUElYSS5CYXNlVGV4dHVyZSNsb2FkZWRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFJlc291cmNlIGxvYWRlZC5cbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBub3QtaW1tZWRpYXRlbHktYXZhaWxhYmxlIHNvdXJjZSBmYWlscyB0byBsb2FkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBldmVudCBQSVhJLkJhc2VUZXh0dXJlI2Vycm9yXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBSZXNvdXJjZSBlcnJvcmVkLlxuICAgICAgICAgKiBAcGFyYW0ge0Vycm9yRXZlbnR9IGV2ZW50IC0gTG9hZCBlcnJvciBldmVudC5cbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gQmFzZVRleHR1cmUgaXMgdXBkYXRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAZXZlbnQgUElYSS5CYXNlVGV4dHVyZSNsb2FkZWRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFJlc291cmNlIGxvYWRlZC5cbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gQmFzZVRleHR1cmUgaXMgdXBkYXRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAZXZlbnQgUElYSS5CYXNlVGV4dHVyZSN1cGRhdGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIEluc3RhbmNlIG9mIHRleHR1cmUgYmVpbmcgdXBkYXRlZC5cbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gQmFzZVRleHR1cmUgaXMgZGVzdHJveWVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBldmVudCBQSVhJLkJhc2VUZXh0dXJlI2Rpc3Bvc2VcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIEluc3RhbmNlIG9mIHRleHR1cmUgYmVpbmcgZGVzdHJveWVkLlxuICAgICAgICAgKi9cblxuICAgICAgICAvLyBTZXQgdGhlIHJlc291cmNlXG4gICAgICAgIHRoaXMuc2V0UmVzb3VyY2UocmVzb3VyY2UpO1xuICAgIH1cblxuICAgIGlmICggRXZlbnRFbWl0dGVyICkgQmFzZVRleHR1cmUuX19wcm90b19fID0gRXZlbnRFbWl0dGVyO1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEV2ZW50RW1pdHRlciAmJiBFdmVudEVtaXR0ZXIucHJvdG90eXBlICk7XG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQmFzZVRleHR1cmU7XG5cbiAgICB2YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyByZWFsV2lkdGg6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0scmVhbEhlaWdodDogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4gICAgLyoqXG4gICAgICogUGl4ZWwgd2lkdGggb2YgdGhlIHNvdXJjZSBvZiB0aGlzIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMucmVhbFdpZHRoLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gTWF0aC5jZWlsKCh0aGlzLndpZHRoICogdGhpcy5yZXNvbHV0aW9uKSAtIDFlLTQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQaXhlbCBoZWlnaHQgb2YgdGhlIHNvdXJjZSBvZiB0aGlzIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMucmVhbEhlaWdodC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIE1hdGguY2VpbCgodGhpcy5oZWlnaHQgKiB0aGlzLnJlc29sdXRpb24pIC0gMWUtNCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgc3R5bGUgb3B0aW9ucyBvZiBCYXNlVGV4dHVyZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlNDQUxFX01PREVTfSBbc2NhbGVNb2RlXSAtIFBpeGkgc2NhbGVtb2RlXG4gICAgICogQHBhcmFtIHtQSVhJLk1JUE1BUF9NT0RFU30gW21pcG1hcF0gLSBlbmFibGUgbWlwbWFwc1xuICAgICAqIEByZXR1cm5zIHtQSVhJLkJhc2VUZXh0dXJlfSB0aGlzXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLnNldFN0eWxlID0gZnVuY3Rpb24gc2V0U3R5bGUgKHNjYWxlTW9kZSwgbWlwbWFwKVxuICAgIHtcbiAgICAgICAgdmFyIGRpcnR5O1xuXG4gICAgICAgIGlmIChzY2FsZU1vZGUgIT09IHVuZGVmaW5lZCAmJiBzY2FsZU1vZGUgIT09IHRoaXMuc2NhbGVNb2RlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNjYWxlTW9kZSA9IHNjYWxlTW9kZTtcbiAgICAgICAgICAgIGRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtaXBtYXAgIT09IHVuZGVmaW5lZCAmJiBtaXBtYXAgIT09IHRoaXMubWlwbWFwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm1pcG1hcCA9IG1pcG1hcDtcbiAgICAgICAgICAgIGRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaXJ0eSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kaXJ0eVN0eWxlSWQrKztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHcvaC9yZXNvbHV0aW9uLiBUZXh0dXJlIGJlY29tZXMgdmFsaWQgaWYgd2lkdGggYW5kIGhlaWdodCBhcmUgZ3JlYXRlciB0aGFuIHplcm8uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggVmlzdWFsIHdpZHRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCBWaXN1YWwgaGVpZ2h0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uXSBPcHRpb25hbGx5IHNldCByZXNvbHV0aW9uXG4gICAgICogQHJldHVybnMge1BJWEkuQmFzZVRleHR1cmV9IHRoaXNcbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuc2V0U2l6ZSA9IGZ1bmN0aW9uIHNldFNpemUgKHdpZHRoLCBoZWlnaHQsIHJlc29sdXRpb24pXG4gICAge1xuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy5fcmVmcmVzaFBPVCgpO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHJlYWwgc2l6ZSBvZiBiYXNlVGV4dHVyZSwgcHJlc2VydmVzIGN1cnJlbnQgcmVzb2x1dGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZWFsV2lkdGggRnVsbCByZW5kZXJlZCB3aWR0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZWFsSGVpZ2h0IEZ1bGwgcmVuZGVyZWQgaGVpZ2h0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uXSBPcHRpb25hbGx5IHNldCByZXNvbHV0aW9uXG4gICAgICogQHJldHVybnMge1BJWEkuQmFzZVRleHR1cmV9IHRoaXNcbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuc2V0UmVhbFNpemUgPSBmdW5jdGlvbiBzZXRSZWFsU2l6ZSAocmVhbFdpZHRoLCByZWFsSGVpZ2h0LCByZXNvbHV0aW9uKVxuICAgIHtcbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbiB8fCB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIHRoaXMud2lkdGggPSByZWFsV2lkdGggLyB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gcmVhbEhlaWdodCAvIHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy5fcmVmcmVzaFBPVCgpO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZWZyZXNoIGNoZWNrIGZvciBpc1Bvd2VyT2ZUd28gdGV4dHVyZSBiYXNlZCBvbiBzaXplXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5fcmVmcmVzaFBPVCA9IGZ1bmN0aW9uIF9yZWZyZXNoUE9UICgpXG4gICAge1xuICAgICAgICB0aGlzLmlzUG93ZXJPZlR3byA9IGlzUG93Mih0aGlzLnJlYWxXaWR0aCkgJiYgaXNQb3cyKHRoaXMucmVhbEhlaWdodCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgcmVzb2x1dGlvblxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uXSByZXNcbiAgICAgKiBAcmV0dXJucyB7UElYSS5CYXNlVGV4dHVyZX0gdGhpc1xuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5zZXRSZXNvbHV0aW9uID0gZnVuY3Rpb24gc2V0UmVzb2x1dGlvbiAocmVzb2x1dGlvbilcbiAgICB7XG4gICAgICAgIHZhciBvbGRSZXNvbHV0aW9uID0gdGhpcy5yZXNvbHV0aW9uO1xuXG4gICAgICAgIGlmIChvbGRSZXNvbHV0aW9uID09PSByZXNvbHV0aW9uKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG5cbiAgICAgICAgaWYgKHRoaXMudmFsaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMud2lkdGggPSB0aGlzLndpZHRoICogb2xkUmVzb2x1dGlvbiAvIHJlc29sdXRpb247XG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IHRoaXMuaGVpZ2h0ICogb2xkUmVzb2x1dGlvbiAvIHJlc29sdXRpb247XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3VwZGF0ZScsIHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcmVmcmVzaFBPVCgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSByZXNvdXJjZSBpZiBpdCB3YXNuJ3Qgc2V0LiBUaHJvd3MgZXJyb3IgaWYgcmVzb3VyY2UgYWxyZWFkeSBwcmVzZW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkucmVzb3VyY2VzLlJlc291cmNlfSByZXNvdXJjZSAtIHRoYXQgaXMgbWFuYWdpbmcgdGhpcyBCYXNlVGV4dHVyZVxuICAgICAqIEByZXR1cm5zIHtQSVhJLkJhc2VUZXh0dXJlfSB0aGlzXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLnNldFJlc291cmNlID0gZnVuY3Rpb24gc2V0UmVzb3VyY2UgKHJlc291cmNlKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMucmVzb3VyY2UgPT09IHJlc291cmNlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnJlc291cmNlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Jlc291cmNlIGNhbiBiZSBzZXQgb25seSBvbmNlJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXNvdXJjZS5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHRoaXMucmVzb3VyY2UgPSByZXNvdXJjZTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSW52YWxpZGF0ZXMgdGhlIG9iamVjdC4gVGV4dHVyZSBiZWNvbWVzIHZhbGlkIGlmIHdpZHRoIGFuZCBoZWlnaHQgYXJlIGdyZWF0ZXIgdGhhbiB6ZXJvLlxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUgKClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy52YWxpZClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMud2lkdGggPiAwICYmIHRoaXMuaGVpZ2h0ID4gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbGlkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2xvYWRlZCcsIHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgndXBkYXRlJywgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5SWQrKztcbiAgICAgICAgICAgIHRoaXMuZGlydHlTdHlsZUlkKys7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3VwZGF0ZScsIHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBlcnJvcnMgd2l0aCByZXNvdXJjZXMuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Vycm9yRXZlbnR9IGV2ZW50IC0gRXJyb3IgZXZlbnQgZW1pdHRlZC5cbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUub25FcnJvciA9IGZ1bmN0aW9uIG9uRXJyb3IgKGV2ZW50KVxuICAgIHtcbiAgICAgICAgdGhpcy5lbWl0KCdlcnJvcicsIHRoaXMsIGV2ZW50KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBiYXNlIHRleHR1cmUuXG4gICAgICogVGhlIG1ldGhvZCBzdG9wcyBpZiByZXNvdXJjZSBkb2Vzbid0IHdhbnQgdGhpcyB0ZXh0dXJlIHRvIGJlIGRlc3Ryb3llZC5cbiAgICAgKiBSZW1vdmVzIHRleHR1cmUgZnJvbSBhbGwgY2FjaGVzLlxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxuICAgIHtcbiAgICAgICAgLy8gcmVtb3ZlIGFuZCBkZXN0cm95IHRoZSByZXNvdXJjZVxuICAgICAgICBpZiAodGhpcy5yZXNvdXJjZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5yZXNvdXJjZS51bmJpbmQodGhpcyk7XG4gICAgICAgICAgICAvLyBvbmx5IGRlc3Ryb3kgcmVzb3VyY2VkIGNyZWF0ZWQgaW50ZXJuYWxseVxuICAgICAgICAgICAgaWYgKHRoaXMucmVzb3VyY2UuaW50ZXJuYWwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNvdXJjZS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJlc291cmNlID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNhY2hlSWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlbGV0ZSBCYXNlVGV4dHVyZUNhY2hlW3RoaXMuY2FjaGVJZF07XG4gICAgICAgICAgICBkZWxldGUgVGV4dHVyZUNhY2hlW3RoaXMuY2FjaGVJZF07XG5cbiAgICAgICAgICAgIHRoaXMuY2FjaGVJZCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBmaW5hbGx5IGxldCB0aGUgV2ViR0wgcmVuZGVyZXIga25vdy4uXG4gICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuXG4gICAgICAgIEJhc2VUZXh0dXJlLnJlbW92ZUZyb21DYWNoZSh0aGlzKTtcbiAgICAgICAgdGhpcy50ZXh0dXJlQ2FjaGVJZHMgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuZGVzdHJveWVkID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRnJlZXMgdGhlIHRleHR1cmUgZnJvbSBXZWJHTCBtZW1vcnkgd2l0aG91dCBkZXN0cm95aW5nIHRoaXMgdGV4dHVyZSBvYmplY3QuXG4gICAgICogVGhpcyBtZWFucyB5b3UgY2FuIHN0aWxsIHVzZSB0aGUgdGV4dHVyZSBsYXRlciB3aGljaCB3aWxsIHVwbG9hZCBpdCB0byBHUFVcbiAgICAgKiBtZW1vcnkgYWdhaW4uXG4gICAgICpcbiAgICAgKiBAZmlyZXMgUElYSS5CYXNlVGV4dHVyZSNkaXNwb3NlXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlICgpXG4gICAge1xuICAgICAgICB0aGlzLmVtaXQoJ2Rpc3Bvc2UnLCB0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIGJhc2UgdGV4dHVyZSBiYXNlZCBvbiB0aGUgc291cmNlIHlvdSBwcm92aWRlLlxuICAgICAqIFRoZSBzb3VyY2UgY2FuIGJlIC0gaW1hZ2UgdXJsLCBpbWFnZSBlbGVtZW50LCBjYW52YXMgZWxlbWVudC4gSWYgdGhlXG4gICAgICogc291cmNlIGlzIGFuIGltYWdlIHVybCBvciBhbiBpbWFnZSBlbGVtZW50IGFuZCBub3QgaW4gdGhlIGJhc2UgdGV4dHVyZVxuICAgICAqIGNhY2hlLCBpdCB3aWxsIGJlIGNyZWF0ZWQgYW5kIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fFNWR0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gc291cmNlIC0gVGhlXG4gICAgICogICAgICAgIHNvdXJjZSB0byBjcmVhdGUgYmFzZSB0ZXh0dXJlIGZyb20uXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSBTZWUge0BsaW5rIFBJWEkuQmFzZVRleHR1cmV9J3MgY29uc3RydWN0b3IgZm9yIG9wdGlvbnMuXG4gICAgICogQHJldHVybnMge1BJWEkuQmFzZVRleHR1cmV9IFRoZSBuZXcgYmFzZSB0ZXh0dXJlLlxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLmZyb20gPSBmdW5jdGlvbiBmcm9tIChzb3VyY2UsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICB2YXIgY2FjaGVJZCA9IG51bGw7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnKVxuICAgICAgICB7XG4gICAgICAgICAgICBjYWNoZUlkID0gc291cmNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCFzb3VyY2UuX3BpeGlJZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzb3VyY2UuX3BpeGlJZCA9IFwicGl4aWlkX1wiICsgKHVpZCgpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FjaGVJZCA9IHNvdXJjZS5fcGl4aUlkO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gQmFzZVRleHR1cmVDYWNoZVtjYWNoZUlkXTtcblxuICAgICAgICBpZiAoIWJhc2VUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICBiYXNlVGV4dHVyZSA9IG5ldyBCYXNlVGV4dHVyZShzb3VyY2UsIG9wdGlvbnMpO1xuICAgICAgICAgICAgYmFzZVRleHR1cmUuY2FjaGVJZCA9IGNhY2hlSWQ7XG4gICAgICAgICAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlKGJhc2VUZXh0dXJlLCBjYWNoZUlkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBiYXNlVGV4dHVyZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IEJhc2VUZXh0dXJlIHdpdGggYSBCdWZmZXJSZXNvdXJjZSBmcm9tIGEgRmxvYXQzMkFycmF5LlxuICAgICAqIFJHQkEgdmFsdWVzIGFyZSBmbG9hdHMgZnJvbSAwIHRvIDEuXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fFVpbnQ4QXJyYXl9IGJ1ZmZlciBUaGUgb3B0aW9uYWwgYXJyYXkgdG8gdXNlLCBpZiBubyBkYXRhXG4gICAgICogICAgICAgIGlzIHByb3ZpZGVkLCBhIG5ldyBGbG9hdDMyQXJyYXkgaXMgY3JlYXRlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBXaWR0aCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gSGVpZ2h0IG9mIHRoZSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gU2VlIHtAbGluayBQSVhJLkJhc2VUZXh0dXJlfSdzIGNvbnN0cnVjdG9yIGZvciBvcHRpb25zLlxuICAgICAqIEByZXR1cm4ge1BJWEkuQmFzZVRleHR1cmV9IFRoZSByZXN1bHRpbmcgbmV3IEJhc2VUZXh0dXJlXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUuZnJvbUJ1ZmZlciA9IGZ1bmN0aW9uIGZyb21CdWZmZXIgKGJ1ZmZlciwgd2lkdGgsIGhlaWdodCwgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIGJ1ZmZlciA9IGJ1ZmZlciB8fCBuZXcgRmxvYXQzMkFycmF5KHdpZHRoICogaGVpZ2h0ICogNCk7XG5cbiAgICAgICAgdmFyIHJlc291cmNlID0gbmV3IEJ1ZmZlclJlc291cmNlKGJ1ZmZlciwgeyB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0IH0pO1xuICAgICAgICB2YXIgdHlwZSA9IGJ1ZmZlciBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSA/IFRZUEVTLkZMT0FUIDogVFlQRVMuVU5TSUdORURfQllURTtcblxuICAgICAgICByZXR1cm4gbmV3IEJhc2VUZXh0dXJlKHJlc291cmNlLCBPYmplY3QuYXNzaWduKGRlZmF1bHRCdWZmZXJPcHRpb25zLCBvcHRpb25zIHx8IHsgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCwgdHlwZTogdHlwZSB9KSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBCYXNlVGV4dHVyZSB0byB0aGUgZ2xvYmFsIEJhc2VUZXh0dXJlQ2FjaGUuIFRoaXMgY2FjaGUgaXMgc2hhcmVkIGFjcm9zcyB0aGUgd2hvbGUgUElYSSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFRoZSBCYXNlVGV4dHVyZSB0byBhZGQgdG8gdGhlIGNhY2hlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCB0aGF0IHRoZSBCYXNlVGV4dHVyZSB3aWxsIGJlIHN0b3JlZCBhZ2FpbnN0LlxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUgPSBmdW5jdGlvbiBhZGRUb0NhY2hlIChiYXNlVGV4dHVyZSwgaWQpXG4gICAge1xuICAgICAgICBpZiAoaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMuaW5kZXhPZihpZCkgPT09IC0xKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5wdXNoKGlkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKEJhc2VUZXh0dXJlQ2FjaGVbaWRdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKChcIkJhc2VUZXh0dXJlIGFkZGVkIHRvIHRoZSBjYWNoZSB3aXRoIGFuIGlkIFtcIiArIGlkICsgXCJdIHRoYXQgYWxyZWFkeSBoYWQgYW4gZW50cnlcIikpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBCYXNlVGV4dHVyZUNhY2hlW2lkXSA9IGJhc2VUZXh0dXJlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIEJhc2VUZXh0dXJlIGZyb20gdGhlIGdsb2JhbCBCYXNlVGV4dHVyZUNhY2hlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfFBJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gaWQgb2YgYSBCYXNlVGV4dHVyZSB0byBiZSByZW1vdmVkLCBvciBhIEJhc2VUZXh0dXJlIGluc3RhbmNlIGl0c2VsZi5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJhc2VUZXh0dXJlfG51bGx9IFRoZSBCYXNlVGV4dHVyZSB0aGF0IHdhcyByZW1vdmVkLlxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLnJlbW92ZUZyb21DYWNoZSA9IGZ1bmN0aW9uIHJlbW92ZUZyb21DYWNoZSAoYmFzZVRleHR1cmUpXG4gICAge1xuICAgICAgICBpZiAodHlwZW9mIGJhc2VUZXh0dXJlID09PSAnc3RyaW5nJylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGJhc2VUZXh0dXJlRnJvbUNhY2hlID0gQmFzZVRleHR1cmVDYWNoZVtiYXNlVGV4dHVyZV07XG5cbiAgICAgICAgICAgIGlmIChiYXNlVGV4dHVyZUZyb21DYWNoZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBiYXNlVGV4dHVyZUZyb21DYWNoZS50ZXh0dXJlQ2FjaGVJZHMuaW5kZXhPZihiYXNlVGV4dHVyZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPiAtMSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlRnJvbUNhY2hlLnRleHR1cmVDYWNoZUlkcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGRlbGV0ZSBCYXNlVGV4dHVyZUNhY2hlW2Jhc2VUZXh0dXJlXTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBiYXNlVGV4dHVyZUZyb21DYWNoZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChiYXNlVGV4dHVyZSAmJiBiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmFzZVRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBCYXNlVGV4dHVyZUNhY2hlW2Jhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkc1tpXV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5sZW5ndGggPSAwO1xuXG4gICAgICAgICAgICByZXR1cm4gYmFzZVRleHR1cmU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIEJhc2VUZXh0dXJlLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbiAgICByZXR1cm4gQmFzZVRleHR1cmU7XG59KEV2ZW50RW1pdHRlcikpO1xuXG4vKipcbiAqIEdsb2JhbCBudW1iZXIgb2YgdGhlIHRleHR1cmUgYmF0Y2gsIHVzZWQgYnkgbXVsdGktdGV4dHVyZSByZW5kZXJlcnNcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKi9cbkJhc2VUZXh0dXJlLl9nbG9iYWxCYXRjaCA9IDA7XG5cbi8qKlxuICogQSByZXNvdXJjZSB0aGF0IGNvbnRhaW5zIGEgbnVtYmVyIG9mIHNvdXJjZXMuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5SZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzXG4gKiBAcGFyYW0ge251bWJlcnxBcnJheTwqPn0gc291cmNlIC0gTnVtYmVyIG9mIGl0ZW1zIGluIGFycmF5IG9yIHRoZSBjb2xsZWN0aW9uXG4gKiAgICAgICAgb2YgaW1hZ2UgVVJMcyB0byB1c2UuIENhbiBhbHNvIGJlIHJlc291cmNlcywgaW1hZ2UgZWxlbWVudHMsIGNhbnZhcywgZXRjLlxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIHRvIGFwcGx5IHRvIHtAbGluayBQSVhJLnJlc291cmNlcy5hdXRvRGV0ZWN0UmVzb3VyY2V9XG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGhdIC0gV2lkdGggb2YgdGhlIHJlc291cmNlXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0XSAtIEhlaWdodCBvZiB0aGUgcmVzb3VyY2VcbiAqL1xudmFyIEFycmF5UmVzb3VyY2UgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChSZXNvdXJjZSkge1xuICAgIGZ1bmN0aW9uIEFycmF5UmVzb3VyY2Uoc291cmNlLCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgdmFyIHVybHM7XG4gICAgICAgIHZhciBsZW5ndGggPSBzb3VyY2U7XG5cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc291cmNlKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdXJscyA9IHNvdXJjZTtcbiAgICAgICAgICAgIGxlbmd0aCA9IHNvdXJjZS5sZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICBSZXNvdXJjZS5jYWxsKHRoaXMsIG9wdGlvbnMud2lkdGgsIG9wdGlvbnMuaGVpZ2h0KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiByZXNvdXJjZXMuXG4gICAgICAgICAqIEBtZW1iZXIge0FycmF5PFBJWEkuQmFzZVRleHR1cmU+fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXRlbXMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlydHkgSURzIGZvciBlYWNoIHBhcnRcbiAgICAgICAgICogQG1lbWJlciB7QXJyYXk8bnVtYmVyPn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLml0ZW1EaXJ0eUlkcyA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBwYXJ0VGV4dHVyZSA9IG5ldyBCYXNlVGV4dHVyZSgpO1xuXG4gICAgICAgICAgICB0aGlzLml0ZW1zLnB1c2gocGFydFRleHR1cmUpO1xuICAgICAgICAgICAgdGhpcy5pdGVtRGlydHlJZHMucHVzaCgtMSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogTnVtYmVyIG9mIGVsZW1lbnRzIGluIGFycmF5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvbWlzZSB3aGVuIGxvYWRpbmdcbiAgICAgICAgICogQG1lbWJlciB7UHJvbWlzZX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbG9hZCA9IG51bGw7XG5cbiAgICAgICAgaWYgKHVybHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IGxlbmd0aDsgaSQxKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRSZXNvdXJjZUF0KGF1dG9EZXRlY3RSZXNvdXJjZSh1cmxzW2kkMV0sIG9wdGlvbnMpLCBpJDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCBSZXNvdXJjZSApIEFycmF5UmVzb3VyY2UuX19wcm90b19fID0gUmVzb3VyY2U7XG4gICAgQXJyYXlSZXNvdXJjZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBSZXNvdXJjZSAmJiBSZXNvdXJjZS5wcm90b3R5cGUgKTtcbiAgICBBcnJheVJlc291cmNlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEFycmF5UmVzb3VyY2U7XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IHRoaXMgQmFzZUltYWdlUmVzb3VyY2VcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBBcnJheVJlc291cmNlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gZGlzcG9zZSAoKVxuICAgIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuaXRlbXNbaV0uZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXRlbXMgPSBudWxsO1xuICAgICAgICB0aGlzLml0ZW1EaXJ0eUlkcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2xvYWQgPSBudWxsO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXQgYSByZXNvdXJjZSBieSBJRFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLnJlc291cmNlcy5SZXNvdXJjZX0gcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBaZXJvLWJhc2VkIGluZGV4IG9mIHJlc291cmNlIHRvIHNldFxuICAgICAqIEByZXR1cm4ge1BJWEkucmVzb3VyY2VzLkFycmF5UmVzb3VyY2V9IEluc3RhbmNlIGZvciBjaGFpbmluZ1xuICAgICAqL1xuICAgIEFycmF5UmVzb3VyY2UucHJvdG90eXBlLmFkZFJlc291cmNlQXQgPSBmdW5jdGlvbiBhZGRSZXNvdXJjZUF0IChyZXNvdXJjZSwgaW5kZXgpXG4gICAge1xuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSB0aGlzLml0ZW1zW2luZGV4XTtcblxuICAgICAgICBpZiAoIWJhc2VUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKFwiSW5kZXggXCIgKyBpbmRleCArIFwiIGlzIG91dCBvZiBib3VuZHNcIikpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSW5oZXJpdCB0aGUgZmlyc3QgcmVzb3VyY2UgZGltZW5zaW9uc1xuICAgICAgICBpZiAocmVzb3VyY2UudmFsaWQgJiYgIXRoaXMudmFsaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucmVzaXplKHJlc291cmNlLndpZHRoLCByZXNvdXJjZS5oZWlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pdGVtc1tpbmRleF0uc2V0UmVzb3VyY2UocmVzb3VyY2UpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHBhcmVudCBiYXNlIHRleHR1cmVcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIEFycmF5UmVzb3VyY2UucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiBiaW5kIChiYXNlVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIFJlc291cmNlLnByb3RvdHlwZS5iaW5kLmNhbGwodGhpcywgYmFzZVRleHR1cmUpO1xuXG4gICAgICAgIGJhc2VUZXh0dXJlLnRhcmdldCA9IFRBUkdFVFMuVEVYVFVSRV8yRF9BUlJBWTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuaXRlbXNbaV0ub24oJ3VwZGF0ZScsIGJhc2VUZXh0dXJlLnVwZGF0ZSwgYmFzZVRleHR1cmUpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVuc2V0IHRoZSBwYXJlbnQgYmFzZSB0ZXh0dXJlXG4gICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBBcnJheVJlc291cmNlLnByb3RvdHlwZS51bmJpbmQgPSBmdW5jdGlvbiB1bmJpbmQgKGJhc2VUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgUmVzb3VyY2UucHJvdG90eXBlLnVuYmluZC5jYWxsKHRoaXMsIGJhc2VUZXh0dXJlKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuaXRlbXNbaV0ub2ZmKCd1cGRhdGUnLCBiYXNlVGV4dHVyZS51cGRhdGUsIGJhc2VUZXh0dXJlKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBMb2FkIGFsbCB0aGUgcmVzb3VyY2VzIHNpbXVsdGFuZW91c2x5XG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHJldHVybiB7UHJvbWlzZTx2b2lkPn0gV2hlbiBsb2FkIGlzIHJlc29sdmVkXG4gICAgICovXG4gICAgQXJyYXlSZXNvdXJjZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uIGxvYWQgKClcbiAgICB7XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgICAgIGlmICh0aGlzLl9sb2FkKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZXNvdXJjZXMgPSB0aGlzLml0ZW1zLm1hcChmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gaXRlbS5yZXNvdXJjZTsgfSk7XG5cbiAgICAgICAgLy8gVE9ETzogYWxzbyBpbXBsZW1lbnQgbG9hZCBwYXJ0LWJ5LXBhcnQgc3RyYXRlZ3lcbiAgICAgICAgdmFyIHByb21pc2VzID0gcmVzb3VyY2VzLm1hcChmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gaXRlbS5sb2FkKCk7IH0pO1xuXG4gICAgICAgIHRoaXMuX2xvYWQgPSBQcm9taXNlLmFsbChwcm9taXNlcylcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVmID0gcmVzb3VyY2VzWzBdO1xuICAgICAgICAgICAgICAgIHZhciB3aWR0aCA9IHJlZi53aWR0aDtcbiAgICAgICAgICAgICAgICB2YXIgaGVpZ2h0ID0gcmVmLmhlaWdodDtcblxuICAgICAgICAgICAgICAgIHRoaXMkMS5yZXNpemUod2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMkMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9sb2FkO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWQgdGhlIHJlc291cmNlcyB0byB0aGUgR1BVLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0xUZXh0dXJlfSBnbFRleHR1cmVcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gd2hldGhlciB0ZXh0dXJlIHdhcyB1cGxvYWRlZFxuICAgICAqL1xuICAgIEFycmF5UmVzb3VyY2UucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uIHVwbG9hZCAocmVuZGVyZXIsIHRleHR1cmUsIGdsVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIHZhciByZWYgPSB0aGlzO1xuICAgICAgICB2YXIgbGVuZ3RoID0gcmVmLmxlbmd0aDtcbiAgICAgICAgdmFyIGl0ZW1EaXJ0eUlkcyA9IHJlZi5pdGVtRGlydHlJZHM7XG4gICAgICAgIHZhciBpdGVtcyA9IHJlZi5pdGVtcztcbiAgICAgICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgaWYgKGdsVGV4dHVyZS5kaXJ0eUlkIDwgMClcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wudGV4SW1hZ2UzRChcbiAgICAgICAgICAgICAgICBnbC5URVhUVVJFXzJEX0FSUkFZLFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgdGV4dHVyZS5mb3JtYXQsXG4gICAgICAgICAgICAgICAgdGhpcy5fd2lkdGgsXG4gICAgICAgICAgICAgICAgdGhpcy5faGVpZ2h0LFxuICAgICAgICAgICAgICAgIGxlbmd0aCxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIHRleHR1cmUuZm9ybWF0LFxuICAgICAgICAgICAgICAgIHRleHR1cmUudHlwZSxcbiAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGl0ZW0gPSBpdGVtc1tpXTtcblxuICAgICAgICAgICAgaWYgKGl0ZW1EaXJ0eUlkc1tpXSA8IGl0ZW0uZGlydHlJZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpdGVtRGlydHlJZHNbaV0gPSBpdGVtLmRpcnR5SWQ7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0udmFsaWQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBnbC50ZXhTdWJJbWFnZTNEKFxuICAgICAgICAgICAgICAgICAgICAgICAgZ2wuVEVYVFVSRV8yRF9BUlJBWSxcbiAgICAgICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAwLCAvLyB4b2Zmc2V0XG4gICAgICAgICAgICAgICAgICAgICAgICAwLCAvLyB5b2Zmc2V0XG4gICAgICAgICAgICAgICAgICAgICAgICBpLCAvLyB6b2Zmc2V0XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnJlc291cmNlLndpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5yZXNvdXJjZS5oZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZS5mb3JtYXQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnJlc291cmNlLnNvdXJjZVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICByZXR1cm4gQXJyYXlSZXNvdXJjZTtcbn0oUmVzb3VyY2UpKTtcblxuLyoqXG4gKiBAaW50ZXJmYWNlIE9mZnNjcmVlbkNhbnZhc1xuICovXG5cbi8qKlxuICogUmVzb3VyY2UgdHlwZSBmb3IgSFRNTENhbnZhc0VsZW1lbnQuXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucmVzb3VyY2VzLkJhc2VJbWFnZVJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IHNvdXJjZSAtIENhbnZhcyBlbGVtZW50IHRvIHVzZVxuICovXG52YXIgQ2FudmFzUmVzb3VyY2UgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChCYXNlSW1hZ2VSZXNvdXJjZSkge1xuICAgIGZ1bmN0aW9uIENhbnZhc1Jlc291cmNlICgpIHtcbiAgICAgICAgQmFzZUltYWdlUmVzb3VyY2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICBpZiAoIEJhc2VJbWFnZVJlc291cmNlICkgQ2FudmFzUmVzb3VyY2UuX19wcm90b19fID0gQmFzZUltYWdlUmVzb3VyY2U7XG4gICAgQ2FudmFzUmVzb3VyY2UucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQmFzZUltYWdlUmVzb3VyY2UgJiYgQmFzZUltYWdlUmVzb3VyY2UucHJvdG90eXBlICk7XG4gICAgQ2FudmFzUmVzb3VyY2UucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ2FudmFzUmVzb3VyY2U7XG5cbiAgICBDYW52YXNSZXNvdXJjZS50ZXN0ID0gZnVuY3Rpb24gdGVzdCAoc291cmNlKVxuICAgIHtcbiAgICAgICAgdmFyIE9mZnNjcmVlbkNhbnZhcyA9IHdpbmRvdy5PZmZzY3JlZW5DYW52YXM7XG5cbiAgICAgICAgLy8gQ2hlY2sgZm9yIGJyb3dzZXJzIHRoYXQgZG9uJ3QgeWV0IHN1cHBvcnQgT2Zmc2NyZWVuQ2FudmFzXG4gICAgICAgIGlmIChPZmZzY3JlZW5DYW52YXMgJiYgc291cmNlIGluc3RhbmNlb2YgT2Zmc2NyZWVuQ2FudmFzKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzb3VyY2UgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIENhbnZhc1Jlc291cmNlO1xufShCYXNlSW1hZ2VSZXNvdXJjZSkpO1xuXG4vKipcbiAqIFJlc291cmNlIGZvciBhIEN1YmVUZXh0dXJlIHdoaWNoIGNvbnRhaW5zIHNpeCByZXNvdXJjZXMuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5BcnJheVJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nfFBJWEkucmVzb3VyY2VzLlJlc291cmNlPn0gW3NvdXJjZV0gQ29sbGVjdGlvbiBvZiBVUkxzIG9yIHJlc291cmNlc1xuICogICAgICAgIHRvIHVzZSBhcyB0aGUgc2lkZXMgb2YgdGhlIGN1YmUuXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gSW1hZ2VSZXNvdXJjZSBvcHRpb25zXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGhdIC0gV2lkdGggb2YgcmVzb3VyY2VcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHRdIC0gSGVpZ2h0IG9mIHJlc291cmNlXG4gKi9cbnZhciBDdWJlUmVzb3VyY2UgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChBcnJheVJlc291cmNlKSB7XG4gICAgZnVuY3Rpb24gQ3ViZVJlc291cmNlKHNvdXJjZSwgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIEFycmF5UmVzb3VyY2UuY2FsbCh0aGlzLCBzb3VyY2UsIG9wdGlvbnMpO1xuXG4gICAgICAgIGlmICh0aGlzLmxlbmd0aCAhPT0gQ3ViZVJlc291cmNlLlNJREVTKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKFwiSW52YWxpZCBsZW5ndGguIEdvdCBcIiArICh0aGlzLmxlbmd0aCkgKyBcIiwgZXhwZWN0ZWQgNlwiKSk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IEN1YmVSZXNvdXJjZS5TSURFUzsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLml0ZW1zW2ldLnRhcmdldCA9IFRBUkdFVFMuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YICsgaTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLmF1dG9Mb2FkICE9PSBmYWxzZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5sb2FkKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIEFycmF5UmVzb3VyY2UgKSBDdWJlUmVzb3VyY2UuX19wcm90b19fID0gQXJyYXlSZXNvdXJjZTtcbiAgICBDdWJlUmVzb3VyY2UucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQXJyYXlSZXNvdXJjZSAmJiBBcnJheVJlc291cmNlLnByb3RvdHlwZSApO1xuICAgIEN1YmVSZXNvdXJjZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDdWJlUmVzb3VyY2U7XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYmluZGluZ1xuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIHBhcmVudCBiYXNlIHRleHR1cmVcbiAgICAgKi9cbiAgICBDdWJlUmVzb3VyY2UucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiBiaW5kIChiYXNlVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIEFycmF5UmVzb3VyY2UucHJvdG90eXBlLmJpbmQuY2FsbCh0aGlzLCBiYXNlVGV4dHVyZSk7XG5cbiAgICAgICAgYmFzZVRleHR1cmUudGFyZ2V0ID0gVEFSR0VUUy5URVhUVVJFX0NVQkVfTUFQO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWQgdGhlIHJlc291cmNlXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpcyBzdWNjZXNzXG4gICAgICovXG4gICAgQ3ViZVJlc291cmNlLnByb3RvdHlwZS51cGxvYWQgPSBmdW5jdGlvbiB1cGxvYWQgKHJlbmRlcmVyLCBiYXNlVGV4dHVyZSwgZ2xUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgdmFyIGRpcnR5ID0gdGhpcy5pdGVtRGlydHlJZHM7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBDdWJlUmVzb3VyY2UuU0lERVM7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHNpZGUgPSB0aGlzLml0ZW1zW2ldO1xuXG4gICAgICAgICAgICBpZiAoZGlydHlbaV0gPCBzaWRlLmRpcnR5SWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGlydHlbaV0gPSBzaWRlLmRpcnR5SWQ7XG4gICAgICAgICAgICAgICAgaWYgKHNpZGUudmFsaWQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzaWRlLnJlc291cmNlLnVwbG9hZChyZW5kZXJlciwgc2lkZSwgZ2xUZXh0dXJlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEN1YmVSZXNvdXJjZTtcbn0oQXJyYXlSZXNvdXJjZSkpO1xuXG4vKipcbiAqIE51bWJlciBvZiB0ZXh0dXJlIHNpZGVzIHRvIHN0b3JlIGZvciBDdWJlUmVzb3VyY2VzXG4gKlxuICogQG5hbWUgUElYSS5yZXNvdXJjZXMuQ3ViZVJlc291cmNlLlNJREVTXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKiBAZGVmYXVsdCA2XG4gKi9cbkN1YmVSZXNvdXJjZS5TSURFUyA9IDY7XG5cbi8qKlxuICogUmVzb3VyY2UgdHlwZSBmb3IgU1ZHIGVsZW1lbnRzIGFuZCBncmFwaGljcy5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuQmFzZUltYWdlUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZSAtIEJhc2U2NCBlbmNvZGVkIFNWRyBlbGVtZW50IG9yIFVSTCBmb3IgU1ZHIGZpbGUuXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gT3B0aW9ucyB0byB1c2VcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zY2FsZT0xXSBTY2FsZSB0byBhcHBseSB0byBTVkcuIE92ZXJyaWRkZW4gYnkuLi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aF0gUmFzdGVyaXplIFNWRyB0aGlzIHdpZGUuIEFzcGVjdCByYXRpbyBwcmVzZXJ2ZWQgaWYgaGVpZ2h0IG5vdCBzcGVjaWZpZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0XSBSYXN0ZXJpemUgU1ZHIHRoaXMgaGlnaC4gQXNwZWN0IHJhdGlvIHByZXNlcnZlZCBpZiB3aWR0aCBub3Qgc3BlY2lmaWVkLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvTG9hZD10cnVlXSBTdGFydCBsb2FkaW5nIHJpZ2h0IGF3YXkuXG4gKi9cbnZhciBTVkdSZXNvdXJjZSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEJhc2VJbWFnZVJlc291cmNlKSB7XG4gICAgZnVuY3Rpb24gU1ZHUmVzb3VyY2Uoc291cmNlLCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgQmFzZUltYWdlUmVzb3VyY2UuY2FsbCh0aGlzLCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKSk7XG4gICAgICAgIHRoaXMuX3dpZHRoID0gMDtcbiAgICAgICAgdGhpcy5faGVpZ2h0ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQmFzZTY0IGVuY29kZWQgU1ZHIGVsZW1lbnQgb3IgVVJMIGZvciBTVkcgZmlsZVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdmcgPSBzb3VyY2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzb3VyY2Ugc2NhbGUgdG8gYXBwbHkgd2hlbiByYXN0ZXJpemluZyBvbiBsb2FkXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNjYWxlID0gb3B0aW9ucy5zY2FsZSB8fCAxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHdpZHRoIG92ZXJyaWRlIGZvciByYXN0ZXJpemF0aW9uIG9uIGxvYWRcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX292ZXJyaWRlV2lkdGggPSBvcHRpb25zLndpZHRoO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGhlaWdodCBvdmVycmlkZSBmb3IgcmFzdGVyaXphdGlvbiBvbiBsb2FkXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9vdmVycmlkZUhlaWdodCA9IG9wdGlvbnMuaGVpZ2h0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxsIHdoZW4gY29tcGxldGVseSBsb2FkZWRcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9yZXNvbHZlID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ3Jvc3Mgb3JpZ2luIHZhbHVlIHRvIHVzZVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufHN0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2Nyb3Nzb3JpZ2luID0gb3B0aW9ucy5jcm9zc29yaWdpbjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvbWlzZSB3aGVuIGxvYWRpbmdcbiAgICAgICAgICogQG1lbWJlciB7UHJvbWlzZTx2b2lkPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbG9hZCA9IG51bGw7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuYXV0b0xvYWQgIT09IGZhbHNlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmxvYWQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICggQmFzZUltYWdlUmVzb3VyY2UgKSBTVkdSZXNvdXJjZS5fX3Byb3RvX18gPSBCYXNlSW1hZ2VSZXNvdXJjZTtcbiAgICBTVkdSZXNvdXJjZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBCYXNlSW1hZ2VSZXNvdXJjZSAmJiBCYXNlSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUgKTtcbiAgICBTVkdSZXNvdXJjZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTVkdSZXNvdXJjZTtcblxuICAgIFNWR1Jlc291cmNlLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gbG9hZCAoKVxuICAgIHtcbiAgICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICAgICAgaWYgKHRoaXMuX2xvYWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sb2FkO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbG9hZCA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICAvLyBTYXZlIHRoaXMgdW50aWwgYWZ0ZXIgbG9hZCBpcyBmaW5pc2hlZFxuICAgICAgICAgICAgdGhpcyQxLl9yZXNvbHZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRoaXMkMS5yZXNpemUodGhpcyQxLnNvdXJjZS53aWR0aCwgdGhpcyQxLnNvdXJjZS5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcyQxKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIENvbnZlcnQgU1ZHIGlubGluZSBzdHJpbmcgdG8gZGF0YS11cmlcbiAgICAgICAgICAgIGlmICgoL15cXDxzdmcvKS50ZXN0KHRoaXMkMS5zdmcudHJpbSgpKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoIWJ0b2EpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdXIgYnJvd3NlciBkb2VzblxcJ3Qgc3VwcG9ydCBiYXNlNjQgY29udmVyc2lvbnMuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMkMS5zdmcgPSBcImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsXCIgKyAoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQodGhpcyQxLnN2ZykpKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMkMS5fbG9hZFN2ZygpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTG9hZHMgYW4gU1ZHIGltYWdlIGZyb20gYGltYWdlVXJsYCBvciBgZGF0YSBVUkxgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBTVkdSZXNvdXJjZS5wcm90b3R5cGUuX2xvYWRTdmcgPSBmdW5jdGlvbiBfbG9hZFN2ZyAoKVxuICAgIHtcbiAgICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICAgICAgdmFyIHRlbXBJbWFnZSA9IG5ldyBJbWFnZSgpO1xuXG4gICAgICAgIEJhc2VJbWFnZVJlc291cmNlLmNyb3NzT3JpZ2luKHRlbXBJbWFnZSwgdGhpcy5zdmcsIHRoaXMuX2Nyb3Nzb3JpZ2luKTtcbiAgICAgICAgdGVtcEltYWdlLnNyYyA9IHRoaXMuc3ZnO1xuXG4gICAgICAgIHRlbXBJbWFnZS5vbmVycm9yID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICB0ZW1wSW1hZ2Uub25lcnJvciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzJDEub25FcnJvci5ydW4oZXZlbnQpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRlbXBJbWFnZS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc3ZnV2lkdGggPSB0ZW1wSW1hZ2Uud2lkdGg7XG4gICAgICAgICAgICB2YXIgc3ZnSGVpZ2h0ID0gdGVtcEltYWdlLmhlaWdodDtcblxuICAgICAgICAgICAgaWYgKCFzdmdXaWR0aCB8fCAhc3ZnSGVpZ2h0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIFNWRyBpbWFnZSBtdXN0IGhhdmUgd2lkdGggYW5kIGhlaWdodCBkZWZpbmVkIChpbiBwaXhlbHMpLCBjYW52YXMgQVBJIG5lZWRzIHRoZW0uJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFNldCByZW5kZXIgc2l6ZVxuICAgICAgICAgICAgdmFyIHdpZHRoID0gc3ZnV2lkdGggKiB0aGlzJDEuc2NhbGU7XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gc3ZnSGVpZ2h0ICogdGhpcyQxLnNjYWxlO1xuXG4gICAgICAgICAgICBpZiAodGhpcyQxLl9vdmVycmlkZVdpZHRoIHx8IHRoaXMkMS5fb3ZlcnJpZGVIZWlnaHQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgd2lkdGggPSB0aGlzJDEuX292ZXJyaWRlV2lkdGggfHwgdGhpcyQxLl9vdmVycmlkZUhlaWdodCAvIHN2Z0hlaWdodCAqIHN2Z1dpZHRoO1xuICAgICAgICAgICAgICAgIGhlaWdodCA9IHRoaXMkMS5fb3ZlcnJpZGVIZWlnaHQgfHwgdGhpcyQxLl9vdmVycmlkZVdpZHRoIC8gc3ZnV2lkdGggKiBzdmdIZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3aWR0aCA9IE1hdGgucm91bmQod2lkdGgpO1xuICAgICAgICAgICAgaGVpZ2h0ID0gTWF0aC5yb3VuZChoZWlnaHQpO1xuXG4gICAgICAgICAgICAvLyBDcmVhdGUgYSBjYW52YXMgZWxlbWVudFxuICAgICAgICAgICAgdmFyIGNhbnZhcyA9IHRoaXMkMS5zb3VyY2U7XG5cbiAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgICAgIGNhbnZhcy5fcGl4aUlkID0gXCJjYW52YXNfXCIgKyAodWlkKCkpO1xuXG4gICAgICAgICAgICAvLyBEcmF3IHRoZSBTdmcgdG8gdGhlIGNhbnZhc1xuICAgICAgICAgICAgY2FudmFzXG4gICAgICAgICAgICAgICAgLmdldENvbnRleHQoJzJkJylcbiAgICAgICAgICAgICAgICAuZHJhd0ltYWdlKHRlbXBJbWFnZSwgMCwgMCwgc3ZnV2lkdGgsIHN2Z0hlaWdodCwgMCwgMCwgd2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgICAgIHRoaXMkMS5fcmVzb2x2ZSgpO1xuICAgICAgICAgICAgdGhpcyQxLl9yZXNvbHZlID0gbnVsbDtcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0IHNpemUgZnJvbSBhbiBzdmcgc3RyaW5nIHVzaW5nIHJlZ2V4cC5cbiAgICAgKlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3ZnU3RyaW5nIC0gYSBzZXJpYWxpemVkIHN2ZyBlbGVtZW50XG4gICAgICogQHJldHVybiB7UElYSS5JU2l6ZX0gaW1hZ2UgZXh0ZW5zaW9uXG4gICAgICovXG4gICAgU1ZHUmVzb3VyY2UuZ2V0U2l6ZSA9IGZ1bmN0aW9uIGdldFNpemUgKHN2Z1N0cmluZylcbiAgICB7XG4gICAgICAgIHZhciBzaXplTWF0Y2ggPSBTVkdSZXNvdXJjZS5TVkdfU0laRS5leGVjKHN2Z1N0cmluZyk7XG4gICAgICAgIHZhciBzaXplID0ge307XG5cbiAgICAgICAgaWYgKHNpemVNYXRjaClcbiAgICAgICAge1xuICAgICAgICAgICAgc2l6ZVtzaXplTWF0Y2hbMV1dID0gTWF0aC5yb3VuZChwYXJzZUZsb2F0KHNpemVNYXRjaFszXSkpO1xuICAgICAgICAgICAgc2l6ZVtzaXplTWF0Y2hbNV1dID0gTWF0aC5yb3VuZChwYXJzZUZsb2F0KHNpemVNYXRjaFs3XSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNpemU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgdGV4dHVyZVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIFNWR1Jlc291cmNlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gZGlzcG9zZSAoKVxuICAgIHtcbiAgICAgICAgQmFzZUltYWdlUmVzb3VyY2UucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5fcmVzb2x2ZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX2Nyb3Nzb3JpZ2luID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXNlZCB0byBhdXRvLWRldGVjdCB0aGUgdHlwZSBvZiByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0geyp9IHNvdXJjZSAtIFRoZSBzb3VyY2Ugb2JqZWN0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4dGVuc2lvbiAtIFRoZSBleHRlbnNpb24gb2Ygc291cmNlLCBpZiBzZXRcbiAgICAgKi9cbiAgICBTVkdSZXNvdXJjZS50ZXN0ID0gZnVuY3Rpb24gdGVzdCAoc291cmNlLCBleHRlbnNpb24pXG4gICAge1xuICAgICAgICAvLyB1cmwgZmlsZSBleHRlbnNpb24gaXMgU1ZHXG4gICAgICAgIHJldHVybiBleHRlbnNpb24gPT09ICdzdmcnXG4gICAgICAgICAgICAvLyBzb3VyY2UgaXMgU1ZHIGRhdGEtdXJpXG4gICAgICAgICAgICB8fCAodHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZycgJiYgc291cmNlLmluZGV4T2YoJ2RhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQnKSA9PT0gMClcbiAgICAgICAgICAgIC8vIHNvdXJjZSBpcyBTVkcgaW5saW5lXG4gICAgICAgICAgICB8fCAodHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZycgJiYgc291cmNlLmluZGV4T2YoJzxzdmcnKSA9PT0gMCk7XG4gICAgfTtcblxuICAgIHJldHVybiBTVkdSZXNvdXJjZTtcbn0oQmFzZUltYWdlUmVzb3VyY2UpKTtcblxuLyoqXG4gKiBSZWdFeHAgZm9yIFNWRyBzaXplLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudCB7UmVnRXhwfHN0cmluZ30gU1ZHX1NJWkVcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlcy5TVkdSZXNvdXJjZVxuICogQGV4YW1wbGUgJmx0O3N2ZyB3aWR0aD1cIjEwMFwiIGhlaWdodD1cIjEwMFwiJmd0OyZsdDsvc3ZnJmd0O1xuICovXG5TVkdSZXNvdXJjZS5TVkdfU0laRSA9IC88c3ZnW14+XSooPzpcXHMod2lkdGh8aGVpZ2h0KT0oJ3xcIikoXFxkKig/OlxcLlxcZCspPykoPzpweCk/KCd8XCIpKVtePl0qKD86XFxzKHdpZHRofGhlaWdodCk9KCd8XCIpKFxcZCooPzpcXC5cXGQrKT8pKD86cHgpPygnfFwiKSlbXj5dKj4vaTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBtYXgtbGVuXG5cbi8qKlxuICogUmVzb3VyY2UgdHlwZSBmb3IgSFRNTFZpZGVvRWxlbWVudC5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuQmFzZUltYWdlUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICogQHBhcmFtIHtIVE1MVmlkZW9FbGVtZW50fG9iamVjdHxzdHJpbmd8QXJyYXk8c3RyaW5nfG9iamVjdD59IHNvdXJjZSAtIFZpZGVvIGVsZW1lbnQgdG8gdXNlLlxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIE9wdGlvbnMgdG8gdXNlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9Mb2FkPXRydWVdIC0gU3RhcnQgbG9hZGluZyB0aGUgdmlkZW8gaW1tZWRpYXRlbHlcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b1BsYXk9dHJ1ZV0gLSBTdGFydCBwbGF5aW5nIHZpZGVvIGltbWVkaWF0ZWx5XG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMudXBkYXRlRlBTPTBdIC0gSG93IG1hbnkgdGltZXMgYSBzZWNvbmQgdG8gdXBkYXRlIHRoZSB0ZXh0dXJlIGZyb20gdGhlIHZpZGVvLlxuICogTGVhdmUgYXQgMCB0byB1cGRhdGUgYXQgZXZlcnkgcmVuZGVyLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jcm9zc29yaWdpbj10cnVlXSAtIExvYWQgaW1hZ2UgdXNpbmcgY3Jvc3Mgb3JpZ2luXG4gKi9cbnZhciBWaWRlb1Jlc291cmNlID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoQmFzZUltYWdlUmVzb3VyY2UpIHtcbiAgICBmdW5jdGlvbiBWaWRlb1Jlc291cmNlKHNvdXJjZSwgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIGlmICghKHNvdXJjZSBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQpKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgdmlkZW9FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTtcblxuICAgICAgICAgICAgLy8gd29ya2Fyb3VuZCBmb3IgaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLmpzL2lzc3Vlcy81OTk2XG4gICAgICAgICAgICB2aWRlb0VsZW1lbnQuc2V0QXR0cmlidXRlKCdwcmVsb2FkJywgJ2F1dG8nKTtcbiAgICAgICAgICAgIHZpZGVvRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3dlYmtpdC1wbGF5c2lubGluZScsICcnKTtcbiAgICAgICAgICAgIHZpZGVvRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3BsYXlzaW5saW5lJywgJycpO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZycpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc291cmNlID0gW3NvdXJjZV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIEJhc2VJbWFnZVJlc291cmNlLmNyb3NzT3JpZ2luKHZpZGVvRWxlbWVudCwgKHNvdXJjZVswXS5zcmMgfHwgc291cmNlWzBdKSwgb3B0aW9ucy5jcm9zc29yaWdpbik7XG5cbiAgICAgICAgICAgIC8vIGFycmF5IG9mIG9iamVjdHMgb3Igc3RyaW5nc1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzb3VyY2UubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIHNvdXJjZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzb3VyY2UnKTtcblxuICAgICAgICAgICAgICAgIHZhciByZWYgPSBzb3VyY2VbaV07XG4gICAgICAgICAgICAgICAgdmFyIHNyYyA9IHJlZi5zcmM7XG4gICAgICAgICAgICAgICAgdmFyIG1pbWUgPSByZWYubWltZTtcblxuICAgICAgICAgICAgICAgIHNyYyA9IHNyYyB8fCBzb3VyY2VbaV07XG5cbiAgICAgICAgICAgICAgICB2YXIgYmFzZVNyYyA9IHNyYy5zcGxpdCgnPycpLnNoaWZ0KCkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICB2YXIgZXh0ID0gYmFzZVNyYy5zdWJzdHIoYmFzZVNyYy5sYXN0SW5kZXhPZignLicpICsgMSk7XG5cbiAgICAgICAgICAgICAgICBtaW1lID0gbWltZSB8fCAoXCJ2aWRlby9cIiArIGV4dCk7XG5cbiAgICAgICAgICAgICAgICBzb3VyY2VFbGVtZW50LnNyYyA9IHNyYztcbiAgICAgICAgICAgICAgICBzb3VyY2VFbGVtZW50LnR5cGUgPSBtaW1lO1xuXG4gICAgICAgICAgICAgICAgdmlkZW9FbGVtZW50LmFwcGVuZENoaWxkKHNvdXJjZUVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBPdmVycmlkZSB0aGUgc291cmNlXG4gICAgICAgICAgICBzb3VyY2UgPSB2aWRlb0VsZW1lbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBCYXNlSW1hZ2VSZXNvdXJjZS5jYWxsKHRoaXMsIHNvdXJjZSk7XG5cbiAgICAgICAgdGhpcy5ub1N1YkltYWdlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fYXV0b1VwZGF0ZSA9IHRydWU7XG4gICAgICAgIHRoaXMuX2lzQXV0b1VwZGF0aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUZQUyA9IG9wdGlvbnMudXBkYXRlRlBTIHx8IDA7XG4gICAgICAgIHRoaXMuX21zVG9OZXh0VXBkYXRlID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiBzZXQgdG8gdHJ1ZSB3aWxsIGF1dG9tYXRpY2FsbHkgcGxheSB2aWRlb3MgdXNlZCBieSB0aGlzIHRleHR1cmUgb25jZVxuICAgICAgICAgKiB0aGV5IGFyZSBsb2FkZWQuIElmIGZhbHNlLCBpdCB3aWxsIG5vdCBtb2RpZnkgdGhlIHBsYXlpbmcgc3RhdGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYXV0b1BsYXkgPSBvcHRpb25zLmF1dG9QbGF5ICE9PSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvbWlzZSB3aGVuIGxvYWRpbmdcbiAgICAgICAgICogQG1lbWJlciB7UHJvbWlzZTx2b2lkPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbG9hZCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbGxiYWNrIHdoZW4gY29tcGxldGVkIHdpdGggbG9hZC5cbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9yZXNvbHZlID0gbnVsbDtcblxuICAgICAgICAvLyBCaW5kIGZvciBsaXN0ZW5lcnNcbiAgICAgICAgdGhpcy5fb25DYW5QbGF5ID0gdGhpcy5fb25DYW5QbGF5LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX29uRXJyb3IgPSB0aGlzLl9vbkVycm9yLmJpbmQodGhpcyk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuYXV0b0xvYWQgIT09IGZhbHNlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmxvYWQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICggQmFzZUltYWdlUmVzb3VyY2UgKSBWaWRlb1Jlc291cmNlLl9fcHJvdG9fXyA9IEJhc2VJbWFnZVJlc291cmNlO1xuICAgIFZpZGVvUmVzb3VyY2UucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQmFzZUltYWdlUmVzb3VyY2UgJiYgQmFzZUltYWdlUmVzb3VyY2UucHJvdG90eXBlICk7XG4gICAgVmlkZW9SZXNvdXJjZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBWaWRlb1Jlc291cmNlO1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgYXV0b1VwZGF0ZTogeyBjb25maWd1cmFibGU6IHRydWUgfSx1cGRhdGVGUFM6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXIgdXBkYXRpbmcgb2YgdGhlIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZGVsdGFUaW1lPTBdIC0gdGltZSBkZWx0YSBzaW5jZSBsYXN0IHRpY2tcbiAgICAgKi9cbiAgICBWaWRlb1Jlc291cmNlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUgKGRlbHRhVGltZSlcbiAgICB7XG4gICAgICAgIGlmICggZGVsdGFUaW1lID09PSB2b2lkIDAgKSBkZWx0YVRpbWUgPSAwO1xuXG4gICAgICAgIGlmICghdGhpcy5kZXN0cm95ZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGFjY291bnQgZm9yIGlmIHZpZGVvIGhhcyBoYWQgaXRzIHBsYXliYWNrUmF0ZSBjaGFuZ2VkXG4gICAgICAgICAgICB2YXIgZWxhcHNlZE1TID0gVGlja2VyLnNoYXJlZC5lbGFwc2VkTVMgKiB0aGlzLnNvdXJjZS5wbGF5YmFja1JhdGU7XG5cbiAgICAgICAgICAgIHRoaXMuX21zVG9OZXh0VXBkYXRlID0gTWF0aC5mbG9vcih0aGlzLl9tc1RvTmV4dFVwZGF0ZSAtIGVsYXBzZWRNUyk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3VwZGF0ZUZQUyB8fCB0aGlzLl9tc1RvTmV4dFVwZGF0ZSA8PSAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIEJhc2VJbWFnZVJlc291cmNlLnByb3RvdHlwZS51cGRhdGUuY2FsbCh0aGlzLCBkZWx0YVRpbWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX21zVG9OZXh0VXBkYXRlID0gdGhpcy5fdXBkYXRlRlBTID8gTWF0aC5mbG9vcigxMDAwIC8gdGhpcy5fdXBkYXRlRlBTKSA6IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3RhcnQgcHJlbG9hZGluZyB0aGUgdmlkZW8gcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHJldHVybiB7UHJvbWlzZTx2b2lkPn0gSGFuZGxlIHRoZSB2YWxpZGF0ZSBldmVudFxuICAgICAqL1xuICAgIFZpZGVvUmVzb3VyY2UucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiBsb2FkICgpXG4gICAge1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgICAgICBpZiAodGhpcy5fbG9hZClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5zb3VyY2U7XG5cbiAgICAgICAgaWYgKChzb3VyY2UucmVhZHlTdGF0ZSA9PT0gc291cmNlLkhBVkVfRU5PVUdIX0RBVEEgfHwgc291cmNlLnJlYWR5U3RhdGUgPT09IHNvdXJjZS5IQVZFX0ZVVFVSRV9EQVRBKVxuICAgICAgICAgICAgJiYgc291cmNlLndpZHRoICYmIHNvdXJjZS5oZWlnaHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNvdXJjZS5jb21wbGV0ZSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcigncGxheScsIHRoaXMuX29uUGxheVN0YXJ0LmJpbmQodGhpcykpO1xuICAgICAgICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcigncGF1c2UnLCB0aGlzLl9vblBsYXlTdG9wLmJpbmQodGhpcykpO1xuXG4gICAgICAgIGlmICghdGhpcy5faXNTb3VyY2VSZWFkeSgpKVxuICAgICAgICB7XG4gICAgICAgICAgICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcignY2FucGxheScsIHRoaXMuX29uQ2FuUGxheSk7XG4gICAgICAgICAgICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCB0aGlzLl9vbkNhblBsYXkpO1xuICAgICAgICAgICAgc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fb25FcnJvciwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9vbkNhblBsYXkoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2xvYWQgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMkMS52YWxpZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMkMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcyQxLl9yZXNvbHZlID0gcmVzb2x2ZTtcblxuICAgICAgICAgICAgICAgIHNvdXJjZS5sb2FkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9sb2FkO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgdmlkZW8gZXJyb3IgZXZlbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBWaWRlb1Jlc291cmNlLnByb3RvdHlwZS5fb25FcnJvciA9IGZ1bmN0aW9uIF9vbkVycm9yICgpXG4gICAge1xuICAgICAgICB0aGlzLnNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX29uRXJyb3IsIHRydWUpO1xuICAgICAgICB0aGlzLm9uRXJyb3IucnVuKGV2ZW50KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSB1bmRlcmx5aW5nIHNvdXJjZSBpcyBwbGF5aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHBsYXlpbmcuXG4gICAgICovXG4gICAgVmlkZW9SZXNvdXJjZS5wcm90b3R5cGUuX2lzU291cmNlUGxheWluZyA9IGZ1bmN0aW9uIF9pc1NvdXJjZVBsYXlpbmcgKClcbiAgICB7XG4gICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLnNvdXJjZTtcblxuICAgICAgICByZXR1cm4gKHNvdXJjZS5jdXJyZW50VGltZSA+IDAgJiYgc291cmNlLnBhdXNlZCA9PT0gZmFsc2UgJiYgc291cmNlLmVuZGVkID09PSBmYWxzZSAmJiBzb3VyY2UucmVhZHlTdGF0ZSA+IDIpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHVuZGVybHlpbmcgc291cmNlIGlzIHJlYWR5IGZvciBwbGF5aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHJlYWR5LlxuICAgICAqL1xuICAgIFZpZGVvUmVzb3VyY2UucHJvdG90eXBlLl9pc1NvdXJjZVJlYWR5ID0gZnVuY3Rpb24gX2lzU291cmNlUmVhZHkgKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNvdXJjZS5yZWFkeVN0YXRlID09PSAzIHx8IHRoaXMuc291cmNlLnJlYWR5U3RhdGUgPT09IDQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJ1bnMgdGhlIHVwZGF0ZSBsb29wIHdoZW4gdGhlIHZpZGVvIGlzIHJlYWR5IHRvIHBsYXlcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVmlkZW9SZXNvdXJjZS5wcm90b3R5cGUuX29uUGxheVN0YXJ0ID0gZnVuY3Rpb24gX29uUGxheVN0YXJ0ICgpXG4gICAge1xuICAgICAgICAvLyBKdXN0IGluIGNhc2UgdGhlIHZpZGVvIGhhcyBub3QgcmVjZWl2ZWQgaXRzIGNhbiBwbGF5IGV2ZW4geWV0Li5cbiAgICAgICAgaWYgKCF0aGlzLnZhbGlkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9vbkNhblBsYXkoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5faXNBdXRvVXBkYXRpbmcgJiYgdGhpcy5hdXRvVXBkYXRlKVxuICAgICAgICB7XG4gICAgICAgICAgICBUaWNrZXIuc2hhcmVkLmFkZCh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLl9pc0F1dG9VcGRhdGluZyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIHBhdXNlIGV2ZW50IGlzIHRyaWdnZXJlZCwgc3RvcHMgdGhlIHVwZGF0ZSBsb29wXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFZpZGVvUmVzb3VyY2UucHJvdG90eXBlLl9vblBsYXlTdG9wID0gZnVuY3Rpb24gX29uUGxheVN0b3AgKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9pc0F1dG9VcGRhdGluZylcbiAgICAgICAge1xuICAgICAgICAgICAgVGlja2VyLnNoYXJlZC5yZW1vdmUodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5faXNBdXRvVXBkYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIHRoZSB2aWRlbyBpcyBsb2FkZWQgYW5kIHJlYWR5IHRvIHBsYXlcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVmlkZW9SZXNvdXJjZS5wcm90b3R5cGUuX29uQ2FuUGxheSA9IGZ1bmN0aW9uIF9vbkNhblBsYXkgKClcbiAgICB7XG4gICAgICAgIHZhciByZWYgPSB0aGlzO1xuICAgICAgICB2YXIgc291cmNlID0gcmVmLnNvdXJjZTtcblxuICAgICAgICBzb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2FucGxheScsIHRoaXMuX29uQ2FuUGxheSk7XG4gICAgICAgIHNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKCdjYW5wbGF5dGhyb3VnaCcsIHRoaXMuX29uQ2FuUGxheSk7XG5cbiAgICAgICAgdmFyIHZhbGlkID0gdGhpcy52YWxpZDtcblxuICAgICAgICB0aGlzLnJlc2l6ZShzb3VyY2UudmlkZW9XaWR0aCwgc291cmNlLnZpZGVvSGVpZ2h0KTtcblxuICAgICAgICAvLyBwcmV2ZW50IG11bHRpcGxlIGxvYWRlZCBkaXNwYXRjaGVzLi5cbiAgICAgICAgaWYgKCF2YWxpZCAmJiB0aGlzLl9yZXNvbHZlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5faXNTb3VyY2VQbGF5aW5nKCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX29uUGxheVN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5hdXRvUGxheSlcbiAgICAgICAge1xuICAgICAgICAgICAgc291cmNlLnBsYXkoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHRleHR1cmVcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBWaWRlb1Jlc291cmNlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gZGlzcG9zZSAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzQXV0b1VwZGF0aW5nKVxuICAgICAgICB7XG4gICAgICAgICAgICBUaWNrZXIuc2hhcmVkLnJlbW92ZSh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zb3VyY2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc291cmNlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fb25FcnJvciwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZS5wYXVzZSgpO1xuICAgICAgICAgICAgdGhpcy5zb3VyY2Uuc3JjID0gJyc7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZS5sb2FkKCk7XG4gICAgICAgIH1cbiAgICAgICAgQmFzZUltYWdlUmVzb3VyY2UucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2hvdWxkIHRoZSBiYXNlIHRleHR1cmUgYXV0b21hdGljYWxseSB1cGRhdGUgaXRzZWxmLCBzZXQgdG8gdHJ1ZSBieSBkZWZhdWx0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5hdXRvVXBkYXRlLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fYXV0b1VwZGF0ZTtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmF1dG9VcGRhdGUuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdGhpcy5fYXV0b1VwZGF0ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fYXV0b1VwZGF0ZSA9IHZhbHVlO1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMuX2F1dG9VcGRhdGUgJiYgdGhpcy5faXNBdXRvVXBkYXRpbmcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgVGlja2VyLnNoYXJlZC5yZW1vdmUodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2lzQXV0b1VwZGF0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLl9hdXRvVXBkYXRlICYmICF0aGlzLl9pc0F1dG9VcGRhdGluZylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBUaWNrZXIuc2hhcmVkLmFkZCh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5faXNBdXRvVXBkYXRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhvdyBtYW55IHRpbWVzIGEgc2Vjb25kIHRvIHVwZGF0ZSB0aGUgdGV4dHVyZSBmcm9tIHRoZSB2aWRlby4gTGVhdmUgYXQgMCB0byB1cGRhdGUgYXQgZXZlcnkgcmVuZGVyLlxuICAgICAqIEEgbG93ZXIgZnBzIGNhbiBoZWxwIHBlcmZvcm1hbmNlLCBhcyB1cGRhdGluZyB0aGUgdGV4dHVyZSBhdCA2MGZwcyBvbiBhIDMwcHMgdmlkZW8gbWF5IG5vdCBiZSBlZmZpY2llbnQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnVwZGF0ZUZQUy5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VwZGF0ZUZQUztcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnVwZGF0ZUZQUy5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKHZhbHVlICE9PSB0aGlzLl91cGRhdGVGUFMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUZQUyA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gYXV0by1kZXRlY3QgdGhlIHR5cGUgb2YgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHsqfSBzb3VyY2UgLSBUaGUgc291cmNlIG9iamVjdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHRlbnNpb24gLSBUaGUgZXh0ZW5zaW9uIG9mIHNvdXJjZSwgaWYgc2V0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHZpZGVvIHNvdXJjZVxuICAgICAqL1xuICAgIFZpZGVvUmVzb3VyY2UudGVzdCA9IGZ1bmN0aW9uIHRlc3QgKHNvdXJjZSwgZXh0ZW5zaW9uKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIChzb3VyY2UgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50KVxuICAgICAgICAgICAgfHwgVmlkZW9SZXNvdXJjZS5UWVBFUy5pbmRleE9mKGV4dGVuc2lvbikgPiAtMTtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIFZpZGVvUmVzb3VyY2UucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuICAgIHJldHVybiBWaWRlb1Jlc291cmNlO1xufShCYXNlSW1hZ2VSZXNvdXJjZSkpO1xuXG4vKipcbiAqIExpc3Qgb2YgY29tbW9uIHZpZGVvIGZpbGUgZXh0ZW5zaW9ucyBzdXBwb3J0ZWQgYnkgVmlkZW9SZXNvdXJjZS5cbiAqIEBjb25zdGFudFxuICogQG1lbWJlciB7QXJyYXk8c3RyaW5nPn1cbiAqIEBzdGF0aWNcbiAqIEByZWFkb25seVxuICovXG5WaWRlb1Jlc291cmNlLlRZUEVTID0gWydtcDQnLCAnbTR2JywgJ3dlYm0nLCAnb2dnJywgJ29ndicsICdoMjY0JywgJ2F2aScsICdtb3YnXTtcblxuLyoqXG4gKiBSZXNvdXJjZSB0eXBlIGZvciBJbWFnZUJpdG1hcC5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuQmFzZUltYWdlUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICogQHBhcmFtIHtJbWFnZUJpdG1hcH0gc291cmNlIC0gSW1hZ2UgZWxlbWVudCB0byB1c2VcbiAqL1xudmFyIEltYWdlQml0bWFwUmVzb3VyY2UgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChCYXNlSW1hZ2VSZXNvdXJjZSkge1xuICAgIGZ1bmN0aW9uIEltYWdlQml0bWFwUmVzb3VyY2UgKCkge1xuICAgICAgICBCYXNlSW1hZ2VSZXNvdXJjZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIGlmICggQmFzZUltYWdlUmVzb3VyY2UgKSBJbWFnZUJpdG1hcFJlc291cmNlLl9fcHJvdG9fXyA9IEJhc2VJbWFnZVJlc291cmNlO1xuICAgIEltYWdlQml0bWFwUmVzb3VyY2UucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQmFzZUltYWdlUmVzb3VyY2UgJiYgQmFzZUltYWdlUmVzb3VyY2UucHJvdG90eXBlICk7XG4gICAgSW1hZ2VCaXRtYXBSZXNvdXJjZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBJbWFnZUJpdG1hcFJlc291cmNlO1xuXG4gICAgSW1hZ2VCaXRtYXBSZXNvdXJjZS50ZXN0ID0gZnVuY3Rpb24gdGVzdCAoc291cmNlKVxuICAgIHtcbiAgICAgICAgcmV0dXJuICEhd2luZG93LmNyZWF0ZUltYWdlQml0bWFwICYmIHNvdXJjZSBpbnN0YW5jZW9mIEltYWdlQml0bWFwO1xuICAgIH07XG5cbiAgICByZXR1cm4gSW1hZ2VCaXRtYXBSZXNvdXJjZTtcbn0oQmFzZUltYWdlUmVzb3VyY2UpKTtcblxuSU5TVEFMTEVELnB1c2goXG4gICAgSW1hZ2VSZXNvdXJjZSxcbiAgICBJbWFnZUJpdG1hcFJlc291cmNlLFxuICAgIENhbnZhc1Jlc291cmNlLFxuICAgIFZpZGVvUmVzb3VyY2UsXG4gICAgU1ZHUmVzb3VyY2UsXG4gICAgQnVmZmVyUmVzb3VyY2UsXG4gICAgQ3ViZVJlc291cmNlLFxuICAgIEFycmF5UmVzb3VyY2Vcbik7XG5cbnZhciBpbmRleCA9ICh7XG4gICAgSU5TVEFMTEVEOiBJTlNUQUxMRUQsXG4gICAgYXV0b0RldGVjdFJlc291cmNlOiBhdXRvRGV0ZWN0UmVzb3VyY2UsXG4gICAgQXJyYXlSZXNvdXJjZTogQXJyYXlSZXNvdXJjZSxcbiAgICBCdWZmZXJSZXNvdXJjZTogQnVmZmVyUmVzb3VyY2UsXG4gICAgQ2FudmFzUmVzb3VyY2U6IENhbnZhc1Jlc291cmNlLFxuICAgIEN1YmVSZXNvdXJjZTogQ3ViZVJlc291cmNlLFxuICAgIEltYWdlUmVzb3VyY2U6IEltYWdlUmVzb3VyY2UsXG4gICAgSW1hZ2VCaXRtYXBSZXNvdXJjZTogSW1hZ2VCaXRtYXBSZXNvdXJjZSxcbiAgICBTVkdSZXNvdXJjZTogU1ZHUmVzb3VyY2UsXG4gICAgVmlkZW9SZXNvdXJjZTogVmlkZW9SZXNvdXJjZSxcbiAgICBSZXNvdXJjZTogUmVzb3VyY2UsXG4gICAgQmFzZUltYWdlUmVzb3VyY2U6IEJhc2VJbWFnZVJlc291cmNlXG59KTtcblxuLyoqXG4gKiBTeXN0ZW0gaXMgYSBiYXNlIGNsYXNzIHVzZWQgZm9yIGV4dGVuZGluZyBzeXN0ZW1zIHVzZWQgYnkgdGhlIHtAbGluayBQSVhJLlJlbmRlcmVyfVxuICpcbiAqIEBzZWUgUElYSS5SZW5kZXJlciNhZGRTeXN0ZW1cbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFN5c3RlbSA9IGZ1bmN0aW9uIFN5c3RlbShyZW5kZXJlcilcbntcbiAgICAvKipcbiAgICAgKiBUaGUgcmVuZGVyZXIgdGhpcyBtYW5hZ2VyIHdvcmtzIGZvci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuUmVuZGVyZXJ9XG4gICAgICovXG4gICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xufTtcblxuLyoqXG4gKiBHZW5lcmljIGRlc3Ryb3kgbWV0aG9kcyB0byBiZSBvdmVycmlkZGVuIGJ5IHRoZSBzdWJjbGFzc1xuICovXG5TeXN0ZW0ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95ICgpXG57XG4gICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG59O1xuXG4vKipcbiAqIFJlc291cmNlIHR5cGUgZm9yIERlcHRoVGV4dHVyZS5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuQnVmZmVyUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICovXG52YXIgRGVwdGhSZXNvdXJjZSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEJ1ZmZlclJlc291cmNlKSB7XG4gICAgZnVuY3Rpb24gRGVwdGhSZXNvdXJjZSAoKSB7XG4gICAgICAgIEJ1ZmZlclJlc291cmNlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgaWYgKCBCdWZmZXJSZXNvdXJjZSApIERlcHRoUmVzb3VyY2UuX19wcm90b19fID0gQnVmZmVyUmVzb3VyY2U7XG4gICAgRGVwdGhSZXNvdXJjZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBCdWZmZXJSZXNvdXJjZSAmJiBCdWZmZXJSZXNvdXJjZS5wcm90b3R5cGUgKTtcbiAgICBEZXB0aFJlc291cmNlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IERlcHRoUmVzb3VyY2U7XG5cbiAgICBEZXB0aFJlc291cmNlLnByb3RvdHlwZS51cGxvYWQgPSBmdW5jdGlvbiB1cGxvYWQgKHJlbmRlcmVyLCBiYXNlVGV4dHVyZSwgZ2xUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLCBiYXNlVGV4dHVyZS5wcmVtdWx0aXBseUFscGhhKTtcblxuICAgICAgICBpZiAoZ2xUZXh0dXJlLndpZHRoID09PSBiYXNlVGV4dHVyZS53aWR0aCAmJiBnbFRleHR1cmUuaGVpZ2h0ID09PSBiYXNlVGV4dHVyZS5oZWlnaHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLnRleFN1YkltYWdlMkQoXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUudGFyZ2V0LFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLndpZHRoLFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLmhlaWdodCxcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS5mb3JtYXQsXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUudHlwZSxcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBnbFRleHR1cmUud2lkdGggPSBiYXNlVGV4dHVyZS53aWR0aDtcbiAgICAgICAgICAgIGdsVGV4dHVyZS5oZWlnaHQgPSBiYXNlVGV4dHVyZS5oZWlnaHQ7XG5cbiAgICAgICAgICAgIGdsLnRleEltYWdlMkQoXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUudGFyZ2V0LFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgZ2wuREVQVEhfQ09NUE9ORU5UMTYsIC8vIE5lZWRlZCBmb3IgZGVwdGggdG8gcmVuZGVyIHByb3Blcmx5IGluIHdlYmdsMi4wXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUud2lkdGgsXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUuaGVpZ2h0LFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUuZm9ybWF0LFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLnR5cGUsXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIHJldHVybiBEZXB0aFJlc291cmNlO1xufShCdWZmZXJSZXNvdXJjZSkpO1xuXG4vKipcbiAqIEZyYW1lIGJ1ZmZlciB1c2VkIGJ5IHRoZSBCYXNlUmVuZGVyVGV4dHVyZVxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEZyYW1lYnVmZmVyID0gZnVuY3Rpb24gRnJhbWVidWZmZXIod2lkdGgsIGhlaWdodClcbntcbiAgICB0aGlzLndpZHRoID0gTWF0aC5jZWlsKHdpZHRoIHx8IDEwMCk7XG4gICAgdGhpcy5oZWlnaHQgPSBNYXRoLmNlaWwoaGVpZ2h0IHx8IDEwMCk7XG5cbiAgICB0aGlzLnN0ZW5jaWwgPSBmYWxzZTtcbiAgICB0aGlzLmRlcHRoID0gZmFsc2U7XG5cbiAgICB0aGlzLmRpcnR5SWQgPSAwO1xuICAgIHRoaXMuZGlydHlGb3JtYXQgPSAwO1xuICAgIHRoaXMuZGlydHlTaXplID0gMDtcblxuICAgIHRoaXMuZGVwdGhUZXh0dXJlID0gbnVsbDtcbiAgICB0aGlzLmNvbG9yVGV4dHVyZXMgPSBbXTtcblxuICAgIHRoaXMuZ2xGcmFtZWJ1ZmZlcnMgPSB7fTtcblxuICAgIHRoaXMuZGlzcG9zZVJ1bm5lciA9IG5ldyBSdW5uZXIoJ2Rpc3Bvc2VGcmFtZWJ1ZmZlcicsIDIpO1xufTtcblxudmFyIHByb3RvdHlwZUFjY2Vzc29ycyQxID0geyBjb2xvclRleHR1cmU6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuLyoqXG4gKiBSZWZlcmVuY2UgdG8gdGhlIGNvbG9yVGV4dHVyZS5cbiAqXG4gKiBAbWVtYmVyIHtQSVhJLlRleHR1cmVbXX1cbiAqIEByZWFkb25seVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMkMS5jb2xvclRleHR1cmUuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5jb2xvclRleHR1cmVzWzBdO1xufTtcblxuLyoqXG4gKiBBZGQgdGV4dHVyZSB0byB0aGUgY29sb3JUZXh0dXJlIGFycmF5XG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IFtpbmRleD0wXSAtIEluZGV4IG9mIHRoZSBhcnJheSB0byBhZGQgdGhlIHRleHR1cmUgdG9cbiAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSBbdGV4dHVyZV0gLSBUZXh0dXJlIHRvIGFkZCB0byB0aGUgYXJyYXlcbiAqL1xuRnJhbWVidWZmZXIucHJvdG90eXBlLmFkZENvbG9yVGV4dHVyZSA9IGZ1bmN0aW9uIGFkZENvbG9yVGV4dHVyZSAoaW5kZXgsIHRleHR1cmUpXG57XG4gICAgICAgIGlmICggaW5kZXggPT09IHZvaWQgMCApIGluZGV4ID0gMDtcblxuICAgIC8vIFRPRE8gYWRkIHNvbWUgdmFsaWRhdGlvbiB0byB0aGUgdGV4dHVyZSAtIHNhbWUgd2lkdGggLyBoZWlnaHQgZXRjP1xuICAgIHRoaXMuY29sb3JUZXh0dXJlc1tpbmRleF0gPSB0ZXh0dXJlIHx8IG5ldyBCYXNlVGV4dHVyZShudWxsLCB7IHNjYWxlTW9kZTogMCxcbiAgICAgICAgcmVzb2x1dGlvbjogMSxcbiAgICAgICAgbWlwbWFwOiBmYWxzZSxcbiAgICAgICAgd2lkdGg6IHRoaXMud2lkdGgsXG4gICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQgfSk7Ly8gfHwgbmV3IFRleHR1cmUoKTtcblxuICAgIHRoaXMuZGlydHlJZCsrO1xuICAgIHRoaXMuZGlydHlGb3JtYXQrKztcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBBZGQgYSBkZXB0aCB0ZXh0dXJlIHRvIHRoZSBmcmFtZSBidWZmZXJcbiAqXG4gKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gW3RleHR1cmVdIC0gVGV4dHVyZSB0byBhZGRcbiAqL1xuRnJhbWVidWZmZXIucHJvdG90eXBlLmFkZERlcHRoVGV4dHVyZSA9IGZ1bmN0aW9uIGFkZERlcHRoVGV4dHVyZSAodGV4dHVyZSlcbntcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgdGhpcy5kZXB0aFRleHR1cmUgPSB0ZXh0dXJlIHx8IG5ldyBCYXNlVGV4dHVyZShuZXcgRGVwdGhSZXNvdXJjZShudWxsLCB7IHdpZHRoOiB0aGlzLndpZHRoLCBoZWlnaHQ6IHRoaXMuaGVpZ2h0IH0pLCB7IHNjYWxlTW9kZTogMCxcbiAgICAgICAgcmVzb2x1dGlvbjogMSxcbiAgICAgICAgd2lkdGg6IHRoaXMud2lkdGgsXG4gICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQsXG4gICAgICAgIG1pcG1hcDogZmFsc2UsXG4gICAgICAgIGZvcm1hdDogRk9STUFUUy5ERVBUSF9DT01QT05FTlQsXG4gICAgICAgIHR5cGU6IFRZUEVTLlVOU0lHTkVEX1NIT1JUIH0pOy8vIFVOU0lHTkVEX1NIT1JUO1xuICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICB0aGlzLmRpcnR5SWQrKztcbiAgICB0aGlzLmRpcnR5Rm9ybWF0Kys7XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogRW5hYmxlIGRlcHRoIG9uIHRoZSBmcmFtZSBidWZmZXJcbiAqL1xuRnJhbWVidWZmZXIucHJvdG90eXBlLmVuYWJsZURlcHRoID0gZnVuY3Rpb24gZW5hYmxlRGVwdGggKClcbntcbiAgICB0aGlzLmRlcHRoID0gdHJ1ZTtcblxuICAgIHRoaXMuZGlydHlJZCsrO1xuICAgIHRoaXMuZGlydHlGb3JtYXQrKztcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBFbmFibGUgc3RlbmNpbCBvbiB0aGUgZnJhbWUgYnVmZmVyXG4gKi9cbkZyYW1lYnVmZmVyLnByb3RvdHlwZS5lbmFibGVTdGVuY2lsID0gZnVuY3Rpb24gZW5hYmxlU3RlbmNpbCAoKVxue1xuICAgIHRoaXMuc3RlbmNpbCA9IHRydWU7XG5cbiAgICB0aGlzLmRpcnR5SWQrKztcbiAgICB0aGlzLmRpcnR5Rm9ybWF0Kys7XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVzaXplIHRoZSBmcmFtZSBidWZmZXJcbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBXaWR0aCBvZiB0aGUgZnJhbWUgYnVmZmVyIHRvIHJlc2l6ZSB0b1xuICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIEhlaWdodCBvZiB0aGUgZnJhbWUgYnVmZmVyIHRvIHJlc2l6ZSB0b1xuICovXG5GcmFtZWJ1ZmZlci5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gcmVzaXplICh3aWR0aCwgaGVpZ2h0KVxue1xuICAgIHdpZHRoID0gTWF0aC5jZWlsKHdpZHRoKTtcbiAgICBoZWlnaHQgPSBNYXRoLmNlaWwoaGVpZ2h0KTtcblxuICAgIGlmICh3aWR0aCA9PT0gdGhpcy53aWR0aCAmJiBoZWlnaHQgPT09IHRoaXMuaGVpZ2h0KSB7IHJldHVybjsgfVxuXG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgdGhpcy5kaXJ0eUlkKys7XG4gICAgdGhpcy5kaXJ0eVNpemUrKztcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jb2xvclRleHR1cmVzLmxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLmNvbG9yVGV4dHVyZXNbaV07XG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gdGV4dHVyZS5yZXNvbHV0aW9uO1xuXG4gICAgICAgIC8vIHRha2UgaW50byBhY291bnQgdGhlIGZhY3QgdGhlIHRleHR1cmUgbWF5IGhhdmUgYSBkaWZmZXJlbnQgcmVzb2x1dGlvbi4uXG4gICAgICAgIHRleHR1cmUuc2V0U2l6ZSh3aWR0aCAvIHJlc29sdXRpb24sIGhlaWdodCAvIHJlc29sdXRpb24pO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmRlcHRoVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIHZhciByZXNvbHV0aW9uJDEgPSB0aGlzLmRlcHRoVGV4dHVyZS5yZXNvbHV0aW9uO1xuXG4gICAgICAgIHRoaXMuZGVwdGhUZXh0dXJlLnNldFNpemUod2lkdGggLyByZXNvbHV0aW9uJDEsIGhlaWdodCAvIHJlc29sdXRpb24kMSk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBkaXNwb3NlcyBXZWJHTCByZXNvdXJjZXMgdGhhdCBhcmUgY29ubmVjdGVkIHRvIHRoaXMgZ2VvbWV0cnlcbiAqL1xuRnJhbWVidWZmZXIucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlICgpXG57XG4gICAgdGhpcy5kaXNwb3NlUnVubmVyLnJ1bih0aGlzLCBmYWxzZSk7XG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyggRnJhbWVidWZmZXIucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMkMSApO1xuXG4vKipcbiAqIEEgQmFzZVJlbmRlclRleHR1cmUgaXMgYSBzcGVjaWFsIHRleHR1cmUgdGhhdCBhbGxvd3MgYW55IFBpeGlKUyBkaXNwbGF5IG9iamVjdCB0byBiZSByZW5kZXJlZCB0byBpdC5cbiAqXG4gKiBfX0hpbnRfXzogQWxsIERpc3BsYXlPYmplY3RzIChpLmUuIFNwcml0ZXMpIHRoYXQgcmVuZGVyIHRvIGEgQmFzZVJlbmRlclRleHR1cmUgc2hvdWxkIGJlIHByZWxvYWRlZFxuICogb3RoZXJ3aXNlIGJsYWNrIHJlY3RhbmdsZXMgd2lsbCBiZSBkcmF3biBpbnN0ZWFkLlxuICpcbiAqIEEgQmFzZVJlbmRlclRleHR1cmUgdGFrZXMgYSBzbmFwc2hvdCBvZiBhbnkgRGlzcGxheSBPYmplY3QgZ2l2ZW4gdG8gaXRzIHJlbmRlciBtZXRob2QuIFRoZSBwb3NpdGlvblxuICogYW5kIHJvdGF0aW9uIG9mIHRoZSBnaXZlbiBEaXNwbGF5IE9iamVjdHMgaXMgaWdub3JlZC4gRm9yIGV4YW1wbGU6XG4gKlxuICogYGBganNcbiAqIGxldCByZW5kZXJlciA9IFBJWEkuYXV0b0RldGVjdFJlbmRlcmVyKCk7XG4gKiBsZXQgYmFzZVJlbmRlclRleHR1cmUgPSBuZXcgUElYSS5CYXNlUmVuZGVyVGV4dHVyZSh7IHdpZHRoOiA4MDAsIGhlaWdodDogNjAwIH0pO1xuICogbGV0IHJlbmRlclRleHR1cmUgPSBuZXcgUElYSS5SZW5kZXJUZXh0dXJlKGJhc2VSZW5kZXJUZXh0dXJlKTtcbiAqIGxldCBzcHJpdGUgPSBQSVhJLlNwcml0ZS5mcm9tKFwic3Bpbk9ial8wMS5wbmdcIik7XG4gKlxuICogc3ByaXRlLnBvc2l0aW9uLnggPSA4MDAvMjtcbiAqIHNwcml0ZS5wb3NpdGlvbi55ID0gNjAwLzI7XG4gKiBzcHJpdGUuYW5jaG9yLnggPSAwLjU7XG4gKiBzcHJpdGUuYW5jaG9yLnkgPSAwLjU7XG4gKlxuICogcmVuZGVyZXIucmVuZGVyKHNwcml0ZSwgcmVuZGVyVGV4dHVyZSk7XG4gKiBgYGBcbiAqXG4gKiBUaGUgU3ByaXRlIGluIHRoaXMgY2FzZSB3aWxsIGJlIHJlbmRlcmVkIHVzaW5nIGl0cyBsb2NhbCB0cmFuc2Zvcm0uIFRvIHJlbmRlciB0aGlzIHNwcml0ZSBhdCAwLDBcbiAqIHlvdSBjYW4gY2xlYXIgdGhlIHRyYW5zZm9ybVxuICpcbiAqIGBgYGpzXG4gKlxuICogc3ByaXRlLnNldFRyYW5zZm9ybSgpXG4gKlxuICogbGV0IGJhc2VSZW5kZXJUZXh0dXJlID0gbmV3IFBJWEkuQmFzZVJlbmRlclRleHR1cmUoeyB3aWR0aDogMTAwLCBoZWlnaHQ6IDEwMCB9KTtcbiAqIGxldCByZW5kZXJUZXh0dXJlID0gbmV3IFBJWEkuUmVuZGVyVGV4dHVyZShiYXNlUmVuZGVyVGV4dHVyZSk7XG4gKlxuICogcmVuZGVyZXIucmVuZGVyKHNwcml0ZSwgcmVuZGVyVGV4dHVyZSk7ICAvLyBSZW5kZXJzIHRvIGNlbnRlciBvZiBSZW5kZXJUZXh0dXJlXG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQmFzZVRleHR1cmVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCYXNlUmVuZGVyVGV4dHVyZSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEJhc2VUZXh0dXJlKSB7XG4gICAgZnVuY3Rpb24gQmFzZVJlbmRlclRleHR1cmUob3B0aW9ucylcbiAgICB7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ251bWJlcicpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIHByZWZlci1yZXN0LXBhcmFtcyAqL1xuICAgICAgICAgICAgLy8gQmFja3dhcmQgY29tcGF0aWJpbGl0eSBvZiBzaWduYXR1cmVcbiAgICAgICAgICAgIHZhciB3aWR0aCQxID0gYXJndW1lbnRzWzBdO1xuICAgICAgICAgICAgdmFyIGhlaWdodCQxID0gYXJndW1lbnRzWzFdO1xuICAgICAgICAgICAgdmFyIHNjYWxlTW9kZSA9IGFyZ3VtZW50c1syXTtcbiAgICAgICAgICAgIHZhciByZXNvbHV0aW9uID0gYXJndW1lbnRzWzNdO1xuXG4gICAgICAgICAgICBvcHRpb25zID0geyB3aWR0aDogd2lkdGgkMSwgaGVpZ2h0OiBoZWlnaHQkMSwgc2NhbGVNb2RlOiBzY2FsZU1vZGUsIHJlc29sdXRpb246IHJlc29sdXRpb24gfTtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgcHJlZmVyLXJlc3QtcGFyYW1zICovXG4gICAgICAgIH1cblxuICAgICAgICBCYXNlVGV4dHVyZS5jYWxsKHRoaXMsIG51bGwsIG9wdGlvbnMpO1xuXG4gICAgICAgIHZhciByZWYgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICB2YXIgd2lkdGggPSByZWYud2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSByZWYuaGVpZ2h0O1xuXG4gICAgICAgIC8vIFNldCBkZWZhdWx0c1xuICAgICAgICB0aGlzLm1pcG1hcCA9IGZhbHNlO1xuICAgICAgICB0aGlzLndpZHRoID0gTWF0aC5jZWlsKHdpZHRoKSB8fCAxMDA7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gTWF0aC5jZWlsKGhlaWdodCkgfHwgMTAwO1xuICAgICAgICB0aGlzLnZhbGlkID0gdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSByZWZlcmVuY2UgdG8gdGhlIGNhbnZhcyByZW5kZXIgdGFyZ2V0ICh3ZSBvbmx5IG5lZWQgb25lIGFzIHRoaXMgY2FuIGJlIHNoYXJlZCBhY3Jvc3MgcmVuZGVyZXJzKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2NhbnZhc1JlbmRlclRhcmdldCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5jbGVhckNvbG9yID0gWzAsIDAsIDAsIDBdO1xuXG4gICAgICAgIHRoaXMuZnJhbWVidWZmZXIgPSBuZXcgRnJhbWVidWZmZXIodGhpcy53aWR0aCAqIHRoaXMucmVzb2x1dGlvbiwgdGhpcy5oZWlnaHQgKiB0aGlzLnJlc29sdXRpb24pXG4gICAgICAgICAgICAuYWRkQ29sb3JUZXh0dXJlKDAsIHRoaXMpO1xuXG4gICAgICAgIC8vIFRPRE8gLSBjb3VsZCB0aGlzIGJlIGFkZGVkIHRoZSBzeXN0ZW1zP1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGF0YSBzdHJ1Y3R1cmUgZm9yIHRoZSBzdGVuY2lsIG1hc2tzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdyYXBoaWNzW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0ZW5jaWxNYXNrU3RhY2sgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRhdGEgc3RydWN0dXJlIGZvciB0aGUgZmlsdGVycy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc1tdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5maWx0ZXJTdGFjayA9IFt7fV07XG4gICAgfVxuXG4gICAgaWYgKCBCYXNlVGV4dHVyZSApIEJhc2VSZW5kZXJUZXh0dXJlLl9fcHJvdG9fXyA9IEJhc2VUZXh0dXJlO1xuICAgIEJhc2VSZW5kZXJUZXh0dXJlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEJhc2VUZXh0dXJlICYmIEJhc2VUZXh0dXJlLnByb3RvdHlwZSApO1xuICAgIEJhc2VSZW5kZXJUZXh0dXJlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEJhc2VSZW5kZXJUZXh0dXJlO1xuXG4gICAgLyoqXG4gICAgICogUmVzaXplcyB0aGUgQmFzZVJlbmRlclRleHR1cmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBUaGUgd2lkdGggdG8gcmVzaXplIHRvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBUaGUgaGVpZ2h0IHRvIHJlc2l6ZSB0by5cbiAgICAgKi9cbiAgICBCYXNlUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gcmVzaXplICh3aWR0aCwgaGVpZ2h0KVxuICAgIHtcbiAgICAgICAgd2lkdGggPSBNYXRoLmNlaWwod2lkdGgpO1xuICAgICAgICBoZWlnaHQgPSBNYXRoLmNlaWwoaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5mcmFtZWJ1ZmZlci5yZXNpemUod2lkdGggKiB0aGlzLnJlc29sdXRpb24sIGhlaWdodCAqIHRoaXMucmVzb2x1dGlvbik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZyZWVzIHRoZSB0ZXh0dXJlIGFuZCBmcmFtZWJ1ZmZlciBmcm9tIFdlYkdMIG1lbW9yeSB3aXRob3V0IGRlc3Ryb3lpbmcgdGhpcyB0ZXh0dXJlIG9iamVjdC5cbiAgICAgKiBUaGlzIG1lYW5zIHlvdSBjYW4gc3RpbGwgdXNlIHRoZSB0ZXh0dXJlIGxhdGVyIHdoaWNoIHdpbGwgdXBsb2FkIGl0IHRvIEdQVVxuICAgICAqIG1lbW9yeSBhZ2Fpbi5cbiAgICAgKlxuICAgICAqIEBmaXJlcyBQSVhJLkJhc2VUZXh0dXJlI2Rpc3Bvc2VcbiAgICAgKi9cbiAgICBCYXNlUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UgKClcbiAgICB7XG4gICAgICAgIHRoaXMuZnJhbWVidWZmZXIuZGlzcG9zZSgpO1xuXG4gICAgICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgdGV4dHVyZS5cbiAgICAgKlxuICAgICAqL1xuICAgIEJhc2VSZW5kZXJUZXh0dXJlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxuICAgIHtcbiAgICAgICAgQmFzZVRleHR1cmUucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCB0cnVlKTtcblxuICAgICAgICB0aGlzLmZyYW1lYnVmZmVyID0gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEJhc2VSZW5kZXJUZXh0dXJlO1xufShCYXNlVGV4dHVyZSkpO1xuXG4vKipcbiAqIFN0b3JlcyBhIHRleHR1cmUncyBmcmFtZSBpbiBVViBjb29yZGluYXRlcywgaW5cbiAqIHdoaWNoIGV2ZXJ5dGhpbmcgbGllcyBpbiB0aGUgcmVjdGFuZ2xlIGBbKDAsMCksICgxLDApLFxuICogKDEsMSksICgwLDEpXWAuXG4gKlxuICogfCBDb3JuZXIgICAgICAgfCBDb29yZGluYXRlcyB8XG4gKiB8LS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLXxcbiAqIHwgVG9wLUxlZnQgICAgIHwgYCh4MCx5MClgICAgfFxuICogfCBUb3AtUmlnaHQgICAgfCBgKHgxLHkxKWAgICB8XG4gKiB8IEJvdHRvbS1SaWdodCB8IGAoeDIseTIpYCAgIHxcbiAqIHwgQm90dG9tLUxlZnQgIHwgYCh4Myx5MylgICAgfFxuICpcbiAqIEBjbGFzc1xuICogQHByb3RlY3RlZFxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRleHR1cmVVdnMgPSBmdW5jdGlvbiBUZXh0dXJlVXZzKClcbntcbiAgICAvKipcbiAgICAgKiBYLWNvbXBvbmVudCBvZiB0b3AtbGVmdCBjb3JuZXIgYCh4MCx5MClgLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMueDAgPSAwO1xuXG4gICAgLyoqXG4gICAgICogWS1jb21wb25lbnQgb2YgdG9wLWxlZnQgY29ybmVyIGAoeDAseTApYC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnkwID0gMDtcblxuICAgIC8qKlxuICAgICAqIFgtY29tcG9uZW50IG9mIHRvcC1yaWdodCBjb3JuZXIgYCh4MSx5MSlgLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMueDEgPSAxO1xuXG4gICAgLyoqXG4gICAgICogWS1jb21wb25lbnQgb2YgdG9wLXJpZ2h0IGNvcm5lciBgKHgxLHkxKWAuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy55MSA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBYLWNvbXBvbmVudCBvZiBib3R0b20tcmlnaHQgY29ybmVyIGAoeDIseTIpYC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLngyID0gMTtcblxuICAgIC8qKlxuICAgICAqIFktY29tcG9uZW50IG9mIGJvdHRvbS1yaWdodCBjb3JuZXIgYCh4Mix5MilgLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMueTIgPSAxO1xuXG4gICAgLyoqXG4gICAgICogWC1jb21wb25lbnQgb2YgYm90dG9tLWxlZnQgY29ybmVyIGAoeDMseTMpYC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLngzID0gMDtcblxuICAgIC8qKlxuICAgICAqIFktY29tcG9uZW50IG9mIGJvdHRvbS1yaWdodCBjb3JuZXIgYCh4Myx5MylgLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMueTMgPSAxO1xuXG4gICAgdGhpcy51dnNGbG9hdDMyID0gbmV3IEZsb2F0MzJBcnJheSg4KTtcbn07XG5cbi8qKlxuICogU2V0cyB0aGUgdGV4dHVyZSBVdnMgYmFzZWQgb24gdGhlIGdpdmVuIGZyYW1lIGluZm9ybWF0aW9uLlxuICpcbiAqIEBwcm90ZWN0ZWRcbiAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGZyYW1lIC0gVGhlIGZyYW1lIG9mIHRoZSB0ZXh0dXJlXG4gKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBiYXNlRnJhbWUgLSBUaGUgYmFzZSBmcmFtZSBvZiB0aGUgdGV4dHVyZVxuICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0ZSAtIFJvdGF0aW9uIG9mIGZyYW1lLCBzZWUge0BsaW5rIFBJWEkuR3JvdXBEOH1cbiAqL1xuVGV4dHVyZVV2cy5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gc2V0IChmcmFtZSwgYmFzZUZyYW1lLCByb3RhdGUpXG57XG4gICAgdmFyIHR3ID0gYmFzZUZyYW1lLndpZHRoO1xuICAgIHZhciB0aCA9IGJhc2VGcmFtZS5oZWlnaHQ7XG5cbiAgICBpZiAocm90YXRlKVxuICAgIHtcbiAgICAgICAgLy8gd2lkdGggYW5kIGhlaWdodCBkaXYgMiBkaXYgYmFzZUZyYW1lIHNpemVcbiAgICAgICAgdmFyIHcyID0gZnJhbWUud2lkdGggLyAyIC8gdHc7XG4gICAgICAgIHZhciBoMiA9IGZyYW1lLmhlaWdodCAvIDIgLyB0aDtcblxuICAgICAgICAvLyBjb29yZGluYXRlcyBvZiBjZW50ZXJcbiAgICAgICAgdmFyIGNYID0gKGZyYW1lLnggLyB0dykgKyB3MjtcbiAgICAgICAgdmFyIGNZID0gKGZyYW1lLnkgLyB0aCkgKyBoMjtcblxuICAgICAgICByb3RhdGUgPSBHcm91cEQ4LmFkZChyb3RhdGUsIEdyb3VwRDguTlcpOyAvLyBOVyBpcyB0b3AtbGVmdCBjb3JuZXJcbiAgICAgICAgdGhpcy54MCA9IGNYICsgKHcyICogR3JvdXBEOC51WChyb3RhdGUpKTtcbiAgICAgICAgdGhpcy55MCA9IGNZICsgKGgyICogR3JvdXBEOC51WShyb3RhdGUpKTtcblxuICAgICAgICByb3RhdGUgPSBHcm91cEQ4LmFkZChyb3RhdGUsIDIpOyAvLyByb3RhdGUgOTAgZGVncmVlcyBjbG9ja3dpc2VcbiAgICAgICAgdGhpcy54MSA9IGNYICsgKHcyICogR3JvdXBEOC51WChyb3RhdGUpKTtcbiAgICAgICAgdGhpcy55MSA9IGNZICsgKGgyICogR3JvdXBEOC51WShyb3RhdGUpKTtcblxuICAgICAgICByb3RhdGUgPSBHcm91cEQ4LmFkZChyb3RhdGUsIDIpO1xuICAgICAgICB0aGlzLngyID0gY1ggKyAodzIgKiBHcm91cEQ4LnVYKHJvdGF0ZSkpO1xuICAgICAgICB0aGlzLnkyID0gY1kgKyAoaDIgKiBHcm91cEQ4LnVZKHJvdGF0ZSkpO1xuXG4gICAgICAgIHJvdGF0ZSA9IEdyb3VwRDguYWRkKHJvdGF0ZSwgMik7XG4gICAgICAgIHRoaXMueDMgPSBjWCArICh3MiAqIEdyb3VwRDgudVgocm90YXRlKSk7XG4gICAgICAgIHRoaXMueTMgPSBjWSArIChoMiAqIEdyb3VwRDgudVkocm90YXRlKSk7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIHRoaXMueDAgPSBmcmFtZS54IC8gdHc7XG4gICAgICAgIHRoaXMueTAgPSBmcmFtZS55IC8gdGg7XG5cbiAgICAgICAgdGhpcy54MSA9IChmcmFtZS54ICsgZnJhbWUud2lkdGgpIC8gdHc7XG4gICAgICAgIHRoaXMueTEgPSBmcmFtZS55IC8gdGg7XG5cbiAgICAgICAgdGhpcy54MiA9IChmcmFtZS54ICsgZnJhbWUud2lkdGgpIC8gdHc7XG4gICAgICAgIHRoaXMueTIgPSAoZnJhbWUueSArIGZyYW1lLmhlaWdodCkgLyB0aDtcblxuICAgICAgICB0aGlzLngzID0gZnJhbWUueCAvIHR3O1xuICAgICAgICB0aGlzLnkzID0gKGZyYW1lLnkgKyBmcmFtZS5oZWlnaHQpIC8gdGg7XG4gICAgfVxuXG4gICAgdGhpcy51dnNGbG9hdDMyWzBdID0gdGhpcy54MDtcbiAgICB0aGlzLnV2c0Zsb2F0MzJbMV0gPSB0aGlzLnkwO1xuICAgIHRoaXMudXZzRmxvYXQzMlsyXSA9IHRoaXMueDE7XG4gICAgdGhpcy51dnNGbG9hdDMyWzNdID0gdGhpcy55MTtcbiAgICB0aGlzLnV2c0Zsb2F0MzJbNF0gPSB0aGlzLngyO1xuICAgIHRoaXMudXZzRmxvYXQzMls1XSA9IHRoaXMueTI7XG4gICAgdGhpcy51dnNGbG9hdDMyWzZdID0gdGhpcy54MztcbiAgICB0aGlzLnV2c0Zsb2F0MzJbN10gPSB0aGlzLnkzO1xufTtcblxudmFyIERFRkFVTFRfVVZTID0gbmV3IFRleHR1cmVVdnMoKTtcblxuLyoqXG4gKiBBIHRleHR1cmUgc3RvcmVzIHRoZSBpbmZvcm1hdGlvbiB0aGF0IHJlcHJlc2VudHMgYW4gaW1hZ2Ugb3IgcGFydCBvZiBhbiBpbWFnZS5cbiAqXG4gKiBJdCBjYW5ub3QgYmUgYWRkZWQgdG8gdGhlIGRpc3BsYXkgbGlzdCBkaXJlY3RseTsgaW5zdGVhZCB1c2UgaXQgYXMgdGhlIHRleHR1cmUgZm9yIGEgU3ByaXRlLlxuICogSWYgbm8gZnJhbWUgaXMgcHJvdmlkZWQgZm9yIGEgdGV4dHVyZSwgdGhlbiB0aGUgd2hvbGUgaW1hZ2UgaXMgdXNlZC5cbiAqXG4gKiBZb3UgY2FuIGRpcmVjdGx5IGNyZWF0ZSBhIHRleHR1cmUgZnJvbSBhbiBpbWFnZSBhbmQgdGhlbiByZXVzZSBpdCBtdWx0aXBsZSB0aW1lcyBsaWtlIHRoaXMgOlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgdGV4dHVyZSA9IFBJWEkuVGV4dHVyZS5mcm9tKCdhc3NldHMvaW1hZ2UucG5nJyk7XG4gKiBsZXQgc3ByaXRlMSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAqIGxldCBzcHJpdGUyID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICogYGBgXG4gKlxuICogSWYgeW91IGRpZG50IHBhc3MgdGhlIHRleHR1cmUgZnJhbWUgdG8gY29uc3RydWN0b3IsIGl0IGVuYWJsZXMgYG5vRnJhbWVgIG1vZGU6XG4gKiBpdCBzdWJzY3JpYmVzIG9uIGJhc2VUZXh0dXJlIGV2ZW50cywgaXQgYXV0b21hdGljYWxseSByZXNpemVzIGF0IHRoZSBzYW1lIHRpbWUgYXMgYmFzZVRleHR1cmUuXG4gKlxuICogVGV4dHVyZXMgbWFkZSBmcm9tIFNWR3MsIGxvYWRlZCBvciBub3QsIGNhbm5vdCBiZSB1c2VkIGJlZm9yZSB0aGUgZmlsZSBmaW5pc2hlcyBwcm9jZXNzaW5nLlxuICogWW91IGNhbiBjaGVjayBmb3IgdGhpcyBieSBjaGVja2luZyB0aGUgc3ByaXRlJ3MgX3RleHR1cmVJRCBwcm9wZXJ0eS5cbiAqIGBgYGpzXG4gKiB2YXIgdGV4dHVyZSA9IFBJWEkuVGV4dHVyZS5mcm9tKCdhc3NldHMvaW1hZ2Uuc3ZnJyk7XG4gKiB2YXIgc3ByaXRlMSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAqIC8vc3ByaXRlMS5fdGV4dHVyZUlEIHNob3VsZCBub3QgYmUgdW5kZWZpbmVkIGlmIHRoZSB0ZXh0dXJlIGhhcyBmaW5pc2hlZCBwcm9jZXNzaW5nIHRoZSBTVkcgZmlsZVxuICogYGBgXG4gKiBZb3UgY2FuIHVzZSBhIHRpY2tlciBvciByQUYgdG8gZW5zdXJlIHlvdXIgc3ByaXRlcyBsb2FkIHRoZSBmaW5pc2hlZCB0ZXh0dXJlcyBhZnRlciBwcm9jZXNzaW5nLiBTZWUgaXNzdWUgIzMwNjguXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnV0aWxzLkV2ZW50RW1pdHRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRleHR1cmUgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChFdmVudEVtaXR0ZXIpIHtcbiAgICBmdW5jdGlvbiBUZXh0dXJlKGJhc2VUZXh0dXJlLCBmcmFtZSwgb3JpZywgdHJpbSwgcm90YXRlLCBhbmNob3IpXG4gICAge1xuICAgICAgICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRG9lcyB0aGlzIFRleHR1cmUgaGF2ZSBhbnkgZnJhbWUgZGF0YSBhc3NpZ25lZCB0byBpdD9cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBtb2RlIGlzIGVuYWJsZWQgYXV0b21hdGljYWxseSBpZiBubyBmcmFtZSB3YXMgcGFzc2VkIGluc2lkZSBjb25zdHJ1Y3Rvci5cbiAgICAgICAgICpcbiAgICAgICAgICogSW4gdGhpcyBtb2RlIHRleHR1cmUgaXMgc3Vic2NyaWJlZCB0byBiYXNlVGV4dHVyZSBldmVudHMsIGFuZCBmaXJlcyBgdXBkYXRlYCBvbiBhbnkgY2hhbmdlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBCZXdhcmUsIGFmdGVyIGxvYWRpbmcgb3IgcmVzaXplIG9mIGJhc2VUZXh0dXJlIGV2ZW50IGNhbiBmaXJlZCB0d28gdGltZXMhXG4gICAgICAgICAqIElmIHlvdSB3YW50IG1vcmUgY29udHJvbCwgc3Vic2NyaWJlIG9uIGJhc2VUZXh0dXJlIGl0c2VsZi5cbiAgICAgICAgICpcbiAgICAgICAgICogYGBganNcbiAgICAgICAgICogdGV4dHVyZS5vbigndXBkYXRlJywgKCkgPT4ge30pO1xuICAgICAgICAgKiBgYGBcbiAgICAgICAgICpcbiAgICAgICAgICogQW55IGFzc2lnbm1lbnQgb2YgYGZyYW1lYCBzd2l0Y2hlcyBvZmYgYG5vRnJhbWVgIG1vZGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm5vRnJhbWUgPSBmYWxzZTtcblxuICAgICAgICBpZiAoIWZyYW1lKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm5vRnJhbWUgPSB0cnVlO1xuICAgICAgICAgICAgZnJhbWUgPSBuZXcgUmVjdGFuZ2xlKDAsIDAsIDEsIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJhc2VUZXh0dXJlIGluc3RhbmNlb2YgVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgYmFzZVRleHR1cmUgPSBiYXNlVGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmFzZSB0ZXh0dXJlIHRoYXQgdGhpcyB0ZXh0dXJlIHVzZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJhc2VUZXh0dXJlID0gYmFzZVRleHR1cmU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIGFyZWEgb2YgdGhlIEJhc2VUZXh0dXJlIGltYWdlIHRvIGFjdHVhbGx5IGNvcHkgdG8gdGhlIENhbnZhcyAvIFdlYkdMIHdoZW4gcmVuZGVyaW5nLFxuICAgICAgICAgKiBpcnJlc3BlY3RpdmUgb2YgdGhlIGFjdHVhbCBmcmFtZSBzaXplIG9yIHBsYWNlbWVudCAod2hpY2ggY2FuIGJlIGluZmx1ZW5jZWQgYnkgdHJpbW1lZCB0ZXh0dXJlIGF0bGFzZXMpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZnJhbWUgPSBmcmFtZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB0aGUgdHJpbW1lZCBhcmVhIG9mIG9yaWdpbmFsIHRleHR1cmUsIGJlZm9yZSBpdCB3YXMgcHV0IGluIGF0bGFzXG4gICAgICAgICAqIFBsZWFzZSBjYWxsIGB1cGRhdGVVdnMoKWAgYWZ0ZXIgeW91IGNoYW5nZSBjb29yZGluYXRlcyBvZiBgdHJpbWAgbWFudWFsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50cmltID0gdHJpbTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyB3aWxsIGxldCB0aGUgcmVuZGVyZXIga25vdyBpZiB0aGUgdGV4dHVyZSBpcyB2YWxpZC4gSWYgaXQncyBub3QgdGhlbiBpdCBjYW5ub3QgYmUgcmVuZGVyZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZhbGlkID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgd2lsbCBsZXQgYSByZW5kZXJlciBrbm93IHRoYXQgYSB0ZXh0dXJlIGhhcyBiZWVuIHVwZGF0ZWQgKHVzZWQgbWFpbmx5IGZvciBXZWJHTCB1diB1cGRhdGVzKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZXF1aXJlc1VwZGF0ZSA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgV2ViR0wgVVYgZGF0YSBjYWNoZS4gQ2FuIGJlIHVzZWQgYXMgcXVhZCBVVlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmVVdnN9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3V2cyA9IERFRkFVTFRfVVZTO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZhdWx0IFRleHR1cmVNYXRyaXggaW5zdGFuY2UgZm9yIHRoaXMgdGV4dHVyZVxuICAgICAgICAgKiBCeSBkZWZhdWx0IHRoYXQgb2JqZWN0IGlzIG5vdCBjcmVhdGVkIGJlY2F1c2UgaXRzIGhlYXZ5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZU1hdHJpeH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXZNYXRyaXggPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSBhcmVhIG9mIG9yaWdpbmFsIHRleHR1cmUsIGJlZm9yZSBpdCB3YXMgcHV0IGluIGF0bGFzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vcmlnID0gb3JpZyB8fCBmcmFtZTsvLyBuZXcgUmVjdGFuZ2xlKDAsIDAsIDEsIDEpO1xuXG4gICAgICAgIHRoaXMuX3JvdGF0ZSA9IE51bWJlcihyb3RhdGUgfHwgMCk7XG5cbiAgICAgICAgaWYgKHJvdGF0ZSA9PT0gdHJ1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gdGhpcyBpcyBvbGQgdGV4dHVyZXBhY2tlciBsZWdhY3ksIHNvbWUgZ2FtZXMvbGlicmFyaWVzIGFyZSBwYXNzaW5nIFwidHJ1ZVwiIGZvciByb3RhdGVkIHRleHR1cmVzXG4gICAgICAgICAgICB0aGlzLl9yb3RhdGUgPSAyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuX3JvdGF0ZSAlIDIgIT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignYXR0ZW1wdCB0byB1c2UgZGlhbW9uZC1zaGFwZWQgVVZzLiBJZiB5b3UgYXJlIHN1cmUsIHNldCByb3RhdGlvbiBtYW51YWxseScpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuY2hvciBwb2ludCB0aGF0IGlzIHVzZWQgYXMgZGVmYXVsdCBpZiBzcHJpdGUgaXMgY3JlYXRlZCB3aXRoIHRoaXMgdGV4dHVyZS5cbiAgICAgICAgICogQ2hhbmdpbmcgdGhlIGBkZWZhdWx0QW5jaG9yYCBhdCBhIGxhdGVyIHBvaW50IG9mIHRpbWUgd2lsbCBub3QgdXBkYXRlIFNwcml0ZSdzIGFuY2hvciBwb2ludC5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Qb2ludH1cbiAgICAgICAgICogQGRlZmF1bHQgezAsMH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVmYXVsdEFuY2hvciA9IGFuY2hvciA/IG5ldyBQb2ludChhbmNob3IueCwgYW5jaG9yLnkpIDogbmV3IFBvaW50KDAsIDApO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVcGRhdGUgSUQgaXMgb2JzZXJ2ZWQgYnkgc3ByaXRlcyBhbmQgVGV4dHVyZU1hdHJpeCBpbnN0YW5jZXMuXG4gICAgICAgICAqIENhbGwgdXBkYXRlVXZzKCkgdG8gaW5jcmVtZW50IGl0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG5cbiAgICAgICAgdGhpcy5fdXBkYXRlSUQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaWRzIHVuZGVyIHdoaWNoIHRoaXMgVGV4dHVyZSBoYXMgYmVlbiBhZGRlZCB0byB0aGUgdGV4dHVyZSBjYWNoZS4gVGhpcyBpc1xuICAgICAgICAgKiBhdXRvbWF0aWNhbGx5IHNldCBhcyBsb25nIGFzIFRleHR1cmUuYWRkVG9DYWNoZSBpcyB1c2VkLCBidXQgbWF5IG5vdCBiZSBzZXQgaWYgYVxuICAgICAgICAgKiBUZXh0dXJlIGlzIGFkZGVkIGRpcmVjdGx5IHRvIHRoZSBUZXh0dXJlQ2FjaGUgYXJyYXkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ1tdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50ZXh0dXJlQ2FjaGVJZHMgPSBbXTtcblxuICAgICAgICBpZiAoIWJhc2VUZXh0dXJlLnZhbGlkKVxuICAgICAgICB7XG4gICAgICAgICAgICBiYXNlVGV4dHVyZS5vbmNlKCdsb2FkZWQnLCB0aGlzLm9uQmFzZVRleHR1cmVVcGRhdGVkLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLm5vRnJhbWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIG5vIGZyYW1lIHdlIHNob3VsZCBtb25pdG9yIGZvciBhbnkgYmFzZSB0ZXh0dXJlIGNoYW5nZXMuLlxuICAgICAgICAgICAgaWYgKGJhc2VUZXh0dXJlLnZhbGlkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMub25CYXNlVGV4dHVyZVVwZGF0ZWQoYmFzZVRleHR1cmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5mcmFtZSA9IGZyYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMubm9GcmFtZSlcbiAgICAgICAge1xuICAgICAgICAgICAgYmFzZVRleHR1cmUub24oJ3VwZGF0ZScsIHRoaXMub25CYXNlVGV4dHVyZVVwZGF0ZWQsIHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCBFdmVudEVtaXR0ZXIgKSBUZXh0dXJlLl9fcHJvdG9fXyA9IEV2ZW50RW1pdHRlcjtcbiAgICBUZXh0dXJlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEV2ZW50RW1pdHRlciAmJiBFdmVudEVtaXR0ZXIucHJvdG90eXBlICk7XG4gICAgVGV4dHVyZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBUZXh0dXJlO1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgcmVzb2x1dGlvbjogeyBjb25maWd1cmFibGU6IHRydWUgfSxmcmFtZTogeyBjb25maWd1cmFibGU6IHRydWUgfSxyb3RhdGU6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sd2lkdGg6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0saGVpZ2h0OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoaXMgdGV4dHVyZSBvbiB0aGUgZ3B1LlxuICAgICAqXG4gICAgICogQ2FsbHMgdGhlIFRleHR1cmVSZXNvdXJjZSB1cGRhdGUuXG4gICAgICpcbiAgICAgKiBJZiB5b3UgYWRqdXN0ZWQgYGZyYW1lYCBtYW51YWxseSwgcGxlYXNlIGNhbGwgYHVwZGF0ZVV2cygpYCBpbnN0ZWFkLlxuICAgICAqXG4gICAgICovXG4gICAgVGV4dHVyZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlICgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5iYXNlVGV4dHVyZS5yZXNvdXJjZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5yZXNvdXJjZS51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgYmFzZSB0ZXh0dXJlIGlzIHVwZGF0ZWRcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gVGhlIGJhc2UgdGV4dHVyZS5cbiAgICAgKi9cbiAgICBUZXh0dXJlLnByb3RvdHlwZS5vbkJhc2VUZXh0dXJlVXBkYXRlZCA9IGZ1bmN0aW9uIG9uQmFzZVRleHR1cmVVcGRhdGVkIChiYXNlVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLm5vRnJhbWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5iYXNlVGV4dHVyZS52YWxpZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2ZyYW1lLndpZHRoID0gYmFzZVRleHR1cmUud2lkdGg7XG4gICAgICAgICAgICB0aGlzLl9mcmFtZS5oZWlnaHQgPSBiYXNlVGV4dHVyZS5oZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLnZhbGlkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVXZzKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBUT0RPIHRoaXMgY29kZSBsb29rcyBjb25mdXNpbmcuLiBib28gdG8gYWJ1c2luZyBnZXR0ZXJzIGFuZCBzZXR0ZXJzIVxuICAgICAgICAgICAgLy8gaWYgdXNlciBnYXZlIHVzIGZyYW1lIHRoYXQgaGFzIGJpZ2dlciBzaXplIHRoYW4gcmVzaXplZCB0ZXh0dXJlIGl0IGNhbiBiZSBhIHByb2JsZW1cbiAgICAgICAgICAgIHRoaXMuZnJhbWUgPSB0aGlzLl9mcmFtZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZW1pdCgndXBkYXRlJywgdGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZGVzdHJveUJhc2U9ZmFsc2VdIFdoZXRoZXIgdG8gZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIGFzIHdlbGxcbiAgICAgKi9cbiAgICBUZXh0dXJlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoZGVzdHJveUJhc2UpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5iYXNlVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGRlc3Ryb3lCYXNlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciByZWYgPSB0aGlzLmJhc2VUZXh0dXJlO1xuICAgICAgICAgICAgICAgIHZhciByZXNvdXJjZSA9IHJlZi5yZXNvdXJjZTtcblxuICAgICAgICAgICAgICAgIC8vIGRlbGV0ZSB0aGUgdGV4dHVyZSBpZiBpdCBleGlzdHMgaW4gdGhlIHRleHR1cmUgY2FjaGUuLlxuICAgICAgICAgICAgICAgIC8vIHRoaXMgb25seSBuZWVkcyB0byBiZSByZW1vdmVkIGlmIHRoZSBiYXNlIHRleHR1cmUgaXMgYWN0dWFsbHkgZGVzdHJveWVkIHRvby4uXG4gICAgICAgICAgICAgICAgaWYgKHJlc291cmNlICYmIFRleHR1cmVDYWNoZVtyZXNvdXJjZS51cmxdKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUocmVzb3VyY2UudXJsKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5vZmYoJ3VwZGF0ZScsIHRoaXMub25CYXNlVGV4dHVyZVVwZGF0ZWQsIHRoaXMpO1xuXG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2ZyYW1lID0gbnVsbDtcbiAgICAgICAgdGhpcy5fdXZzID0gbnVsbDtcbiAgICAgICAgdGhpcy50cmltID0gbnVsbDtcbiAgICAgICAgdGhpcy5vcmlnID0gbnVsbDtcblxuICAgICAgICB0aGlzLnZhbGlkID0gZmFsc2U7XG5cbiAgICAgICAgVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUodGhpcyk7XG4gICAgICAgIHRoaXMudGV4dHVyZUNhY2hlSWRzID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyB0ZXh0dXJlIG9iamVjdCB0aGF0IGFjdHMgdGhlIHNhbWUgYXMgdGhpcyBvbmUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9IFRoZSBuZXcgdGV4dHVyZVxuICAgICAqL1xuICAgIFRleHR1cmUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUgKClcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgVGV4dHVyZSh0aGlzLmJhc2VUZXh0dXJlLCB0aGlzLmZyYW1lLCB0aGlzLm9yaWcsIHRoaXMudHJpbSwgdGhpcy5yb3RhdGUsIHRoaXMuZGVmYXVsdEFuY2hvcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGludGVybmFsIFdlYkdMIFVWIGNhY2hlLiBVc2UgaXQgYWZ0ZXIgeW91IGNoYW5nZSBgZnJhbWVgIG9yIGB0cmltYCBvZiB0aGUgdGV4dHVyZS5cbiAgICAgKiBDYWxsIGl0IGFmdGVyIGNoYW5naW5nIHRoZSBmcmFtZVxuICAgICAqL1xuICAgIFRleHR1cmUucHJvdG90eXBlLnVwZGF0ZVV2cyA9IGZ1bmN0aW9uIHVwZGF0ZVV2cyAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3V2cyA9PT0gREVGQVVMVF9VVlMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3V2cyA9IG5ldyBUZXh0dXJlVXZzKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl91dnMuc2V0KHRoaXMuX2ZyYW1lLCB0aGlzLmJhc2VUZXh0dXJlLCB0aGlzLnJvdGF0ZSk7XG5cbiAgICAgICAgdGhpcy5fdXBkYXRlSUQrKztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIG5ldyBUZXh0dXJlIGJhc2VkIG9uIHRoZSBzb3VyY2UgeW91IHByb3ZpZGUuXG4gICAgICogVGhlIHNvdXJjZSBjYW4gYmUgLSBmcmFtZSBpZCwgaW1hZ2UgdXJsLCB2aWRlbyB1cmwsIGNhbnZhcyBlbGVtZW50LCB2aWRlbyBlbGVtZW50LCBiYXNlIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge251bWJlcnxzdHJpbmd8SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fFBJWEkuQmFzZVRleHR1cmV9IHNvdXJjZVxuICAgICAqICAgICAgICBTb3VyY2UgdG8gY3JlYXRlIHRleHR1cmUgZnJvbVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gU2VlIHtAbGluayBQSVhJLkJhc2VUZXh0dXJlfSdzIGNvbnN0cnVjdG9yIGZvciBvcHRpb25zLlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gVGhlIG5ld2x5IGNyZWF0ZWQgdGV4dHVyZVxuICAgICAqL1xuICAgIFRleHR1cmUuZnJvbSA9IGZ1bmN0aW9uIGZyb20gKHNvdXJjZSwgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIGlmICggb3B0aW9ucyA9PT0gdm9pZCAwICkgb3B0aW9ucyA9IHt9O1xuXG4gICAgICAgIHZhciBjYWNoZUlkID0gbnVsbDtcblxuICAgICAgICBpZiAodHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZycpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNhY2hlSWQgPSBzb3VyY2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIXNvdXJjZS5fcGl4aUlkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNvdXJjZS5fcGl4aUlkID0gXCJwaXhpaWRfXCIgKyAodWlkKCkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYWNoZUlkID0gc291cmNlLl9waXhpSWQ7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdGV4dHVyZSA9IFRleHR1cmVDYWNoZVtjYWNoZUlkXTtcblxuICAgICAgICBpZiAoIXRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5yZXNvbHV0aW9uKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMucmVzb2x1dGlvbiA9IGdldFJlc29sdXRpb25PZlVybChzb3VyY2UpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0ZXh0dXJlID0gbmV3IFRleHR1cmUobmV3IEJhc2VUZXh0dXJlKHNvdXJjZSwgb3B0aW9ucykpO1xuICAgICAgICAgICAgdGV4dHVyZS5iYXNlVGV4dHVyZS5jYWNoZUlkID0gY2FjaGVJZDtcblxuICAgICAgICAgICAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZSh0ZXh0dXJlLmJhc2VUZXh0dXJlLCBjYWNoZUlkKTtcbiAgICAgICAgICAgIFRleHR1cmUuYWRkVG9DYWNoZSh0ZXh0dXJlLCBjYWNoZUlkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxldHMgYXNzdW1lIGl0cyBhIGJhc2UgdGV4dHVyZSFcbiAgICAgICAgcmV0dXJuIHRleHR1cmU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBUZXh0dXJlIHdpdGggYSBCdWZmZXJSZXNvdXJjZSBmcm9tIGEgRmxvYXQzMkFycmF5LlxuICAgICAqIFJHQkEgdmFsdWVzIGFyZSBmbG9hdHMgZnJvbSAwIHRvIDEuXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fFVpbnQ4QXJyYXl9IGJ1ZmZlciBUaGUgb3B0aW9uYWwgYXJyYXkgdG8gdXNlLCBpZiBubyBkYXRhXG4gICAgICogICAgICAgIGlzIHByb3ZpZGVkLCBhIG5ldyBGbG9hdDMyQXJyYXkgaXMgY3JlYXRlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBXaWR0aCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gSGVpZ2h0IG9mIHRoZSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gU2VlIHtAbGluayBQSVhJLkJhc2VUZXh0dXJlfSdzIGNvbnN0cnVjdG9yIGZvciBvcHRpb25zLlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gVGhlIHJlc3VsdGluZyBuZXcgQmFzZVRleHR1cmVcbiAgICAgKi9cbiAgICBUZXh0dXJlLmZyb21CdWZmZXIgPSBmdW5jdGlvbiBmcm9tQnVmZmVyIChidWZmZXIsIHdpZHRoLCBoZWlnaHQsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IFRleHR1cmUoQmFzZVRleHR1cmUuZnJvbUJ1ZmZlcihidWZmZXIsIHdpZHRoLCBoZWlnaHQsIG9wdGlvbnMpKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgdGV4dHVyZSBmcm9tIGEgc291cmNlIGFuZCBhZGQgdG8gdGhlIGNhY2hlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH0gc291cmNlIC0gVGhlIGlucHV0IHNvdXJjZS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gaW1hZ2VVcmwgLSBGaWxlIG5hbWUgb2YgdGV4dHVyZSwgZm9yIGNhY2hlIGFuZCByZXNvbHZpbmcgcmVzb2x1dGlvbi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW25hbWVdIC0gSHVtYW4gcmVhZGFibGUgbmFtZSBmb3IgdGhlIHRleHR1cmUgY2FjaGUuIElmIG5vIG5hbWUgaXNcbiAgICAgKiAgICAgICAgc3BlY2lmaWVkLCBvbmx5IGBpbWFnZVVybGAgd2lsbCBiZSB1c2VkIGFzIHRoZSBjYWNoZSBJRC5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9IE91dHB1dCB0ZXh0dXJlXG4gICAgICovXG4gICAgVGV4dHVyZS5mcm9tTG9hZGVyID0gZnVuY3Rpb24gZnJvbUxvYWRlciAoc291cmNlLCBpbWFnZVVybCwgbmFtZSlcbiAgICB7XG4gICAgICAgIHZhciByZXNvdXJjZSA9IG5ldyBJbWFnZVJlc291cmNlKHNvdXJjZSk7XG5cbiAgICAgICAgcmVzb3VyY2UudXJsID0gaW1hZ2VVcmw7XG5cbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gbmV3IEJhc2VUZXh0dXJlKHJlc291cmNlLCB7XG4gICAgICAgICAgICBzY2FsZU1vZGU6IHNldHRpbmdzLlNDQUxFX01PREUsXG4gICAgICAgICAgICByZXNvbHV0aW9uOiBnZXRSZXNvbHV0aW9uT2ZVcmwoaW1hZ2VVcmwpLFxuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgdGV4dHVyZSA9IG5ldyBUZXh0dXJlKGJhc2VUZXh0dXJlKTtcblxuICAgICAgICAvLyBObyBuYW1lLCB1c2UgaW1hZ2VVcmwgaW5zdGVhZFxuICAgICAgICBpZiAoIW5hbWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWUgPSBpbWFnZVVybDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxldHMgYWxzbyBhZGQgdGhlIGZyYW1lIHRvIHBpeGkncyBnbG9iYWwgY2FjaGUgZm9yICdmcm9tTG9hZGVyJyBmdW5jdGlvblxuICAgICAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUuYmFzZVRleHR1cmUsIG5hbWUpO1xuICAgICAgICBUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZSwgbmFtZSk7XG5cbiAgICAgICAgLy8gYWxzbyBhZGQgcmVmZXJlbmNlcyBieSB1cmwgaWYgdGhleSBhcmUgZGlmZmVyZW50LlxuICAgICAgICBpZiAobmFtZSAhPT0gaW1hZ2VVcmwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZS5iYXNlVGV4dHVyZSwgaW1hZ2VVcmwpO1xuICAgICAgICAgICAgVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUsIGltYWdlVXJsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0ZXh0dXJlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgVGV4dHVyZSB0byB0aGUgZ2xvYmFsIFRleHR1cmVDYWNoZS4gVGhpcyBjYWNoZSBpcyBzaGFyZWQgYWNyb3NzIHRoZSB3aG9sZSBQSVhJIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIFRoZSBUZXh0dXJlIHRvIGFkZCB0byB0aGUgY2FjaGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkIHRoYXQgdGhlIFRleHR1cmUgd2lsbCBiZSBzdG9yZWQgYWdhaW5zdC5cbiAgICAgKi9cbiAgICBUZXh0dXJlLmFkZFRvQ2FjaGUgPSBmdW5jdGlvbiBhZGRUb0NhY2hlICh0ZXh0dXJlLCBpZClcbiAgICB7XG4gICAgICAgIGlmIChpZClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmluZGV4T2YoaWQpID09PSAtMSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5wdXNoKGlkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKFRleHR1cmVDYWNoZVtpZF0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oKFwiVGV4dHVyZSBhZGRlZCB0byB0aGUgY2FjaGUgd2l0aCBhbiBpZCBbXCIgKyBpZCArIFwiXSB0aGF0IGFscmVhZHkgaGFkIGFuIGVudHJ5XCIpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgVGV4dHVyZUNhY2hlW2lkXSA9IHRleHR1cmU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgVGV4dHVyZSBmcm9tIHRoZSBnbG9iYWwgVGV4dHVyZUNhY2hlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfFBJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIGlkIG9mIGEgVGV4dHVyZSB0byBiZSByZW1vdmVkLCBvciBhIFRleHR1cmUgaW5zdGFuY2UgaXRzZWxmXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfG51bGx9IFRoZSBUZXh0dXJlIHRoYXQgd2FzIHJlbW92ZWRcbiAgICAgKi9cbiAgICBUZXh0dXJlLnJlbW92ZUZyb21DYWNoZSA9IGZ1bmN0aW9uIHJlbW92ZUZyb21DYWNoZSAodGV4dHVyZSlcbiAgICB7XG4gICAgICAgIGlmICh0eXBlb2YgdGV4dHVyZSA9PT0gJ3N0cmluZycpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlRnJvbUNhY2hlID0gVGV4dHVyZUNhY2hlW3RleHR1cmVdO1xuXG4gICAgICAgICAgICBpZiAodGV4dHVyZUZyb21DYWNoZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB0ZXh0dXJlRnJvbUNhY2hlLnRleHR1cmVDYWNoZUlkcy5pbmRleE9mKHRleHR1cmUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlRnJvbUNhY2hlLnRleHR1cmVDYWNoZUlkcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGRlbGV0ZSBUZXh0dXJlQ2FjaGVbdGV4dHVyZV07XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGV4dHVyZUZyb21DYWNoZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0ZXh0dXJlICYmIHRleHR1cmUudGV4dHVyZUNhY2hlSWRzKVxuICAgICAgICB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIENoZWNrIHRoYXQgdGV4dHVyZSBtYXRjaGVzIHRoZSBvbmUgYmVpbmcgcGFzc2VkIGluIGJlZm9yZSBkZWxldGluZyBpdCBmcm9tIHRoZSBjYWNoZS5cbiAgICAgICAgICAgICAgICBpZiAoVGV4dHVyZUNhY2hlW3RleHR1cmUudGV4dHVyZUNhY2hlSWRzW2ldXSA9PT0gdGV4dHVyZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBUZXh0dXJlQ2FjaGVbdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHNbaV1dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMubGVuZ3RoID0gMDtcblxuICAgICAgICAgICAgcmV0dXJuIHRleHR1cmU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyByZXNvbHV0aW9uIG9mIGJhc2VUZXh0dXJlXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnJlc29sdXRpb24uZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmJhc2VUZXh0dXJlLnJlc29sdXRpb247XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBmcmFtZSBzcGVjaWZpZXMgdGhlIHJlZ2lvbiBvZiB0aGUgYmFzZSB0ZXh0dXJlIHRoYXQgdGhpcyB0ZXh0dXJlIHVzZXMuXG4gICAgICogUGxlYXNlIGNhbGwgYHVwZGF0ZVV2cygpYCBhZnRlciB5b3UgY2hhbmdlIGNvb3JkaW5hdGVzIG9mIGBmcmFtZWAgbWFudWFsbHkuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuZnJhbWUuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mcmFtZTtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmZyYW1lLnNldCA9IGZ1bmN0aW9uIChmcmFtZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl9mcmFtZSA9IGZyYW1lO1xuXG4gICAgICAgIHRoaXMubm9GcmFtZSA9IGZhbHNlO1xuXG4gICAgICAgIHZhciB4ID0gZnJhbWUueDtcbiAgICAgICAgdmFyIHkgPSBmcmFtZS55O1xuICAgICAgICB2YXIgd2lkdGggPSBmcmFtZS53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IGZyYW1lLmhlaWdodDtcbiAgICAgICAgdmFyIHhOb3RGaXQgPSB4ICsgd2lkdGggPiB0aGlzLmJhc2VUZXh0dXJlLndpZHRoO1xuICAgICAgICB2YXIgeU5vdEZpdCA9IHkgKyBoZWlnaHQgPiB0aGlzLmJhc2VUZXh0dXJlLmhlaWdodDtcblxuICAgICAgICBpZiAoeE5vdEZpdCB8fCB5Tm90Rml0KVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgcmVsYXRpb25zaGlwID0geE5vdEZpdCAmJiB5Tm90Rml0ID8gJ2FuZCcgOiAnb3InO1xuICAgICAgICAgICAgdmFyIGVycm9yWCA9IFwiWDogXCIgKyB4ICsgXCIgKyBcIiArIHdpZHRoICsgXCIgPSBcIiArICh4ICsgd2lkdGgpICsgXCIgPiBcIiArICh0aGlzLmJhc2VUZXh0dXJlLndpZHRoKTtcbiAgICAgICAgICAgIHZhciBlcnJvclkgPSBcIlk6IFwiICsgeSArIFwiICsgXCIgKyBoZWlnaHQgKyBcIiA9IFwiICsgKHkgKyBoZWlnaHQpICsgXCIgPiBcIiArICh0aGlzLmJhc2VUZXh0dXJlLmhlaWdodCk7XG5cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGV4dHVyZSBFcnJvcjogZnJhbWUgZG9lcyBub3QgZml0IGluc2lkZSB0aGUgYmFzZSBUZXh0dXJlIGRpbWVuc2lvbnM6ICdcbiAgICAgICAgICAgICAgICArIGVycm9yWCArIFwiIFwiICsgcmVsYXRpb25zaGlwICsgXCIgXCIgKyBlcnJvclkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy52YWxpZCA9IHdpZHRoICYmIGhlaWdodCAmJiB0aGlzLmJhc2VUZXh0dXJlLnZhbGlkO1xuXG4gICAgICAgIGlmICghdGhpcy50cmltICYmICF0aGlzLnJvdGF0ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5vcmlnID0gZnJhbWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy52YWxpZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVVdnMoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgdGV4dHVyZSBpcyByb3RhdGVkIGluc2lkZSB0aGUgYXRsYXNcbiAgICAgKiBzZXQgdG8gMiB0byBjb21wZW5zYXRlIGZvciB0ZXh0dXJlIHBhY2tlciByb3RhdGlvblxuICAgICAqIHNldCB0byA2IHRvIGNvbXBlbnNhdGUgZm9yIHNwaW5lIHBhY2tlciByb3RhdGlvblxuICAgICAqIGNhbiBiZSB1c2VkIHRvIHJvdGF0ZSBvciBtaXJyb3Igc3ByaXRlc1xuICAgICAqIFNlZSB7QGxpbmsgUElYSS5Hcm91cEQ4fSBmb3IgZXhwbGFuYXRpb25cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMucm90YXRlLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fcm90YXRlO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMucm90YXRlLnNldCA9IGZ1bmN0aW9uIChyb3RhdGUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5fcm90YXRlID0gcm90YXRlO1xuICAgICAgICBpZiAodGhpcy52YWxpZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVVdnMoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggb2YgdGhlIFRleHR1cmUgaW4gcGl4ZWxzLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy53aWR0aC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JpZy53aWR0aDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGhlaWdodCBvZiB0aGUgVGV4dHVyZSBpbiBwaXhlbHMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmhlaWdodC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JpZy5oZWlnaHQ7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBUZXh0dXJlLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbiAgICByZXR1cm4gVGV4dHVyZTtcbn0oRXZlbnRFbWl0dGVyKSk7XG5cbmZ1bmN0aW9uIGNyZWF0ZVdoaXRlVGV4dHVyZSgpXG57XG4gICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXG4gICAgY2FudmFzLndpZHRoID0gMTY7XG4gICAgY2FudmFzLmhlaWdodCA9IDE2O1xuXG4gICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIDE2LCAxNik7XG5cbiAgICByZXR1cm4gbmV3IFRleHR1cmUobmV3IEJhc2VUZXh0dXJlKG5ldyBDYW52YXNSZXNvdXJjZShjYW52YXMpKSk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUFsbEhhbmRsZXJzKHRleClcbntcbiAgICB0ZXguZGVzdHJveSA9IGZ1bmN0aW9uIF9lbXB0eURlc3Ryb3koKSB7IC8qIGVtcHR5ICovIH07XG4gICAgdGV4Lm9uID0gZnVuY3Rpb24gX2VtcHR5T24oKSB7IC8qIGVtcHR5ICovIH07XG4gICAgdGV4Lm9uY2UgPSBmdW5jdGlvbiBfZW1wdHlPbmNlKCkgeyAvKiBlbXB0eSAqLyB9O1xuICAgIHRleC5lbWl0ID0gZnVuY3Rpb24gX2VtcHR5RW1pdCgpIHsgLyogZW1wdHkgKi8gfTtcbn1cblxuLyoqXG4gKiBBbiBlbXB0eSB0ZXh0dXJlLCB1c2VkIG9mdGVuIHRvIG5vdCBoYXZlIHRvIGNyZWF0ZSBtdWx0aXBsZSBlbXB0eSB0ZXh0dXJlcy5cbiAqIENhbiBub3QgYmUgZGVzdHJveWVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICovXG5UZXh0dXJlLkVNUFRZID0gbmV3IFRleHR1cmUobmV3IEJhc2VUZXh0dXJlKCkpO1xucmVtb3ZlQWxsSGFuZGxlcnMoVGV4dHVyZS5FTVBUWSk7XG5yZW1vdmVBbGxIYW5kbGVycyhUZXh0dXJlLkVNUFRZLmJhc2VUZXh0dXJlKTtcblxuLyoqXG4gKiBBIHdoaXRlIHRleHR1cmUgb2YgMTZ4MTYgc2l6ZSwgdXNlZCBmb3IgZ3JhcGhpY3MgYW5kIG90aGVyIHRoaW5nc1xuICogQ2FuIG5vdCBiZSBkZXN0cm95ZWQuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gKi9cblRleHR1cmUuV0hJVEUgPSBjcmVhdGVXaGl0ZVRleHR1cmUoKTtcbnJlbW92ZUFsbEhhbmRsZXJzKFRleHR1cmUuV0hJVEUpO1xucmVtb3ZlQWxsSGFuZGxlcnMoVGV4dHVyZS5XSElURS5iYXNlVGV4dHVyZSk7XG5cbi8qKlxuICogQSBSZW5kZXJUZXh0dXJlIGlzIGEgc3BlY2lhbCB0ZXh0dXJlIHRoYXQgYWxsb3dzIGFueSBQaXhpSlMgZGlzcGxheSBvYmplY3QgdG8gYmUgcmVuZGVyZWQgdG8gaXQuXG4gKlxuICogX19IaW50X186IEFsbCBEaXNwbGF5T2JqZWN0cyAoaS5lLiBTcHJpdGVzKSB0aGF0IHJlbmRlciB0byBhIFJlbmRlclRleHR1cmUgc2hvdWxkIGJlIHByZWxvYWRlZFxuICogb3RoZXJ3aXNlIGJsYWNrIHJlY3RhbmdsZXMgd2lsbCBiZSBkcmF3biBpbnN0ZWFkLlxuICpcbiAqIF9fSGludC0yX186IFRoZSBhY3R1YWwgbWVtb3J5IGFsbG9jYXRpb24gd2lsbCBoYXBwZW4gb24gZmlyc3QgcmVuZGVyLlxuICogWW91IHNob3VsZG4ndCBjcmVhdGUgcmVuZGVyVGV4dHVyZXMgZWFjaCBmcmFtZSBqdXN0IHRvIGRlbGV0ZSB0aGVtIGFmdGVyLCB0cnkgdG8gcmV1c2UgdGhlbS5cbiAqXG4gKiBBIFJlbmRlclRleHR1cmUgdGFrZXMgYSBzbmFwc2hvdCBvZiBhbnkgRGlzcGxheSBPYmplY3QgZ2l2ZW4gdG8gaXRzIHJlbmRlciBtZXRob2QuIEZvciBleGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgcmVuZGVyZXIgPSBQSVhJLmF1dG9EZXRlY3RSZW5kZXJlcigpO1xuICogbGV0IHJlbmRlclRleHR1cmUgPSBQSVhJLlJlbmRlclRleHR1cmUuY3JlYXRlKDgwMCwgNjAwKTtcbiAqIGxldCBzcHJpdGUgPSBQSVhJLlNwcml0ZS5mcm9tKFwic3Bpbk9ial8wMS5wbmdcIik7XG4gKlxuICogc3ByaXRlLnBvc2l0aW9uLnggPSA4MDAvMjtcbiAqIHNwcml0ZS5wb3NpdGlvbi55ID0gNjAwLzI7XG4gKiBzcHJpdGUuYW5jaG9yLnggPSAwLjU7XG4gKiBzcHJpdGUuYW5jaG9yLnkgPSAwLjU7XG4gKlxuICogcmVuZGVyZXIucmVuZGVyKHNwcml0ZSwgcmVuZGVyVGV4dHVyZSk7XG4gKiBgYGBcbiAqXG4gKiBUaGUgU3ByaXRlIGluIHRoaXMgY2FzZSB3aWxsIGJlIHJlbmRlcmVkIHVzaW5nIGl0cyBsb2NhbCB0cmFuc2Zvcm0uIFRvIHJlbmRlciB0aGlzIHNwcml0ZSBhdCAwLDBcbiAqIHlvdSBjYW4gY2xlYXIgdGhlIHRyYW5zZm9ybVxuICpcbiAqIGBgYGpzXG4gKlxuICogc3ByaXRlLnNldFRyYW5zZm9ybSgpXG4gKlxuICogbGV0IHJlbmRlclRleHR1cmUgPSBuZXcgUElYSS5SZW5kZXJUZXh0dXJlLmNyZWF0ZSgxMDAsIDEwMCk7XG4gKlxuICogcmVuZGVyZXIucmVuZGVyKHNwcml0ZSwgcmVuZGVyVGV4dHVyZSk7ICAvLyBSZW5kZXJzIHRvIGNlbnRlciBvZiBSZW5kZXJUZXh0dXJlXG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuVGV4dHVyZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFJlbmRlclRleHR1cmUgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChUZXh0dXJlKSB7XG4gICAgZnVuY3Rpb24gUmVuZGVyVGV4dHVyZShiYXNlUmVuZGVyVGV4dHVyZSwgZnJhbWUpXG4gICAge1xuICAgICAgICAvLyBzdXBwb3J0IGZvciBsZWdhY3kuLlxuICAgICAgICB2YXIgX2xlZ2FjeVJlbmRlcmVyID0gbnVsbDtcblxuICAgICAgICBpZiAoIShiYXNlUmVuZGVyVGV4dHVyZSBpbnN0YW5jZW9mIEJhc2VSZW5kZXJUZXh0dXJlKSlcbiAgICAgICAge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgcHJlZmVyLXJlc3QtcGFyYW1zLCBuby1jb25zb2xlICovXG4gICAgICAgICAgICB2YXIgd2lkdGggPSBhcmd1bWVudHNbMV07XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gYXJndW1lbnRzWzJdO1xuICAgICAgICAgICAgdmFyIHNjYWxlTW9kZSA9IGFyZ3VtZW50c1szXTtcbiAgICAgICAgICAgIHZhciByZXNvbHV0aW9uID0gYXJndW1lbnRzWzRdO1xuXG4gICAgICAgICAgICAvLyB3ZSBoYXZlIGFuIG9sZCByZW5kZXIgdGV4dHVyZS4uXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oKFwiUGxlYXNlIHVzZSBSZW5kZXJUZXh0dXJlLmNyZWF0ZShcIiArIHdpZHRoICsgXCIsIFwiICsgaGVpZ2h0ICsgXCIpIGluc3RlYWQgb2YgdGhlIGN0b3IgZGlyZWN0bHkuXCIpKTtcbiAgICAgICAgICAgIF9sZWdhY3lSZW5kZXJlciA9IGFyZ3VtZW50c1swXTtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgcHJlZmVyLXJlc3QtcGFyYW1zLCBuby1jb25zb2xlICovXG5cbiAgICAgICAgICAgIGZyYW1lID0gbnVsbDtcbiAgICAgICAgICAgIGJhc2VSZW5kZXJUZXh0dXJlID0gbmV3IEJhc2VSZW5kZXJUZXh0dXJlKHtcbiAgICAgICAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgICAgICAgICAgc2NhbGVNb2RlOiBzY2FsZU1vZGUsXG4gICAgICAgICAgICAgICAgcmVzb2x1dGlvbjogcmVzb2x1dGlvbixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBiYXNlIHRleHR1cmUgb2JqZWN0IHRoYXQgdGhpcyB0ZXh0dXJlIHVzZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIFRleHR1cmUuY2FsbCh0aGlzLCBiYXNlUmVuZGVyVGV4dHVyZSwgZnJhbWUpO1xuXG4gICAgICAgIHRoaXMubGVnYWN5UmVuZGVyZXIgPSBfbGVnYWN5UmVuZGVyZXI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgd2lsbCBsZXQgdGhlIHJlbmRlcmVyIGtub3cgaWYgdGhlIHRleHR1cmUgaXMgdmFsaWQuIElmIGl0J3Mgbm90IHRoZW4gaXQgY2Fubm90IGJlIHJlbmRlcmVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52YWxpZCA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFN0b3JlcyBgc291cmNlRnJhbWVgIHdoZW4gdGhpcyB0ZXh0dXJlIGlzIGluc2lkZSBjdXJyZW50IGZpbHRlciBzdGFjay5cbiAgICAgICAgICogWW91IGNhbiByZWFkIGl0IGluc2lkZSBmaWx0ZXJzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZpbHRlckZyYW1lID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGtleSBmb3IgcG9vbGVkIHRleHR1cmUgb2YgRmlsdGVyU3lzdGVtXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5maWx0ZXJQb29sS2V5ID0gbnVsbDtcblxuICAgICAgICB0aGlzLnVwZGF0ZVV2cygpO1xuICAgIH1cblxuICAgIGlmICggVGV4dHVyZSApIFJlbmRlclRleHR1cmUuX19wcm90b19fID0gVGV4dHVyZTtcbiAgICBSZW5kZXJUZXh0dXJlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFRleHR1cmUgJiYgVGV4dHVyZS5wcm90b3R5cGUgKTtcbiAgICBSZW5kZXJUZXh0dXJlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFJlbmRlclRleHR1cmU7XG5cbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSBSZW5kZXJUZXh0dXJlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIHdpZHRoIHRvIHJlc2l6ZSB0by5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVGhlIGhlaWdodCB0byByZXNpemUgdG8uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmVzaXplQmFzZVRleHR1cmU9dHJ1ZV0gLSBTaG91bGQgdGhlIGJhc2VUZXh0dXJlLndpZHRoIGFuZCBoZWlnaHQgdmFsdWVzIGJlIHJlc2l6ZWQgYXMgd2VsbD9cbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiByZXNpemUgKHdpZHRoLCBoZWlnaHQsIHJlc2l6ZUJhc2VUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgaWYgKCByZXNpemVCYXNlVGV4dHVyZSA9PT0gdm9pZCAwICkgcmVzaXplQmFzZVRleHR1cmUgPSB0cnVlO1xuXG4gICAgICAgIHdpZHRoID0gTWF0aC5jZWlsKHdpZHRoKTtcbiAgICAgICAgaGVpZ2h0ID0gTWF0aC5jZWlsKGhlaWdodCk7XG5cbiAgICAgICAgLy8gVE9ETyAtIGNvdWxkIGJlIG5vdCByZXF1aXJlZC4uXG4gICAgICAgIHRoaXMudmFsaWQgPSAod2lkdGggPiAwICYmIGhlaWdodCA+IDApO1xuXG4gICAgICAgIHRoaXMuX2ZyYW1lLndpZHRoID0gdGhpcy5vcmlnLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuX2ZyYW1lLmhlaWdodCA9IHRoaXMub3JpZy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgaWYgKHJlc2l6ZUJhc2VUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudXBkYXRlVXZzKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIHJlc29sdXRpb24gb2YgYmFzZVRleHR1cmUsIGJ1dCBkb2VzIG5vdCBjaGFuZ2UgZnJhbWVidWZmZXIgc2l6ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIC0gVGhlIG5ldyByZXNvbHV0aW9uIHRvIGFwcGx5IHRvIFJlbmRlclRleHR1cmVcbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlLnByb3RvdHlwZS5zZXRSZXNvbHV0aW9uID0gZnVuY3Rpb24gc2V0UmVzb2x1dGlvbiAocmVzb2x1dGlvbilcbiAgICB7XG4gICAgICAgIHZhciByZWYgPSB0aGlzO1xuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSByZWYuYmFzZVRleHR1cmU7XG5cbiAgICAgICAgaWYgKGJhc2VUZXh0dXJlLnJlc29sdXRpb24gPT09IHJlc29sdXRpb24pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGJhc2VUZXh0dXJlLnNldFJlc29sdXRpb24ocmVzb2x1dGlvbik7XG4gICAgICAgIHRoaXMucmVzaXplKGJhc2VUZXh0dXJlLndpZHRoLCBiYXNlVGV4dHVyZS5oZWlnaHQsIGZhbHNlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQSBzaG9ydCBoYW5kIHdheSBvZiBjcmVhdGluZyBhIHJlbmRlciB0ZXh0dXJlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIE9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9MTAwXSAtIFRoZSB3aWR0aCBvZiB0aGUgcmVuZGVyIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0PTEwMF0gLSBUaGUgaGVpZ2h0IG9mIHRoZSByZW5kZXIgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zY2FsZU1vZGU9UElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXSAtIFNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHRleHR1cmUgYmVpbmcgZ2VuZXJhdGVkXG4gICAgICogQHJldHVybiB7UElYSS5SZW5kZXJUZXh0dXJlfSBUaGUgbmV3IHJlbmRlciB0ZXh0dXJlXG4gICAgICovXG4gICAgUmVuZGVyVGV4dHVyZS5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUgKG9wdGlvbnMpXG4gICAge1xuICAgICAgICAvLyBmYWxsYmFjaywgb2xkLXN0eWxlOiBjcmVhdGUod2lkdGgsIGhlaWdodCwgc2NhbGVNb2RlLCByZXNvbHV0aW9uKVxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdudW1iZXInKVxuICAgICAgICB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBwcmVmZXItcmVzdC1wYXJhbXMgKi9cbiAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IG9wdGlvbnMsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBhcmd1bWVudHNbMV0sXG4gICAgICAgICAgICAgICAgc2NhbGVNb2RlOiBhcmd1bWVudHNbMl0sXG4gICAgICAgICAgICAgICAgcmVzb2x1dGlvbjogYXJndW1lbnRzWzNdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgcHJlZmVyLXJlc3QtcGFyYW1zICovXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFJlbmRlclRleHR1cmUobmV3IEJhc2VSZW5kZXJUZXh0dXJlKG9wdGlvbnMpKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFJlbmRlclRleHR1cmU7XG59KFRleHR1cmUpKTtcblxuLyoqXG4gKiBFeHBlcmltZW50YWwhXG4gKlxuICogVGV4dHVyZSBwb29sLCB1c2VkIGJ5IEZpbHRlclN5c3RlbSBhbmQgcGx1Z2luc1xuICogU3RvcmVzIGNvbGxlY3Rpb24gb2YgdGVtcG9yYXJ5IHBvdzIgb3Igc2NyZWVuLXNpemVkIHJlbmRlclRleHR1cmVzXG4gKlxuICogSWYgeW91IHVzZSBjdXN0b20gUmVuZGVyVGV4dHVyZVBvb2wgZm9yIHlvdXIgZmlsdGVycywgeW91IGNhbiB1c2UgbWV0aG9kc1xuICogYGdldEZpbHRlclRleHR1cmVgIGFuZCBgcmV0dXJuRmlsdGVyVGV4dHVyZWAgc2FtZSBhcyBpblxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFJlbmRlclRleHR1cmVQb29sID0gZnVuY3Rpb24gUmVuZGVyVGV4dHVyZVBvb2wodGV4dHVyZU9wdGlvbnMpXG57XG4gICAgdGhpcy50ZXh0dXJlUG9vbCA9IHt9O1xuICAgIHRoaXMudGV4dHVyZU9wdGlvbnMgPSB0ZXh0dXJlT3B0aW9ucyB8fCB7fTtcbiAgICAvKipcbiAgICAgKiBBbGxvdyByZW5kZXJUZXh0dXJlcyBvZiB0aGUgc2FtZSBzaXplIGFzIHNjcmVlbiwgbm90IGp1c3QgcG93MlxuICAgICAqXG4gICAgICogQXV0b21hdGljYWxseSBzZXRzIHRvIHRydWUgYWZ0ZXIgYHNldFNjcmVlblNpemVgXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgdGhpcy5lbmFibGVGdWxsU2NyZWVuID0gZmFsc2U7XG5cbiAgICB0aGlzLl9waXhlbHNXaWR0aCA9IDA7XG4gICAgdGhpcy5fcGl4ZWxzSGVpZ2h0ID0gMDtcbn07XG5cbi8qKlxuICogY3JlYXRlcyBvZiB0ZXh0dXJlIHdpdGggcGFyYW1zIHRoYXQgd2VyZSBzcGVjaWZpZWQgaW4gcG9vbCBjb25zdHJ1Y3RvclxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSByZWFsV2lkdGggd2lkdGggb2YgdGV4dHVyZSBpbiBwaXhlbHNcbiAqIEBwYXJhbSB7bnVtYmVyfSByZWFsSGVpZ2h0IGhlaWdodCBvZiB0ZXh0dXJlIGluIHBpeGVsc1xuICogQHJldHVybnMge1JlbmRlclRleHR1cmV9XG4gKi9cblJlbmRlclRleHR1cmVQb29sLnByb3RvdHlwZS5jcmVhdGVUZXh0dXJlID0gZnVuY3Rpb24gY3JlYXRlVGV4dHVyZSAocmVhbFdpZHRoLCByZWFsSGVpZ2h0KVxue1xuICAgIHZhciBiYXNlUmVuZGVyVGV4dHVyZSA9IG5ldyBCYXNlUmVuZGVyVGV4dHVyZShPYmplY3QuYXNzaWduKHtcbiAgICAgICAgd2lkdGg6IHJlYWxXaWR0aCxcbiAgICAgICAgaGVpZ2h0OiByZWFsSGVpZ2h0LFxuICAgICAgICByZXNvbHV0aW9uOiAxLFxuICAgIH0sIHRoaXMudGV4dHVyZU9wdGlvbnMpKTtcblxuICAgIHJldHVybiBuZXcgUmVuZGVyVGV4dHVyZShiYXNlUmVuZGVyVGV4dHVyZSk7XG59O1xuXG4vKipcbiAqIEdldHMgYSBQb3dlci1vZi1Ud28gcmVuZGVyIHRleHR1cmUgb3IgZnVsbFNjcmVlbiB0ZXh0dXJlXG4gKlxuICogQHByb3RlY3RlZFxuICogQHBhcmFtIHtudW1iZXJ9IG1pbldpZHRoIC0gVGhlIG1pbmltdW0gd2lkdGggb2YgdGhlIHJlbmRlciB0ZXh0dXJlIGluIHJlYWwgcGl4ZWxzLlxuICogQHBhcmFtIHtudW1iZXJ9IG1pbkhlaWdodCAtIFRoZSBtaW5pbXVtIGhlaWdodCBvZiB0aGUgcmVuZGVyIHRleHR1cmUgaW4gcmVhbCBwaXhlbHMuXG4gKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgcmVuZGVyIHRleHR1cmUuXG4gKiBAcmV0dXJuIHtQSVhJLlJlbmRlclRleHR1cmV9IFRoZSBuZXcgcmVuZGVyIHRleHR1cmUuXG4gKi9cblJlbmRlclRleHR1cmVQb29sLnByb3RvdHlwZS5nZXRPcHRpbWFsVGV4dHVyZSA9IGZ1bmN0aW9uIGdldE9wdGltYWxUZXh0dXJlIChtaW5XaWR0aCwgbWluSGVpZ2h0LCByZXNvbHV0aW9uKVxue1xuICAgICAgICBpZiAoIHJlc29sdXRpb24gPT09IHZvaWQgMCApIHJlc29sdXRpb24gPSAxO1xuXG4gICAgdmFyIGtleSA9IFJlbmRlclRleHR1cmVQb29sLlNDUkVFTl9LRVk7XG5cbiAgICBtaW5XaWR0aCAqPSByZXNvbHV0aW9uO1xuICAgIG1pbkhlaWdodCAqPSByZXNvbHV0aW9uO1xuXG4gICAgaWYgKCF0aGlzLmVuYWJsZUZ1bGxTY3JlZW4gfHwgbWluV2lkdGggIT09IHRoaXMuX3BpeGVsc1dpZHRoIHx8IG1pbkhlaWdodCAhPT0gdGhpcy5fcGl4ZWxzSGVpZ2h0KVxuICAgIHtcbiAgICAgICAgbWluV2lkdGggPSBuZXh0UG93MihtaW5XaWR0aCk7XG4gICAgICAgIG1pbkhlaWdodCA9IG5leHRQb3cyKG1pbkhlaWdodCk7XG4gICAgICAgIGtleSA9ICgobWluV2lkdGggJiAweEZGRkYpIDw8IDE2KSB8IChtaW5IZWlnaHQgJiAweEZGRkYpO1xuICAgIH1cblxuICAgIGlmICghdGhpcy50ZXh0dXJlUG9vbFtrZXldKVxuICAgIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlUG9vbFtrZXldID0gW107XG4gICAgfVxuXG4gICAgdmFyIHJlbmRlclRleHR1cmUgPSB0aGlzLnRleHR1cmVQb29sW2tleV0ucG9wKCk7XG5cbiAgICBpZiAoIXJlbmRlclRleHR1cmUpXG4gICAge1xuICAgICAgICByZW5kZXJUZXh0dXJlID0gdGhpcy5jcmVhdGVUZXh0dXJlKG1pbldpZHRoLCBtaW5IZWlnaHQpO1xuICAgIH1cblxuICAgIHJlbmRlclRleHR1cmUuZmlsdGVyUG9vbEtleSA9IGtleTtcbiAgICByZW5kZXJUZXh0dXJlLnNldFJlc29sdXRpb24ocmVzb2x1dGlvbik7XG5cbiAgICByZXR1cm4gcmVuZGVyVGV4dHVyZTtcbn07XG5cbi8qKlxuICogR2V0cyBleHRyYSB0ZXh0dXJlIG9mIHRoZSBzYW1lIHNpemUgYXMgaW5wdXQgcmVuZGVyVGV4dHVyZVxuICpcbiAqIGBnZXRGaWx0ZXJUZXh0dXJlKGlucHV0LCAwLjUpYCBvciBgZ2V0RmlsdGVyVGV4dHVyZSgwLjUsIGlucHV0KWBcbiAqXG4gKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gaW5wdXQgcmVuZGVyVGV4dHVyZSBmcm9tIHdoaWNoIHNpemUgYW5kIHJlc29sdXRpb24gd2lsbCBiZSBjb3BpZWRcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbl0gb3ZlcnJpZGUgcmVzb2x1dGlvbiBvZiB0aGUgcmVuZGVyVGV4dHVyZVxuICogIEl0IG92ZXJyaWRlcywgaXQgZG9lcyBub3QgbXVsdGlwbHlcbiAqIEByZXR1cm5zIHtQSVhJLlJlbmRlclRleHR1cmV9XG4gKi9cblJlbmRlclRleHR1cmVQb29sLnByb3RvdHlwZS5nZXRGaWx0ZXJUZXh0dXJlID0gZnVuY3Rpb24gZ2V0RmlsdGVyVGV4dHVyZSAoaW5wdXQsIHJlc29sdXRpb24pXG57XG4gICAgdmFyIGZpbHRlclRleHR1cmUgPSB0aGlzLmdldE9wdGltYWxUZXh0dXJlKGlucHV0LndpZHRoLCBpbnB1dC5oZWlnaHQsIHJlc29sdXRpb24gfHwgaW5wdXQucmVzb2x1dGlvbik7XG5cbiAgICBmaWx0ZXJUZXh0dXJlLmZpbHRlckZyYW1lID0gaW5wdXQuZmlsdGVyRnJhbWU7XG5cbiAgICByZXR1cm4gZmlsdGVyVGV4dHVyZTtcbn07XG5cbi8qKlxuICogUGxhY2UgYSByZW5kZXIgdGV4dHVyZSBiYWNrIGludG8gdGhlIHBvb2wuXG4gKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gcmVuZGVyVGV4dHVyZSAtIFRoZSByZW5kZXJUZXh0dXJlIHRvIGZyZWVcbiAqL1xuUmVuZGVyVGV4dHVyZVBvb2wucHJvdG90eXBlLnJldHVyblRleHR1cmUgPSBmdW5jdGlvbiByZXR1cm5UZXh0dXJlIChyZW5kZXJUZXh0dXJlKVxue1xuICAgIHZhciBrZXkgPSByZW5kZXJUZXh0dXJlLmZpbHRlclBvb2xLZXk7XG5cbiAgICByZW5kZXJUZXh0dXJlLmZpbHRlckZyYW1lID0gbnVsbDtcbiAgICB0aGlzLnRleHR1cmVQb29sW2tleV0ucHVzaChyZW5kZXJUZXh0dXJlKTtcbn07XG5cbi8qKlxuICogQWxpYXMgZm9yIHJldHVyblRleHR1cmUsIHRvIGJlIGNvbXBsaWFudCB3aXRoIEZpbHRlclN5c3RlbSBpbnRlcmZhY2VcbiAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSByZW5kZXJUZXh0dXJlIC0gVGhlIHJlbmRlclRleHR1cmUgdG8gZnJlZVxuICovXG5SZW5kZXJUZXh0dXJlUG9vbC5wcm90b3R5cGUucmV0dXJuRmlsdGVyVGV4dHVyZSA9IGZ1bmN0aW9uIHJldHVybkZpbHRlclRleHR1cmUgKHJlbmRlclRleHR1cmUpXG57XG4gICAgdGhpcy5yZXR1cm5UZXh0dXJlKHJlbmRlclRleHR1cmUpO1xufTtcblxuLyoqXG4gKiBDbGVhcnMgdGhlIHBvb2xcbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtkZXN0cm95VGV4dHVyZXM9dHJ1ZV0gZGVzdHJveSBhbGwgc3RvcmVkIHRleHR1cmVzXG4gKi9cblJlbmRlclRleHR1cmVQb29sLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyIChkZXN0cm95VGV4dHVyZXMpXG57XG4gICAgZGVzdHJveVRleHR1cmVzID0gZGVzdHJveVRleHR1cmVzICE9PSBmYWxzZTtcbiAgICBpZiAoZGVzdHJveVRleHR1cmVzKVxuICAgIHtcbiAgICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLnRleHR1cmVQb29sKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZXMgPSB0aGlzLnRleHR1cmVQb29sW2ldO1xuXG4gICAgICAgICAgICBpZiAodGV4dHVyZXMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0ZXh0dXJlcy5sZW5ndGg7IGorKylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmVzW2pdLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy50ZXh0dXJlUG9vbCA9IHt9O1xufTtcblxuLyoqXG4gKiBJZiBzY3JlZW4gc2l6ZSB3YXMgY2hhbmdlZCwgZHJvcHMgYWxsIHNjcmVlbi1zaXplZCB0ZXh0dXJlcyxcbiAqIHNldHMgbmV3IHNjcmVlbiBzaXplLCBzZXRzIGBlbmFibGVGdWxsU2NyZWVuYCB0byB0cnVlXG4gKlxuICogU2l6ZSBpcyBtZWFzdXJlZCBpbiBwaXhlbHMsIGByZW5kZXJlci52aWV3YCBjYW4gYmUgcGFzc2VkIGhlcmUsIG5vdCBgcmVuZGVyZXIuc2NyZWVuYFxuICpcbiAqIEBwYXJhbSB7UElYSS5JU2l6ZX0gc2l6ZSAtIEluaXRpYWwgc2l6ZSBvZiBzY3JlZW5cbiAqL1xuUmVuZGVyVGV4dHVyZVBvb2wucHJvdG90eXBlLnNldFNjcmVlblNpemUgPSBmdW5jdGlvbiBzZXRTY3JlZW5TaXplIChzaXplKVxue1xuICAgIGlmIChzaXplLndpZHRoID09PSB0aGlzLl9waXhlbHNXaWR0aFxuICAgICAgICAmJiBzaXplLmhlaWdodCA9PT0gdGhpcy5fcGl4ZWxzSGVpZ2h0KVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBzY3JlZW5LZXkgPSBSZW5kZXJUZXh0dXJlUG9vbC5TQ1JFRU5fS0VZO1xuICAgIHZhciB0ZXh0dXJlcyA9IHRoaXMudGV4dHVyZVBvb2xbc2NyZWVuS2V5XTtcblxuICAgIHRoaXMuZW5hYmxlRnVsbFNjcmVlbiA9IHNpemUud2lkdGggPiAwICYmIHNpemUuaGVpZ2h0ID4gMDtcblxuICAgIGlmICh0ZXh0dXJlcylcbiAgICB7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGV4dHVyZXMubGVuZ3RoOyBqKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRleHR1cmVzW2pdLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhpcy50ZXh0dXJlUG9vbFtzY3JlZW5LZXldID0gW107XG5cbiAgICB0aGlzLl9waXhlbHNXaWR0aCA9IHNpemUud2lkdGg7XG4gICAgdGhpcy5fcGl4ZWxzSGVpZ2h0ID0gc2l6ZS5oZWlnaHQ7XG59O1xuXG4vKipcbiAqIEtleSB0aGF0IGlzIHVzZWQgdG8gc3RvcmUgZnVsbHNjcmVlbiByZW5kZXJUZXh0dXJlcyBpbiBhIHBvb2xcbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3Qge3N0cmluZ31cbiAqL1xuUmVuZGVyVGV4dHVyZVBvb2wuU0NSRUVOX0tFWSA9ICdzY3JlZW4nO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG5cbi8qKlxuICogSG9sZHMgdGhlIGluZm9ybWF0aW9uIGZvciBhIHNpbmdsZSBhdHRyaWJ1dGUgc3RydWN0dXJlIHJlcXVpcmVkIHRvIHJlbmRlciBnZW9tZXRyeS5cbiAqXG4gKiBUaGlzIGRvZXMgbm90IGNvbnRhaW4gdGhlIGFjdHVhbCBkYXRhLCBidXQgaW5zdGVhZCBoYXMgYSBidWZmZXIgaWQgdGhhdCBtYXBzIHRvIGEge0BsaW5rIFBJWEkuQnVmZmVyfVxuICogVGhpcyBjYW4gaW5jbHVkZSBhbnl0aGluZyBmcm9tIHBvc2l0aW9ucywgdXZzLCBub3JtYWxzLCBjb2xvcnMgZXRjLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEF0dHJpYnV0ZSA9IGZ1bmN0aW9uIEF0dHJpYnV0ZShidWZmZXIsIHNpemUsIG5vcm1hbGl6ZWQsIHR5cGUsIHN0cmlkZSwgc3RhcnQsIGluc3RhbmNlKVxue1xuICAgIGlmICggbm9ybWFsaXplZCA9PT0gdm9pZCAwICkgbm9ybWFsaXplZCA9IGZhbHNlO1xuICAgIGlmICggdHlwZSA9PT0gdm9pZCAwICkgdHlwZSA9IDUxMjY7XG5cbiAgICB0aGlzLmJ1ZmZlciA9IGJ1ZmZlcjtcbiAgICB0aGlzLnNpemUgPSBzaXplO1xuICAgIHRoaXMubm9ybWFsaXplZCA9IG5vcm1hbGl6ZWQ7XG4gICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICB0aGlzLnN0cmlkZSA9IHN0cmlkZTtcbiAgICB0aGlzLnN0YXJ0ID0gc3RhcnQ7XG4gICAgdGhpcy5pbnN0YW5jZSA9IGluc3RhbmNlO1xufTtcblxuLyoqXG4gKiBEZXN0cm95cyB0aGUgQXR0cmlidXRlLlxuICovXG5BdHRyaWJ1dGUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95ICgpXG57XG4gICAgdGhpcy5idWZmZXIgPSBudWxsO1xufTtcblxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGFuIEF0dHJpYnV0ZSBiYXNlZCBvbiB0aGUgaW5mb3JtYXRpb24gcHJvdmlkZWRcbiAqXG4gKiBAc3RhdGljXG4gKiBAcGFyYW0ge3N0cmluZ30gYnVmZmVyICB0aGUgaWQgb2YgdGhlIGJ1ZmZlciB0aGF0IHRoaXMgYXR0cmlidXRlIHdpbGwgbG9vayBmb3JcbiAqIEBwYXJhbSB7TnVtYmVyfSBbc2l6ZT0yXSB0aGUgc2l6ZSBvZiB0aGUgYXR0cmlidXRlLiBJZiB5b3UgaGF2ZSAyIGZsb2F0cyBwZXIgdmVydGV4IChlZyBwb3NpdGlvbiB4IGFuZCB5KSB0aGlzIHdvdWxkIGJlIDJcbiAqIEBwYXJhbSB7TnVtYmVyfSBbc3RyaWRlPTBdIEhvdyBmYXIgYXBhcnQgKGluIGZsb2F0cykgdGhlIHN0YXJ0IG9mIGVhY2ggdmFsdWUgaXMuICh1c2VkIGZvciBpbnRlcmxlYXZpbmcgZGF0YSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBbc3RhcnQ9MF0gSG93IGZhciBpbnRvIHRoZSBhcnJheSB0byBzdGFydCByZWFkaW5nIHZhbHVlcyAodXNlZCBmb3IgaW50ZXJsZWF2aW5nIGRhdGEpXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtub3JtYWxpemVkPWZhbHNlXSBzaG91bGQgdGhlIGRhdGEgYmUgbm9ybWFsaXplZC5cbiAqXG4gKiBAcmV0dXJucyB7UElYSS5BdHRyaWJ1dGV9IEEgbmV3IHtAbGluayBQSVhJLkF0dHJpYnV0ZX0gYmFzZWQgb24gdGhlIGluZm9ybWF0aW9uIHByb3ZpZGVkXG4gKi9cbkF0dHJpYnV0ZS5mcm9tID0gZnVuY3Rpb24gZnJvbSAoYnVmZmVyLCBzaXplLCBub3JtYWxpemVkLCB0eXBlLCBzdHJpZGUpXG57XG4gICAgcmV0dXJuIG5ldyBBdHRyaWJ1dGUoYnVmZmVyLCBzaXplLCBub3JtYWxpemVkLCB0eXBlLCBzdHJpZGUpO1xufTtcblxudmFyIFVJRCA9IDA7XG4vKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG5cbi8qKlxuICogQSB3cmFwcGVyIGZvciBkYXRhIHNvIHRoYXQgaXQgY2FuIGJlIHVzZWQgYW5kIHVwbG9hZGVkIGJ5IFdlYkdMXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQnVmZmVyID0gZnVuY3Rpb24gQnVmZmVyKGRhdGEsIF9zdGF0aWMsIGluZGV4KVxue1xuICAgIGlmICggX3N0YXRpYyA9PT0gdm9pZCAwICkgX3N0YXRpYyA9IHRydWU7XG4gICAgaWYgKCBpbmRleCA9PT0gdm9pZCAwICkgaW5kZXggPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBkYXRhIGluIHRoZSBidWZmZXIsIGFzIGEgdHlwZWQgYXJyYXlcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge0FycmF5QnVmZmVyfCBTaGFyZWRBcnJheUJ1ZmZlcnxBcnJheUJ1ZmZlclZpZXd9XG4gICAgICovXG4gICAgdGhpcy5kYXRhID0gZGF0YSB8fCBuZXcgRmxvYXQzMkFycmF5KDEpO1xuXG4gICAgLyoqXG4gICAgICogQSBtYXAgb2YgcmVuZGVyZXIgSURzIHRvIHdlYmdsIGJ1ZmZlclxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtvYmplY3Q8bnVtYmVyLCBHTEJ1ZmZlcj59XG4gICAgICovXG4gICAgdGhpcy5fZ2xCdWZmZXJzID0ge307XG5cbiAgICB0aGlzLl91cGRhdGVJRCA9IDA7XG5cbiAgICB0aGlzLmluZGV4ID0gaW5kZXg7XG5cbiAgICB0aGlzLnN0YXRpYyA9IF9zdGF0aWM7XG5cbiAgICB0aGlzLmlkID0gVUlEKys7XG5cbiAgICB0aGlzLmRpc3Bvc2VSdW5uZXIgPSBuZXcgUnVubmVyKCdkaXNwb3NlQnVmZmVyJywgMik7XG59O1xuXG4vLyBUT0RPIGNvdWxkIGV4cGxvcmUgZmxhZ2dpbmcgb25seSBhIHBhcnRpYWwgdXBsb2FkP1xuLyoqXG4gKiBmbGFncyB0aGlzIGJ1ZmZlciBhcyByZXF1aXJpbmcgYW4gdXBsb2FkIHRvIHRoZSBHUFVcbiAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ8U2hhcmVkQXJyYXlCdWZmZXJ8QXJyYXlCdWZmZXJWaWV3fSBbZGF0YV0gdGhlIGRhdGEgdG8gdXBkYXRlIGluIHRoZSBidWZmZXIuXG4gKi9cbkJ1ZmZlci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlIChkYXRhKVxue1xuICAgIHRoaXMuZGF0YSA9IGRhdGEgfHwgdGhpcy5kYXRhO1xuICAgIHRoaXMuX3VwZGF0ZUlEKys7XG59O1xuXG4vKipcbiAqIGRpc3Bvc2VzIFdlYkdMIHJlc291cmNlcyB0aGF0IGFyZSBjb25uZWN0ZWQgdG8gdGhpcyBnZW9tZXRyeVxuICovXG5CdWZmZXIucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlICgpXG57XG4gICAgdGhpcy5kaXNwb3NlUnVubmVyLnJ1bih0aGlzLCBmYWxzZSk7XG59O1xuXG4vKipcbiAqIERlc3Ryb3lzIHRoZSBidWZmZXJcbiAqL1xuQnVmZmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxue1xuICAgIHRoaXMuZGlzcG9zZSgpO1xuXG4gICAgdGhpcy5kYXRhID0gbnVsbDtcbn07XG5cbi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIGJ1ZmZlciBiYXNlZCBvbiBhbiBhcnJheSBvciBUeXBlZEFycmF5XG4gKlxuICogQHN0YXRpY1xuICogQHBhcmFtIHtBcnJheUJ1ZmZlclZpZXcgfCBudW1iZXJbXX0gZGF0YSB0aGUgVHlwZWRBcnJheSB0aGF0IHRoZSBidWZmZXIgd2lsbCBzdG9yZS4gSWYgdGhpcyBpcyBhIHJlZ3VsYXIgQXJyYXkgaXQgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSBGbG9hdDMyQXJyYXkuXG4gKiBAcmV0dXJuIHtQSVhJLkJ1ZmZlcn0gQSBuZXcgQnVmZmVyIGJhc2VkIG9uIHRoZSBkYXRhIHByb3ZpZGVkLlxuICovXG5CdWZmZXIuZnJvbSA9IGZ1bmN0aW9uIGZyb20gKGRhdGEpXG57XG4gICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBBcnJheSlcbiAgICB7XG4gICAgICAgIGRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KGRhdGEpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgQnVmZmVyKGRhdGEpO1xufTtcblxuZnVuY3Rpb24gZ2V0QnVmZmVyVHlwZShhcnJheSlcbntcbiAgICBpZiAoYXJyYXkuQllURVNfUEVSX0VMRU1FTlQgPT09IDQpXG4gICAge1xuICAgICAgICBpZiAoYXJyYXkgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiAnRmxvYXQzMkFycmF5JztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhcnJheSBpbnN0YW5jZW9mIFVpbnQzMkFycmF5KVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gJ1VpbnQzMkFycmF5JztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAnSW50MzJBcnJheSc7XG4gICAgfVxuICAgIGVsc2UgaWYgKGFycmF5LkJZVEVTX1BFUl9FTEVNRU5UID09PSAyKVxuICAgIHtcbiAgICAgICAgaWYgKGFycmF5IGluc3RhbmNlb2YgVWludDE2QXJyYXkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiAnVWludDE2QXJyYXknO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGFycmF5LkJZVEVTX1BFUl9FTEVNRU5UID09PSAxKVxuICAgIHtcbiAgICAgICAgaWYgKGFycmF5IGluc3RhbmNlb2YgVWludDhBcnJheSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuICdVaW50OEFycmF5JztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFRPRE8gbWFwIG91dCB0aGUgcmVzdCBvZiB0aGUgYXJyYXkgZWxlbWVudHMhXG4gICAgcmV0dXJuIG51bGw7XG59XG5cbi8qIGVzbGludC1kaXNhYmxlIG9iamVjdC1zaG9ydGhhbmQgKi9cbnZhciBtYXAgPSB7XG4gICAgRmxvYXQzMkFycmF5OiBGbG9hdDMyQXJyYXksXG4gICAgVWludDMyQXJyYXk6IFVpbnQzMkFycmF5LFxuICAgIEludDMyQXJyYXk6IEludDMyQXJyYXksXG4gICAgVWludDhBcnJheTogVWludDhBcnJheSxcbn07XG5cbmZ1bmN0aW9uIGludGVybGVhdmVUeXBlZEFycmF5cyhhcnJheXMsIHNpemVzKVxue1xuICAgIHZhciBvdXRTaXplID0gMDtcbiAgICB2YXIgc3RyaWRlID0gMDtcbiAgICB2YXIgdmlld3MgPSB7fTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXlzLmxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgICAgc3RyaWRlICs9IHNpemVzW2ldO1xuICAgICAgICBvdXRTaXplICs9IGFycmF5c1tpXS5sZW5ndGg7XG4gICAgfVxuXG4gICAgdmFyIGJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihvdXRTaXplICogNCk7XG5cbiAgICB2YXIgb3V0ID0gbnVsbDtcbiAgICB2YXIgbGl0dGxlT2Zmc2V0ID0gMDtcblxuICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IGFycmF5cy5sZW5ndGg7IGkkMSsrKVxuICAgIHtcbiAgICAgICAgdmFyIHNpemUgPSBzaXplc1tpJDFdO1xuICAgICAgICB2YXIgYXJyYXkgPSBhcnJheXNbaSQxXTtcblxuICAgICAgICB2YXIgdHlwZSA9IGdldEJ1ZmZlclR5cGUoYXJyYXkpO1xuXG4gICAgICAgIGlmICghdmlld3NbdHlwZV0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZpZXdzW3R5cGVdID0gbmV3IG1hcFt0eXBlXShidWZmZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgb3V0ID0gdmlld3NbdHlwZV07XG5cbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBhcnJheS5sZW5ndGg7IGorKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGluZGV4U3RhcnQgPSAoKGogLyBzaXplIHwgMCkgKiBzdHJpZGUpICsgbGl0dGxlT2Zmc2V0O1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gaiAlIHNpemU7XG5cbiAgICAgICAgICAgIG91dFtpbmRleFN0YXJ0ICsgaW5kZXhdID0gYXJyYXlbal07XG4gICAgICAgIH1cblxuICAgICAgICBsaXR0bGVPZmZzZXQgKz0gc2l6ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShidWZmZXIpO1xufVxuXG52YXIgYnl0ZVNpemVNYXAgPSB7IDUxMjY6IDQsIDUxMjM6IDIsIDUxMjE6IDEgfTtcbnZhciBVSUQkMSA9IDA7XG5cbi8qIGVzbGludC1kaXNhYmxlIG9iamVjdC1zaG9ydGhhbmQgKi9cbnZhciBtYXAkMSA9IHtcbiAgICBGbG9hdDMyQXJyYXk6IEZsb2F0MzJBcnJheSxcbiAgICBVaW50MzJBcnJheTogVWludDMyQXJyYXksXG4gICAgSW50MzJBcnJheTogSW50MzJBcnJheSxcbiAgICBVaW50OEFycmF5OiBVaW50OEFycmF5LFxuICAgIFVpbnQxNkFycmF5OiBVaW50MTZBcnJheSxcbn07XG5cbi8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cblxuLyoqXG4gKiBUaGUgR2VvbWV0cnkgcmVwcmVzZW50cyBhIG1vZGVsLiBJdCBjb25zaXN0cyBvZiB0d28gY29tcG9uZW50czpcbiAqIC0gR2VvbWV0cnlTdHlsZSAtIFRoZSBzdHJ1Y3R1cmUgb2YgdGhlIG1vZGVsIHN1Y2ggYXMgdGhlIGF0dHJpYnV0ZXMgbGF5b3V0XG4gKiAtIEdlb21ldHJ5RGF0YSAtIHRoZSBkYXRhIG9mIHRoZSBtb2RlbCAtIHRoaXMgY29uc2lzdHMgb2YgYnVmZmVycy5cbiAqIFRoaXMgY2FuIGluY2x1ZGUgYW55dGhpbmcgZnJvbSBwb3NpdGlvbnMsIHV2cywgbm9ybWFscywgY29sb3JzIGV0Yy5cbiAqXG4gKiBHZW9tZXRyeSBjYW4gYmUgZGVmaW5lZCB3aXRob3V0IHBhc3NpbmcgaW4gYSBzdHlsZSBvciBkYXRhIGlmIHJlcXVpcmVkICh0aGF0cyBob3cgSSBwcmVmZXIhKVxuICpcbiAqIGBgYGpzXG4gKiBsZXQgZ2VvbWV0cnkgPSBuZXcgUElYSS5HZW9tZXRyeSgpO1xuICpcbiAqIGdlb21ldHJ5LmFkZEF0dHJpYnV0ZSgncG9zaXRpb25zJywgWzAsIDAsIDEwMCwgMCwgMTAwLCAxMDAsIDAsIDEwMF0sIDIpO1xuICogZ2VvbWV0cnkuYWRkQXR0cmlidXRlKCd1dnMnLCBbMCwwLDEsMCwxLDEsMCwxXSwyKVxuICogZ2VvbWV0cnkuYWRkSW5kZXgoWzAsMSwyLDEsMywyXSlcbiAqXG4gKiBgYGBcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEdlb21ldHJ5ID0gZnVuY3Rpb24gR2VvbWV0cnkoYnVmZmVycywgYXR0cmlidXRlcylcbntcbiAgICBpZiAoIGJ1ZmZlcnMgPT09IHZvaWQgMCApIGJ1ZmZlcnMgPSBbXTtcbiAgICBpZiAoIGF0dHJpYnV0ZXMgPT09IHZvaWQgMCApIGF0dHJpYnV0ZXMgPSB7fTtcblxuICAgIHRoaXMuYnVmZmVycyA9IGJ1ZmZlcnM7XG5cbiAgICB0aGlzLmluZGV4QnVmZmVyID0gbnVsbDtcblxuICAgIHRoaXMuYXR0cmlidXRlcyA9IGF0dHJpYnV0ZXM7XG5cbiAgICAvKipcbiAgICAgKiBBIG1hcCBvZiByZW5kZXJlciBJRHMgdG8gd2ViZ2wgVkFPc1xuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICovXG4gICAgdGhpcy5nbFZlcnRleEFycmF5T2JqZWN0cyA9IHt9O1xuXG4gICAgdGhpcy5pZCA9IFVJRCQxKys7XG5cbiAgICB0aGlzLmluc3RhbmNlZCA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogTnVtYmVyIG9mIGluc3RhbmNlcyBpbiB0aGlzIGdlb21ldHJ5LCBwYXNzIGl0IHRvIGBHZW9tZXRyeVN5c3RlbS5kcmF3KClgXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cbiAgICB0aGlzLmluc3RhbmNlQ291bnQgPSAxO1xuXG4gICAgdGhpcy5kaXNwb3NlUnVubmVyID0gbmV3IFJ1bm5lcignZGlzcG9zZUdlb21ldHJ5JywgMik7XG5cbiAgICAvKipcbiAgICAgKiBDb3VudCBvZiBleGlzdGluZyAobm90IGRlc3Ryb3llZCkgbWVzaGVzIHRoYXQgcmVmZXJlbmNlIHRoaXMgZ2VvbWV0cnlcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5yZWZDb3VudCA9IDA7XG59O1xuXG4vKipcbipcbiogQWRkcyBhbiBhdHRyaWJ1dGUgdG8gdGhlIGdlb21ldHJ5XG4qXG4qIEBwYXJhbSB7U3RyaW5nfSBpZCAtIHRoZSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgKG1hdGNoaW5nIHVwIHRvIGEgc2hhZGVyKVxuKiBAcGFyYW0ge1BJWEkuQnVmZmVyfSBbYnVmZmVyXSB0aGUgYnVmZmVyIHRoYXQgaG9sZHMgdGhlIGRhdGEgb2YgdGhlIGF0dHJpYnV0ZSAuIFlvdSBjYW4gYWxzbyBwcm92aWRlIGFuIEFycmF5IGFuZCBhIGJ1ZmZlciB3aWxsIGJlIGNyZWF0ZWQgZnJvbSBpdC5cbiogQHBhcmFtIHtOdW1iZXJ9IFtzaXplPTBdIHRoZSBzaXplIG9mIHRoZSBhdHRyaWJ1dGUuIElmIHlvdSBoYXZlIDIgZmxvYXRzIHBlciB2ZXJ0ZXggKGVnIHBvc2l0aW9uIHggYW5kIHkpIHRoaXMgd291bGQgYmUgMlxuKiBAcGFyYW0ge0Jvb2xlYW59IFtub3JtYWxpemVkPWZhbHNlXSBzaG91bGQgdGhlIGRhdGEgYmUgbm9ybWFsaXplZC5cbiogQHBhcmFtIHtOdW1iZXJ9IFt0eXBlPVBJWEkuVFlQRVMuRkxPQVRdIHdoYXQgdHlwZSBvZiBudW1iZXIgaXMgdGhlIGF0dHJpYnV0ZS4gQ2hlY2sge1BJWEkuVFlQRVN9IHRvIHNlZSB0aGUgb25lcyBhdmFpbGFibGVcbiogQHBhcmFtIHtOdW1iZXJ9IFtzdHJpZGU9MF0gSG93IGZhciBhcGFydCAoaW4gZmxvYXRzKSB0aGUgc3RhcnQgb2YgZWFjaCB2YWx1ZSBpcy4gKHVzZWQgZm9yIGludGVybGVhdmluZyBkYXRhKVxuKiBAcGFyYW0ge051bWJlcn0gW3N0YXJ0PTBdIEhvdyBmYXIgaW50byB0aGUgYXJyYXkgdG8gc3RhcnQgcmVhZGluZyB2YWx1ZXMgKHVzZWQgZm9yIGludGVybGVhdmluZyBkYXRhKVxuKlxuKiBAcmV0dXJuIHtQSVhJLkdlb21ldHJ5fSByZXR1cm5zIHNlbGYsIHVzZWZ1bCBmb3IgY2hhaW5pbmcuXG4qL1xuR2VvbWV0cnkucHJvdG90eXBlLmFkZEF0dHJpYnV0ZSA9IGZ1bmN0aW9uIGFkZEF0dHJpYnV0ZSAoaWQsIGJ1ZmZlciwgc2l6ZSwgbm9ybWFsaXplZCwgdHlwZSwgc3RyaWRlLCBzdGFydCwgaW5zdGFuY2UpXG57XG4gICAgICAgIGlmICggbm9ybWFsaXplZCA9PT0gdm9pZCAwICkgbm9ybWFsaXplZCA9IGZhbHNlO1xuICAgICAgICBpZiAoIGluc3RhbmNlID09PSB2b2lkIDAgKSBpbnN0YW5jZSA9IGZhbHNlO1xuXG4gICAgaWYgKCFidWZmZXIpXG4gICAge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBtdXN0IHBhc3MgYSBidWZmZXIgd2hlbiBjcmVhdGluZyBhbiBhdHRyaWJ1dGUnKTtcbiAgICB9XG5cbiAgICAvLyBjaGVjayBpZiB0aGlzIGlzIGEgYnVmZmVyIVxuICAgIGlmICghYnVmZmVyLmRhdGEpXG4gICAge1xuICAgICAgICAvLyBpdHMgYW4gYXJyYXkhXG4gICAgICAgIGlmIChidWZmZXIgaW5zdGFuY2VvZiBBcnJheSlcbiAgICAgICAge1xuICAgICAgICAgICAgYnVmZmVyID0gbmV3IEZsb2F0MzJBcnJheShidWZmZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgYnVmZmVyID0gbmV3IEJ1ZmZlcihidWZmZXIpO1xuICAgIH1cblxuICAgIHZhciBpZHMgPSBpZC5zcGxpdCgnfCcpO1xuXG4gICAgaWYgKGlkcy5sZW5ndGggPiAxKVxuICAgIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpZHMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYWRkQXR0cmlidXRlKGlkc1tpXSwgYnVmZmVyLCBzaXplLCBub3JtYWxpemVkLCB0eXBlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHZhciBidWZmZXJJbmRleCA9IHRoaXMuYnVmZmVycy5pbmRleE9mKGJ1ZmZlcik7XG5cbiAgICBpZiAoYnVmZmVySW5kZXggPT09IC0xKVxuICAgIHtcbiAgICAgICAgdGhpcy5idWZmZXJzLnB1c2goYnVmZmVyKTtcbiAgICAgICAgYnVmZmVySW5kZXggPSB0aGlzLmJ1ZmZlcnMubGVuZ3RoIC0gMTtcbiAgICB9XG5cbiAgICB0aGlzLmF0dHJpYnV0ZXNbaWRdID0gbmV3IEF0dHJpYnV0ZShidWZmZXJJbmRleCwgc2l6ZSwgbm9ybWFsaXplZCwgdHlwZSwgc3RyaWRlLCBzdGFydCwgaW5zdGFuY2UpO1xuXG4gICAgLy8gYXNzdW1pbmcgdGhhdCBpZiB0aGVyZSBpcyBpbnN0YW5jZWQgZGF0YSB0aGVuIHRoaXMgd2lsbCBiZSBkcmF3biB3aXRoIGluc3RhbmNpbmchXG4gICAgdGhpcy5pbnN0YW5jZWQgPSB0aGlzLmluc3RhbmNlZCB8fCBpbnN0YW5jZTtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiByZXR1cm5zIHRoZSByZXF1ZXN0ZWQgYXR0cmlidXRlXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGlkICB0aGUgbmFtZSBvZiB0aGUgYXR0cmlidXRlIHJlcXVpcmVkXG4gKiBAcmV0dXJuIHtQSVhJLkF0dHJpYnV0ZX0gdGhlIGF0dHJpYnV0ZSByZXF1ZXN0ZWQuXG4gKi9cbkdlb21ldHJ5LnByb3RvdHlwZS5nZXRBdHRyaWJ1dGUgPSBmdW5jdGlvbiBnZXRBdHRyaWJ1dGUgKGlkKVxue1xuICAgIHJldHVybiB0aGlzLmF0dHJpYnV0ZXNbaWRdO1xufTtcblxuLyoqXG4gKiByZXR1cm5zIHRoZSByZXF1ZXN0ZWQgYnVmZmVyXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGlkICB0aGUgbmFtZSBvZiB0aGUgYnVmZmVyIHJlcXVpcmVkXG4gKiBAcmV0dXJuIHtQSVhJLkJ1ZmZlcn0gdGhlIGJ1ZmZlciByZXF1ZXN0ZWQuXG4gKi9cbkdlb21ldHJ5LnByb3RvdHlwZS5nZXRCdWZmZXIgPSBmdW5jdGlvbiBnZXRCdWZmZXIgKGlkKVxue1xuICAgIHJldHVybiB0aGlzLmJ1ZmZlcnNbdGhpcy5nZXRBdHRyaWJ1dGUoaWQpLmJ1ZmZlcl07XG59O1xuXG4vKipcbipcbiogQWRkcyBhbiBpbmRleCBidWZmZXIgdG8gdGhlIGdlb21ldHJ5XG4qIFRoZSBpbmRleCBidWZmZXIgY29udGFpbnMgaW50ZWdlcnMsIHRocmVlIGZvciBlYWNoIHRyaWFuZ2xlIGluIHRoZSBnZW9tZXRyeSwgd2hpY2ggcmVmZXJlbmNlIHRoZSB2YXJpb3VzIGF0dHJpYnV0ZSBidWZmZXJzIChwb3NpdGlvbiwgY29sb3VyLCBVViBjb29yZGluYXRlcywgb3RoZXIgVVYgY29vcmRpbmF0ZXMsIG5vcm1hbCwg4oCmKS4gVGhlcmUgaXMgb25seSBPTkUgaW5kZXggYnVmZmVyLlxuKlxuKiBAcGFyYW0ge1BJWEkuQnVmZmVyfSBbYnVmZmVyXSB0aGUgYnVmZmVyIHRoYXQgaG9sZHMgdGhlIGRhdGEgb2YgdGhlIGluZGV4IGJ1ZmZlci4gWW91IGNhbiBhbHNvIHByb3ZpZGUgYW4gQXJyYXkgYW5kIGEgYnVmZmVyIHdpbGwgYmUgY3JlYXRlZCBmcm9tIGl0LlxuKiBAcmV0dXJuIHtQSVhJLkdlb21ldHJ5fSByZXR1cm5zIHNlbGYsIHVzZWZ1bCBmb3IgY2hhaW5pbmcuXG4qL1xuR2VvbWV0cnkucHJvdG90eXBlLmFkZEluZGV4ID0gZnVuY3Rpb24gYWRkSW5kZXggKGJ1ZmZlcilcbntcbiAgICBpZiAoIWJ1ZmZlci5kYXRhKVxuICAgIHtcbiAgICAgICAgLy8gaXRzIGFuIGFycmF5IVxuICAgICAgICBpZiAoYnVmZmVyIGluc3RhbmNlb2YgQXJyYXkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGJ1ZmZlciA9IG5ldyBVaW50MTZBcnJheShidWZmZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgYnVmZmVyID0gbmV3IEJ1ZmZlcihidWZmZXIpO1xuICAgIH1cblxuICAgIGJ1ZmZlci5pbmRleCA9IHRydWU7XG4gICAgdGhpcy5pbmRleEJ1ZmZlciA9IGJ1ZmZlcjtcblxuICAgIGlmICh0aGlzLmJ1ZmZlcnMuaW5kZXhPZihidWZmZXIpID09PSAtMSlcbiAgICB7XG4gICAgICAgIHRoaXMuYnVmZmVycy5wdXNoKGJ1ZmZlcik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIHJldHVybnMgdGhlIGluZGV4IGJ1ZmZlclxuICpcbiAqIEByZXR1cm4ge1BJWEkuQnVmZmVyfSB0aGUgaW5kZXggYnVmZmVyLlxuICovXG5HZW9tZXRyeS5wcm90b3R5cGUuZ2V0SW5kZXggPSBmdW5jdGlvbiBnZXRJbmRleCAoKVxue1xuICAgIHJldHVybiB0aGlzLmluZGV4QnVmZmVyO1xufTtcblxuLyoqXG4gKiB0aGlzIGZ1bmN0aW9uIG1vZGlmaWVzIHRoZSBzdHJ1Y3R1cmUgc28gdGhhdCBhbGwgY3VycmVudCBhdHRyaWJ1dGVzIGJlY29tZSBpbnRlcmxlYXZlZCBpbnRvIGEgc2luZ2xlIGJ1ZmZlclxuICogVGhpcyBjYW4gYmUgdXNlZnVsIGlmIHlvdXIgbW9kZWwgcmVtYWlucyBzdGF0aWMgYXMgaXQgb2ZmZXJzIGEgbGl0dGxlIHBlcmZvcm1hbmNlIGJvb3N0XG4gKlxuICogQHJldHVybiB7UElYSS5HZW9tZXRyeX0gcmV0dXJucyBzZWxmLCB1c2VmdWwgZm9yIGNoYWluaW5nLlxuICovXG5HZW9tZXRyeS5wcm90b3R5cGUuaW50ZXJsZWF2ZSA9IGZ1bmN0aW9uIGludGVybGVhdmUgKClcbntcbiAgICAvLyBhIHNpbXBsZSBjaGVjayB0byBzZWUgaWYgYnVmZmVycyBhcmUgYWxyZWFkeSBpbnRlcmxlYXZlZC4uXG4gICAgaWYgKHRoaXMuYnVmZmVycy5sZW5ndGggPT09IDEgfHwgKHRoaXMuYnVmZmVycy5sZW5ndGggPT09IDIgJiYgdGhpcy5pbmRleEJ1ZmZlcikpIHsgcmV0dXJuIHRoaXM7IH1cblxuICAgIC8vIGFzc3VtZSBhbHJlYWR5IHRoYXQgbm8gYnVmZmVycyBhcmUgaW50ZXJsZWF2ZWRcbiAgICB2YXIgYXJyYXlzID0gW107XG4gICAgdmFyIHNpemVzID0gW107XG4gICAgdmFyIGludGVybGVhdmVkQnVmZmVyID0gbmV3IEJ1ZmZlcigpO1xuICAgIHZhciBpO1xuXG4gICAgZm9yIChpIGluIHRoaXMuYXR0cmlidXRlcylcbiAgICB7XG4gICAgICAgIHZhciBhdHRyaWJ1dGUgPSB0aGlzLmF0dHJpYnV0ZXNbaV07XG5cbiAgICAgICAgdmFyIGJ1ZmZlciA9IHRoaXMuYnVmZmVyc1thdHRyaWJ1dGUuYnVmZmVyXTtcblxuICAgICAgICBhcnJheXMucHVzaChidWZmZXIuZGF0YSk7XG5cbiAgICAgICAgc2l6ZXMucHVzaCgoYXR0cmlidXRlLnNpemUgKiBieXRlU2l6ZU1hcFthdHRyaWJ1dGUudHlwZV0pIC8gNCk7XG5cbiAgICAgICAgYXR0cmlidXRlLmJ1ZmZlciA9IDA7XG4gICAgfVxuXG4gICAgaW50ZXJsZWF2ZWRCdWZmZXIuZGF0YSA9IGludGVybGVhdmVUeXBlZEFycmF5cyhhcnJheXMsIHNpemVzKTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmJ1ZmZlcnMubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgICBpZiAodGhpcy5idWZmZXJzW2ldICE9PSB0aGlzLmluZGV4QnVmZmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcnNbaV0uZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5idWZmZXJzID0gW2ludGVybGVhdmVkQnVmZmVyXTtcblxuICAgIGlmICh0aGlzLmluZGV4QnVmZmVyKVxuICAgIHtcbiAgICAgICAgdGhpcy5idWZmZXJzLnB1c2godGhpcy5pbmRleEJ1ZmZlcik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG5HZW9tZXRyeS5wcm90b3R5cGUuZ2V0U2l6ZSA9IGZ1bmN0aW9uIGdldFNpemUgKClcbntcbiAgICBmb3IgKHZhciBpIGluIHRoaXMuYXR0cmlidXRlcylcbiAgICB7XG4gICAgICAgIHZhciBhdHRyaWJ1dGUgPSB0aGlzLmF0dHJpYnV0ZXNbaV07XG4gICAgICAgIHZhciBidWZmZXIgPSB0aGlzLmJ1ZmZlcnNbYXR0cmlidXRlLmJ1ZmZlcl07XG5cbiAgICAgICAgcmV0dXJuIGJ1ZmZlci5kYXRhLmxlbmd0aCAvICgoYXR0cmlidXRlLnN0cmlkZSAvIDQpIHx8IGF0dHJpYnV0ZS5zaXplKTtcbiAgICB9XG5cbiAgICByZXR1cm4gMDtcbn07XG5cbi8qKlxuICogZGlzcG9zZXMgV2ViR0wgcmVzb3VyY2VzIHRoYXQgYXJlIGNvbm5lY3RlZCB0byB0aGlzIGdlb21ldHJ5XG4gKi9cbkdlb21ldHJ5LnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gZGlzcG9zZSAoKVxue1xuICAgIHRoaXMuZGlzcG9zZVJ1bm5lci5ydW4odGhpcywgZmFsc2UpO1xufTtcblxuLyoqXG4gKiBEZXN0cm95cyB0aGUgZ2VvbWV0cnkuXG4gKi9cbkdlb21ldHJ5LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxue1xuICAgIHRoaXMuZGlzcG9zZSgpO1xuXG4gICAgdGhpcy5idWZmZXJzID0gbnVsbDtcbiAgICB0aGlzLmluZGV4QnVmZmVyLmRlc3Ryb3koKTtcblxuICAgIHRoaXMuYXR0cmlidXRlcyA9IG51bGw7XG59O1xuXG4vKipcbiAqIHJldHVybnMgYSBjbG9uZSBvZiB0aGUgZ2VvbWV0cnlcbiAqXG4gKiBAcmV0dXJucyB7UElYSS5HZW9tZXRyeX0gYSBuZXcgY2xvbmUgb2YgdGhpcyBnZW9tZXRyeVxuICovXG5HZW9tZXRyeS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSAoKVxue1xuICAgIHZhciBnZW9tZXRyeSA9IG5ldyBHZW9tZXRyeSgpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJ1ZmZlcnMubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgICBnZW9tZXRyeS5idWZmZXJzW2ldID0gbmV3IEJ1ZmZlcih0aGlzLmJ1ZmZlcnNbaV0uZGF0YS5zbGljZSgpKTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpJDEgaW4gdGhpcy5hdHRyaWJ1dGVzKVxuICAgIHtcbiAgICAgICAgdmFyIGF0dHJpYiA9IHRoaXMuYXR0cmlidXRlc1tpJDFdO1xuXG4gICAgICAgIGdlb21ldHJ5LmF0dHJpYnV0ZXNbaSQxXSA9IG5ldyBBdHRyaWJ1dGUoXG4gICAgICAgICAgICBhdHRyaWIuYnVmZmVyLFxuICAgICAgICAgICAgYXR0cmliLnNpemUsXG4gICAgICAgICAgICBhdHRyaWIubm9ybWFsaXplZCxcbiAgICAgICAgICAgIGF0dHJpYi50eXBlLFxuICAgICAgICAgICAgYXR0cmliLnN0cmlkZSxcbiAgICAgICAgICAgIGF0dHJpYi5zdGFydCxcbiAgICAgICAgICAgIGF0dHJpYi5pbnN0YW5jZVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmluZGV4QnVmZmVyKVxuICAgIHtcbiAgICAgICAgZ2VvbWV0cnkuaW5kZXhCdWZmZXIgPSBnZW9tZXRyeS5idWZmZXJzW3RoaXMuYnVmZmVycy5pbmRleE9mKHRoaXMuaW5kZXhCdWZmZXIpXTtcbiAgICAgICAgZ2VvbWV0cnkuaW5kZXhCdWZmZXIuaW5kZXggPSB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBnZW9tZXRyeTtcbn07XG5cbi8qKlxuICogbWVyZ2VzIGFuIGFycmF5IG9mIGdlb21ldHJpZXMgaW50byBhIG5ldyBzaW5nbGUgb25lXG4gKiBnZW9tZXRyeSBhdHRyaWJ1dGUgc3R5bGVzIG11c3QgbWF0Y2ggZm9yIHRoaXMgb3BlcmF0aW9uIHRvIHdvcmtcbiAqXG4gKiBAcGFyYW0ge1BJWEkuR2VvbWV0cnlbXX0gZ2VvbWV0cmllcyBhcnJheSBvZiBnZW9tZXRyaWVzIHRvIG1lcmdlXG4gKiBAcmV0dXJucyB7UElYSS5HZW9tZXRyeX0gc2hpbnkgbmV3IGdlb21ldHJ5IVxuICovXG5HZW9tZXRyeS5tZXJnZSA9IGZ1bmN0aW9uIG1lcmdlIChnZW9tZXRyaWVzKVxue1xuICAgIC8vIHRvZG8gYWRkIGEgZ2VvbWV0cnkgY2hlY2shXG4gICAgLy8gYWxzbyBhIHNpemUgY2hlY2suLiBjYW50IGJlIHRvbyBiaWchXVxuXG4gICAgdmFyIGdlb21ldHJ5T3V0ID0gbmV3IEdlb21ldHJ5KCk7XG5cbiAgICB2YXIgYXJyYXlzID0gW107XG4gICAgdmFyIHNpemVzID0gW107XG4gICAgdmFyIG9mZnNldHMgPSBbXTtcblxuICAgIHZhciBnZW9tZXRyeTtcblxuICAgIC8vIHBhc3Mgb25lLi4gZ2V0IHNpemVzLi5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdlb21ldHJpZXMubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgICBnZW9tZXRyeSA9IGdlb21ldHJpZXNbaV07XG5cbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBnZW9tZXRyeS5idWZmZXJzLmxlbmd0aDsgaisrKVxuICAgICAgICB7XG4gICAgICAgICAgICBzaXplc1tqXSA9IHNpemVzW2pdIHx8IDA7XG4gICAgICAgICAgICBzaXplc1tqXSArPSBnZW9tZXRyeS5idWZmZXJzW2pdLmRhdGEubGVuZ3RoO1xuICAgICAgICAgICAgb2Zmc2V0c1tqXSA9IDA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBidWlsZCB0aGUgY29ycmVjdCBzaXplIGFycmF5cy4uXG4gICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgZ2VvbWV0cnkuYnVmZmVycy5sZW5ndGg7IGkkMSsrKVxuICAgIHtcbiAgICAgICAgLy8gVE9ETyB0eXBlcyFcbiAgICAgICAgYXJyYXlzW2kkMV0gPSBuZXcgbWFwJDFbZ2V0QnVmZmVyVHlwZShnZW9tZXRyeS5idWZmZXJzW2kkMV0uZGF0YSldKHNpemVzW2kkMV0pO1xuICAgICAgICBnZW9tZXRyeU91dC5idWZmZXJzW2kkMV0gPSBuZXcgQnVmZmVyKGFycmF5c1tpJDFdKTtcbiAgICB9XG5cbiAgICAvLyBwYXNzIHRvIHNldCBkYXRhLi5cbiAgICBmb3IgKHZhciBpJDIgPSAwOyBpJDIgPCBnZW9tZXRyaWVzLmxlbmd0aDsgaSQyKyspXG4gICAge1xuICAgICAgICBnZW9tZXRyeSA9IGdlb21ldHJpZXNbaSQyXTtcblxuICAgICAgICBmb3IgKHZhciBqJDEgPSAwOyBqJDEgPCBnZW9tZXRyeS5idWZmZXJzLmxlbmd0aDsgaiQxKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGFycmF5c1tqJDFdLnNldChnZW9tZXRyeS5idWZmZXJzW2okMV0uZGF0YSwgb2Zmc2V0c1tqJDFdKTtcbiAgICAgICAgICAgIG9mZnNldHNbaiQxXSArPSBnZW9tZXRyeS5idWZmZXJzW2okMV0uZGF0YS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZW9tZXRyeU91dC5hdHRyaWJ1dGVzID0gZ2VvbWV0cnkuYXR0cmlidXRlcztcblxuICAgIGlmIChnZW9tZXRyeS5pbmRleEJ1ZmZlcilcbiAgICB7XG4gICAgICAgIGdlb21ldHJ5T3V0LmluZGV4QnVmZmVyID0gZ2VvbWV0cnlPdXQuYnVmZmVyc1tnZW9tZXRyeS5idWZmZXJzLmluZGV4T2YoZ2VvbWV0cnkuaW5kZXhCdWZmZXIpXTtcbiAgICAgICAgZ2VvbWV0cnlPdXQuaW5kZXhCdWZmZXIuaW5kZXggPSB0cnVlO1xuXG4gICAgICAgIHZhciBvZmZzZXQgPSAwO1xuICAgICAgICB2YXIgc3RyaWRlID0gMDtcbiAgICAgICAgdmFyIG9mZnNldDIgPSAwO1xuICAgICAgICB2YXIgYnVmZmVySW5kZXhUb0NvdW50ID0gMDtcblxuICAgICAgICAvLyBnZXQgYSBidWZmZXJcbiAgICAgICAgZm9yICh2YXIgaSQzID0gMDsgaSQzIDwgZ2VvbWV0cnkuYnVmZmVycy5sZW5ndGg7IGkkMysrKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoZ2VvbWV0cnkuYnVmZmVyc1tpJDNdICE9PSBnZW9tZXRyeS5pbmRleEJ1ZmZlcilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBidWZmZXJJbmRleFRvQ291bnQgPSBpJDM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBmaWd1cmUgb3V0IHRoZSBzdHJpZGUgb2Ygb25lIGJ1ZmZlci4uXG4gICAgICAgIGZvciAodmFyIGkkNCBpbiBnZW9tZXRyeS5hdHRyaWJ1dGVzKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgYXR0cmlidXRlID0gZ2VvbWV0cnkuYXR0cmlidXRlc1tpJDRdO1xuXG4gICAgICAgICAgICBpZiAoKGF0dHJpYnV0ZS5idWZmZXIgfCAwKSA9PT0gYnVmZmVySW5kZXhUb0NvdW50KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmlkZSArPSAoKGF0dHJpYnV0ZS5zaXplICogYnl0ZVNpemVNYXBbYXR0cmlidXRlLnR5cGVdKSAvIDQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gdGltZSB0byBvZmYgc2V0IGFsbCBpbmRleGVzLi5cbiAgICAgICAgZm9yICh2YXIgaSQ1ID0gMDsgaSQ1IDwgZ2VvbWV0cmllcy5sZW5ndGg7IGkkNSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgaW5kZXhCdWZmZXJEYXRhID0gZ2VvbWV0cmllc1tpJDVdLmluZGV4QnVmZmVyLmRhdGE7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGokMiA9IDA7IGokMiA8IGluZGV4QnVmZmVyRGF0YS5sZW5ndGg7IGokMisrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGdlb21ldHJ5T3V0LmluZGV4QnVmZmVyLmRhdGFbaiQyICsgb2Zmc2V0Ml0gKz0gb2Zmc2V0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvZmZzZXQgKz0gZ2VvbWV0cnkuYnVmZmVyc1tidWZmZXJJbmRleFRvQ291bnRdLmRhdGEubGVuZ3RoIC8gKHN0cmlkZSk7XG4gICAgICAgICAgICBvZmZzZXQyICs9IGluZGV4QnVmZmVyRGF0YS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZ2VvbWV0cnlPdXQ7XG59O1xuXG4vKipcbiAqIEhlbHBlciBjbGFzcyB0byBjcmVhdGUgYSBxdWFkXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUXVhZCA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEdlb21ldHJ5KSB7XG4gICAgZnVuY3Rpb24gUXVhZCgpXG4gICAge1xuICAgICAgICBHZW9tZXRyeS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuYWRkQXR0cmlidXRlKCdhVmVydGV4UG9zaXRpb24nLCBbXG4gICAgICAgICAgICAwLCAwLFxuICAgICAgICAgICAgMSwgMCxcbiAgICAgICAgICAgIDEsIDEsXG4gICAgICAgICAgICAwLCAxIF0pXG4gICAgICAgICAgICAuYWRkSW5kZXgoWzAsIDEsIDMsIDJdKTtcbiAgICB9XG5cbiAgICBpZiAoIEdlb21ldHJ5ICkgUXVhZC5fX3Byb3RvX18gPSBHZW9tZXRyeTtcbiAgICBRdWFkLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEdlb21ldHJ5ICYmIEdlb21ldHJ5LnByb3RvdHlwZSApO1xuICAgIFF1YWQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUXVhZDtcblxuICAgIHJldHVybiBRdWFkO1xufShHZW9tZXRyeSkpO1xuXG4vKipcbiAqIEhlbHBlciBjbGFzcyB0byBjcmVhdGUgYSBxdWFkIHdpdGggdXZzIGxpa2UgaW4gdjRcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLkdlb21ldHJ5XG4gKi9cbnZhciBRdWFkVXYgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChHZW9tZXRyeSkge1xuICAgIGZ1bmN0aW9uIFF1YWRVdigpXG4gICAge1xuICAgICAgICBHZW9tZXRyeS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBhcnJheSBvZiB2ZXJ0aWNlc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZlcnRpY2VzID0gbmV3IEZsb2F0MzJBcnJheShbXG4gICAgICAgICAgICAtMSwgLTEsXG4gICAgICAgICAgICAxLCAtMSxcbiAgICAgICAgICAgIDEsIDEsXG4gICAgICAgICAgICAtMSwgMSBdKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFV2cyBvZiB0aGUgcXVhZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnV2cyA9IG5ldyBGbG9hdDMyQXJyYXkoW1xuICAgICAgICAgICAgMCwgMCxcbiAgICAgICAgICAgIDEsIDAsXG4gICAgICAgICAgICAxLCAxLFxuICAgICAgICAgICAgMCwgMSBdKTtcblxuICAgICAgICB0aGlzLnZlcnRleEJ1ZmZlciA9IG5ldyBCdWZmZXIodGhpcy52ZXJ0aWNlcyk7XG4gICAgICAgIHRoaXMudXZCdWZmZXIgPSBuZXcgQnVmZmVyKHRoaXMudXZzKTtcblxuICAgICAgICB0aGlzLmFkZEF0dHJpYnV0ZSgnYVZlcnRleFBvc2l0aW9uJywgdGhpcy52ZXJ0ZXhCdWZmZXIpXG4gICAgICAgICAgICAuYWRkQXR0cmlidXRlKCdhVGV4dHVyZUNvb3JkJywgdGhpcy51dkJ1ZmZlcilcbiAgICAgICAgICAgIC5hZGRJbmRleChbMCwgMSwgMiwgMCwgMiwgM10pO1xuICAgIH1cblxuICAgIGlmICggR2VvbWV0cnkgKSBRdWFkVXYuX19wcm90b19fID0gR2VvbWV0cnk7XG4gICAgUXVhZFV2LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEdlb21ldHJ5ICYmIEdlb21ldHJ5LnByb3RvdHlwZSApO1xuICAgIFF1YWRVdi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBRdWFkVXY7XG5cbiAgICAvKipcbiAgICAgKiBNYXBzIHR3byBSZWN0YW5nbGUgdG8gdGhlIHF1YWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSB0YXJnZXRUZXh0dXJlRnJhbWUgLSB0aGUgZmlyc3QgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gZGVzdGluYXRpb25GcmFtZSAtIHRoZSBzZWNvbmQgcmVjdGFuZ2xlXG4gICAgICogQHJldHVybiB7UElYSS5RdWFkfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBRdWFkVXYucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIG1hcCAodGFyZ2V0VGV4dHVyZUZyYW1lLCBkZXN0aW5hdGlvbkZyYW1lKVxuICAgIHtcbiAgICAgICAgdmFyIHggPSAwOyAvLyBkZXN0aW5hdGlvbkZyYW1lLnggLyB0YXJnZXRUZXh0dXJlRnJhbWUud2lkdGg7XG4gICAgICAgIHZhciB5ID0gMDsgLy8gZGVzdGluYXRpb25GcmFtZS55IC8gdGFyZ2V0VGV4dHVyZUZyYW1lLmhlaWdodDtcblxuICAgICAgICB0aGlzLnV2c1swXSA9IHg7XG4gICAgICAgIHRoaXMudXZzWzFdID0geTtcblxuICAgICAgICB0aGlzLnV2c1syXSA9IHggKyAoZGVzdGluYXRpb25GcmFtZS53aWR0aCAvIHRhcmdldFRleHR1cmVGcmFtZS53aWR0aCk7XG4gICAgICAgIHRoaXMudXZzWzNdID0geTtcblxuICAgICAgICB0aGlzLnV2c1s0XSA9IHggKyAoZGVzdGluYXRpb25GcmFtZS53aWR0aCAvIHRhcmdldFRleHR1cmVGcmFtZS53aWR0aCk7XG4gICAgICAgIHRoaXMudXZzWzVdID0geSArIChkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAvIHRhcmdldFRleHR1cmVGcmFtZS5oZWlnaHQpO1xuXG4gICAgICAgIHRoaXMudXZzWzZdID0geDtcbiAgICAgICAgdGhpcy51dnNbN10gPSB5ICsgKGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0IC8gdGFyZ2V0VGV4dHVyZUZyYW1lLmhlaWdodCk7XG5cbiAgICAgICAgeCA9IGRlc3RpbmF0aW9uRnJhbWUueDtcbiAgICAgICAgeSA9IGRlc3RpbmF0aW9uRnJhbWUueTtcblxuICAgICAgICB0aGlzLnZlcnRpY2VzWzBdID0geDtcbiAgICAgICAgdGhpcy52ZXJ0aWNlc1sxXSA9IHk7XG5cbiAgICAgICAgdGhpcy52ZXJ0aWNlc1syXSA9IHggKyBkZXN0aW5hdGlvbkZyYW1lLndpZHRoO1xuICAgICAgICB0aGlzLnZlcnRpY2VzWzNdID0geTtcblxuICAgICAgICB0aGlzLnZlcnRpY2VzWzRdID0geCArIGRlc3RpbmF0aW9uRnJhbWUud2lkdGg7XG4gICAgICAgIHRoaXMudmVydGljZXNbNV0gPSB5ICsgZGVzdGluYXRpb25GcmFtZS5oZWlnaHQ7XG5cbiAgICAgICAgdGhpcy52ZXJ0aWNlc1s2XSA9IHg7XG4gICAgICAgIHRoaXMudmVydGljZXNbN10gPSB5ICsgZGVzdGluYXRpb25GcmFtZS5oZWlnaHQ7XG5cbiAgICAgICAgdGhpcy5pbnZhbGlkYXRlKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIGxlZ2FjeSB1cGxvYWQgbWV0aG9kLCBqdXN0IG1hcmtzIGJ1ZmZlcnMgZGlydHlcbiAgICAgKiBAcmV0dXJucyB7UElYSS5RdWFkVXZ9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIFF1YWRVdi5wcm90b3R5cGUuaW52YWxpZGF0ZSA9IGZ1bmN0aW9uIGludmFsaWRhdGUgKClcbiAgICB7XG4gICAgICAgIHRoaXMudmVydGV4QnVmZmVyLl91cGRhdGVJRCsrO1xuICAgICAgICB0aGlzLnV2QnVmZmVyLl91cGRhdGVJRCsrO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICByZXR1cm4gUXVhZFV2O1xufShHZW9tZXRyeSkpO1xuXG52YXIgVUlEJDIgPSAwO1xuXG4vKipcbiAqIFVuaWZvcm0gZ3JvdXAgaG9sZHMgdW5pZm9ybSBtYXAgYW5kIHNvbWUgSUQncyBmb3Igd29ya1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFVuaWZvcm1Hcm91cCA9IGZ1bmN0aW9uIFVuaWZvcm1Hcm91cCh1bmlmb3JtcywgX3N0YXRpYylcbntcbiAgICAvKipcbiAgICAgKiB1bmlmb3JtIHZhbHVlc1xuICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICB0aGlzLnVuaWZvcm1zID0gdW5pZm9ybXM7XG5cbiAgICAvKipcbiAgICAgKiBJdHMgYSBncm91cCBhbmQgbm90IGEgc2luZ2xlIHVuaWZvcm1zXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICovXG4gICAgdGhpcy5ncm91cCA9IHRydWU7XG5cbiAgICAvLyBsZXRzIGdlbmVyYXRlIHRoaXMgd2hlbiB0aGUgc2hhZGVyID9cbiAgICB0aGlzLnN5bmNVbmlmb3JtcyA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogZGlydHkgdmVyc2lvblxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5kaXJ0eUlkID0gMDtcblxuICAgIC8qKlxuICAgICAqIHVuaXF1ZSBpZFxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5pZCA9IFVJRCQyKys7XG5cbiAgICAvKipcbiAgICAgKiBVbmlmb3JtcyB3b250IGJlIGNoYW5nZWQgYWZ0ZXIgY3JlYXRpb25cbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuc3RhdGljID0gISFfc3RhdGljO1xufTtcblxuVW5pZm9ybUdyb3VwLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUgKClcbntcbiAgICB0aGlzLmRpcnR5SWQrKztcbn07XG5cblVuaWZvcm1Hcm91cC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gYWRkIChuYW1lLCB1bmlmb3JtcywgX3N0YXRpYylcbntcbiAgICB0aGlzLnVuaWZvcm1zW25hbWVdID0gbmV3IFVuaWZvcm1Hcm91cCh1bmlmb3JtcywgX3N0YXRpYyk7XG59O1xuXG5Vbmlmb3JtR3JvdXAuZnJvbSA9IGZ1bmN0aW9uIGZyb20gKHVuaWZvcm1zLCBfc3RhdGljKVxue1xuICAgIHJldHVybiBuZXcgVW5pZm9ybUdyb3VwKHVuaWZvcm1zLCBfc3RhdGljKTtcbn07XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIGZpbHRlciBzdGF0ZXMuXG4gKlxuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgRmlsdGVyU3RhdGUgPSBmdW5jdGlvbiBGaWx0ZXJTdGF0ZSgpXG57XG4gICAgdGhpcy5yZW5kZXJUZXh0dXJlID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRhcmdldCBvZiB0aGUgZmlsdGVyc1xuICAgICAqIFdlIHN0b3JlIGZvciBjYXNlIHdoZW4gY3VzdG9tIGZpbHRlciB3YW50cyB0byBrbm93IHRoZSBlbGVtZW50IGl0IHdhcyBhcHBsaWVkIG9uXG4gICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy50YXJnZXQgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQ29tcGF0aWJpbGl0eSB3aXRoIFBpeGlKUyB2NCBmaWx0ZXJzXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5sZWdhY3kgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFJlc29sdXRpb24gb2YgZmlsdGVyc1xuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnJlc29sdXRpb24gPSAxO1xuXG4gICAgLy8gbmV4dCB0aHJlZSBmaWVsZHMgYXJlIGNyZWF0ZWQgb25seSBmb3Igcm9vdFxuICAgIC8vIHJlLWFzc2lnbmVkIGZvciBldmVyeXRoaW5nIGVsc2VcblxuICAgIC8qKlxuICAgICAqIFNvdXJjZSBmcmFtZVxuICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5zb3VyY2VGcmFtZSA9IG5ldyBSZWN0YW5nbGUoKTtcblxuICAgIC8qKlxuICAgICAqIERlc3RpbmF0aW9uIGZyYW1lXG4gICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmRlc3RpbmF0aW9uRnJhbWUgPSBuZXcgUmVjdGFuZ2xlKCk7XG5cbiAgICAvKipcbiAgICAgKiBDb2xsZWN0aW9uIG9mIGZpbHRlcnNcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkZpbHRlcltdfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5maWx0ZXJzID0gW107XG59O1xuXG4vKipcbiAqIGNsZWFycyB0aGUgc3RhdGVcbiAqIEBwcml2YXRlXG4gKi9cbkZpbHRlclN0YXRlLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyICgpXG57XG4gICAgdGhpcy50YXJnZXQgPSBudWxsO1xuICAgIHRoaXMuZmlsdGVycyA9IG51bGw7XG4gICAgdGhpcy5yZW5kZXJUZXh0dXJlID0gbnVsbDtcbn07XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIHRoZSBmaWx0ZXJzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqL1xudmFyIEZpbHRlclN5c3RlbSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFN5c3RlbSkge1xuICAgIGZ1bmN0aW9uIEZpbHRlclN5c3RlbShyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIFN5c3RlbS5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTGlzdCBvZiBmaWx0ZXJzIGZvciB0aGUgRmlsdGVyU3lzdGVtXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdFtdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVmYXVsdEZpbHRlclN0YWNrID0gW3t9XTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogc3RvcmVzIGEgYnVuY2ggb2YgUE8yIHRleHR1cmVzIHVzZWQgZm9yIGZpbHRlcmluZ1xuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRleHR1cmVQb29sID0gbmV3IFJlbmRlclRleHR1cmVQb29sKCk7XG5cbiAgICAgICAgdGhpcy50ZXh0dXJlUG9vbC5zZXRTY3JlZW5TaXplKHJlbmRlcmVyLnZpZXcpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhIHBvb2wgZm9yIHN0b3JpbmcgZmlsdGVyIHN0YXRlcywgc2F2ZSB1cyBjcmVhdGluZyBuZXcgb25lcyBlYWNoIHRpY2tcbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0W119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YXRlUG9vbCA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHZlcnkgc2ltcGxlIGdlb21ldHJ5IHVzZWQgd2hlbiBkcmF3aW5nIGEgZmlsdGVyIGVmZmVjdCB0byB0aGUgc2NyZWVuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUXVhZH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucXVhZCA9IG5ldyBRdWFkKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFF1YWQgVVZzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUXVhZFV2fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5xdWFkVXYgPSBuZXcgUXVhZFV2KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRlbXBvcmFyeSByZWN0IGZvciBtYXRoc1xuICAgICAgICAgKiBAdHlwZSB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRlbXBSZWN0ID0gbmV3IFJlY3RhbmdsZSgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBY3RpdmUgc3RhdGVcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hY3RpdmVTdGF0ZSA9IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHVuaWZvcm0gZ3JvdXAgaXMgYXR0YWNoZWQgdG8gZmlsdGVyIHVuaWZvcm1zIHdoZW4gdXNlZFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlVuaWZvcm1Hcm91cH1cbiAgICAgICAgICogQHByb3BlcnR5IHtQSVhJLlJlY3RhbmdsZX0gb3V0cHV0RnJhbWVcbiAgICAgICAgICogQHByb3BlcnR5IHtGbG9hdDMyQXJyYXl9IGlucHV0U2l6ZVxuICAgICAgICAgKiBAcHJvcGVydHkge0Zsb2F0MzJBcnJheX0gaW5wdXRQaXhlbFxuICAgICAgICAgKiBAcHJvcGVydHkge0Zsb2F0MzJBcnJheX0gaW5wdXRDbGFtcFxuICAgICAgICAgKiBAcHJvcGVydHkge051bWJlcn0gcmVzb2x1dGlvblxuICAgICAgICAgKiBAcHJvcGVydHkge0Zsb2F0MzJBcnJheX0gZmlsdGVyQXJlYVxuICAgICAgICAgKiBAcHJvcGVydHkge0Zsb2FkMzJBcnJheX0gZmlsdGVyQ2xhbXBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2xvYmFsVW5pZm9ybXMgPSBuZXcgVW5pZm9ybUdyb3VwKHtcbiAgICAgICAgICAgIG91dHB1dEZyYW1lOiB0aGlzLnRlbXBSZWN0LFxuICAgICAgICAgICAgaW5wdXRTaXplOiBuZXcgRmxvYXQzMkFycmF5KDQpLFxuICAgICAgICAgICAgaW5wdXRQaXhlbDogbmV3IEZsb2F0MzJBcnJheSg0KSxcbiAgICAgICAgICAgIGlucHV0Q2xhbXA6IG5ldyBGbG9hdDMyQXJyYXkoNCksXG4gICAgICAgICAgICByZXNvbHV0aW9uOiAxLFxuXG4gICAgICAgICAgICAvLyBsZWdhY3kgdmFyaWFibGVzXG4gICAgICAgICAgICBmaWx0ZXJBcmVhOiBuZXcgRmxvYXQzMkFycmF5KDQpLFxuICAgICAgICAgICAgZmlsdGVyQ2xhbXA6IG5ldyBGbG9hdDMyQXJyYXkoNCksXG4gICAgICAgIH0sIHRydWUpO1xuXG4gICAgICAgIHRoaXMuX3BpeGVsc1dpZHRoID0gcmVuZGVyZXIudmlldy53aWR0aDtcbiAgICAgICAgdGhpcy5fcGl4ZWxzSGVpZ2h0ID0gcmVuZGVyZXIudmlldy5oZWlnaHQ7XG4gICAgfVxuXG4gICAgaWYgKCBTeXN0ZW0gKSBGaWx0ZXJTeXN0ZW0uX19wcm90b19fID0gU3lzdGVtO1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBTeXN0ZW0gJiYgU3lzdGVtLnByb3RvdHlwZSApO1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBGaWx0ZXJTeXN0ZW07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgbmV3IGZpbHRlciB0byB0aGUgU3lzdGVtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IHRhcmdldCAtIFRoZSB0YXJnZXQgb2YgdGhlIGZpbHRlciB0byByZW5kZXIuXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbHRlcltdfSBmaWx0ZXJzIC0gVGhlIGZpbHRlcnMgdG8gYXBwbHkuXG4gICAgICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gcHVzaCAodGFyZ2V0LCBmaWx0ZXJzKVxuICAgIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIGZpbHRlclN0YWNrID0gdGhpcy5kZWZhdWx0RmlsdGVyU3RhY2s7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGVQb29sLnBvcCgpIHx8IG5ldyBGaWx0ZXJTdGF0ZSgpO1xuXG4gICAgICAgIHZhciByZXNvbHV0aW9uID0gZmlsdGVyc1swXS5yZXNvbHV0aW9uO1xuICAgICAgICB2YXIgcGFkZGluZyA9IGZpbHRlcnNbMF0ucGFkZGluZztcbiAgICAgICAgdmFyIGF1dG9GaXQgPSBmaWx0ZXJzWzBdLmF1dG9GaXQ7XG4gICAgICAgIHZhciBsZWdhY3kgPSBmaWx0ZXJzWzBdLmxlZ2FjeTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGZpbHRlcnMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBmaWx0ZXIgPSAgZmlsdGVyc1tpXTtcblxuICAgICAgICAgICAgLy8gbGV0cyB1c2UgdGhlIGxvd2VzdCByZXNvbHV0aW9uLi5cbiAgICAgICAgICAgIHJlc29sdXRpb24gPSBNYXRoLm1pbihyZXNvbHV0aW9uLCBmaWx0ZXIucmVzb2x1dGlvbik7XG4gICAgICAgICAgICAvLyBhbmQgdGhlIGxhcmdlc3QgYW1vdW50IG9mIHBhZGRpbmchXG4gICAgICAgICAgICBwYWRkaW5nID0gTWF0aC5tYXgocGFkZGluZywgZmlsdGVyLnBhZGRpbmcpO1xuICAgICAgICAgICAgLy8gb25seSBhdXRvIGZpdCBpZiBhbGwgZmlsdGVycyBhcmUgYXV0b2ZpdFxuICAgICAgICAgICAgYXV0b0ZpdCA9IGF1dG9GaXQgfHwgZmlsdGVyLmF1dG9GaXQ7XG5cbiAgICAgICAgICAgIGxlZ2FjeSA9IGxlZ2FjeSB8fCBmaWx0ZXIubGVnYWN5O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZpbHRlclN0YWNrLmxlbmd0aCA9PT0gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kZWZhdWx0RmlsdGVyU3RhY2tbMF0ucmVuZGVyVGV4dHVyZSA9IHJlbmRlcmVyLnJlbmRlclRleHR1cmUuY3VycmVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZpbHRlclN0YWNrLnB1c2goc3RhdGUpO1xuXG4gICAgICAgIHN0YXRlLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuXG4gICAgICAgIHN0YXRlLmxlZ2FjeSA9IGxlZ2FjeTtcblxuICAgICAgICBzdGF0ZS50YXJnZXQgPSB0YXJnZXQ7XG5cbiAgICAgICAgc3RhdGUuc291cmNlRnJhbWUuY29weUZyb20odGFyZ2V0LmZpbHRlckFyZWEgfHwgdGFyZ2V0LmdldEJvdW5kcyh0cnVlKSk7XG5cbiAgICAgICAgc3RhdGUuc291cmNlRnJhbWUucGFkKHBhZGRpbmcpO1xuICAgICAgICBpZiAoYXV0b0ZpdClcbiAgICAgICAge1xuICAgICAgICAgICAgc3RhdGUuc291cmNlRnJhbWUuZml0KHRoaXMucmVuZGVyZXIucmVuZGVyVGV4dHVyZS5zb3VyY2VGcmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByb3VuZCB0byB3aG9sZSBudW1iZXIgYmFzZWQgb24gcmVzb2x1dGlvblxuICAgICAgICBzdGF0ZS5zb3VyY2VGcmFtZS5jZWlsKHJlc29sdXRpb24pO1xuXG4gICAgICAgIHN0YXRlLnJlbmRlclRleHR1cmUgPSB0aGlzLmdldE9wdGltYWxGaWx0ZXJUZXh0dXJlKHN0YXRlLnNvdXJjZUZyYW1lLndpZHRoLCBzdGF0ZS5zb3VyY2VGcmFtZS5oZWlnaHQsIHJlc29sdXRpb24pO1xuICAgICAgICBzdGF0ZS5maWx0ZXJzID0gZmlsdGVycztcblxuICAgICAgICBzdGF0ZS5kZXN0aW5hdGlvbkZyYW1lLndpZHRoID0gc3RhdGUucmVuZGVyVGV4dHVyZS53aWR0aDtcbiAgICAgICAgc3RhdGUuZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgPSBzdGF0ZS5yZW5kZXJUZXh0dXJlLmhlaWdodDtcblxuICAgICAgICBzdGF0ZS5yZW5kZXJUZXh0dXJlLmZpbHRlckZyYW1lID0gc3RhdGUuc291cmNlRnJhbWU7XG5cbiAgICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKHN0YXRlLnJlbmRlclRleHR1cmUsIHN0YXRlLnNvdXJjZUZyYW1lKTsvLyAvLCBzdGF0ZS5kZXN0aW5hdGlvbkZyYW1lKTtcbiAgICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5jbGVhcigpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQb3BzIG9mZiB0aGUgZmlsdGVyIGFuZCBhcHBsaWVzIGl0LlxuICAgICAqXG4gICAgICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS5wb3AgPSBmdW5jdGlvbiBwb3AgKClcbiAgICB7XG4gICAgICAgIHZhciBmaWx0ZXJTdGFjayA9IHRoaXMuZGVmYXVsdEZpbHRlclN0YWNrO1xuICAgICAgICB2YXIgc3RhdGUgPSBmaWx0ZXJTdGFjay5wb3AoKTtcbiAgICAgICAgdmFyIGZpbHRlcnMgPSBzdGF0ZS5maWx0ZXJzO1xuXG4gICAgICAgIHRoaXMuYWN0aXZlU3RhdGUgPSBzdGF0ZTtcblxuICAgICAgICB2YXIgZ2xvYmFsVW5pZm9ybXMgPSB0aGlzLmdsb2JhbFVuaWZvcm1zLnVuaWZvcm1zO1xuXG4gICAgICAgIGdsb2JhbFVuaWZvcm1zLm91dHB1dEZyYW1lID0gc3RhdGUuc291cmNlRnJhbWU7XG4gICAgICAgIGdsb2JhbFVuaWZvcm1zLnJlc29sdXRpb24gPSBzdGF0ZS5yZXNvbHV0aW9uO1xuXG4gICAgICAgIHZhciBpbnB1dFNpemUgPSBnbG9iYWxVbmlmb3Jtcy5pbnB1dFNpemU7XG4gICAgICAgIHZhciBpbnB1dFBpeGVsID0gZ2xvYmFsVW5pZm9ybXMuaW5wdXRQaXhlbDtcbiAgICAgICAgdmFyIGlucHV0Q2xhbXAgPSBnbG9iYWxVbmlmb3Jtcy5pbnB1dENsYW1wO1xuXG4gICAgICAgIGlucHV0U2l6ZVswXSA9IHN0YXRlLmRlc3RpbmF0aW9uRnJhbWUud2lkdGg7XG4gICAgICAgIGlucHV0U2l6ZVsxXSA9IHN0YXRlLmRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0O1xuICAgICAgICBpbnB1dFNpemVbMl0gPSAxLjAgLyBpbnB1dFNpemVbMF07XG4gICAgICAgIGlucHV0U2l6ZVszXSA9IDEuMCAvIGlucHV0U2l6ZVsxXTtcblxuICAgICAgICBpbnB1dFBpeGVsWzBdID0gaW5wdXRTaXplWzBdICogc3RhdGUucmVzb2x1dGlvbjtcbiAgICAgICAgaW5wdXRQaXhlbFsxXSA9IGlucHV0U2l6ZVsxXSAqIHN0YXRlLnJlc29sdXRpb247XG4gICAgICAgIGlucHV0UGl4ZWxbMl0gPSAxLjAgLyBpbnB1dFBpeGVsWzBdO1xuICAgICAgICBpbnB1dFBpeGVsWzNdID0gMS4wIC8gaW5wdXRQaXhlbFsxXTtcblxuICAgICAgICBpbnB1dENsYW1wWzBdID0gMC41ICogaW5wdXRQaXhlbFsyXTtcbiAgICAgICAgaW5wdXRDbGFtcFsxXSA9IDAuNSAqIGlucHV0UGl4ZWxbM107XG4gICAgICAgIGlucHV0Q2xhbXBbMl0gPSAoc3RhdGUuc291cmNlRnJhbWUud2lkdGggKiBpbnB1dFNpemVbMl0pIC0gKDAuNSAqIGlucHV0UGl4ZWxbMl0pO1xuICAgICAgICBpbnB1dENsYW1wWzNdID0gKHN0YXRlLnNvdXJjZUZyYW1lLmhlaWdodCAqIGlucHV0U2l6ZVszXSkgLSAoMC41ICogaW5wdXRQaXhlbFszXSk7XG5cbiAgICAgICAgLy8gb25seSB1cGRhdGUgdGhlIHJlY3QgaWYgaXRzIGxlZ2FjeS4uXG4gICAgICAgIGlmIChzdGF0ZS5sZWdhY3kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBmaWx0ZXJBcmVhID0gZ2xvYmFsVW5pZm9ybXMuZmlsdGVyQXJlYTtcblxuICAgICAgICAgICAgZmlsdGVyQXJlYVswXSA9IHN0YXRlLmRlc3RpbmF0aW9uRnJhbWUud2lkdGg7XG4gICAgICAgICAgICBmaWx0ZXJBcmVhWzFdID0gc3RhdGUuZGVzdGluYXRpb25GcmFtZS5oZWlnaHQ7XG4gICAgICAgICAgICBmaWx0ZXJBcmVhWzJdID0gc3RhdGUuc291cmNlRnJhbWUueDtcbiAgICAgICAgICAgIGZpbHRlckFyZWFbM10gPSBzdGF0ZS5zb3VyY2VGcmFtZS55O1xuXG4gICAgICAgICAgICBnbG9iYWxVbmlmb3Jtcy5maWx0ZXJDbGFtcCA9IGdsb2JhbFVuaWZvcm1zLmlucHV0Q2xhbXA7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmdsb2JhbFVuaWZvcm1zLnVwZGF0ZSgpO1xuXG4gICAgICAgIHZhciBsYXN0U3RhdGUgPSBmaWx0ZXJTdGFja1tmaWx0ZXJTdGFjay5sZW5ndGggLSAxXTtcblxuICAgICAgICBpZiAoZmlsdGVycy5sZW5ndGggPT09IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZpbHRlcnNbMF0uYXBwbHkodGhpcywgc3RhdGUucmVuZGVyVGV4dHVyZSwgbGFzdFN0YXRlLnJlbmRlclRleHR1cmUsIGZhbHNlLCBzdGF0ZSk7XG5cbiAgICAgICAgICAgIHRoaXMucmV0dXJuRmlsdGVyVGV4dHVyZShzdGF0ZS5yZW5kZXJUZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBmbGlwID0gc3RhdGUucmVuZGVyVGV4dHVyZTtcbiAgICAgICAgICAgIHZhciBmbG9wID0gdGhpcy5nZXRPcHRpbWFsRmlsdGVyVGV4dHVyZShcbiAgICAgICAgICAgICAgICBmbGlwLndpZHRoLFxuICAgICAgICAgICAgICAgIGZsaXAuaGVpZ2h0LFxuICAgICAgICAgICAgICAgIHN0YXRlLnJlc29sdXRpb25cbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGZsb3AuZmlsdGVyRnJhbWUgPSBmbGlwLmZpbHRlckZyYW1lO1xuXG4gICAgICAgICAgICB2YXIgaSA9IDA7XG5cbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBmaWx0ZXJzLmxlbmd0aCAtIDE7ICsraSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmaWx0ZXJzW2ldLmFwcGx5KHRoaXMsIGZsaXAsIGZsb3AsIHRydWUsIHN0YXRlKTtcblxuICAgICAgICAgICAgICAgIHZhciB0ID0gZmxpcDtcblxuICAgICAgICAgICAgICAgIGZsaXAgPSBmbG9wO1xuICAgICAgICAgICAgICAgIGZsb3AgPSB0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmaWx0ZXJzW2ldLmFwcGx5KHRoaXMsIGZsaXAsIGxhc3RTdGF0ZS5yZW5kZXJUZXh0dXJlLCBmYWxzZSwgc3RhdGUpO1xuXG4gICAgICAgICAgICB0aGlzLnJldHVybkZpbHRlclRleHR1cmUoZmxpcCk7XG4gICAgICAgICAgICB0aGlzLnJldHVybkZpbHRlclRleHR1cmUoZmxvcCk7XG4gICAgICAgIH1cblxuICAgICAgICBzdGF0ZS5jbGVhcigpO1xuICAgICAgICB0aGlzLnN0YXRlUG9vbC5wdXNoKHN0YXRlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhd3MgYSBmaWx0ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsdGVyfSBmaWx0ZXIgLSBUaGUgZmlsdGVyIHRvIGRyYXcuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IGlucHV0IC0gVGhlIGlucHV0IHJlbmRlciB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IG91dHB1dCAtIFRoZSB0YXJnZXQgdG8gb3V0cHV0IHRvLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2xlYXIgLSBTaG91bGQgdGhlIG91dHB1dCBiZSBjbGVhcmVkIGJlZm9yZSByZW5kZXJpbmcgdG8gaXRcbiAgICAgKi9cbiAgICBGaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLmFwcGx5RmlsdGVyID0gZnVuY3Rpb24gYXBwbHlGaWx0ZXIgKGZpbHRlciwgaW5wdXQsIG91dHB1dCwgY2xlYXIpXG4gICAge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuXG4gICAgICAgIHJlbmRlcmVyLnJlbmRlclRleHR1cmUuYmluZChvdXRwdXQsIG91dHB1dCA/IG91dHB1dC5maWx0ZXJGcmFtZSA6IG51bGwpO1xuXG4gICAgICAgIGlmIChjbGVhcilcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gZ2wuZGlzYWJsZShnbC5TQ0lTU09SX1RFU1QpO1xuICAgICAgICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5jbGVhcigpO1xuICAgICAgICAgICAgLy8gZ2wuZW5hYmxlKGdsLlNDSVNTT1JfVEVTVCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzZXQgdGhlIHVuaWZvcm1zLi5cbiAgICAgICAgZmlsdGVyLnVuaWZvcm1zLnVTYW1wbGVyID0gaW5wdXQ7XG4gICAgICAgIGZpbHRlci51bmlmb3Jtcy5maWx0ZXJHbG9iYWxzID0gdGhpcy5nbG9iYWxVbmlmb3JtcztcblxuICAgICAgICAvLyBUT0RPIG1ha2UgaXQgc28gdGhhdCB0aGUgb3JkZXIgb2YgdGhpcyBkb2VzIG5vdCBtYXR0ZXIuLlxuICAgICAgICAvLyBiZWNhdXNlIGl0IGRvZXMgYXQgdGhlIG1vbWVudCBjb3Mgb2YgZ2xvYmFsIHVuaWZvcm1zLlxuICAgICAgICAvLyB0aGV5IG5lZWQgdG8gZ2V0IHJlc3luY2VkXG5cbiAgICAgICAgcmVuZGVyZXIuc3RhdGUuc2V0KGZpbHRlci5zdGF0ZSk7XG4gICAgICAgIHJlbmRlcmVyLnNoYWRlci5iaW5kKGZpbHRlcik7XG5cbiAgICAgICAgaWYgKGZpbHRlci5sZWdhY3kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucXVhZFV2Lm1hcChpbnB1dC5fZnJhbWUsIGlucHV0LmZpbHRlckZyYW1lKTtcblxuICAgICAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuYmluZCh0aGlzLnF1YWRVdik7XG4gICAgICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5kcmF3KERSQVdfTU9ERVMuVFJJQU5HTEVTKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmJpbmQodGhpcy5xdWFkKTtcbiAgICAgICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmRyYXcoRFJBV19NT0RFUy5UUklBTkdMRV9TVFJJUCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTXVsdGlwbHkgX2lucHV0IG5vcm1hbGl6ZWQgY29vcmRpbmF0ZXNfIHRvIHRoaXMgbWF0cml4IHRvIGdldCBfc3ByaXRlIHRleHR1cmUgbm9ybWFsaXplZCBjb29yZGluYXRlc18uXG4gICAgICpcbiAgICAgKiBVc2UgYG91dHB1dE1hdHJpeCAqIHZUZXh0dXJlQ29vcmRgIGluIHRoZSBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBvdXRwdXRNYXRyaXggLSBUaGUgbWF0cml4IHRvIG91dHB1dCB0by5cbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfSBzcHJpdGUgLSBUaGUgc3ByaXRlIHRvIG1hcCB0by5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhlIG1hcHBlZCBtYXRyaXguXG4gICAgICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS5jYWxjdWxhdGVTcHJpdGVNYXRyaXggPSBmdW5jdGlvbiBjYWxjdWxhdGVTcHJpdGVNYXRyaXggKG91dHB1dE1hdHJpeCwgc3ByaXRlKVxuICAgIHtcbiAgICAgICAgdmFyIHJlZiA9IHRoaXMuYWN0aXZlU3RhdGU7XG4gICAgICAgIHZhciBzb3VyY2VGcmFtZSA9IHJlZi5zb3VyY2VGcmFtZTtcbiAgICAgICAgdmFyIGRlc3RpbmF0aW9uRnJhbWUgPSByZWYuZGVzdGluYXRpb25GcmFtZTtcbiAgICAgICAgdmFyIHJlZiQxID0gc3ByaXRlLl90ZXh0dXJlO1xuICAgICAgICB2YXIgb3JpZyA9IHJlZiQxLm9yaWc7XG4gICAgICAgIHZhciBtYXBwZWRNYXRyaXggPSBvdXRwdXRNYXRyaXguc2V0KGRlc3RpbmF0aW9uRnJhbWUud2lkdGgsIDAsIDAsXG4gICAgICAgICAgICBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCwgc291cmNlRnJhbWUueCwgc291cmNlRnJhbWUueSk7XG4gICAgICAgIHZhciB3b3JsZFRyYW5zZm9ybSA9IHNwcml0ZS53b3JsZFRyYW5zZm9ybS5jb3B5VG8oTWF0cml4LlRFTVBfTUFUUklYKTtcblxuICAgICAgICB3b3JsZFRyYW5zZm9ybS5pbnZlcnQoKTtcbiAgICAgICAgbWFwcGVkTWF0cml4LnByZXBlbmQod29ybGRUcmFuc2Zvcm0pO1xuICAgICAgICBtYXBwZWRNYXRyaXguc2NhbGUoMS4wIC8gb3JpZy53aWR0aCwgMS4wIC8gb3JpZy5oZWlnaHQpO1xuICAgICAgICBtYXBwZWRNYXRyaXgudHJhbnNsYXRlKHNwcml0ZS5hbmNob3IueCwgc3ByaXRlLmFuY2hvci55KTtcblxuICAgICAgICByZXR1cm4gbWFwcGVkTWF0cml4O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIEZpbHRlciBTeXN0ZW0uXG4gICAgICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxuICAgIHtcbiAgICAgICAgLy8gVGhvc2UgdGV4dHVyZXMgaGFzIHRvIGJlIGRlc3Ryb3llZCBieSBSZW5kZXJUZXh0dXJlU3lzdGVtIG9yIEZyYW1lYnVmZmVyU3lzdGVtXG4gICAgICAgIHRoaXMudGV4dHVyZVBvb2wuY2xlYXIoZmFsc2UpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgUG93ZXItb2YtVHdvIHJlbmRlciB0ZXh0dXJlIG9yIGZ1bGxTY3JlZW4gdGV4dHVyZVxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5XaWR0aCAtIFRoZSBtaW5pbXVtIHdpZHRoIG9mIHRoZSByZW5kZXIgdGV4dHVyZSBpbiByZWFsIHBpeGVscy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWluSGVpZ2h0IC0gVGhlIG1pbmltdW0gaGVpZ2h0IG9mIHRoZSByZW5kZXIgdGV4dHVyZSBpbiByZWFsIHBpeGVscy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgcmVuZGVyIHRleHR1cmUuXG4gICAgICogQHJldHVybiB7UElYSS5SZW5kZXJUZXh0dXJlfSBUaGUgbmV3IHJlbmRlciB0ZXh0dXJlLlxuICAgICAqL1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUuZ2V0T3B0aW1hbEZpbHRlclRleHR1cmUgPSBmdW5jdGlvbiBnZXRPcHRpbWFsRmlsdGVyVGV4dHVyZSAobWluV2lkdGgsIG1pbkhlaWdodCwgcmVzb2x1dGlvbilcbiAgICB7XG4gICAgICAgIGlmICggcmVzb2x1dGlvbiA9PT0gdm9pZCAwICkgcmVzb2x1dGlvbiA9IDE7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dHVyZVBvb2wuZ2V0T3B0aW1hbFRleHR1cmUobWluV2lkdGgsIG1pbkhlaWdodCwgcmVzb2x1dGlvbik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgZXh0cmEgcmVuZGVyIHRleHR1cmUgdG8gdXNlIGluc2lkZSBjdXJyZW50IGZpbHRlclxuICAgICAqIFRvIGJlIGNvbXBsaWFudCB3aXRoIG9sZGVyIGZpbHRlcnMsIHlvdSBjYW4gdXNlIHBhcmFtcyBpbiBhbnkgb3JkZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBbaW5wdXRdIHJlbmRlclRleHR1cmUgZnJvbSB3aGljaCBzaXplIGFuZCByZXNvbHV0aW9uIHdpbGwgYmUgY29waWVkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uXSBvdmVycmlkZSByZXNvbHV0aW9uIG9mIHRoZSByZW5kZXJUZXh0dXJlXG4gICAgICogQHJldHVybnMge1BJWEkuUmVuZGVyVGV4dHVyZX1cbiAgICAgKi9cbiAgICBGaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLmdldEZpbHRlclRleHR1cmUgPSBmdW5jdGlvbiBnZXRGaWx0ZXJUZXh0dXJlIChpbnB1dCwgcmVzb2x1dGlvbilcbiAgICB7XG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdudW1iZXInKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgc3dhcCA9IGlucHV0O1xuXG4gICAgICAgICAgICBpbnB1dCA9IHJlc29sdXRpb247XG4gICAgICAgICAgICByZXNvbHV0aW9uID0gc3dhcDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlucHV0ID0gaW5wdXQgfHwgdGhpcy5hY3RpdmVTdGF0ZS5yZW5kZXJUZXh0dXJlO1xuXG4gICAgICAgIHZhciBmaWx0ZXJUZXh0dXJlID0gdGhpcy50ZXh0dXJlUG9vbC5nZXRPcHRpbWFsVGV4dHVyZShpbnB1dC53aWR0aCwgaW5wdXQuaGVpZ2h0LCByZXNvbHV0aW9uIHx8IGlucHV0LnJlc29sdXRpb24pO1xuXG4gICAgICAgIGZpbHRlclRleHR1cmUuZmlsdGVyRnJhbWUgPSBpbnB1dC5maWx0ZXJGcmFtZTtcblxuICAgICAgICByZXR1cm4gZmlsdGVyVGV4dHVyZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRnJlZXMgYSByZW5kZXIgdGV4dHVyZSBiYWNrIGludG8gdGhlIHBvb2wuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gcmVuZGVyVGV4dHVyZSAtIFRoZSByZW5kZXJUYXJnZXQgdG8gZnJlZVxuICAgICAqL1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUucmV0dXJuRmlsdGVyVGV4dHVyZSA9IGZ1bmN0aW9uIHJldHVybkZpbHRlclRleHR1cmUgKHJlbmRlclRleHR1cmUpXG4gICAge1xuICAgICAgICB0aGlzLnRleHR1cmVQb29sLnJldHVyblRleHR1cmUocmVuZGVyVGV4dHVyZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEVtcHRpZXMgdGhlIHRleHR1cmUgcG9vbC5cbiAgICAgKi9cbiAgICBGaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLmVtcHR5UG9vbCA9IGZ1bmN0aW9uIGVtcHR5UG9vbCAoKVxuICAgIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlUG9vbC5jbGVhcih0cnVlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogY2FsbHMgYHRleHR1cmVQb29sLnJlc2l6ZSgpYCwgYWZmZWN0cyBmdWxsU2NyZWVuIHJlbmRlclRleHR1cmVzXG4gICAgICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiByZXNpemUgKClcbiAgICB7XG4gICAgICAgIHRoaXMudGV4dHVyZVBvb2wuc2V0U2NyZWVuU2l6ZSh0aGlzLnJlbmRlcmVyLnZpZXcpO1xuICAgIH07XG5cbiAgICByZXR1cm4gRmlsdGVyU3lzdGVtO1xufShTeXN0ZW0pKTtcblxuLyoqXG4gKiBCYXNlIGZvciBhIGNvbW1vbiBvYmplY3QgcmVuZGVyZXIgdGhhdCBjYW4gYmUgdXNlZCBhcyBhXG4gKiBzeXN0ZW0gcmVuZGVyZXIgcGx1Z2luLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBPYmplY3RSZW5kZXJlciA9IGZ1bmN0aW9uIE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyKVxue1xuICAgIC8qKlxuICAgICAqIFRoZSByZW5kZXJlciB0aGlzIG1hbmFnZXIgd29ya3MgZm9yLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5SZW5kZXJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG59O1xuXG4vKipcbiAqIFN0dWIgbWV0aG9kIHRoYXQgc2hvdWxkIGJlIHVzZWQgdG8gZW1wdHkgdGhlIGN1cnJlbnRcbiAqIGJhdGNoIGJ5IHJlbmRlcmluZyBvYmplY3RzIG5vdy5cbiAqL1xuT2JqZWN0UmVuZGVyZXIucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gZmx1c2ggKClcbntcbiAgICAvLyBmbHVzaCFcbn07XG5cbi8qKlxuICogR2VuZXJpYyBkZXN0cnVjdGlvbiBtZXRob2QgdGhhdCBmcmVlcyBhbGwgcmVzb3VyY2VzLiBUaGlzXG4gKiBzaG91bGQgYmUgY2FsbGVkIGJ5IHN1YmNsYXNzZXMuXG4gKi9cbk9iamVjdFJlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxue1xuICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xufTtcblxuLyoqXG4gKiBTdHViIG1ldGhvZCB0aGF0IGluaXRpYWxpemVzIGFueSBzdGF0ZSByZXF1aXJlZCBiZWZvcmVcbiAqIHJlbmRlcmluZyBzdGFydHMuIEl0IGlzIGRpZmZlcmVudCBmcm9tIHRoZSBgcHJlcmVuZGVyYFxuICogc2lnbmFsLCB3aGljaCBvY2N1cnMgZXZlcnkgZnJhbWUsIGluIHRoYXQgaXQgaXMgY2FsbGVkXG4gKiB3aGVuZXZlciBhbiBvYmplY3QgcmVxdWVzdHMgX3RoaXNfIHJlbmRlcmVyIHNwZWNpZmljYWxseS5cbiAqL1xuT2JqZWN0UmVuZGVyZXIucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gc3RhcnQgKClcbntcbiAgICAvLyBzZXQgdGhlIHNoYWRlci4uXG59O1xuXG4vKipcbiAqIFN0b3BzIHRoZSByZW5kZXJlci4gSXQgc2hvdWxkIGZyZWUgdXAgYW55IHN0YXRlIGFuZFxuICogYmVjb21lIGRvcm1hbnQuXG4gKi9cbk9iamVjdFJlbmRlcmVyLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gc3RvcCAoKVxue1xuICAgIHRoaXMuZmx1c2goKTtcbn07XG5cbi8qKlxuICogS2VlcHMgdGhlIG9iamVjdCB0byByZW5kZXIuIEl0IGRvZXNuJ3QgaGF2ZSB0byBiZVxuICogcmVuZGVyZWQgaW1tZWRpYXRlbHkuXG4gKlxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IG9iamVjdCAtIFRoZSBvYmplY3QgdG8gcmVuZGVyLlxuICovXG5PYmplY3RSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyIChvYmplY3QpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbntcbiAgICAvLyByZW5kZXIgdGhlIG9iamVjdFxufTtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgYmF0Y2hpbmcuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICovXG52YXIgQmF0Y2hTeXN0ZW0gPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChTeXN0ZW0pIHtcbiAgICBmdW5jdGlvbiBCYXRjaFN5c3RlbShyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIFN5c3RlbS5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQW4gZW1wdHkgcmVuZGVyZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JqZWN0UmVuZGVyZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVtcHR5UmVuZGVyZXIgPSBuZXcgT2JqZWN0UmVuZGVyZXIocmVuZGVyZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudGx5IGFjdGl2ZSBPYmplY3RSZW5kZXJlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYmplY3RSZW5kZXJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3VycmVudFJlbmRlcmVyID0gdGhpcy5lbXB0eVJlbmRlcmVyO1xuICAgIH1cblxuICAgIGlmICggU3lzdGVtICkgQmF0Y2hTeXN0ZW0uX19wcm90b19fID0gU3lzdGVtO1xuICAgIEJhdGNoU3lzdGVtLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFN5c3RlbSAmJiBTeXN0ZW0ucHJvdG90eXBlICk7XG4gICAgQmF0Y2hTeXN0ZW0ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQmF0Y2hTeXN0ZW07XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBjdXJyZW50IHJlbmRlcmVyIHRvIHRoZSBvbmUgZ2l2ZW4gaW4gcGFyYW1ldGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuT2JqZWN0UmVuZGVyZXJ9IG9iamVjdFJlbmRlcmVyIC0gVGhlIG9iamVjdCByZW5kZXJlciB0byB1c2UuXG4gICAgICovXG4gICAgQmF0Y2hTeXN0ZW0ucHJvdG90eXBlLnNldE9iamVjdFJlbmRlcmVyID0gZnVuY3Rpb24gc2V0T2JqZWN0UmVuZGVyZXIgKG9iamVjdFJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFJlbmRlcmVyID09PSBvYmplY3RSZW5kZXJlcilcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jdXJyZW50UmVuZGVyZXIuc3RvcCgpO1xuICAgICAgICB0aGlzLmN1cnJlbnRSZW5kZXJlciA9IG9iamVjdFJlbmRlcmVyO1xuXG4gICAgICAgIHRoaXMuY3VycmVudFJlbmRlcmVyLnN0YXJ0KCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgc2hvdWxkIGJlIGNhbGxlZCBpZiB5b3Ugd2lzaCB0byBkbyBzb21lIGN1c3RvbSByZW5kZXJpbmdcbiAgICAgKiBJdCB3aWxsIGJhc2ljYWxseSByZW5kZXIgYW55dGhpbmcgdGhhdCBtYXkgYmUgYmF0Y2hlZCB1cCBzdWNoIGFzIHNwcml0ZXNcbiAgICAgKi9cbiAgICBCYXRjaFN5c3RlbS5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiBmbHVzaCAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5zZXRPYmplY3RSZW5kZXJlcih0aGlzLmVtcHR5UmVuZGVyZXIpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNldCB0aGUgc3lzdGVtIHRvIGFuIGVtcHR5IHJlbmRlcmVyXG4gICAgICovXG4gICAgQmF0Y2hTeXN0ZW0ucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQgKClcbiAgICB7XG4gICAgICAgIHRoaXMuc2V0T2JqZWN0UmVuZGVyZXIodGhpcy5lbXB0eVJlbmRlcmVyKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEJhdGNoU3lzdGVtO1xufShTeXN0ZW0pKTtcblxuLyoqXG4gKiBUaGUgbWF4aW11bSBzdXBwb3J0IGZvciB1c2luZyBXZWJHTC4gSWYgYSBkZXZpY2UgZG9lcyBub3RcbiAqIHN1cHBvcnQgV2ViR0wgdmVyc2lvbiwgZm9yIGluc3RhbmNlIFdlYkdMIDIsIGl0IHdpbGwgc3RpbGxcbiAqIGF0dGVtcHQgdG8gZmFsbGJhY2sgc3VwcG9ydCB0byBXZWJHTCAxLiBJZiB5b3Ugd2FudCB0b1xuICogZXhwbGljaXRseSByZW1vdmUgZmVhdHVyZSBzdXBwb3J0IHRvIHRhcmdldCBhIG1vcmUgc3RhYmxlXG4gKiBiYXNlbGluZSwgcHJlZmVyIGEgbG93ZXIgZW52aXJvbm1lbnQuXG4gKlxuICogRHVlIHRvIHtAbGluayBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD05MzQ4MjN8YnVnIGluIGNocm9taXVtfVxuICogd2UgZGlzYWJsZSB3ZWJnbDIgYnkgZGVmYXVsdCBmb3IgYWxsIG5vbi1hcHBsZSBtb2JpbGUgZGV2aWNlcy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBQUkVGRVJfRU5WXG4gKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICogQHR5cGUge251bWJlcn1cbiAqIEBkZWZhdWx0IFBJWEkuRU5WLldFQkdMMlxuICovXG5zZXR0aW5ncy5QUkVGRVJfRU5WID0gaXNNb2JpbGUuYW55ID8gRU5WLldFQkdMIDogRU5WLldFQkdMMjtcblxudmFyIENPTlRFWFRfVUlEID0gMDtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgdGhlIGNvbnRleHQuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICovXG52YXIgQ29udGV4dFN5c3RlbSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFN5c3RlbSkge1xuICAgIGZ1bmN0aW9uIENvbnRleHRTeXN0ZW0ocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBTeXN0ZW0uY2FsbCh0aGlzLCByZW5kZXJlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEVpdGhlciAxIG9yIDIgdG8gcmVmbGVjdCB0aGUgV2ViR0wgdmVyc2lvbiBiZWluZyB1c2VkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndlYkdMVmVyc2lvbiA9IDE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEV4dGVuc2lvbnMgYmVpbmcgdXNlZFxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAcHJvcGVydHkge1dFQkdMX2RyYXdfYnVmZmVyc30gZHJhd0J1ZmZlcnMgLSBXZWJHTCB2MSBleHRlbnNpb25cbiAgICAgICAgICogQHByb3BlcnR5IHtXRUJHTF9kZXB0aF90ZXh0dXJlfSBkZXB0aFRleHR1cmUgLSBXZWJHTCB2MSBleHRlbnNpb25cbiAgICAgICAgICogQHByb3BlcnR5IHtPRVNfdGV4dHVyZV9mbG9hdH0gZmxvYXRUZXh0dXJlIC0gV2ViR0wgdjEgZXh0ZW5zaW9uXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7V0VCR0xfbG9zZV9jb250ZXh0fSBsb3NlQ29udGV4dCAtIFdlYkdMIHYxIGV4dGVuc2lvblxuICAgICAgICAgKiBAcHJvcGVydHkge09FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0fSB2ZXJ0ZXhBcnJheU9iamVjdCAtIFdlYkdMIHYxIGV4dGVuc2lvblxuICAgICAgICAgKiBAcHJvcGVydHkge0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpY30gYW5pc290cm9waWNGaWx0ZXJpbmcgLSBXZWJHTCB2MSBhbmQgdjIgZXh0ZW5zaW9uXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmV4dGVuc2lvbnMgPSB7fTtcblxuICAgICAgICAvLyBCaW5kIGZ1bmN0aW9uc1xuICAgICAgICB0aGlzLmhhbmRsZUNvbnRleHRMb3N0ID0gdGhpcy5oYW5kbGVDb250ZXh0TG9zdC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmhhbmRsZUNvbnRleHRSZXN0b3JlZCA9IHRoaXMuaGFuZGxlQ29udGV4dFJlc3RvcmVkLmJpbmQodGhpcyk7XG5cbiAgICAgICAgcmVuZGVyZXIudmlldy5hZGRFdmVudExpc3RlbmVyKCd3ZWJnbGNvbnRleHRsb3N0JywgdGhpcy5oYW5kbGVDb250ZXh0TG9zdCwgZmFsc2UpO1xuICAgICAgICByZW5kZXJlci52aWV3LmFkZEV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dHJlc3RvcmVkJywgdGhpcy5oYW5kbGVDb250ZXh0UmVzdG9yZWQsIGZhbHNlKTtcbiAgICB9XG5cbiAgICBpZiAoIFN5c3RlbSApIENvbnRleHRTeXN0ZW0uX19wcm90b19fID0gU3lzdGVtO1xuICAgIENvbnRleHRTeXN0ZW0ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU3lzdGVtICYmIFN5c3RlbS5wcm90b3R5cGUgKTtcbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENvbnRleHRTeXN0ZW07XG5cbiAgICB2YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyBpc0xvc3Q6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuICAgIC8qKlxuICAgICAqIGB0cnVlYCBpZiB0aGUgY29udGV4dCBpcyBsb3N0XG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuaXNMb3N0LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gKCF0aGlzLmdsIHx8IHRoaXMuZ2wuaXNDb250ZXh0TG9zdCgpKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGFuZGxlIHRoZSBjb250ZXh0IGNoYW5nZSBldmVudFxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBuZXcgd2ViZ2wgY29udGV4dFxuICAgICAqL1xuICAgIENvbnRleHRTeXN0ZW0ucHJvdG90eXBlLmNvbnRleHRDaGFuZ2UgPSBmdW5jdGlvbiBjb250ZXh0Q2hhbmdlIChnbClcbiAgICB7XG4gICAgICAgIHRoaXMuZ2wgPSBnbDtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5nbCA9IGdsO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEID0gQ09OVEVYVF9VSUQrKztcblxuICAgICAgICAvLyByZXN0b3JlIGEgY29udGV4dCBpZiBpdCB3YXMgcHJldmlvdXNseSBsb3N0XG4gICAgICAgIGlmIChnbC5pc0NvbnRleHRMb3N0KCkgJiYgZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9sb3NlX2NvbnRleHQnKSlcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9sb3NlX2NvbnRleHQnKS5yZXN0b3JlQ29udGV4dCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgdGhlIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgLSBXZWJHTCBjb250ZXh0XG4gICAgICovXG4gICAgQ29udGV4dFN5c3RlbS5wcm90b3R5cGUuaW5pdEZyb21Db250ZXh0ID0gZnVuY3Rpb24gaW5pdEZyb21Db250ZXh0IChnbClcbiAgICB7XG4gICAgICAgIHRoaXMuZ2wgPSBnbDtcbiAgICAgICAgdGhpcy52YWxpZGF0ZUNvbnRleHQoZ2wpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmdsID0gZ2w7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuQ09OVEVYVF9VSUQgPSBDT05URVhUX1VJRCsrO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnJ1bm5lcnMuY29udGV4dENoYW5nZS5ydW4oZ2wpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIGZyb20gY29udGV4dCBvcHRpb25zXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSFRNTENhbnZhc0VsZW1lbnQvZ2V0Q29udGV4dFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gY29udGV4dCBhdHRyaWJ1dGVzXG4gICAgICovXG4gICAgQ29udGV4dFN5c3RlbS5wcm90b3R5cGUuaW5pdEZyb21PcHRpb25zID0gZnVuY3Rpb24gaW5pdEZyb21PcHRpb25zIChvcHRpb25zKVxuICAgIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5jcmVhdGVDb250ZXh0KHRoaXMucmVuZGVyZXIudmlldywgb3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5pbml0RnJvbUNvbnRleHQoZ2wpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgV2ViR0wgQ29udGV4dFxuICAgICAqXG4gICAgICogQHBhcmFtIGNhbnZhcyB7SFRNTENhbnZhc0VsZW1lbnR9IHRoZSBjYW52YXMgZWxlbWVudCB0aGF0IHdlIHdpbGwgZ2V0IHRoZSBjb250ZXh0IGZyb21cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyB7b2JqZWN0fSBBbiBvcHRpb25zIG9iamVjdCB0aGF0IGdldHMgcGFzc2VkIGluIHRvIHRoZSBjYW52YXMgZWxlbWVudCBjb250YWluaW5nIHRoZSBjb250ZXh0IGF0dHJpYnV0ZXNcbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9IVE1MQ2FudmFzRWxlbWVudC9nZXRDb250ZXh0XG4gICAgICogQHJldHVybiB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSB0aGUgV2ViR0wgY29udGV4dFxuICAgICAqL1xuICAgIENvbnRleHRTeXN0ZW0ucHJvdG90eXBlLmNyZWF0ZUNvbnRleHQgPSBmdW5jdGlvbiBjcmVhdGVDb250ZXh0IChjYW52YXMsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICB2YXIgZ2w7XG5cbiAgICAgICAgaWYgKHNldHRpbmdzLlBSRUZFUl9FTlYgPj0gRU5WLldFQkdMMilcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wyJywgb3B0aW9ucyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZ2wpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMud2ViR0xWZXJzaW9uID0gMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMud2ViR0xWZXJzaW9uID0gMTtcblxuICAgICAgICAgICAgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnLCBvcHRpb25zKVxuICAgICAgICAgICAgfHwgY2FudmFzLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcsIG9wdGlvbnMpO1xuXG4gICAgICAgICAgICBpZiAoIWdsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGZhaWwsIG5vdCBhYmxlIHRvIGdldCBhIGNvbnRleHRcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoaXMgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IFdlYkdMLiBUcnkgdXNpbmcgdGhlIGNhbnZhcyByZW5kZXJlcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuXG4gICAgICAgIHRoaXMuZ2V0RXh0ZW5zaW9ucygpO1xuXG4gICAgICAgIHJldHVybiBnbDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXV0by1wb3B1bGF0ZSB0aGUgZXh0ZW5zaW9uc1xuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIENvbnRleHRTeXN0ZW0ucHJvdG90eXBlLmdldEV4dGVuc2lvbnMgPSBmdW5jdGlvbiBnZXRFeHRlbnNpb25zICgpXG4gICAge1xuICAgICAgICAvLyB0aW1lIHRvIHNldCB1cCBkZWZhdWx0IGV4dGVuc2lvbnMgdGhhdCBQaXhpIHVzZXMuXG4gICAgICAgIHZhciByZWYgPSB0aGlzO1xuICAgICAgICB2YXIgZ2wgPSByZWYuZ2w7XG5cbiAgICAgICAgaWYgKHRoaXMud2ViR0xWZXJzaW9uID09PSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuZXh0ZW5zaW9ucywge1xuICAgICAgICAgICAgICAgIGRyYXdCdWZmZXJzOiBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2RyYXdfYnVmZmVycycpLFxuICAgICAgICAgICAgICAgIGRlcHRoVGV4dHVyZTogZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJLSVRfV0VCR0xfZGVwdGhfdGV4dHVyZScpLFxuICAgICAgICAgICAgICAgIGxvc2VDb250ZXh0OiBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2xvc2VfY29udGV4dCcpLFxuICAgICAgICAgICAgICAgIHZlcnRleEFycmF5T2JqZWN0OiBnbC5nZXRFeHRlbnNpb24oJ09FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0JylcbiAgICAgICAgICAgICAgICAgICAgfHwgZ2wuZ2V0RXh0ZW5zaW9uKCdNT1pfT0VTX3ZlcnRleF9hcnJheV9vYmplY3QnKVxuICAgICAgICAgICAgICAgICAgICB8fCBnbC5nZXRFeHRlbnNpb24oJ1dFQktJVF9PRVNfdmVydGV4X2FycmF5X29iamVjdCcpLFxuICAgICAgICAgICAgICAgIGFuaXNvdHJvcGljRmlsdGVyaW5nOiBnbC5nZXRFeHRlbnNpb24oJ0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYycpLFxuICAgICAgICAgICAgICAgIHVpbnQzMkVsZW1lbnRJbmRleDogZ2wuZ2V0RXh0ZW5zaW9uKCdPRVNfZWxlbWVudF9pbmRleF91aW50JyksXG4gICAgICAgICAgICAgICAgLy8gRmxvYXRzIGFuZCBoYWxmLWZsb2F0c1xuICAgICAgICAgICAgICAgIGZsb2F0VGV4dHVyZTogZ2wuZ2V0RXh0ZW5zaW9uKCdPRVNfdGV4dHVyZV9mbG9hdCcpLFxuICAgICAgICAgICAgICAgIGZsb2F0VGV4dHVyZUxpbmVhcjogZ2wuZ2V0RXh0ZW5zaW9uKCdPRVNfdGV4dHVyZV9mbG9hdF9saW5lYXInKSxcbiAgICAgICAgICAgICAgICB0ZXh0dXJlSGFsZkZsb2F0OiBnbC5nZXRFeHRlbnNpb24oJ09FU190ZXh0dXJlX2hhbGZfZmxvYXQnKSxcbiAgICAgICAgICAgICAgICB0ZXh0dXJlSGFsZkZsb2F0TGluZWFyOiBnbC5nZXRFeHRlbnNpb24oJ09FU190ZXh0dXJlX2hhbGZfZmxvYXRfbGluZWFyJyksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLndlYkdMVmVyc2lvbiA9PT0gMilcbiAgICAgICAge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmV4dGVuc2lvbnMsIHtcbiAgICAgICAgICAgICAgICBhbmlzb3Ryb3BpY0ZpbHRlcmluZzogZ2wuZ2V0RXh0ZW5zaW9uKCdFWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMnKSxcbiAgICAgICAgICAgICAgICAvLyBGbG9hdHMgYW5kIGhhbGYtZmxvYXRzXG4gICAgICAgICAgICAgICAgY29sb3JCdWZmZXJGbG9hdDogZ2wuZ2V0RXh0ZW5zaW9uKCdFWFRfY29sb3JfYnVmZmVyX2Zsb2F0JyksXG4gICAgICAgICAgICAgICAgZmxvYXRUZXh0dXJlTGluZWFyOiBnbC5nZXRFeHRlbnNpb24oJ09FU190ZXh0dXJlX2Zsb2F0X2xpbmVhcicpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBhIGxvc3Qgd2ViZ2wgY29udGV4dFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7V2ViR0xDb250ZXh0RXZlbnR9IGV2ZW50IC0gVGhlIGNvbnRleHQgbG9zdCBldmVudC5cbiAgICAgKi9cbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS5oYW5kbGVDb250ZXh0TG9zdCA9IGZ1bmN0aW9uIGhhbmRsZUNvbnRleHRMb3N0IChldmVudClcbiAgICB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgYSByZXN0b3JlZCB3ZWJnbCBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgQ29udGV4dFN5c3RlbS5wcm90b3R5cGUuaGFuZGxlQ29udGV4dFJlc3RvcmVkID0gZnVuY3Rpb24gaGFuZGxlQ29udGV4dFJlc3RvcmVkICgpXG4gICAge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnJ1bm5lcnMuY29udGV4dENoYW5nZS5ydW4odGhpcy5nbCk7XG4gICAgfTtcblxuICAgIENvbnRleHRTeXN0ZW0ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95ICgpXG4gICAge1xuICAgICAgICB2YXIgdmlldyA9IHRoaXMucmVuZGVyZXIudmlldztcblxuICAgICAgICAvLyByZW1vdmUgbGlzdGVuZXJzXG4gICAgICAgIHZpZXcucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0bG9zdCcsIHRoaXMuaGFuZGxlQ29udGV4dExvc3QpO1xuICAgICAgICB2aWV3LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dHJlc3RvcmVkJywgdGhpcy5oYW5kbGVDb250ZXh0UmVzdG9yZWQpO1xuXG4gICAgICAgIHRoaXMuZ2wudXNlUHJvZ3JhbShudWxsKTtcblxuICAgICAgICBpZiAodGhpcy5leHRlbnNpb25zLmxvc2VDb250ZXh0KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmV4dGVuc2lvbnMubG9zZUNvbnRleHQubG9zZUNvbnRleHQoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgdGhlIHBvc3QtcmVuZGVyIHJ1bm5lciBldmVudFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIENvbnRleHRTeXN0ZW0ucHJvdG90eXBlLnBvc3RyZW5kZXIgPSBmdW5jdGlvbiBwb3N0cmVuZGVyICgpXG4gICAge1xuICAgICAgICB0aGlzLmdsLmZsdXNoKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFZhbGlkYXRlIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgLSBSZW5kZXIgY29udGV4dFxuICAgICAqL1xuICAgIENvbnRleHRTeXN0ZW0ucHJvdG90eXBlLnZhbGlkYXRlQ29udGV4dCA9IGZ1bmN0aW9uIHZhbGlkYXRlQ29udGV4dCAoZ2wpXG4gICAge1xuICAgICAgICB2YXIgYXR0cmlidXRlcyA9IGdsLmdldENvbnRleHRBdHRyaWJ1dGVzKCk7XG5cbiAgICAgICAgLy8gdGhpcyBpcyBnb2luZyB0byBiZSBmYWlybHkgc2ltcGxlIGZvciBub3cuLiBidXQgYXQgbGVhc3Qgd2UgaGF2ZSByb29tIHRvIGdyb3chXG4gICAgICAgIGlmICghYXR0cmlidXRlcy5zdGVuY2lsKVxuICAgICAgICB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG5cbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgICAgIGNvbnNvbGUud2FybignUHJvdmlkZWQgV2ViR0wgY29udGV4dCBkb2VzIG5vdCBoYXZlIGEgc3RlbmNpbCBidWZmZXIsIG1hc2tzIG1heSBub3QgcmVuZGVyIGNvcnJlY3RseScpO1xuICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zb2xlICovXG5cbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgbWF4LWxlbiAqL1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBDb250ZXh0U3lzdGVtLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbiAgICByZXR1cm4gQ29udGV4dFN5c3RlbTtcbn0oU3lzdGVtKSk7XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIGZyYW1lYnVmZmVycy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbnZhciBGcmFtZWJ1ZmZlclN5c3RlbSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFN5c3RlbSkge1xuICAgIGZ1bmN0aW9uIEZyYW1lYnVmZmVyU3lzdGVtKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgU3lzdGVtLmNhbGwodGhpcywgcmVuZGVyZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGxpc3Qgb2YgbWFuYWdlZCBmcmFtZWJ1ZmZlcnNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5GcmFtZWJ1ZmZlcltdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWFuYWdlZEZyYW1lYnVmZmVycyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGcmFtZWJ1ZmZlciB2YWx1ZSB0aGF0IHNob3dzIHRoYXQgd2UgZG9uJ3Qga25vdyB3aGF0IGlzIGJvdW5kXG4gICAgICAgICAqIEBtZW1iZXIge0ZyYW1lYnVmZmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudW5rbm93bkZyYW1lYnVmZmVyID0gbmV3IEZyYW1lYnVmZmVyKDEwLCAxMCk7XG4gICAgfVxuXG4gICAgaWYgKCBTeXN0ZW0gKSBGcmFtZWJ1ZmZlclN5c3RlbS5fX3Byb3RvX18gPSBTeXN0ZW07XG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU3lzdGVtICYmIFN5c3RlbS5wcm90b3R5cGUgKTtcbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBGcmFtZWJ1ZmZlclN5c3RlbTtcblxuICAgIHZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IHNpemU6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdXAgdGhlIHJlbmRlcmVyIGNvbnRleHQgYW5kIG5lY2Vzc2FyeSBidWZmZXJzLlxuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZS5jb250ZXh0Q2hhbmdlID0gZnVuY3Rpb24gY29udGV4dENoYW5nZSAoKVxuICAgIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgdGhpcy5DT05URVhUX1VJRCA9IHRoaXMucmVuZGVyZXIuQ09OVEVYVF9VSUQ7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHRoaXMudW5rbm93bkZyYW1lYnVmZmVyO1xuICAgICAgICB0aGlzLnZpZXdwb3J0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICB0aGlzLmhhc01SVCA9IHRydWU7XG4gICAgICAgIHRoaXMud3JpdGVEZXB0aFRleHR1cmUgPSB0cnVlO1xuXG4gICAgICAgIHRoaXMuZGlzcG9zZUFsbCh0cnVlKTtcblxuICAgICAgICAvLyB3ZWJnbDJcbiAgICAgICAgaWYgKHRoaXMucmVuZGVyZXIuY29udGV4dC53ZWJHTFZlcnNpb24gPT09IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHdlYmdsIDEhXG4gICAgICAgICAgICB2YXIgbmF0aXZlRHJhd0J1ZmZlcnNFeHRlbnNpb24gPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQuZXh0ZW5zaW9ucy5kcmF3QnVmZmVycztcbiAgICAgICAgICAgIHZhciBuYXRpdmVEZXB0aFRleHR1cmVFeHRlbnNpb24gPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQuZXh0ZW5zaW9ucy5kZXB0aFRleHR1cmU7XG5cbiAgICAgICAgICAgIGlmIChzZXR0aW5ncy5QUkVGRVJfRU5WID09PSBFTlYuV0VCR0xfTEVHQUNZKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hdGl2ZURyYXdCdWZmZXJzRXh0ZW5zaW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgICBuYXRpdmVEZXB0aFRleHR1cmVFeHRlbnNpb24gPSBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobmF0aXZlRHJhd0J1ZmZlcnNFeHRlbnNpb24pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ2wuZHJhd0J1ZmZlcnMgPSBmdW5jdGlvbiAoYWN0aXZlVGV4dHVyZXMpIHsgcmV0dXJuIG5hdGl2ZURyYXdCdWZmZXJzRXh0ZW5zaW9uLmRyYXdCdWZmZXJzV0VCR0woYWN0aXZlVGV4dHVyZXMpOyB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFzTVJUID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZ2wuZHJhd0J1ZmZlcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVtcHR5XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFuYXRpdmVEZXB0aFRleHR1cmVFeHRlbnNpb24pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy53cml0ZURlcHRoVGV4dHVyZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEJpbmQgYSBmcmFtZWJ1ZmZlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkZyYW1lYnVmZmVyfSBmcmFtZWJ1ZmZlclxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtmcmFtZV0gZnJhbWUsIGRlZmF1bHQgaXMgZnJhbWVidWZmZXIgc2l6ZVxuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gYmluZCAoZnJhbWVidWZmZXIsIGZyYW1lKVxuICAgIHtcbiAgICAgICAgdmFyIHJlZiA9IHRoaXM7XG4gICAgICAgIHZhciBnbCA9IHJlZi5nbDtcblxuICAgICAgICBpZiAoZnJhbWVidWZmZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFRPRE8gY2FjaGluZyBsYXllciFcblxuICAgICAgICAgICAgdmFyIGZibyA9IGZyYW1lYnVmZmVyLmdsRnJhbWVidWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdIHx8IHRoaXMuaW5pdEZyYW1lYnVmZmVyKGZyYW1lYnVmZmVyKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudCAhPT0gZnJhbWVidWZmZXIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gZnJhbWVidWZmZXI7XG4gICAgICAgICAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBmYm8uZnJhbWVidWZmZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbWFrZSBzdXJlIGFsbCB0ZXh0dXJlcyBhcmUgdW5ib3VuZC4uXG5cbiAgICAgICAgICAgIC8vIG5vdyBjaGVjayBmb3IgdXBkYXRlcy4uLlxuICAgICAgICAgICAgaWYgKGZiby5kaXJ0eUlkICE9PSBmcmFtZWJ1ZmZlci5kaXJ0eUlkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZiby5kaXJ0eUlkID0gZnJhbWVidWZmZXIuZGlydHlJZDtcblxuICAgICAgICAgICAgICAgIGlmIChmYm8uZGlydHlGb3JtYXQgIT09IGZyYW1lYnVmZmVyLmRpcnR5Rm9ybWF0KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZmJvLmRpcnR5Rm9ybWF0ID0gZnJhbWVidWZmZXIuZGlydHlGb3JtYXQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlRnJhbWVidWZmZXIoZnJhbWVidWZmZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChmYm8uZGlydHlTaXplICE9PSBmcmFtZWJ1ZmZlci5kaXJ0eVNpemUpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBmYm8uZGlydHlTaXplID0gZnJhbWVidWZmZXIuZGlydHlTaXplO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc2l6ZUZyYW1lYnVmZmVyKGZyYW1lYnVmZmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZnJhbWVidWZmZXIuY29sb3JUZXh0dXJlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoZnJhbWVidWZmZXIuY29sb3JUZXh0dXJlc1tpXS50ZXh0dXJlUGFydClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIudGV4dHVyZS51bmJpbmQoZnJhbWVidWZmZXIuY29sb3JUZXh0dXJlc1tpXS50ZXh0dXJlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci50ZXh0dXJlLnVuYmluZChmcmFtZWJ1ZmZlci5jb2xvclRleHR1cmVzW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChmcmFtZWJ1ZmZlci5kZXB0aFRleHR1cmUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci50ZXh0dXJlLnVuYmluZChmcmFtZWJ1ZmZlci5kZXB0aFRleHR1cmUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZnJhbWUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRWaWV3cG9ydChmcmFtZS54LCBmcmFtZS55LCBmcmFtZS53aWR0aCwgZnJhbWUuaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFZpZXdwb3J0KDAsIDAsIGZyYW1lYnVmZmVyLndpZHRoLCBmcmFtZWJ1ZmZlci5oZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgbnVsbCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChmcmFtZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFZpZXdwb3J0KGZyYW1lLngsIGZyYW1lLnksIGZyYW1lLndpZHRoLCBmcmFtZS5oZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Vmlld3BvcnQoMCwgMCwgdGhpcy5yZW5kZXJlci53aWR0aCwgdGhpcy5yZW5kZXJlci5oZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgV2ViR0xSZW5kZXJpbmdDb250ZXh0J3Mgdmlld3BvcnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geCAtIFggcG9zaXRpb24gb2Ygdmlld3BvcnRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geSAtIFkgcG9zaXRpb24gb2Ygdmlld3BvcnRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gd2lkdGggLSBXaWR0aCBvZiB2aWV3cG9ydFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBoZWlnaHQgLSBIZWlnaHQgb2Ygdmlld3BvcnRcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUuc2V0Vmlld3BvcnQgPSBmdW5jdGlvbiBzZXRWaWV3cG9ydCAoeCwgeSwgd2lkdGgsIGhlaWdodClcbiAgICB7XG4gICAgICAgIHZhciB2ID0gdGhpcy52aWV3cG9ydDtcblxuICAgICAgICBpZiAodi53aWR0aCAhPT0gd2lkdGggfHwgdi5oZWlnaHQgIT09IGhlaWdodCB8fCB2LnggIT09IHggfHwgdi55ICE9PSB5KVxuICAgICAgICB7XG4gICAgICAgICAgICB2LnggPSB4O1xuICAgICAgICAgICAgdi55ID0geTtcbiAgICAgICAgICAgIHYud2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgIHYuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgICAgICB0aGlzLmdsLnZpZXdwb3J0KHgsIHksIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc2l6ZSBvZiB0aGUgY3VycmVudCB3aWR0aCBhbmQgaGVpZ2h0LiBSZXR1cm5zIG9iamVjdCB3aXRoIGB3aWR0aGAgYW5kIGBoZWlnaHRgIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuc2l6ZS5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gVE9ETyBzdG9yZSB0ZW1wXG4gICAgICAgICAgICByZXR1cm4geyB4OiAwLCB5OiAwLCB3aWR0aDogdGhpcy5jdXJyZW50LndpZHRoLCBoZWlnaHQ6IHRoaXMuY3VycmVudC5oZWlnaHQgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7IHg6IDAsIHk6IDAsIHdpZHRoOiB0aGlzLnJlbmRlcmVyLndpZHRoLCBoZWlnaHQ6IHRoaXMucmVuZGVyZXIuaGVpZ2h0IH07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENsZWFyIHRoZSBjb2xvciBvZiB0aGUgY29udGV4dFxuICAgICAqXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHIgLSBSZWQgdmFsdWUgZnJvbSAwIHRvIDFcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZyAtIEdyZWVuIHZhbHVlIGZyb20gMCB0byAxXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGIgLSBCbHVlIHZhbHVlIGZyb20gMCB0byAxXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGEgLSBBbHBoYSB2YWx1ZSBmcm9tIDAgdG8gMVxuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyIChyLCBnLCBiLCBhKVxuICAgIHtcbiAgICAgICAgdmFyIHJlZiA9IHRoaXM7XG4gICAgICAgIHZhciBnbCA9IHJlZi5nbDtcblxuICAgICAgICAvLyBUT0RPIGNsZWFyIGNvbG9yIGNhbiBiZSBzZXQgb25seSBvbmUgcmlnaHQ/XG4gICAgICAgIGdsLmNsZWFyQ29sb3IociwgZywgYiwgYSk7XG4gICAgICAgIGdsLmNsZWFyKGdsLkNPTE9SX0JVRkZFUl9CSVQgfCBnbC5ERVBUSF9CVUZGRVJfQklUKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBmcmFtZWJ1ZmZlclxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5GcmFtZWJ1ZmZlcn0gZnJhbWVidWZmZXJcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUuaW5pdEZyYW1lYnVmZmVyID0gZnVuY3Rpb24gaW5pdEZyYW1lYnVmZmVyIChmcmFtZWJ1ZmZlcilcbiAgICB7XG4gICAgICAgIHZhciByZWYgPSB0aGlzO1xuICAgICAgICB2YXIgZ2wgPSByZWYuZ2w7XG5cbiAgICAgICAgLy8gVE9ETyAtIG1ha2UgdGhpcyBhIGNsYXNzP1xuICAgICAgICB2YXIgZmJvID0ge1xuICAgICAgICAgICAgZnJhbWVidWZmZXI6IGdsLmNyZWF0ZUZyYW1lYnVmZmVyKCksXG4gICAgICAgICAgICBzdGVuY2lsOiBudWxsLFxuICAgICAgICAgICAgZGlydHlJZDogMCxcbiAgICAgICAgICAgIGRpcnR5Rm9ybWF0OiAwLFxuICAgICAgICAgICAgZGlydHlTaXplOiAwLFxuICAgICAgICB9O1xuXG4gICAgICAgIGZyYW1lYnVmZmVyLmdsRnJhbWVidWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdID0gZmJvO1xuXG4gICAgICAgIHRoaXMubWFuYWdlZEZyYW1lYnVmZmVycy5wdXNoKGZyYW1lYnVmZmVyKTtcbiAgICAgICAgZnJhbWVidWZmZXIuZGlzcG9zZVJ1bm5lci5hZGQodGhpcyk7XG5cbiAgICAgICAgcmV0dXJuIGZibztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVzaXplIHRoZSBmcmFtZWJ1ZmZlclxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5GcmFtZWJ1ZmZlcn0gZnJhbWVidWZmZXJcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUucmVzaXplRnJhbWVidWZmZXIgPSBmdW5jdGlvbiByZXNpemVGcmFtZWJ1ZmZlciAoZnJhbWVidWZmZXIpXG4gICAge1xuICAgICAgICB2YXIgcmVmID0gdGhpcztcbiAgICAgICAgdmFyIGdsID0gcmVmLmdsO1xuXG4gICAgICAgIHZhciBmYm8gPSBmcmFtZWJ1ZmZlci5nbEZyYW1lYnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICBpZiAoZmJvLnN0ZW5jaWwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLCBmYm8uc3RlbmNpbCk7XG4gICAgICAgICAgICBnbC5yZW5kZXJidWZmZXJTdG9yYWdlKGdsLlJFTkRFUkJVRkZFUiwgZ2wuREVQVEhfU1RFTkNJTCwgZnJhbWVidWZmZXIud2lkdGgsIGZyYW1lYnVmZmVyLmhlaWdodCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY29sb3JUZXh0dXJlcyA9IGZyYW1lYnVmZmVyLmNvbG9yVGV4dHVyZXM7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb2xvclRleHR1cmVzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnRleHR1cmUuYmluZChjb2xvclRleHR1cmVzW2ldLCAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmcmFtZWJ1ZmZlci5kZXB0aFRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIudGV4dHVyZS5iaW5kKGZyYW1lYnVmZmVyLmRlcHRoVGV4dHVyZSwgMCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBmcmFtZWJ1ZmZlclxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5GcmFtZWJ1ZmZlcn0gZnJhbWVidWZmZXJcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUudXBkYXRlRnJhbWVidWZmZXIgPSBmdW5jdGlvbiB1cGRhdGVGcmFtZWJ1ZmZlciAoZnJhbWVidWZmZXIpXG4gICAge1xuICAgICAgICB2YXIgcmVmID0gdGhpcztcbiAgICAgICAgdmFyIGdsID0gcmVmLmdsO1xuXG4gICAgICAgIHZhciBmYm8gPSBmcmFtZWJ1ZmZlci5nbEZyYW1lYnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICAvLyBiaW5kIHRoZSBjb2xvciB0ZXh0dXJlXG4gICAgICAgIHZhciBjb2xvclRleHR1cmVzID0gZnJhbWVidWZmZXIuY29sb3JUZXh0dXJlcztcblxuICAgICAgICB2YXIgY291bnQgPSBjb2xvclRleHR1cmVzLmxlbmd0aDtcblxuICAgICAgICBpZiAoIWdsLmRyYXdCdWZmZXJzKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb3VudCA9IE1hdGgubWluKGNvdW50LCAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBhY3RpdmVUZXh0dXJlcyA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY291bnQ7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHRleHR1cmUgPSBmcmFtZWJ1ZmZlci5jb2xvclRleHR1cmVzW2ldO1xuXG4gICAgICAgICAgICBpZiAodGV4dHVyZS50ZXh0dXJlUGFydClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnRleHR1cmUuYmluZCh0ZXh0dXJlLnRleHR1cmUsIDApO1xuXG4gICAgICAgICAgICAgICAgZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoZ2wuRlJBTUVCVUZGRVIsXG4gICAgICAgICAgICAgICAgICAgIGdsLkNPTE9SX0FUVEFDSE1FTlQwICsgaSxcbiAgICAgICAgICAgICAgICAgICAgZ2wuVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9YICsgdGV4dHVyZS5zaWRlLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlLnRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0udGV4dHVyZSxcbiAgICAgICAgICAgICAgICAgICAgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci50ZXh0dXJlLmJpbmQodGV4dHVyZSwgMCk7XG5cbiAgICAgICAgICAgICAgICBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUixcbiAgICAgICAgICAgICAgICAgICAgZ2wuQ09MT1JfQVRUQUNITUVOVDAgKyBpLFxuICAgICAgICAgICAgICAgICAgICBnbC5URVhUVVJFXzJELFxuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdLnRleHR1cmUsXG4gICAgICAgICAgICAgICAgICAgIDApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhY3RpdmVUZXh0dXJlcy5wdXNoKGdsLkNPTE9SX0FUVEFDSE1FTlQwICsgaSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYWN0aXZlVGV4dHVyZXMubGVuZ3RoID4gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wuZHJhd0J1ZmZlcnMoYWN0aXZlVGV4dHVyZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZyYW1lYnVmZmVyLmRlcHRoVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHdyaXRlRGVwdGhUZXh0dXJlID0gdGhpcy53cml0ZURlcHRoVGV4dHVyZTtcblxuICAgICAgICAgICAgaWYgKHdyaXRlRGVwdGhUZXh0dXJlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBkZXB0aFRleHR1cmUgPSBmcmFtZWJ1ZmZlci5kZXB0aFRleHR1cmU7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnRleHR1cmUuYmluZChkZXB0aFRleHR1cmUsIDApO1xuXG4gICAgICAgICAgICAgICAgZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoZ2wuRlJBTUVCVUZGRVIsXG4gICAgICAgICAgICAgICAgICAgIGdsLkRFUFRIX0FUVEFDSE1FTlQsXG4gICAgICAgICAgICAgICAgICAgIGdsLlRFWFRVUkVfMkQsXG4gICAgICAgICAgICAgICAgICAgIGRlcHRoVGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXS50ZXh0dXJlLFxuICAgICAgICAgICAgICAgICAgICAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZmJvLnN0ZW5jaWwgJiYgKGZyYW1lYnVmZmVyLnN0ZW5jaWwgfHwgZnJhbWVidWZmZXIuZGVwdGgpKVxuICAgICAgICB7XG4gICAgICAgICAgICBmYm8uc3RlbmNpbCA9IGdsLmNyZWF0ZVJlbmRlcmJ1ZmZlcigpO1xuXG4gICAgICAgICAgICBnbC5iaW5kUmVuZGVyYnVmZmVyKGdsLlJFTkRFUkJVRkZFUiwgZmJvLnN0ZW5jaWwpO1xuXG4gICAgICAgICAgICBnbC5yZW5kZXJidWZmZXJTdG9yYWdlKGdsLlJFTkRFUkJVRkZFUiwgZ2wuREVQVEhfU1RFTkNJTCwgZnJhbWVidWZmZXIud2lkdGgsIGZyYW1lYnVmZmVyLmhlaWdodCk7XG4gICAgICAgICAgICAvLyBUT0RPLi4gdGhpcyBpcyBkZXB0aCBBTkQgc3RlbmNpbD9cbiAgICAgICAgICAgIGlmICghZnJhbWVidWZmZXIuZGVwdGhUZXh0dXJlKVxuICAgICAgICAgICAgeyAvLyB5b3UgY2FuJ3QgaGF2ZSBib3RoLCBzbyBvbmUgc2hvdWxkIHRha2UgcHJpb3JpdHkgaWYgZW5hYmxlZFxuICAgICAgICAgICAgICAgIGdsLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBnbC5ERVBUSF9TVEVOQ0lMX0FUVEFDSE1FTlQsIGdsLlJFTkRFUkJVRkZFUiwgZmJvLnN0ZW5jaWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERpc3Bvc2VzIGZyYW1lYnVmZmVyXG4gICAgICogQHBhcmFtIHtQSVhJLkZyYW1lYnVmZmVyfSBmcmFtZWJ1ZmZlciBmcmFtZWJ1ZmZlciB0aGF0IGhhcyB0byBiZSBkaXNwb3NlZCBvZlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NvbnRleHRMb3N0PWZhbHNlXSBJZiBjb250ZXh0IHdhcyBsb3N0LCB3ZSBzdXBwcmVzcyBhbGwgZGVsZXRlIGZ1bmN0aW9uIGNhbGxzXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLmRpc3Bvc2VGcmFtZWJ1ZmZlciA9IGZ1bmN0aW9uIGRpc3Bvc2VGcmFtZWJ1ZmZlciAoZnJhbWVidWZmZXIsIGNvbnRleHRMb3N0KVxuICAgIHtcbiAgICAgICAgdmFyIGZibyA9IGZyYW1lYnVmZmVyLmdsRnJhbWVidWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuXG4gICAgICAgIGlmICghZmJvKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBkZWxldGUgZnJhbWVidWZmZXIuZ2xGcmFtZWJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG5cbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5tYW5hZ2VkRnJhbWVidWZmZXJzLmluZGV4T2YoZnJhbWVidWZmZXIpO1xuXG4gICAgICAgIGlmIChpbmRleCA+PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm1hbmFnZWRGcmFtZWJ1ZmZlcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZyYW1lYnVmZmVyLmRpc3Bvc2VSdW5uZXIucmVtb3ZlKHRoaXMpO1xuXG4gICAgICAgIGlmICghY29udGV4dExvc3QpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLmRlbGV0ZUZyYW1lYnVmZmVyKGZiby5mcmFtZWJ1ZmZlcik7XG4gICAgICAgICAgICBpZiAoZmJvLnN0ZW5jaWwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ2wuZGVsZXRlUmVuZGVyYnVmZmVyKGZiby5zdGVuY2lsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEaXNwb3NlcyBhbGwgZnJhbWVidWZmZXJzLCBidXQgbm90IHRleHR1cmVzIGJvdW5kIHRvIHRoZW1cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjb250ZXh0TG9zdD1mYWxzZV0gSWYgY29udGV4dCB3YXMgbG9zdCwgd2Ugc3VwcHJlc3MgYWxsIGRlbGV0ZSBmdW5jdGlvbiBjYWxsc1xuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZS5kaXNwb3NlQWxsID0gZnVuY3Rpb24gZGlzcG9zZUFsbCAoY29udGV4dExvc3QpXG4gICAge1xuICAgICAgICB2YXIgbGlzdCA9IHRoaXMubWFuYWdlZEZyYW1lYnVmZmVycztcblxuICAgICAgICB0aGlzLm1hbmFnZWRGcmFtZWJ1ZmZlcnMgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZUZyYW1lYnVmZmVyKGxpc3RbaV0sIGNvbnRleHRMb3N0KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGb3JjaW5nIGNyZWF0aW9uIG9mIHN0ZW5jaWwgYnVmZmVyIGZvciBjdXJyZW50IGZyYW1lYnVmZmVyLCBpZiBpdCB3YXNuJ3QgZG9uZSBiZWZvcmUuXG4gICAgICogVXNlZCBieSBNYXNrU3lzdGVtLCB3aGVuIGl0cyB0aW1lIHRvIHVzZSBzdGVuY2lsIG1hc2sgZm9yIEdyYXBoaWNzIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBJdHMgYW4gYWx0ZXJuYXRpdmUgZm9yIHB1YmxpYyBsYXp5IGBmcmFtZWJ1ZmZlci5lbmFibGVTdGVuY2lsYCwgaW4gY2FzZSB3ZSBuZWVkIHN0ZW5jaWwgd2l0aG91dCByZWJpbmQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZS5mb3JjZVN0ZW5jaWwgPSBmdW5jdGlvbiBmb3JjZVN0ZW5jaWwgKClcbiAgICB7XG4gICAgICAgIHZhciBmcmFtZWJ1ZmZlciA9IHRoaXMuY3VycmVudDtcblxuICAgICAgICBpZiAoIWZyYW1lYnVmZmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZmJvID0gZnJhbWVidWZmZXIuZ2xGcmFtZWJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG5cbiAgICAgICAgaWYgKCFmYm8gfHwgZmJvLnN0ZW5jaWwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmcmFtZWJ1ZmZlci5lbmFibGVTdGVuY2lsKCk7XG5cbiAgICAgICAgdmFyIHcgPSBmcmFtZWJ1ZmZlci53aWR0aDtcbiAgICAgICAgdmFyIGggPSBmcmFtZWJ1ZmZlci5oZWlnaHQ7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIHZhciBzdGVuY2lsID0gZ2wuY3JlYXRlUmVuZGVyYnVmZmVyKCk7XG5cbiAgICAgICAgZ2wuYmluZFJlbmRlcmJ1ZmZlcihnbC5SRU5ERVJCVUZGRVIsIHN0ZW5jaWwpO1xuICAgICAgICBnbC5yZW5kZXJidWZmZXJTdG9yYWdlKGdsLlJFTkRFUkJVRkZFUiwgZ2wuREVQVEhfU1RFTkNJTCwgdywgaCk7XG5cbiAgICAgICAgZmJvLnN0ZW5jaWwgPSBzdGVuY2lsO1xuICAgICAgICBnbC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZ2wuU1RFTkNJTF9BVFRBQ0hNRU5ULCBnbC5SRU5ERVJCVUZGRVIsIHN0ZW5jaWwpO1xuICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGZiby5mcmFtZWJ1ZmZlcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIHJlc2V0cyBmcmFtZWJ1ZmZlciBzdG9yZWQgc3RhdGUsIGJpbmRzIHNjcmVlbiBmcmFtZWJ1ZmZlclxuICAgICAqXG4gICAgICogc2hvdWxkIGJlIGNhbGxlZCBiZWZvcmUgcmVuZGVyVGV4dHVyZSByZXNldCgpXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQgKClcbiAgICB7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHRoaXMudW5rbm93bkZyYW1lYnVmZmVyO1xuICAgICAgICB0aGlzLnZpZXdwb3J0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuICAgIHJldHVybiBGcmFtZWJ1ZmZlclN5c3RlbTtcbn0oU3lzdGVtKSk7XG5cbnZhciBHTEJ1ZmZlciA9IGZ1bmN0aW9uIEdMQnVmZmVyKGJ1ZmZlcilcbntcbiAgICB0aGlzLmJ1ZmZlciA9IGJ1ZmZlcjtcbiAgICB0aGlzLnVwZGF0ZUlEID0gLTE7XG4gICAgdGhpcy5ieXRlTGVuZ3RoID0gLTE7XG4gICAgdGhpcy5yZWZDb3VudCA9IDA7XG59O1xuXG52YXIgYnl0ZVNpemVNYXAkMSA9IHsgNTEyNjogNCwgNTEyMzogMiwgNTEyMTogMSB9O1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBnZW9tZXRyeS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbnZhciBHZW9tZXRyeVN5c3RlbSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFN5c3RlbSkge1xuICAgIGZ1bmN0aW9uIEdlb21ldHJ5U3lzdGVtKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgU3lzdGVtLmNhbGwodGhpcywgcmVuZGVyZXIpO1xuXG4gICAgICAgIHRoaXMuX2FjdGl2ZUdlb21ldHJ5ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYWN0aXZlVmFvID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIHdlIGhhcyBgKl92ZXJ0ZXhfYXJyYXlfb2JqZWN0YCBleHRlbnNpb25cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhhc1ZhbyA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCBpZiBoYXMgYEFOR0xFX2luc3RhbmNlZF9hcnJheXNgIGV4dGVuc2lvblxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGFzSW5zdGFuY2UgPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgdHJ1ZWAgaWYgc3VwcG9ydCBgZ2wuVU5TSUdORURfSU5UYCBpbiBgZ2wuZHJhd0VsZW1lbnRzYCBvciBgZ2wuZHJhd0VsZW1lbnRzSW5zdGFuY2VkYFxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2FuVXNlVUludDMyRWxlbWVudEluZGV4ID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgY2FjaGUgb2YgY3VycmVudGx5IGJvdW5kIGJ1ZmZlcixcbiAgICAgICAgICogY29udGFpbnMgb25seSB0d28gbWVtYmVycyB3aXRoIGtleXMgQVJSQVlfQlVGRkVSIGFuZCBFTEVNRU5UX0FSUkFZX0JVRkZFUlxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3QuPG51bWJlciwgUElYSS5CdWZmZXI+fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYm91bmRCdWZmZXJzID0ge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhY2hlIGZvciBhbGwgZ2VvbWV0cmllcyBieSBpZCwgdXNlZCBpbiBjYXNlIHJlbmRlcmVyIGdldHMgZGVzdHJveWVkIG9yIGZvciBwcm9maWxpbmdcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWFuYWdlZEdlb21ldHJpZXMgPSB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FjaGUgZm9yIGFsbCBidWZmZXJzIGJ5IGlkLCB1c2VkIGluIGNhc2UgcmVuZGVyZXIgZ2V0cyBkZXN0cm95ZWQgb3IgZm9yIHByb2ZpbGluZ1xuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYW5hZ2VkQnVmZmVycyA9IHt9O1xuICAgIH1cblxuICAgIGlmICggU3lzdGVtICkgR2VvbWV0cnlTeXN0ZW0uX19wcm90b19fID0gU3lzdGVtO1xuICAgIEdlb21ldHJ5U3lzdGVtLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFN5c3RlbSAmJiBTeXN0ZW0ucHJvdG90eXBlICk7XG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gR2VvbWV0cnlTeXN0ZW07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIHRoZSByZW5kZXJlciBjb250ZXh0IGFuZCBuZWNlc3NhcnkgYnVmZmVycy5cbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuY29udGV4dENoYW5nZSA9IGZ1bmN0aW9uIGNvbnRleHRDaGFuZ2UgKClcbiAgICB7XG4gICAgICAgIHRoaXMuZGlzcG9zZUFsbCh0cnVlKTtcblxuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQ7XG5cbiAgICAgICAgdGhpcy5DT05URVhUX1VJRCA9IHRoaXMucmVuZGVyZXIuQ09OVEVYVF9VSUQ7XG5cbiAgICAgICAgLy8gd2ViZ2wyXG4gICAgICAgIGlmICghZ2wuY3JlYXRlVmVydGV4QXJyYXkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHdlYmdsIDEhXG4gICAgICAgICAgICB2YXIgbmF0aXZlVmFvRXh0ZW5zaW9uID0gdGhpcy5yZW5kZXJlci5jb250ZXh0LmV4dGVuc2lvbnMudmVydGV4QXJyYXlPYmplY3Q7XG5cbiAgICAgICAgICAgIGlmIChzZXR0aW5ncy5QUkVGRVJfRU5WID09PSBFTlYuV0VCR0xfTEVHQUNZKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hdGl2ZVZhb0V4dGVuc2lvbiA9IG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChuYXRpdmVWYW9FeHRlbnNpb24pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ2wuY3JlYXRlVmVydGV4QXJyYXkgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBuYXRpdmVWYW9FeHRlbnNpb24uY3JlYXRlVmVydGV4QXJyYXlPRVMoKTsgfTtcblxuICAgICAgICAgICAgICAgIGdsLmJpbmRWZXJ0ZXhBcnJheSA9IGZ1bmN0aW9uICh2YW8pIHsgcmV0dXJuIG5hdGl2ZVZhb0V4dGVuc2lvbi5iaW5kVmVydGV4QXJyYXlPRVModmFvKTsgfTtcblxuICAgICAgICAgICAgICAgIGdsLmRlbGV0ZVZlcnRleEFycmF5ID0gZnVuY3Rpb24gKHZhbykgeyByZXR1cm4gbmF0aXZlVmFvRXh0ZW5zaW9uLmRlbGV0ZVZlcnRleEFycmF5T0VTKHZhbyk7IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYXNWYW8gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBnbC5jcmVhdGVWZXJ0ZXhBcnJheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZW1wdHlcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgZ2wuYmluZFZlcnRleEFycmF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBlbXB0eVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBnbC5kZWxldGVWZXJ0ZXhBcnJheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZW1wdHlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFnbC52ZXJ0ZXhBdHRyaWJEaXZpc29yKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgaW5zdGFuY2VFeHQgPSBnbC5nZXRFeHRlbnNpb24oJ0FOR0xFX2luc3RhbmNlZF9hcnJheXMnKTtcblxuICAgICAgICAgICAgaWYgKGluc3RhbmNlRXh0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGdsLnZlcnRleEF0dHJpYkRpdmlzb3IgPSBmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gaW5zdGFuY2VFeHQudmVydGV4QXR0cmliRGl2aXNvckFOR0xFKGEsIGIpOyB9O1xuXG4gICAgICAgICAgICAgICAgZ2wuZHJhd0VsZW1lbnRzSW5zdGFuY2VkID0gZnVuY3Rpb24gKGEsIGIsIGMsIGQsIGUpIHsgcmV0dXJuIGluc3RhbmNlRXh0LmRyYXdFbGVtZW50c0luc3RhbmNlZEFOR0xFKGEsIGIsIGMsIGQsIGUpOyB9O1xuXG4gICAgICAgICAgICAgICAgZ2wuZHJhd0FycmF5c0luc3RhbmNlZCA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkKSB7IHJldHVybiBpbnN0YW5jZUV4dC5kcmF3QXJyYXlzSW5zdGFuY2VkQU5HTEUoYSwgYiwgYywgZCk7IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYXNJbnN0YW5jZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jYW5Vc2VVSW50MzJFbGVtZW50SW5kZXggPSBjb250ZXh0LndlYkdMVmVyc2lvbiA9PT0gMiB8fCAhIWNvbnRleHQuZXh0ZW5zaW9ucy51aW50MzJFbGVtZW50SW5kZXg7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEJpbmRzIGdlb21ldHJ5IHNvIHRoYXQgaXMgY2FuIGJlIGRyYXduLiBDcmVhdGluZyBhIFZhbyBpZiByZXF1aXJlZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkdlb21ldHJ5fSBnZW9tZXRyeSBpbnN0YW5jZSBvZiBnZW9tZXRyeSB0byBiaW5kXG4gICAgICogQHBhcmFtIHtQSVhJLlNoYWRlcn0gW3NoYWRlcl0gaW5zdGFuY2Ugb2Ygc2hhZGVyIHRvIHVzZSB2YW8gZm9yXG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiBiaW5kIChnZW9tZXRyeSwgc2hhZGVyKVxuICAgIHtcbiAgICAgICAgc2hhZGVyID0gc2hhZGVyIHx8IHRoaXMucmVuZGVyZXIuc2hhZGVyLnNoYWRlcjtcblxuICAgICAgICB2YXIgcmVmID0gdGhpcztcbiAgICAgICAgdmFyIGdsID0gcmVmLmdsO1xuXG4gICAgICAgIC8vIG5vdCBzdXJlIHRoZSBiZXN0IHdheSB0byBhZGRyZXNzIHRoaXMuLlxuICAgICAgICAvLyBjdXJyZW50bHkgZGlmZmVyZW50IHNoYWRlcnMgcmVxdWlyZSBkaWZmZXJlbnQgVkFPcyBmb3IgdGhlIHNhbWUgZ2VvbWV0cnlcbiAgICAgICAgLy8gU3RpbGwgbXVsbGluZyBvdmVyIHRoZSBiZXN0IHdheSB0byBzb2x2ZSB0aGlzIG9uZS4uXG4gICAgICAgIC8vIHdpbGwgbGlrZWx5IG5lZWQgdG8gbW9kaWZ5IHRoZSBzaGFkZXIgYXR0cmlidXRlIGxvY2F0aW9ucyBhdCBydW4gdGltZSFcbiAgICAgICAgdmFyIHZhb3MgPSBnZW9tZXRyeS5nbFZlcnRleEFycmF5T2JqZWN0c1t0aGlzLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICBpZiAoIXZhb3MpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlZEdlb21ldHJpZXNbZ2VvbWV0cnkuaWRdID0gZ2VvbWV0cnk7XG4gICAgICAgICAgICBnZW9tZXRyeS5kaXNwb3NlUnVubmVyLmFkZCh0aGlzKTtcbiAgICAgICAgICAgIGdlb21ldHJ5LmdsVmVydGV4QXJyYXlPYmplY3RzW3RoaXMuQ09OVEVYVF9VSURdID0gdmFvcyA9IHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHZhbyA9IHZhb3Nbc2hhZGVyLnByb2dyYW0uaWRdIHx8IHRoaXMuaW5pdEdlb21ldHJ5VmFvKGdlb21ldHJ5LCBzaGFkZXIucHJvZ3JhbSk7XG5cbiAgICAgICAgdGhpcy5fYWN0aXZlR2VvbWV0cnkgPSBnZW9tZXRyeTtcblxuICAgICAgICBpZiAodGhpcy5fYWN0aXZlVmFvICE9PSB2YW8pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2FjdGl2ZVZhbyA9IHZhbztcblxuICAgICAgICAgICAgaWYgKHRoaXMuaGFzVmFvKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGdsLmJpbmRWZXJ0ZXhBcnJheSh2YW8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZhdGVWYW8oZ2VvbWV0cnksIHNoYWRlci5wcm9ncmFtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRPRE8gLSBvcHRpbWlzZSBsYXRlciFcbiAgICAgICAgLy8gZG9uJ3QgbmVlZCB0byBsb29wIHRocm91Z2ggaWYgbm90aGluZyBjaGFuZ2VkIVxuICAgICAgICAvLyBtYXliZSBsb29rIHRvIGFkZCBhbiAnYXV0b3VwZGF0ZScgdG8gZ2VvbWV0cnk/XG4gICAgICAgIHRoaXMudXBkYXRlQnVmZmVycygpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNldCBhbmQgdW5iaW5kIGFueSBhY3RpdmUgVkFPIGFuZCBnZW9tZXRyeVxuICAgICAqL1xuICAgIEdlb21ldHJ5U3lzdGVtLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0ICgpXG4gICAge1xuICAgICAgICB0aGlzLnVuYmluZCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgYnVmZmVyc1xuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUudXBkYXRlQnVmZmVycyA9IGZ1bmN0aW9uIHVwZGF0ZUJ1ZmZlcnMgKClcbiAgICB7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuX2FjdGl2ZUdlb21ldHJ5O1xuICAgICAgICB2YXIgcmVmID0gdGhpcztcbiAgICAgICAgdmFyIGdsID0gcmVmLmdsO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ2VvbWV0cnkuYnVmZmVycy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IGdlb21ldHJ5LmJ1ZmZlcnNbaV07XG5cbiAgICAgICAgICAgIHZhciBnbEJ1ZmZlciA9IGJ1ZmZlci5fZ2xCdWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgICAgICBpZiAoYnVmZmVyLl91cGRhdGVJRCAhPT0gZ2xCdWZmZXIudXBkYXRlSUQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ2xCdWZmZXIudXBkYXRlSUQgPSBidWZmZXIuX3VwZGF0ZUlEO1xuXG4gICAgICAgICAgICAgICAgLy8gVE9ETyBjYW4gY2FjaGUgdGhpcyBvbiBidWZmZXIhIG1heWJlIGFkZGVkIGEgZ2V0dGVyIC8gc2V0dGVyP1xuICAgICAgICAgICAgICAgIHZhciB0eXBlID0gYnVmZmVyLmluZGV4ID8gZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIgOiBnbC5BUlJBWV9CVUZGRVI7XG5cbiAgICAgICAgICAgICAgICAvLyBUT0RPIHRoaXMgY291bGQgY2hhbmdlIGlmIHRoZSBWQU8gY2hhbmdlcy4uLlxuICAgICAgICAgICAgICAgIC8vIG5lZWQgdG8gY29tZSB1cCB3aXRoIGEgYmV0dGVyIHdheSB0byBjYWNoZS4uXG4gICAgICAgICAgICAgICAgLy8gaWYgKHRoaXMuYm91bmRCdWZmZXJzW3R5cGVdICE9PSBnbEJ1ZmZlcilcbiAgICAgICAgICAgICAgICAvLyB7XG4gICAgICAgICAgICAgICAgLy8gdGhpcy5ib3VuZEJ1ZmZlcnNbdHlwZV0gPSBnbEJ1ZmZlcjtcbiAgICAgICAgICAgICAgICBnbC5iaW5kQnVmZmVyKHR5cGUsIGdsQnVmZmVyLmJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgLy8gfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fYm91bmRCdWZmZXIgPSBnbEJ1ZmZlcjtcblxuICAgICAgICAgICAgICAgIGlmIChnbEJ1ZmZlci5ieXRlTGVuZ3RoID49IGJ1ZmZlci5kYXRhLmJ5dGVMZW5ndGgpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvLyBvZmZzZXQgaXMgYWx3YXlzIHplcm8gZm9yIG5vdyFcbiAgICAgICAgICAgICAgICAgICAgZ2wuYnVmZmVyU3ViRGF0YSh0eXBlLCAwLCBidWZmZXIuZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkcmF3VHlwZSA9IGJ1ZmZlci5zdGF0aWMgPyBnbC5TVEFUSUNfRFJBVyA6IGdsLkRZTkFNSUNfRFJBVztcblxuICAgICAgICAgICAgICAgICAgICBnbEJ1ZmZlci5ieXRlTGVuZ3RoID0gYnVmZmVyLmRhdGEuYnl0ZUxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YSh0eXBlLCBidWZmZXIuZGF0YSwgZHJhd1R5cGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBjb21wYWJpbGl0eSBiZXR3ZWVuIGEgZ2VvbWV0cnkgYW5kIGEgcHJvZ3JhbVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuR2VvbWV0cnl9IGdlb21ldHJ5IC0gR2VvbWV0cnkgaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge1BJWEkuUHJvZ3JhbX0gcHJvZ3JhbSAtIFByb2dyYW0gaW5zdGFuY2VcbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuY2hlY2tDb21wYXRpYmlsaXR5ID0gZnVuY3Rpb24gY2hlY2tDb21wYXRpYmlsaXR5IChnZW9tZXRyeSwgcHJvZ3JhbSlcbiAgICB7XG4gICAgICAgIC8vIGdlb21ldHJ5IG11c3QgaGF2ZSBhdCBsZWFzdCBhbGwgdGhlIGF0dHJpYnV0ZXMgdGhhdCB0aGUgc2hhZGVyIHJlcXVpcmVzLlxuICAgICAgICB2YXIgZ2VvbWV0cnlBdHRyaWJ1dGVzID0gZ2VvbWV0cnkuYXR0cmlidXRlcztcbiAgICAgICAgdmFyIHNoYWRlckF0dHJpYnV0ZXMgPSBwcm9ncmFtLmF0dHJpYnV0ZURhdGE7XG5cbiAgICAgICAgZm9yICh2YXIgaiBpbiBzaGFkZXJBdHRyaWJ1dGVzKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIWdlb21ldHJ5QXR0cmlidXRlc1tqXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKFwic2hhZGVyIGFuZCBnZW9tZXRyeSBpbmNvbXBhdGlibGUsIGdlb21ldHJ5IG1pc3NpbmcgdGhlIFxcXCJcIiArIGogKyBcIlxcXCIgYXR0cmlidXRlXCIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUYWtlcyBhIGdlb21ldHJ5IGFuZCBwcm9ncmFtIGFuZCBnZW5lcmF0ZXMgYSB1bmlxdWUgc2lnbmF0dXJlIGZvciB0aGVtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkdlb21ldHJ5fSBnZW9tZXRyeSB0byBnZXQgc2lnbmF0dXJlIGZyb21cbiAgICAgKiBAcGFyYW0ge1BJWEkuUHJvZ3JhbX0gcHJvZ3JhbSB0byB0ZXN0IGdlb21ldHJ5IGFnYWluc3RcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSBVbmlxdWUgc2lnbmF0dXJlIG9mIHRoZSBnZW9tZXRyeSBhbmQgcHJvZ3JhbVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuZ2V0U2lnbmF0dXJlID0gZnVuY3Rpb24gZ2V0U2lnbmF0dXJlIChnZW9tZXRyeSwgcHJvZ3JhbSlcbiAgICB7XG4gICAgICAgIHZhciBhdHRyaWJzID0gZ2VvbWV0cnkuYXR0cmlidXRlcztcbiAgICAgICAgdmFyIHNoYWRlckF0dHJpYnV0ZXMgPSBwcm9ncmFtLmF0dHJpYnV0ZURhdGE7XG5cbiAgICAgICAgdmFyIHN0cmluZ3MgPSBbJ2cnLCBnZW9tZXRyeS5pZF07XG5cbiAgICAgICAgZm9yICh2YXIgaSBpbiBhdHRyaWJzKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoc2hhZGVyQXR0cmlidXRlc1tpXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmdzLnB1c2goaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3RyaW5ncy5qb2luKCctJyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgb3IgZ2V0cyBWYW8gd2l0aCB0aGUgc2FtZSBzdHJ1Y3R1cmUgYXMgdGhlIGdlb21ldHJ5IGFuZCBzdG9yZXMgaXQgb24gdGhlIGdlb21ldHJ5LlxuICAgICAqIElmIHZhbyBpcyBjcmVhdGVkLCBpdCBpcyBib3VuZCBhdXRvbWF0aWNhbGx5LlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5HZW9tZXRyeX0gZ2VvbWV0cnkgLSBJbnN0YW5jZSBvZiBnZW9tZXRyeSB0byB0byBnZW5lcmF0ZSBWYW8gZm9yXG4gICAgICogQHBhcmFtIHtQSVhJLlByb2dyYW19IHByb2dyYW0gLSBJbnN0YW5jZSBvZiBwcm9ncmFtXG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLmluaXRHZW9tZXRyeVZhbyA9IGZ1bmN0aW9uIGluaXRHZW9tZXRyeVZhbyAoZ2VvbWV0cnksIHByb2dyYW0pXG4gICAge1xuICAgICAgICB0aGlzLmNoZWNrQ29tcGF0aWJpbGl0eShnZW9tZXRyeSwgcHJvZ3JhbSk7XG5cbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgdmFyIENPTlRFWFRfVUlEID0gdGhpcy5DT05URVhUX1VJRDtcblxuICAgICAgICB2YXIgc2lnbmF0dXJlID0gdGhpcy5nZXRTaWduYXR1cmUoZ2VvbWV0cnksIHByb2dyYW0pO1xuXG4gICAgICAgIHZhciB2YW9PYmplY3RIYXNoID0gZ2VvbWV0cnkuZ2xWZXJ0ZXhBcnJheU9iamVjdHNbdGhpcy5DT05URVhUX1VJRF07XG5cbiAgICAgICAgdmFyIHZhbyA9IHZhb09iamVjdEhhc2hbc2lnbmF0dXJlXTtcblxuICAgICAgICBpZiAodmFvKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyB0aGlzIHdpbGwgZ2l2ZSB1cyBlYXN5IGFjY2VzcyB0byB0aGUgdmFvXG4gICAgICAgICAgICB2YW9PYmplY3RIYXNoW3Byb2dyYW0uaWRdID0gdmFvO1xuXG4gICAgICAgICAgICByZXR1cm4gdmFvO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJ1ZmZlcnMgPSBnZW9tZXRyeS5idWZmZXJzO1xuICAgICAgICB2YXIgYXR0cmlidXRlcyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXM7XG4gICAgICAgIHZhciB0ZW1wU3RyaWRlID0ge307XG4gICAgICAgIHZhciB0ZW1wU3RhcnQgPSB7fTtcblxuICAgICAgICBmb3IgKHZhciBqIGluIGJ1ZmZlcnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRlbXBTdHJpZGVbal0gPSAwO1xuICAgICAgICAgICAgdGVtcFN0YXJ0W2pdID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGokMSBpbiBhdHRyaWJ1dGVzKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIWF0dHJpYnV0ZXNbaiQxXS5zaXplICYmIHByb2dyYW0uYXR0cmlidXRlRGF0YVtqJDFdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXNbaiQxXS5zaXplID0gcHJvZ3JhbS5hdHRyaWJ1dGVEYXRhW2okMV0uc2l6ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCFhdHRyaWJ1dGVzW2okMV0uc2l6ZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oKFwiUElYSSBHZW9tZXRyeSBhdHRyaWJ1dGUgJ1wiICsgaiQxICsgXCInIHNpemUgY2Fubm90IGJlIGRldGVybWluZWQgKGxpa2VseSB0aGUgYm91bmQgc2hhZGVyIGRvZXMgbm90IGhhdmUgdGhlIGF0dHJpYnV0ZSlcIikpOyAgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0ZW1wU3RyaWRlW2F0dHJpYnV0ZXNbaiQxXS5idWZmZXJdICs9IGF0dHJpYnV0ZXNbaiQxXS5zaXplICogYnl0ZVNpemVNYXAkMVthdHRyaWJ1dGVzW2okMV0udHlwZV07XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBqJDIgaW4gYXR0cmlidXRlcylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZSA9IGF0dHJpYnV0ZXNbaiQyXTtcbiAgICAgICAgICAgIHZhciBhdHRyaWJTaXplID0gYXR0cmlidXRlLnNpemU7XG5cbiAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUuc3RyaWRlID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHRlbXBTdHJpZGVbYXR0cmlidXRlLmJ1ZmZlcl0gPT09IGF0dHJpYlNpemUgKiBieXRlU2l6ZU1hcCQxW2F0dHJpYnV0ZS50eXBlXSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS5zdHJpZGUgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUuc3RyaWRlID0gdGVtcFN0cmlkZVthdHRyaWJ1dGUuYnVmZmVyXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUuc3RhcnQgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGUuc3RhcnQgPSB0ZW1wU3RhcnRbYXR0cmlidXRlLmJ1ZmZlcl07XG5cbiAgICAgICAgICAgICAgICB0ZW1wU3RhcnRbYXR0cmlidXRlLmJ1ZmZlcl0gKz0gYXR0cmliU2l6ZSAqIGJ5dGVTaXplTWFwJDFbYXR0cmlidXRlLnR5cGVdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFvID0gZ2wuY3JlYXRlVmVydGV4QXJyYXkoKTtcblxuICAgICAgICBnbC5iaW5kVmVydGV4QXJyYXkodmFvKTtcblxuICAgICAgICAvLyBmaXJzdCB1cGRhdGUgLSBhbmQgY3JlYXRlIHRoZSBidWZmZXJzIVxuICAgICAgICAvLyBvbmx5IGNyZWF0ZSBhIGdsIGJ1ZmZlciBpZiBpdCBhY3R1YWxseSBnZXRzXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnVmZmVycy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IGJ1ZmZlcnNbaV07XG5cbiAgICAgICAgICAgIGlmICghYnVmZmVyLl9nbEJ1ZmZlcnNbQ09OVEVYVF9VSURdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJ1ZmZlci5fZ2xCdWZmZXJzW0NPTlRFWFRfVUlEXSA9IG5ldyBHTEJ1ZmZlcihnbC5jcmVhdGVCdWZmZXIoKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tYW5hZ2VkQnVmZmVyc1tidWZmZXIuaWRdID0gYnVmZmVyO1xuICAgICAgICAgICAgICAgIGJ1ZmZlci5kaXNwb3NlUnVubmVyLmFkZCh0aGlzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnVmZmVyLl9nbEJ1ZmZlcnNbQ09OVEVYVF9VSURdLnJlZkNvdW50Kys7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPIC0gbWF5YmUgbWFrZSB0aGlzIGEgZGF0YSBvYmplY3Q/XG4gICAgICAgIC8vIGxldHMgd2FpdCB0byBzZWUgaWYgd2UgbmVlZCB0byBmaXJzdCFcblxuICAgICAgICB0aGlzLmFjdGl2YXRlVmFvKGdlb21ldHJ5LCBwcm9ncmFtKTtcblxuICAgICAgICB0aGlzLl9hY3RpdmVWYW8gPSB2YW87XG5cbiAgICAgICAgLy8gYWRkIGl0IHRvIHRoZSBjYWNoZSFcbiAgICAgICAgdmFvT2JqZWN0SGFzaFtwcm9ncmFtLmlkXSA9IHZhbztcbiAgICAgICAgdmFvT2JqZWN0SGFzaFtzaWduYXR1cmVdID0gdmFvO1xuXG4gICAgICAgIHJldHVybiB2YW87XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERpc3Bvc2VzIGJ1ZmZlclxuICAgICAqIEBwYXJhbSB7UElYSS5CdWZmZXJ9IGJ1ZmZlciBidWZmZXIgd2l0aCBkYXRhXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY29udGV4dExvc3Q9ZmFsc2VdIElmIGNvbnRleHQgd2FzIGxvc3QsIHdlIHN1cHByZXNzIGRlbGV0ZVZlcnRleEFycmF5XG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLmRpc3Bvc2VCdWZmZXIgPSBmdW5jdGlvbiBkaXNwb3NlQnVmZmVyIChidWZmZXIsIGNvbnRleHRMb3N0KVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLm1hbmFnZWRCdWZmZXJzW2J1ZmZlci5pZF0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGRlbGV0ZSB0aGlzLm1hbmFnZWRCdWZmZXJzW2J1ZmZlci5pZF07XG5cbiAgICAgICAgdmFyIGdsQnVmZmVyID0gYnVmZmVyLl9nbEJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICAgICAgYnVmZmVyLmRpc3Bvc2VSdW5uZXIucmVtb3ZlKHRoaXMpO1xuXG4gICAgICAgIGlmICghZ2xCdWZmZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghY29udGV4dExvc3QpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLmRlbGV0ZUJ1ZmZlcihnbEJ1ZmZlci5idWZmZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVsZXRlIGJ1ZmZlci5fZ2xCdWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEaXNwb3NlcyBnZW9tZXRyeVxuICAgICAqIEBwYXJhbSB7UElYSS5HZW9tZXRyeX0gZ2VvbWV0cnkgR2VvbWV0cnkgd2l0aCBidWZmZXJzLiBPbmx5IFZBTyB3aWxsIGJlIGRpc3Bvc2VkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY29udGV4dExvc3Q9ZmFsc2VdIElmIGNvbnRleHQgd2FzIGxvc3QsIHdlIHN1cHByZXNzIGRlbGV0ZVZlcnRleEFycmF5XG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLmRpc3Bvc2VHZW9tZXRyeSA9IGZ1bmN0aW9uIGRpc3Bvc2VHZW9tZXRyeSAoZ2VvbWV0cnksIGNvbnRleHRMb3N0KVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLm1hbmFnZWRHZW9tZXRyaWVzW2dlb21ldHJ5LmlkXSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVsZXRlIHRoaXMubWFuYWdlZEdlb21ldHJpZXNbZ2VvbWV0cnkuaWRdO1xuXG4gICAgICAgIHZhciB2YW9zID0gZ2VvbWV0cnkuZ2xWZXJ0ZXhBcnJheU9iamVjdHNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIHZhciBidWZmZXJzID0gZ2VvbWV0cnkuYnVmZmVycztcblxuICAgICAgICBnZW9tZXRyeS5kaXNwb3NlUnVubmVyLnJlbW92ZSh0aGlzKTtcblxuICAgICAgICBpZiAoIXZhb3MpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnVmZmVycy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGJ1ZiA9IGJ1ZmZlcnNbaV0uX2dsQnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICAgICAgYnVmLnJlZkNvdW50LS07XG4gICAgICAgICAgICBpZiAoYnVmLnJlZkNvdW50ID09PSAwICYmICFjb250ZXh0TG9zdClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3Bvc2VCdWZmZXIoYnVmZmVyc1tpXSwgY29udGV4dExvc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFjb250ZXh0TG9zdClcbiAgICAgICAge1xuICAgICAgICAgICAgZm9yICh2YXIgdmFvSWQgaW4gdmFvcylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBkZWxldGUgb25seSBzaWduYXR1cmVzLCBldmVyeXRoaW5nIGVsc2UgYXJlIGNvcGllc1xuICAgICAgICAgICAgICAgIGlmICh2YW9JZFswXSA9PT0gJ2cnKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbyA9IHZhb3NbdmFvSWRdO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9hY3RpdmVWYW8gPT09IHZhbylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51bmJpbmQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBnbC5kZWxldGVWZXJ0ZXhBcnJheSh2YW8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGRlbGV0ZSBnZW9tZXRyeS5nbFZlcnRleEFycmF5T2JqZWN0c1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogZGlzcG9zZSBhbGwgV2ViR0wgcmVzb3VyY2VzIG9mIGFsbCBtYW5hZ2VkIGdlb21ldHJpZXMgYW5kIGJ1ZmZlcnNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjb250ZXh0TG9zdD1mYWxzZV0gSWYgY29udGV4dCB3YXMgbG9zdCwgd2Ugc3VwcHJlc3MgYGdsLmRlbGV0ZWAgY2FsbHNcbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuZGlzcG9zZUFsbCA9IGZ1bmN0aW9uIGRpc3Bvc2VBbGwgKGNvbnRleHRMb3N0KVxuICAgIHtcbiAgICAgICAgdmFyIGFsbCA9IE9iamVjdC5rZXlzKHRoaXMubWFuYWdlZEdlb21ldHJpZXMpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2VHZW9tZXRyeSh0aGlzLm1hbmFnZWRHZW9tZXRyaWVzW2FsbFtpXV0sIGNvbnRleHRMb3N0KTtcbiAgICAgICAgfVxuICAgICAgICBhbGwgPSBPYmplY3Qua2V5cyh0aGlzLm1hbmFnZWRCdWZmZXJzKTtcbiAgICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgYWxsLmxlbmd0aDsgaSQxKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZUJ1ZmZlcih0aGlzLm1hbmFnZWRCdWZmZXJzW2FsbFtpJDFdXSwgY29udGV4dExvc3QpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFjdGl2YXRlIHZlcnRleCBhcnJheSBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuR2VvbWV0cnl9IGdlb21ldHJ5IC0gR2VvbWV0cnkgaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge1BJWEkuUHJvZ3JhbX0gcHJvZ3JhbSAtIFNoYWRlciBwcm9ncmFtIGluc3RhbmNlXG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLmFjdGl2YXRlVmFvID0gZnVuY3Rpb24gYWN0aXZhdGVWYW8gKGdlb21ldHJ5LCBwcm9ncmFtKVxuICAgIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgdmFyIENPTlRFWFRfVUlEID0gdGhpcy5DT05URVhUX1VJRDtcbiAgICAgICAgdmFyIGJ1ZmZlcnMgPSBnZW9tZXRyeS5idWZmZXJzO1xuICAgICAgICB2YXIgYXR0cmlidXRlcyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXM7XG5cbiAgICAgICAgaWYgKGdlb21ldHJ5LmluZGV4QnVmZmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBmaXJzdCB1cGRhdGUgdGhlIGluZGV4IGJ1ZmZlciBpZiB3ZSBoYXZlIG9uZS4uXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBnZW9tZXRyeS5pbmRleEJ1ZmZlci5fZ2xCdWZmZXJzW0NPTlRFWFRfVUlEXS5idWZmZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxhc3RCdWZmZXIgPSBudWxsO1xuXG4gICAgICAgIC8vIGFkZCBhIG5ldyBvbmUhXG4gICAgICAgIGZvciAodmFyIGogaW4gYXR0cmlidXRlcylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZSA9IGF0dHJpYnV0ZXNbal07XG4gICAgICAgICAgICB2YXIgYnVmZmVyID0gYnVmZmVyc1thdHRyaWJ1dGUuYnVmZmVyXTtcbiAgICAgICAgICAgIHZhciBnbEJ1ZmZlciA9IGJ1ZmZlci5fZ2xCdWZmZXJzW0NPTlRFWFRfVUlEXTtcblxuICAgICAgICAgICAgaWYgKHByb2dyYW0uYXR0cmlidXRlRGF0YVtqXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAobGFzdEJ1ZmZlciAhPT0gZ2xCdWZmZXIpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgZ2xCdWZmZXIuYnVmZmVyKTtcblxuICAgICAgICAgICAgICAgICAgICBsYXN0QnVmZmVyID0gZ2xCdWZmZXI7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIGxvY2F0aW9uID0gcHJvZ3JhbS5hdHRyaWJ1dGVEYXRhW2pdLmxvY2F0aW9uO1xuXG4gICAgICAgICAgICAgICAgLy8gVE9ETyBpbnRyb2R1Y2Ugc3RhdGUgYWdhaW5cbiAgICAgICAgICAgICAgICAvLyB3ZSBjYW4gb3B0aW1pc2UgdGhpcyBmb3Igb2xkZXIgZGV2aWNlcyB0aGF0IGhhdmUgbm8gVkFPc1xuICAgICAgICAgICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGxvY2F0aW9uKTtcblxuICAgICAgICAgICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIobG9jYXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS5zaXplLFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUudHlwZSB8fCBnbC5GTE9BVCxcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlLm5vcm1hbGl6ZWQsXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS5zdHJpZGUsXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS5zdGFydCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlLmluc3RhbmNlKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyBjYWxjdWxhdGUgaW5zdGFuY2UgY291bnQgYmFzZWQgb2YgdGhpcy4uLlxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5oYXNJbnN0YW5jZSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2wudmVydGV4QXR0cmliRGl2aXNvcihsb2NhdGlvbiwgMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2dlb21ldHJ5IGVycm9yLCBHUFUgSW5zdGFuY2luZyBpcyBub3Qgc3VwcG9ydGVkIG9uIHRoaXMgZGV2aWNlJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhdyB0aGUgZ2VvbWV0cnlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB0eXBlIC0gdGhlIHR5cGUgcHJpbWl0aXZlIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc2l6ZV0gLSB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIGJlIHJlbmRlcmVkXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtzdGFydF0gLSBTdGFydGluZyBpbmRleFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbaW5zdGFuY2VDb3VudF0gLSB0aGUgbnVtYmVyIG9mIGluc3RhbmNlcyBvZiB0aGUgc2V0IG9mIGVsZW1lbnRzIHRvIGV4ZWN1dGVcbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uIGRyYXcgKHR5cGUsIHNpemUsIHN0YXJ0LCBpbnN0YW5jZUNvdW50KVxuICAgIHtcbiAgICAgICAgdmFyIHJlZiA9IHRoaXM7XG4gICAgICAgIHZhciBnbCA9IHJlZi5nbDtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5fYWN0aXZlR2VvbWV0cnk7XG5cbiAgICAgICAgLy8gVE9ETy4uIHRoaXMgc2hvdWxkIG5vdCBjaGFuZ2Ugc28gbWF5YmUgY2FjaGUgdGhlIGZ1bmN0aW9uP1xuXG4gICAgICAgIGlmIChnZW9tZXRyeS5pbmRleEJ1ZmZlcilcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGJ5dGVTaXplID0gZ2VvbWV0cnkuaW5kZXhCdWZmZXIuZGF0YS5CWVRFU19QRVJfRUxFTUVOVDtcbiAgICAgICAgICAgIHZhciBnbFR5cGUgPSBieXRlU2l6ZSA9PT0gMiA/IGdsLlVOU0lHTkVEX1NIT1JUIDogZ2wuVU5TSUdORURfSU5UO1xuXG4gICAgICAgICAgICBpZiAoYnl0ZVNpemUgPT09IDIgfHwgKGJ5dGVTaXplID09PSA0ICYmIHRoaXMuY2FuVXNlVUludDMyRWxlbWVudEluZGV4KSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoZ2VvbWV0cnkuaW5zdGFuY2VkKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgICAgICAgICAgICAgICAgICBnbC5kcmF3RWxlbWVudHNJbnN0YW5jZWQodHlwZSwgc2l6ZSB8fCBnZW9tZXRyeS5pbmRleEJ1ZmZlci5kYXRhLmxlbmd0aCwgZ2xUeXBlLCAoc3RhcnQgfHwgMCkgKiBieXRlU2l6ZSwgaW5zdGFuY2VDb3VudCB8fCAxKTtcbiAgICAgICAgICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBtYXgtbGVuICovXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICAgICAgICAgICAgICAgICAgZ2wuZHJhd0VsZW1lbnRzKHR5cGUsIHNpemUgfHwgZ2VvbWV0cnkuaW5kZXhCdWZmZXIuZGF0YS5sZW5ndGgsIGdsVHlwZSwgKHN0YXJ0IHx8IDApICogYnl0ZVNpemUpO1xuICAgICAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG1heC1sZW4gKi9cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCd1bnN1cHBvcnRlZCBpbmRleCBidWZmZXIgdHlwZTogdWludDMyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZ2VvbWV0cnkuaW5zdGFuY2VkKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBUT0RPIG5lZWQgYSBiZXR0ZXIgd2F5IHRvIGNhbGN1bGF0ZSBzaXplLi5cbiAgICAgICAgICAgIGdsLmRyYXdBcnJheXNJbnN0YW5jZWQodHlwZSwgc3RhcnQsIHNpemUgfHwgZ2VvbWV0cnkuZ2V0U2l6ZSgpLCBpbnN0YW5jZUNvdW50IHx8IDEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wuZHJhd0FycmF5cyh0eXBlLCBzdGFydCwgc2l6ZSB8fCBnZW9tZXRyeS5nZXRTaXplKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVuYmluZC9yZXNldCBldmVyeXRoaW5nXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdlb21ldHJ5U3lzdGVtLnByb3RvdHlwZS51bmJpbmQgPSBmdW5jdGlvbiB1bmJpbmQgKClcbiAgICB7XG4gICAgICAgIHRoaXMuZ2wuYmluZFZlcnRleEFycmF5KG51bGwpO1xuICAgICAgICB0aGlzLl9hY3RpdmVWYW8gPSBudWxsO1xuICAgICAgICB0aGlzLl9hY3RpdmVHZW9tZXRyeSA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBHZW9tZXRyeVN5c3RlbTtcbn0oU3lzdGVtKSk7XG5cbi8qKlxuICogQG1ldGhvZCBjb21waWxlUHJvZ3JhbVxuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJLmdsQ29yZS5zaGFkZXJcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgY3VycmVudCBXZWJHTCBjb250ZXh0IHtXZWJHTFByb2dyYW19XG4gKiBAcGFyYW0gdmVydGV4U3JjIHtzdHJpbmd8c3RyaW5nW119IFRoZSB2ZXJ0ZXggc2hhZGVyIHNvdXJjZSBhcyBhbiBhcnJheSBvZiBzdHJpbmdzLlxuICogQHBhcmFtIGZyYWdtZW50U3JjIHtzdHJpbmd8c3RyaW5nW119IFRoZSBmcmFnbWVudCBzaGFkZXIgc291cmNlIGFzIGFuIGFycmF5IG9mIHN0cmluZ3MuXG4gKiBAcGFyYW0gYXR0cmlidXRlTG9jYXRpb25zIHtPYmplY3R9IEFuIGF0dHJpYnV0ZSBsb2NhdGlvbiBtYXAgdGhhdCBsZXRzIHlvdSBtYW51YWxseSBzZXQgdGhlIGF0dHJpYnV0ZSBsb2NhdGlvbnNcbiAqIEByZXR1cm4ge1dlYkdMUHJvZ3JhbX0gdGhlIHNoYWRlciBwcm9ncmFtXG4gKi9cbmZ1bmN0aW9uIGNvbXBpbGVQcm9ncmFtKGdsLCB2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCBhdHRyaWJ1dGVMb2NhdGlvbnMpXG57XG4gICAgdmFyIGdsVmVydFNoYWRlciA9IGNvbXBpbGVTaGFkZXIoZ2wsIGdsLlZFUlRFWF9TSEFERVIsIHZlcnRleFNyYyk7XG4gICAgdmFyIGdsRnJhZ1NoYWRlciA9IGNvbXBpbGVTaGFkZXIoZ2wsIGdsLkZSQUdNRU5UX1NIQURFUiwgZnJhZ21lbnRTcmMpO1xuXG4gICAgdmFyIHByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7XG5cbiAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZ2xWZXJ0U2hhZGVyKTtcbiAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZ2xGcmFnU2hhZGVyKTtcblxuICAgIC8vIG9wdGlvbmFsbHksIHNldCB0aGUgYXR0cmlidXRlcyBtYW51YWxseSBmb3IgdGhlIHByb2dyYW0gcmF0aGVyIHRoYW4gbGV0dGluZyBXZWJHTCBkZWNpZGUuLlxuICAgIGlmIChhdHRyaWJ1dGVMb2NhdGlvbnMpXG4gICAge1xuICAgICAgICBmb3IgKHZhciBpIGluIGF0dHJpYnV0ZUxvY2F0aW9ucylcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wuYmluZEF0dHJpYkxvY2F0aW9uKHByb2dyYW0sIGF0dHJpYnV0ZUxvY2F0aW9uc1tpXSwgaSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnbC5saW5rUHJvZ3JhbShwcm9ncmFtKTtcblxuICAgIC8vIGlmIGxpbmtpbmcgZmFpbHMsIHRoZW4gbG9nIGFuZCBjbGVhbnVwXG4gICAgaWYgKCFnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIGdsLkxJTktfU1RBVFVTKSlcbiAgICB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1BpeGkuanMgRXJyb3I6IENvdWxkIG5vdCBpbml0aWFsaXplIHNoYWRlci4nKTtcbiAgICAgICAgY29uc29sZS5lcnJvcignZ2wuVkFMSURBVEVfU1RBVFVTJywgZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5WQUxJREFURV9TVEFUVVMpKTtcbiAgICAgICAgY29uc29sZS5lcnJvcignZ2wuZ2V0RXJyb3IoKScsIGdsLmdldEVycm9yKCkpO1xuXG4gICAgICAgIC8vIGlmIHRoZXJlIGlzIGEgcHJvZ3JhbSBpbmZvIGxvZywgbG9nIGl0XG4gICAgICAgIGlmIChnbC5nZXRQcm9ncmFtSW5mb0xvZyhwcm9ncmFtKSAhPT0gJycpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignUGl4aS5qcyBXYXJuaW5nOiBnbC5nZXRQcm9ncmFtSW5mb0xvZygpJywgZ2wuZ2V0UHJvZ3JhbUluZm9Mb2cocHJvZ3JhbSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2wuZGVsZXRlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgcHJvZ3JhbSA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gY2xlYW4gdXAgc29tZSBzaGFkZXJzXG4gICAgZ2wuZGVsZXRlU2hhZGVyKGdsVmVydFNoYWRlcik7XG4gICAgZ2wuZGVsZXRlU2hhZGVyKGdsRnJhZ1NoYWRlcik7XG5cbiAgICByZXR1cm4gcHJvZ3JhbTtcbn1cblxuLyoqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIGdsIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IFRoZSBjdXJyZW50IFdlYkdMIGNvbnRleHQge1dlYkdMUHJvZ3JhbX1cbiAqIEBwYXJhbSB0eXBlIHtOdW1iZXJ9IHRoZSB0eXBlLCBjYW4gYmUgZWl0aGVyIFZFUlRFWF9TSEFERVIgb3IgRlJBR01FTlRfU0hBREVSXG4gKiBAcGFyYW0gdmVydGV4U3JjIHtzdHJpbmd8c3RyaW5nW119IFRoZSB2ZXJ0ZXggc2hhZGVyIHNvdXJjZSBhcyBhbiBhcnJheSBvZiBzdHJpbmdzLlxuICogQHJldHVybiB7V2ViR0xTaGFkZXJ9IHRoZSBzaGFkZXJcbiAqL1xuZnVuY3Rpb24gY29tcGlsZVNoYWRlcihnbCwgdHlwZSwgc3JjKVxue1xuICAgIHZhciBzaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIodHlwZSk7XG5cbiAgICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBzcmMpO1xuICAgIGdsLmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtcblxuICAgIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpKVxuICAgIHtcbiAgICAgICAgY29uc29sZS53YXJuKHNyYyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZ2wuZ2V0U2hhZGVySW5mb0xvZyhzaGFkZXIpKTtcblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gc2hhZGVyO1xufVxuXG4vKipcbiAqIEBtZXRob2QgZGVmYXVsdFZhbHVlXG4gKiBAbWVtYmVyb2YgUElYSS5nbENvcmUuc2hhZGVyXG4gKiBAcGFyYW0gdHlwZSB7U3RyaW5nfSBUeXBlIG9mIHZhbHVlXG4gKiBAcGFyYW0gc2l6ZSB7TnVtYmVyfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZGVmYXVsdFZhbHVlKHR5cGUsIHNpemUpXG57XG4gICAgc3dpdGNoICh0eXBlKVxuICAgIHtcbiAgICAgICAgY2FzZSAnZmxvYXQnOlxuICAgICAgICAgICAgcmV0dXJuIDA7XG5cbiAgICAgICAgY2FzZSAndmVjMic6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSgyICogc2l6ZSk7XG5cbiAgICAgICAgY2FzZSAndmVjMyc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSgzICogc2l6ZSk7XG5cbiAgICAgICAgY2FzZSAndmVjNCc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSg0ICogc2l6ZSk7XG5cbiAgICAgICAgY2FzZSAnaW50JzpcbiAgICAgICAgY2FzZSAnc2FtcGxlcjJEJzpcbiAgICAgICAgY2FzZSAnc2FtcGxlcjJEQXJyYXknOlxuICAgICAgICAgICAgcmV0dXJuIDA7XG5cbiAgICAgICAgY2FzZSAnaXZlYzInOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnQzMkFycmF5KDIgKiBzaXplKTtcblxuICAgICAgICBjYXNlICdpdmVjMyc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEludDMyQXJyYXkoMyAqIHNpemUpO1xuXG4gICAgICAgIGNhc2UgJ2l2ZWM0JzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW50MzJBcnJheSg0ICogc2l6ZSk7XG5cbiAgICAgICAgY2FzZSAnYm9vbCc6XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgY2FzZSAnYnZlYzInOlxuXG4gICAgICAgICAgICByZXR1cm4gYm9vbGVhbkFycmF5KDIgKiBzaXplKTtcblxuICAgICAgICBjYXNlICdidmVjMyc6XG4gICAgICAgICAgICByZXR1cm4gYm9vbGVhbkFycmF5KDMgKiBzaXplKTtcblxuICAgICAgICBjYXNlICdidmVjNCc6XG4gICAgICAgICAgICByZXR1cm4gYm9vbGVhbkFycmF5KDQgKiBzaXplKTtcblxuICAgICAgICBjYXNlICdtYXQyJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KFsxLCAwLFxuICAgICAgICAgICAgICAgIDAsIDFdKTtcblxuICAgICAgICBjYXNlICdtYXQzJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KFsxLCAwLCAwLFxuICAgICAgICAgICAgICAgIDAsIDEsIDAsXG4gICAgICAgICAgICAgICAgMCwgMCwgMV0pO1xuXG4gICAgICAgIGNhc2UgJ21hdDQnOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoWzEsIDAsIDAsIDAsXG4gICAgICAgICAgICAgICAgMCwgMSwgMCwgMCxcbiAgICAgICAgICAgICAgICAwLCAwLCAxLCAwLFxuICAgICAgICAgICAgICAgIDAsIDAsIDAsIDFdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gYm9vbGVhbkFycmF5KHNpemUpXG57XG4gICAgdmFyIGFycmF5ID0gbmV3IEFycmF5KHNpemUpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICAgIGFycmF5W2ldID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFycmF5O1xufVxuXG52YXIgdW5rbm93bkNvbnRleHQgPSB7fTtcbnZhciBjb250ZXh0ID0gdW5rbm93bkNvbnRleHQ7XG5cbi8qKlxuICogcmV0dXJucyBhIGxpdHRsZSBXZWJHTCBjb250ZXh0IHRvIHVzZSBmb3IgcHJvZ3JhbSBpbnNwZWN0aW9uLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJucyB7d2ViR0wtY29udGV4dH0gYSBnbCBjb250ZXh0IHRvIHRlc3Qgd2l0aFxuICovXG5mdW5jdGlvbiBnZXRUZXN0Q29udGV4dCgpXG57XG4gICAgaWYgKGNvbnRleHQgPT09IHVua25vd25Db250ZXh0KVxuICAgIHtcbiAgICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXG4gICAgICAgIHZhciBnbDtcblxuICAgICAgICBpZiAoc2V0dGluZ3MuUFJFRkVSX0VOViA+PSBFTlYuV0VCR0wyKVxuICAgICAgICB7XG4gICAgICAgICAgICBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbDInLCB7fSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWdsKVxuICAgICAgICB7XG4gICAgICAgICAgICBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbCcsIHt9KVxuICAgICAgICAgICAgfHwgY2FudmFzLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcsIHt9KTtcblxuICAgICAgICAgICAgaWYgKCFnbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBmYWlsLCBub3QgYWJsZSB0byBnZXQgYSBjb250ZXh0XG4gICAgICAgICAgICAgICAgZ2wgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGZvciBzaGFkZXIgdGVzdGluZy4uXG4gICAgICAgICAgICAgICAgZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9kcmF3X2J1ZmZlcnMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQgPSBnbDtcbiAgICB9XG5cbiAgICByZXR1cm4gY29udGV4dDtcbn1cblxudmFyIG1heEZyYWdtZW50UHJlY2lzaW9uO1xuXG5mdW5jdGlvbiBnZXRNYXhGcmFnbWVudFByZWNpc2lvbigpXG57XG4gICAgaWYgKCFtYXhGcmFnbWVudFByZWNpc2lvbilcbiAgICB7XG4gICAgICAgIG1heEZyYWdtZW50UHJlY2lzaW9uID0gUFJFQ0lTSU9OLk1FRElVTTtcbiAgICAgICAgdmFyIGdsID0gZ2V0VGVzdENvbnRleHQoKTtcblxuICAgICAgICBpZiAoZ2wpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChnbC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIHNoYWRlckZyYWdtZW50ID0gZ2wuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KGdsLkZSQUdNRU5UX1NIQURFUiwgZ2wuSElHSF9GTE9BVCk7XG5cbiAgICAgICAgICAgICAgICBtYXhGcmFnbWVudFByZWNpc2lvbiA9IHNoYWRlckZyYWdtZW50LnByZWNpc2lvbiA/IFBSRUNJU0lPTi5ISUdIIDogUFJFQ0lTSU9OLk1FRElVTTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBtYXhGcmFnbWVudFByZWNpc2lvbjtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBmbG9hdCBwcmVjaXNpb24gb24gdGhlIHNoYWRlciwgZW5zdXJpbmcgdGhlIGRldmljZSBzdXBwb3J0cyB0aGUgcmVxdWVzdCBwcmVjaXNpb24uXG4gKiBJZiB0aGUgcHJlY2lzaW9uIGlzIGFscmVhZHkgcHJlc2VudCwgaXQganVzdCBlbnN1cmVzIHRoYXQgdGhlIGRldmljZSBpcyBhYmxlIHRvIGhhbmRsZSBpdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IHNyYyAtIFRoZSBzaGFkZXIgc291cmNlXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVxdWVzdGVkUHJlY2lzaW9uIC0gVGhlIHJlcXVlc3QgZmxvYXQgcHJlY2lzaW9uIG9mIHRoZSBzaGFkZXIuIE9wdGlvbnMgYXJlICdsb3dwJywgJ21lZGl1bXAnIG9yICdoaWdocCcuXG4gKiBAcGFyYW0ge3N0cmluZ30gbWF4U3VwcG9ydGVkUHJlY2lzaW9uIC0gVGhlIG1heGltdW0gcHJlY2lzaW9uIHRoZSBzaGFkZXIgc3VwcG9ydHMuXG4gKlxuICogQHJldHVybiB7c3RyaW5nfSBtb2RpZmllZCBzaGFkZXIgc291cmNlXG4gKi9cbmZ1bmN0aW9uIHNldFByZWNpc2lvbihzcmMsIHJlcXVlc3RlZFByZWNpc2lvbiwgbWF4U3VwcG9ydGVkUHJlY2lzaW9uKVxue1xuICAgIGlmIChzcmMuc3Vic3RyaW5nKDAsIDkpICE9PSAncHJlY2lzaW9uJylcbiAgICB7XG4gICAgICAgIC8vIG5vIHByZWNpc2lvbiBzdXBwbGllZCwgc28gUGl4aUpTIHdpbGwgYWRkIHRoZSByZXF1ZXN0ZWQgbGV2ZWwuXG4gICAgICAgIHZhciBwcmVjaXNpb24gPSByZXF1ZXN0ZWRQcmVjaXNpb247XG5cbiAgICAgICAgLy8gSWYgaGlnaHAgaXMgcmVxdWVzdGVkIGJ1dCBub3Qgc3VwcG9ydGVkLCBkb3duZ3JhZGUgcHJlY2lzaW9uIHRvIGEgbGV2ZWwgYWxsIGRldmljZXMgc3VwcG9ydC5cbiAgICAgICAgaWYgKHJlcXVlc3RlZFByZWNpc2lvbiA9PT0gUFJFQ0lTSU9OLkhJR0ggJiYgbWF4U3VwcG9ydGVkUHJlY2lzaW9uICE9PSBQUkVDSVNJT04uSElHSClcbiAgICAgICAge1xuICAgICAgICAgICAgcHJlY2lzaW9uID0gUFJFQ0lTSU9OLk1FRElVTTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAoXCJwcmVjaXNpb24gXCIgKyBwcmVjaXNpb24gKyBcIiBmbG9hdDtcXG5cIiArIHNyYyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG1heFN1cHBvcnRlZFByZWNpc2lvbiAhPT0gUFJFQ0lTSU9OLkhJR0ggJiYgc3JjLnN1YnN0cmluZygwLCAxNSkgPT09ICdwcmVjaXNpb24gaGlnaHAnKVxuICAgIHtcbiAgICAgICAgLy8gcHJlY2lzaW9uIHdhcyBzdXBwbGllZCwgYnV0IGF0IGEgbGV2ZWwgdGhpcyBkZXZpY2UgZG9lcyBub3Qgc3VwcG9ydCwgc28gZG93bmdyYWRpbmcgdG8gbWVkaXVtcC5cbiAgICAgICAgcmV0dXJuIHNyYy5yZXBsYWNlKCdwcmVjaXNpb24gaGlnaHAnLCAncHJlY2lzaW9uIG1lZGl1bXAnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3JjO1xufVxuXG52YXIgR0xTTF9UT19TSVpFID0ge1xuICAgIGZsb2F0OiAgICAxLFxuICAgIHZlYzI6ICAgICAyLFxuICAgIHZlYzM6ICAgICAzLFxuICAgIHZlYzQ6ICAgICA0LFxuXG4gICAgaW50OiAgICAgIDEsXG4gICAgaXZlYzI6ICAgIDIsXG4gICAgaXZlYzM6ICAgIDMsXG4gICAgaXZlYzQ6ICAgIDQsXG5cbiAgICBib29sOiAgICAgMSxcbiAgICBidmVjMjogICAgMixcbiAgICBidmVjMzogICAgMyxcbiAgICBidmVjNDogICAgNCxcblxuICAgIG1hdDI6ICAgICA0LFxuICAgIG1hdDM6ICAgICA5LFxuICAgIG1hdDQ6ICAgICAxNixcblxuICAgIHNhbXBsZXIyRDogIDEsXG59O1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKiBAbWV0aG9kIG1hcFNpemVcbiAqIEBtZW1iZXJvZiBQSVhJLmdsQ29yZS5zaGFkZXJcbiAqIEBwYXJhbSB0eXBlIHtTdHJpbmd9XG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIG1hcFNpemUodHlwZSlcbntcbiAgICByZXR1cm4gR0xTTF9UT19TSVpFW3R5cGVdO1xufVxuXG52YXIgR0xfVEFCTEUgPSBudWxsO1xuXG52YXIgR0xfVE9fR0xTTF9UWVBFUyA9IHtcbiAgICBGTE9BVDogICAgICAgJ2Zsb2F0JyxcbiAgICBGTE9BVF9WRUMyOiAgJ3ZlYzInLFxuICAgIEZMT0FUX1ZFQzM6ICAndmVjMycsXG4gICAgRkxPQVRfVkVDNDogICd2ZWM0JyxcblxuICAgIElOVDogICAgICAgICAnaW50JyxcbiAgICBJTlRfVkVDMjogICAgJ2l2ZWMyJyxcbiAgICBJTlRfVkVDMzogICAgJ2l2ZWMzJyxcbiAgICBJTlRfVkVDNDogICAgJ2l2ZWM0JyxcblxuICAgIEJPT0w6ICAgICAgICAnYm9vbCcsXG4gICAgQk9PTF9WRUMyOiAgICdidmVjMicsXG4gICAgQk9PTF9WRUMzOiAgICdidmVjMycsXG4gICAgQk9PTF9WRUM0OiAgICdidmVjNCcsXG5cbiAgICBGTE9BVF9NQVQyOiAgJ21hdDInLFxuICAgIEZMT0FUX01BVDM6ICAnbWF0MycsXG4gICAgRkxPQVRfTUFUNDogICdtYXQ0JyxcblxuICAgIFNBTVBMRVJfMkQ6ICAnc2FtcGxlcjJEJyxcbiAgICBTQU1QTEVSX0NVQkU6ICAnc2FtcGxlckN1YmUnLFxuICAgIFNBTVBMRVJfMkRfQVJSQVk6ICAnc2FtcGxlcjJEQXJyYXknLFxufTtcblxuZnVuY3Rpb24gbWFwVHlwZShnbCwgdHlwZSlcbntcbiAgICBpZiAoIUdMX1RBQkxFKVxuICAgIHtcbiAgICAgICAgdmFyIHR5cGVOYW1lcyA9IE9iamVjdC5rZXlzKEdMX1RPX0dMU0xfVFlQRVMpO1xuXG4gICAgICAgIEdMX1RBQkxFID0ge307XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0eXBlTmFtZXMubGVuZ3RoOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB0biA9IHR5cGVOYW1lc1tpXTtcblxuICAgICAgICAgICAgR0xfVEFCTEVbZ2xbdG5dXSA9IEdMX1RPX0dMU0xfVFlQRVNbdG5dO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIEdMX1RBQkxFW3R5cGVdO1xufVxuXG4vLyBjdiA9IENhY2hlZFZhbHVlXG4vLyB2ID0gdmFsdWVcbi8vIHVkID0gdW5pZm9ybURhdGFcbi8vIHV2ID0gdW5pZm9ybVZhbHVlXG4vLyBsID0gbG9jYXRpb25cbnZhciBHTFNMX1RPX1NJTkdMRV9TRVRURVJTX0NBQ0hFRCA9IHtcblxuICAgIGZsb2F0OiBcIlxcbiAgICBpZihjdiAhPT0gdilcXG4gICAge1xcbiAgICAgICAgY3YudiA9IHY7XFxuICAgICAgICBnbC51bmlmb3JtMWYobG9jYXRpb24sIHYpXFxuICAgIH1cIixcblxuICAgIHZlYzI6IFwiXFxuICAgIGlmKGN2WzBdICE9PSB2WzBdIHx8IGN2WzFdICE9PSB2WzFdKVxcbiAgICB7XFxuICAgICAgICBjdlswXSA9IHZbMF07XFxuICAgICAgICBjdlsxXSA9IHZbMV07XFxuICAgICAgICBnbC51bmlmb3JtMmYobG9jYXRpb24sIHZbMF0sIHZbMV0pXFxuICAgIH1cIixcblxuICAgIHZlYzM6IFwiXFxuICAgIGlmKGN2WzBdICE9PSB2WzBdIHx8IGN2WzFdICE9PSB2WzFdIHx8IGN2WzJdICE9PSB2WzJdKVxcbiAgICB7XFxuICAgICAgICBjdlswXSA9IHZbMF07XFxuICAgICAgICBjdlsxXSA9IHZbMV07XFxuICAgICAgICBjdlsyXSA9IHZbMl07XFxuXFxuICAgICAgICBnbC51bmlmb3JtM2YobG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0pXFxuICAgIH1cIixcblxuICAgIHZlYzQ6ICAgICAnZ2wudW5pZm9ybTRmKGxvY2F0aW9uLCB2WzBdLCB2WzFdLCB2WzJdLCB2WzNdKScsXG5cbiAgICBpbnQ6ICAgICAgJ2dsLnVuaWZvcm0xaShsb2NhdGlvbiwgdiknLFxuICAgIGl2ZWMyOiAgICAnZ2wudW5pZm9ybTJpKGxvY2F0aW9uLCB2WzBdLCB2WzFdKScsXG4gICAgaXZlYzM6ICAgICdnbC51bmlmb3JtM2kobG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0pJyxcbiAgICBpdmVjNDogICAgJ2dsLnVuaWZvcm00aShsb2NhdGlvbiwgdlswXSwgdlsxXSwgdlsyXSwgdlszXSknLFxuXG4gICAgYm9vbDogICAgICdnbC51bmlmb3JtMWkobG9jYXRpb24sIHYpJyxcbiAgICBidmVjMjogICAgJ2dsLnVuaWZvcm0yaShsb2NhdGlvbiwgdlswXSwgdlsxXSknLFxuICAgIGJ2ZWMzOiAgICAnZ2wudW5pZm9ybTNpKGxvY2F0aW9uLCB2WzBdLCB2WzFdLCB2WzJdKScsXG4gICAgYnZlYzQ6ICAgICdnbC51bmlmb3JtNGkobG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0sIHZbM10pJyxcblxuICAgIG1hdDI6ICAgICAnZ2wudW5pZm9ybU1hdHJpeDJmdihsb2NhdGlvbiwgZmFsc2UsIHYpJyxcbiAgICBtYXQzOiAgICAgJ2dsLnVuaWZvcm1NYXRyaXgzZnYobG9jYXRpb24sIGZhbHNlLCB2KScsXG4gICAgbWF0NDogICAgICdnbC51bmlmb3JtTWF0cml4NGZ2KGxvY2F0aW9uLCBmYWxzZSwgdiknLFxuXG4gICAgc2FtcGxlcjJEOiAgICAgICdnbC51bmlmb3JtMWkobG9jYXRpb24sIHYpJyxcbiAgICBzYW1wbGVyQ3ViZTogICAgJ2dsLnVuaWZvcm0xaShsb2NhdGlvbiwgdiknLFxuICAgIHNhbXBsZXIyREFycmF5OiAnZ2wudW5pZm9ybTFpKGxvY2F0aW9uLCB2KScsXG59O1xuXG52YXIgR0xTTF9UT19BUlJBWV9TRVRURVJTID0ge1xuXG4gICAgZmxvYXQ6ICAgIFwiZ2wudW5pZm9ybTFmdihsb2NhdGlvbiwgdilcIixcblxuICAgIHZlYzI6ICAgICBcImdsLnVuaWZvcm0yZnYobG9jYXRpb24sIHYpXCIsXG4gICAgdmVjMzogICAgIFwiZ2wudW5pZm9ybTNmdihsb2NhdGlvbiwgdilcIixcbiAgICB2ZWM0OiAgICAgJ2dsLnVuaWZvcm00ZnYobG9jYXRpb24sIHYpJyxcblxuICAgIG1hdDQ6ICAgICAnZ2wudW5pZm9ybU1hdHJpeDRmdihsb2NhdGlvbiwgZmFsc2UsIHYpJyxcbiAgICBtYXQzOiAgICAgJ2dsLnVuaWZvcm1NYXRyaXgzZnYobG9jYXRpb24sIGZhbHNlLCB2KScsXG4gICAgbWF0MjogICAgICdnbC51bmlmb3JtTWF0cml4MmZ2KGxvY2F0aW9uLCBmYWxzZSwgdiknLFxuXG4gICAgaW50OiAgICAgICdnbC51bmlmb3JtMWl2KGxvY2F0aW9uLCB2KScsXG4gICAgaXZlYzI6ICAgICdnbC51bmlmb3JtMml2KGxvY2F0aW9uLCB2KScsXG4gICAgaXZlYzM6ICAgICdnbC51bmlmb3JtM2l2KGxvY2F0aW9uLCB2KScsXG4gICAgaXZlYzQ6ICAgICdnbC51bmlmb3JtNGl2KGxvY2F0aW9uLCB2KScsXG5cbiAgICBib29sOiAgICAgJ2dsLnVuaWZvcm0xaXYobG9jYXRpb24sIHYpJyxcbiAgICBidmVjMjogICAgJ2dsLnVuaWZvcm0yaXYobG9jYXRpb24sIHYpJyxcbiAgICBidmVjMzogICAgJ2dsLnVuaWZvcm0zaXYobG9jYXRpb24sIHYpJyxcbiAgICBidmVjNDogICAgJ2dsLnVuaWZvcm00aXYobG9jYXRpb24sIHYpJyxcblxuICAgIHNhbXBsZXIyRDogICAgICAnZ2wudW5pZm9ybTFpdihsb2NhdGlvbiwgdiknLFxuICAgIHNhbXBsZXJDdWJlOiAgICAnZ2wudW5pZm9ybTFpdihsb2NhdGlvbiwgdiknLFxuICAgIHNhbXBsZXIyREFycmF5OiAnZ2wudW5pZm9ybTFpdihsb2NhdGlvbiwgdiknLFxufTtcblxuZnVuY3Rpb24gZ2VuZXJhdGVVbmlmb3Jtc1N5bmMoZ3JvdXAsIHVuaWZvcm1EYXRhKVxue1xuICAgIHZhciB0ZXh0dXJlQ291bnQgPSAwO1xuICAgIHZhciBmdW5jID0gXCJ2YXIgdiA9IG51bGw7XFxuICAgIHZhciBjdiA9IG51bGxcXG4gICAgdmFyIGdsID0gcmVuZGVyZXIuZ2xcIjtcblxuICAgIGZvciAodmFyIGkgaW4gZ3JvdXAudW5pZm9ybXMpXG4gICAge1xuICAgICAgICB2YXIgZGF0YSA9IHVuaWZvcm1EYXRhW2ldO1xuXG4gICAgICAgIGlmICghZGF0YSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGdyb3VwLnVuaWZvcm1zW2ldLmdyb3VwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZ1bmMgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcmVyLnNoYWRlci5zeW5jVW5pZm9ybUdyb3VwKHV2LlwiICsgaSArIFwiKTtcXG4gICAgICAgICAgICAgICAgXCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVE9ETyAmJiB1bmlmb3JtRGF0YVtpXS52YWx1ZSAhPT0gMCA8LS0gZG8gd2Ugc3RpbGwgbmVlZCB0aGlzP1xuICAgICAgICBpZiAoZGF0YS50eXBlID09PSAnZmxvYXQnICYmIGRhdGEuc2l6ZSA9PT0gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgZnVuYyArPSBcIlxcbiAgICAgICAgICAgIGlmKHV2LlwiICsgaSArIFwiICE9PSB1ZC5cIiArIGkgKyBcIi52YWx1ZSlcXG4gICAgICAgICAgICB7XFxuICAgICAgICAgICAgICAgIHVkLlwiICsgaSArIFwiLnZhbHVlID0gdXYuXCIgKyBpICsgXCJcXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFmKHVkLlwiICsgaSArIFwiLmxvY2F0aW9uLCB1di5cIiArIGkgKyBcIilcXG4gICAgICAgICAgICB9XFxuXCI7XG4gICAgICAgIH1cbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgICAgICBlbHNlIGlmICgoZGF0YS50eXBlID09PSAnc2FtcGxlcjJEJyB8fCBkYXRhLnR5cGUgPT09ICdzYW1wbGVyQ3ViZScgfHwgZGF0YS50eXBlID09PSAnc2FtcGxlcjJEQXJyYXknKSAmJiBkYXRhLnNpemUgPT09IDEgJiYgIWRhdGEuaXNBcnJheSlcbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgICAgICB7XG4gICAgICAgICAgICBmdW5jICs9IFwiXFxuICAgICAgICAgICAgcmVuZGVyZXIudGV4dHVyZS5iaW5kKHV2LlwiICsgaSArIFwiLCBcIiArIHRleHR1cmVDb3VudCArIFwiKTtcXG5cXG4gICAgICAgICAgICBpZih1ZC5cIiArIGkgKyBcIi52YWx1ZSAhPT0gXCIgKyB0ZXh0dXJlQ291bnQgKyBcIilcXG4gICAgICAgICAgICB7XFxuICAgICAgICAgICAgICAgIHVkLlwiICsgaSArIFwiLnZhbHVlID0gXCIgKyB0ZXh0dXJlQ291bnQgKyBcIjtcXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFpKHVkLlwiICsgaSArIFwiLmxvY2F0aW9uLCBcIiArIHRleHR1cmVDb3VudCArIFwiKTtcXG47IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbWF4LWxlblxcbiAgICAgICAgICAgIH1cXG5cIjtcblxuICAgICAgICAgICAgdGV4dHVyZUNvdW50Kys7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGF0YS50eXBlID09PSAnbWF0MycgJiYgZGF0YS5zaXplID09PSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoZ3JvdXAudW5pZm9ybXNbaV0uYSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIFRPRE8gYW5kIHNvbWUgc21hcnQgY2FjaGluZyBkaXJ0eSBpZHMgaGVyZSFcbiAgICAgICAgICAgICAgICBmdW5jICs9IFwiXFxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm1NYXRyaXgzZnYodWQuXCIgKyBpICsgXCIubG9jYXRpb24sIGZhbHNlLCB1di5cIiArIGkgKyBcIi50b0FycmF5KHRydWUpKTtcXG4gICAgICAgICAgICAgICAgXFxuXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZnVuYyArPSBcIlxcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtTWF0cml4M2Z2KHVkLlwiICsgaSArIFwiLmxvY2F0aW9uLCBmYWxzZSwgdXYuXCIgKyBpICsgXCIpO1xcbiAgICAgICAgICAgICAgICBcXG5cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkYXRhLnR5cGUgPT09ICd2ZWMyJyAmJiBkYXRhLnNpemUgPT09IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFRPRE8gLSBkbyB3ZSBuZWVkIGJvdGggaGVyZT9cbiAgICAgICAgICAgIC8vIG1heWJlIHdlIGNhbiBnZXQgYXdheSB3aXRoIG9ubHkgdXNpbmcgcG9pbnRzP1xuICAgICAgICAgICAgaWYgKGdyb3VwLnVuaWZvcm1zW2ldLnggIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmdW5jICs9IFwiXFxuICAgICAgICAgICAgICAgIGN2ID0gdWQuXCIgKyBpICsgXCIudmFsdWU7XFxuICAgICAgICAgICAgICAgIHYgPSB1di5cIiArIGkgKyBcIjtcXG5cXG4gICAgICAgICAgICAgICAgaWYoY3ZbMF0gIT09IHYueCB8fCBjdlsxXSAhPT0gdi55KVxcbiAgICAgICAgICAgICAgICB7XFxuICAgICAgICAgICAgICAgICAgICBjdlswXSA9IHYueDtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzFdID0gdi55O1xcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTJmKHVkLlwiICsgaSArIFwiLmxvY2F0aW9uLCB2LngsIHYueSk7XFxuICAgICAgICAgICAgICAgIH1cXG5cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmdW5jICs9IFwiXFxuICAgICAgICAgICAgICAgIGN2ID0gdWQuXCIgKyBpICsgXCIudmFsdWU7XFxuICAgICAgICAgICAgICAgIHYgPSB1di5cIiArIGkgKyBcIjtcXG5cXG4gICAgICAgICAgICAgICAgaWYoY3ZbMF0gIT09IHZbMF0gfHwgY3ZbMV0gIT09IHZbMV0pXFxuICAgICAgICAgICAgICAgIHtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzBdID0gdlswXTtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzFdID0gdlsxXTtcXG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0yZih1ZC5cIiArIGkgKyBcIi5sb2NhdGlvbiwgdlswXSwgdlsxXSk7XFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgXFxuXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGF0YS50eXBlID09PSAndmVjNCcgJiYgZGF0YS5zaXplID09PSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBUT0RPIC0gZG8gd2UgbmVlZCBib3RoIGhlcmU/XG4gICAgICAgICAgICAvLyBtYXliZSB3ZSBjYW4gZ2V0IGF3YXkgd2l0aCBvbmx5IHVzaW5nIHBvaW50cz9cbiAgICAgICAgICAgIGlmIChncm91cC51bmlmb3Jtc1tpXS53aWR0aCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZ1bmMgKz0gXCJcXG4gICAgICAgICAgICAgICAgY3YgPSB1ZC5cIiArIGkgKyBcIi52YWx1ZTtcXG4gICAgICAgICAgICAgICAgdiA9IHV2LlwiICsgaSArIFwiO1xcblxcbiAgICAgICAgICAgICAgICBpZihjdlswXSAhPT0gdi54IHx8IGN2WzFdICE9PSB2LnkgfHwgY3ZbMl0gIT09IHYud2lkdGggfHwgY3ZbM10gIT09IHYuaGVpZ2h0KVxcbiAgICAgICAgICAgICAgICB7XFxuICAgICAgICAgICAgICAgICAgICBjdlswXSA9IHYueDtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzFdID0gdi55O1xcbiAgICAgICAgICAgICAgICAgICAgY3ZbMl0gPSB2LndpZHRoO1xcbiAgICAgICAgICAgICAgICAgICAgY3ZbM10gPSB2LmhlaWdodDtcXG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00Zih1ZC5cIiArIGkgKyBcIi5sb2NhdGlvbiwgdi54LCB2LnksIHYud2lkdGgsIHYuaGVpZ2h0KVxcbiAgICAgICAgICAgICAgICB9XFxuXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZnVuYyArPSBcIlxcbiAgICAgICAgICAgICAgICBjdiA9IHVkLlwiICsgaSArIFwiLnZhbHVlO1xcbiAgICAgICAgICAgICAgICB2ID0gdXYuXCIgKyBpICsgXCI7XFxuXFxuICAgICAgICAgICAgICAgIGlmKGN2WzBdICE9PSB2WzBdIHx8IGN2WzFdICE9PSB2WzFdIHx8IGN2WzJdICE9PSB2WzJdIHx8IGN2WzNdICE9PSB2WzNdKVxcbiAgICAgICAgICAgICAgICB7XFxuICAgICAgICAgICAgICAgICAgICBjdlswXSA9IHZbMF07XFxuICAgICAgICAgICAgICAgICAgICBjdlsxXSA9IHZbMV07XFxuICAgICAgICAgICAgICAgICAgICBjdlsyXSA9IHZbMl07XFxuICAgICAgICAgICAgICAgICAgICBjdlszXSA9IHZbM107XFxuXFxuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGYodWQuXCIgKyBpICsgXCIubG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0sIHZbM10pXFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgXFxuXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgdGVtcGxhdGVUeXBlID0gKGRhdGEuc2l6ZSA9PT0gMSkgPyBHTFNMX1RPX1NJTkdMRV9TRVRURVJTX0NBQ0hFRCA6IEdMU0xfVE9fQVJSQVlfU0VUVEVSUztcblxuICAgICAgICAgICAgdmFyIHRlbXBsYXRlID0gIHRlbXBsYXRlVHlwZVtkYXRhLnR5cGVdLnJlcGxhY2UoJ2xvY2F0aW9uJywgKFwidWQuXCIgKyBpICsgXCIubG9jYXRpb25cIikpO1xuXG4gICAgICAgICAgICBmdW5jICs9IFwiXFxuICAgICAgICAgICAgY3YgPSB1ZC5cIiArIGkgKyBcIi52YWx1ZTtcXG4gICAgICAgICAgICB2ID0gdXYuXCIgKyBpICsgXCI7XFxuICAgICAgICAgICAgXCIgKyB0ZW1wbGF0ZSArIFwiO1xcblwiO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBGdW5jdGlvbigndWQnLCAndXYnLCAncmVuZGVyZXInLCBmdW5jKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXctZnVuY1xufVxuXG52YXIgZnJhZ1RlbXBsYXRlID0gW1xuICAgICdwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsnLFxuICAgICd2b2lkIG1haW4odm9pZCl7JyxcbiAgICAnZmxvYXQgdGVzdCA9IDAuMTsnLFxuICAgICclZm9ybG9vcCUnLFxuICAgICdnbF9GcmFnQ29sb3IgPSB2ZWM0KDAuMCk7JyxcbiAgICAnfScgXS5qb2luKCdcXG4nKTtcblxuZnVuY3Rpb24gY2hlY2tNYXhJZlN0YXRlbWVudHNJblNoYWRlcihtYXhJZnMsIGdsKVxue1xuICAgIGlmIChtYXhJZnMgPT09IDApXG4gICAge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdmFsdWUgb2YgYDBgIHBhc3NlZCB0byBgY2hlY2tNYXhJZlN0YXRlbWVudHNJblNoYWRlcmAnKTtcbiAgICB9XG5cbiAgICB2YXIgc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKGdsLkZSQUdNRU5UX1NIQURFUik7XG5cbiAgICB3aGlsZSAodHJ1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zdGFudC1jb25kaXRpb25cbiAgICB7XG4gICAgICAgIHZhciBmcmFnbWVudFNyYyA9IGZyYWdUZW1wbGF0ZS5yZXBsYWNlKC8lZm9ybG9vcCUvZ2ksIGdlbmVyYXRlSWZUZXN0U3JjKG1heElmcykpO1xuXG4gICAgICAgIGdsLnNoYWRlclNvdXJjZShzaGFkZXIsIGZyYWdtZW50U3JjKTtcbiAgICAgICAgZ2wuY29tcGlsZVNoYWRlcihzaGFkZXIpO1xuXG4gICAgICAgIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpKVxuICAgICAgICB7XG4gICAgICAgICAgICBtYXhJZnMgPSAobWF4SWZzIC8gMikgfCAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gdmFsaWQhXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBtYXhJZnM7XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlSWZUZXN0U3JjKG1heElmcylcbntcbiAgICB2YXIgc3JjID0gJyc7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1heElmczsgKytpKVxuICAgIHtcbiAgICAgICAgaWYgKGkgPiAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBzcmMgKz0gJ1xcbmVsc2UgJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpIDwgbWF4SWZzIC0gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgc3JjICs9IFwiaWYodGVzdCA9PSBcIiArIGkgKyBcIi4wKXt9XCI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc3JjO1xufVxuXG4vLyBDYWNoZSB0aGUgcmVzdWx0IHRvIHByZXZlbnQgcnVubmluZyB0aGlzIG92ZXIgYW5kIG92ZXJcbnZhciB1bnNhZmVFdmFsO1xuXG4vKipcbiAqIE5vdCBhbGwgcGxhdGZvcm1zIGFsbG93IHRvIGdlbmVyYXRlIGZ1bmN0aW9uIGNvZGUgKGUuZy4sIGBuZXcgRnVuY3Rpb25gKS5cbiAqIHRoaXMgcHJvdmlkZXMgdGhlIHBsYXRmb3JtLWxldmVsIGRldGVjdGlvbi5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIHVuc2FmZUV2YWxTdXBwb3J0ZWQoKVxue1xuICAgIGlmICh0eXBlb2YgdW5zYWZlRXZhbCA9PT0gJ2Jvb2xlYW4nKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHVuc2FmZUV2YWw7XG4gICAgfVxuXG4gICAgdHJ5XG4gICAge1xuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1uZXctZnVuYyAqL1xuICAgICAgICB2YXIgZnVuYyA9IG5ldyBGdW5jdGlvbigncGFyYW0xJywgJ3BhcmFtMicsICdwYXJhbTMnLCAncmV0dXJuIHBhcmFtMVtwYXJhbTJdID09PSBwYXJhbTM7Jyk7XG4gICAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tbmV3LWZ1bmMgKi9cblxuICAgICAgICB1bnNhZmVFdmFsID0gZnVuYyh7IGE6ICdiJyB9LCAnYScsICdiJykgPT09IHRydWU7XG4gICAgfVxuICAgIGNhdGNoIChlKVxuICAgIHtcbiAgICAgICAgdW5zYWZlRXZhbCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB1bnNhZmVFdmFsO1xufVxuXG52YXIgZGVmYXVsdEZyYWdtZW50ID0gXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG5cXG52b2lkIG1haW4odm9pZCl7XFxuICAgZ2xfRnJhZ0NvbG9yICo9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XFxufVwiO1xuXG52YXIgZGVmYXVsdFZlcnRleCA9IFwiYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudm9pZCBtYWluKHZvaWQpe1xcbiAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcbiAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbn1cXG5cIjtcblxuLy8gaW1wb3J0ICogYXMgZnJvbSAnLi4vc3lzdGVtcy9zaGFkZXIvc2hhZGVyJztcblxudmFyIFVJRCQzID0gMDtcblxudmFyIG5hbWVDYWNoZSA9IHt9O1xuXG4vKipcbiAqIEhlbHBlciBjbGFzcyB0byBjcmVhdGUgYSBzaGFkZXIgcHJvZ3JhbS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBQcm9ncmFtID0gZnVuY3Rpb24gUHJvZ3JhbSh2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCBuYW1lKVxue1xuICAgIGlmICggbmFtZSA9PT0gdm9pZCAwICkgbmFtZSA9ICdwaXhpLXNoYWRlcic7XG5cbiAgICB0aGlzLmlkID0gVUlEJDMrKztcblxuICAgIC8qKlxuICAgICAqIFRoZSB2ZXJ0ZXggc2hhZGVyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMudmVydGV4U3JjID0gdmVydGV4U3JjIHx8IFByb2dyYW0uZGVmYXVsdFZlcnRleFNyYztcblxuICAgIC8qKlxuICAgICAqIFRoZSBmcmFnbWVudCBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5mcmFnbWVudFNyYyA9IGZyYWdtZW50U3JjIHx8IFByb2dyYW0uZGVmYXVsdEZyYWdtZW50U3JjO1xuXG4gICAgdGhpcy52ZXJ0ZXhTcmMgPSB0aGlzLnZlcnRleFNyYy50cmltKCk7XG4gICAgdGhpcy5mcmFnbWVudFNyYyA9IHRoaXMuZnJhZ21lbnRTcmMudHJpbSgpO1xuXG4gICAgaWYgKHRoaXMudmVydGV4U3JjLnN1YnN0cmluZygwLCA4KSAhPT0gJyN2ZXJzaW9uJylcbiAgICB7XG4gICAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoL1xccysvZywgJy0nKTtcblxuICAgICAgICBpZiAobmFtZUNhY2hlW25hbWVdKVxuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lQ2FjaGVbbmFtZV0rKztcbiAgICAgICAgICAgIG5hbWUgKz0gXCItXCIgKyAobmFtZUNhY2hlW25hbWVdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWVDYWNoZVtuYW1lXSA9IDE7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnZlcnRleFNyYyA9IFwiI2RlZmluZSBTSEFERVJfTkFNRSBcIiArIG5hbWUgKyBcIlxcblwiICsgKHRoaXMudmVydGV4U3JjKTtcbiAgICAgICAgdGhpcy5mcmFnbWVudFNyYyA9IFwiI2RlZmluZSBTSEFERVJfTkFNRSBcIiArIG5hbWUgKyBcIlxcblwiICsgKHRoaXMuZnJhZ21lbnRTcmMpO1xuXG4gICAgICAgIHRoaXMudmVydGV4U3JjID0gc2V0UHJlY2lzaW9uKHRoaXMudmVydGV4U3JjLCBzZXR0aW5ncy5QUkVDSVNJT05fVkVSVEVYLCBQUkVDSVNJT04uSElHSCk7XG4gICAgICAgIHRoaXMuZnJhZ21lbnRTcmMgPSBzZXRQcmVjaXNpb24odGhpcy5mcmFnbWVudFNyYywgc2V0dGluZ3MuUFJFQ0lTSU9OX0ZSQUdNRU5ULCBnZXRNYXhGcmFnbWVudFByZWNpc2lvbigpKTtcbiAgICB9XG5cbiAgICAvLyBjdXJyZW50bHkgdGhpcyBkb2VzIG5vdCBleHRyYWN0IHN0cnVjdHMgb25seSBkZWZhdWx0IHR5cGVzXG4gICAgdGhpcy5leHRyYWN0RGF0YSh0aGlzLnZlcnRleFNyYywgdGhpcy5mcmFnbWVudFNyYyk7XG5cbiAgICAvLyB0aGlzIGlzIHdoZXJlIHdlIHN0b3JlIHNoYWRlciByZWZlcmVuY2VzLi5cbiAgICB0aGlzLmdsUHJvZ3JhbXMgPSB7fTtcblxuICAgIHRoaXMuc3luY1VuaWZvcm1zID0gbnVsbDtcbn07XG5cbnZhciBzdGF0aWNBY2Nlc3NvcnMgPSB7IGRlZmF1bHRWZXJ0ZXhTcmM6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sZGVmYXVsdEZyYWdtZW50U3JjOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbi8qKlxuICogRXh0cmFjdHMgdGhlIGRhdGEgZm9yIGEgYnV5IGNyZWF0aW5nIGEgc21hbGwgdGVzdCBwcm9ncmFtXG4gKiBvciByZWFkaW5nIHRoZSBzcmMgZGlyZWN0bHkuXG4gKiBAcHJvdGVjdGVkXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IFt2ZXJ0ZXhTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgdmVydGV4IHNoYWRlci5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbZnJhZ21lbnRTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgZnJhZ21lbnQgc2hhZGVyLlxuICovXG5Qcm9ncmFtLnByb3RvdHlwZS5leHRyYWN0RGF0YSA9IGZ1bmN0aW9uIGV4dHJhY3REYXRhICh2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjKVxue1xuICAgIHZhciBnbCA9IGdldFRlc3RDb250ZXh0KCk7XG5cbiAgICBpZiAoZ2wpXG4gICAge1xuICAgICAgICB2YXIgcHJvZ3JhbSA9IGNvbXBpbGVQcm9ncmFtKGdsLCB2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjKTtcblxuICAgICAgICB0aGlzLmF0dHJpYnV0ZURhdGEgPSB0aGlzLmdldEF0dHJpYnV0ZURhdGEocHJvZ3JhbSwgZ2wpO1xuICAgICAgICB0aGlzLnVuaWZvcm1EYXRhID0gdGhpcy5nZXRVbmlmb3JtRGF0YShwcm9ncmFtLCBnbCk7XG5cbiAgICAgICAgZ2wuZGVsZXRlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgdGhpcy51bmlmb3JtRGF0YSA9IHt9O1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZURhdGEgPSB7fTtcbiAgICB9XG59O1xuXG4vKipcbiAqIHJldHVybnMgdGhlIGF0dHJpYnV0ZSBkYXRhIGZyb20gdGhlIHByb2dyYW1cbiAqIEBwcml2YXRlXG4gKlxuICogQHBhcmFtIHtXZWJHTFByb2dyYW19IFtwcm9ncmFtXSAtIHRoZSBXZWJHTCBwcm9ncmFtXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gW2dsXSAtIHRoZSBXZWJHTCBjb250ZXh0XG4gKlxuICogQHJldHVybnMge29iamVjdH0gdGhlIGF0dHJpYnV0ZSBkYXRhIGZvciB0aGlzIHByb2dyYW1cbiAqL1xuUHJvZ3JhbS5wcm90b3R5cGUuZ2V0QXR0cmlidXRlRGF0YSA9IGZ1bmN0aW9uIGdldEF0dHJpYnV0ZURhdGEgKHByb2dyYW0sIGdsKVxue1xuICAgIHZhciBhdHRyaWJ1dGVzID0ge307XG4gICAgdmFyIGF0dHJpYnV0ZXNBcnJheSA9IFtdO1xuXG4gICAgdmFyIHRvdGFsQXR0cmlidXRlcyA9IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuQUNUSVZFX0FUVFJJQlVURVMpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbEF0dHJpYnV0ZXM7IGkrKylcbiAgICB7XG4gICAgICAgIHZhciBhdHRyaWJEYXRhID0gZ2wuZ2V0QWN0aXZlQXR0cmliKHByb2dyYW0sIGkpO1xuICAgICAgICB2YXIgdHlwZSA9IG1hcFR5cGUoZ2wsIGF0dHJpYkRhdGEudHlwZSk7XG5cbiAgICAgICAgLyplc2xpbnQtZGlzYWJsZSAqL1xuICAgICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICBuYW1lOiBhdHRyaWJEYXRhLm5hbWUsXG4gICAgICAgICAgICBzaXplOiBtYXBTaXplKHR5cGUpLFxuICAgICAgICAgICAgbG9jYXRpb246IDAsXG4gICAgICAgIH07XG4gICAgICAgIC8qIGVzbGludC1lbmFibGUgKi9cblxuICAgICAgICBhdHRyaWJ1dGVzW2F0dHJpYkRhdGEubmFtZV0gPSBkYXRhO1xuICAgICAgICBhdHRyaWJ1dGVzQXJyYXkucHVzaChkYXRhKTtcbiAgICB9XG5cbiAgICBhdHRyaWJ1dGVzQXJyYXkuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gKGEubmFtZSA+IGIubmFtZSkgPyAxIDogLTE7IH0pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbmZ1c2luZy1hcnJvd1xuXG4gICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgYXR0cmlidXRlc0FycmF5Lmxlbmd0aDsgaSQxKyspXG4gICAge1xuICAgICAgICBhdHRyaWJ1dGVzQXJyYXlbaSQxXS5sb2NhdGlvbiA9IGkkMTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXR0cmlidXRlcztcbn07XG5cbi8qKlxuICogcmV0dXJucyB0aGUgdW5pZm9ybSBkYXRhIGZyb20gdGhlIHByb2dyYW1cbiAqIEBwcml2YXRlXG4gKlxuICogQHBhcmFtIHt3ZWJHTC1wcm9ncmFtfSBbcHJvZ3JhbV0gLSB0aGUgd2ViZ2wgcHJvZ3JhbVxuICogQHBhcmFtIHtjb250ZXh0fSBbZ2xdIC0gdGhlIFdlYkdMIGNvbnRleHRcbiAqXG4gKiBAcmV0dXJucyB7b2JqZWN0fSB0aGUgdW5pZm9ybSBkYXRhIGZvciB0aGlzIHByb2dyYW1cbiAqL1xuUHJvZ3JhbS5wcm90b3R5cGUuZ2V0VW5pZm9ybURhdGEgPSBmdW5jdGlvbiBnZXRVbmlmb3JtRGF0YSAocHJvZ3JhbSwgZ2wpXG57XG4gICAgdmFyIHVuaWZvcm1zID0ge307XG5cbiAgICB2YXIgdG90YWxVbmlmb3JtcyA9IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuQUNUSVZFX1VOSUZPUk1TKTtcblxuICAgIC8vIFRPRE8gZXhwb3NlIHRoaXMgYXMgYSBwcm9wP1xuICAgIC8vIGNvbnN0IG1hc2tSZWdleCA9IG5ldyBSZWdFeHAoJ14ocHJvamVjdGlvbk1hdHJpeHx1U2FtcGxlcnx0cmFuc2xhdGlvbk1hdHJpeCkkJyk7XG4gICAgLy8gY29uc3QgbWFza1JlZ2V4ID0gbmV3IFJlZ0V4cCgnXihwcm9qZWN0aW9uTWF0cml4fHVTYW1wbGVyfHRyYW5zbGF0aW9uTWF0cml4KSQnKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWxVbmlmb3JtczsgaSsrKVxuICAgIHtcbiAgICAgICAgdmFyIHVuaWZvcm1EYXRhID0gZ2wuZ2V0QWN0aXZlVW5pZm9ybShwcm9ncmFtLCBpKTtcbiAgICAgICAgdmFyIG5hbWUgPSB1bmlmb3JtRGF0YS5uYW1lLnJlcGxhY2UoL1xcWy4qP1xcXS8sICcnKTtcblxuICAgICAgICB2YXIgaXNBcnJheSA9IHVuaWZvcm1EYXRhLm5hbWUubWF0Y2goL1xcWy4qP1xcXS8sICcnKTtcbiAgICAgICAgdmFyIHR5cGUgPSBtYXBUeXBlKGdsLCB1bmlmb3JtRGF0YS50eXBlKTtcblxuICAgICAgICAvKmVzbGludC1kaXNhYmxlICovXG4gICAgICAgIHVuaWZvcm1zW25hbWVdID0ge1xuICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgIHNpemU6IHVuaWZvcm1EYXRhLnNpemUsXG4gICAgICAgICAgICBpc0FycmF5OmlzQXJyYXksXG4gICAgICAgICAgICB2YWx1ZTogZGVmYXVsdFZhbHVlKHR5cGUsIHVuaWZvcm1EYXRhLnNpemUpLFxuICAgICAgICB9O1xuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlICovXG4gICAgfVxuXG4gICAgcmV0dXJuIHVuaWZvcm1zO1xufTtcblxuLyoqXG4gKiBUaGUgZGVmYXVsdCB2ZXJ0ZXggc2hhZGVyIHNvdXJjZVxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlciB7c3RyaW5nfVxuICovXG5zdGF0aWNBY2Nlc3NvcnMuZGVmYXVsdFZlcnRleFNyYy5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiBkZWZhdWx0VmVydGV4O1xufTtcblxuLyoqXG4gKiBUaGUgZGVmYXVsdCBmcmFnbWVudCBzaGFkZXIgc291cmNlXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyIHtzdHJpbmd9XG4gKi9cbnN0YXRpY0FjY2Vzc29ycy5kZWZhdWx0RnJhZ21lbnRTcmMuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gZGVmYXVsdEZyYWdtZW50O1xufTtcblxuLyoqXG4gKiBBIHNob3J0IGhhbmQgZnVuY3Rpb24gdG8gY3JlYXRlIGEgcHJvZ3JhbSBiYXNlZCBvZiBhIHZlcnRleCBhbmQgZnJhZ21lbnQgc2hhZGVyXG4gKiB0aGlzIG1ldGhvZCB3aWxsIGFsc28gY2hlY2sgdG8gc2VlIGlmIHRoZXJlIGlzIGEgY2FjaGVkIHByb2dyYW0uXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IFt2ZXJ0ZXhTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgdmVydGV4IHNoYWRlci5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbZnJhZ21lbnRTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgZnJhZ21lbnQgc2hhZGVyLlxuICogQHBhcmFtIHtvYmplY3R9IFt1bmlmb3Jtc10gLSBDdXN0b20gdW5pZm9ybXMgdG8gdXNlIHRvIGF1Z21lbnQgdGhlIGJ1aWx0LWluIG9uZXMuXG4gKlxuICogQHJldHVybnMge1BJWEkuUHJvZ3JhbX0gYW4gc2hpbnkgbmV3IFBpeGkgc2hhZGVyIVxuICovXG5Qcm9ncmFtLmZyb20gPSBmdW5jdGlvbiBmcm9tICh2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCBuYW1lKVxue1xuICAgIHZhciBrZXkgPSB2ZXJ0ZXhTcmMgKyBmcmFnbWVudFNyYztcblxuICAgIHZhciBwcm9ncmFtID0gUHJvZ3JhbUNhY2hlW2tleV07XG5cbiAgICBpZiAoIXByb2dyYW0pXG4gICAge1xuICAgICAgICBQcm9ncmFtQ2FjaGVba2V5XSA9IHByb2dyYW0gPSBuZXcgUHJvZ3JhbSh2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCBuYW1lKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvZ3JhbTtcbn07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBQcm9ncmFtLCBzdGF0aWNBY2Nlc3NvcnMgKTtcblxuLyoqXG4gKiBBIGhlbHBlciBjbGFzcyBmb3Igc2hhZGVyc1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFNoYWRlciA9IGZ1bmN0aW9uIFNoYWRlcihwcm9ncmFtLCB1bmlmb3JtcylcbntcbiAgICAvKipcbiAgICAgKiBQcm9ncmFtIHRoYXQgdGhlIHNoYWRlciB1c2VzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlByb2dyYW19XG4gICAgICovXG4gICAgdGhpcy5wcm9ncmFtID0gcHJvZ3JhbTtcblxuICAgIC8vIGxldHMgc2VlIHdoYXRzIGJlZW4gcGFzc2VkIGluXG4gICAgLy8gdW5pZm9ybXMgc2hvdWxkIGJlIGNvbnZlcnRlZCB0byBhIHVuaWZvcm0gZ3JvdXBcbiAgICBpZiAodW5pZm9ybXMpXG4gICAge1xuICAgICAgICBpZiAodW5pZm9ybXMgaW5zdGFuY2VvZiBVbmlmb3JtR3JvdXApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybUdyb3VwID0gdW5pZm9ybXM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1Hcm91cCA9IG5ldyBVbmlmb3JtR3JvdXAodW5pZm9ybXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIHRoaXMudW5pZm9ybUdyb3VwID0gbmV3IFVuaWZvcm1Hcm91cCh7fSk7XG4gICAgfVxuXG4gICAgLy8gdGltZSB0byBidWlsZCBzb21lIGdldHRlcnMgYW5kIHNldHRlcnMhXG4gICAgLy8gSSBndWVzcyBkb3duIHRoZSBsaW5lIHRoaXMgY291bGQgc29ydCBvZiBnZW5lcmF0ZSBhbiBpbnN0cnVjdGlvbiBsaXN0IHJhdGhlciB0aGFuIHVzZSBkaXJ0eSBpZHM/XG4gICAgLy8gZG9lcyB0aGUgdHJpY2sgZm9yIG5vdyB0aG91Z2ghXG4gICAgZm9yICh2YXIgaSBpbiBwcm9ncmFtLnVuaWZvcm1EYXRhKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMudW5pZm9ybUdyb3VwLnVuaWZvcm1zW2ldIGluc3RhbmNlb2YgQXJyYXkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybUdyb3VwLnVuaWZvcm1zW2ldID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLnVuaWZvcm1Hcm91cC51bmlmb3Jtc1tpXSk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG52YXIgcHJvdG90eXBlQWNjZXNzb3JzJDIgPSB7IHVuaWZvcm1zOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbi8vIFRPRE8gbW92ZSB0byBzaGFkZXIgc3lzdGVtLi5cblNoYWRlci5wcm90b3R5cGUuY2hlY2tVbmlmb3JtRXhpc3RzID0gZnVuY3Rpb24gY2hlY2tVbmlmb3JtRXhpc3RzIChuYW1lLCBncm91cClcbntcbiAgICBpZiAoZ3JvdXAudW5pZm9ybXNbbmFtZV0pXG4gICAge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpIGluIGdyb3VwLnVuaWZvcm1zKVxuICAgIHtcbiAgICAgICAgdmFyIHVuaWZvcm0gPSBncm91cC51bmlmb3Jtc1tpXTtcblxuICAgICAgICBpZiAodW5pZm9ybS5ncm91cClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tVbmlmb3JtRXhpc3RzKG5hbWUsIHVuaWZvcm0pKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxuU2hhZGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxue1xuICAgIC8vIHVzYWdlIGNvdW50IG9uIHByb2dyYW1zP1xuICAgIC8vIHJlbW92ZSBpZiBub3QgdXNlZCFcbiAgICB0aGlzLnVuaWZvcm1Hcm91cCA9IG51bGw7XG59O1xuXG4vKipcbiAqIFNoYWRlciB1bmlmb3JtIHZhbHVlcywgc2hvcnRjdXQgZm9yIGB1bmlmb3JtR3JvdXAudW5pZm9ybXNgXG4gKiBAcmVhZG9ubHlcbiAqIEBtZW1iZXIge29iamVjdH1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzJDIudW5pZm9ybXMuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy51bmlmb3JtR3JvdXAudW5pZm9ybXM7XG59O1xuXG4vKipcbiAqIEEgc2hvcnQgaGFuZCBmdW5jdGlvbiB0byBjcmVhdGUgYSBzaGFkZXIgYmFzZWQgb2YgYSB2ZXJ0ZXggYW5kIGZyYWdtZW50IHNoYWRlclxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBbdmVydGV4U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIHZlcnRleCBzaGFkZXIuXG4gKiBAcGFyYW0ge3N0cmluZ30gW2ZyYWdtZW50U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIGZyYWdtZW50IHNoYWRlci5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbdW5pZm9ybXNdIC0gQ3VzdG9tIHVuaWZvcm1zIHRvIHVzZSB0byBhdWdtZW50IHRoZSBidWlsdC1pbiBvbmVzLlxuICpcbiAqIEByZXR1cm5zIHtQSVhJLlNoYWRlcn0gYW4gc2hpbnkgbmV3IFBpeGkgc2hhZGVyIVxuICovXG5TaGFkZXIuZnJvbSA9IGZ1bmN0aW9uIGZyb20gKHZlcnRleFNyYywgZnJhZ21lbnRTcmMsIHVuaWZvcm1zKVxue1xuICAgIHZhciBwcm9ncmFtID0gUHJvZ3JhbS5mcm9tKHZlcnRleFNyYywgZnJhZ21lbnRTcmMpO1xuXG4gICAgcmV0dXJuIG5ldyBTaGFkZXIocHJvZ3JhbSwgdW5pZm9ybXMpO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIFNoYWRlci5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyQyICk7XG5cbi8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cblxudmFyIEJMRU5EID0gMDtcbnZhciBPRkZTRVQgPSAxO1xudmFyIENVTExJTkcgPSAyO1xudmFyIERFUFRIX1RFU1QgPSAzO1xudmFyIFdJTkRJTkcgPSA0O1xuXG4vKipcbiAqIFRoaXMgaXMgYSBXZWJHTCBzdGF0ZSwgYW5kIGlzIGlzIHBhc3NlZCBUaGUgV2ViR0wgU3RhdGVNYW5hZ2VyLlxuICpcbiAqIEVhY2ggbWVzaCByZW5kZXJlZCBtYXkgcmVxdWlyZSBXZWJHTCB0byBiZSBpbiBhIGRpZmZlcmVudCBzdGF0ZS5cbiAqIEZvciBleGFtcGxlIHlvdSBtYXkgd2FudCBkaWZmZXJlbnQgYmxlbmQgbW9kZSBvciB0byBlbmFibGUgcG9seWdvbiBvZmZzZXRzXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgU3RhdGUgPSBmdW5jdGlvbiBTdGF0ZSgpXG57XG4gICAgdGhpcy5kYXRhID0gMDtcblxuICAgIHRoaXMuYmxlbmRNb2RlID0gQkxFTkRfTU9ERVMuTk9STUFMO1xuICAgIHRoaXMucG9seWdvbk9mZnNldCA9IDA7XG5cbiAgICB0aGlzLmJsZW5kID0gdHJ1ZTtcbiAgICAvLyAgdGhpcy5kZXB0aFRlc3QgPSB0cnVlO1xufTtcblxudmFyIHByb3RvdHlwZUFjY2Vzc29ycyQzID0geyBibGVuZDogeyBjb25maWd1cmFibGU6IHRydWUgfSxvZmZzZXRzOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGN1bGxpbmc6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sZGVwdGhUZXN0OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGNsb2Nrd2lzZUZyb250RmFjZTogeyBjb25maWd1cmFibGU6IHRydWUgfSxibGVuZE1vZGU6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0scG9seWdvbk9mZnNldDogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4vKipcbiAqIEFjdGl2YXRlcyBibGVuZGluZyBvZiB0aGUgY29tcHV0ZWQgZnJhZ21lbnQgY29sb3IgdmFsdWVzXG4gKlxuICogQG1lbWJlciB7Ym9vbGVhbn1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzJDMuYmxlbmQuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gISEodGhpcy5kYXRhICYgKDEgPDwgQkxFTkQpKTtcbn07XG5cbnByb3RvdHlwZUFjY2Vzc29ycyQzLmJsZW5kLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKCEhKHRoaXMuZGF0YSAmICgxIDw8IEJMRU5EKSkgIT09IHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5kYXRhIF49ICgxIDw8IEJMRU5EKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIEFjdGl2YXRlcyBhZGRpbmcgYW4gb2Zmc2V0IHRvIGRlcHRoIHZhbHVlcyBvZiBwb2x5Z29uJ3MgZnJhZ21lbnRzXG4gKlxuICogQG1lbWJlciB7Ym9vbGVhbn1cbiAqIEBkZWZhdWx0IGZhbHNlXG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycyQzLm9mZnNldHMuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gISEodGhpcy5kYXRhICYgKDEgPDwgT0ZGU0VUKSk7XG59O1xuXG5wcm90b3R5cGVBY2Nlc3NvcnMkMy5vZmZzZXRzLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKCEhKHRoaXMuZGF0YSAmICgxIDw8IE9GRlNFVCkpICE9PSB2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuZGF0YSBePSAoMSA8PCBPRkZTRVQpO1xuICAgIH1cbn07XG5cbi8qKlxuICogQWN0aXZhdGVzIGN1bGxpbmcgb2YgcG9seWdvbnMuXG4gKlxuICogQG1lbWJlciB7Ym9vbGVhbn1cbiAqIEBkZWZhdWx0IGZhbHNlXG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycyQzLmN1bGxpbmcuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gISEodGhpcy5kYXRhICYgKDEgPDwgQ1VMTElORykpO1xufTtcblxucHJvdG90eXBlQWNjZXNzb3JzJDMuY3VsbGluZy5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIGlmICghISh0aGlzLmRhdGEgJiAoMSA8PCBDVUxMSU5HKSkgIT09IHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5kYXRhIF49ICgxIDw8IENVTExJTkcpO1xuICAgIH1cbn07XG5cbi8qKlxuICogQWN0aXZhdGVzIGRlcHRoIGNvbXBhcmlzb25zIGFuZCB1cGRhdGVzIHRvIHRoZSBkZXB0aCBidWZmZXIuXG4gKlxuICogQG1lbWJlciB7Ym9vbGVhbn1cbiAqIEBkZWZhdWx0IGZhbHNlXG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycyQzLmRlcHRoVGVzdC5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAoMSA8PCBERVBUSF9URVNUKSk7XG59O1xuXG5wcm90b3R5cGVBY2Nlc3NvcnMkMy5kZXB0aFRlc3Quc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAoISEodGhpcy5kYXRhICYgKDEgPDwgREVQVEhfVEVTVCkpICE9PSB2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuZGF0YSBePSAoMSA8PCBERVBUSF9URVNUKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFNwZWNpZmllcyB3aGV0aGVyIG9yIG5vdCBmcm9udCBvciBiYWNrLWZhY2luZyBwb2x5Z29ucyBjYW4gYmUgY3VsbGVkLlxuICogQG1lbWJlciB7Ym9vbGVhbn1cbiAqIEBkZWZhdWx0IGZhbHNlXG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycyQzLmNsb2Nrd2lzZUZyb250RmFjZS5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAoMSA8PCBXSU5ESU5HKSk7XG59O1xuXG5wcm90b3R5cGVBY2Nlc3NvcnMkMy5jbG9ja3dpc2VGcm9udEZhY2Uuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAoISEodGhpcy5kYXRhICYgKDEgPDwgV0lORElORykpICE9PSB2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuZGF0YSBePSAoMSA8PCBXSU5ESU5HKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFRoZSBibGVuZCBtb2RlIHRvIGJlIGFwcGxpZWQgd2hlbiB0aGlzIHN0YXRlIGlzIHNldC4gQXBwbHkgYSB2YWx1ZSBvZiBgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxgIHRvIHJlc2V0IHRoZSBibGVuZCBtb2RlLlxuICogU2V0dGluZyB0aGlzIG1vZGUgdG8gYW55dGhpbmcgb3RoZXIgdGhhbiBOT19CTEVORCB3aWxsIGF1dG9tYXRpY2FsbHkgc3dpdGNoIGJsZW5kaW5nIG9uLlxuICpcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMXG4gKiBAc2VlIFBJWEkuQkxFTkRfTU9ERVNcbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzJDMuYmxlbmRNb2RlLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX2JsZW5kTW9kZTtcbn07XG5cbnByb3RvdHlwZUFjY2Vzc29ycyQzLmJsZW5kTW9kZS5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIHRoaXMuYmxlbmQgPSAodmFsdWUgIT09IEJMRU5EX01PREVTLk5PTkUpO1xuICAgIHRoaXMuX2JsZW5kTW9kZSA9IHZhbHVlO1xufTtcblxuLyoqXG4gKiBUaGUgcG9seWdvbiBvZmZzZXQuIFNldHRpbmcgdGhpcyBwcm9wZXJ0eSB0byBhbnl0aGluZyBvdGhlciB0aGFuIDAgd2lsbCBhdXRvbWF0aWNhbGx5IGVuYWJsZSBwb2x5Z29uIG9mZnNldCBmaWxsLlxuICpcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqIEBkZWZhdWx0IDBcbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzJDMucG9seWdvbk9mZnNldC5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9wb2x5Z29uT2Zmc2V0O1xufTtcblxucHJvdG90eXBlQWNjZXNzb3JzJDMucG9seWdvbk9mZnNldC5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIHRoaXMub2Zmc2V0cyA9ICEhdmFsdWU7XG4gICAgdGhpcy5fcG9seWdvbk9mZnNldCA9IHZhbHVlO1xufTtcblxuU3RhdGUuZm9yMmQgPSBmdW5jdGlvbiBmb3IyZCAoKVxue1xuICAgIHZhciBzdGF0ZSA9IG5ldyBTdGF0ZSgpO1xuXG4gICAgc3RhdGUuZGVwdGhUZXN0ID0gZmFsc2U7XG4gICAgc3RhdGUuYmxlbmQgPSB0cnVlO1xuXG4gICAgcmV0dXJuIHN0YXRlO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIFN0YXRlLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzJDMgKTtcblxudmFyIGRlZmF1bHRWZXJ0ZXgkMSA9IFwiYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gdmVjNCBpbnB1dFNpemU7XFxudW5pZm9ybSB2ZWM0IG91dHB1dEZyYW1lO1xcblxcbnZlYzQgZmlsdGVyVmVydGV4UG9zaXRpb24oIHZvaWQgKVxcbntcXG4gICAgdmVjMiBwb3NpdGlvbiA9IGFWZXJ0ZXhQb3NpdGlvbiAqIG1heChvdXRwdXRGcmFtZS56dywgdmVjMigwLikpICsgb3V0cHV0RnJhbWUueHk7XFxuXFxuICAgIHJldHVybiB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhwb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG59XFxuXFxudmVjMiBmaWx0ZXJUZXh0dXJlQ29vcmQoIHZvaWQgKVxcbntcXG4gICAgcmV0dXJuIGFWZXJ0ZXhQb3NpdGlvbiAqIChvdXRwdXRGcmFtZS56dyAqIGlucHV0U2l6ZS56dyk7XFxufVxcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbigpO1xcbiAgICB2VGV4dHVyZUNvb3JkID0gZmlsdGVyVGV4dHVyZUNvb3JkKCk7XFxufVxcblwiO1xuXG52YXIgZGVmYXVsdEZyYWdtZW50JDEgPSBcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcblxcbnZvaWQgbWFpbih2b2lkKXtcXG4gICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcbn1cXG5cIjtcblxuLyoqXG4gKiBGaWx0ZXIgaXMgYSBzcGVjaWFsIHR5cGUgb2YgV2ViR0wgc2hhZGVyIHRoYXQgaXMgYXBwbGllZCB0byB0aGUgc2NyZWVuLlxuICpcbiAqIHtAbGluayBodHRwOi8vcGl4aWpzLmlvL2V4YW1wbGVzLyMvZmlsdGVycy9ibHVyLWZpbHRlci5qcyBFeGFtcGxlfSBvZiB0aGVcbiAqIHtAbGluayBQSVhJLmZpbHRlcnMuQmx1ckZpbHRlciBCbHVyRmlsdGVyfS5cbiAqXG4gKiAjIyMgVXNhZ2VcbiAqIEZpbHRlcnMgY2FuIGJlIGFwcGxpZWQgdG8gYW55IERpc3BsYXlPYmplY3Qgb3IgQ29udGFpbmVyLlxuICogUGl4aUpTJyBgRmlsdGVyU3lzdGVtYCByZW5kZXJzIHRoZSBjb250YWluZXIgaW50byB0ZW1wb3JhcnkgRnJhbWVidWZmZXIsXG4gKiB0aGVuIGZpbHRlciByZW5kZXJzIGl0IHRvIHRoZSBzY3JlZW4uXG4gKiBNdWx0aXBsZSBmaWx0ZXJzIGNhbiBiZSBhZGRlZCB0byB0aGUgYGZpbHRlcnNgIGFycmF5IHByb3BlcnR5IGFuZCBzdGFja2VkIG9uIGVhY2ggb3RoZXIuXG4gKlxuICogYGBgXG4gKiBjb25zdCBmaWx0ZXIgPSBuZXcgUElYSS5GaWx0ZXIobXlTaGFkZXJWZXJ0LCBteVNoYWRlckZyYWcsIHsgbXlVbmlmb3JtOiAwLjUgfSk7XG4gKiBjb25zdCBjb250YWluZXIgPSBuZXcgUElYSS5Db250YWluZXIoKTtcbiAqIGNvbnRhaW5lci5maWx0ZXJzID0gW2ZpbHRlcl07XG4gKiBgYGBcbiAqXG4gKiAjIyMgUHJldmlvdXMgVmVyc2lvbiBEaWZmZXJlbmNlc1xuICpcbiAqIEluIFBpeGlKUyAqKnYzKiosIGEgZmlsdGVyIHdhcyBhbHdheXMgYXBwbGllZCB0byBfd2hvbGUgc2NyZWVuXy5cbiAqXG4gKiBJbiBQaXhpSlMgKip2NCoqLCBhIGZpbHRlciBjYW4gYmUgYXBwbGllZCBfb25seSBwYXJ0IG9mIHRoZSBzY3JlZW5fLlxuICogRGV2ZWxvcGVycyBoYWQgdG8gY3JlYXRlIGEgc2V0IG9mIHVuaWZvcm1zIHRvIGRlYWwgd2l0aCBjb29yZGluYXRlcy5cbiAqXG4gKiBJbiBQaXhpSlMgKip2NSoqIGNvbWJpbmVzIF9ib3RoIGFwcHJvYWNoZXNfLlxuICogRGV2ZWxvcGVycyBjYW4gdXNlIG5vcm1hbCBjb29yZGluYXRlcyBvZiB2MyBhbmQgdGhlbiBhbGxvdyBmaWx0ZXIgdG8gdXNlIHBhcnRpYWwgRnJhbWVidWZmZXJzLFxuICogYnJpbmdpbmcgdGhvc2UgZXh0cmEgdW5pZm9ybXMgaW50byBhY2NvdW50LlxuICpcbiAqIEFsc28gYmUgYXdhcmUgdGhhdCB3ZSBoYXZlIGNoYW5nZWQgZGVmYXVsdCB2ZXJ0ZXggc2hhZGVyLCBwbGVhc2UgY29uc3VsdFxuICoge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS5qcy93aWtpL3Y1LUNyZWF0aW5nLWZpbHRlcnMgV2lraX0uXG4gKlxuICogIyMjIEJ1aWx0LWluIFVuaWZvcm1zXG4gKlxuICogUGl4aUpTIHZpZXdwb3J0IHVzZXMgc2NyZWVuIChDU1MpIGNvb3JkaW5hdGVzLCBgKDAsIDAsIHJlbmRlcmVyLnNjcmVlbi53aWR0aCwgcmVuZGVyZXIuc2NyZWVuLmhlaWdodClgLFxuICogYW5kIGBwcm9qZWN0aW9uTWF0cml4YCB1bmlmb3JtIG1hcHMgaXQgdG8gdGhlIGdsIHZpZXdwb3J0LlxuICpcbiAqICoqdVNhbXBsZXIqKlxuICpcbiAqIFRoZSBtb3N0IGltcG9ydGFudCB1bmlmb3JtIGlzIHRoZSBpbnB1dCB0ZXh0dXJlIHRoYXQgY29udGFpbmVyIHdhcyByZW5kZXJlZCBpbnRvLlxuICogX0ltcG9ydGFudCBub3RlOiBhcyB3aXRoIGFsbCBGcmFtZWJ1ZmZlcnMgaW4gUGl4aUpTLCBib3RoIGlucHV0IGFuZCBvdXRwdXQgYXJlXG4gKiBwcmVtdWx0aXBsaWVkIGJ5IGFscGhhLl9cbiAqXG4gKiBCeSBkZWZhdWx0LCBpbnB1dCBub3JtYWxpemVkIGNvb3JkaW5hdGVzIGFyZSBwYXNzZWQgdG8gZnJhZ21lbnQgc2hhZGVyIHdpdGggYHZUZXh0dXJlQ29vcmRgLlxuICogVXNlIGl0IHRvIHNhbXBsZSB0aGUgaW5wdXQuXG4gKlxuICogYGBgXG4gKiBjb25zdCBmcmFnbWVudCA9IGBcbiAqIHZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xuICogdW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XG4gKiB2b2lkIG1haW4odm9pZClcbiAqIHtcbiAqICAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XG4gKiB9XG4gKiBgO1xuICpcbiAqIGNvbnN0IG15RmlsdGVyID0gbmV3IFBJWEkuRmlsdGVyKG51bGwsIGZyYWdtZW50KTtcbiAqIGBgYFxuICpcbiAqIFRoaXMgZmlsdGVyIGlzIGp1c3Qgb25lIHVuaWZvcm0gbGVzcyB0aGFuIHtAbGluayBQSVhJLmZpbHRlcnMuQWxwaGFGaWx0ZXIgQWxwaGFGaWx0ZXJ9LlxuICpcbiAqICoqb3V0cHV0RnJhbWUqKlxuICpcbiAqIFRoZSBgb3V0cHV0RnJhbWVgIGhvbGRzIHRoZSByZWN0YW5nbGUgd2hlcmUgZmlsdGVyIGlzIGFwcGxpZWQgaW4gc2NyZWVuIChDU1MpIGNvb3JkaW5hdGVzLlxuICogSXQncyB0aGUgc2FtZSBhcyBgcmVuZGVyZXIuc2NyZWVuYCBmb3IgYSBmdWxsc2NyZWVuIGZpbHRlci5cbiAqIE9ubHkgYSBwYXJ0IG9mICBgb3V0cHV0RnJhbWUuendgIHNpemUgb2YgdGVtcG9yYXJ5IEZyYW1lYnVmZmVyIGlzIHVzZWQsXG4gKiBgKDAsIDAsIG91dHB1dEZyYW1lLndpZHRoLCBvdXRwdXRGcmFtZS5oZWlnaHQpYCxcbiAqXG4gKiBGaWx0ZXJzIHVzZXMgdGhpcyBxdWFkIHRvIG5vcm1hbGl6ZWQgKDAtMSkgc3BhY2UsIGl0cyBwYXNzZWQgaW50byBgYVZlcnRleFBvc2l0aW9uYCBhdHRyaWJ1dGUuXG4gKiBUbyBjYWxjdWxhdGUgdmVydGV4IHBvc2l0aW9uIGluIHNjcmVlbiBzcGFjZSB1c2luZyBub3JtYWxpemVkICgwLTEpIHNwYWNlOlxuICpcbiAqIGBgYFxuICogdmVjNCBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbiggdm9pZCApXG4gKiB7XG4gKiAgICAgdmVjMiBwb3NpdGlvbiA9IGFWZXJ0ZXhQb3NpdGlvbiAqIG1heChvdXRwdXRGcmFtZS56dywgdmVjMigwLikpICsgb3V0cHV0RnJhbWUueHk7XG4gKiAgICAgcmV0dXJuIHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKHBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xuICogfVxuICogYGBgXG4gKlxuICogKippbnB1dFNpemUqKlxuICpcbiAqIFRlbXBvcmFyeSBmcmFtZWJ1ZmZlciBpcyBkaWZmZXJlbnQsIGl0IGNhbiBiZSBlaXRoZXIgdGhlIHNpemUgb2Ygc2NyZWVuLCBlaXRoZXIgcG93ZXItb2YtdHdvLlxuICogVGhlIGBpbnB1dFNpemUueHlgIGFyZSBzaXplIG9mIHRlbXBvcmFyeSBmcmFtZWJ1ZmZlciB0aGF0IGhvbGRzIGlucHV0LlxuICogVGhlIGBpbnB1dFNpemUuendgIGlzIGludmVydGVkLCBpdCdzIGEgc2hvcnRjdXQgdG8gZXZhZGUgZGl2aXNpb24gaW5zaWRlIHRoZSBzaGFkZXIuXG4gKlxuICogU2V0IGBpbnB1dFNpemUueHkgPSBvdXRwdXRGcmFtZS56d2AgZm9yIGEgZnVsbHNjcmVlbiBmaWx0ZXIuXG4gKlxuICogVG8gY2FsY3VsYXRlIGlucHV0IG5vcm1hbGl6ZWQgY29vcmRpbmF0ZSwgeW91IGhhdmUgdG8gbWFwIGl0IHRvIGZpbHRlciBub3JtYWxpemVkIHNwYWNlLlxuICogTXVsdGlwbHkgYnkgYG91dHB1dEZyYW1lLnp3YCB0byBnZXQgaW5wdXQgY29vcmRpbmF0ZS5cbiAqIERpdmlkZSBieSBgaW5wdXRTaXplLnh5YCB0byBnZXQgaW5wdXQgbm9ybWFsaXplZCBjb29yZGluYXRlLlxuICpcbiAqIGBgYFxuICogdmVjMiBmaWx0ZXJUZXh0dXJlQ29vcmQoIHZvaWQgKVxuICoge1xuICogICAgIHJldHVybiBhVmVydGV4UG9zaXRpb24gKiAob3V0cHV0RnJhbWUuencgKiBpbnB1dFNpemUuencpOyAvLyBzYW1lIGFzIC9pbnB1dFNpemUueHlcbiAqIH1cbiAqIGBgYFxuICogKipyZXNvbHV0aW9uKipcbiAqXG4gKiBUaGUgYHJlc29sdXRpb25gIGlzIHRoZSByYXRpbyBvZiBzY3JlZW4gKENTUykgcGl4ZWxzIHRvIHJlYWwgcGl4ZWxzLlxuICpcbiAqICoqaW5wdXRQaXhlbCoqXG4gKlxuICogYGlucHV0UGl4ZWwueHlgIGlzIHRoZSBzaXplIG9mIGZyYW1lYnVmZmVyIGluIHJlYWwgcGl4ZWxzLCBzYW1lIGFzIGBpbnB1dFNpemUueHkgKiByZXNvbHV0aW9uYFxuICogYGlucHV0UGl4ZWwuendgIGlzIGludmVydGVkIGBpbnB1dFBpeGVsLnh5YC5cbiAqXG4gKiBJdCdzIGhhbmR5IGZvciBmaWx0ZXJzIHRoYXQgdXNlIG5laWdoYm91ciBwaXhlbHMsIGxpa2Uge0BsaW5rIFBJWEkuZmlsdGVycy5GWEFBRmlsdGVyIEZYQUFGaWx0ZXJ9LlxuICpcbiAqICoqaW5wdXRDbGFtcCoqXG4gKlxuICogSWYgeW91IHRyeSB0byBnZXQgaW5mbyBmcm9tIG91dHNpZGUgb2YgdXNlZCBwYXJ0IG9mIEZyYW1lYnVmZmVyIC0geW91J2xsIGdldCB1bmRlZmluZWQgYmVoYXZpb3VyLlxuICogRm9yIGRpc3BsYWNlbWVudHMsIGNvb3JkaW5hdGVzIGhhcyB0byBiZSBjbGFtcGVkLlxuICpcbiAqIFRoZSBgaW5wdXRDbGFtcC54eWAgaXMgbGVmdC10b3AgcGl4ZWwgY2VudGVyLCB5b3UgbWF5IGlnbm9yZSBpdCwgYmVjYXVzZSB3ZSB1c2UgbGVmdC10b3AgcGFydCBvZiBGcmFtZWJ1ZmZlclxuICogYGlucHV0Q2xhbXAuendgIGlzIGJvdHRvbS1yaWdodCBwaXhlbCBjZW50ZXIuXG4gKlxuICogYGBgXG4gKiB2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCBjbGFtcChtb2RpZmlnZWRUZXh0dXJlQ29vcmQsIGlucHV0Q2xhbXAueHksIGlucHV0Q2xhbXAuencpKVxuICogYGBgXG4gKiBPUlxuICogYGBgXG4gKiB2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCBtaW4obW9kaWZpZ2VkVGV4dHVyZUNvb3JkLCBpbnB1dENsYW1wLnp3KSlcbiAqIGBgYFxuICpcbiAqICMjIyBBZGRpdGlvbmFsIEluZm9ybWF0aW9uXG4gKlxuICogQ29tcGxldGUgZG9jdW1lbnRhdGlvbiBvbiBGaWx0ZXIgdXNhZ2UgaXMgbG9jYXRlZCBpbiB0aGVcbiAqIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGkuanMvd2lraS92NS1DcmVhdGluZy1maWx0ZXJzIFdpa2l9LlxuICpcbiAqIFNpbmNlIFBpeGlKUyBvbmx5IGhhZCBhIGhhbmRmdWwgb2YgYnVpbHQtaW4gZmlsdGVycywgYWRkaXRpb25hbCBmaWx0ZXJzIGNhbiBiZSBkb3dubG9hZGVkXG4gKiB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLWZpbHRlcnMgaGVyZX0gZnJvbSB0aGUgUGl4aUpTIEZpbHRlcnMgcmVwb3NpdG9yeS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLlNoYWRlclxuICovXG52YXIgRmlsdGVyID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoU2hhZGVyKSB7XG4gICAgZnVuY3Rpb24gRmlsdGVyKHZlcnRleFNyYywgZnJhZ21lbnRTcmMsIHVuaWZvcm1zKVxuICAgIHtcbiAgICAgICAgdmFyIHByb2dyYW0gPSBQcm9ncmFtLmZyb20odmVydGV4U3JjIHx8IEZpbHRlci5kZWZhdWx0VmVydGV4U3JjLFxuICAgICAgICAgICAgZnJhZ21lbnRTcmMgfHwgRmlsdGVyLmRlZmF1bHRGcmFnbWVudFNyYyk7XG5cbiAgICAgICAgU2hhZGVyLmNhbGwodGhpcywgcHJvZ3JhbSwgdW5pZm9ybXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcGFkZGluZyBvZiB0aGUgZmlsdGVyLiBTb21lIGZpbHRlcnMgcmVxdWlyZSBleHRyYSBzcGFjZSB0byBicmVhdGggc3VjaCBhcyBhIGJsdXIuXG4gICAgICAgICAqIEluY3JlYXNpbmcgdGhpcyB3aWxsIGFkZCBleHRyYSB3aWR0aCBhbmQgaGVpZ2h0IHRvIHRoZSBib3VuZHMgb2YgdGhlIG9iamVjdCB0aGF0IHRoZVxuICAgICAgICAgKiBmaWx0ZXIgaXMgYXBwbGllZCB0by5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wYWRkaW5nID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlc29sdXRpb24gb2YgdGhlIGZpbHRlci4gU2V0dGluZyB0aGlzIHRvIGJlIGxvd2VyIHdpbGwgbG93ZXIgdGhlIHF1YWxpdHkgYnV0XG4gICAgICAgICAqIGluY3JlYXNlIHRoZSBwZXJmb3JtYW5jZSBvZiB0aGUgZmlsdGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSBzZXR0aW5ncy5GSUxURVJfUkVTT0xVVElPTjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgZW5hYmxlZCBpcyB0cnVlIHRoZSBmaWx0ZXIgaXMgYXBwbGllZCwgaWYgZmFsc2UgaXQgd2lsbCBub3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVuYWJsZWQgPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBlbmFibGVkLCBQaXhpSlMgd2lsbCBmaXQgdGhlIGZpbHRlciBhcmVhIGludG8gYm91bmRhcmllcyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlLlxuICAgICAgICAgKiBTd2l0Y2ggaXQgb2ZmIGlmIGl0IGRvZXMgbm90IHdvcmsgZm9yIHNwZWNpZmljIHNoYWRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYXV0b0ZpdCA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIExlZ2FjeSBmaWx0ZXJzIHVzZSBwb3NpdGlvbiBhbmQgdXZzIGZyb20gYXR0cmlidXRlc1xuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGVnYWN5ID0gISF0aGlzLnByb2dyYW0uYXR0cmlidXRlRGF0YS5hVGV4dHVyZUNvb3JkO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgV2ViR0wgc3RhdGUgdGhlIGZpbHRlciByZXF1aXJlcyB0byByZW5kZXJcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TdGF0ZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhdGUgPSBuZXcgU3RhdGUoKTtcbiAgICB9XG5cbiAgICBpZiAoIFNoYWRlciApIEZpbHRlci5fX3Byb3RvX18gPSBTaGFkZXI7XG4gICAgRmlsdGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFNoYWRlciAmJiBTaGFkZXIucHJvdG90eXBlICk7XG4gICAgRmlsdGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEZpbHRlcjtcblxuICAgIHZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IGJsZW5kTW9kZTogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuICAgIHZhciBzdGF0aWNBY2Nlc3NvcnMgPSB7IGRlZmF1bHRWZXJ0ZXhTcmM6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sZGVmYXVsdEZyYWdtZW50U3JjOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBmaWx0ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbX0gZmlsdGVyTWFuYWdlciAtIFRoZSByZW5kZXJlciB0byByZXRyaWV2ZSB0aGUgZmlsdGVyIGZyb21cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gaW5wdXQgLSBUaGUgaW5wdXQgcmVuZGVyIHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gb3V0cHV0IC0gVGhlIHRhcmdldCB0byBvdXRwdXQgdG8uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBjbGVhciAtIFNob3VsZCB0aGUgb3V0cHV0IGJlIGNsZWFyZWQgYmVmb3JlIHJlbmRlcmluZyB0byBpdFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbY3VycmVudFN0YXRlXSAtIEl0J3MgY3VycmVudCBzdGF0ZSBvZiBmaWx0ZXIuXG4gICAgICogICAgICAgIFRoZXJlIGFyZSBzb21lIHVzZWZ1bCBwcm9wZXJ0aWVzIGluIHRoZSBjdXJyZW50U3RhdGUgOlxuICAgICAqICAgICAgICB0YXJnZXQsIGZpbHRlcnMsIHNvdXJjZUZyYW1lLCBkZXN0aW5hdGlvbkZyYW1lLCByZW5kZXJUYXJnZXQsIHJlc29sdXRpb25cbiAgICAgKi9cbiAgICBGaWx0ZXIucHJvdG90eXBlLmFwcGx5ID0gZnVuY3Rpb24gYXBwbHkgKGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyLCBjdXJyZW50U3RhdGUpXG4gICAge1xuICAgICAgICAvLyBkbyBhcyB5b3UgcGxlYXNlIVxuXG4gICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCwgY2xlYXIsIGN1cnJlbnRTdGF0ZSk7XG5cbiAgICAgICAgLy8gb3IganVzdCBkbyBhIHJlZ3VsYXIgcmVuZGVyLi5cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYmxlbmRtb2RlIG9mIHRoZSBmaWx0ZXJcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTFxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5ibGVuZE1vZGUuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlLmJsZW5kTW9kZTtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmJsZW5kTW9kZS5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5ibGVuZE1vZGUgPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGRlZmF1bHQgdmVydGV4IHNoYWRlciBzb3VyY2VcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqIEBjb25zdGFudFxuICAgICAqL1xuICAgIHN0YXRpY0FjY2Vzc29ycy5kZWZhdWx0VmVydGV4U3JjLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gZGVmYXVsdFZlcnRleCQxO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZGVmYXVsdCBmcmFnbWVudCBzaGFkZXIgc291cmNlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKi9cbiAgICBzdGF0aWNBY2Nlc3NvcnMuZGVmYXVsdEZyYWdtZW50U3JjLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gZGVmYXVsdEZyYWdtZW50JDE7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBGaWx0ZXIucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggRmlsdGVyLCBzdGF0aWNBY2Nlc3NvcnMgKTtcblxuICAgIHJldHVybiBGaWx0ZXI7XG59KFNoYWRlcikpO1xuXG4vKipcbiAqIFVzZWQgZm9yIGNhY2hpbmcgc2hhZGVyIElEc1xuICpcbiAqIEBzdGF0aWNcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvdGVjdGVkXG4gKi9cbkZpbHRlci5TT1VSQ0VfS0VZX01BUCA9IHt9O1xuXG52YXIgdmVydGV4ID0gXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgb3RoZXJNYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZNYXNrQ29vcmQ7XFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG5cXG4gICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxuICAgIHZNYXNrQ29vcmQgPSAoIG90aGVyTWF0cml4ICogdmVjMyggYVRleHR1cmVDb29yZCwgMS4wKSAgKS54eTtcXG59XFxuXCI7XG5cbnZhciBmcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZNYXNrQ29vcmQ7XFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSBzYW1wbGVyMkQgbWFzaztcXG51bmlmb3JtIGZsb2F0IGFscGhhO1xcbnVuaWZvcm0gZmxvYXQgbnBtQWxwaGE7XFxudW5pZm9ybSB2ZWM0IG1hc2tDbGFtcDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGZsb2F0IGNsaXAgPSBzdGVwKDMuNSxcXG4gICAgICAgIHN0ZXAobWFza0NsYW1wLngsIHZNYXNrQ29vcmQueCkgK1xcbiAgICAgICAgc3RlcChtYXNrQ2xhbXAueSwgdk1hc2tDb29yZC55KSArXFxuICAgICAgICBzdGVwKHZNYXNrQ29vcmQueCwgbWFza0NsYW1wLnopICtcXG4gICAgICAgIHN0ZXAodk1hc2tDb29yZC55LCBtYXNrQ2xhbXAudykpO1xcblxcbiAgICB2ZWM0IG9yaWdpbmFsID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcXG4gICAgdmVjNCBtYXNreSA9IHRleHR1cmUyRChtYXNrLCB2TWFza0Nvb3JkKTtcXG4gICAgZmxvYXQgYWxwaGFNdWwgPSAxLjAgLSBucG1BbHBoYSAqICgxLjAgLSBtYXNreS5hKTtcXG5cXG4gICAgb3JpZ2luYWwgKj0gKGFscGhhTXVsICogbWFza3kuciAqIGFscGhhICogY2xpcCk7XFxuXFxuICAgIGdsX0ZyYWdDb2xvciA9IG9yaWdpbmFsO1xcbn1cXG5cIjtcblxudmFyIHRlbXBNYXQgPSBuZXcgTWF0cml4KCk7XG5cbi8qKlxuICogQ2xhc3MgY29udHJvbHMgdXYgbWFwcGluZyBmcm9tIFRleHR1cmUgbm9ybWFsIHNwYWNlIHRvIEJhc2VUZXh0dXJlIG5vcm1hbCBzcGFjZS5cbiAqXG4gKiBUYWtlcyBgdHJpbWAgYW5kIGByb3RhdGVgIGludG8gYWNjb3VudC4gTWF5IGNvbnRhaW4gY2xhbXAgc2V0dGluZ3MgZm9yIE1lc2hlcyBhbmQgVGlsaW5nU3ByaXRlLlxuICpcbiAqIENhbiBiZSB1c2VkIGluIFRleHR1cmUgYHV2TWF0cml4YCBmaWVsZCwgb3Igc2VwYXJhdGVseSwgeW91IGNhbiB1c2UgZGlmZmVyZW50IGNsYW1wIHNldHRpbmdzIG9uIHRoZSBzYW1lIHRleHR1cmUuXG4gKiBJZiB5b3Ugd2FudCB0byBhZGQgc3VwcG9ydCBmb3IgdGV4dHVyZSByZWdpb24gb2YgY2VydGFpbiBmZWF0dXJlIG9yIGZpbHRlciwgdGhhdCdzIHdoYXQgeW91J3JlIGxvb2tpbmcgZm9yLlxuICpcbiAqIFRha2VzIHRyYWNrIG9mIFRleHR1cmUgY2hhbmdlcyB0aHJvdWdoIGBfbGFzdFRleHR1cmVJRGAgcHJpdmF0ZSBmaWVsZC5cbiAqIFVzZSBgdXBkYXRlKClgIG1ldGhvZCBjYWxsIHRvIHRyYWNrIGl0IGZyb20gb3V0c2lkZS5cbiAqXG4gKiBAc2VlIFBJWEkuVGV4dHVyZVxuICogQHNlZSBQSVhJLk1lc2hcbiAqIEBzZWUgUElYSS5UaWxpbmdTcHJpdGVcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRleHR1cmVNYXRyaXggPSBmdW5jdGlvbiBUZXh0dXJlTWF0cml4KHRleHR1cmUsIGNsYW1wTWFyZ2luKVxue1xuICAgIHRoaXMuX3RleHR1cmUgPSB0ZXh0dXJlO1xuXG4gICAgLyoqXG4gICAgICogTWF0cml4IG9wZXJhdGlvbiB0aGF0IGNvbnZlcnRzIHRleHR1cmUgcmVnaW9uIGNvb3JkcyB0byB0ZXh0dXJlIGNvb3Jkc1xuICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIHRoaXMubWFwQ29vcmQgPSBuZXcgTWF0cml4KCk7XG5cbiAgICAvKipcbiAgICAgKiBDbGFtcCByZWdpb24gZm9yIG5vcm1hbGl6ZWQgY29vcmRzLCBsZWZ0LXRvcCBwaXhlbCBjZW50ZXIgaW4geHkgLCBib3R0b20tcmlnaHQgaW4gencuXG4gICAgICogQ2FsY3VsYXRlZCBiYXNlZCBvbiBjbGFtcE9mZnNldC5cbiAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgdGhpcy51Q2xhbXBGcmFtZSA9IG5ldyBGbG9hdDMyQXJyYXkoNCk7XG5cbiAgICAvKipcbiAgICAgKiBOb3JtYWxpemVkIGNsYW1wIG9mZnNldC5cbiAgICAgKiBDYWxjdWxhdGVkIGJhc2VkIG9uIGNsYW1wT2Zmc2V0LlxuICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICB0aGlzLnVDbGFtcE9mZnNldCA9IG5ldyBGbG9hdDMyQXJyYXkoMik7XG5cbiAgICAvKipcbiAgICAgKiBUcmFja3MgVGV4dHVyZSBmcmFtZSBjaGFuZ2VzXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICB0aGlzLl91cGRhdGVJRCA9IC0xO1xuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyBmcmFtZSBjbGFtcGluZ1xuICAgICAqIFdvcmtzIHdpdGggVGlsaW5nU3ByaXRlIGFuZCBNZXNoXG4gICAgICogQ2hhbmdlIHRvIDEuNSBpZiB5b3UgdGV4dHVyZSBoYXMgcmVwZWF0ZWQgcmlnaHQgYW5kIGJvdHRvbSBsaW5lcywgdGhhdCBsZWFkcyB0byBzbW9vdGhlciBib3JkZXJzXG4gICAgICpcbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuY2xhbXBPZmZzZXQgPSAwO1xuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyBmcmFtZSBjbGFtcGluZ1xuICAgICAqIFdvcmtzIHdpdGggVGlsaW5nU3ByaXRlIGFuZCBNZXNoXG4gICAgICogQ2hhbmdlIHRvIC0wLjUgdG8gYWRkIGEgcGl4ZWwgdG8gdGhlIGVkZ2UsIHJlY29tbWVuZGVkIGZvciB0cmFuc3BhcmVudCB0cmltbWVkIHRleHR1cmVzIGluIGF0bGFzXG4gICAgICpcbiAgICAgKiBAZGVmYXVsdCAwLjVcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5jbGFtcE1hcmdpbiA9ICh0eXBlb2YgY2xhbXBNYXJnaW4gPT09ICd1bmRlZmluZWQnKSA/IDAuNSA6IGNsYW1wTWFyZ2luO1xuXG4gICAgLyoqXG4gICAgICogSWYgdGV4dHVyZSBzaXplIGlzIHRoZSBzYW1lIGFzIGJhc2VUZXh0dXJlXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIHRoaXMuaXNTaW1wbGUgPSBmYWxzZTtcbn07XG5cbnZhciBwcm90b3R5cGVBY2Nlc3NvcnMkNCA9IHsgdGV4dHVyZTogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4vKipcbiAqIHRleHR1cmUgcHJvcGVydHlcbiAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzJDQudGV4dHVyZS5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl90ZXh0dXJlO1xufTtcblxucHJvdG90eXBlQWNjZXNzb3JzJDQudGV4dHVyZS5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIHRoaXMuX3RleHR1cmUgPSB2YWx1ZTtcbiAgICB0aGlzLl91cGRhdGVJRCA9IC0xO1xufTtcblxuLyoqXG4gKiBNdWx0aXBsaWVzIHV2cyBhcnJheSB0byB0cmFuc2Zvcm1cbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSB1dnMgbWVzaCB1dnNcbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbb3V0PXV2c10gb3V0cHV0XG4gKiBAcmV0dXJucyB7RmxvYXQzMkFycmF5fSBvdXRwdXRcbiAqL1xuVGV4dHVyZU1hdHJpeC5wcm90b3R5cGUubXVsdGlwbHlVdnMgPSBmdW5jdGlvbiBtdWx0aXBseVV2cyAodXZzLCBvdXQpXG57XG4gICAgaWYgKG91dCA9PT0gdW5kZWZpbmVkKVxuICAgIHtcbiAgICAgICAgb3V0ID0gdXZzO1xuICAgIH1cblxuICAgIHZhciBtYXQgPSB0aGlzLm1hcENvb3JkO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB1dnMubGVuZ3RoOyBpICs9IDIpXG4gICAge1xuICAgICAgICB2YXIgeCA9IHV2c1tpXTtcbiAgICAgICAgdmFyIHkgPSB1dnNbaSArIDFdO1xuXG4gICAgICAgIG91dFtpXSA9ICh4ICogbWF0LmEpICsgKHkgKiBtYXQuYykgKyBtYXQudHg7XG4gICAgICAgIG91dFtpICsgMV0gPSAoeCAqIG1hdC5iKSArICh5ICogbWF0LmQpICsgbWF0LnR5O1xuICAgIH1cblxuICAgIHJldHVybiBvdXQ7XG59O1xuXG4vKipcbiAqIHVwZGF0ZXMgbWF0cmljZXMgaWYgdGV4dHVyZSB3YXMgY2hhbmdlZFxuICogQHBhcmFtIHtib29sZWFufSBbZm9yY2VVcGRhdGU9ZmFsc2VdIGlmIHRydWUsIG1hdHJpY2VzIHdpbGwgYmUgdXBkYXRlZCBhbnkgY2FzZVxuICogQHJldHVybnMge2Jvb2xlYW59IHdoZXRoZXIgb3Igbm90IGl0IHdhcyB1cGRhdGVkXG4gKi9cblRleHR1cmVNYXRyaXgucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSAoZm9yY2VVcGRhdGUpXG57XG4gICAgdmFyIHRleCA9IHRoaXMuX3RleHR1cmU7XG5cbiAgICBpZiAoIXRleCB8fCAhdGV4LnZhbGlkKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICghZm9yY2VVcGRhdGVcbiAgICAgICAgJiYgdGhpcy5fdXBkYXRlSUQgPT09IHRleC5fdXBkYXRlSUQpXG4gICAge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdGhpcy5fdXBkYXRlSUQgPSB0ZXguX3VwZGF0ZUlEO1xuXG4gICAgdmFyIHV2cyA9IHRleC5fdXZzO1xuXG4gICAgdGhpcy5tYXBDb29yZC5zZXQodXZzLngxIC0gdXZzLngwLCB1dnMueTEgLSB1dnMueTAsIHV2cy54MyAtIHV2cy54MCwgdXZzLnkzIC0gdXZzLnkwLCB1dnMueDAsIHV2cy55MCk7XG5cbiAgICB2YXIgb3JpZyA9IHRleC5vcmlnO1xuICAgIHZhciB0cmltID0gdGV4LnRyaW07XG5cbiAgICBpZiAodHJpbSlcbiAgICB7XG4gICAgICAgIHRlbXBNYXQuc2V0KG9yaWcud2lkdGggLyB0cmltLndpZHRoLCAwLCAwLCBvcmlnLmhlaWdodCAvIHRyaW0uaGVpZ2h0LFxuICAgICAgICAgICAgLXRyaW0ueCAvIHRyaW0ud2lkdGgsIC10cmltLnkgLyB0cmltLmhlaWdodCk7XG4gICAgICAgIHRoaXMubWFwQ29vcmQuYXBwZW5kKHRlbXBNYXQpO1xuICAgIH1cblxuICAgIHZhciB0ZXhCYXNlID0gdGV4LmJhc2VUZXh0dXJlO1xuICAgIHZhciBmcmFtZSA9IHRoaXMudUNsYW1wRnJhbWU7XG4gICAgdmFyIG1hcmdpbiA9IHRoaXMuY2xhbXBNYXJnaW4gLyB0ZXhCYXNlLnJlc29sdXRpb247XG4gICAgdmFyIG9mZnNldCA9IHRoaXMuY2xhbXBPZmZzZXQ7XG5cbiAgICBmcmFtZVswXSA9ICh0ZXguX2ZyYW1lLnggKyBtYXJnaW4gKyBvZmZzZXQpIC8gdGV4QmFzZS53aWR0aDtcbiAgICBmcmFtZVsxXSA9ICh0ZXguX2ZyYW1lLnkgKyBtYXJnaW4gKyBvZmZzZXQpIC8gdGV4QmFzZS5oZWlnaHQ7XG4gICAgZnJhbWVbMl0gPSAodGV4Ll9mcmFtZS54ICsgdGV4Ll9mcmFtZS53aWR0aCAtIG1hcmdpbiArIG9mZnNldCkgLyB0ZXhCYXNlLndpZHRoO1xuICAgIGZyYW1lWzNdID0gKHRleC5fZnJhbWUueSArIHRleC5fZnJhbWUuaGVpZ2h0IC0gbWFyZ2luICsgb2Zmc2V0KSAvIHRleEJhc2UuaGVpZ2h0O1xuICAgIHRoaXMudUNsYW1wT2Zmc2V0WzBdID0gb2Zmc2V0IC8gdGV4QmFzZS5yZWFsV2lkdGg7XG4gICAgdGhpcy51Q2xhbXBPZmZzZXRbMV0gPSBvZmZzZXQgLyB0ZXhCYXNlLnJlYWxIZWlnaHQ7XG5cbiAgICB0aGlzLmlzU2ltcGxlID0gdGV4Ll9mcmFtZS53aWR0aCA9PT0gdGV4QmFzZS53aWR0aFxuICAgICAgICAmJiB0ZXguX2ZyYW1lLmhlaWdodCA9PT0gdGV4QmFzZS5oZWlnaHRcbiAgICAgICAgJiYgdGV4LnJvdGF0ZSA9PT0gMDtcblxuICAgIHJldHVybiB0cnVlO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIFRleHR1cmVNYXRyaXgucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMkNCApO1xuXG4vKipcbiAqIFRoaXMgaGFuZGxlcyBhIFNwcml0ZSBhY3RpbmcgYXMgYSBtYXNrLCBhcyBvcHBvc2VkIHRvIGEgR3JhcGhpYy5cbiAqXG4gKiBXZWJHTCBvbmx5LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBTcHJpdGVNYXNrRmlsdGVyID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoRmlsdGVyKSB7XG4gICAgZnVuY3Rpb24gU3ByaXRlTWFza0ZpbHRlcihzcHJpdGUpXG4gICAge1xuICAgICAgICB2YXIgbWFza01hdHJpeCA9IG5ldyBNYXRyaXgoKTtcblxuICAgICAgICBGaWx0ZXIuY2FsbCh0aGlzLCB2ZXJ0ZXgsIGZyYWdtZW50KTtcblxuICAgICAgICBzcHJpdGUucmVuZGVyYWJsZSA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTcHJpdGUgbWFza1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNwcml0ZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWFza1Nwcml0ZSA9IHNwcml0ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTWFzayBtYXRyaXhcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1hc2tNYXRyaXggPSBtYXNrTWF0cml4O1xuICAgIH1cblxuICAgIGlmICggRmlsdGVyICkgU3ByaXRlTWFza0ZpbHRlci5fX3Byb3RvX18gPSBGaWx0ZXI7XG4gICAgU3ByaXRlTWFza0ZpbHRlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBGaWx0ZXIgJiYgRmlsdGVyLnByb3RvdHlwZSApO1xuICAgIFNwcml0ZU1hc2tGaWx0ZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU3ByaXRlTWFza0ZpbHRlcjtcblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGZpbHRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtfSBmaWx0ZXJNYW5hZ2VyIC0gVGhlIHJlbmRlcmVyIHRvIHJldHJpZXZlIHRoZSBmaWx0ZXIgZnJvbVxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBpbnB1dCAtIFRoZSBpbnB1dCByZW5kZXIgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBvdXRwdXQgLSBUaGUgdGFyZ2V0IHRvIG91dHB1dCB0by5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNsZWFyIC0gU2hvdWxkIHRoZSBvdXRwdXQgYmUgY2xlYXJlZCBiZWZvcmUgcmVuZGVyaW5nIHRvIGl0LlxuICAgICAqL1xuICAgIFNwcml0ZU1hc2tGaWx0ZXIucHJvdG90eXBlLmFwcGx5ID0gZnVuY3Rpb24gYXBwbHkgKGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyKVxuICAgIHtcbiAgICAgICAgdmFyIG1hc2tTcHJpdGUgPSB0aGlzLm1hc2tTcHJpdGU7XG4gICAgICAgIHZhciB0ZXggPSB0aGlzLm1hc2tTcHJpdGUudGV4dHVyZTtcblxuICAgICAgICBpZiAoIXRleC52YWxpZClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGV4LnRyYW5zZm9ybSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gbWFyZ2luID0gMC4wLCBsZXQgaXQgYmxlZWQgYSBiaXQsIHNoYWRlciBjb2RlIGJlY29tZXMgZWFzaWVyXG4gICAgICAgICAgICAvLyBhc3N1bWluZyB0aGF0IGF0bGFzIHRleHR1cmVzIHdlcmUgbWFkZSB3aXRoIDEtcGl4ZWwgcGFkZGluZ1xuICAgICAgICAgICAgdGV4LnRyYW5zZm9ybSA9IG5ldyBUZXh0dXJlTWF0cml4KHRleCwgMC4wKTtcbiAgICAgICAgfVxuICAgICAgICB0ZXgudHJhbnNmb3JtLnVwZGF0ZSgpO1xuXG4gICAgICAgIHRoaXMudW5pZm9ybXMubnBtQWxwaGEgPSB0ZXguYmFzZVRleHR1cmUucHJlbXVsdGlwbHlBbHBoYSA/IDAuMCA6IDEuMDtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5tYXNrID0gdGV4O1xuICAgICAgICAvLyBnZXQgX25vcm1hbGl6ZWQgc3ByaXRlIHRleHR1cmUgY29vcmRzXyBhbmQgY29udmVydCB0aGVtIHRvIF9ub3JtYWxpemVkIGF0bGFzIHRleHR1cmUgY29vcmRzXyB3aXRoIGBwcmVwZW5kYFxuICAgICAgICB0aGlzLnVuaWZvcm1zLm90aGVyTWF0cml4ID0gZmlsdGVyTWFuYWdlci5jYWxjdWxhdGVTcHJpdGVNYXRyaXgodGhpcy5tYXNrTWF0cml4LCBtYXNrU3ByaXRlKVxuICAgICAgICAgICAgLnByZXBlbmQodGV4LnRyYW5zZm9ybS5tYXBDb29yZCk7XG4gICAgICAgIHRoaXMudW5pZm9ybXMuYWxwaGEgPSBtYXNrU3ByaXRlLndvcmxkQWxwaGE7XG4gICAgICAgIHRoaXMudW5pZm9ybXMubWFza0NsYW1wID0gdGV4LnRyYW5zZm9ybS51Q2xhbXBGcmFtZTtcblxuICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGlucHV0LCBvdXRwdXQsIGNsZWFyKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFNwcml0ZU1hc2tGaWx0ZXI7XG59KEZpbHRlcikpO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBtYXNrcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbnZhciBNYXNrU3lzdGVtID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoU3lzdGVtKSB7XG4gICAgZnVuY3Rpb24gTWFza1N5c3RlbShyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIFN5c3RlbS5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcblxuICAgICAgICAvLyBUT0RPIC0gd2UgZG9uJ3QgbmVlZCBib3RoIVxuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIGN1cnJlbnQgcHVzaGVkIG1hc2tlZCBpcyBzY2lzc29yXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zY2lzc29yID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hc2sgZGF0YVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdyYXBoaWNzfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2Npc3NvckRhdGEgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUYXJnZXQgdG8gbWFza1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zY2lzc29yUmVuZGVyVGFyZ2V0ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRW5hYmxlIHNjaXNzb3JcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVuYWJsZVNjaXNzb3IgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUG9vbCBvZiB1c2VkIHNwcml0ZSBtYXNrIGZpbHRlcnNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TcHJpdGVNYXNrRmlsdGVyW119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hbHBoYU1hc2tQb29sID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgaW5kZXggb2YgYWxwaGEgbWFzayBwb29sXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWxwaGFNYXNrSW5kZXggPSAwO1xuICAgIH1cblxuICAgIGlmICggU3lzdGVtICkgTWFza1N5c3RlbS5fX3Byb3RvX18gPSBTeXN0ZW07XG4gICAgTWFza1N5c3RlbS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBTeXN0ZW0gJiYgU3lzdGVtLnByb3RvdHlwZSApO1xuICAgIE1hc2tTeXN0ZW0ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTWFza1N5c3RlbTtcblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIE1hc2sgYW5kIGFkZHMgaXQgdG8gdGhlIGN1cnJlbnQgZmlsdGVyIHN0YWNrLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IHRhcmdldCAtIERpc3BsYXkgT2JqZWN0IHRvIHB1c2ggdGhlIG1hc2sgdG9cbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfFBJWEkuR3JhcGhpY3N9IG1hc2tEYXRhIC0gVGhlIG1hc2tpbmcgZGF0YS5cbiAgICAgKi9cbiAgICBNYXNrU3lzdGVtLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gcHVzaCAodGFyZ2V0LCBtYXNrRGF0YSlcbiAgICB7XG4gICAgICAgIC8vIFRPRE8gdGhlIHJvb3QgY2hlY2sgbWVhbnMgc2Npc3NvciByZWN0IHdpbGwgbm90XG4gICAgICAgIC8vIGJlIHVzZWQgb24gcmVuZGVyIHRleHR1cmVzIG1vcmUgaW5mbyBoZXJlOlxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGkuanMvcHVsbC8zNTQ1XG5cbiAgICAgICAgaWYgKG1hc2tEYXRhLmlzU3ByaXRlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnB1c2hTcHJpdGVNYXNrKHRhcmdldCwgbWFza0RhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZW5hYmxlU2Npc3NvclxuICAgICAgICAgICAgJiYgIXRoaXMuc2Npc3NvclxuICAgICAgICAgICAgJiYgdGhpcy5yZW5kZXJlci5fYWN0aXZlUmVuZGVyVGFyZ2V0LnJvb3RcbiAgICAgICAgICAgICYmICF0aGlzLnJlbmRlcmVyLnN0ZW5jaWwuc3RlbmNpbE1hc2tTdGFjay5sZW5ndGhcbiAgICAgICAgICAgICYmIG1hc2tEYXRhLmlzRmFzdFJlY3QoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIG1hdHJpeCA9IG1hc2tEYXRhLndvcmxkVHJhbnNmb3JtO1xuXG4gICAgICAgICAgICB2YXIgcm90ID0gTWF0aC5hdGFuMihtYXRyaXguYiwgbWF0cml4LmEpO1xuXG4gICAgICAgICAgICAvLyB1c2UgdGhlIG5lYXJlc3QgZGVncmVlIVxuICAgICAgICAgICAgcm90ID0gTWF0aC5yb3VuZChyb3QgKiAoMTgwIC8gTWF0aC5QSSkpO1xuXG4gICAgICAgICAgICBpZiAocm90ICUgOTApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5wdXNoU3RlbmNpbE1hc2sobWFza0RhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucHVzaFNjaXNzb3JNYXNrKHRhcmdldCwgbWFza0RhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wdXNoU3RlbmNpbE1hc2sobWFza0RhdGEpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGxhc3QgbWFzayBmcm9tIHRoZSBtYXNrIHN0YWNrIGFuZCBkb2Vzbid0IHJldHVybiBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSB0YXJnZXQgLSBEaXNwbGF5IE9iamVjdCB0byBwb3AgdGhlIG1hc2sgZnJvbVxuICAgICAqIEBwYXJhbSB7UElYSS5TcHJpdGV8UElYSS5HcmFwaGljc30gbWFza0RhdGEgLSBUaGUgbWFza2luZyBkYXRhLlxuICAgICAqL1xuICAgIE1hc2tTeXN0ZW0ucHJvdG90eXBlLnBvcCA9IGZ1bmN0aW9uIHBvcCAodGFyZ2V0LCBtYXNrRGF0YSlcbiAgICB7XG4gICAgICAgIGlmIChtYXNrRGF0YS5pc1Nwcml0ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wb3BTcHJpdGVNYXNrKHRhcmdldCwgbWFza0RhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZW5hYmxlU2Npc3NvciAmJiAhdGhpcy5yZW5kZXJlci5zdGVuY2lsLnN0ZW5jaWxNYXNrU3RhY2subGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnBvcFNjaXNzb3JNYXNrKHRhcmdldCwgbWFza0RhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wb3BTdGVuY2lsTWFzayh0YXJnZXQsIG1hc2tEYXRhKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBNYXNrIGFuZCBhZGRzIGl0IHRvIHRoZSBjdXJyZW50IGZpbHRlciBzdGFjay5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSB0YXJnZXQgLSBEaXNwbGF5IE9iamVjdCB0byBwdXNoIHRoZSBzcHJpdGUgbWFzayB0b1xuICAgICAqIEBwYXJhbSB7UElYSS5TcHJpdGV9IG1hc2tEYXRhIC0gU3ByaXRlIHRvIGJlIHVzZWQgYXMgdGhlIG1hc2tcbiAgICAgKi9cbiAgICBNYXNrU3lzdGVtLnByb3RvdHlwZS5wdXNoU3ByaXRlTWFzayA9IGZ1bmN0aW9uIHB1c2hTcHJpdGVNYXNrICh0YXJnZXQsIG1hc2tEYXRhKVxuICAgIHtcbiAgICAgICAgdmFyIGFscGhhTWFza0ZpbHRlciA9IHRoaXMuYWxwaGFNYXNrUG9vbFt0aGlzLmFscGhhTWFza0luZGV4XTtcblxuICAgICAgICBpZiAoIWFscGhhTWFza0ZpbHRlcilcbiAgICAgICAge1xuICAgICAgICAgICAgYWxwaGFNYXNrRmlsdGVyID0gdGhpcy5hbHBoYU1hc2tQb29sW3RoaXMuYWxwaGFNYXNrSW5kZXhdID0gW25ldyBTcHJpdGVNYXNrRmlsdGVyKG1hc2tEYXRhKV07XG4gICAgICAgIH1cblxuICAgICAgICBhbHBoYU1hc2tGaWx0ZXJbMF0ucmVzb2x1dGlvbiA9IHRoaXMucmVuZGVyZXIucmVzb2x1dGlvbjtcbiAgICAgICAgYWxwaGFNYXNrRmlsdGVyWzBdLm1hc2tTcHJpdGUgPSBtYXNrRGF0YTtcblxuICAgICAgICB2YXIgc3Rhc2hGaWx0ZXJBcmVhID0gdGFyZ2V0LmZpbHRlckFyZWE7XG5cbiAgICAgICAgdGFyZ2V0LmZpbHRlckFyZWEgPSBtYXNrRGF0YS5nZXRCb3VuZHModHJ1ZSk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZmlsdGVyLnB1c2godGFyZ2V0LCBhbHBoYU1hc2tGaWx0ZXIpO1xuICAgICAgICB0YXJnZXQuZmlsdGVyQXJlYSA9IHN0YXNoRmlsdGVyQXJlYTtcblxuICAgICAgICB0aGlzLmFscGhhTWFza0luZGV4Kys7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGxhc3QgZmlsdGVyIGZyb20gdGhlIGZpbHRlciBzdGFjayBhbmQgZG9lc24ndCByZXR1cm4gaXQuXG4gICAgICpcbiAgICAgKi9cbiAgICBNYXNrU3lzdGVtLnByb3RvdHlwZS5wb3BTcHJpdGVNYXNrID0gZnVuY3Rpb24gcG9wU3ByaXRlTWFzayAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5maWx0ZXIucG9wKCk7XG4gICAgICAgIHRoaXMuYWxwaGFNYXNrSW5kZXgtLTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgTWFzayBhbmQgYWRkcyBpdCB0byB0aGUgY3VycmVudCBmaWx0ZXIgc3RhY2suXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfFBJWEkuR3JhcGhpY3N9IG1hc2tEYXRhIC0gVGhlIG1hc2tpbmcgZGF0YS5cbiAgICAgKi9cbiAgICBNYXNrU3lzdGVtLnByb3RvdHlwZS5wdXNoU3RlbmNpbE1hc2sgPSBmdW5jdGlvbiBwdXNoU3RlbmNpbE1hc2sgKG1hc2tEYXRhKVxuICAgIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5iYXRjaC5mbHVzaCgpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnN0ZW5jaWwucHVzaFN0ZW5jaWwobWFza0RhdGEpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBsYXN0IGZpbHRlciBmcm9tIHRoZSBmaWx0ZXIgc3RhY2sgYW5kIGRvZXNuJ3QgcmV0dXJuIGl0LlxuICAgICAqXG4gICAgICovXG4gICAgTWFza1N5c3RlbS5wcm90b3R5cGUucG9wU3RlbmNpbE1hc2sgPSBmdW5jdGlvbiBwb3BTdGVuY2lsTWFzayAoKVxuICAgIHtcbiAgICAgICAgLy8gdGhpcy5yZW5kZXJlci5jdXJyZW50UmVuZGVyZXIuc3RvcCgpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnN0ZW5jaWwucG9wU3RlbmNpbCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSB0YXJnZXQgLSBEaXNwbGF5IE9iamVjdCB0byBwdXNoIHRoZSBtYXNrIHRvXG4gICAgICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzfSBtYXNrRGF0YSAtIFRoZSBtYXNraW5nIGRhdGEuXG4gICAgICovXG4gICAgTWFza1N5c3RlbS5wcm90b3R5cGUucHVzaFNjaXNzb3JNYXNrID0gZnVuY3Rpb24gcHVzaFNjaXNzb3JNYXNrICh0YXJnZXQsIG1hc2tEYXRhKVxuICAgIHtcbiAgICAgICAgbWFza0RhdGEucmVuZGVyYWJsZSA9IHRydWU7XG5cbiAgICAgICAgdmFyIHJlbmRlclRhcmdldCA9IHRoaXMucmVuZGVyZXIuX2FjdGl2ZVJlbmRlclRhcmdldDtcblxuICAgICAgICB2YXIgYm91bmRzID0gbWFza0RhdGEuZ2V0Qm91bmRzKCk7XG5cbiAgICAgICAgYm91bmRzLmZpdChyZW5kZXJUYXJnZXQuc2l6ZSk7XG4gICAgICAgIG1hc2tEYXRhLnJlbmRlcmFibGUgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyLmdsLmVuYWJsZSh0aGlzLnJlbmRlcmVyLmdsLlNDSVNTT1JfVEVTVCk7XG5cbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSB0aGlzLnJlbmRlcmVyLnJlc29sdXRpb247XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5nbC5zY2lzc29yKFxuICAgICAgICAgICAgYm91bmRzLnggKiByZXNvbHV0aW9uLFxuICAgICAgICAgICAgKHJlbmRlclRhcmdldC5yb290ID8gcmVuZGVyVGFyZ2V0LnNpemUuaGVpZ2h0IC0gYm91bmRzLnkgLSBib3VuZHMuaGVpZ2h0IDogYm91bmRzLnkpICogcmVzb2x1dGlvbixcbiAgICAgICAgICAgIGJvdW5kcy53aWR0aCAqIHJlc29sdXRpb24sXG4gICAgICAgICAgICBib3VuZHMuaGVpZ2h0ICogcmVzb2x1dGlvblxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuc2Npc3NvclJlbmRlclRhcmdldCA9IHJlbmRlclRhcmdldDtcbiAgICAgICAgdGhpcy5zY2lzc29yRGF0YSA9IG1hc2tEYXRhO1xuICAgICAgICB0aGlzLnNjaXNzb3IgPSB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQb3Agc2Npc3NvciBtYXNrXG4gICAgICpcbiAgICAgKi9cbiAgICBNYXNrU3lzdGVtLnByb3RvdHlwZS5wb3BTY2lzc29yTWFzayA9IGZ1bmN0aW9uIHBvcFNjaXNzb3JNYXNrICgpXG4gICAge1xuICAgICAgICB0aGlzLnNjaXNzb3JSZW5kZXJUYXJnZXQgPSBudWxsO1xuICAgICAgICB0aGlzLnNjaXNzb3JEYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5zY2lzc29yID0gZmFsc2U7XG5cbiAgICAgICAgLy8gbXVzdCBiZSBzY2lzc29yIVxuICAgICAgICB2YXIgcmVmID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIGdsID0gcmVmLmdsO1xuXG4gICAgICAgIGdsLmRpc2FibGUoZ2wuU0NJU1NPUl9URVNUKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIE1hc2tTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBzdGVuY2lscyAodXNlZCBmb3IgbWFza3MpLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqL1xudmFyIFN0ZW5jaWxTeXN0ZW0gPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChTeXN0ZW0pIHtcbiAgICBmdW5jdGlvbiBTdGVuY2lsU3lzdGVtKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgU3lzdGVtLmNhbGwodGhpcywgcmVuZGVyZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWFzayBzdGFja1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdyYXBoaWNzW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0ZW5jaWxNYXNrU3RhY2sgPSBbXTtcbiAgICB9XG5cbiAgICBpZiAoIFN5c3RlbSApIFN0ZW5jaWxTeXN0ZW0uX19wcm90b19fID0gU3lzdGVtO1xuICAgIFN0ZW5jaWxTeXN0ZW0ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU3lzdGVtICYmIFN5c3RlbS5wcm90b3R5cGUgKTtcbiAgICBTdGVuY2lsU3lzdGVtLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFN0ZW5jaWxTeXN0ZW07XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBtYXNrIHN0YWNrIHRoYXQgaXMgdXNlZCBieSB0aGlzIFN5c3RlbS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5HcmFwaGljc1tdfSBzdGVuY2lsTWFza1N0YWNrIC0gVGhlIG1hc2sgc3RhY2tcbiAgICAgKi9cbiAgICBTdGVuY2lsU3lzdGVtLnByb3RvdHlwZS5zZXRNYXNrU3RhY2sgPSBmdW5jdGlvbiBzZXRNYXNrU3RhY2sgKHN0ZW5jaWxNYXNrU3RhY2spXG4gICAge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICB2YXIgY3VyU3RhY2tMZW4gPSB0aGlzLnN0ZW5jaWxNYXNrU3RhY2subGVuZ3RoO1xuXG4gICAgICAgIHRoaXMuc3RlbmNpbE1hc2tTdGFjayA9IHN0ZW5jaWxNYXNrU3RhY2s7XG4gICAgICAgIGlmIChzdGVuY2lsTWFza1N0YWNrLmxlbmd0aCAhPT0gY3VyU3RhY2tMZW4pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChzdGVuY2lsTWFza1N0YWNrLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBnbC5kaXNhYmxlKGdsLlNURU5DSUxfVEVTVCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ2wuZW5hYmxlKGdsLlNURU5DSUxfVEVTVCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXNlQ3VycmVudCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIE1hc2sgYW5kIGFkZHMgaXQgdG8gdGhlIGN1cnJlbnQgc3RlbmNpbCBzdGFjay4gQGFsdmluXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3N9IGdyYXBoaWNzIC0gVGhlIG1hc2tcbiAgICAgKi9cbiAgICBTdGVuY2lsU3lzdGVtLnByb3RvdHlwZS5wdXNoU3RlbmNpbCA9IGZ1bmN0aW9uIHB1c2hTdGVuY2lsIChncmFwaGljcylcbiAgICB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIHZhciBwcmV2TWFza0NvdW50ID0gdGhpcy5zdGVuY2lsTWFza1N0YWNrLmxlbmd0aDtcblxuICAgICAgICBpZiAocHJldk1hc2tDb3VudCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gZm9yY2UgdXNlIHN0ZW5jaWwgdGV4dHVyZSBpbiBjdXJyZW50IGZyYW1lYnVmZmVyXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmZyYW1lYnVmZmVyLmZvcmNlU3RlbmNpbCgpO1xuICAgICAgICAgICAgZ2wuZW5hYmxlKGdsLlNURU5DSUxfVEVTVCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0ZW5jaWxNYXNrU3RhY2sucHVzaChncmFwaGljcyk7XG5cbiAgICAgICAgLy8gSW5jcmVtZW50IHRoZSByZWZlcmVuY2Ugc3RlbmNpbCB2YWx1ZSB3aGVyZSB0aGUgbmV3IG1hc2sgb3ZlcmxhcHMgd2l0aCB0aGUgb2xkIG9uZXMuXG4gICAgICAgIGdsLmNvbG9yTWFzayhmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGdsLnN0ZW5jaWxGdW5jKGdsLkVRVUFMLCBwcmV2TWFza0NvdW50LCB0aGlzLl9nZXRCaXR3aXNlTWFzaygpKTtcbiAgICAgICAgZ2wuc3RlbmNpbE9wKGdsLktFRVAsIGdsLktFRVAsIGdsLklOQ1IpO1xuXG4gICAgICAgIGdyYXBoaWNzLnJlbmRlcmFibGUgPSB0cnVlO1xuICAgICAgICBncmFwaGljcy5yZW5kZXIodGhpcy5yZW5kZXJlcik7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuYmF0Y2guZmx1c2goKTtcbiAgICAgICAgZ3JhcGhpY3MucmVuZGVyYWJsZSA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuX3VzZUN1cnJlbnQoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgbGFzdCBtYXNrIGZyb20gdGhlIHN0ZW5jaWwgc3RhY2suIEBhbHZpblxuICAgICAqL1xuICAgIFN0ZW5jaWxTeXN0ZW0ucHJvdG90eXBlLnBvcFN0ZW5jaWwgPSBmdW5jdGlvbiBwb3BTdGVuY2lsICgpXG4gICAge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICB2YXIgZ3JhcGhpY3MgPSB0aGlzLnN0ZW5jaWxNYXNrU3RhY2sucG9wKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuc3RlbmNpbE1hc2tTdGFjay5sZW5ndGggPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHRoZSBzdGFjayBpcyBlbXB0eSFcbiAgICAgICAgICAgIGdsLmRpc2FibGUoZ2wuU1RFTkNJTF9URVNUKTtcbiAgICAgICAgICAgIGdsLmNsZWFyKGdsLlNURU5DSUxfQlVGRkVSX0JJVCk7XG4gICAgICAgICAgICBnbC5jbGVhclN0ZW5jaWwoMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBEZWNyZW1lbnQgdGhlIHJlZmVyZW5jZSBzdGVuY2lsIHZhbHVlIHdoZXJlIHRoZSBwb3BwZWQgbWFzayBvdmVybGFwcyB3aXRoIHRoZSBvdGhlciBvbmVzXG4gICAgICAgICAgICBnbC5jb2xvck1hc2soZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICAgICAgZ2wuc3RlbmNpbE9wKGdsLktFRVAsIGdsLktFRVAsIGdsLkRFQ1IpO1xuXG4gICAgICAgICAgICBncmFwaGljcy5yZW5kZXJhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIGdyYXBoaWNzLnJlbmRlcih0aGlzLnJlbmRlcmVyKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuYmF0Y2guZmx1c2goKTtcbiAgICAgICAgICAgIGdyYXBoaWNzLnJlbmRlcmFibGUgPSBmYWxzZTtcblxuICAgICAgICAgICAgdGhpcy5fdXNlQ3VycmVudCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHVwIHJlbmRlcmVyIHRvIHVzZSB0aGUgY3VycmVudCBzdGVuY2lsIGRhdGEuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBTdGVuY2lsU3lzdGVtLnByb3RvdHlwZS5fdXNlQ3VycmVudCA9IGZ1bmN0aW9uIF91c2VDdXJyZW50ICgpXG4gICAge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuXG4gICAgICAgIGdsLmNvbG9yTWFzayh0cnVlLCB0cnVlLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgZ2wuc3RlbmNpbEZ1bmMoZ2wuRVFVQUwsIHRoaXMuc3RlbmNpbE1hc2tTdGFjay5sZW5ndGgsIHRoaXMuX2dldEJpdHdpc2VNYXNrKCkpO1xuICAgICAgICBnbC5zdGVuY2lsT3AoZ2wuS0VFUCwgZ2wuS0VFUCwgZ2wuS0VFUCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZpbGwgMXMgZXF1YWwgdG8gdGhlIG51bWJlciBvZiBhY2l0dmUgc3RlbmNpbCBtYXNrcy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGJpdHdpc2UgbWFzay5cbiAgICAgKi9cbiAgICBTdGVuY2lsU3lzdGVtLnByb3RvdHlwZS5fZ2V0Qml0d2lzZU1hc2sgPSBmdW5jdGlvbiBfZ2V0Qml0d2lzZU1hc2sgKClcbiAgICB7XG4gICAgICAgIHJldHVybiAoMSA8PCB0aGlzLnN0ZW5jaWxNYXNrU3RhY2subGVuZ3RoKSAtIDE7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBtYXNrIHN0YWNrLlxuICAgICAqXG4gICAgICovXG4gICAgU3RlbmNpbFN5c3RlbS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbiAgICB7XG4gICAgICAgIFN5c3RlbS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIHRoaXMpO1xuXG4gICAgICAgIHRoaXMuc3RlbmNpbE1hc2tTdGFjayA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBTdGVuY2lsU3lzdGVtO1xufShTeXN0ZW0pKTtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgdGhlIHByb2plY3Rpb24gbWF0cml4LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqL1xuXG52YXIgUHJvamVjdGlvblN5c3RlbSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFN5c3RlbSkge1xuICAgIGZ1bmN0aW9uIFByb2plY3Rpb25TeXN0ZW0ocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBTeXN0ZW0uY2FsbCh0aGlzLCByZW5kZXJlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlc3RpbmF0aW9uIGZyYW1lXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVzdGluYXRpb25GcmFtZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNvdXJjZSBmcmFtZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNvdXJjZUZyYW1lID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGVmYXVsdCBkZXN0aW5hdGlvbiBmcmFtZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlZmF1bHRGcmFtZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb2plY3QgbWF0cml4XG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJvamVjdGlvbk1hdHJpeCA9IG5ldyBNYXRyaXgoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSB0cmFuc2Zvcm0gdGhhdCB3aWxsIGJlIGFwcGVuZGVkIHRvIHRoZSBwcm9qZWN0aW9uIG1hdHJpeFxuICAgICAgICAgKiBpZiBudWxsLCBub3RoaW5nIHdpbGwgYmUgYXBwbGllZFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoIFN5c3RlbSApIFByb2plY3Rpb25TeXN0ZW0uX19wcm90b19fID0gU3lzdGVtO1xuICAgIFByb2plY3Rpb25TeXN0ZW0ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU3lzdGVtICYmIFN5c3RlbS5wcm90b3R5cGUgKTtcbiAgICBQcm9qZWN0aW9uU3lzdGVtLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFByb2plY3Rpb25TeXN0ZW07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBwcm9qZWN0aW9uIG1hdHJpeCBiYXNlZCBvbiBhIHByb2plY3Rpb24gZnJhbWUgKHdoaWNoIGlzIGEgcmVjdGFuZ2xlKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gZGVzdGluYXRpb25GcmFtZSAtIFRoZSBkZXN0aW5hdGlvbiBmcmFtZS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBzb3VyY2VGcmFtZSAtIFRoZSBzb3VyY2UgZnJhbWUuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHJlc29sdXRpb24gLSBSZXNvbHV0aW9uXG4gICAgICogQHBhcmFtIHtib29sZWFufSByb290IC0gSWYgaXMgcm9vdFxuICAgICAqL1xuICAgIFByb2plY3Rpb25TeXN0ZW0ucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSAoZGVzdGluYXRpb25GcmFtZSwgc291cmNlRnJhbWUsIHJlc29sdXRpb24sIHJvb3QpXG4gICAge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uRnJhbWUgPSBkZXN0aW5hdGlvbkZyYW1lIHx8IHRoaXMuZGVzdGluYXRpb25GcmFtZSB8fCB0aGlzLmRlZmF1bHRGcmFtZTtcbiAgICAgICAgdGhpcy5zb3VyY2VGcmFtZSA9IHNvdXJjZUZyYW1lIHx8IHRoaXMuc291cmNlRnJhbWUgfHwgZGVzdGluYXRpb25GcmFtZTtcblxuICAgICAgICB0aGlzLmNhbGN1bGF0ZVByb2plY3Rpb24odGhpcy5kZXN0aW5hdGlvbkZyYW1lLCB0aGlzLnNvdXJjZUZyYW1lLCByZXNvbHV0aW9uLCByb290KTtcblxuICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucHJvamVjdGlvbk1hdHJpeC5hcHBlbmQodGhpcy50cmFuc2Zvcm0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlbmRlcmVyID0gIHRoaXMucmVuZGVyZXI7XG5cbiAgICAgICAgcmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXMudW5pZm9ybXMucHJvamVjdGlvbk1hdHJpeCA9IHRoaXMucHJvamVjdGlvbk1hdHJpeDtcbiAgICAgICAgcmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXMudXBkYXRlKCk7XG5cbiAgICAgICAgLy8gdGhpcyB3aWxsIHdvcmsgZm9yIG5vd1xuICAgICAgICAvLyBidXQgd291bGQgYmUgc3dlZXQgdG8gc3RpY2sgYW5kIGV2ZW4gb24gdGhlIGdsb2JhbCB1bmlmb3Jtcy4uXG4gICAgICAgIGlmIChyZW5kZXJlci5zaGFkZXIuc2hhZGVyKVxuICAgICAgICB7XG4gICAgICAgICAgICByZW5kZXJlci5zaGFkZXIuc3luY1VuaWZvcm1Hcm91cChyZW5kZXJlci5zaGFkZXIuc2hhZGVyLnVuaWZvcm1zLmdsb2JhbHMpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHByb2plY3Rpb24gbWF0cml4IGJhc2VkIG9uIGEgcHJvamVjdGlvbiBmcmFtZSAod2hpY2ggaXMgYSByZWN0YW5nbGUpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBkZXN0aW5hdGlvbkZyYW1lIC0gVGhlIGRlc3RpbmF0aW9uIGZyYW1lLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHNvdXJjZUZyYW1lIC0gVGhlIHNvdXJjZSBmcmFtZS5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcmVzb2x1dGlvbiAtIFJlc29sdXRpb25cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJvb3QgLSBJZiBpcyByb290XG4gICAgICovXG4gICAgUHJvamVjdGlvblN5c3RlbS5wcm90b3R5cGUuY2FsY3VsYXRlUHJvamVjdGlvbiA9IGZ1bmN0aW9uIGNhbGN1bGF0ZVByb2plY3Rpb24gKGRlc3RpbmF0aW9uRnJhbWUsIHNvdXJjZUZyYW1lLCByZXNvbHV0aW9uLCByb290KVxuICAgIHtcbiAgICAgICAgdmFyIHBtID0gdGhpcy5wcm9qZWN0aW9uTWF0cml4O1xuXG4gICAgICAgIC8vIEkgZG9uJ3QgdGhpbmsgd2Ugd2lsbCBuZWVkIHRoaXMgbGluZS4uXG4gICAgICAgIC8vIHBtLmlkZW50aXR5KCk7XG5cbiAgICAgICAgaWYgKCFyb290KVxuICAgICAgICB7XG4gICAgICAgICAgICBwbS5hID0gKDEgLyBkZXN0aW5hdGlvbkZyYW1lLndpZHRoICogMikgKiByZXNvbHV0aW9uO1xuICAgICAgICAgICAgcG0uZCA9ICgxIC8gZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgKiAyKSAqIHJlc29sdXRpb247XG5cbiAgICAgICAgICAgIHBtLnR4ID0gLTEgLSAoc291cmNlRnJhbWUueCAqIHBtLmEpO1xuICAgICAgICAgICAgcG0udHkgPSAtMSAtIChzb3VyY2VGcmFtZS55ICogcG0uZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBwbS5hID0gKDEgLyBkZXN0aW5hdGlvbkZyYW1lLndpZHRoICogMikgKiByZXNvbHV0aW9uO1xuICAgICAgICAgICAgcG0uZCA9ICgtMSAvIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0ICogMikgKiByZXNvbHV0aW9uO1xuXG4gICAgICAgICAgICBwbS50eCA9IC0xIC0gKHNvdXJjZUZyYW1lLnggKiBwbS5hKTtcbiAgICAgICAgICAgIHBtLnR5ID0gMSAtIChzb3VyY2VGcmFtZS55ICogcG0uZCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdHJhbnNmb3JtIG9mIHRoZSBhY3RpdmUgcmVuZGVyIHRhcmdldCB0byB0aGUgZ2l2ZW4gbWF0cml4XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUaGUgdHJhbnNmb3JtYXRpb24gbWF0cml4XG4gICAgICovXG4gICAgUHJvamVjdGlvblN5c3RlbS5wcm90b3R5cGUuc2V0VHJhbnNmb3JtID0gZnVuY3Rpb24gc2V0VHJhbnNmb3JtICgpLy8gbWF0cml4KVxuICAgIHtcbiAgICAgICAgLy8gdGhpcy5fYWN0aXZlUmVuZGVyVGFyZ2V0LnRyYW5zZm9ybSA9IG1hdHJpeDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFByb2plY3Rpb25TeXN0ZW07XG59KFN5c3RlbSkpO1xuXG52YXIgdGVtcFJlY3QgPSBuZXcgUmVjdGFuZ2xlKCk7XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIHJlbmRlciB0ZXh0dXJlcy5cbiAqXG4gKiBTaG91bGQgYmUgYWRkZWQgYWZ0ZXIgRnJhbWVidWZmZXJTeXN0ZW1cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cblxudmFyIFJlbmRlclRleHR1cmVTeXN0ZW0gPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChTeXN0ZW0pIHtcbiAgICBmdW5jdGlvbiBSZW5kZXJUZXh0dXJlU3lzdGVtKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgU3lzdGVtLmNhbGwodGhpcywgcmVuZGVyZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2xlYXIgYmFja2dyb3VuZCBjb2xvciBhcyByZ2JhXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jbGVhckNvbG9yID0gcmVuZGVyZXIuX2JhY2tncm91bmRDb2xvclJnYmE7XG5cbiAgICAgICAgLy8gVE9ETyBtb3ZlIHRoaXMgcHJvcGVydHkgc29tZXdoZXJlIGVsc2UhXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMaXN0IG9mIG1hc2tzIGZvciB0aGUgU3RlbmNpbFN5c3RlbVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdyYXBoaWNzW119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWZhdWx0TWFza1N0YWNrID0gW107XG5cbiAgICAgICAgLy8gZW1wdHkgcmVuZGVyIHRleHR1cmU/XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW5kZXIgdGV4dHVyZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlbmRlclRleHR1cmV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jdXJyZW50ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU291cmNlIGZyYW1lXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc291cmNlRnJhbWUgPSBuZXcgUmVjdGFuZ2xlKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlc3RpbmF0aW9uIGZyYW1lXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVzdGluYXRpb25GcmFtZSA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICB9XG5cbiAgICBpZiAoIFN5c3RlbSApIFJlbmRlclRleHR1cmVTeXN0ZW0uX19wcm90b19fID0gU3lzdGVtO1xuICAgIFJlbmRlclRleHR1cmVTeXN0ZW0ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU3lzdGVtICYmIFN5c3RlbS5wcm90b3R5cGUgKTtcbiAgICBSZW5kZXJUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFJlbmRlclRleHR1cmVTeXN0ZW07XG5cbiAgICAvKipcbiAgICAgKiBCaW5kIHRoZSBjdXJyZW50IHJlbmRlciB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IFtyZW5kZXJUZXh0dXJlXSAtIFJlbmRlclRleHR1cmUgdG8gYmluZCwgYnkgZGVmYXVsdCBpdHMgYG51bGxgLCB0aGUgc2NyZWVuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW3NvdXJjZUZyYW1lXSAtIHBhcnQgb2Ygc2NyZWVuIHRoYXQgaXMgbWFwcGVkIHRvIHRoZSByZW5kZXJUZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW2Rlc3RpbmF0aW9uRnJhbWVdIC0gcGFydCBvZiByZW5kZXJUZXh0dXJlLCBieSBkZWZhdWx0IGl0IGhhcyB0aGUgc2FtZSBzaXplIGFzIHNvdXJjZUZyYW1lXG4gICAgICovXG4gICAgUmVuZGVyVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uIGJpbmQgKHJlbmRlclRleHR1cmUsIHNvdXJjZUZyYW1lLCBkZXN0aW5hdGlvbkZyYW1lKVxuICAgIHtcbiAgICAgICAgaWYgKCByZW5kZXJUZXh0dXJlID09PSB2b2lkIDAgKSByZW5kZXJUZXh0dXJlID0gbnVsbDtcblxuICAgICAgICB0aGlzLmN1cnJlbnQgPSByZW5kZXJUZXh0dXJlO1xuXG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG5cbiAgICAgICAgdmFyIHJlc29sdXRpb247XG5cbiAgICAgICAgaWYgKHJlbmRlclRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmU7XG5cbiAgICAgICAgICAgIHJlc29sdXRpb24gPSBiYXNlVGV4dHVyZS5yZXNvbHV0aW9uO1xuXG4gICAgICAgICAgICBpZiAoIWRlc3RpbmF0aW9uRnJhbWUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGVtcFJlY3Qud2lkdGggPSBiYXNlVGV4dHVyZS5yZWFsV2lkdGg7XG4gICAgICAgICAgICAgICAgdGVtcFJlY3QuaGVpZ2h0ID0gYmFzZVRleHR1cmUucmVhbEhlaWdodDtcblxuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uRnJhbWUgPSB0ZW1wUmVjdDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFzb3VyY2VGcmFtZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzb3VyY2VGcmFtZSA9IGRlc3RpbmF0aW9uRnJhbWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuZnJhbWVidWZmZXIuYmluZChiYXNlVGV4dHVyZS5mcmFtZWJ1ZmZlciwgZGVzdGluYXRpb25GcmFtZSk7XG5cbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIucHJvamVjdGlvbi51cGRhdGUoZGVzdGluYXRpb25GcmFtZSwgc291cmNlRnJhbWUsIHJlc29sdXRpb24sIGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc3RlbmNpbC5zZXRNYXNrU3RhY2soYmFzZVRleHR1cmUuc3RlbmNpbE1hc2tTdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICByZXNvbHV0aW9uID0gdGhpcy5yZW5kZXJlci5yZXNvbHV0aW9uO1xuXG4gICAgICAgICAgICAvLyBUT0RPIHRoZXNlIHZhbGlkYXRpb24gY2hlY2tzIGhhcHBlbiBkZWVwZXIgZG93bi4uXG4gICAgICAgICAgICAvLyB0aGluZyB0aGV5IGNhbiBiZSBhdm9pZGVkLi5cbiAgICAgICAgICAgIGlmICghZGVzdGluYXRpb25GcmFtZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0ZW1wUmVjdC53aWR0aCA9IHJlbmRlcmVyLndpZHRoO1xuICAgICAgICAgICAgICAgIHRlbXBSZWN0LmhlaWdodCA9IHJlbmRlcmVyLmhlaWdodDtcblxuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uRnJhbWUgPSB0ZW1wUmVjdDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFzb3VyY2VGcmFtZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzb3VyY2VGcmFtZSA9IGRlc3RpbmF0aW9uRnJhbWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlbmRlcmVyLmZyYW1lYnVmZmVyLmJpbmQobnVsbCwgZGVzdGluYXRpb25GcmFtZSk7XG5cbiAgICAgICAgICAgIC8vIFRPRE8gc3RvcmUgdGhpcy4uXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnByb2plY3Rpb24udXBkYXRlKGRlc3RpbmF0aW9uRnJhbWUsIHNvdXJjZUZyYW1lLCByZXNvbHV0aW9uLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc3RlbmNpbC5zZXRNYXNrU3RhY2sodGhpcy5kZWZhdWx0TWFza1N0YWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc291cmNlRnJhbWUuY29weUZyb20oc291cmNlRnJhbWUpO1xuXG4gICAgICAgIHRoaXMuZGVzdGluYXRpb25GcmFtZS54ID0gZGVzdGluYXRpb25GcmFtZS54IC8gcmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbkZyYW1lLnkgPSBkZXN0aW5hdGlvbkZyYW1lLnkgLyByZXNvbHV0aW9uO1xuXG4gICAgICAgIHRoaXMuZGVzdGluYXRpb25GcmFtZS53aWR0aCA9IGRlc3RpbmF0aW9uRnJhbWUud2lkdGggLyByZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0ID0gZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgLyByZXNvbHV0aW9uO1xuXG4gICAgICAgIGlmIChzb3VyY2VGcmFtZSA9PT0gZGVzdGluYXRpb25GcmFtZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zb3VyY2VGcmFtZS5jb3B5RnJvbSh0aGlzLmRlc3RpbmF0aW9uRnJhbWUpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEVyYXNlcyB0aGUgcmVuZGVyIHRleHR1cmUgYW5kIGZpbGxzIHRoZSBkcmF3aW5nIGFyZWEgd2l0aCBhIGNvbG91clxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gW2NsZWFyQ29sb3JdIC0gVGhlIGNvbG9yIGFzIHJnYmEsIGRlZmF1bHQgdG8gdXNlIHRoZSByZW5kZXJlciBiYWNrZ3JvdW5kQ29sb3JcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlbmRlcmVyfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyIChjbGVhckNvbG9yKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudClcbiAgICAgICAge1xuICAgICAgICAgICAgY2xlYXJDb2xvciA9IGNsZWFyQ29sb3IgfHwgdGhpcy5jdXJyZW50LmJhc2VUZXh0dXJlLmNsZWFyQ29sb3I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBjbGVhckNvbG9yID0gY2xlYXJDb2xvciB8fCB0aGlzLmNsZWFyQ29sb3I7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlbmRlcmVyLmZyYW1lYnVmZmVyLmNsZWFyKGNsZWFyQ29sb3JbMF0sIGNsZWFyQ29sb3JbMV0sIGNsZWFyQ29sb3JbMl0sIGNsZWFyQ29sb3JbM10pO1xuICAgIH07XG5cbiAgICBSZW5kZXJUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiByZXNpemUgKCkvLyBzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KVxuICAgIHtcbiAgICAgICAgLy8gcmVzaXplIHRoZSByb290IG9ubHkhXG4gICAgICAgIHRoaXMuYmluZChudWxsKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVzZXRzIHJlbmRlclRleHR1cmUgc3RhdGVcbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0ICgpXG4gICAge1xuICAgICAgICB0aGlzLmJpbmQobnVsbCk7XG4gICAgfTtcblxuICAgIHJldHVybiBSZW5kZXJUZXh0dXJlU3lzdGVtO1xufShTeXN0ZW0pKTtcblxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgV2ViR0wgUHJvZ3JhbVxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEdMUHJvZ3JhbSA9IGZ1bmN0aW9uIEdMUHJvZ3JhbShwcm9ncmFtLCB1bmlmb3JtRGF0YSlcbntcbiAgICAvKipcbiAgICAgKiBUaGUgc2hhZGVyIHByb2dyYW1cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1dlYkdMUHJvZ3JhbX1cbiAgICAgKi9cbiAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtO1xuXG4gICAgLyoqXG4gICAgICogaG9sZHMgdGhlIHVuaWZvcm0gZGF0YSB3aGljaCBjb250YWlucyB1bmlmb3JtIGxvY2F0aW9uc1xuICAgICAqIGFuZCBjdXJyZW50IHVuaWZvcm0gdmFsdWVzIHVzZWQgZm9yIGNhY2hpbmcgYW5kIHByZXZlbnRpbmcgdW5uZWVkZWQgR1BVIGNvbW1hbmRzXG4gICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMudW5pZm9ybURhdGEgPSB1bmlmb3JtRGF0YTtcblxuICAgIC8qKlxuICAgICAqIHVuaWZvcm1Hcm91cHMgaG9sZHMgdGhlIHZhcmlvdXMgdXBsb2FkIGZ1bmN0aW9ucyBmb3IgdGhlIHNoYWRlci4gRWFjaCB1bmlmb3JtIGdyb3VwXG4gICAgICogYW5kIHByb2dyYW0gaGF2ZSBhIHVuaXF1ZSB1cGxvYWQgZnVuY3Rpb24gZ2VuZXJhdGVkLlxuICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLnVuaWZvcm1Hcm91cHMgPSB7fTtcbn07XG5cbi8qKlxuICogRGVzdHJveXMgdGhpcyBwcm9ncmFtXG4gKi9cbkdMUHJvZ3JhbS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbntcbiAgICB0aGlzLnVuaWZvcm1EYXRhID0gbnVsbDtcbiAgICB0aGlzLnVuaWZvcm1Hcm91cHMgPSBudWxsO1xuICAgIHRoaXMucHJvZ3JhbSA9IG51bGw7XG59O1xuXG52YXIgVUlEJDQgPSAwO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBzaGFkZXJzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqL1xudmFyIFNoYWRlclN5c3RlbSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFN5c3RlbSkge1xuICAgIGZ1bmN0aW9uIFNoYWRlclN5c3RlbShyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIFN5c3RlbS5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcblxuICAgICAgICAvLyBWYWxpZGF0aW9uIGNoZWNrIHRoYXQgdGhpcyBlbnZpcm9ubWVudCBzdXBwb3J0IGBuZXcgRnVuY3Rpb25gXG4gICAgICAgIHRoaXMuc3lzdGVtQ2hlY2soKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnQgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5nbCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnByb2dyYW0gPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWNoZSB0byBob2xkcyB0aGUgZ2VuZXJhdGVkIGZ1bmN0aW9ucy4gU3RvcmVkIGFnYWluc3QgVW5pZm9ybU9iamVjdHMgdW5pcXVlIHNpZ25hdHVyZVxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jYWNoZSA9IHt9O1xuXG4gICAgICAgIHRoaXMuaWQgPSBVSUQkNCsrO1xuICAgIH1cblxuICAgIGlmICggU3lzdGVtICkgU2hhZGVyU3lzdGVtLl9fcHJvdG9fXyA9IFN5c3RlbTtcbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU3lzdGVtICYmIFN5c3RlbS5wcm90b3R5cGUgKTtcbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU2hhZGVyU3lzdGVtO1xuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVhYmxlIGZ1bmN0aW9uIGJ5IGBAcGl4aS91bnNhZmUtZXZhbGAgdG8gc2lsZW5jZVxuICAgICAqIHRocm93aW5nIGFuIGVycm9yIGlmIHBsYXRmb3JtIGRvZXNuJ3Qgc3VwcG9ydCB1bnNhZmUtZXZhbHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFNoYWRlclN5c3RlbS5wcm90b3R5cGUuc3lzdGVtQ2hlY2sgPSBmdW5jdGlvbiBzeXN0ZW1DaGVjayAoKVxuICAgIHtcbiAgICAgICAgaWYgKCF1bnNhZmVFdmFsU3VwcG9ydGVkKCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ3VycmVudCBlbnZpcm9ubWVudCBkb2VzIG5vdCBhbGxvdyB1bnNhZmUtZXZhbCwgJ1xuICAgICAgICAgICAgICAgICsgJ3BsZWFzZSB1c2UgQHBpeGkvdW5zYWZlLWV2YWwgbW9kdWxlIHRvIGVuYWJsZSBzdXBwb3J0LicpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIFNoYWRlclN5c3RlbS5wcm90b3R5cGUuY29udGV4dENoYW5nZSA9IGZ1bmN0aW9uIGNvbnRleHRDaGFuZ2UgKGdsKVxuICAgIHtcbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIGN1cnJlbnQgc2hhZGVyIHRvIHRoZSBvbmUgZ2l2ZW4gaW4gcGFyYW1ldGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuU2hhZGVyfSBzaGFkZXIgLSB0aGUgbmV3IHNoYWRlclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZG9udFN5bmMgLSBmYWxzZSBpZiB0aGUgc2hhZGVyIHNob3VsZCBhdXRvbWF0aWNhbGx5IHN5bmMgaXRzIHVuaWZvcm1zLlxuICAgICAqIEByZXR1cm5zIHtQSVhJLkdMUHJvZ3JhbX0gdGhlIGdsUHJvZ3JhbSB0aGF0IGJlbG9uZ3MgdG8gdGhlIHNoYWRlci5cbiAgICAgKi9cbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiBiaW5kIChzaGFkZXIsIGRvbnRTeW5jKVxuICAgIHtcbiAgICAgICAgc2hhZGVyLnVuaWZvcm1zLmdsb2JhbHMgPSB0aGlzLnJlbmRlcmVyLmdsb2JhbFVuaWZvcm1zO1xuXG4gICAgICAgIHZhciBwcm9ncmFtID0gc2hhZGVyLnByb2dyYW07XG4gICAgICAgIHZhciBnbFByb2dyYW0gPSBwcm9ncmFtLmdsUHJvZ3JhbXNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF0gfHwgdGhpcy5nZW5lcmF0ZVNoYWRlcihzaGFkZXIpO1xuXG4gICAgICAgIHRoaXMuc2hhZGVyID0gc2hhZGVyO1xuXG4gICAgICAgIC8vIFRPRE8gLSBzb21lIGN1cnJlbnQgUGl4aSBwbHVnaW5zIGJ5cGFzcyB0aGlzLi4gc28gaXQgbm90IHNhZmUgdG8gdXNlIHlldC4uXG4gICAgICAgIGlmICh0aGlzLnByb2dyYW0gIT09IHByb2dyYW0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucHJvZ3JhbSA9IHByb2dyYW07XG4gICAgICAgICAgICB0aGlzLmdsLnVzZVByb2dyYW0oZ2xQcm9ncmFtLnByb2dyYW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFkb250U3luYylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zeW5jVW5pZm9ybUdyb3VwKHNoYWRlci51bmlmb3JtR3JvdXApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGdsUHJvZ3JhbTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBsb2FkcyB0aGUgdW5pZm9ybXMgdmFsdWVzIHRvIHRoZSBjdXJyZW50bHkgYm91bmQgc2hhZGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHVuaWZvcm1zIC0gdGhlIHVuaWZvcm1zIHZhbHVlcyB0aGF0IGJlIGFwcGxpZWQgdG8gdGhlIGN1cnJlbnQgc2hhZGVyXG4gICAgICovXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5zZXRVbmlmb3JtcyA9IGZ1bmN0aW9uIHNldFVuaWZvcm1zICh1bmlmb3JtcylcbiAgICB7XG4gICAgICAgIHZhciBzaGFkZXIgPSB0aGlzLnNoYWRlci5wcm9ncmFtO1xuICAgICAgICB2YXIgZ2xQcm9ncmFtID0gc2hhZGVyLmdsUHJvZ3JhbXNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF07XG5cbiAgICAgICAgc2hhZGVyLnN5bmNVbmlmb3JtcyhnbFByb2dyYW0udW5pZm9ybURhdGEsIHVuaWZvcm1zLCB0aGlzLnJlbmRlcmVyKTtcbiAgICB9O1xuXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5zeW5jVW5pZm9ybUdyb3VwID0gZnVuY3Rpb24gc3luY1VuaWZvcm1Hcm91cCAoZ3JvdXApXG4gICAge1xuICAgICAgICB2YXIgZ2xQcm9ncmFtID0gdGhpcy5nZXRnbFByb2dyYW0oKTtcblxuICAgICAgICBpZiAoIWdyb3VwLnN0YXRpYyB8fCBncm91cC5kaXJ0eUlkICE9PSBnbFByb2dyYW0udW5pZm9ybUdyb3Vwc1tncm91cC5pZF0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsUHJvZ3JhbS51bmlmb3JtR3JvdXBzW2dyb3VwLmlkXSA9IGdyb3VwLmRpcnR5SWQ7XG5cbiAgICAgICAgICAgIHRoaXMuc3luY1VuaWZvcm1zKGdyb3VwLCBnbFByb2dyYW0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlYWJsZSBieSB0aGUgQHBpeGkvdW5zYWZlLWV2YWwgcGFja2FnZSB0byB1c2Ugc3RhdGljXG4gICAgICogc3luY1VuZm9ybXMgaW5zdGVhZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5zeW5jVW5pZm9ybXMgPSBmdW5jdGlvbiBzeW5jVW5pZm9ybXMgKGdyb3VwLCBnbFByb2dyYW0pXG4gICAge1xuICAgICAgICB2YXIgc3luY0Z1bmMgPSBncm91cC5zeW5jVW5pZm9ybXNbdGhpcy5zaGFkZXIucHJvZ3JhbS5pZF0gfHwgdGhpcy5jcmVhdGVTeW5jR3JvdXBzKGdyb3VwKTtcblxuICAgICAgICBzeW5jRnVuYyhnbFByb2dyYW0udW5pZm9ybURhdGEsIGdyb3VwLnVuaWZvcm1zLCB0aGlzLnJlbmRlcmVyKTtcbiAgICB9O1xuXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5jcmVhdGVTeW5jR3JvdXBzID0gZnVuY3Rpb24gY3JlYXRlU3luY0dyb3VwcyAoZ3JvdXApXG4gICAge1xuICAgICAgICB2YXIgaWQgPSB0aGlzLmdldFNpZ25hdHVyZShncm91cCwgdGhpcy5zaGFkZXIucHJvZ3JhbS51bmlmb3JtRGF0YSk7XG5cbiAgICAgICAgaWYgKCF0aGlzLmNhY2hlW2lkXSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jYWNoZVtpZF0gPSBnZW5lcmF0ZVVuaWZvcm1zU3luYyhncm91cCwgdGhpcy5zaGFkZXIucHJvZ3JhbS51bmlmb3JtRGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBncm91cC5zeW5jVW5pZm9ybXNbdGhpcy5zaGFkZXIucHJvZ3JhbS5pZF0gPSB0aGlzLmNhY2hlW2lkXTtcblxuICAgICAgICByZXR1cm4gZ3JvdXAuc3luY1VuaWZvcm1zW3RoaXMuc2hhZGVyLnByb2dyYW0uaWRdO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUYWtlcyBhIHVuaWZvcm0gZ3JvdXAgYW5kIGRhdGEgYW5kIGdlbmVyYXRlcyBhIHVuaXF1ZSBzaWduYXR1cmUgZm9yIHRoZW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVW5pZm9ybUdyb3VwfSBncm91cCB0aGUgdW5pZm9ybSBncm91cCB0byBnZXQgc2lnbmF0dXJlIG9mXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHVuaWZvcm1EYXRhIHVuaWZvcm0gaW5mb3JtYXRpb24gZ2VuZXJhdGVkIGJ5IHRoZSBzaGFkZXJcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSBVbmlxdWUgc2lnbmF0dXJlIG9mIHRoZSB1bmlmb3JtIGdyb3VwXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLmdldFNpZ25hdHVyZSA9IGZ1bmN0aW9uIGdldFNpZ25hdHVyZSAoZ3JvdXAsIHVuaWZvcm1EYXRhKVxuICAgIHtcbiAgICAgICAgdmFyIHVuaWZvcm1zID0gZ3JvdXAudW5pZm9ybXM7XG5cbiAgICAgICAgdmFyIHN0cmluZ3MgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpIGluIHVuaWZvcm1zKVxuICAgICAgICB7XG4gICAgICAgICAgICBzdHJpbmdzLnB1c2goaSk7XG5cbiAgICAgICAgICAgIGlmICh1bmlmb3JtRGF0YVtpXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmdzLnB1c2godW5pZm9ybURhdGFbaV0udHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3RyaW5ncy5qb2luKCctJyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHVuZGVybHlpbmcgR0xTaGFkZSByb2YgdGhlIGN1cnJlbnRseSBib3VuZCBzaGFkZXIuXG4gICAgICogVGhpcyBjYW4gYmUgaGFuZHkgZm9yIHdoZW4geW91IHRvIGhhdmUgYSBsaXR0bGUgbW9yZSBjb250cm9sIG92ZXIgdGhlIHNldHRpbmcgb2YgeW91ciB1bmlmb3Jtcy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR0xQcm9ncmFtfSB0aGUgZ2xQcm9ncmFtIGZvciB0aGUgY3VycmVudGx5IGJvdW5kIFNoYWRlciBmb3IgdGhpcyBjb250ZXh0XG4gICAgICovXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5nZXRnbFByb2dyYW0gPSBmdW5jdGlvbiBnZXRnbFByb2dyYW0gKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnNoYWRlcilcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2hhZGVyLnByb2dyYW0uZ2xQcm9ncmFtc1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgYSBnbFByb2dyYW0gdmVyc2lvbiBvZiB0aGUgU2hhZGVyIHByb3ZpZGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuU2hhZGVyfSBzaGFkZXIgdGhlIHNoYWRlciB0aGF0IHRoZSBnbFByb2dyYW0gd2lsbCBiZSBiYXNlZCBvbi5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdMUHJvZ3JhbX0gQSBzaGlueSBuZXcgZ2xQcm9ncmFtIVxuICAgICAqL1xuICAgIFNoYWRlclN5c3RlbS5wcm90b3R5cGUuZ2VuZXJhdGVTaGFkZXIgPSBmdW5jdGlvbiBnZW5lcmF0ZVNoYWRlciAoc2hhZGVyKVxuICAgIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcblxuICAgICAgICB2YXIgcHJvZ3JhbSA9IHNoYWRlci5wcm9ncmFtO1xuXG4gICAgICAgIHZhciBhdHRyaWJNYXAgPSB7fTtcblxuICAgICAgICBmb3IgKHZhciBpIGluIHByb2dyYW0uYXR0cmlidXRlRGF0YSlcbiAgICAgICAge1xuICAgICAgICAgICAgYXR0cmliTWFwW2ldID0gcHJvZ3JhbS5hdHRyaWJ1dGVEYXRhW2ldLmxvY2F0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNoYWRlclByb2dyYW0gPSBjb21waWxlUHJvZ3JhbShnbCwgcHJvZ3JhbS52ZXJ0ZXhTcmMsIHByb2dyYW0uZnJhZ21lbnRTcmMsIGF0dHJpYk1hcCk7XG4gICAgICAgIHZhciB1bmlmb3JtRGF0YSA9IHt9O1xuXG4gICAgICAgIGZvciAodmFyIGkkMSBpbiBwcm9ncmFtLnVuaWZvcm1EYXRhKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHByb2dyYW0udW5pZm9ybURhdGFbaSQxXTtcblxuICAgICAgICAgICAgdW5pZm9ybURhdGFbaSQxXSA9IHtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbjogZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHNoYWRlclByb2dyYW0sIGkkMSksXG4gICAgICAgICAgICAgICAgdmFsdWU6IGRlZmF1bHRWYWx1ZShkYXRhLnR5cGUsIGRhdGEuc2l6ZSksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGdsUHJvZ3JhbSA9IG5ldyBHTFByb2dyYW0oc2hhZGVyUHJvZ3JhbSwgdW5pZm9ybURhdGEpO1xuXG4gICAgICAgIHByb2dyYW0uZ2xQcm9ncmFtc1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXSA9IGdsUHJvZ3JhbTtcblxuICAgICAgICByZXR1cm4gZ2xQcm9ncmFtO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNldHMgU2hhZGVyU3lzdGVtIHN0YXRlLCBkb2VzIG5vdCBhZmZlY3QgV2ViR0wgc3RhdGVcbiAgICAgKi9cbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQgKClcbiAgICB7XG4gICAgICAgIHRoaXMucHJvZ3JhbSA9IG51bGw7XG4gICAgICAgIHRoaXMuc2hhZGVyID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBTeXN0ZW0gYW5kIHJlbW92ZXMgYWxsIGl0cyB0ZXh0dXJlc1xuICAgICAqL1xuICAgIFNoYWRlclN5c3RlbS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbiAgICB7XG4gICAgICAgIC8vIFRPRE8gaW1wbGVtZW50IGRlc3Ryb3kgbWV0aG9kIGZvciBTaGFkZXJTeXN0ZW1cbiAgICAgICAgdGhpcy5kZXN0cm95ZWQgPSB0cnVlO1xuICAgIH07XG5cbiAgICByZXR1cm4gU2hhZGVyU3lzdGVtO1xufShTeXN0ZW0pKTtcblxuLyoqXG4gKiBNYXBzIGdsIGJsZW5kIGNvbWJpbmF0aW9ucyB0byBXZWJHTC5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGZ1bmN0aW9uIG1hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIFRoZSByZW5kZXJpbmcgY29udGV4dC5cbiAqIEBwYXJhbSB7bnVtYmVyW11bXX0gW2FycmF5PVtdXSAtIFRoZSBhcnJheSB0byBvdXRwdXQgaW50by5cbiAqIEByZXR1cm4ge251bWJlcltdW119IE1hcHBlZCBtb2Rlcy5cbiAqL1xuZnVuY3Rpb24gbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpKGdsLCBhcnJheSlcbntcbiAgICBpZiAoIGFycmF5ID09PSB2b2lkIDAgKSBhcnJheSA9IFtdO1xuXG4gICAgLy8gVE9ETyAtIHByZW11bHRpcGx5IGFscGhhIHdvdWxkIGJlIGRpZmZlcmVudC5cbiAgICAvLyBhZGQgYSBib29sZWFuIGZvciB0aGF0IVxuICAgIGFycmF5W0JMRU5EX01PREVTLk5PUk1BTF0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5BRERdID0gW2dsLk9ORSwgZ2wuT05FXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5NVUxUSVBMWV0gPSBbZ2wuRFNUX0NPTE9SLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBLCBnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLlNDUkVFTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0NPTE9SLCBnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLk9WRVJMQVldID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuREFSS0VOXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkxJR0hURU5dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuQ09MT1JfRE9ER0VdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuQ09MT1JfQlVSTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5IQVJEX0xJR0hUXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLlNPRlRfTElHSFRdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuRElGRkVSRU5DRV0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5FWENMVVNJT05dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuSFVFXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLlNBVFVSQVRJT05dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuQ09MT1JdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuTFVNSU5PU0lUWV0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5OT05FXSA9IFswLCAwXTtcblxuICAgIC8vIG5vdC1wcmVtdWx0aXBsaWVkIGJsZW5kIG1vZGVzXG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuTk9STUFMX05QTV0gPSBbZ2wuU1JDX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBLCBnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkFERF9OUE1dID0gW2dsLlNSQ19BTFBIQSwgZ2wuT05FLCBnbC5PTkUsIGdsLk9ORV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuU0NSRUVOX05QTV0gPSBbZ2wuU1JDX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0NPTE9SLCBnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuXG4gICAgLy8gY29tcG9zaXRlIG9wZXJhdGlvbnNcbiAgICBhcnJheVtCTEVORF9NT0RFUy5TUkNfSU5dID0gW2dsLkRTVF9BTFBIQSwgZ2wuWkVST107XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuU1JDX09VVF0gPSBbZ2wuT05FX01JTlVTX0RTVF9BTFBIQSwgZ2wuWkVST107XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuU1JDX0FUT1BdID0gW2dsLkRTVF9BTFBIQSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuRFNUX09WRVJdID0gW2dsLk9ORV9NSU5VU19EU1RfQUxQSEEsIGdsLk9ORV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuRFNUX0lOXSA9IFtnbC5aRVJPLCBnbC5TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkRTVF9PVVRdID0gW2dsLlpFUk8sIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkRTVF9BVE9QXSA9IFtnbC5PTkVfTUlOVVNfRFNUX0FMUEhBLCBnbC5TUkNfQUxQSEFdO1xuXG4gICAgLy8gU1VCVFJBQ1QgZnJvbSBmbGFzaFxuICAgIGFycmF5W0JMRU5EX01PREVTLlNVQlRSQUNUXSA9IFtnbC5PTkUsIGdsLk9ORSwgZ2wuT05FLCBnbC5PTkUsIGdsLkZVTkNfUkVWRVJTRV9TVUJUUkFDVCwgZ2wuRlVOQ19BRERdO1xuXG4gICAgcmV0dXJuIGFycmF5O1xufVxuXG52YXIgQkxFTkQkMSA9IDA7XG52YXIgT0ZGU0VUJDEgPSAxO1xudmFyIENVTExJTkckMSA9IDI7XG52YXIgREVQVEhfVEVTVCQxID0gMztcbnZhciBXSU5ESU5HJDEgPSA0O1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBXZWJHTCBzdGF0ZSBtYWNoaW5lcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbnZhciBTdGF0ZVN5c3RlbSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFN5c3RlbSkge1xuICAgIGZ1bmN0aW9uIFN0YXRlU3lzdGVtKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgU3lzdGVtLmNhbGwodGhpcywgcmVuZGVyZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHTCBjb250ZXh0XG4gICAgICAgICAqIEBtZW1iZXIge1dlYkdMUmVuZGVyaW5nQ29udGV4dH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdsID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU3RhdGUgSURcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhdGVJZCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBvbHlnb24gb2Zmc2V0XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBvbHlnb25PZmZzZXQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCbGVuZCBtb2RlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT05FXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ibGVuZE1vZGUgPSBCTEVORF9NT0RFUy5OT05FO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIGN1cnJlbnQgYmxlbmQgZXF1YXRpb24gaXMgZGlmZmVyZW50XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JsZW5kRXEgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBjYWxsc1xuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbltdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWFwID0gW107XG5cbiAgICAgICAgLy8gbWFwIGZ1bmN0aW9ucyBmb3Igd2hlbiB3ZSBzZXQgc3RhdGUuLlxuICAgICAgICB0aGlzLm1hcFtCTEVORCQxXSA9IHRoaXMuc2V0QmxlbmQ7XG4gICAgICAgIHRoaXMubWFwW09GRlNFVCQxXSA9IHRoaXMuc2V0T2Zmc2V0O1xuICAgICAgICB0aGlzLm1hcFtDVUxMSU5HJDFdID0gdGhpcy5zZXRDdWxsRmFjZTtcbiAgICAgICAgdGhpcy5tYXBbREVQVEhfVEVTVCQxXSA9IHRoaXMuc2V0RGVwdGhUZXN0O1xuICAgICAgICB0aGlzLm1hcFtXSU5ESU5HJDFdID0gdGhpcy5zZXRGcm9udEZhY2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgY2hlY2sgY2FsbHNcbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb25bXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNoZWNrcyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZhdWx0IFdlYkdMIFN0YXRlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3RhdGV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWZhdWx0U3RhdGUgPSBuZXcgU3RhdGUoKTtcbiAgICAgICAgdGhpcy5kZWZhdWx0U3RhdGUuYmxlbmQgPSB0cnVlO1xuICAgICAgICB0aGlzLmRlZmF1bHRTdGF0ZS5kZXB0aCA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKCBTeXN0ZW0gKSBTdGF0ZVN5c3RlbS5fX3Byb3RvX18gPSBTeXN0ZW07XG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU3lzdGVtICYmIFN5c3RlbS5wcm90b3R5cGUgKTtcbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTdGF0ZVN5c3RlbTtcblxuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZS5jb250ZXh0Q2hhbmdlID0gZnVuY3Rpb24gY29udGV4dENoYW5nZSAoZ2wpXG4gICAge1xuICAgICAgICB0aGlzLmdsID0gZ2w7XG5cbiAgICAgICAgdGhpcy5ibGVuZE1vZGVzID0gbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpKGdsKTtcblxuICAgICAgICB0aGlzLnNldCh0aGlzLmRlZmF1bHRTdGF0ZSk7XG5cbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBjdXJyZW50IHN0YXRlXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHN0YXRlIC0gVGhlIHN0YXRlIHRvIHNldC5cbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gc2V0IChzdGF0ZSlcbiAgICB7XG4gICAgICAgIHN0YXRlID0gc3RhdGUgfHwgdGhpcy5kZWZhdWx0U3RhdGU7XG5cbiAgICAgICAgLy8gVE9ETyBtYXliZSB0byBhbiBvYmplY3QgY2hlY2s/ICggdGhpcy5zdGF0ZSA9PT0gc3RhdGUgKT9cbiAgICAgICAgaWYgKHRoaXMuc3RhdGVJZCAhPT0gc3RhdGUuZGF0YSlcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGRpZmYgPSB0aGlzLnN0YXRlSWQgXiBzdGF0ZS5kYXRhO1xuICAgICAgICAgICAgdmFyIGkgPSAwO1xuXG4gICAgICAgICAgICAvLyBvcmRlciBmcm9tIGxlYXN0IHRvIG1vc3QgY29tbW9uXG4gICAgICAgICAgICB3aGlsZSAoZGlmZilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoZGlmZiAmIDEpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvLyBzdGF0ZSBjaGFuZ2UhXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFwW2ldLmNhbGwodGhpcywgISEoc3RhdGUuZGF0YSAmICgxIDw8IGkpKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZGlmZiA9IGRpZmYgPj4gMTtcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuc3RhdGVJZCA9IHN0YXRlLmRhdGE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBiYXNlZCBvbiB0aGUgYWJvdmUgc2V0dGluZ3Mgd2UgY2hlY2sgZm9yIHNwZWNpZmljIG1vZGVzLi5cbiAgICAgICAgLy8gZm9yIGV4YW1wbGUgaWYgYmxlbmQgaXMgYWN0aXZlIHdlIGNoZWNrIGFuZCBzZXQgdGhlIGJsZW5kIG1vZGVzXG4gICAgICAgIC8vIG9yIG9mIHBvbHlnb24gb2Zmc2V0IGlzIGFjdGl2ZSB3ZSBjaGVjayB0aGUgcG9seSBkZXB0aC5cbiAgICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgdGhpcy5jaGVja3MubGVuZ3RoOyBpJDErKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jaGVja3NbaSQxXSh0aGlzLCBzdGF0ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc3RhdGUsIHdoZW4gcHJldmlvdXMgc3RhdGUgaXMgdW5rbm93blxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSBzdGF0ZSAtIFRoZSBzdGF0ZSB0byBzZXRcbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuZm9yY2VTdGF0ZSA9IGZ1bmN0aW9uIGZvcmNlU3RhdGUgKHN0YXRlKVxuICAgIHtcbiAgICAgICAgc3RhdGUgPSBzdGF0ZSB8fCB0aGlzLmRlZmF1bHRTdGF0ZTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm1hcC5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5tYXBbaV0uY2FsbCh0aGlzLCAhIShzdGF0ZS5kYXRhICYgKDEgPDwgaSkpKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCB0aGlzLmNoZWNrcy5sZW5ndGg7IGkkMSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrc1tpJDFdKHRoaXMsIHN0YXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3RhdGVJZCA9IHN0YXRlLmRhdGE7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgb3IgZGlzYWJsZWQgYmxlbmRpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gVHVybiBvbiBvciBvZmYgd2ViZ2wgYmxlbmRpbmcuXG4gICAgICovXG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlLnNldEJsZW5kID0gZnVuY3Rpb24gc2V0QmxlbmQgKHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy51cGRhdGVDaGVjayhTdGF0ZVN5c3RlbS5jaGVja0JsZW5kTW9kZSwgdmFsdWUpO1xuXG4gICAgICAgIHRoaXMuZ2xbdmFsdWUgPyAnZW5hYmxlJyA6ICdkaXNhYmxlJ10odGhpcy5nbC5CTEVORCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgb3IgZGlzYWJsZSBwb2x5Z29uIG9mZnNldCBmaWxsXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gVHVybiBvbiBvciBvZmYgd2ViZ2wgcG9seWdvbiBvZmZzZXQgdGVzdGluZy5cbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuc2V0T2Zmc2V0ID0gZnVuY3Rpb24gc2V0T2Zmc2V0ICh2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMudXBkYXRlQ2hlY2soU3RhdGVTeXN0ZW0uY2hlY2tQb2x5Z29uT2Zmc2V0LCB2YWx1ZSk7XG5cbiAgICAgICAgdGhpcy5nbFt2YWx1ZSA/ICdlbmFibGUnIDogJ2Rpc2FibGUnXSh0aGlzLmdsLlBPTFlHT05fT0ZGU0VUX0ZJTEwpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHdoZXRoZXIgdG8gZW5hYmxlIG9yIGRpc2FibGUgZGVwdGggdGVzdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgLSBUdXJuIG9uIG9yIG9mZiB3ZWJnbCBkZXB0aCB0ZXN0aW5nLlxuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZS5zZXREZXB0aFRlc3QgPSBmdW5jdGlvbiBzZXREZXB0aFRlc3QgKHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5nbFt2YWx1ZSA/ICdlbmFibGUnIDogJ2Rpc2FibGUnXSh0aGlzLmdsLkRFUFRIX1RFU1QpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHdoZXRoZXIgdG8gZW5hYmxlIG9yIGRpc2FibGUgY3VsbCBmYWNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAtIFR1cm4gb24gb3Igb2ZmIHdlYmdsIGN1bGwgZmFjZS5cbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuc2V0Q3VsbEZhY2UgPSBmdW5jdGlvbiBzZXRDdWxsRmFjZSAodmFsdWUpXG4gICAge1xuICAgICAgICB0aGlzLmdsW3ZhbHVlID8gJ2VuYWJsZScgOiAnZGlzYWJsZSddKHRoaXMuZ2wuQ1VMTF9GQUNFKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgZ2wgZnJvbnQgZmFjZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgLSB0cnVlIGlzIGNsb2Nrd2lzZSBhbmQgZmFsc2UgaXMgY291bnRlci1jbG9ja3dpc2VcbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuc2V0RnJvbnRGYWNlID0gZnVuY3Rpb24gc2V0RnJvbnRGYWNlICh2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuZ2wuZnJvbnRGYWNlKHRoaXMuZ2xbdmFsdWUgPyAnQ1cnIDogJ0NDVyddKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYmxlbmQgbW9kZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAtIFRoZSBibGVuZCBtb2RlIHRvIHNldCB0by5cbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuc2V0QmxlbmRNb2RlID0gZnVuY3Rpb24gc2V0QmxlbmRNb2RlICh2YWx1ZSlcbiAgICB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdGhpcy5ibGVuZE1vZGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYmxlbmRNb2RlID0gdmFsdWU7XG5cbiAgICAgICAgdmFyIG1vZGUgPSB0aGlzLmJsZW5kTW9kZXNbdmFsdWVdO1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuXG4gICAgICAgIGlmIChtb2RlLmxlbmd0aCA9PT0gMilcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wuYmxlbmRGdW5jKG1vZGVbMF0sIG1vZGVbMV0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wuYmxlbmRGdW5jU2VwYXJhdGUobW9kZVswXSwgbW9kZVsxXSwgbW9kZVsyXSwgbW9kZVszXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1vZGUubGVuZ3RoID09PSA2KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9ibGVuZEVxID0gdHJ1ZTtcbiAgICAgICAgICAgIGdsLmJsZW5kRXF1YXRpb25TZXBhcmF0ZShtb2RlWzRdLCBtb2RlWzVdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLl9ibGVuZEVxKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9ibGVuZEVxID0gZmFsc2U7XG4gICAgICAgICAgICBnbC5ibGVuZEVxdWF0aW9uU2VwYXJhdGUoZ2wuRlVOQ19BREQsIGdsLkZVTkNfQUREKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBwb2x5Z29uIG9mZnNldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAtIHRoZSBwb2x5Z29uIG9mZnNldFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZSAtIHRoZSBwb2x5Z29uIG9mZnNldCBzY2FsZVxuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZS5zZXRQb2x5Z29uT2Zmc2V0ID0gZnVuY3Rpb24gc2V0UG9seWdvbk9mZnNldCAodmFsdWUsIHNjYWxlKVxuICAgIHtcbiAgICAgICAgdGhpcy5nbC5wb2x5Z29uT2Zmc2V0KHZhbHVlLCBzY2FsZSk7XG4gICAgfTtcblxuICAgIC8vIHVzZWRcbiAgICAvKipcbiAgICAgKiBSZXNldHMgYWxsIHRoZSBsb2dpYyBhbmQgZGlzYWJsZXMgdGhlIHZhb3NcbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiByZXNldCAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5nbC5waXhlbFN0b3JlaSh0aGlzLmdsLlVOUEFDS19GTElQX1lfV0VCR0wsIGZhbHNlKTtcblxuICAgICAgICB0aGlzLmZvcmNlU3RhdGUoMCk7XG5cbiAgICAgICAgdGhpcy5fYmxlbmRFcSA9IHRydWU7XG4gICAgICAgIHRoaXMuYmxlbmRNb2RlID0gLTE7XG4gICAgICAgIHRoaXMuc2V0QmxlbmRNb2RlKDApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBjaGVja3MgdG8gc2VlIHdoaWNoIHVwZGF0ZXMgc2hvdWxkIGJlIGNoZWNrZWQgYmFzZWQgb24gd2hpY2ggc2V0dGluZ3MgaGF2ZSBiZWVuIGFjdGl2YXRlZC5cbiAgICAgKiBGb3IgZXhhbXBsZSwgaWYgYmxlbmQgaXMgZW5hYmxlZCB0aGVuIHdlIHNob3VsZCBjaGVjayB0aGUgYmxlbmQgbW9kZXMgZWFjaCB0aW1lIHRoZSBzdGF0ZSBpcyBjaGFuZ2VkXG4gICAgICogb3IgaWYgcG9seWdvbiBmaWxsIGlzIGFjdGl2YXRlZCB0aGVuIHdlIG5lZWQgdG8gY2hlY2sgaWYgdGhlIHBvbHlnb24gb2Zmc2V0IGNoYW5nZXMuXG4gICAgICogVGhlIGlkZWEgaXMgdGhhdCB3ZSBvbmx5IGNoZWNrIHdoYXQgd2UgaGF2ZSB0b28uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jICB0aGUgY2hlY2tpbmcgZnVuY3Rpb24gdG8gYWRkIG9yIHJlbW92ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgIHNob3VsZCB0aGUgY2hlY2sgZnVuY3Rpb24gYmUgYWRkZWQgb3IgcmVtb3ZlZC5cbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUudXBkYXRlQ2hlY2sgPSBmdW5jdGlvbiB1cGRhdGVDaGVjayAoZnVuYywgdmFsdWUpXG4gICAge1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmNoZWNrcy5pbmRleE9mKGZ1bmMpO1xuXG4gICAgICAgIGlmICh2YWx1ZSAmJiBpbmRleCA9PT0gLTEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tzLnB1c2goZnVuYyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIXZhbHVlICYmIGluZGV4ICE9PSAtMSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jaGVja3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBIHByaXZhdGUgbGl0dGxlIHdyYXBwZXIgZnVuY3Rpb24gdGhhdCB3ZSBjYWxsIHRvIGNoZWNrIHRoZSBibGVuZCBtb2RlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLlN0YXRlU3lzdGVtfSBTeXN0ZW0gIHRoZSBTeXN0ZW0gdG8gcGVyZm9ybSB0aGUgc3RhdGUgY2hlY2sgb25cbiAgICAgKiBAcGFyYW0ge1BJWEkuU3RhdGV9IHN0YXRlICB0aGUgc3RhdGUgdGhhdCB0aGUgYmxlbmRNb2RlIHdpbGwgcHVsbGVkIGZyb21cbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5jaGVja0JsZW5kTW9kZSA9IGZ1bmN0aW9uIGNoZWNrQmxlbmRNb2RlIChzeXN0ZW0sIHN0YXRlKVxuICAgIHtcbiAgICAgICAgc3lzdGVtLnNldEJsZW5kTW9kZShzdGF0ZS5ibGVuZE1vZGUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBIHByaXZhdGUgbGl0dGxlIHdyYXBwZXIgZnVuY3Rpb24gdGhhdCB3ZSBjYWxsIHRvIGNoZWNrIHRoZSBwb2x5Z29uIG9mZnNldC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5TdGF0ZVN5c3RlbX0gU3lzdGVtICB0aGUgU3lzdGVtIHRvIHBlcmZvcm0gdGhlIHN0YXRlIGNoZWNrIG9uXG4gICAgICogQHBhcmFtIHtQSVhJLlN0YXRlfSBzdGF0ZSAgdGhlIHN0YXRlIHRoYXQgdGhlIGJsZW5kTW9kZSB3aWxsIHB1bGxlZCBmcm9tXG4gICAgICovXG4gICAgU3RhdGVTeXN0ZW0uY2hlY2tQb2x5Z29uT2Zmc2V0ID0gZnVuY3Rpb24gY2hlY2tQb2x5Z29uT2Zmc2V0IChzeXN0ZW0sIHN0YXRlKVxuICAgIHtcbiAgICAgICAgc3lzdGVtLnNldFBvbHlnb25PZmZzZXQoc3RhdGUucG9seWdvbk9mZnNldCwgMCk7XG4gICAgfTtcblxuICAgIHJldHVybiBTdGF0ZVN5c3RlbTtcbn0oU3lzdGVtKSk7XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIHRleHR1cmUgZ2FyYmFnZSBjb2xsZWN0aW9uIG9uIHRoZSBHUFUsXG4gKiBlbnN1cmluZyB0aGF0IGl0IGRvZXMgbm90IGdldCBjbG9nZ2VkIHVwIHdpdGggdGV4dHVyZXMgdGhhdCBhcmUgbm8gbG9uZ2VyIGJlaW5nIHVzZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICovXG52YXIgVGV4dHVyZUdDU3lzdGVtID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoU3lzdGVtKSB7XG4gICAgZnVuY3Rpb24gVGV4dHVyZUdDU3lzdGVtKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgU3lzdGVtLmNhbGwodGhpcywgcmVuZGVyZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb3VudFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb3VudCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENoZWNrIGNvdW50XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNoZWNrQ291bnQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXhpbXVtIGlkbGUgdGltZSwgaW4gc2Vjb25kc1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBzZWUgUElYSS5zZXR0aW5ncy5HQ19NQVhfSURMRVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXhJZGxlID0gc2V0dGluZ3MuR0NfTUFYX0lETEU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1heGltdW0gbnVtYmVyIG9mIGl0ZW0gdG8gY2hlY2tcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkuc2V0dGluZ3MuR0NfTUFYX0NIRUNLX0NPVU5UXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNoZWNrQ291bnRNYXggPSBzZXR0aW5ncy5HQ19NQVhfQ0hFQ0tfQ09VTlQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgZ2FyYWJhZ2UgY29sbGVjdGlvbiBtb2RlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR0NfTU9ERVN9XG4gICAgICAgICAqIEBzZWUgUElYSS5zZXR0aW5ncy5HQ19NT0RFXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1vZGUgPSBzZXR0aW5ncy5HQ19NT0RFO1xuICAgIH1cblxuICAgIGlmICggU3lzdGVtICkgVGV4dHVyZUdDU3lzdGVtLl9fcHJvdG9fXyA9IFN5c3RlbTtcbiAgICBUZXh0dXJlR0NTeXN0ZW0ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU3lzdGVtICYmIFN5c3RlbS5wcm90b3R5cGUgKTtcbiAgICBUZXh0dXJlR0NTeXN0ZW0ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVGV4dHVyZUdDU3lzdGVtO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHRvIHNlZSB3aGVuIHRoZSBsYXN0IHRpbWUgYSB0ZXh0dXJlIHdhcyB1c2VkXG4gICAgICogaWYgdGhlIHRleHR1cmUgaGFzIG5vdCBiZWVuIHVzZWQgZm9yIGEgc3BlY2lmaWVkIGFtb3VudCBvZiB0aW1lIGl0IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBHUFVcbiAgICAgKi9cbiAgICBUZXh0dXJlR0NTeXN0ZW0ucHJvdG90eXBlLnBvc3RyZW5kZXIgPSBmdW5jdGlvbiBwb3N0cmVuZGVyICgpXG4gICAge1xuICAgICAgICB0aGlzLmNvdW50Kys7XG5cbiAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gR0NfTU9ERVMuTUFOVUFMKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNoZWNrQ291bnQrKztcblxuICAgICAgICBpZiAodGhpcy5jaGVja0NvdW50ID4gdGhpcy5jaGVja0NvdW50TWF4KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrQ291bnQgPSAwO1xuXG4gICAgICAgICAgICB0aGlzLnJ1bigpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyB0byBzZWUgd2hlbiB0aGUgbGFzdCB0aW1lIGEgdGV4dHVyZSB3YXMgdXNlZFxuICAgICAqIGlmIHRoZSB0ZXh0dXJlIGhhcyBub3QgYmVlbiB1c2VkIGZvciBhIHNwZWNpZmllZCBhbW91bnQgb2YgdGltZSBpdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgR1BVXG4gICAgICovXG4gICAgVGV4dHVyZUdDU3lzdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiBydW4gKClcbiAgICB7XG4gICAgICAgIHZhciB0bSA9IHRoaXMucmVuZGVyZXIudGV4dHVyZTtcbiAgICAgICAgdmFyIG1hbmFnZWRUZXh0dXJlcyA9ICB0bS5tYW5hZ2VkVGV4dHVyZXM7XG4gICAgICAgIHZhciB3YXNSZW1vdmVkID0gZmFsc2U7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYW5hZ2VkVGV4dHVyZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlID0gbWFuYWdlZFRleHR1cmVzW2ldO1xuXG4gICAgICAgICAgICAvLyBvbmx5IHN1cHBvcnRzIG5vbiBnZW5lcmF0ZWQgdGV4dHVyZXMgYXQgdGhlIG1vbWVudCFcbiAgICAgICAgICAgIGlmICghdGV4dHVyZS5mcmFtZWJ1ZmZlciAmJiB0aGlzLmNvdW50IC0gdGV4dHVyZS50b3VjaGVkID4gdGhpcy5tYXhJZGxlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRtLmRlc3Ryb3lUZXh0dXJlKHRleHR1cmUsIHRydWUpO1xuICAgICAgICAgICAgICAgIG1hbmFnZWRUZXh0dXJlc1tpXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgd2FzUmVtb3ZlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAod2FzUmVtb3ZlZClcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGogPSAwO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCBtYW5hZ2VkVGV4dHVyZXMubGVuZ3RoOyBpJDErKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAobWFuYWdlZFRleHR1cmVzW2kkMV0gIT09IG51bGwpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBtYW5hZ2VkVGV4dHVyZXNbaisrXSA9IG1hbmFnZWRUZXh0dXJlc1tpJDFdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbWFuYWdlZFRleHR1cmVzLmxlbmd0aCA9IGo7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgdGhlIHRleHR1cmVzIHdpdGhpbiB0aGUgc3BlY2lmaWVkIGRpc3BsYXlPYmplY3QgYW5kIGl0cyBjaGlsZHJlbiBmcm9tIHRoZSBHUFVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBkaXNwbGF5T2JqZWN0IC0gdGhlIGRpc3BsYXlPYmplY3QgdG8gcmVtb3ZlIHRoZSB0ZXh0dXJlcyBmcm9tLlxuICAgICAqL1xuICAgIFRleHR1cmVHQ1N5c3RlbS5wcm90b3R5cGUudW5sb2FkID0gZnVuY3Rpb24gdW5sb2FkIChkaXNwbGF5T2JqZWN0KVxuICAgIHtcbiAgICAgICAgdmFyIHRtID0gdGhpcy5yZW5kZXJlci50ZXh0dXJlU3lzdGVtO1xuXG4gICAgICAgIC8vIG9ubHkgZGVzdHJveSBub24gZ2VuZXJhdGVkIHRleHR1cmVzXG4gICAgICAgIGlmIChkaXNwbGF5T2JqZWN0Ll90ZXh0dXJlICYmIGRpc3BsYXlPYmplY3QuX3RleHR1cmUuX2dsUmVuZGVyVGFyZ2V0cylcbiAgICAgICAge1xuICAgICAgICAgICAgdG0uZGVzdHJveVRleHR1cmUoZGlzcGxheU9iamVjdC5fdGV4dHVyZSk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBpID0gZGlzcGxheU9iamVjdC5jaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51bmxvYWQoZGlzcGxheU9iamVjdC5jaGlsZHJlbltpXSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIFRleHR1cmVHQ1N5c3RlbTtcbn0oU3lzdGVtKSk7XG5cbi8qKlxuICogSW50ZXJuYWwgdGV4dHVyZSBmb3IgV2ViR0wgY29udGV4dFxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgR0xUZXh0dXJlID0gZnVuY3Rpb24gR0xUZXh0dXJlKHRleHR1cmUpXG57XG4gICAgLyoqXG4gICAgICogVGhlIFdlYkdMIHRleHR1cmVcbiAgICAgKiBAbWVtYmVyIHtXZWJHTFRleHR1cmV9XG4gICAgICovXG4gICAgdGhpcy50ZXh0dXJlID0gdGV4dHVyZTtcblxuICAgIC8qKlxuICAgICAqIFdpZHRoIG9mIHRleHR1cmUgdGhhdCB3YXMgdXNlZCBpbiB0ZXhJbWFnZTJEXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMud2lkdGggPSAtMTtcblxuICAgIC8qKlxuICAgICAqIEhlaWdodCBvZiB0ZXh0dXJlIHRoYXQgd2FzIHVzZWQgaW4gdGV4SW1hZ2UyRFxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmhlaWdodCA9IC0xO1xuXG4gICAgLyoqXG4gICAgICogVGV4dHVyZSBjb250ZW50cyBkaXJ0eSBmbGFnXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuZGlydHlJZCA9IC0xO1xuXG4gICAgLyoqXG4gICAgICogVGV4dHVyZSBzdHlsZSBkaXJ0eSBmbGFnXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuZGlydHlTdHlsZUlkID0gLTE7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIG1pcCBsZXZlbHMgaGFzIHRvIGJlIGdlbmVyYXRlZFxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5taXBtYXAgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFdyYXBNb2RlIGNvcGllZCBmcm9tIGJhc2VUZXh0dXJlXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMud3JhcE1vZGUgPSAzMzA3MTtcblxuICAgIC8qKlxuICAgICAqIFR5cGUgY29waWVkIGZyb20gYmFzZVRleHR1cmVcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy50eXBlID0gNjQwODtcblxuICAgIC8qKlxuICAgICAqIFR5cGUgY29waWVkIGZyb20gYmFzZVRleHR1cmVcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5pbnRlcm5hbEZvcm1hdCA9IDUxMjE7XG59O1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSB0ZXh0dXJlcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbnZhciBUZXh0dXJlU3lzdGVtID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoU3lzdGVtKSB7XG4gICAgZnVuY3Rpb24gVGV4dHVyZVN5c3RlbShyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIFN5c3RlbS5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcblxuICAgICAgICAvLyBUT0RPIHNldCB0byBtYXggdGV4dHVyZXMuLi5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJvdW5kIHRleHR1cmVzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmVbXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJvdW5kVGV4dHVyZXMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgbG9jYXRpb25cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0gLTE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIExpc3Qgb2YgbWFuYWdlZCB0ZXh0dXJlc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlW119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYW5hZ2VkVGV4dHVyZXMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlkIHNvbWVvbmUgdGVtcGVyIHdpdGggdGV4dHVyZXMgc3RhdGU/IFdlJ2xsIG92ZXJ3cml0ZSB0aGVtIHdoZW4gd2UgbmVlZCB0byB1bmJpbmQgc29tZXRoaW5nLlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdW5rbm93bkJvdW5kVGV4dHVyZXMgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQmFzZVRleHR1cmUgdmFsdWUgdGhhdCBzaG93cyB0aGF0IHdlIGRvbid0IGtub3cgd2hhdCBpcyBib3VuZFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudW5rbm93blRleHR1cmUgPSBuZXcgQmFzZVRleHR1cmUoKTtcbiAgICB9XG5cbiAgICBpZiAoIFN5c3RlbSApIFRleHR1cmVTeXN0ZW0uX19wcm90b19fID0gU3lzdGVtO1xuICAgIFRleHR1cmVTeXN0ZW0ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU3lzdGVtICYmIFN5c3RlbS5wcm90b3R5cGUgKTtcbiAgICBUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFRleHR1cmVTeXN0ZW07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIHRoZSByZW5kZXJlciBjb250ZXh0IGFuZCBuZWNlc3NhcnkgYnVmZmVycy5cbiAgICAgKi9cbiAgICBUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5jb250ZXh0Q2hhbmdlID0gZnVuY3Rpb24gY29udGV4dENoYW5nZSAoKVxuICAgIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgdGhpcy5DT05URVhUX1VJRCA9IHRoaXMucmVuZGVyZXIuQ09OVEVYVF9VSUQ7XG5cbiAgICAgICAgdGhpcy53ZWJHTFZlcnNpb24gPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQud2ViR0xWZXJzaW9uO1xuXG4gICAgICAgIHZhciBtYXhUZXh0dXJlcyA9IGdsLmdldFBhcmFtZXRlcihnbC5NQVhfVEVYVFVSRV9JTUFHRV9VTklUUyk7XG5cbiAgICAgICAgdGhpcy5ib3VuZFRleHR1cmVzLmxlbmd0aCA9IG1heFRleHR1cmVzO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4VGV4dHVyZXM7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5ib3VuZFRleHR1cmVzW2ldID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRPRE8gbW92ZSB0aGlzLi4gdG8gYSBuaWNlIG1ha2UgZW1wdHkgdGV4dHVyZXMgY2xhc3MuLlxuICAgICAgICB0aGlzLmVtcHR5VGV4dHVyZXMgPSB7fTtcblxuICAgICAgICB2YXIgZW1wdHlUZXh0dXJlMkQgPSBuZXcgR0xUZXh0dXJlKGdsLmNyZWF0ZVRleHR1cmUoKSk7XG5cbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgZW1wdHlUZXh0dXJlMkQudGV4dHVyZSk7XG4gICAgICAgIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgZ2wuUkdCQSwgMSwgMSwgMCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgbmV3IFVpbnQ4QXJyYXkoNCkpO1xuXG4gICAgICAgIHRoaXMuZW1wdHlUZXh0dXJlc1tnbC5URVhUVVJFXzJEXSA9IGVtcHR5VGV4dHVyZTJEO1xuICAgICAgICB0aGlzLmVtcHR5VGV4dHVyZXNbZ2wuVEVYVFVSRV9DVUJFX01BUF0gPSBuZXcgR0xUZXh0dXJlKGdsLmNyZWF0ZVRleHR1cmUoKSk7XG5cbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV9DVUJFX01BUCwgdGhpcy5lbXB0eVRleHR1cmVzW2dsLlRFWFRVUkVfQ1VCRV9NQVBdLnRleHR1cmUpO1xuXG4gICAgICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IDY7IGkkMSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCArIGkkMSwgMCwgZ2wuUkdCQSwgMSwgMSwgMCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgbnVsbCk7XG4gICAgICAgIH1cblxuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfQ1VCRV9NQVAsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgZ2wuTElORUFSKTtcbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFX0NVQkVfTUFQLCBnbC5URVhUVVJFX01JTl9GSUxURVIsIGdsLkxJTkVBUik7XG5cbiAgICAgICAgZm9yICh2YXIgaSQyID0gMDsgaSQyIDwgdGhpcy5ib3VuZFRleHR1cmVzLmxlbmd0aDsgaSQyKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYmluZChudWxsLCBpJDIpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEJpbmQgYSB0ZXh0dXJlIHRvIGEgc3BlY2lmaWMgbG9jYXRpb25cbiAgICAgKlxuICAgICAqIElmIHlvdSB3YW50IHRvIHVuYmluZCBzb21ldGhpbmcsIHBsZWFzZSB1c2UgYHVuYmluZCh0ZXh0dXJlKWAgaW5zdGVhZCBvZiBgYmluZChudWxsLCB0ZXh0dXJlTG9jYXRpb24pYFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV8UElYSS5CYXNlVGV4dHVyZX0gdGV4dHVyZSAtIFRleHR1cmUgdG8gYmluZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbG9jYXRpb249MF0gLSBMb2NhdGlvbiB0byBiaW5kIGF0XG4gICAgICovXG4gICAgVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uIGJpbmQgKHRleHR1cmUsIGxvY2F0aW9uKVxuICAgIHtcbiAgICAgICAgaWYgKCBsb2NhdGlvbiA9PT0gdm9pZCAwICkgbG9jYXRpb24gPSAwO1xuXG4gICAgICAgIHZhciByZWYgPSB0aGlzO1xuICAgICAgICB2YXIgZ2wgPSByZWYuZ2w7XG5cbiAgICAgICAgaWYgKHRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRleHR1cmUgPSB0ZXh0dXJlLmJhc2VUZXh0dXJlIHx8IHRleHR1cmU7XG5cbiAgICAgICAgICAgIGlmICh0ZXh0dXJlLnZhbGlkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRleHR1cmUudG91Y2hlZCA9IHRoaXMucmVuZGVyZXIudGV4dHVyZUdDLmNvdW50O1xuXG4gICAgICAgICAgICAgICAgdmFyIGdsVGV4dHVyZSA9IHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0gfHwgdGhpcy5pbml0VGV4dHVyZSh0ZXh0dXJlKTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRMb2NhdGlvbiAhPT0gbG9jYXRpb24pXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRMb2NhdGlvbiA9IGxvY2F0aW9uO1xuICAgICAgICAgICAgICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgbG9jYXRpb24pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvdW5kVGV4dHVyZXNbbG9jYXRpb25dICE9PSB0ZXh0dXJlKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUodGV4dHVyZS50YXJnZXQsIGdsVGV4dHVyZS50ZXh0dXJlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZ2xUZXh0dXJlLmRpcnR5SWQgIT09IHRleHR1cmUuZGlydHlJZClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSh0ZXh0dXJlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmJvdW5kVGV4dHVyZXNbbG9jYXRpb25dID0gdGV4dHVyZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRMb2NhdGlvbiAhPT0gbG9jYXRpb24pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50TG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICAgICAgICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgbG9jYXRpb24pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0aGlzLmVtcHR5VGV4dHVyZXNbZ2wuVEVYVFVSRV8yRF0udGV4dHVyZSk7XG4gICAgICAgICAgICB0aGlzLmJvdW5kVGV4dHVyZXNbbG9jYXRpb25dID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNldHMgdGV4dHVyZSBsb2NhdGlvbiBhbmQgYm91bmQgdGV4dHVyZXNcbiAgICAgKlxuICAgICAqIEFjdHVhbCBgYmluZChudWxsLCBpKWAgY2FsbHMgd2lsbCBiZSBwZXJmb3JtZWQgYXQgbmV4dCBgdW5iaW5kKClgIGNhbGxcbiAgICAgKi9cbiAgICBUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0ICgpXG4gICAge1xuICAgICAgICB0aGlzLl91bmtub3duQm91bmRUZXh0dXJlcyA9IHRydWU7XG4gICAgICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0gLTE7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJvdW5kVGV4dHVyZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYm91bmRUZXh0dXJlc1tpXSA9IHRoaXMudW5rbm93blRleHR1cmU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVW5iaW5kIGEgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfFBJWEkuQmFzZVRleHR1cmV9IHRleHR1cmUgLSBUZXh0dXJlIHRvIGJpbmRcbiAgICAgKi9cbiAgICBUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS51bmJpbmQgPSBmdW5jdGlvbiB1bmJpbmQgKHRleHR1cmUpXG4gICAge1xuICAgICAgICB2YXIgcmVmID0gdGhpcztcbiAgICAgICAgdmFyIGdsID0gcmVmLmdsO1xuICAgICAgICB2YXIgYm91bmRUZXh0dXJlcyA9IHJlZi5ib3VuZFRleHR1cmVzO1xuXG4gICAgICAgIGlmICh0aGlzLl91bmtub3duQm91bmRUZXh0dXJlcylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdW5rbm93bkJvdW5kVGV4dHVyZXMgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIHNvbWVvbmUgY2hhbmdlZCB3ZWJHTCBzdGF0ZSxcbiAgICAgICAgICAgIC8vIHdlIGhhdmUgdG8gYmUgc3VyZSB0aGF0IG91ciB0ZXh0dXJlIGRvZXMgbm90IGFwcGVhciBpbiBtdWx0aS10ZXh0dXJlIHJlbmRlcmVyIHNhbXBsZXJzXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvdW5kVGV4dHVyZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGJvdW5kVGV4dHVyZXNbaV0gPT09IHRoaXMudW5rbm93blRleHR1cmUpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJpbmQobnVsbCwgaSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgYm91bmRUZXh0dXJlcy5sZW5ndGg7IGkkMSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoYm91bmRUZXh0dXJlc1tpJDFdID09PSB0ZXh0dXJlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRMb2NhdGlvbiAhPT0gaSQxKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGkkMSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0gaSQxO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMuZW1wdHlUZXh0dXJlc1t0ZXh0dXJlLnRhcmdldF0udGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgYm91bmRUZXh0dXJlc1tpJDFdID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIGEgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IHRleHR1cmUgLSBUZXh0dXJlIHRvIGluaXRpYWxpemVcbiAgICAgKi9cbiAgICBUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5pbml0VGV4dHVyZSA9IGZ1bmN0aW9uIGluaXRUZXh0dXJlICh0ZXh0dXJlKVxuICAgIHtcbiAgICAgICAgdmFyIGdsVGV4dHVyZSA9IG5ldyBHTFRleHR1cmUodGhpcy5nbC5jcmVhdGVUZXh0dXJlKCkpO1xuXG4gICAgICAgIC8vIGd1YXJhbnRlZSBhbiB1cGRhdGUuLlxuICAgICAgICBnbFRleHR1cmUuZGlydHlJZCA9IC0xO1xuXG4gICAgICAgIHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0gPSBnbFRleHR1cmU7XG5cbiAgICAgICAgdGhpcy5tYW5hZ2VkVGV4dHVyZXMucHVzaCh0ZXh0dXJlKTtcbiAgICAgICAgdGV4dHVyZS5vbignZGlzcG9zZScsIHRoaXMuZGVzdHJveVRleHR1cmUsIHRoaXMpO1xuXG4gICAgICAgIHJldHVybiBnbFRleHR1cmU7XG4gICAgfTtcblxuICAgIFRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLmluaXRUZXh0dXJlVHlwZSA9IGZ1bmN0aW9uIGluaXRUZXh0dXJlVHlwZSAodGV4dHVyZSwgZ2xUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgZ2xUZXh0dXJlLmludGVybmFsRm9ybWF0ID0gdGV4dHVyZS5mb3JtYXQ7XG4gICAgICAgIGdsVGV4dHVyZS50eXBlID0gdGV4dHVyZS50eXBlO1xuICAgICAgICBpZiAodGhpcy53ZWJHTFZlcnNpb24gIT09IDIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuXG4gICAgICAgIGlmICh0ZXh0dXJlLnR5cGUgPT09IGdsLkZMT0FUXG4gICAgICAgICAgICAmJiB0ZXh0dXJlLmZvcm1hdCA9PT0gZ2wuUkdCQSlcbiAgICAgICAge1xuICAgICAgICAgICAgZ2xUZXh0dXJlLmludGVybmFsRm9ybWF0ID0gZ2wuUkdCQTMyRjtcbiAgICAgICAgfVxuICAgICAgICAvLyB0aGF0J3MgV2ViR0wxIEhBTEZfRkxPQVRfT0VTXG4gICAgICAgIC8vIHdlIGhhdmUgdG8gY29udmVydCBpdCB0byBXZWJHTCBIQUxGX0ZMT0FUXG4gICAgICAgIGlmICh0ZXh0dXJlLnR5cGUgPT09IFRZUEVTLkhBTEZfRkxPQVQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS50eXBlID0gZ2wuSEFMRl9GTE9BVDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ2xUZXh0dXJlLnR5cGUgPT09IGdsLkhBTEZfRkxPQVRcbiAgICAgICAgICAgICYmIHRleHR1cmUuZm9ybWF0ID09PSBnbC5SR0JBKVxuICAgICAgICB7XG4gICAgICAgICAgICBnbFRleHR1cmUuaW50ZXJuYWxGb3JtYXQgPSBnbC5SR0JBMTZGO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBhIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSB0ZXh0dXJlIC0gVGV4dHVyZSB0byBpbml0aWFsaXplXG4gICAgICovXG4gICAgVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUudXBkYXRlVGV4dHVyZSA9IGZ1bmN0aW9uIHVwZGF0ZVRleHR1cmUgKHRleHR1cmUpXG4gICAge1xuICAgICAgICB2YXIgZ2xUZXh0dXJlID0gdGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICBpZiAoIWdsVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcblxuICAgICAgICB0aGlzLmluaXRUZXh0dXJlVHlwZSh0ZXh0dXJlLCBnbFRleHR1cmUpO1xuXG4gICAgICAgIGlmICh0ZXh0dXJlLnJlc291cmNlICYmIHRleHR1cmUucmVzb3VyY2UudXBsb2FkKHJlbmRlcmVyLCB0ZXh0dXJlLCBnbFRleHR1cmUpKVxuICAgICAgICA7XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gZGVmYXVsdCwgcmVuZGVyVGV4dHVyZS1saWtlIGxvZ2ljXG4gICAgICAgICAgICB2YXIgd2lkdGggPSB0ZXh0dXJlLnJlYWxXaWR0aDtcbiAgICAgICAgICAgIHZhciBoZWlnaHQgPSB0ZXh0dXJlLnJlYWxIZWlnaHQ7XG4gICAgICAgICAgICB2YXIgZ2wgPSByZW5kZXJlci5nbDtcblxuICAgICAgICAgICAgaWYgKGdsVGV4dHVyZS53aWR0aCAhPT0gd2lkdGhcbiAgICAgICAgICAgICAgICB8fCBnbFRleHR1cmUuaGVpZ2h0ICE9PSBoZWlnaHRcbiAgICAgICAgICAgICAgICB8fCBnbFRleHR1cmUuZGlydHlJZCA8IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ2xUZXh0dXJlLndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICAgICAgZ2xUZXh0dXJlLmhlaWdodCA9IGhlaWdodDtcblxuICAgICAgICAgICAgICAgIGdsLnRleEltYWdlMkQodGV4dHVyZS50YXJnZXQsIDAsXG4gICAgICAgICAgICAgICAgICAgIGdsVGV4dHVyZS5pbnRlcm5hbEZvcm1hdCxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZS5mb3JtYXQsXG4gICAgICAgICAgICAgICAgICAgIGdsVGV4dHVyZS50eXBlLFxuICAgICAgICAgICAgICAgICAgICBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxldHMgb25seSB1cGRhdGUgd2hhdCBjaGFuZ2VzLi5cbiAgICAgICAgaWYgKHRleHR1cmUuZGlydHlTdHlsZUlkICE9PSBnbFRleHR1cmUuZGlydHlTdHlsZUlkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmVTdHlsZSh0ZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBnbFRleHR1cmUuZGlydHlJZCA9IHRleHR1cmUuZGlydHlJZDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVsZXRlcyB0aGUgdGV4dHVyZSBmcm9tIFdlYkdMXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZXxQSVhJLlRleHR1cmV9IHRleHR1cmUgLSB0aGUgdGV4dHVyZSB0byBkZXN0cm95XG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFJlbW92ZT1mYWxzZV0gLSBXaGV0aGVyIHRvIHNraXAgcmVtb3ZpbmcgdGhlIHRleHR1cmUgZnJvbSB0aGUgVGV4dHVyZU1hbmFnZXIuXG4gICAgICovXG4gICAgVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUuZGVzdHJveVRleHR1cmUgPSBmdW5jdGlvbiBkZXN0cm95VGV4dHVyZSAodGV4dHVyZSwgc2tpcFJlbW92ZSlcbiAgICB7XG4gICAgICAgIHZhciByZWYgPSB0aGlzO1xuICAgICAgICB2YXIgZ2wgPSByZWYuZ2w7XG5cbiAgICAgICAgdGV4dHVyZSA9IHRleHR1cmUuYmFzZVRleHR1cmUgfHwgdGV4dHVyZTtcblxuICAgICAgICBpZiAodGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51bmJpbmQodGV4dHVyZSk7XG5cbiAgICAgICAgICAgIGdsLmRlbGV0ZVRleHR1cmUodGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXS50ZXh0dXJlKTtcbiAgICAgICAgICAgIHRleHR1cmUub2ZmKCdkaXNwb3NlJywgdGhpcy5kZXN0cm95VGV4dHVyZSwgdGhpcyk7XG5cbiAgICAgICAgICAgIGRlbGV0ZSB0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgICAgICBpZiAoIXNraXBSZW1vdmUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIGkgPSB0aGlzLm1hbmFnZWRUZXh0dXJlcy5pbmRleE9mKHRleHR1cmUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGkgIT09IC0xKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlSXRlbXModGhpcy5tYW5hZ2VkVGV4dHVyZXMsIGksIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGV4dHVyZSBzdHlsZSBzdWNoIGFzIG1pcG1hcCBmbGFnXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gdGV4dHVyZSAtIFRleHR1cmUgdG8gdXBkYXRlXG4gICAgICovXG4gICAgVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUudXBkYXRlVGV4dHVyZVN0eWxlID0gZnVuY3Rpb24gdXBkYXRlVGV4dHVyZVN0eWxlICh0ZXh0dXJlKVxuICAgIHtcbiAgICAgICAgdmFyIGdsVGV4dHVyZSA9IHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF07XG5cbiAgICAgICAgaWYgKCFnbFRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgodGV4dHVyZS5taXBtYXAgPT09IE1JUE1BUF9NT0RFUy5QT1cyIHx8IHRoaXMud2ViR0xWZXJzaW9uICE9PSAyKSAmJiAhdGV4dHVyZS5pc1Bvd2VyT2ZUd28pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS5taXBtYXAgPSAwO1xuICAgICAgICAgICAgZ2xUZXh0dXJlLndyYXBNb2RlID0gV1JBUF9NT0RFUy5DTEFNUDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS5taXBtYXAgPSB0ZXh0dXJlLm1pcG1hcCA+PSAxO1xuICAgICAgICAgICAgZ2xUZXh0dXJlLndyYXBNb2RlID0gdGV4dHVyZS53cmFwTW9kZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0ZXh0dXJlLnJlc291cmNlICYmIHRleHR1cmUucmVzb3VyY2Uuc3R5bGUodGhpcy5yZW5kZXJlciwgdGV4dHVyZSwgZ2xUZXh0dXJlKSlcbiAgICAgICAgO1xuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3R5bGUodGV4dHVyZSwgZ2xUZXh0dXJlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdsVGV4dHVyZS5kaXJ0eVN0eWxlSWQgPSB0ZXh0dXJlLmRpcnR5U3R5bGVJZDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0IHN0eWxlIGZvciB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gdGV4dHVyZSAtIFRleHR1cmUgdG8gdXBkYXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkdMVGV4dHVyZX0gZ2xUZXh0dXJlXG4gICAgICovXG4gICAgVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUuc2V0U3R5bGUgPSBmdW5jdGlvbiBzZXRTdHlsZSAodGV4dHVyZSwgZ2xUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcblxuICAgICAgICBpZiAoZ2xUZXh0dXJlLm1pcG1hcClcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wuZ2VuZXJhdGVNaXBtYXAodGV4dHVyZS50YXJnZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaSh0ZXh0dXJlLnRhcmdldCwgZ2wuVEVYVFVSRV9XUkFQX1MsIGdsVGV4dHVyZS53cmFwTW9kZSk7XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkodGV4dHVyZS50YXJnZXQsIGdsLlRFWFRVUkVfV1JBUF9ULCBnbFRleHR1cmUud3JhcE1vZGUpO1xuXG4gICAgICAgIGlmIChnbFRleHR1cmUubWlwbWFwKVxuICAgICAgICB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKHRleHR1cmUudGFyZ2V0LCBnbC5URVhUVVJFX01JTl9GSUxURVIsIHRleHR1cmUuc2NhbGVNb2RlID8gZ2wuTElORUFSX01JUE1BUF9MSU5FQVIgOiBnbC5ORUFSRVNUX01JUE1BUF9ORUFSRVNUKTtcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cblxuICAgICAgICAgICAgdmFyIGFuaXNvdHJvcGljRXh0ID0gdGhpcy5yZW5kZXJlci5jb250ZXh0LmV4dGVuc2lvbnMuYW5pc290cm9waWNGaWx0ZXJpbmc7XG5cbiAgICAgICAgICAgIGlmIChhbmlzb3Ryb3BpY0V4dCAmJiB0ZXh0dXJlLmFuaXNvdHJvcGljTGV2ZWwgPiAwICYmIHRleHR1cmUuc2NhbGVNb2RlID09PSBTQ0FMRV9NT0RFUy5MSU5FQVIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIGxldmVsID0gTWF0aC5taW4odGV4dHVyZS5hbmlzb3Ryb3BpY0xldmVsLCBnbC5nZXRQYXJhbWV0ZXIoYW5pc290cm9waWNFeHQuTUFYX1RFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhUKSk7XG5cbiAgICAgICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJmKHRleHR1cmUudGFyZ2V0LCBhbmlzb3Ryb3BpY0V4dC5URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCwgbGV2ZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaSh0ZXh0dXJlLnRhcmdldCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCB0ZXh0dXJlLnNjYWxlTW9kZSA/IGdsLkxJTkVBUiA6IGdsLk5FQVJFU1QpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaSh0ZXh0dXJlLnRhcmdldCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCB0ZXh0dXJlLnNjYWxlTW9kZSA/IGdsLkxJTkVBUiA6IGdsLk5FQVJFU1QpO1xuICAgIH07XG5cbiAgICByZXR1cm4gVGV4dHVyZVN5c3RlbTtcbn0oU3lzdGVtKSk7XG5cbi8qKlxuICogU3lzdGVtcyBhcmUgaW5kaXZpZHVhbCBjb21wb25lbnRzIHRvIHRoZSBSZW5kZXJlciBwaXBlbGluZS5cbiAqIEBuYW1lc3BhY2UgUElYSS5zeXN0ZW1zXG4gKi9cblxudmFyIHN5c3RlbXMgPSAoe1xuICAgIEZpbHRlclN5c3RlbTogRmlsdGVyU3lzdGVtLFxuICAgIEJhdGNoU3lzdGVtOiBCYXRjaFN5c3RlbSxcbiAgICBDb250ZXh0U3lzdGVtOiBDb250ZXh0U3lzdGVtLFxuICAgIEZyYW1lYnVmZmVyU3lzdGVtOiBGcmFtZWJ1ZmZlclN5c3RlbSxcbiAgICBHZW9tZXRyeVN5c3RlbTogR2VvbWV0cnlTeXN0ZW0sXG4gICAgTWFza1N5c3RlbTogTWFza1N5c3RlbSxcbiAgICBTdGVuY2lsU3lzdGVtOiBTdGVuY2lsU3lzdGVtLFxuICAgIFByb2plY3Rpb25TeXN0ZW06IFByb2plY3Rpb25TeXN0ZW0sXG4gICAgUmVuZGVyVGV4dHVyZVN5c3RlbTogUmVuZGVyVGV4dHVyZVN5c3RlbSxcbiAgICBTaGFkZXJTeXN0ZW06IFNoYWRlclN5c3RlbSxcbiAgICBTdGF0ZVN5c3RlbTogU3RhdGVTeXN0ZW0sXG4gICAgVGV4dHVyZUdDU3lzdGVtOiBUZXh0dXJlR0NTeXN0ZW0sXG4gICAgVGV4dHVyZVN5c3RlbTogVGV4dHVyZVN5c3RlbVxufSk7XG5cbnZhciB0ZW1wTWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuXG4vKipcbiAqIFRoZSBBYnN0cmFjdFJlbmRlcmVyIGlzIHRoZSBiYXNlIGZvciBhIFBpeGlKUyBSZW5kZXJlci4gSXQgaXMgZXh0ZW5kZWQgYnkgdGhlIHtAbGluayBQSVhJLkNhbnZhc1JlbmRlcmVyfVxuICogYW5kIHtAbGluayBQSVhJLlJlbmRlcmVyfSB3aGljaCBjYW4gYmUgdXNlZCBmb3IgcmVuZGVyaW5nIGEgUGl4aUpTIHNjZW5lLlxuICpcbiAqIEBhYnN0cmFjdFxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnV0aWxzLkV2ZW50RW1pdHRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEFic3RyYWN0UmVuZGVyZXIgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChFdmVudEVtaXR0ZXIpIHtcbiAgICBmdW5jdGlvbiBBYnN0cmFjdFJlbmRlcmVyKHN5c3RlbSwgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gICAgICAgIC8vIEFkZCB0aGUgZGVmYXVsdCByZW5kZXIgb3B0aW9uc1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgc2V0dGluZ3MuUkVOREVSX09QVElPTlMsIG9wdGlvbnMpO1xuXG4gICAgICAgIC8vIERlcHJlY2F0aW9uIG5vdGljZSBmb3IgcmVuZGVyZXIgcm91bmRQaXhlbHMgb3B0aW9uXG4gICAgICAgIGlmIChvcHRpb25zLnJvdW5kUGl4ZWxzKVxuICAgICAgICB7XG4gICAgICAgICAgICBzZXR0aW5ncy5ST1VORF9QSVhFTFMgPSBvcHRpb25zLnJvdW5kUGl4ZWxzO1xuICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMC4wJywgJ1JlbmRlcmVyIHJvdW5kUGl4ZWxzIG9wdGlvbiBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFBJWEkuc2V0dGluZ3MuUk9VTkRfUElYRUxTJywgMik7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHN1cHBsaWVkIGNvbnN0cnVjdG9yIG9wdGlvbnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiB0aGUgcmVuZGVyZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5SRU5ERVJFUl9UWVBFLlVOS05PV05cbiAgICAgICAgICogQHNlZSBQSVhJLlJFTkRFUkVSX1RZUEVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IFJFTkRFUkVSX1RZUEUuVU5LTk9XTjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTWVhc3VyZW1lbnRzIG9mIHRoZSBzY3JlZW4uICgwLCAwLCBzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KS5cbiAgICAgICAgICpcbiAgICAgICAgICogSXRzIHNhZmUgdG8gdXNlIGFzIGZpbHRlckFyZWEgb3IgaGl0QXJlYSBmb3IgdGhlIHdob2xlIHN0YWdlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2NyZWVuID0gbmV3IFJlY3RhbmdsZSgwLCAwLCBvcHRpb25zLndpZHRoLCBvcHRpb25zLmhlaWdodCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjYW52YXMgZWxlbWVudCB0aGF0IGV2ZXJ5dGhpbmcgaXMgZHJhd24gdG8uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0hUTUxDYW52YXNFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52aWV3ID0gb3B0aW9ucy52aWV3IHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gb3B0aW9ucy5yZXNvbHV0aW9uIHx8IHNldHRpbmdzLlJFU09MVVRJT047XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgdGhlIHJlbmRlciB2aWV3IGlzIHRyYW5zcGFyZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50cmFuc3BhcmVudCA9IG9wdGlvbnMudHJhbnNwYXJlbnQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgQ1NTIGRpbWVuc2lvbnMgb2YgY2FudmFzIHZpZXcgc2hvdWxkIGJlIHJlc2l6ZWQgdG8gc2NyZWVuIGRpbWVuc2lvbnMgYXV0b21hdGljYWxseS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYXV0b0RlbnNpdHkgPSBvcHRpb25zLmF1dG9EZW5zaXR5IHx8IG9wdGlvbnMuYXV0b1Jlc2l6ZSB8fCBmYWxzZTtcbiAgICAgICAgLy8gYXV0b1Jlc2l6ZSBpcyBkZXByZWNhdGVkLCBwcm92aWRlcyBmYWxsYmFjayBzdXBwb3J0XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB2YWx1ZSBvZiB0aGUgcHJlc2VydmVEcmF3aW5nQnVmZmVyIGZsYWcgYWZmZWN0cyB3aGV0aGVyIG9yIG5vdCB0aGUgY29udGVudHMgb2ZcbiAgICAgICAgICogdGhlIHN0ZW5jaWwgYnVmZmVyIGlzIHJldGFpbmVkIGFmdGVyIHJlbmRlcmluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJlc2VydmVEcmF3aW5nQnVmZmVyID0gb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgc2V0cyBpZiB0aGUgQ2FudmFzUmVuZGVyZXIgd2lsbCBjbGVhciB0aGUgY2FudmFzIG9yIG5vdCBiZWZvcmUgdGhlIG5ldyByZW5kZXIgcGFzcy5cbiAgICAgICAgICogSWYgdGhlIHNjZW5lIGlzIE5PVCB0cmFuc3BhcmVudCBQaXhpSlMgd2lsbCB1c2UgYSBjYW52YXMgc2l6ZWQgZmlsbFJlY3Qgb3BlcmF0aW9uIGV2ZXJ5XG4gICAgICAgICAqIGZyYW1lIHRvIHNldCB0aGUgY2FudmFzIGJhY2tncm91bmQgY29sb3IuIElmIHRoZSBzY2VuZSBpcyB0cmFuc3BhcmVudCBQaXhpSlMgd2lsbCB1c2UgY2xlYXJSZWN0XG4gICAgICAgICAqIHRvIGNsZWFyIHRoZSBjYW52YXMgZXZlcnkgZnJhbWUuIERpc2FibGUgdGhpcyBieSBzZXR0aW5nIHRoaXMgdG8gZmFsc2UuIEZvciBleGFtcGxlLCBpZlxuICAgICAgICAgKiB5b3VyIGdhbWUgaGFzIGEgY2FudmFzIGZpbGxpbmcgYmFja2dyb3VuZCBpbWFnZSB5b3Ugb2Z0ZW4gZG9uJ3QgbmVlZCB0aGlzIHNldC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2xlYXJCZWZvcmVSZW5kZXIgPSBvcHRpb25zLmNsZWFyQmVmb3JlUmVuZGVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmFja2dyb3VuZCBjb2xvciBhcyBhIG51bWJlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3IgPSAweDAwMDAwMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJhY2tncm91bmQgY29sb3IgYXMgYW4gW1IsIEcsIEJdIGFycmF5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYmFja2dyb3VuZENvbG9yUmdiYSA9IFswLCAwLCAwLCAwXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJhY2tncm91bmQgY29sb3IgYXMgYSBzdHJpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYmFja2dyb3VuZENvbG9yU3RyaW5nID0gJyMwMDAwMDAnO1xuXG4gICAgICAgIHRoaXMuYmFja2dyb3VuZENvbG9yID0gb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3IgfHwgdGhpcy5fYmFja2dyb3VuZENvbG9yOyAvLyBydW4gYmcgY29sb3Igc2V0dGVyXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgdGVtcG9yYXJ5IGRpc3BsYXkgb2JqZWN0IHVzZWQgYXMgdGhlIHBhcmVudCBvZiB0aGUgY3VycmVudGx5IGJlaW5nIHJlbmRlcmVkIGl0ZW0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQgPSBuZXcgQ29udGFpbmVyKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsYXN0IHJvb3Qgb2JqZWN0IHRoYXQgdGhlIHJlbmRlcmVyIHRyaWVkIHRvIHJlbmRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9sYXN0T2JqZWN0UmVuZGVyZWQgPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBwbHVnaW5zLlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wbHVnaW5zID0ge307XG4gICAgfVxuXG4gICAgaWYgKCBFdmVudEVtaXR0ZXIgKSBBYnN0cmFjdFJlbmRlcmVyLl9fcHJvdG9fXyA9IEV2ZW50RW1pdHRlcjtcbiAgICBBYnN0cmFjdFJlbmRlcmVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEV2ZW50RW1pdHRlciAmJiBFdmVudEVtaXR0ZXIucHJvdG90eXBlICk7XG4gICAgQWJzdHJhY3RSZW5kZXJlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBBYnN0cmFjdFJlbmRlcmVyO1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgd2lkdGg6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0saGVpZ2h0OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGJhY2tncm91bmRDb2xvcjogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSB0aGUgcGx1Z2lucy5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc3RhdGljTWFwIC0gVGhlIGRpY3Rpb25hcnkgb2Ygc3RhdGljYWxseSBzYXZlZCBwbHVnaW5zLlxuICAgICAqL1xuICAgIEFic3RyYWN0UmVuZGVyZXIucHJvdG90eXBlLmluaXRQbHVnaW5zID0gZnVuY3Rpb24gaW5pdFBsdWdpbnMgKHN0YXRpY01hcClcbiAgICB7XG4gICAgICAgIGZvciAodmFyIG8gaW4gc3RhdGljTWFwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbnNbb10gPSBuZXcgKHN0YXRpY01hcFtvXSkodGhpcyk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2FtZSBhcyB2aWV3LndpZHRoLCBhY3R1YWwgbnVtYmVyIG9mIHBpeGVscyBpbiB0aGUgY2FudmFzIGJ5IGhvcml6b250YWwuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQGRlZmF1bHQgODAwXG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLndpZHRoLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LndpZHRoO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTYW1lIGFzIHZpZXcuaGVpZ2h0LCBhY3R1YWwgbnVtYmVyIG9mIHBpeGVscyBpbiB0aGUgY2FudmFzIGJ5IHZlcnRpY2FsLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBkZWZhdWx0IDYwMFxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5oZWlnaHQuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuaGVpZ2h0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSBzY3JlZW4gYW5kIGNhbnZhcyB0byB0aGUgc3BlY2lmaWVkIHdpZHRoIGFuZCBoZWlnaHQuXG4gICAgICogQ2FudmFzIGRpbWVuc2lvbnMgYXJlIG11bHRpcGxpZWQgYnkgcmVzb2x1dGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY3JlZW5XaWR0aCAtIFRoZSBuZXcgd2lkdGggb2YgdGhlIHNjcmVlbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NyZWVuSGVpZ2h0IC0gVGhlIG5ldyBoZWlnaHQgb2YgdGhlIHNjcmVlbi5cbiAgICAgKi9cbiAgICBBYnN0cmFjdFJlbmRlcmVyLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiByZXNpemUgKHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQpXG4gICAge1xuICAgICAgICB0aGlzLnNjcmVlbi53aWR0aCA9IHNjcmVlbldpZHRoO1xuICAgICAgICB0aGlzLnNjcmVlbi5oZWlnaHQgPSBzY3JlZW5IZWlnaHQ7XG5cbiAgICAgICAgdGhpcy52aWV3LndpZHRoID0gc2NyZWVuV2lkdGggKiB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIHRoaXMudmlldy5oZWlnaHQgPSBzY3JlZW5IZWlnaHQgKiB0aGlzLnJlc29sdXRpb247XG5cbiAgICAgICAgaWYgKHRoaXMuYXV0b0RlbnNpdHkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudmlldy5zdHlsZS53aWR0aCA9IHNjcmVlbldpZHRoICsgXCJweFwiO1xuICAgICAgICAgICAgdGhpcy52aWV3LnN0eWxlLmhlaWdodCA9IHNjcmVlbkhlaWdodCArIFwicHhcIjtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVc2VmdWwgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgdGV4dHVyZSBvZiB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBjYW4gdGhlbiBiZSB1c2VkIHRvIGNyZWF0ZSBzcHJpdGVzXG4gICAgICogVGhpcyBjYW4gYmUgcXVpdGUgdXNlZnVsIGlmIHlvdXIgZGlzcGxheU9iamVjdCBpcyBjb21wbGljYXRlZCBhbmQgbmVlZHMgdG8gYmUgcmV1c2VkIG11bHRpcGxlIHRpbWVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheU9iamVjdCB0aGUgb2JqZWN0IHdpbGwgYmUgZ2VuZXJhdGVkIGZyb20uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlTW9kZSAtIFNob3VsZCBiZSBvbmUgb2YgdGhlIHNjYWxlTW9kZSBjb25zdHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgdGV4dHVyZSBiZWluZyBnZW5lcmF0ZWQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW3JlZ2lvbl0gLSBUaGUgcmVnaW9uIG9mIHRoZSBkaXNwbGF5T2JqZWN0LCB0aGF0IHNoYWxsIGJlIHJlbmRlcmVkLFxuICAgICAqICAgICAgICBpZiBubyByZWdpb24gaXMgc3BlY2lmaWVkLCBkZWZhdWx0cyB0byB0aGUgbG9jYWwgYm91bmRzIG9mIHRoZSBkaXNwbGF5T2JqZWN0LlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVuZGVyVGV4dHVyZX0gQSB0ZXh0dXJlIG9mIHRoZSBncmFwaGljcyBvYmplY3QuXG4gICAgICovXG4gICAgQWJzdHJhY3RSZW5kZXJlci5wcm90b3R5cGUuZ2VuZXJhdGVUZXh0dXJlID0gZnVuY3Rpb24gZ2VuZXJhdGVUZXh0dXJlIChkaXNwbGF5T2JqZWN0LCBzY2FsZU1vZGUsIHJlc29sdXRpb24sIHJlZ2lvbilcbiAgICB7XG4gICAgICAgIHJlZ2lvbiA9IHJlZ2lvbiB8fCBkaXNwbGF5T2JqZWN0LmdldExvY2FsQm91bmRzKCk7XG5cbiAgICAgICAgLy8gbWluaW11bSB0ZXh0dXJlIHNpemUgaXMgMXgxLCAweDAgd2lsbCB0aHJvdyBhbiBlcnJvclxuICAgICAgICBpZiAocmVnaW9uLndpZHRoID09PSAwKSB7IHJlZ2lvbi53aWR0aCA9IDE7IH1cbiAgICAgICAgaWYgKHJlZ2lvbi5oZWlnaHQgPT09IDApIHsgcmVnaW9uLmhlaWdodCA9IDE7IH1cblxuICAgICAgICB2YXIgcmVuZGVyVGV4dHVyZSA9IFJlbmRlclRleHR1cmUuY3JlYXRlKHJlZ2lvbi53aWR0aCB8IDAsIHJlZ2lvbi5oZWlnaHQgfCAwLCBzY2FsZU1vZGUsIHJlc29sdXRpb24pO1xuXG4gICAgICAgIHRlbXBNYXRyaXgudHggPSAtcmVnaW9uLng7XG4gICAgICAgIHRlbXBNYXRyaXgudHkgPSAtcmVnaW9uLnk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXIoZGlzcGxheU9iamVjdCwgcmVuZGVyVGV4dHVyZSwgZmFsc2UsIHRlbXBNYXRyaXgsICEhZGlzcGxheU9iamVjdC5wYXJlbnQpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJUZXh0dXJlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGV2ZXJ5dGhpbmcgZnJvbSB0aGUgcmVuZGVyZXIgYW5kIG9wdGlvbmFsbHkgcmVtb3ZlcyB0aGUgQ2FudmFzIERPTSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmVtb3ZlVmlldz1mYWxzZV0gLSBSZW1vdmVzIHRoZSBDYW52YXMgZWxlbWVudCBmcm9tIHRoZSBET00uXG4gICAgICovXG4gICAgQWJzdHJhY3RSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKHJlbW92ZVZpZXcpXG4gICAge1xuICAgICAgICBmb3IgKHZhciBvIGluIHRoaXMucGx1Z2lucylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW5zW29dLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luc1tvXSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVtb3ZlVmlldyAmJiB0aGlzLnZpZXcucGFyZW50Tm9kZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy52aWV3LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy52aWV3KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucGx1Z2lucyA9IG51bGw7XG5cbiAgICAgICAgdGhpcy50eXBlID0gUkVOREVSRVJfVFlQRS5VTktOT1dOO1xuXG4gICAgICAgIHRoaXMudmlldyA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5zY3JlZW4gPSBudWxsO1xuXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IDA7XG5cbiAgICAgICAgdGhpcy50cmFuc3BhcmVudCA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuYXV0b0RlbnNpdHkgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLmJsZW5kTW9kZXMgPSBudWxsO1xuXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXIgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jbGVhckJlZm9yZVJlbmRlciA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuX2JhY2tncm91bmRDb2xvciA9IDA7XG4gICAgICAgIHRoaXMuX2JhY2tncm91bmRDb2xvclJnYmEgPSBudWxsO1xuICAgICAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3JTdHJpbmcgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbGFzdE9iamVjdFJlbmRlcmVkID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhY2tncm91bmQgY29sb3IgdG8gZmlsbCBpZiBub3QgdHJhbnNwYXJlbnRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYmFja2dyb3VuZENvbG9yLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fYmFja2dyb3VuZENvbG9yO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYmFja2dyb3VuZENvbG9yLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3IgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fYmFja2dyb3VuZENvbG9yU3RyaW5nID0gaGV4MnN0cmluZyh2YWx1ZSk7XG4gICAgICAgIGhleDJyZ2IodmFsdWUsIHRoaXMuX2JhY2tncm91bmRDb2xvclJnYmEpO1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggQWJzdHJhY3RSZW5kZXJlci5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4gICAgcmV0dXJuIEFic3RyYWN0UmVuZGVyZXI7XG59KEV2ZW50RW1pdHRlcikpO1xuXG4vKipcbiAqIFRoZSBSZW5kZXJlciBkcmF3cyB0aGUgc2NlbmUgYW5kIGFsbCBpdHMgY29udGVudCBvbnRvIGEgV2ViR0wgZW5hYmxlZCBjYW52YXMuXG4gKlxuICogVGhpcyByZW5kZXJlciBzaG91bGQgYmUgdXNlZCBmb3IgYnJvd3NlcnMgdGhhdCBzdXBwb3J0IFdlYkdMLlxuICpcbiAqIFRoaXMgcmVuZGVyZXIgd29ya3MgYnkgYXV0b21hdGljYWxseSBtYW5hZ2luZyBXZWJHTEJhdGNoZXNtLCBzbyBubyBuZWVkIGZvciBTcHJpdGUgQmF0Y2hlcyBvciBTcHJpdGUgQ2xvdWRzLlxuICogRG9uJ3QgZm9yZ2V0IHRvIGFkZCB0aGUgdmlldyB0byB5b3VyIERPTSBvciB5b3Ugd2lsbCBub3Qgc2VlIGFueXRoaW5nIVxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuQWJzdHJhY3RSZW5kZXJlclxuICovXG52YXIgUmVuZGVyZXIgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChBYnN0cmFjdFJlbmRlcmVyKSB7XG4gICAgZnVuY3Rpb24gUmVuZGVyZXIob3B0aW9ucylcbiAgICB7XG4gICAgICAgIGlmICggb3B0aW9ucyA9PT0gdm9pZCAwICkgb3B0aW9ucyA9IHt9O1xuXG4gICAgICAgIEFic3RyYWN0UmVuZGVyZXIuY2FsbCh0aGlzLCAnV2ViR0wnLCBvcHRpb25zKTtcblxuICAgICAgICAvLyB0aGUgb3B0aW9ucyB3aWxsIGhhdmUgYmVlbiBtb2RpZmllZCBoZXJlIGluIHRoZSBzdXBlciBjb25zdHJ1Y3RvciB3aXRoIHBpeGkncyBkZWZhdWx0IHNldHRpbmdzLi5cbiAgICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgdGhpcyByZW5kZXJlciBhcyBhIHN0YW5kYXJkaXplZCBjb25zdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBzZWUgUElYSS5SRU5ERVJFUl9UWVBFXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBSRU5ERVJFUl9UWVBFLldFQkdMO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXZWJHTCBjb250ZXh0LCBzZXQgYnkgdGhlIGNvbnRleHRTeXN0ZW0gKHRoaXMuY29udGV4dClcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge1dlYkdMUmVuZGVyaW5nQ29udGV4dH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2wgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuQ09OVEVYVF9VSUQgPSAwO1xuXG4gICAgICAgIC8vIFRPRE8gbGVnYWN5IVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCBzaWduYWwgaW5zdGFuY2VzIG9mICoqcnVubmVyKiosIHRoZXNlXG4gICAgICAgICAqIGFyZSBhc3NpZ25lZCB0byBlYWNoIHN5c3RlbSBjcmVhdGVkLlxuICAgICAgICAgKiBAc2VlIFBJWEkuUnVubmVyXG4gICAgICAgICAqIEBuYW1lIFBJWEkuUmVuZGVyZXIjcnVubmVyc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQHByb3BlcnR5IHtQSVhJLlJ1bm5lcn0gZGVzdHJveSAtIERlc3Ryb3kgcnVubmVyXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UElYSS5SdW5uZXJ9IGNvbnRleHRDaGFuZ2UgLSBDb250ZXh0IGNoYW5nZSBydW5uZXJcbiAgICAgICAgICogQHByb3BlcnR5IHtQSVhJLlJ1bm5lcn0gcmVzZXQgLSBSZXNldCBydW5uZXJcbiAgICAgICAgICogQHByb3BlcnR5IHtQSVhJLlJ1bm5lcn0gdXBkYXRlIC0gVXBkYXRlIHJ1bm5lclxuICAgICAgICAgKiBAcHJvcGVydHkge1BJWEkuUnVubmVyfSBwb3N0cmVuZGVyIC0gUG9zdC1yZW5kZXIgcnVubmVyXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UElYSS5SdW5uZXJ9IHByZXJlbmRlciAtIFByZS1yZW5kZXIgcnVubmVyXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UElYSS5SdW5uZXJ9IHJlc2l6ZSAtIFJlc2l6ZSBydW5uZXJcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucnVubmVycyA9IHtcbiAgICAgICAgICAgIGRlc3Ryb3k6IG5ldyBSdW5uZXIoJ2Rlc3Ryb3knKSxcbiAgICAgICAgICAgIGNvbnRleHRDaGFuZ2U6IG5ldyBSdW5uZXIoJ2NvbnRleHRDaGFuZ2UnLCAxKSxcbiAgICAgICAgICAgIHJlc2V0OiBuZXcgUnVubmVyKCdyZXNldCcpLFxuICAgICAgICAgICAgdXBkYXRlOiBuZXcgUnVubmVyKCd1cGRhdGUnKSxcbiAgICAgICAgICAgIHBvc3RyZW5kZXI6IG5ldyBSdW5uZXIoJ3Bvc3RyZW5kZXInKSxcbiAgICAgICAgICAgIHByZXJlbmRlcjogbmV3IFJ1bm5lcigncHJlcmVuZGVyJyksXG4gICAgICAgICAgICByZXNpemU6IG5ldyBSdW5uZXIoJ3Jlc2l6ZScsIDIpLFxuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHbG9iYWwgdW5pZm9ybXNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Vbmlmb3JtR3JvdXB9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdsb2JhbFVuaWZvcm1zID0gbmV3IFVuaWZvcm1Hcm91cCh7XG4gICAgICAgICAgICBwcm9qZWN0aW9uTWF0cml4OiBuZXcgTWF0cml4KCksXG4gICAgICAgIH0sIHRydWUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXNrIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuTWFza1N5c3RlbX0gbWFza1xuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFkZFN5c3RlbShNYXNrU3lzdGVtLCAnbWFzaycpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENvbnRleHQgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuQ29udGV4dFN5c3RlbX0gY29udGV4dFxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShDb250ZXh0U3lzdGVtLCAnY29udGV4dCcpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFN0YXRlIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlN0YXRlU3lzdGVtfSBzdGF0ZVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShTdGF0ZVN5c3RlbSwgJ3N0YXRlJylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2hhZGVyIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlNoYWRlclN5c3RlbX0gc2hhZGVyXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKFNoYWRlclN5c3RlbSwgJ3NoYWRlcicpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRleHR1cmUgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuVGV4dHVyZVN5c3RlbX0gdGV4dHVyZVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShUZXh0dXJlU3lzdGVtLCAndGV4dHVyZScpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEdlb21ldHJ5IHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLkdlb21ldHJ5U3lzdGVtfSBnZW9tZXRyeVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShHZW9tZXRyeVN5c3RlbSwgJ2dlb21ldHJ5JylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRnJhbWVidWZmZXIgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuRnJhbWVidWZmZXJTeXN0ZW19IGZyYW1lYnVmZmVyXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKEZyYW1lYnVmZmVyU3lzdGVtLCAnZnJhbWVidWZmZXInKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTdGVuY2lsIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlN0ZW5jaWxTeXN0ZW19IHN0ZW5jaWxcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oU3RlbmNpbFN5c3RlbSwgJ3N0ZW5jaWwnKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBQcm9qZWN0aW9uIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlByb2plY3Rpb25TeXN0ZW19IHByb2plY3Rpb25cbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oUHJvamVjdGlvblN5c3RlbSwgJ3Byb2plY3Rpb24nKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUZXh0dXJlIGdhcmJhZ2UgY29sbGVjdG9yIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlRleHR1cmVHQ1N5c3RlbX0gdGV4dHVyZUdDXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKFRleHR1cmVHQ1N5c3RlbSwgJ3RleHR1cmVHQycpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEZpbHRlciBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW19IGZpbHRlclxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShGaWx0ZXJTeXN0ZW0sICdmaWx0ZXInKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBSZW5kZXJUZXh0dXJlIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlJlbmRlclRleHR1cmVTeXN0ZW19IHJlbmRlclRleHR1cmVcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oUmVuZGVyVGV4dHVyZVN5c3RlbSwgJ3JlbmRlclRleHR1cmUnKVxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEJhdGNoIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLkJhdGNoU3lzdGVtfSBiYXRjaFxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShCYXRjaFN5c3RlbSwgJ2JhdGNoJyk7XG5cbiAgICAgICAgdGhpcy5pbml0UGx1Z2lucyhSZW5kZXJlci5fX3BsdWdpbnMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb3B0aW9ucyBwYXNzZWQgaW4gdG8gY3JlYXRlIGEgbmV3IFdlYkdMIGNvbnRleHQuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAob3B0aW9ucy5jb250ZXh0KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuaW5pdEZyb21Db250ZXh0KG9wdGlvbnMuY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuaW5pdEZyb21PcHRpb25zKHtcbiAgICAgICAgICAgICAgICBhbHBoYTogdGhpcy50cmFuc3BhcmVudCxcbiAgICAgICAgICAgICAgICBhbnRpYWxpYXM6IG9wdGlvbnMuYW50aWFsaWFzLFxuICAgICAgICAgICAgICAgIHByZW11bHRpcGxpZWRBbHBoYTogdGhpcy50cmFuc3BhcmVudCAmJiB0aGlzLnRyYW5zcGFyZW50ICE9PSAnbm90TXVsdGlwbGllZCcsXG4gICAgICAgICAgICAgICAgc3RlbmNpbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6IG9wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyLFxuICAgICAgICAgICAgICAgIHBvd2VyUHJlZmVyZW5jZTogdGhpcy5vcHRpb25zLnBvd2VyUHJlZmVyZW5jZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZsYWcgaWYgd2UgYXJlIHJlbmRlcmluZyB0byB0aGUgc2NyZWVuIHZzIHJlbmRlclRleHR1cmVcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVuZGVyaW5nVG9TY3JlZW4gPSB0cnVlO1xuXG4gICAgICAgIHNheUhlbGxvKHRoaXMuY29udGV4dC53ZWJHTFZlcnNpb24gPT09IDIgPyAnV2ViR0wgMicgOiAnV2ViR0wgMScpO1xuXG4gICAgICAgIHRoaXMucmVzaXplKHRoaXMub3B0aW9ucy53aWR0aCwgdGhpcy5vcHRpb25zLmhlaWdodCk7XG4gICAgfVxuXG4gICAgaWYgKCBBYnN0cmFjdFJlbmRlcmVyICkgUmVuZGVyZXIuX19wcm90b19fID0gQWJzdHJhY3RSZW5kZXJlcjtcbiAgICBSZW5kZXJlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBBYnN0cmFjdFJlbmRlcmVyICYmIEFic3RyYWN0UmVuZGVyZXIucHJvdG90eXBlICk7XG4gICAgUmVuZGVyZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUmVuZGVyZXI7XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSBuZXcgc3lzdGVtIHRvIHRoZSByZW5kZXJlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBDbGFzc1JlZiAtIENsYXNzIHJlZmVyZW5jZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbbmFtZV0gLSBQcm9wZXJ0eSBuYW1lIGZvciBzeXN0ZW0sIGlmIG5vdCBzcGVjaWZpZWRcbiAgICAgKiAgICAgICAgd2lsbCB1c2UgYSBzdGF0aWMgYG5hbWVgIHByb3BlcnR5IG9uIHRoZSBjbGFzcyBpdHNlbGYuIFRoaXNcbiAgICAgKiAgICAgICAgbmFtZSB3aWxsIGJlIGFzc2lnbmVkIGFzIHMgcHJvcGVydHkgb24gdGhlIFJlbmRlcmVyIHNvIG1ha2VcbiAgICAgKiAgICAgICAgc3VyZSBpdCBkb2Vzbid0IGNvbGxpZGUgd2l0aCBwcm9wZXJ0aWVzIG9uIFJlbmRlcmVyLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVuZGVyZXJ9IFJldHVybiBpbnN0YW5jZSBvZiByZW5kZXJlclxuICAgICAqL1xuICAgIFJlbmRlcmVyLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZSAob3B0aW9ucylcbiAgICB7XG4gICAgICAgIGlmIChpc1dlYkdMU3VwcG9ydGVkKCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVuZGVyZXIob3B0aW9ucyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dlYkdMIHVuc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlciwgdXNlIFwicGl4aS5qcy1sZWdhY3lcIiBmb3IgZmFsbGJhY2sgY2FudmFzMmQgc3VwcG9ydC4nKTtcbiAgICB9O1xuXG4gICAgUmVuZGVyZXIucHJvdG90eXBlLmFkZFN5c3RlbSA9IGZ1bmN0aW9uIGFkZFN5c3RlbSAoQ2xhc3NSZWYsIG5hbWUpXG4gICAge1xuICAgICAgICBpZiAoIW5hbWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWUgPSBDbGFzc1JlZi5uYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN5c3RlbSA9IG5ldyBDbGFzc1JlZih0aGlzKTtcblxuICAgICAgICBpZiAodGhpc1tuYW1lXSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKChcIldob29wcyEgVGhlIG5hbWUgXFxcIlwiICsgbmFtZSArIFwiXFxcIiBpcyBhbHJlYWR5IGluIHVzZVwiKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzW25hbWVdID0gc3lzdGVtO1xuXG4gICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy5ydW5uZXJzKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnJ1bm5lcnNbaV0uYWRkKHN5c3RlbSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgYWZ0ZXIgcmVuZGVyaW5nIGZpbmlzaGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5SZW5kZXJlciNwb3N0cmVuZGVyXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCBiZWZvcmUgcmVuZGVyaW5nIHN0YXJ0cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuUmVuZGVyZXIjcHJlcmVuZGVyXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoZSBXZWJHTCBjb250ZXh0IGlzIHNldC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuUmVuZGVyZXIjY29udGV4dFxuICAgICAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgLSBXZWJHTCBjb250ZXh0LlxuICAgICAgICAgKi9cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHRvIGl0cyBXZWJHTCB2aWV3XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gZGlzcGxheU9iamVjdCAtIFRoZSBvYmplY3QgdG8gYmUgcmVuZGVyZWQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IFtyZW5kZXJUZXh0dXJlXSAtIFRoZSByZW5kZXIgdGV4dHVyZSB0byByZW5kZXIgdG8uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY2xlYXI9dHJ1ZV0gLSBTaG91bGQgdGhlIGNhbnZhcyBiZSBjbGVhcmVkIGJlZm9yZSB0aGUgbmV3IHJlbmRlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBbdHJhbnNmb3JtXSAtIEEgdHJhbnNmb3JtIHRvIGFwcGx5IHRvIHRoZSByZW5kZXIgdGV4dHVyZSBiZWZvcmUgcmVuZGVyaW5nLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBVcGRhdGVUcmFuc2Zvcm09ZmFsc2VdIC0gU2hvdWxkIHdlIHNraXAgdGhlIHVwZGF0ZSB0cmFuc2Zvcm0gcGFzcz9cbiAgICAgKi9cbiAgICBSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyIChkaXNwbGF5T2JqZWN0LCByZW5kZXJUZXh0dXJlLCBjbGVhciwgdHJhbnNmb3JtLCBza2lwVXBkYXRlVHJhbnNmb3JtKVxuICAgIHtcbiAgICAgICAgLy8gY2FuIGJlIGhhbmR5IHRvIGtub3chXG4gICAgICAgIHRoaXMucmVuZGVyaW5nVG9TY3JlZW4gPSAhcmVuZGVyVGV4dHVyZTtcblxuICAgICAgICB0aGlzLnJ1bm5lcnMucHJlcmVuZGVyLnJ1bigpO1xuICAgICAgICB0aGlzLmVtaXQoJ3ByZXJlbmRlcicpO1xuXG4gICAgICAgIC8vIGFwcGx5IGEgdHJhbnNmb3JtIGF0IGEgR1BVIGxldmVsXG4gICAgICAgIHRoaXMucHJvamVjdGlvbi50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG5cbiAgICAgICAgLy8gbm8gcG9pbnQgcmVuZGVyaW5nIGlmIG91ciBjb250ZXh0IGhhcyBiZWVuIGJsb3duIHVwIVxuICAgICAgICBpZiAodGhpcy5jb250ZXh0LmlzTG9zdClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFyZW5kZXJUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9sYXN0T2JqZWN0UmVuZGVyZWQgPSBkaXNwbGF5T2JqZWN0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFza2lwVXBkYXRlVHJhbnNmb3JtKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyB1cGRhdGUgdGhlIHNjZW5lIGdyYXBoXG4gICAgICAgICAgICB2YXIgY2FjaGVQYXJlbnQgPSBkaXNwbGF5T2JqZWN0LnBhcmVudDtcblxuICAgICAgICAgICAgZGlzcGxheU9iamVjdC5wYXJlbnQgPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgICAgIGRpc3BsYXlPYmplY3QudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnBhcmVudCA9IGNhY2hlUGFyZW50O1xuICAgICAgICAgICAgLy8gZGlzcGxheU9iamVjdC5oaXRBcmVhID0gLy9UT0RPIGFkZCBhIHRlbXAgaGl0IGFyZWFcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVuZGVyVGV4dHVyZS5iaW5kKHJlbmRlclRleHR1cmUpO1xuICAgICAgICB0aGlzLmJhdGNoLmN1cnJlbnRSZW5kZXJlci5zdGFydCgpO1xuXG4gICAgICAgIGlmIChjbGVhciAhPT0gdW5kZWZpbmVkID8gY2xlYXIgOiB0aGlzLmNsZWFyQmVmb3JlUmVuZGVyKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlclRleHR1cmUuY2xlYXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRpc3BsYXlPYmplY3QucmVuZGVyKHRoaXMpO1xuXG4gICAgICAgIC8vIGFwcGx5IHRyYW5zZm9ybS4uXG4gICAgICAgIHRoaXMuYmF0Y2guY3VycmVudFJlbmRlcmVyLmZsdXNoKCk7XG5cbiAgICAgICAgaWYgKHJlbmRlclRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUudXBkYXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJ1bm5lcnMucG9zdHJlbmRlci5ydW4oKTtcblxuICAgICAgICAvLyByZXNldCB0cmFuc2Zvcm0gYWZ0ZXIgcmVuZGVyXG4gICAgICAgIHRoaXMucHJvamVjdGlvbi50cmFuc2Zvcm0gPSBudWxsO1xuXG4gICAgICAgIHRoaXMuZW1pdCgncG9zdHJlbmRlcicpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSBXZWJHTCB2aWV3IHRvIHRoZSBzcGVjaWZpZWQgd2lkdGggYW5kIGhlaWdodC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY3JlZW5XaWR0aCAtIFRoZSBuZXcgd2lkdGggb2YgdGhlIHNjcmVlbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NyZWVuSGVpZ2h0IC0gVGhlIG5ldyBoZWlnaHQgb2YgdGhlIHNjcmVlbi5cbiAgICAgKi9cbiAgICBSZW5kZXJlci5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gcmVzaXplIChzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KVxuICAgIHtcbiAgICAgICAgQWJzdHJhY3RSZW5kZXJlci5wcm90b3R5cGUucmVzaXplLmNhbGwodGhpcywgc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodCk7XG5cbiAgICAgICAgdGhpcy5ydW5uZXJzLnJlc2l6ZS5ydW4oc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgV2ViR0wgc3RhdGUgc28geW91IGNhbiByZW5kZXIgdGhpbmdzIGhvd2V2ZXIgeW91IGZhbmN5IVxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5SZW5kZXJlcn0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgUmVuZGVyZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQgKClcbiAgICB7XG4gICAgICAgIHRoaXMucnVubmVycy5yZXNldC5ydW4oKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2xlYXIgdGhlIGZyYW1lIGJ1ZmZlclxuICAgICAqL1xuICAgIFJlbmRlcmVyLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyICgpXG4gICAge1xuICAgICAgICB0aGlzLmZyYW1lYnVmZmVyLmJpbmQoKTtcbiAgICAgICAgdGhpcy5mcmFtZWJ1ZmZlci5jbGVhcigpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGV2ZXJ5dGhpbmcgZnJvbSB0aGUgcmVuZGVyZXIgKGV2ZW50IGxpc3RlbmVycywgc3ByaXRlYmF0Y2gsIGV0Yy4uLilcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JlbW92ZVZpZXc9ZmFsc2VdIC0gUmVtb3ZlcyB0aGUgQ2FudmFzIGVsZW1lbnQgZnJvbSB0aGUgRE9NLlxuICAgICAqICBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS5qcy9pc3N1ZXMvMjIzM1xuICAgICAqL1xuICAgIFJlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAocmVtb3ZlVmlldylcbiAgICB7XG4gICAgICAgIHRoaXMucnVubmVycy5kZXN0cm95LnJ1bigpO1xuXG4gICAgICAgIGZvciAodmFyIHIgaW4gdGhpcy5ydW5uZXJzKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnJ1bm5lcnNbcl0uZGVzdHJveSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2FsbCBiYXNlIGRlc3Ryb3lcbiAgICAgICAgQWJzdHJhY3RSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIHJlbW92ZVZpZXcpO1xuXG4gICAgICAgIC8vIFRPRE8gbnVsbGlmeSBhbGwgdGhlIG1hbmFnZXJzLi5cbiAgICAgICAgdGhpcy5nbCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvbGxlY3Rpb24gb2YgaW5zdGFsbGVkIHBsdWdpbnMuIFRoZXNlIGFyZSBpbmNsdWRlZCBieSBkZWZhdWx0IGluIFBJWEksIGJ1dCBjYW4gYmUgZXhjbHVkZWRcbiAgICAgKiBieSBjcmVhdGluZyBhIGN1c3RvbSBidWlsZC4gQ29uc3VsdCB0aGUgUkVBRE1FIGZvciBtb3JlIGluZm9ybWF0aW9uIGFib3V0IGNyZWF0aW5nIGN1c3RvbVxuICAgICAqIGJ1aWxkcyBhbmQgZXhjbHVkaW5nIHBsdWdpbnMuXG4gICAgICogQG5hbWUgUElYSS5SZW5kZXJlciNwbHVnaW5zXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAcHJvcGVydHkge1BJWEkuYWNjZXNzaWJpbGl0eS5BY2Nlc3NpYmlsaXR5TWFuYWdlcn0gYWNjZXNzaWJpbGl0eSBTdXBwb3J0IHRhYmJpbmcgaW50ZXJhY3RpdmUgZWxlbWVudHMuXG4gICAgICogQHByb3BlcnR5IHtQSVhJLmV4dHJhY3QuRXh0cmFjdH0gZXh0cmFjdCBFeHRyYWN0IGltYWdlIGRhdGEgZnJvbSByZW5kZXJlci5cbiAgICAgKiBAcHJvcGVydHkge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyfSBpbnRlcmFjdGlvbiBIYW5kbGVzIG1vdXNlLCB0b3VjaCBhbmQgcG9pbnRlciBldmVudHMuXG4gICAgICogQHByb3BlcnR5IHtQSVhJLnByZXBhcmUuUHJlcGFyZX0gcHJlcGFyZSBQcmUtcmVuZGVyIGRpc3BsYXkgb2JqZWN0cy5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyLlxuICAgICAqXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwbHVnaW5OYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHBsdWdpbi5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdG9yIC0gVGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIG9yIGNsYXNzIGZvciB0aGUgcGx1Z2luLlxuICAgICAqL1xuICAgIFJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luID0gZnVuY3Rpb24gcmVnaXN0ZXJQbHVnaW4gKHBsdWdpbk5hbWUsIGN0b3IpXG4gICAge1xuICAgICAgICBSZW5kZXJlci5fX3BsdWdpbnMgPSBSZW5kZXJlci5fX3BsdWdpbnMgfHwge307XG4gICAgICAgIFJlbmRlcmVyLl9fcGx1Z2luc1twbHVnaW5OYW1lXSA9IGN0b3I7XG4gICAgfTtcblxuICAgIHJldHVybiBSZW5kZXJlcjtcbn0oQWJzdHJhY3RSZW5kZXJlcikpO1xuXG4vKipcbiAqIFRoaXMgaGVscGVyIGZ1bmN0aW9uIHdpbGwgYXV0b21hdGljYWxseSBkZXRlY3Qgd2hpY2ggcmVuZGVyZXIgeW91IHNob3VsZCBiZSB1c2luZy5cbiAqIFdlYkdMIGlzIHRoZSBwcmVmZXJyZWQgcmVuZGVyZXIgYXMgaXQgaXMgYSBsb3QgZmFzdGVyLiBJZiBXZWJHTCBpcyBub3Qgc3VwcG9ydGVkIGJ5XG4gKiB0aGUgYnJvd3NlciB0aGVuIHRoaXMgZnVuY3Rpb24gd2lsbCByZXR1cm4gYSBjYW52YXMgcmVuZGVyZXJcbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGZ1bmN0aW9uIGF1dG9EZXRlY3RSZW5kZXJlclxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25hbCByZW5kZXJlciBwYXJhbWV0ZXJzXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9ODAwXSAtIHRoZSB3aWR0aCBvZiB0aGUgcmVuZGVyZXJzIHZpZXdcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHQ9NjAwXSAtIHRoZSBoZWlnaHQgb2YgdGhlIHJlbmRlcmVycyB2aWV3XG4gKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbb3B0aW9ucy52aWV3XSAtIHRoZSBjYW52YXMgdG8gdXNlIGFzIGEgdmlldywgb3B0aW9uYWxcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhbnNwYXJlbnQ9ZmFsc2VdIC0gSWYgdGhlIHJlbmRlciB2aWV3IGlzIHRyYW5zcGFyZW50LCBkZWZhdWx0IGZhbHNlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9EZW5zaXR5PWZhbHNlXSAtIFJlc2l6ZXMgcmVuZGVyZXIgdmlldyBpbiBDU1MgcGl4ZWxzIHRvIGFsbG93IGZvclxuICogICByZXNvbHV0aW9ucyBvdGhlciB0aGFuIDFcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYW50aWFsaWFzPWZhbHNlXSAtIHNldHMgYW50aWFsaWFzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnByZXNlcnZlRHJhd2luZ0J1ZmZlcj1mYWxzZV0gLSBlbmFibGVzIGRyYXdpbmcgYnVmZmVyIHByZXNlcnZhdGlvbiwgZW5hYmxlIHRoaXMgaWYgeW91XG4gKiAgbmVlZCB0byBjYWxsIHRvRGF0YVVybCBvbiB0aGUgd2ViZ2wgY29udGV4dFxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmJhY2tncm91bmRDb2xvcj0weDAwMDAwMF0gLSBUaGUgYmFja2dyb3VuZCBjb2xvciBvZiB0aGUgcmVuZGVyZWQgYXJlYVxuICogIChzaG93biBpZiBub3QgdHJhbnNwYXJlbnQpLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jbGVhckJlZm9yZVJlbmRlcj10cnVlXSAtIFRoaXMgc2V0cyBpZiB0aGUgcmVuZGVyZXIgd2lsbCBjbGVhciB0aGUgY2FudmFzIG9yXG4gKiAgIG5vdCBiZWZvcmUgdGhlIG5ldyByZW5kZXIgcGFzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLCByZXRpbmEgd291bGQgYmUgMlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5mb3JjZUNhbnZhcz1mYWxzZV0gLSBwcmV2ZW50cyBzZWxlY3Rpb24gb2YgV2ViR0wgcmVuZGVyZXIsIGV2ZW4gaWYgc3VjaCBpcyBwcmVzZW50LCB0aGlzXG4gKiAgIG9wdGlvbiBvbmx5IGlzIGF2YWlsYWJsZSB3aGVuIHVzaW5nICoqcGl4aS5qcy1sZWdhY3kqKiBvciAqKkBwaXhpL2NhbnZhcy1yZW5kZXJlcioqIG1vZHVsZXMsIG90aGVyd2lzZVxuICogICBpdCBpcyBpZ25vcmVkLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5mb3JjZUZYQUE9ZmFsc2VdIC0gZm9yY2VzIEZYQUEgYW50aWFsaWFzaW5nIHRvIGJlIHVzZWQgb3ZlciBuYXRpdmUuXG4gKiAgRlhBQSBpcyBmYXN0ZXIsIGJ1dCBtYXkgbm90IGFsd2F5cyBsb29rIGFzIGdyZWF0ICoqd2ViZ2wgb25seSoqXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMucG93ZXJQcmVmZXJlbmNlXSAtIFBhcmFtZXRlciBwYXNzZWQgdG8gd2ViZ2wgY29udGV4dCwgc2V0IHRvIFwiaGlnaC1wZXJmb3JtYW5jZVwiXG4gKiAgZm9yIGRldmljZXMgd2l0aCBkdWFsIGdyYXBoaWNzIGNhcmQgKip3ZWJnbCBvbmx5KipcbiAqIEByZXR1cm4ge1BJWEkuUmVuZGVyZXJ8UElYSS5DYW52YXNSZW5kZXJlcn0gUmV0dXJucyBXZWJHTCByZW5kZXJlciBpZiBhdmFpbGFibGUsIG90aGVyd2lzZSBDYW52YXNSZW5kZXJlclxuICovXG5mdW5jdGlvbiBhdXRvRGV0ZWN0UmVuZGVyZXIob3B0aW9ucylcbntcbiAgICByZXR1cm4gUmVuZGVyZXIuY3JlYXRlKG9wdGlvbnMpO1xufVxuXG52YXIgX2RlZmF1bHQgPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuICAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbn1cIjtcblxudmFyIGRlZmF1bHRGaWx0ZXIgPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHZlYzQgaW5wdXRTaXplO1xcbnVuaWZvcm0gdmVjNCBvdXRwdXRGcmFtZTtcXG5cXG52ZWM0IGZpbHRlclZlcnRleFBvc2l0aW9uKCB2b2lkIClcXG57XFxuICAgIHZlYzIgcG9zaXRpb24gPSBhVmVydGV4UG9zaXRpb24gKiBtYXgob3V0cHV0RnJhbWUuencsIHZlYzIoMC4pKSArIG91dHB1dEZyYW1lLnh5O1xcblxcbiAgICByZXR1cm4gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMocG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxufVxcblxcbnZlYzIgZmlsdGVyVGV4dHVyZUNvb3JkKCB2b2lkIClcXG57XFxuICAgIHJldHVybiBhVmVydGV4UG9zaXRpb24gKiAob3V0cHV0RnJhbWUuencgKiBpbnB1dFNpemUuencpO1xcbn1cXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gZmlsdGVyVmVydGV4UG9zaXRpb24oKTtcXG4gICAgdlRleHR1cmVDb29yZCA9IGZpbHRlclRleHR1cmVDb29yZCgpO1xcbn1cXG5cIjtcblxuLyoqXG4gKiBBIFRleHR1cmUgdGhhdCBkZXBlbmRzIG9uIHNpeCBvdGhlciByZXNvdXJjZXMuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkJhc2VUZXh0dXJlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQ3ViZVRleHR1cmUgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChCYXNlVGV4dHVyZSkge1xuICAgIGZ1bmN0aW9uIEN1YmVUZXh0dXJlICgpIHtcbiAgICAgICAgQmFzZVRleHR1cmUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICBpZiAoIEJhc2VUZXh0dXJlICkgQ3ViZVRleHR1cmUuX19wcm90b19fID0gQmFzZVRleHR1cmU7XG4gICAgQ3ViZVRleHR1cmUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQmFzZVRleHR1cmUgJiYgQmFzZVRleHR1cmUucHJvdG90eXBlICk7XG4gICAgQ3ViZVRleHR1cmUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ3ViZVRleHR1cmU7XG5cbiAgICBDdWJlVGV4dHVyZS5mcm9tID0gZnVuY3Rpb24gZnJvbSAocmVzb3VyY2VzLCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDdWJlVGV4dHVyZShuZXcgQ3ViZVJlc291cmNlKHJlc291cmNlcywgb3B0aW9ucykpO1xuICAgIH07XG5cbiAgICByZXR1cm4gQ3ViZVRleHR1cmU7XG59KEJhc2VUZXh0dXJlKSk7XG5cbi8qKlxuICogVXNlZCBieSB0aGUgYmF0Y2hlciB0byBkcmF3IGJhdGNoZXMuXG4gKiBFYWNoIG9uZSBvZiB0aGVzZSBjb250YWlucyBhbGwgaW5mb3JtYXRpb24gcmVxdWlyZWQgdG8gZHJhdyBhIGJvdW5kIGdlb21ldHJ5LlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJhdGNoRHJhd0NhbGwgPSBmdW5jdGlvbiBCYXRjaERyYXdDYWxsKClcbntcbiAgICB0aGlzLnRleHR1cmVzID0gW107XG4gICAgdGhpcy5pZHMgPSBbXTtcbiAgICB0aGlzLmJsZW5kID0gMDtcbiAgICB0aGlzLnRleHR1cmVDb3VudCA9IDA7XG4gICAgdGhpcy5zdGFydCA9IDA7XG4gICAgdGhpcy5zaXplID0gMDtcbiAgICB0aGlzLnR5cGUgPSA0O1xufTtcblxuLyoqXG4gKiBGbGV4aWJsZSB3cmFwcGVyIGFyb3VuZCBgQXJyYXlCdWZmZXJgIHRoYXQgYWxzbyBwcm92aWRlc1xuICogdHlwZWQgYXJyYXkgdmlld3Mgb24gZGVtYW5kLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFZpZXdhYmxlQnVmZmVyID0gZnVuY3Rpb24gVmlld2FibGVCdWZmZXIoc2l6ZSlcbntcbiAgICAvKipcbiAgICAgKiBVbmRlcmx5aW5nIGBBcnJheUJ1ZmZlcmAgdGhhdCBob2xkcyBhbGwgdGhlIGRhdGFcbiAgICAgKiBhbmQgaXMgb2YgY2FwYWNpdHkgYHNpemVgLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7QXJyYXlCdWZmZXJ9XG4gICAgICovXG4gICAgdGhpcy5yYXdCaW5hcnlEYXRhID0gbmV3IEFycmF5QnVmZmVyKHNpemUpO1xuXG4gICAgLyoqXG4gICAgICogVmlldyBvbiB0aGUgcmF3IGJpbmFyeSBkYXRhIGFzIGEgYFVpbnQzMkFycmF5YC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1VpbnQzMkFycmF5fVxuICAgICAqL1xuICAgIHRoaXMudWludDMyVmlldyA9IG5ldyBVaW50MzJBcnJheSh0aGlzLnJhd0JpbmFyeURhdGEpO1xuXG4gICAgLyoqXG4gICAgICogVmlldyBvbiB0aGUgcmF3IGJpbmFyeSBkYXRhIGFzIGEgYEZsb2F0MzJBcnJheWAuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICovXG4gICAgdGhpcy5mbG9hdDMyVmlldyA9IG5ldyBGbG9hdDMyQXJyYXkodGhpcy5yYXdCaW5hcnlEYXRhKTtcbn07XG5cbnZhciBwcm90b3R5cGVBY2Nlc3NvcnMkNSA9IHsgaW50OFZpZXc6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sdWludDhWaWV3OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGludDE2VmlldzogeyBjb25maWd1cmFibGU6IHRydWUgfSx1aW50MTZWaWV3OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGludDMyVmlldzogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4vKipcbiAqIFZpZXcgb24gdGhlIHJhdyBiaW5hcnkgZGF0YSBhcyBhIGBJbnQ4QXJyYXlgLlxuICpcbiAqIEBtZW1iZXIge0ludDhBcnJheX1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzJDUuaW50OFZpZXcuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICBpZiAoIXRoaXMuX2ludDhWaWV3KVxuICAgIHtcbiAgICAgICAgdGhpcy5faW50OFZpZXcgPSBuZXcgSW50OEFycmF5KHRoaXMucmF3QmluYXJ5RGF0YSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX2ludDhWaWV3O1xufTtcblxuLyoqXG4gKiBWaWV3IG9uIHRoZSByYXcgYmluYXJ5IGRhdGEgYXMgYSBgVWludDhBcnJheWAuXG4gKlxuICogQG1lbWJlciB7VWludDhBcnJheX1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzJDUudWludDhWaWV3LmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgaWYgKCF0aGlzLl91aW50OFZpZXcpXG4gICAge1xuICAgICAgICB0aGlzLl91aW50OFZpZXcgPSBuZXcgVWludDhBcnJheSh0aGlzLnJhd0JpbmFyeURhdGEpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl91aW50OFZpZXc7XG59O1xuXG4vKipcbiAqIFZpZXcgb24gdGhlIHJhdyBiaW5hcnkgZGF0YSBhcyBhIGBJbnQxNkFycmF5YC5cbiAqXG4gKiBAbWVtYmVyIHtJbnQxNkFycmF5fVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMkNS5pbnQxNlZpZXcuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICBpZiAoIXRoaXMuX2ludDE2VmlldylcbiAgICB7XG4gICAgICAgIHRoaXMuX2ludDE2VmlldyA9IG5ldyBJbnQxNkFycmF5KHRoaXMucmF3QmluYXJ5RGF0YSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX2ludDE2Vmlldztcbn07XG5cbi8qKlxuICogVmlldyBvbiB0aGUgcmF3IGJpbmFyeSBkYXRhIGFzIGEgYFVpbnQxNkFycmF5YC5cbiAqXG4gKiBAbWVtYmVyIHtVaW50MTZBcnJheX1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzJDUudWludDE2Vmlldy5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIGlmICghdGhpcy5fdWludDE2VmlldylcbiAgICB7XG4gICAgICAgIHRoaXMuX3VpbnQxNlZpZXcgPSBuZXcgVWludDE2QXJyYXkodGhpcy5yYXdCaW5hcnlEYXRhKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fdWludDE2Vmlldztcbn07XG5cbi8qKlxuICogVmlldyBvbiB0aGUgcmF3IGJpbmFyeSBkYXRhIGFzIGEgYEludDMyQXJyYXlgLlxuICpcbiAqIEBtZW1iZXIge0ludDMyQXJyYXl9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycyQ1LmludDMyVmlldy5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIGlmICghdGhpcy5faW50MzJWaWV3KVxuICAgIHtcbiAgICAgICAgdGhpcy5faW50MzJWaWV3ID0gbmV3IEludDMyQXJyYXkodGhpcy5yYXdCaW5hcnlEYXRhKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5faW50MzJWaWV3O1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSB2aWV3IG9mIHRoZSBnaXZlbiB0eXBlLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gT25lIG9mIGBpbnQ4YCwgYHVpbnQ4YCwgYGludDE2YCxcbiAqYHVpbnQxNmAsIGBpbnQzMmAsIGB1aW50MzJgLCBhbmQgYGZsb2F0MzJgLlxuICogQHJldHVybiB7b2JqZWN0fSB0eXBlZCBhcnJheSBvZiBnaXZlbiB0eXBlXG4gKi9cblZpZXdhYmxlQnVmZmVyLnByb3RvdHlwZS52aWV3ID0gZnVuY3Rpb24gdmlldyAodHlwZSlcbntcbiAgICByZXR1cm4gdGhpc1sodHlwZSArIFwiVmlld1wiKV07XG59O1xuXG4vKipcbiAqIERlc3Ryb3lzIGFsbCBidWZmZXIgcmVmZXJlbmNlcy4gRG8gbm90IHVzZSBhZnRlciBjYWxsaW5nXG4gKiB0aGlzLlxuICovXG5WaWV3YWJsZUJ1ZmZlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbntcbiAgICB0aGlzLnJhd0JpbmFyeURhdGEgPSBudWxsO1xuICAgIHRoaXMuX2ludDhWaWV3ID0gbnVsbDtcbiAgICB0aGlzLl91aW50OFZpZXcgPSBudWxsO1xuICAgIHRoaXMuX2ludDE2VmlldyA9IG51bGw7XG4gICAgdGhpcy5fdWludDE2VmlldyA9IG51bGw7XG4gICAgdGhpcy5faW50MzJWaWV3ID0gbnVsbDtcbiAgICB0aGlzLnVpbnQzMlZpZXcgPSBudWxsO1xuICAgIHRoaXMuZmxvYXQzMlZpZXcgPSBudWxsO1xufTtcblxuVmlld2FibGVCdWZmZXIuc2l6ZU9mID0gZnVuY3Rpb24gc2l6ZU9mICh0eXBlKVxue1xuICAgIHN3aXRjaCAodHlwZSlcbiAgICB7XG4gICAgICAgIGNhc2UgJ2ludDgnOlxuICAgICAgICBjYXNlICd1aW50OCc6XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgY2FzZSAnaW50MTYnOlxuICAgICAgICBjYXNlICd1aW50MTYnOlxuICAgICAgICAgICAgcmV0dXJuIDI7XG4gICAgICAgIGNhc2UgJ2ludDMyJzpcbiAgICAgICAgY2FzZSAndWludDMyJzpcbiAgICAgICAgY2FzZSAnZmxvYXQzMic6XG4gICAgICAgICAgICByZXR1cm4gNDtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigodHlwZSArIFwiIGlzbid0IGEgdmFsaWQgdmlldyB0eXBlXCIpKTtcbiAgICB9XG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyggVmlld2FibGVCdWZmZXIucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMkNSApO1xuXG4vKipcbiAqIFJlbmRlcmVyIGRlZGljYXRlZCB0byBkcmF3aW5nIGFuZCBiYXRjaGluZyBzcHJpdGVzLlxuICpcbiAqIFRoaXMgaXMgdGhlIGRlZmF1bHQgYmF0Y2ggcmVuZGVyZXIuIEl0IGJ1ZmZlcnMgb2JqZWN0c1xuICogd2l0aCB0ZXh0dXJlLWJhc2VkIGdlb21ldHJpZXMgYW5kIHJlbmRlcnMgdGhlbSBpblxuICogYmF0Y2hlcy4gSXQgdXBsb2FkcyBtdWx0aXBsZSB0ZXh0dXJlcyB0byB0aGUgR1BVIHRvXG4gKiByZWR1Y2UgdG8gdGhlIG51bWJlciBvZiBkcmF3IGNhbGxzLlxuICpcbiAqIEBjbGFzc1xuICogQHByb3RlY3RlZFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuT2JqZWN0UmVuZGVyZXJcbiAqL1xudmFyIEFic3RyYWN0QmF0Y2hSZW5kZXJlciA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKE9iamVjdFJlbmRlcmVyKSB7XG4gICAgZnVuY3Rpb24gQWJzdHJhY3RCYXRjaFJlbmRlcmVyKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgT2JqZWN0UmVuZGVyZXIuY2FsbCh0aGlzLCByZW5kZXJlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgaXMgdXNlZCB0byBnZW5lcmF0ZSBhIHNoYWRlciB0aGF0IGNhblxuICAgICAgICAgKiBjb2xvciBlYWNoIHZlcnRleCBiYXNlZCBvbiBhIGBhVGV4dHVyZUlkYFxuICAgICAgICAgKiBhdHRyaWJ1dGUgdGhhdCBwb2ludHMgdG8gYW4gdGV4dHVyZSBpbiBgdVNhbXBsZXJgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIGVuYWJsZXMgdGhlIG9iamVjdHMgd2l0aCBkaWZmZXJlbnQgdGV4dHVyZXNcbiAgICAgICAgICogdG8gYmUgZHJhd24gaW4gdGhlIHNhbWUgZHJhdyBjYWxsLlxuICAgICAgICAgKlxuICAgICAgICAgKiBZb3UgY2FuIGN1c3RvbWl6ZSB5b3VyIHNoYWRlciBieSBjcmVhdGluZyB5b3VyXG4gICAgICAgICAqIGN1c3RvbSBzaGFkZXIgZ2VuZXJhdG9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhdGNoU2hhZGVyR2VuZXJhdG9yfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNoYWRlckdlbmVyYXRvciA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjbGFzcyB0aGF0IHJlcHJlc2VudHMgdGhlIGdlb21ldHJ5IG9mIG9iamVjdHNcbiAgICAgICAgICogdGhhdCBhcmUgZ29pbmcgdG8gYmUgYmF0Y2hlZCB3aXRoIHRoaXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5CYXRjaEdlb21ldHJ5XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2VvbWV0cnlDbGFzcyA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNpemUgb2YgZGF0YSBiZWluZyBidWZmZXJlZCBwZXIgdmVydGV4IGluIHRoZVxuICAgICAgICAgKiBhdHRyaWJ1dGUgYnVmZmVycyAoaW4gZmxvYXRzKS4gQnkgZGVmYXVsdCwgdGhlXG4gICAgICAgICAqIGJhdGNoLXJlbmRlcmVyIHBsdWdpbiB1c2VzIDY6XG4gICAgICAgICAqXG4gICAgICAgICAqIHwgYVZlcnRleFBvc2l0aW9uIHwgMiB8XG4gICAgICAgICAqIHwtLS0tLS0tLS0tLS0tLS0tLXwtLS18XG4gICAgICAgICAqIHwgYVRleHR1cmVDb29yZHMgIHwgMiB8XG4gICAgICAgICAqIHwgYUNvbG9yICAgICAgICAgIHwgMSB8XG4gICAgICAgICAqIHwgYVRleHR1cmVJZCAgICAgIHwgMSB8XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZlcnRleFNpemUgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgV2ViR0wgc3RhdGUgaW4gd2hpY2ggdGhpcyByZW5kZXJlciB3aWxsIHdvcmsuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3RhdGV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLmZvcjJkKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBudW1iZXIgb2YgYnVmZmVyYWJsZSBvYmplY3RzIGJlZm9yZSBhIGZsdXNoXG4gICAgICAgICAqIG9jY3VycyBhdXRvbWF0aWNhbGx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IHNldHRpbmdzLlNQUklURV9NQVhfVEVYVFVSRVNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2l6ZSA9IDIwMDAgKiA0Oy8vIHNldHRpbmdzLlNQUklURV9CQVRDSF9TSVpFLCAyMDAwIGlzIGEgbmljZSBiYWxhbmNlIGJldHdlZW4gbW9iaWxlL2Rlc2t0b3BcblxuICAgICAgICAvKipcbiAgICAgICAgICogVG90YWwgY291bnQgb2YgYWxsIHZlcnRpY2VzIHVzZWQgYnkgdGhlIGN1cnJlbnRseVxuICAgICAgICAgKiBidWZmZXJlZCBvYmplY3RzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl92ZXJ0ZXhDb3VudCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRvdGFsIGNvdW50IG9mIGFsbCBpbmRpY2VzIHVzZWQgYnkgdGhlIGN1cnJlbnRseVxuICAgICAgICAgKiBidWZmZXJlZCBvYmplY3RzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9pbmRleENvdW50ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQnVmZmVyIG9mIG9iamVjdHMgdGhhdCBhcmUgeWV0IHRvIGJlIHJlbmRlcmVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3RbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2J1ZmZlcmVkRWxlbWVudHMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTnVtYmVyIG9mIGVsZW1lbnRzIHRoYXQgYXJlIGJ1ZmZlcmVkIGFuZCBhcmVcbiAgICAgICAgICogd2FpdGluZyB0byBiZSBmbHVzaGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9idWZmZXJTaXplID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBzaGFkZXIgaXMgZ2VuZXJhdGVkIGJ5IGB0aGlzLnNoYWRlckdlbmVyYXRvcmAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEl0IGlzIGdlbmVyYXRlZCBzcGVjaWZpY2FsbHkgdG8gaGFuZGxlIHRoZSByZXF1aXJlZFxuICAgICAgICAgKiBudW1iZXIgb2YgdGV4dHVyZXMgYmVpbmcgYmF0Y2hlZCB0b2dldGhlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TaGFkZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3NoYWRlciA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBvb2wgb2YgYHRoaXMuZ2VvbWV0cnlDbGFzc2AgZ2VvbWV0cnkgb2JqZWN0c1xuICAgICAgICAgKiB0aGF0IHN0b3JlIGJ1ZmZlcnMuIFRoZXkgYXJlIHVzZWQgdG8gcGFzcyBkYXRhXG4gICAgICAgICAqIHRvIHRoZSBzaGFkZXIgb24gZWFjaCBkcmF3IGNhbGwuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZXNlIGFyZSBuZXZlciByZS1hbGxvY2F0ZWQgYWdhaW4sIHVubGVzcyBhXG4gICAgICAgICAqIGNvbnRleHQgY2hhbmdlIG9jY3VyczsgaG93ZXZlciwgdGhlIHBvb2wgbWF5XG4gICAgICAgICAqIGJlIGV4cGFuZGVkIGlmIHJlcXVpcmVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdlb21ldHJ5W119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBzZWUgUElYSS5BYnN0cmFjdEJhdGNoUmVuZGVyZXIuY29udGV4dENoYW5nZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcGFja2VkR2VvbWV0cmllcyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaXplIG9mIGB0aGlzLl9wYWNrZWRHZW9tZXRyaWVzYC4gSXQgY2FuIGJlIGV4cGFuZGVkXG4gICAgICAgICAqIGlmIG1vcmUgdGhhbiBgdGhpcy5fcGFja2VkR2VvbWV0cnlQb29sU2l6ZWAgZmx1c2hlc1xuICAgICAgICAgKiBvY2N1ciBpbiBhIHNpbmdsZSBmcmFtZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcGFja2VkR2VvbWV0cnlQb29sU2l6ZSA9IDI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgZmx1c2ggbWF5IG9jY3VyIG11bHRpcGxlIHRpbWVzIGluIGEgc2luZ2xlXG4gICAgICAgICAqIGZyYW1lLiBPbiBpT1MgZGV2aWNlcyBvciB3aGVuXG4gICAgICAgICAqIGBzZXR0aW5ncy5DQU5fVVBMT0FEX1NBTUVfQlVGRkVSYCBpcyBmYWxzZSwgdGhlXG4gICAgICAgICAqIGJhdGNoIHJlbmRlcmVyIGRvZXMgbm90IHVwbG9hZCBkYXRhIHRvIHRoZSBzYW1lXG4gICAgICAgICAqIGBXZWJHTEJ1ZmZlcmAgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIGluZGV4IGludG8gYHBhY2tlZEdlb21ldHJpZXNgIHRoYXQgcG9pbnRzIHRvXG4gICAgICAgICAqIGdlb21ldHJ5IGhvbGRpbmcgdGhlIG1vc3QgcmVjZW50IGJ1ZmZlcnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2ZsdXNoSWQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQb29sIG9mIGBCYXRjaERyYXdDYWxsYCBvYmplY3RzIHRoYXQgYGZsdXNoYCB1c2VkXG4gICAgICAgICAqIHRvIGNyZWF0ZSBcImJhdGNoZXNcIiBvZiB0aGUgb2JqZWN0cyBiZWluZyByZW5kZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlc2UgYXJlIG5ldmVyIHJlLWFsbG9jYXRlZCBhZ2Fpbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciBCYXRjaERyYXdDYWxsW11cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2RyYXdDYWxscyA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgdGhpcy5zaXplIC8gNDsgaysrKVxuICAgICAgICB7IC8vIGluaXRpYWxpemUgdGhlIGRyYXctY2FsbHMgcG9vbCB0byBtYXggc2l6ZS5cbiAgICAgICAgICAgIHRoaXMuX2RyYXdDYWxsc1trXSA9IG5ldyBCYXRjaERyYXdDYWxsKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogUG9vbCBvZiBgVmlld2FibGVCdWZmZXJgIG9iamVjdHMgdGhhdCBhcmUgc29ydGVkIGluXG4gICAgICAgICAqIG9yZGVyIG9mIGluY3JlYXNpbmcgc2l6ZS4gVGhlIGZsdXNoIG1ldGhvZCB1c2VzXG4gICAgICAgICAqIHRoZSBidWZmZXIgd2l0aCB0aGUgbGVhc3Qgc2l6ZSBhYm92ZSB0aGUgYW1vdW50XG4gICAgICAgICAqIGl0IHJlcXVpcmVzLiBUaGVzZSBhcmUgdXNlZCBmb3IgcGFzc2luZyBhdHRyaWJ1dGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgZmlyc3QgYnVmZmVyIGhhcyBhIHNpemUgb2YgODsgZWFjaCBzdWJzZXF1ZW50XG4gICAgICAgICAqIGJ1ZmZlciBoYXMgZG91YmxlIGNhcGFjaXR5IG9mIGl0cyBwcmV2aW91cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5WaWV3YWJsZUJ1ZmZlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHNlZSBQSVhJLkFic3RyYWN0QmF0Y2hSZW5kZXJlciNnZXRBdHRyaWJ1dGVCdWZmZXJcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2FCdWZmZXJzID0ge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBvb2wgb2YgYFVpbnQxNkFycmF5YCBvYmplY3RzIHRoYXQgYXJlIHNvcnRlZCBpblxuICAgICAgICAgKiBvcmRlciBvZiBpbmNyZWFzaW5nIHNpemUuIFRoZSBmbHVzaCBtZXRob2QgdXNlc1xuICAgICAgICAgKiB0aGUgYnVmZmVyIHdpdGggdGhlIGxlYXN0IHNpemUgYWJvdmUgdGhlIGFtb3VudFxuICAgICAgICAgKiBpdCByZXF1aXJlcy4gVGhlc2UgYXJlIHVzZWQgZm9yIHBhc3NpbmcgaW5kaWNlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGZpcnN0IGJ1ZmZlciBoYXMgYSBzaXplIG9mIDEyOyBlYWNoIHN1YnNlcXVlbnRcbiAgICAgICAgICogYnVmZmVyIGhhcyBkb3VibGUgY2FwYWNpdHkgb2YgaXRzIHByZXZpb3VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtVaW50MTZBcnJheVtdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAc2VlIFBJWEkuQWJzdHJhY3RCYXRjaFJlbmRlcmVyI2dldEluZGV4QnVmZmVyXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9pQnVmZmVycyA9IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXhpbXVtIG51bWJlciBvZiB0ZXh0dXJlcyB0aGF0IGNhbiBiZSB1cGxvYWRlZCB0b1xuICAgICAgICAgKiB0aGUgR1BVIHVuZGVyIHRoZSBjdXJyZW50IGNvbnRleHQuIEl0IGlzIGluaXRpYWxpemVkXG4gICAgICAgICAqIHByb3Blcmx5IGluIGB0aGlzLmNvbnRleHRDaGFuZ2VgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBzZWUgUElYSS5BYnN0cmFjdEJhdGNoUmVuZGVyZXIjY29udGV4dENoYW5nZVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuTUFYX1RFWFRVUkVTID0gMTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyLm9uKCdwcmVyZW5kZXInLCB0aGlzLm9uUHJlcmVuZGVyLCB0aGlzKTtcbiAgICAgICAgcmVuZGVyZXIucnVubmVycy5jb250ZXh0Q2hhbmdlLmFkZCh0aGlzKTtcbiAgICB9XG5cbiAgICBpZiAoIE9iamVjdFJlbmRlcmVyICkgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLl9fcHJvdG9fXyA9IE9iamVjdFJlbmRlcmVyO1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBPYmplY3RSZW5kZXJlciAmJiBPYmplY3RSZW5kZXJlci5wcm90b3R5cGUgKTtcbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQWJzdHJhY3RCYXRjaFJlbmRlcmVyO1xuXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB0aGUgYGNvbnRleHRDaGFuZ2VgIHNpZ25hbC5cbiAgICAgKlxuICAgICAqIEl0IGNhbGN1bGF0ZXMgYHRoaXMuTUFYX1RFWFRVUkVTYCBhbmQgYWxsb2NhdGluZyB0aGVcbiAgICAgKiBwYWNrZWQtZ2VvbWV0cnkgb2JqZWN0IHBvb2wuXG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5jb250ZXh0Q2hhbmdlID0gZnVuY3Rpb24gY29udGV4dENoYW5nZSAoKVxuICAgIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcblxuICAgICAgICBpZiAoc2V0dGluZ3MuUFJFRkVSX0VOViA9PT0gRU5WLldFQkdMX0xFR0FDWSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5NQVhfVEVYVFVSRVMgPSAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gc3RlcCAxOiBmaXJzdCBjaGVjayBtYXggdGV4dHVyZXMgdGhlIEdQVSBjYW4gaGFuZGxlLlxuICAgICAgICAgICAgdGhpcy5NQVhfVEVYVFVSRVMgPSBNYXRoLm1pbihcbiAgICAgICAgICAgICAgICBnbC5nZXRQYXJhbWV0ZXIoZ2wuTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMpLFxuICAgICAgICAgICAgICAgIHNldHRpbmdzLlNQUklURV9NQVhfVEVYVFVSRVMpO1xuXG4gICAgICAgICAgICAvLyBzdGVwIDI6IGNoZWNrIHRoZSBtYXhpbXVtIG51bWJlciBvZiBpZiBzdGF0ZW1lbnRzIHRoZSBzaGFkZXIgY2FuIGhhdmUgdG9vLi5cbiAgICAgICAgICAgIHRoaXMuTUFYX1RFWFRVUkVTID0gY2hlY2tNYXhJZlN0YXRlbWVudHNJblNoYWRlcihcbiAgICAgICAgICAgICAgICB0aGlzLk1BWF9URVhUVVJFUywgZ2wpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc2hhZGVyID0gdGhpcy5zaGFkZXJHZW5lcmF0b3IuZ2VuZXJhdGVTaGFkZXIodGhpcy5NQVhfVEVYVFVSRVMpO1xuXG4gICAgICAgIC8vIHdlIHVzZSB0aGUgc2Vjb25kIHNoYWRlciBhcyB0aGUgZmlyc3Qgb25lIGRlcGVuZGluZyBvbiB5b3VyIGJyb3dzZXJcbiAgICAgICAgLy8gbWF5IG9taXQgYVRleHR1cmVJZCBhcyBpdCBpcyBub3QgdXNlZCBieSB0aGUgc2hhZGVyIHNvIGlzIG9wdGltaXplZCBvdXQuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fcGFja2VkR2VvbWV0cnlQb29sU2l6ZTsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgICAgICAgICB0aGlzLl9wYWNrZWRHZW9tZXRyaWVzW2ldID0gbmV3ICh0aGlzLmdlb21ldHJ5Q2xhc3MpKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB0aGUgYHByZXJlbmRlcmAgc2lnbmFsLlxuICAgICAqXG4gICAgICogSXQgZW5zdXJlcyB0aGF0IGZsdXNoZXMgc3RhcnQgZnJvbSB0aGUgZmlyc3QgZ2VvbWV0cnlcbiAgICAgKiBvYmplY3QgYWdhaW4uXG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5vblByZXJlbmRlciA9IGZ1bmN0aW9uIG9uUHJlcmVuZGVyICgpXG4gICAge1xuICAgICAgICB0aGlzLl9mbHVzaElkID0gMDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQnVmZmVycyB0aGUgXCJiYXRjaGFibGVcIiBvYmplY3QuIEl0IG5lZWQgbm90IGJlIHJlbmRlcmVkXG4gICAgICogaW1tZWRpYXRlbHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfSBzcHJpdGUgLSB0aGUgc3ByaXRlIHRvIHJlbmRlciB3aGVuXG4gICAgICogICAgdXNpbmcgdGhpcyBzcHJpdGViYXRjaFxuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyIChlbGVtZW50KVxuICAgIHtcbiAgICAgICAgaWYgKCFlbGVtZW50Ll90ZXh0dXJlLnZhbGlkKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fdmVydGV4Q291bnQgKyAoZWxlbWVudC52ZXJ0ZXhEYXRhLmxlbmd0aCAvIDIpID4gdGhpcy5zaXplKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmZsdXNoKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl92ZXJ0ZXhDb3VudCArPSBlbGVtZW50LnZlcnRleERhdGEubGVuZ3RoIC8gMjtcbiAgICAgICAgdGhpcy5faW5kZXhDb3VudCArPSBlbGVtZW50LmluZGljZXMubGVuZ3RoO1xuICAgICAgICB0aGlzLl9idWZmZXJlZEVsZW1lbnRzW3RoaXMuX2J1ZmZlclNpemUrK10gPSBlbGVtZW50O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBjb250ZW50IF9ub3dfIGFuZCBlbXB0aWVzIHRoZSBjdXJyZW50IGJhdGNoLlxuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiBmbHVzaCAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3ZlcnRleENvdW50ID09PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYXR0cmlidXRlQnVmZmVyID0gdGhpcy5nZXRBdHRyaWJ1dGVCdWZmZXIodGhpcy5fdmVydGV4Q291bnQpO1xuICAgICAgICB2YXIgaW5kZXhCdWZmZXIgPSB0aGlzLmdldEluZGV4QnVmZmVyKHRoaXMuX2luZGV4Q291bnQpO1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuXG4gICAgICAgIHZhciByZWYgPSB0aGlzO1xuICAgICAgICB2YXIgZWxlbWVudHMgPSByZWYuX2J1ZmZlcmVkRWxlbWVudHM7XG4gICAgICAgIHZhciBkcmF3Q2FsbHMgPSByZWYuX2RyYXdDYWxscztcbiAgICAgICAgdmFyIE1BWF9URVhUVVJFUyA9IHJlZi5NQVhfVEVYVFVSRVM7XG4gICAgICAgIHZhciBwYWNrZWRHZW9tZXRyaWVzID0gcmVmLl9wYWNrZWRHZW9tZXRyaWVzO1xuICAgICAgICB2YXIgdmVydGV4U2l6ZSA9IHJlZi52ZXJ0ZXhTaXplO1xuXG4gICAgICAgIHZhciB0b3VjaCA9IHRoaXMucmVuZGVyZXIudGV4dHVyZUdDLmNvdW50O1xuXG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHZhciBfaW5kZXhDb3VudCA9IDA7XG5cbiAgICAgICAgdmFyIG5leHRUZXh0dXJlO1xuICAgICAgICB2YXIgY3VycmVudFRleHR1cmU7XG4gICAgICAgIHZhciB0ZXh0dXJlQ291bnQgPSAwO1xuXG4gICAgICAgIHZhciBjdXJyZW50R3JvdXAgPSBkcmF3Q2FsbHNbMF07XG4gICAgICAgIHZhciBncm91cENvdW50ID0gMDtcblxuICAgICAgICB2YXIgYmxlbmRNb2RlID0gLTE7Ly8gYmxlbmQtbW9kZSBvZiBwcmV2aW91cyBlbGVtZW50L3Nwcml0ZS9vYmplY3QhXG5cbiAgICAgICAgY3VycmVudEdyb3VwLnRleHR1cmVDb3VudCA9IDA7XG4gICAgICAgIGN1cnJlbnRHcm91cC5zdGFydCA9IDA7XG4gICAgICAgIGN1cnJlbnRHcm91cC5ibGVuZCA9IGJsZW5kTW9kZTtcblxuICAgICAgICB2YXIgVElDSyA9ICsrQmFzZVRleHR1cmUuX2dsb2JhbEJhdGNoO1xuICAgICAgICB2YXIgaTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5fYnVmZmVyU2l6ZTsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgc3ByaXRlID0gZWxlbWVudHNbaV07XG5cbiAgICAgICAgICAgIGVsZW1lbnRzW2ldID0gbnVsbDtcbiAgICAgICAgICAgIG5leHRUZXh0dXJlID0gc3ByaXRlLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgICAgICB2YXIgc3ByaXRlQmxlbmRNb2RlID0gcHJlbXVsdGlwbHlCbGVuZE1vZGVbXG4gICAgICAgICAgICAgICAgbmV4dFRleHR1cmUucHJlbXVsdGlwbHlBbHBoYSA/IDEgOiAwXVtzcHJpdGUuYmxlbmRNb2RlXTtcblxuICAgICAgICAgICAgaWYgKGJsZW5kTW9kZSAhPT0gc3ByaXRlQmxlbmRNb2RlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJsZW5kTW9kZSA9IHNwcml0ZUJsZW5kTW9kZTtcblxuICAgICAgICAgICAgICAgIC8vIGZvcmNlIHRoZSBiYXRjaCB0byBicmVhayFcbiAgICAgICAgICAgICAgICBjdXJyZW50VGV4dHVyZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGV4dHVyZUNvdW50ID0gTUFYX1RFWFRVUkVTO1xuICAgICAgICAgICAgICAgIFRJQ0srKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGN1cnJlbnRUZXh0dXJlICE9PSBuZXh0VGV4dHVyZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50VGV4dHVyZSA9IG5leHRUZXh0dXJlO1xuXG4gICAgICAgICAgICAgICAgaWYgKG5leHRUZXh0dXJlLl9iYXRjaEVuYWJsZWQgIT09IFRJQ0spXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGV4dHVyZUNvdW50ID09PSBNQVhfVEVYVFVSRVMpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFRJQ0srKztcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUNvdW50ID0gMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwLnNpemUgPSBfaW5kZXhDb3VudCAtIGN1cnJlbnRHcm91cC5zdGFydDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwID0gZHJhd0NhbGxzW2dyb3VwQ291bnQrK107XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAudGV4dHVyZUNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC5ibGVuZCA9IGJsZW5kTW9kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC5zdGFydCA9IF9pbmRleENvdW50O1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgbmV4dFRleHR1cmUudG91Y2hlZCA9IHRvdWNoO1xuICAgICAgICAgICAgICAgICAgICBuZXh0VGV4dHVyZS5fYmF0Y2hFbmFibGVkID0gVElDSztcbiAgICAgICAgICAgICAgICAgICAgbmV4dFRleHR1cmUuX2lkID0gdGV4dHVyZUNvdW50O1xuXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC50ZXh0dXJlc1tjdXJyZW50R3JvdXAudGV4dHVyZUNvdW50KytdID0gbmV4dFRleHR1cmU7XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmVDb3VudCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5wYWNrSW50ZXJsZWF2ZWRHZW9tZXRyeShzcHJpdGUsIGF0dHJpYnV0ZUJ1ZmZlcixcbiAgICAgICAgICAgICAgICBpbmRleEJ1ZmZlciwgaW5kZXgsIF9pbmRleENvdW50KTtcblxuICAgICAgICAgICAgLy8gcHVzaCBhIGdyYXBoaWNzLi5cbiAgICAgICAgICAgIGluZGV4ICs9IChzcHJpdGUudmVydGV4RGF0YS5sZW5ndGggLyAyKSAqIHZlcnRleFNpemU7XG4gICAgICAgICAgICBfaW5kZXhDb3VudCArPSBzcHJpdGUuaW5kaWNlcy5sZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICBCYXNlVGV4dHVyZS5fZ2xvYmFsQmF0Y2ggPSBUSUNLO1xuICAgICAgICBjdXJyZW50R3JvdXAuc2l6ZSA9IF9pbmRleENvdW50IC0gY3VycmVudEdyb3VwLnN0YXJ0O1xuXG4gICAgICAgIGlmICghc2V0dGluZ3MuQ0FOX1VQTE9BRF9TQU1FX0JVRkZFUilcbiAgICAgICAgeyAvKiBVc3VhbGx5IG9uIGlPUyBkZXZpY2VzLCB3aGVyZSB0aGUgYnJvd3NlciBkb2Vzbid0XG4gICAgICAgICAgICBsaWtlIHVwbG9hZHMgdG8gdGhlIHNhbWUgYnVmZmVyIGluIGEgc2luZ2xlIGZyYW1lLiAqL1xuICAgICAgICAgICAgaWYgKHRoaXMuX3BhY2tlZEdlb21ldHJ5UG9vbFNpemUgPD0gdGhpcy5fZmx1c2hJZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wYWNrZWRHZW9tZXRyeVBvb2xTaXplKys7XG4gICAgICAgICAgICAgICAgcGFja2VkR2VvbWV0cmllc1t0aGlzLl9mbHVzaElkXSA9IG5ldyAodGhpcy5nZW9tZXRyeUNsYXNzKSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwYWNrZWRHZW9tZXRyaWVzW3RoaXMuX2ZsdXNoSWRdLl9idWZmZXIudXBkYXRlKGF0dHJpYnV0ZUJ1ZmZlci5yYXdCaW5hcnlEYXRhLCAwKTtcbiAgICAgICAgICAgIHBhY2tlZEdlb21ldHJpZXNbdGhpcy5fZmx1c2hJZF0uX2luZGV4QnVmZmVyLnVwZGF0ZShpbmRleEJ1ZmZlciwgMCk7XG5cbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuZ2VvbWV0cnkuYmluZChwYWNrZWRHZW9tZXRyaWVzW3RoaXMuX2ZsdXNoSWRdKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuZ2VvbWV0cnkudXBkYXRlQnVmZmVycygpO1xuICAgICAgICAgICAgdGhpcy5fZmx1c2hJZCsrO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gbGV0cyB1c2UgdGhlIGZhc3RlciBvcHRpb24sIGFsd2F5cyB1c2UgYnVmZmVyIG51bWJlciAwXG4gICAgICAgICAgICBwYWNrZWRHZW9tZXRyaWVzW3RoaXMuX2ZsdXNoSWRdLl9idWZmZXIudXBkYXRlKGF0dHJpYnV0ZUJ1ZmZlci5yYXdCaW5hcnlEYXRhLCAwKTtcbiAgICAgICAgICAgIHBhY2tlZEdlb21ldHJpZXNbdGhpcy5fZmx1c2hJZF0uX2luZGV4QnVmZmVyLnVwZGF0ZShpbmRleEJ1ZmZlciwgMCk7XG5cbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuZ2VvbWV0cnkudXBkYXRlQnVmZmVycygpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHRleHR1cmVTeXN0ZW0gPSB0aGlzLnJlbmRlcmVyLnRleHR1cmU7XG4gICAgICAgIHZhciBzdGF0ZVN5c3RlbSA9IHRoaXMucmVuZGVyZXIuc3RhdGU7XG5cbiAgICAgICAgLy8gVXBsb2FkIHRleHR1cmVzIGFuZCBkbyB0aGUgZHJhdyBjYWxsc1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZ3JvdXBDb3VudDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgZ3JvdXAgPSBkcmF3Q2FsbHNbaV07XG4gICAgICAgICAgICB2YXIgZ3JvdXBUZXh0dXJlQ291bnQgPSBncm91cC50ZXh0dXJlQ291bnQ7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZ3JvdXBUZXh0dXJlQ291bnQ7IGorKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlU3lzdGVtLmJpbmQoZ3JvdXAudGV4dHVyZXNbal0sIGopO1xuICAgICAgICAgICAgICAgIGdyb3VwLnRleHR1cmVzW2pdID0gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc3RhdGVTeXN0ZW0uc2V0QmxlbmRNb2RlKGdyb3VwLmJsZW5kKTtcbiAgICAgICAgICAgIGdsLmRyYXdFbGVtZW50cyhncm91cC50eXBlLCBncm91cC5zaXplLCBnbC5VTlNJR05FRF9TSE9SVCwgZ3JvdXAuc3RhcnQgKiAyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlc2V0IGVsZW1lbnRzIGZvciB0aGUgbmV4dCBmbHVzaFxuICAgICAgICB0aGlzLl9idWZmZXJTaXplID0gMDtcbiAgICAgICAgdGhpcy5fdmVydGV4Q291bnQgPSAwO1xuICAgICAgICB0aGlzLl9pbmRleENvdW50ID0gMDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3RhcnRzIGEgbmV3IHNwcml0ZSBiYXRjaC5cbiAgICAgKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gc3RhcnQgKClcbiAgICB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc3RhdGUuc2V0KHRoaXMuc3RhdGUpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2hhZGVyLmJpbmQodGhpcy5fc2hhZGVyKTtcblxuICAgICAgICBpZiAoc2V0dGluZ3MuQ0FOX1VQTE9BRF9TQU1FX0JVRkZFUilcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gYmluZCBidWZmZXIgIzAsIHdlIGRvbid0IG5lZWQgb3RoZXJzXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmdlb21ldHJ5LmJpbmQodGhpcy5fcGFja2VkR2VvbWV0cmllc1t0aGlzLl9mbHVzaElkXSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3RvcHMgYW5kIGZsdXNoZXMgdGhlIGN1cnJlbnQgYmF0Y2guXG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gc3RvcCAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIGBBYnN0cmFjdEJhdGNoUmVuZGVyZXJgLiBJdCBjYW5ub3QgYmUgdXNlZCBhZ2Fpbi5cbiAgICAgKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95ICgpXG4gICAge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX3BhY2tlZEdlb21ldHJ5UG9vbFNpemU7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3BhY2tlZEdlb21ldHJpZXNbaV0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGFja2VkR2VvbWV0cmllc1tpXS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlbmRlcmVyLm9mZigncHJlcmVuZGVyJywgdGhpcy5vblByZXJlbmRlciwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy5fYUJ1ZmZlcnMgPSBudWxsO1xuICAgICAgICB0aGlzLl9pQnVmZmVycyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3BhY2tlZEdlb21ldHJpZXMgPSBudWxsO1xuICAgICAgICB0aGlzLl9kcmF3Q2FsbHMgPSBudWxsO1xuXG4gICAgICAgIGlmICh0aGlzLl9zaGFkZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3NoYWRlci5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLl9zaGFkZXIgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgT2JqZWN0UmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmV0Y2hlcyBhbiBhdHRyaWJ1dGUgYnVmZmVyIGZyb20gYHRoaXMuX2FCdWZmZXJzYCB0aGF0XG4gICAgICogY2FuIGhvbGQgYXRsZWFzdCBgc2l6ZWAgZmxvYXRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBtaW5pbXVtIGNhcGFjaXR5IHJlcXVpcmVkXG4gICAgICogQHJldHVybiB7Vmlld2FibGVCdWZmZXJ9IC0gYnVmZmVyIHRoYW4gY2FuIGhvbGQgYXRsZWFzdCBgc2l6ZWAgZmxvYXRzXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLmdldEF0dHJpYnV0ZUJ1ZmZlciA9IGZ1bmN0aW9uIGdldEF0dHJpYnV0ZUJ1ZmZlciAoc2l6ZSlcbiAgICB7XG4gICAgICAgIC8vIDggdmVydGljZXMgaXMgZW5vdWdoIGZvciAyIHF1YWRzXG4gICAgICAgIHZhciByb3VuZGVkUDIgPSBuZXh0UG93MihNYXRoLmNlaWwoc2l6ZSAvIDgpKTtcbiAgICAgICAgdmFyIHJvdW5kZWRTaXplSW5kZXggPSBsb2cyKHJvdW5kZWRQMik7XG4gICAgICAgIHZhciByb3VuZGVkU2l6ZSA9IHJvdW5kZWRQMiAqIDg7XG5cbiAgICAgICAgaWYgKHRoaXMuX2FCdWZmZXJzLmxlbmd0aCA8PSByb3VuZGVkU2l6ZUluZGV4KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9pQnVmZmVycy5sZW5ndGggPSByb3VuZGVkU2l6ZUluZGV4ICsgMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBidWZmZXIgPSB0aGlzLl9hQnVmZmVyc1tyb3VuZGVkU2l6ZV07XG5cbiAgICAgICAgaWYgKCFidWZmZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2FCdWZmZXJzW3JvdW5kZWRTaXplXSA9IGJ1ZmZlciA9IG5ldyBWaWV3YWJsZUJ1ZmZlcihyb3VuZGVkU2l6ZSAqIHRoaXMudmVydGV4U2l6ZSAqIDQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmV0Y2hlcyBhbiBpbmRleCBidWZmZXIgZnJvbSBgdGhpcy5faUJ1ZmZlcnNgIHRoYXQgY2FuXG4gICAgICogaGFzIGF0bGVhc3QgYHNpemVgIGNhcGFjaXR5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBtaW5pbXVtIHJlcXVpcmVkIGNhcGFjaXR5XG4gICAgICogQHJldHVybiB7VWludDE2QXJyYXl9IC0gYnVmZmVyIHRoYXQgY2FuIGZpdCBgc2l6ZWBcbiAgICAgKiAgICBpbmRpY2VzLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5nZXRJbmRleEJ1ZmZlciA9IGZ1bmN0aW9uIGdldEluZGV4QnVmZmVyIChzaXplKVxuICAgIHtcbiAgICAgICAgLy8gMTIgaW5kaWNlcyBpcyBlbm91Z2ggZm9yIDIgcXVhZHNcbiAgICAgICAgdmFyIHJvdW5kZWRQMiA9IG5leHRQb3cyKE1hdGguY2VpbChzaXplIC8gMTIpKTtcbiAgICAgICAgdmFyIHJvdW5kZWRTaXplSW5kZXggPSBsb2cyKHJvdW5kZWRQMik7XG4gICAgICAgIHZhciByb3VuZGVkU2l6ZSA9IHJvdW5kZWRQMiAqIDEyO1xuXG4gICAgICAgIGlmICh0aGlzLl9pQnVmZmVycy5sZW5ndGggPD0gcm91bmRlZFNpemVJbmRleClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5faUJ1ZmZlcnMubGVuZ3RoID0gcm91bmRlZFNpemVJbmRleCArIDE7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYnVmZmVyID0gdGhpcy5faUJ1ZmZlcnNbcm91bmRlZFNpemVJbmRleF07XG5cbiAgICAgICAgaWYgKCFidWZmZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2lCdWZmZXJzW3JvdW5kZWRTaXplSW5kZXhdID0gYnVmZmVyID0gbmV3IFVpbnQxNkFycmF5KHJvdW5kZWRTaXplKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBidWZmZXI7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRha2VzIHRoZSBmb3VyIGJhdGNoaW5nIHBhcmFtZXRlcnMgb2YgYGVsZW1lbnRgLCBpbnRlcmxlYXZlc1xuICAgICAqIGFuZCBwdXNoZXMgdGhlbSBpbnRvIHRoZSBiYXRjaGluZyBhdHRyaWJ1dGUvaW5kZXggYnVmZmVycyBnaXZlbi5cbiAgICAgKlxuICAgICAqIEl0IHVzZXMgdGhlc2UgcHJvcGVydGllczogYHZlcnRleERhdGFgIGB1dnNgLCBgdGV4dHVyZUlkYCBhbmRcbiAgICAgKiBgaW5kaWNpZXNgLiBJdCBhbHNvIHVzZXMgdGhlIFwidGludFwiIG9mIHRoZSBiYXNlLXRleHR1cmUsIGlmXG4gICAgICogcHJlc2VudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5TcHJpdGV9IGVsZW1lbnQgLSBlbGVtZW50IGJlaW5nIHJlbmRlcmVkXG4gICAgICogQHBhcmFtIHtQSVhJLlZpZXdhYmxlQnVmZmVyfSBhdHRyaWJ1dGVCdWZmZXIgLSBhdHRyaWJ1dGUgYnVmZmVyLlxuICAgICAqIEBwYXJhbSB7VWludDE2QXJyYXl9IGluZGV4QnVmZmVyIC0gaW5kZXggYnVmZmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFJbmRleCAtIG51bWJlciBvZiBmbG9hdHMgYWxyZWFkeSBpbiB0aGUgYXR0cmlidXRlIGJ1ZmZlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpSW5kZXggLSBudW1iZXIgb2YgaW5kaWNlcyBhbHJlYWR5IGluIGBpbmRleEJ1ZmZlcmBcbiAgICAgKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLnBhY2tJbnRlcmxlYXZlZEdlb21ldHJ5ID0gZnVuY3Rpb24gcGFja0ludGVybGVhdmVkR2VvbWV0cnkgKGVsZW1lbnQsIGF0dHJpYnV0ZUJ1ZmZlciwgaW5kZXhCdWZmZXIsIGFJbmRleCwgaUluZGV4KVxuICAgIHtcbiAgICAgICAgdmFyIHVpbnQzMlZpZXcgPSBhdHRyaWJ1dGVCdWZmZXIudWludDMyVmlldztcbiAgICAgICAgdmFyIGZsb2F0MzJWaWV3ID0gYXR0cmlidXRlQnVmZmVyLmZsb2F0MzJWaWV3O1xuXG4gICAgICAgIHZhciBwYWNrZWRWZXJ0aWNlcyA9IGFJbmRleCAvIHRoaXMudmVydGV4U2l6ZTtcbiAgICAgICAgdmFyIHV2cyA9IGVsZW1lbnQudXZzO1xuICAgICAgICB2YXIgaW5kaWNpZXMgPSBlbGVtZW50LmluZGljZXM7XG4gICAgICAgIHZhciB2ZXJ0ZXhEYXRhID0gZWxlbWVudC52ZXJ0ZXhEYXRhO1xuICAgICAgICB2YXIgdGV4dHVyZUlkID0gZWxlbWVudC5fdGV4dHVyZS5iYXNlVGV4dHVyZS5faWQ7XG5cbiAgICAgICAgdmFyIGFscGhhID0gTWF0aC5taW4oZWxlbWVudC53b3JsZEFscGhhLCAxLjApO1xuICAgICAgICB2YXIgYXJnYiA9IChhbHBoYSA8IDEuMFxuICAgICAgICAgICYmIGVsZW1lbnQuX3RleHR1cmUuYmFzZVRleHR1cmUucHJlbXVsdGlwbHlBbHBoYSlcbiAgICAgICAgICAgID8gcHJlbXVsdGlwbHlUaW50KGVsZW1lbnQuX3RpbnRSR0IsIGFscGhhKVxuICAgICAgICAgICAgOiBlbGVtZW50Ll90aW50UkdCICsgKGFscGhhICogMjU1IDw8IDI0KTtcblxuICAgICAgICAvLyBsZXRzIG5vdCB3b3JyeSBhYm91dCB0aW50ISBmb3Igbm93Li5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZXJ0ZXhEYXRhLmxlbmd0aDsgaSArPSAyKVxuICAgICAgICB7XG4gICAgICAgICAgICBmbG9hdDMyVmlld1thSW5kZXgrK10gPSB2ZXJ0ZXhEYXRhW2ldO1xuICAgICAgICAgICAgZmxvYXQzMlZpZXdbYUluZGV4KytdID0gdmVydGV4RGF0YVtpICsgMV07XG4gICAgICAgICAgICBmbG9hdDMyVmlld1thSW5kZXgrK10gPSB1dnNbaV07XG4gICAgICAgICAgICBmbG9hdDMyVmlld1thSW5kZXgrK10gPSB1dnNbaSArIDFdO1xuICAgICAgICAgICAgdWludDMyVmlld1thSW5kZXgrK10gPSBhcmdiO1xuICAgICAgICAgICAgZmxvYXQzMlZpZXdbYUluZGV4KytdID0gdGV4dHVyZUlkO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgaW5kaWNpZXMubGVuZ3RoOyBpJDErKylcbiAgICAgICAge1xuICAgICAgICAgICAgaW5kZXhCdWZmZXJbaUluZGV4KytdID0gcGFja2VkVmVydGljZXMgKyBpbmRpY2llc1tpJDFdO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBBYnN0cmFjdEJhdGNoUmVuZGVyZXI7XG59KE9iamVjdFJlbmRlcmVyKSk7XG5cbi8qKlxuICogSGVscGVyIHRoYXQgZ2VuZXJhdGVzIGJhdGNoaW5nIG11bHRpLXRleHR1cmUgc2hhZGVyLiBVc2UgaXQgd2l0aCB5b3VyIG5ldyBCYXRjaFJlbmRlcmVyXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQmF0Y2hTaGFkZXJHZW5lcmF0b3IgPSBmdW5jdGlvbiBCYXRjaFNoYWRlckdlbmVyYXRvcih2ZXJ0ZXhTcmMsIGZyYWdUZW1wbGF0ZSlcbntcbiAgICAvKipcbiAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIHZlcnRleCBzaGFkZXIgc291cmNlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMudmVydGV4U3JjID0gdmVydGV4U3JjO1xuXG4gICAgLyoqXG4gICAgICogUmVmZXJlbmNlIHRvIHRoZSBmcmFnZW1lbnQgc2hhZGVyIHRlbXBsYXRlLiBNdXN0IGNvbnRhaW4gXCIlY291bnQlXCIgYW5kIFwiJWZvcmxvb3AlXCIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5mcmFnVGVtcGxhdGUgPSBmcmFnVGVtcGxhdGU7XG5cbiAgICB0aGlzLnByb2dyYW1DYWNoZSA9IHt9O1xuICAgIHRoaXMuZGVmYXVsdEdyb3VwQ2FjaGUgPSB7fTtcblxuICAgIGlmIChmcmFnVGVtcGxhdGUuaW5kZXhPZignJWNvdW50JScpIDwgMClcbiAgICB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRnJhZ21lbnQgdGVtcGxhdGUgbXVzdCBjb250YWluIFwiJWNvdW50JVwiLicpO1xuICAgIH1cblxuICAgIGlmIChmcmFnVGVtcGxhdGUuaW5kZXhPZignJWZvcmxvb3AlJykgPCAwKVxuICAgIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGcmFnbWVudCB0ZW1wbGF0ZSBtdXN0IGNvbnRhaW4gXCIlZm9ybG9vcCVcIi4nKTtcbiAgICB9XG59O1xuXG5CYXRjaFNoYWRlckdlbmVyYXRvci5wcm90b3R5cGUuZ2VuZXJhdGVTaGFkZXIgPSBmdW5jdGlvbiBnZW5lcmF0ZVNoYWRlciAobWF4VGV4dHVyZXMpXG57XG4gICAgaWYgKCF0aGlzLnByb2dyYW1DYWNoZVttYXhUZXh0dXJlc10pXG4gICAge1xuICAgICAgICB2YXIgc2FtcGxlVmFsdWVzID0gbmV3IEludDMyQXJyYXkobWF4VGV4dHVyZXMpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4VGV4dHVyZXM7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgc2FtcGxlVmFsdWVzW2ldID0gaTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGVmYXVsdEdyb3VwQ2FjaGVbbWF4VGV4dHVyZXNdID0gVW5pZm9ybUdyb3VwLmZyb20oeyB1U2FtcGxlcnM6IHNhbXBsZVZhbHVlcyB9LCB0cnVlKTtcblxuICAgICAgICB2YXIgZnJhZ21lbnRTcmMgPSB0aGlzLmZyYWdUZW1wbGF0ZTtcblxuICAgICAgICBmcmFnbWVudFNyYyA9IGZyYWdtZW50U3JjLnJlcGxhY2UoLyVjb3VudCUvZ2ksIChcIlwiICsgbWF4VGV4dHVyZXMpKTtcbiAgICAgICAgZnJhZ21lbnRTcmMgPSBmcmFnbWVudFNyYy5yZXBsYWNlKC8lZm9ybG9vcCUvZ2ksIHRoaXMuZ2VuZXJhdGVTYW1wbGVTcmMobWF4VGV4dHVyZXMpKTtcblxuICAgICAgICB0aGlzLnByb2dyYW1DYWNoZVttYXhUZXh0dXJlc10gPSBuZXcgUHJvZ3JhbSh0aGlzLnZlcnRleFNyYywgZnJhZ21lbnRTcmMpO1xuICAgIH1cblxuICAgIHZhciB1bmlmb3JtcyA9IHtcbiAgICAgICAgdGludDogbmV3IEZsb2F0MzJBcnJheShbMSwgMSwgMSwgMV0pLFxuICAgICAgICB0cmFuc2xhdGlvbk1hdHJpeDogbmV3IE1hdHJpeCgpLFxuICAgICAgICBkZWZhdWx0OiB0aGlzLmRlZmF1bHRHcm91cENhY2hlW21heFRleHR1cmVzXSxcbiAgICB9O1xuXG4gICAgcmV0dXJuIG5ldyBTaGFkZXIodGhpcy5wcm9ncmFtQ2FjaGVbbWF4VGV4dHVyZXNdLCB1bmlmb3Jtcyk7XG59O1xuXG5CYXRjaFNoYWRlckdlbmVyYXRvci5wcm90b3R5cGUuZ2VuZXJhdGVTYW1wbGVTcmMgPSBmdW5jdGlvbiBnZW5lcmF0ZVNhbXBsZVNyYyAobWF4VGV4dHVyZXMpXG57XG4gICAgdmFyIHNyYyA9ICcnO1xuXG4gICAgc3JjICs9ICdcXG4nO1xuICAgIHNyYyArPSAnXFxuJztcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4VGV4dHVyZXM7IGkrKylcbiAgICB7XG4gICAgICAgIGlmIChpID4gMClcbiAgICAgICAge1xuICAgICAgICAgICAgc3JjICs9ICdcXG5lbHNlICc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaSA8IG1heFRleHR1cmVzIC0gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgc3JjICs9IFwiaWYodlRleHR1cmVJZCA8IFwiICsgaSArIFwiLjUpXCI7XG4gICAgICAgIH1cblxuICAgICAgICBzcmMgKz0gJ1xcbnsnO1xuICAgICAgICBzcmMgKz0gXCJcXG5cXHRjb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlcnNbXCIgKyBpICsgXCJdLCB2VGV4dHVyZUNvb3JkKTtcIjtcbiAgICAgICAgc3JjICs9ICdcXG59JztcbiAgICB9XG5cbiAgICBzcmMgKz0gJ1xcbic7XG4gICAgc3JjICs9ICdcXG4nO1xuXG4gICAgcmV0dXJuIHNyYztcbn07XG5cbi8qKlxuICogR2VvbWV0cnkgdXNlZCB0byBiYXRjaCBzdGFuZGFyZCBQSVhJIGNvbnRlbnQgKGUuZy4gTWVzaCwgU3ByaXRlLCBHcmFwaGljcyBvYmplY3RzKS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCYXRjaEdlb21ldHJ5ID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoR2VvbWV0cnkpIHtcbiAgICBmdW5jdGlvbiBCYXRjaEdlb21ldHJ5KF9zdGF0aWMpXG4gICAge1xuICAgICAgICBpZiAoIF9zdGF0aWMgPT09IHZvaWQgMCApIF9zdGF0aWMgPSBmYWxzZTtcblxuICAgICAgICBHZW9tZXRyeS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCdWZmZXIgdXNlZCBmb3IgcG9zaXRpb24sIGNvbG9yLCB0ZXh0dXJlIElEc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJ1ZmZlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYnVmZmVyID0gbmV3IEJ1ZmZlcihudWxsLCBfc3RhdGljLCBmYWxzZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGV4IGJ1ZmZlciBkYXRhXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQnVmZmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9pbmRleEJ1ZmZlciA9IG5ldyBCdWZmZXIobnVsbCwgX3N0YXRpYywgdHJ1ZSk7XG5cbiAgICAgICAgdGhpcy5hZGRBdHRyaWJ1dGUoJ2FWZXJ0ZXhQb3NpdGlvbicsIHRoaXMuX2J1ZmZlciwgMiwgZmFsc2UsIFRZUEVTLkZMT0FUKVxuICAgICAgICAgICAgLmFkZEF0dHJpYnV0ZSgnYVRleHR1cmVDb29yZCcsIHRoaXMuX2J1ZmZlciwgMiwgZmFsc2UsIFRZUEVTLkZMT0FUKVxuICAgICAgICAgICAgLmFkZEF0dHJpYnV0ZSgnYUNvbG9yJywgdGhpcy5fYnVmZmVyLCA0LCB0cnVlLCBUWVBFUy5VTlNJR05FRF9CWVRFKVxuICAgICAgICAgICAgLmFkZEF0dHJpYnV0ZSgnYVRleHR1cmVJZCcsIHRoaXMuX2J1ZmZlciwgMSwgdHJ1ZSwgVFlQRVMuRkxPQVQpXG4gICAgICAgICAgICAuYWRkSW5kZXgodGhpcy5faW5kZXhCdWZmZXIpO1xuICAgIH1cblxuICAgIGlmICggR2VvbWV0cnkgKSBCYXRjaEdlb21ldHJ5Ll9fcHJvdG9fXyA9IEdlb21ldHJ5O1xuICAgIEJhdGNoR2VvbWV0cnkucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggR2VvbWV0cnkgJiYgR2VvbWV0cnkucHJvdG90eXBlICk7XG4gICAgQmF0Y2hHZW9tZXRyeS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBCYXRjaEdlb21ldHJ5O1xuXG4gICAgcmV0dXJuIEJhdGNoR2VvbWV0cnk7XG59KEdlb21ldHJ5KSk7XG5cbnZhciBkZWZhdWx0VmVydGV4JDIgPSBcInByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG5hdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5hdHRyaWJ1dGUgdmVjNCBhQ29sb3I7XFxuYXR0cmlidXRlIGZsb2F0IGFUZXh0dXJlSWQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIHRyYW5zbGF0aW9uTWF0cml4O1xcbnVuaWZvcm0gdmVjNCB0aW50O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxudmFyeWluZyBmbG9hdCB2VGV4dHVyZUlkO1xcblxcbnZvaWQgbWFpbih2b2lkKXtcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdHJhbnNsYXRpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG5cXG4gICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxuICAgIHZUZXh0dXJlSWQgPSBhVGV4dHVyZUlkO1xcbiAgICB2Q29sb3IgPSBhQ29sb3IgKiB0aW50O1xcbn1cXG5cIjtcblxudmFyIGRlZmF1bHRGcmFnbWVudCQyID0gXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xcbnZhcnlpbmcgZmxvYXQgdlRleHR1cmVJZDtcXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcnNbJWNvdW50JV07XFxuXFxudm9pZCBtYWluKHZvaWQpe1xcbiAgICB2ZWM0IGNvbG9yO1xcbiAgICAlZm9ybG9vcCVcXG4gICAgZ2xfRnJhZ0NvbG9yID0gY29sb3IgKiB2Q29sb3I7XFxufVxcblwiO1xuXG4vKipcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBoaWRlY29uc3RydWN0b3JcbiAqL1xudmFyIEJhdGNoUGx1Z2luRmFjdG9yeSA9IGZ1bmN0aW9uIEJhdGNoUGx1Z2luRmFjdG9yeSAoKSB7fTtcblxudmFyIHN0YXRpY0FjY2Vzc29ycyQxID0geyBkZWZhdWx0VmVydGV4U3JjOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGRlZmF1bHRGcmFnbWVudFRlbXBsYXRlOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbkJhdGNoUGx1Z2luRmFjdG9yeS5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUgKG9wdGlvbnMpXG57XG4gICAgdmFyIHJlZiA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICB2ZXJ0ZXg6IGRlZmF1bHRWZXJ0ZXgkMixcbiAgICAgICAgZnJhZ21lbnQ6IGRlZmF1bHRGcmFnbWVudCQyLFxuICAgICAgICBnZW9tZXRyeUNsYXNzOiBCYXRjaEdlb21ldHJ5LFxuICAgICAgICB2ZXJ0ZXhTaXplOiA2LFxuICAgIH0sIG9wdGlvbnMpO1xuICAgICAgICB2YXIgdmVydGV4ID0gcmVmLnZlcnRleDtcbiAgICAgICAgdmFyIGZyYWdtZW50ID0gcmVmLmZyYWdtZW50O1xuICAgICAgICB2YXIgdmVydGV4U2l6ZSA9IHJlZi52ZXJ0ZXhTaXplO1xuICAgICAgICB2YXIgZ2VvbWV0cnlDbGFzcyA9IHJlZi5nZW9tZXRyeUNsYXNzO1xuXG4gICAgcmV0dXJuIC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEFic3RyYWN0QmF0Y2hSZW5kZXJlcikge1xuICAgICAgICAgICAgZnVuY3Rpb24gQmF0Y2hQbHVnaW4ocmVuZGVyZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcblxuICAgICAgICAgICAgdGhpcy5zaGFkZXJHZW5lcmF0b3IgPSBuZXcgQmF0Y2hTaGFkZXJHZW5lcmF0b3IodmVydGV4LCBmcmFnbWVudCk7XG4gICAgICAgICAgICB0aGlzLmdlb21ldHJ5Q2xhc3MgPSBnZW9tZXRyeUNsYXNzO1xuICAgICAgICAgICAgdGhpcy52ZXJ0ZXhTaXplID0gdmVydGV4U2l6ZTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIEFic3RyYWN0QmF0Y2hSZW5kZXJlciApIEJhdGNoUGx1Z2luLl9fcHJvdG9fXyA9IEFic3RyYWN0QmF0Y2hSZW5kZXJlcjtcbiAgICAgICAgICAgIEJhdGNoUGx1Z2luLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEFic3RyYWN0QmF0Y2hSZW5kZXJlciAmJiBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlICk7XG4gICAgICAgICAgICBCYXRjaFBsdWdpbi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBCYXRjaFBsdWdpbjtcblxuICAgICAgICAgICAgcmV0dXJuIEJhdGNoUGx1Z2luO1xuICAgICAgICB9KEFic3RyYWN0QmF0Y2hSZW5kZXJlcikpO1xufTtcblxuLyoqXG4gKiBUaGUgZGVmYXVsdCB2ZXJ0ZXggc2hhZGVyIHNvdXJjZVxuICpcbiAqIEBzdGF0aWNcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKiBAY29uc3RhbnRcbiAqL1xuc3RhdGljQWNjZXNzb3JzJDEuZGVmYXVsdFZlcnRleFNyYy5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiBkZWZhdWx0VmVydGV4JDI7XG59O1xuXG4vKipcbiAqIFRoZSBkZWZhdWx0IGZyYWdtZW50IHNoYWRlciBzb3VyY2VcbiAqXG4gKiBAc3RhdGljXG4gKiBAdHlwZSB7c3RyaW5nfVxuICogQGNvbnN0YW50XG4gKi9cbnN0YXRpY0FjY2Vzc29ycyQxLmRlZmF1bHRGcmFnbWVudFRlbXBsYXRlLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIGRlZmF1bHRGcmFnbWVudCQyO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIEJhdGNoUGx1Z2luRmFjdG9yeSwgc3RhdGljQWNjZXNzb3JzJDEgKTtcblxuLy8gU2V0dXAgdGhlIGRlZmF1bHQgQmF0Y2hSZW5kZXJlciBwbHVnaW4sIHRoaXMgaXMgd2hhdFxuLy8gd2UnbGwgYWN0dWFsbHkgZXhwb3J0IGF0IHRoZSByb290IGxldmVsXG52YXIgQmF0Y2hSZW5kZXJlciA9IEJhdGNoUGx1Z2luRmFjdG9yeS5jcmVhdGUoKTtcblxuZXhwb3J0IHsgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLCBBYnN0cmFjdFJlbmRlcmVyLCBBdHRyaWJ1dGUsIEJhc2VSZW5kZXJUZXh0dXJlLCBCYXNlVGV4dHVyZSwgQmF0Y2hEcmF3Q2FsbCwgQmF0Y2hHZW9tZXRyeSwgQmF0Y2hQbHVnaW5GYWN0b3J5LCBCYXRjaFJlbmRlcmVyLCBCYXRjaFNoYWRlckdlbmVyYXRvciwgQnVmZmVyLCBDdWJlVGV4dHVyZSwgRmlsdGVyLCBGcmFtZWJ1ZmZlciwgR0xQcm9ncmFtLCBCYXNlVGV4dHVyZSBhcyBHTFRleHR1cmUsIEdlb21ldHJ5LCBPYmplY3RSZW5kZXJlciwgUHJvZ3JhbSwgUXVhZCwgUXVhZFV2LCBSZW5kZXJUZXh0dXJlLCBSZW5kZXJUZXh0dXJlUG9vbCwgUmVuZGVyZXIsIFNoYWRlciwgU3ByaXRlTWFza0ZpbHRlciwgU3RhdGUsIFN5c3RlbSwgVGV4dHVyZSwgVGV4dHVyZU1hdHJpeCwgVGV4dHVyZVV2cywgVW5pZm9ybUdyb3VwLCBWaWV3YWJsZUJ1ZmZlciwgYXV0b0RldGVjdFJlbmRlcmVyLCBjaGVja01heElmU3RhdGVtZW50c0luU2hhZGVyLCBkZWZhdWx0RmlsdGVyIGFzIGRlZmF1bHRGaWx0ZXJWZXJ0ZXgsIF9kZWZhdWx0IGFzIGRlZmF1bHRWZXJ0ZXgsIGluZGV4IGFzIHJlc291cmNlcywgc3lzdGVtcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29yZS5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvZXh0cmFjdCAtIHY1LjEuNFxuICogQ29tcGlsZWQgRnJpLCAyMCBTZXAgMjAxOSAxNzoxNzo1OSBVVENcbiAqXG4gKiBAcGl4aS9leHRyYWN0IGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgUmVuZGVyVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgQ2FudmFzUmVuZGVyVGFyZ2V0IH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5cbnZhciBURU1QX1JFQ1QgPSBuZXcgUmVjdGFuZ2xlKCk7XG52YXIgQllURVNfUEVSX1BJWEVMID0gNDtcblxuLyoqXG4gKiBUaGUgZXh0cmFjdCBtYW5hZ2VyIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgdG8gZXhwb3J0IGNvbnRlbnQgZnJvbSB0aGUgcmVuZGVyZXJzLlxuICpcbiAqIEFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBjcmVhdGVkIGJ5IGRlZmF1bHQsIGFuZCBjYW4gYmUgZm91bmQgYXQgYHJlbmRlcmVyLnBsdWdpbnMuZXh0cmFjdGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmV4dHJhY3RcbiAqL1xudmFyIEV4dHJhY3QgPSBmdW5jdGlvbiBFeHRyYWN0KHJlbmRlcmVyKVxue1xuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICAvKipcbiAgICAgKiBDb2xsZWN0aW9uIG9mIG1ldGhvZHMgZm9yIGV4dHJhY3RpbmcgZGF0YSAoaW1hZ2UsIHBpeGVscywgZXRjLikgZnJvbSBhIGRpc3BsYXkgb2JqZWN0IG9yIHJlbmRlciB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLmV4dHJhY3QuRXh0cmFjdH0gZXh0cmFjdFxuICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAqIEBzZWUgUElYSS5leHRyYWN0LkV4dHJhY3RcbiAgICAgKi9cbiAgICByZW5kZXJlci5leHRyYWN0ID0gdGhpcztcbn07XG5cbi8qKlxuICogV2lsbCByZXR1cm4gYSBIVE1MIEltYWdlIG9mIHRoZSB0YXJnZXRcbiAqXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLlJlbmRlclRleHR1cmV9IHRhcmdldCAtIEEgZGlzcGxheU9iamVjdCBvciByZW5kZXJUZXh0dXJlXG4gKiAgdG8gY29udmVydC4gSWYgbGVmdCBlbXB0eSB3aWxsIHVzZSB0aGUgbWFpbiByZW5kZXJlclxuICogQHBhcmFtIHtzdHJpbmd9IFtmb3JtYXRdIC0gSW1hZ2UgZm9ybWF0LCBlLmcuIFwiaW1hZ2UvanBlZ1wiIG9yIFwiaW1hZ2Uvd2VicFwiLlxuICogQHBhcmFtIHtudW1iZXJ9IFtxdWFsaXR5XSAtIEpQRUcgb3IgV2VicCBjb21wcmVzc2lvbiBmcm9tIDAgdG8gMS4gRGVmYXVsdCBpcyAwLjkyLlxuICogQHJldHVybiB7SFRNTEltYWdlRWxlbWVudH0gSFRNTCBJbWFnZSBvZiB0aGUgdGFyZ2V0XG4gKi9cbkV4dHJhY3QucHJvdG90eXBlLmltYWdlID0gZnVuY3Rpb24gaW1hZ2UgKHRhcmdldCwgZm9ybWF0LCBxdWFsaXR5KVxue1xuICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuXG4gICAgaW1hZ2Uuc3JjID0gdGhpcy5iYXNlNjQodGFyZ2V0LCBmb3JtYXQsIHF1YWxpdHkpO1xuXG4gICAgcmV0dXJuIGltYWdlO1xufTtcblxuLyoqXG4gKiBXaWxsIHJldHVybiBhIGEgYmFzZTY0IGVuY29kZWQgc3RyaW5nIG9mIHRoaXMgdGFyZ2V0LiBJdCB3b3JrcyBieSBjYWxsaW5nXG4gKiAgYEV4dHJhY3QuZ2V0Q2FudmFzYCBhbmQgdGhlbiBydW5uaW5nIHRvRGF0YVVSTCBvbiB0aGF0LlxuICpcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuUmVuZGVyVGV4dHVyZX0gdGFyZ2V0IC0gQSBkaXNwbGF5T2JqZWN0IG9yIHJlbmRlclRleHR1cmVcbiAqICB0byBjb252ZXJ0LiBJZiBsZWZ0IGVtcHR5IHdpbGwgdXNlIHRoZSBtYWluIHJlbmRlcmVyXG4gKiBAcGFyYW0ge3N0cmluZ30gW2Zvcm1hdF0gLSBJbWFnZSBmb3JtYXQsIGUuZy4gXCJpbWFnZS9qcGVnXCIgb3IgXCJpbWFnZS93ZWJwXCIuXG4gKiBAcGFyYW0ge251bWJlcn0gW3F1YWxpdHldIC0gSlBFRyBvciBXZWJwIGNvbXByZXNzaW9uIGZyb20gMCB0byAxLiBEZWZhdWx0IGlzIDAuOTIuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IEEgYmFzZTY0IGVuY29kZWQgc3RyaW5nIG9mIHRoZSB0ZXh0dXJlLlxuICovXG5FeHRyYWN0LnByb3RvdHlwZS5iYXNlNjQgPSBmdW5jdGlvbiBiYXNlNjQgKHRhcmdldCwgZm9ybWF0LCBxdWFsaXR5KVxue1xuICAgIHJldHVybiB0aGlzLmNhbnZhcyh0YXJnZXQpLnRvRGF0YVVSTChmb3JtYXQsIHF1YWxpdHkpO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgQ2FudmFzIGVsZW1lbnQsIHJlbmRlcnMgdGhpcyB0YXJnZXQgdG8gaXQgYW5kIHRoZW4gcmV0dXJucyBpdC5cbiAqXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLlJlbmRlclRleHR1cmV9IHRhcmdldCAtIEEgZGlzcGxheU9iamVjdCBvciByZW5kZXJUZXh0dXJlXG4gKiAgdG8gY29udmVydC4gSWYgbGVmdCBlbXB0eSB3aWxsIHVzZSB0aGUgbWFpbiByZW5kZXJlclxuICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR9IEEgQ2FudmFzIGVsZW1lbnQgd2l0aCB0aGUgdGV4dHVyZSByZW5kZXJlZCBvbi5cbiAqL1xuRXh0cmFjdC5wcm90b3R5cGUuY2FudmFzID0gZnVuY3Rpb24gY2FudmFzICh0YXJnZXQpXG57XG4gICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICB2YXIgcmVzb2x1dGlvbjtcbiAgICB2YXIgZnJhbWU7XG4gICAgdmFyIGZsaXBZID0gZmFsc2U7XG4gICAgdmFyIHJlbmRlclRleHR1cmU7XG4gICAgdmFyIGdlbmVyYXRlZCA9IGZhbHNlO1xuXG4gICAgaWYgKHRhcmdldClcbiAgICB7XG4gICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBSZW5kZXJUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZW5kZXJUZXh0dXJlID0gdGFyZ2V0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRoaXMucmVuZGVyZXIuZ2VuZXJhdGVUZXh0dXJlKHRhcmdldCk7XG4gICAgICAgICAgICBnZW5lcmF0ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHJlbmRlclRleHR1cmUpXG4gICAge1xuICAgICAgICByZXNvbHV0aW9uID0gcmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZS5yZXNvbHV0aW9uO1xuICAgICAgICBmcmFtZSA9IHJlbmRlclRleHR1cmUuZnJhbWU7XG4gICAgICAgIGZsaXBZID0gZmFsc2U7XG4gICAgICAgIHJlbmRlcmVyLnJlbmRlclRleHR1cmUuYmluZChyZW5kZXJUZXh0dXJlKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgcmVzb2x1dGlvbiA9IHRoaXMucmVuZGVyZXIucmVzb2x1dGlvbjtcblxuICAgICAgICBmbGlwWSA9IHRydWU7XG5cbiAgICAgICAgZnJhbWUgPSBURU1QX1JFQ1Q7XG4gICAgICAgIGZyYW1lLndpZHRoID0gdGhpcy5yZW5kZXJlci53aWR0aDtcbiAgICAgICAgZnJhbWUuaGVpZ2h0ID0gdGhpcy5yZW5kZXJlci5oZWlnaHQ7XG5cbiAgICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKG51bGwpO1xuICAgIH1cblxuICAgIHZhciB3aWR0aCA9IE1hdGguZmxvb3IoZnJhbWUud2lkdGggKiByZXNvbHV0aW9uKTtcbiAgICB2YXIgaGVpZ2h0ID0gTWF0aC5mbG9vcihmcmFtZS5oZWlnaHQgKiByZXNvbHV0aW9uKTtcblxuICAgIHZhciBjYW52YXNCdWZmZXIgPSBuZXcgQ2FudmFzUmVuZGVyVGFyZ2V0KHdpZHRoLCBoZWlnaHQsIDEpO1xuXG4gICAgdmFyIHdlYmdsUGl4ZWxzID0gbmV3IFVpbnQ4QXJyYXkoQllURVNfUEVSX1BJWEVMICogd2lkdGggKiBoZWlnaHQpO1xuXG4gICAgLy8gcmVhZCBwaXhlbHMgdG8gdGhlIGFycmF5XG4gICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XG5cbiAgICBnbC5yZWFkUGl4ZWxzKFxuICAgICAgICBmcmFtZS54ICogcmVzb2x1dGlvbixcbiAgICAgICAgZnJhbWUueSAqIHJlc29sdXRpb24sXG4gICAgICAgIHdpZHRoLFxuICAgICAgICBoZWlnaHQsXG4gICAgICAgIGdsLlJHQkEsXG4gICAgICAgIGdsLlVOU0lHTkVEX0JZVEUsXG4gICAgICAgIHdlYmdsUGl4ZWxzXG4gICAgKTtcblxuICAgIC8vIGFkZCB0aGUgcGl4ZWxzIHRvIHRoZSBjYW52YXNcbiAgICB2YXIgY2FudmFzRGF0YSA9IGNhbnZhc0J1ZmZlci5jb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcblxuICAgIEV4dHJhY3QuYXJyYXlQb3N0RGl2aWRlKHdlYmdsUGl4ZWxzLCBjYW52YXNEYXRhLmRhdGEpO1xuXG4gICAgY2FudmFzQnVmZmVyLmNvbnRleHQucHV0SW1hZ2VEYXRhKGNhbnZhc0RhdGEsIDAsIDApO1xuXG4gICAgLy8gcHVsbGluZyBwaXhlbHNcbiAgICBpZiAoZmxpcFkpXG4gICAge1xuICAgICAgICBjYW52YXNCdWZmZXIuY29udGV4dC5zY2FsZSgxLCAtMSk7XG4gICAgICAgIGNhbnZhc0J1ZmZlci5jb250ZXh0LmRyYXdJbWFnZShjYW52YXNCdWZmZXIuY2FudmFzLCAwLCAtaGVpZ2h0KTtcbiAgICB9XG5cbiAgICBpZiAoZ2VuZXJhdGVkKVxuICAgIHtcbiAgICAgICAgcmVuZGVyVGV4dHVyZS5kZXN0cm95KHRydWUpO1xuICAgIH1cblxuICAgIC8vIHNlbmQgdGhlIGNhbnZhcyBiYWNrLi5cbiAgICByZXR1cm4gY2FudmFzQnVmZmVyLmNhbnZhcztcbn07XG5cbi8qKlxuICogV2lsbCByZXR1cm4gYSBvbmUtZGltZW5zaW9uYWwgYXJyYXkgY29udGFpbmluZyB0aGUgcGl4ZWwgZGF0YSBvZiB0aGUgZW50aXJlIHRleHR1cmUgaW4gUkdCQVxuICogb3JkZXIsIHdpdGggaW50ZWdlciB2YWx1ZXMgYmV0d2VlbiAwIGFuZCAyNTUgKGluY2x1ZGVkKS5cbiAqXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLlJlbmRlclRleHR1cmV9IHRhcmdldCAtIEEgZGlzcGxheU9iamVjdCBvciByZW5kZXJUZXh0dXJlXG4gKiAgdG8gY29udmVydC4gSWYgbGVmdCBlbXB0eSB3aWxsIHVzZSB0aGUgbWFpbiByZW5kZXJlclxuICogQHJldHVybiB7VWludDhBcnJheX0gT25lLWRpbWVuc2lvbmFsIGFycmF5IGNvbnRhaW5pbmcgdGhlIHBpeGVsIGRhdGEgb2YgdGhlIGVudGlyZSB0ZXh0dXJlXG4gKi9cbkV4dHJhY3QucHJvdG90eXBlLnBpeGVscyA9IGZ1bmN0aW9uIHBpeGVscyAodGFyZ2V0KVxue1xuICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgdmFyIHJlc29sdXRpb247XG4gICAgdmFyIGZyYW1lO1xuICAgIHZhciByZW5kZXJUZXh0dXJlO1xuICAgIHZhciBnZW5lcmF0ZWQgPSBmYWxzZTtcblxuICAgIGlmICh0YXJnZXQpXG4gICAge1xuICAgICAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgUmVuZGVyVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRhcmdldDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSB0aGlzLnJlbmRlcmVyLmdlbmVyYXRlVGV4dHVyZSh0YXJnZXQpO1xuICAgICAgICAgICAgZ2VuZXJhdGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChyZW5kZXJUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgcmVzb2x1dGlvbiA9IHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUucmVzb2x1dGlvbjtcbiAgICAgICAgZnJhbWUgPSByZW5kZXJUZXh0dXJlLmZyYW1lO1xuXG4gICAgICAgIC8vIGJpbmQgdGhlIGJ1ZmZlclxuICAgICAgICByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmJpbmQocmVuZGVyVGV4dHVyZSk7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIHJlc29sdXRpb24gPSByZW5kZXJlci5yZXNvbHV0aW9uO1xuXG4gICAgICAgIGZyYW1lID0gVEVNUF9SRUNUO1xuICAgICAgICBmcmFtZS53aWR0aCA9IHJlbmRlcmVyLndpZHRoO1xuICAgICAgICBmcmFtZS5oZWlnaHQgPSByZW5kZXJlci5oZWlnaHQ7XG5cbiAgICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKG51bGwpO1xuICAgIH1cblxuICAgIHZhciB3aWR0aCA9IGZyYW1lLndpZHRoICogcmVzb2x1dGlvbjtcbiAgICB2YXIgaGVpZ2h0ID0gZnJhbWUuaGVpZ2h0ICogcmVzb2x1dGlvbjtcblxuICAgIHZhciB3ZWJnbFBpeGVscyA9IG5ldyBVaW50OEFycmF5KEJZVEVTX1BFUl9QSVhFTCAqIHdpZHRoICogaGVpZ2h0KTtcblxuICAgIC8vIHJlYWQgcGl4ZWxzIHRvIHRoZSBhcnJheVxuICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuXG4gICAgZ2wucmVhZFBpeGVscyhcbiAgICAgICAgZnJhbWUueCAqIHJlc29sdXRpb24sXG4gICAgICAgIGZyYW1lLnkgKiByZXNvbHV0aW9uLFxuICAgICAgICB3aWR0aCxcbiAgICAgICAgaGVpZ2h0LFxuICAgICAgICBnbC5SR0JBLFxuICAgICAgICBnbC5VTlNJR05FRF9CWVRFLFxuICAgICAgICB3ZWJnbFBpeGVsc1xuICAgICk7XG5cbiAgICBpZiAoZ2VuZXJhdGVkKVxuICAgIHtcbiAgICAgICAgcmVuZGVyVGV4dHVyZS5kZXN0cm95KHRydWUpO1xuICAgIH1cblxuICAgIEV4dHJhY3QuYXJyYXlQb3N0RGl2aWRlKHdlYmdsUGl4ZWxzLCB3ZWJnbFBpeGVscyk7XG5cbiAgICByZXR1cm4gd2ViZ2xQaXhlbHM7XG59O1xuXG4vKipcbiAqIERlc3Ryb3lzIHRoZSBleHRyYWN0XG4gKlxuICovXG5FeHRyYWN0LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxue1xuICAgIHRoaXMucmVuZGVyZXIuZXh0cmFjdCA9IG51bGw7XG4gICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG59O1xuXG4vKipcbiAqIFRha2VzIHByZW11bHRpcGxpZWQgcGl4ZWwgZGF0YSBhbmQgcHJvZHVjZXMgcmVndWxhciBwaXhlbCBkYXRhXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSBwaXhlbHMge251bWJlcltdIHwgVWludDhBcnJheSB8IFVpbnQ4Q2xhbXBlZEFycmF5fSBhcnJheSBvZiBwaXhlbCBkYXRhXG4gKiBAcGFyYW0gb3V0IHtudW1iZXJbXSB8IFVpbnQ4QXJyYXkgfCBVaW50OENsYW1wZWRBcnJheX0gb3V0cHV0IGFycmF5XG4gKi9cbkV4dHJhY3QuYXJyYXlQb3N0RGl2aWRlID0gZnVuY3Rpb24gYXJyYXlQb3N0RGl2aWRlIChwaXhlbHMsIG91dClcbntcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBpeGVscy5sZW5ndGg7IGkgKz0gNClcbiAgICB7XG4gICAgICAgIHZhciBhbHBoYSA9IG91dFtpICsgM10gPSBwaXhlbHNbaSArIDNdO1xuXG4gICAgICAgIGlmIChhbHBoYSAhPT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgb3V0W2ldID0gTWF0aC5yb3VuZChNYXRoLm1pbihwaXhlbHNbaV0gKiAyNTUuMCAvIGFscGhhLCAyNTUuMCkpO1xuICAgICAgICAgICAgb3V0W2kgKyAxXSA9IE1hdGgucm91bmQoTWF0aC5taW4ocGl4ZWxzW2kgKyAxXSAqIDI1NS4wIC8gYWxwaGEsIDI1NS4wKSk7XG4gICAgICAgICAgICBvdXRbaSArIDJdID0gTWF0aC5yb3VuZChNYXRoLm1pbihwaXhlbHNbaSArIDJdICogMjU1LjAgLyBhbHBoYSwgMjU1LjApKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIG91dFtpXSA9IHBpeGVsc1tpXTtcbiAgICAgICAgICAgIG91dFtpICsgMV0gPSBwaXhlbHNbaSArIDFdO1xuICAgICAgICAgICAgb3V0W2kgKyAyXSA9IHBpeGVsc1tpICsgMl07XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG4vKipcbiAqIFRoaXMgbmFtZXNwYWNlIHByb3ZpZGVzIHJlbmRlcmVyLXNwZWNpZmljIHBsdWdpbnMgZm9yIGV4cG9ydGluZyBjb250ZW50IGZyb20gYSByZW5kZXJlci5cbiAqIEZvciBpbnN0YW5jZSwgdGhlc2UgcGx1Z2lucyBjYW4gYmUgdXNlZCBmb3Igc2F2aW5nIGFuIEltYWdlLCBDYW52YXMgZWxlbWVudCBvciBmb3IgZXhwb3J0aW5nIHRoZSByYXcgaW1hZ2UgZGF0YSAocGl4ZWxzKS5cbiAqXG4gKiBEbyBub3QgaW5zdGFudGlhdGUgdGhlc2UgcGx1Z2lucyBkaXJlY3RseS4gSXQgaXMgYXZhaWxhYmxlIGZyb20gdGhlIGByZW5kZXJlci5wbHVnaW5zYCBwcm9wZXJ0eS5cbiAqIFNlZSB7QGxpbmsgUElYSS5DYW52YXNSZW5kZXJlciNwbHVnaW5zfSBvciB7QGxpbmsgUElYSS5SZW5kZXJlciNwbHVnaW5zfS5cbiAqIEBleGFtcGxlXG4gKiAvLyBDcmVhdGUgYSBuZXcgYXBwICh3aWxsIGF1dG8tYWRkIGV4dHJhY3QgcGx1Z2luIHRvIHJlbmRlcmVyKVxuICogY29uc3QgYXBwID0gbmV3IFBJWEkuQXBwbGljYXRpb24oKTtcbiAqXG4gKiAvLyBEcmF3IGEgcmVkIGNpcmNsZVxuICogY29uc3QgZ3JhcGhpY3MgPSBuZXcgUElYSS5HcmFwaGljcygpXG4gKiAgICAgLmJlZ2luRmlsbCgweEZGMDAwMClcbiAqICAgICAuZHJhd0NpcmNsZSgwLCAwLCA1MCk7XG4gKlxuICogLy8gUmVuZGVyIHRoZSBncmFwaGljcyBhcyBhbiBIVE1MSW1hZ2VFbGVtZW50XG4gKiBjb25zdCBpbWFnZSA9IGFwcC5yZW5kZXJlci5wbHVnaW5zLmV4dHJhY3QuaW1hZ2UoZ3JhcGhpY3MpO1xuICogZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpbWFnZSk7XG4gKiBAbmFtZXNwYWNlIFBJWEkuZXh0cmFjdFxuICovXG5cbmV4cG9ydCB7IEV4dHJhY3QgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV4dHJhY3QuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2ludGVyYWN0aW9uIC0gdjUuMS40XG4gKiBDb21waWxlZCBGcmksIDIwIFNlcCAyMDE5IDE3OjE3OjU5IFVUQ1xuICpcbiAqIEBwaXhpL2ludGVyYWN0aW9uIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgUG9pbnQgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IFRpY2tlciwgVVBEQVRFX1BSSU9SSVRZIH0gZnJvbSAnQHBpeGkvdGlja2VyJztcbmltcG9ydCB7IERpc3BsYXlPYmplY3QgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IEV2ZW50RW1pdHRlciB9IGZyb20gJ0BwaXhpL3V0aWxzJztcblxuLyoqXG4gKiBIb2xkcyBhbGwgaW5mb3JtYXRpb24gcmVsYXRlZCB0byBhbiBJbnRlcmFjdGlvbiBldmVudFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuaW50ZXJhY3Rpb25cbiAqL1xudmFyIEludGVyYWN0aW9uRGF0YSA9IGZ1bmN0aW9uIEludGVyYWN0aW9uRGF0YSgpXG57XG4gICAgLyoqXG4gICAgICogVGhpcyBwb2ludCBzdG9yZXMgdGhlIGdsb2JhbCBjb29yZHMgb2Ygd2hlcmUgdGhlIHRvdWNoL21vdXNlIGV2ZW50IGhhcHBlbmVkXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50fVxuICAgICAqL1xuICAgIHRoaXMuZ2xvYmFsID0gbmV3IFBvaW50KCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGFyZ2V0IFNwcml0ZSB0aGF0IHdhcyBpbnRlcmFjdGVkIHdpdGhcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuU3ByaXRlfVxuICAgICAqL1xuICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFdoZW4gcGFzc2VkIHRvIGFuIGV2ZW50IGhhbmRsZXIsIHRoaXMgd2lsbCBiZSB0aGUgb3JpZ2luYWwgRE9NIEV2ZW50IHRoYXQgd2FzIGNhcHR1cmVkXG4gICAgICpcbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Nb3VzZUV2ZW50XG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvVG91Y2hFdmVudFxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudFxuICAgICAqIEBtZW1iZXIge01vdXNlRXZlbnR8VG91Y2hFdmVudHxQb2ludGVyRXZlbnR9XG4gICAgICovXG4gICAgdGhpcy5vcmlnaW5hbEV2ZW50ID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGlzIGludGVyYWN0aW9uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5pZGVudGlmaWVyID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGV0aGVyIG9yIG5vdCB0aGUgcG9pbnRlciBkZXZpY2UgdGhhdCBjcmVhdGVkIHRoZSBldmVudCBpcyB0aGUgcHJpbWFyeSBwb2ludGVyLlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC9pc1ByaW1hcnlcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmlzUHJpbWFyeSA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoaWNoIGJ1dHRvbiB3YXMgcHJlc3NlZCBvbiB0aGUgbW91c2Ugb3IgcG9pbnRlciBkZXZpY2UgdG8gdHJpZ2dlciB0aGUgZXZlbnQuXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTW91c2VFdmVudC9idXR0b25cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuYnV0dG9uID0gMDtcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGljaCBidXR0b25zIGFyZSBwcmVzc2VkIG9uIHRoZSBtb3VzZSBvciBwb2ludGVyIGRldmljZSB3aGVuIHRoZSBldmVudCBpcyB0cmlnZ2VyZWQuXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTW91c2VFdmVudC9idXR0b25zXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmJ1dHRvbnMgPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBwb2ludGVyJ3MgY29udGFjdCBhbG9uZyB0aGUgeC1heGlzLCBtZWFzdXJlZCBpbiBDU1MgcGl4ZWxzLlxuICAgICAqIHJhZGl1c1ggb2YgVG91Y2hFdmVudHMgd2lsbCBiZSByZXByZXNlbnRlZCBieSB0aGlzIHZhbHVlLlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC93aWR0aFxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy53aWR0aCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBwb2ludGVyJ3MgY29udGFjdCBhbG9uZyB0aGUgeS1heGlzLCBtZWFzdXJlZCBpbiBDU1MgcGl4ZWxzLlxuICAgICAqIHJhZGl1c1kgb2YgVG91Y2hFdmVudHMgd2lsbCBiZSByZXByZXNlbnRlZCBieSB0aGlzIHZhbHVlLlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC9oZWlnaHRcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuaGVpZ2h0ID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhbmdsZSwgaW4gZGVncmVlcywgYmV0d2VlbiB0aGUgcG9pbnRlciBkZXZpY2UgYW5kIHRoZSBzY3JlZW4uXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L3RpbHRYXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRpbHRYID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhbmdsZSwgaW4gZGVncmVlcywgYmV0d2VlbiB0aGUgcG9pbnRlciBkZXZpY2UgYW5kIHRoZSBzY3JlZW4uXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L3RpbHRZXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRpbHRZID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHBvaW50ZXIgdGhhdCB0cmlnZ2VyZWQgdGhlIGV2ZW50LlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC9wb2ludGVyVHlwZVxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5wb2ludGVyVHlwZSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBQcmVzc3VyZSBhcHBsaWVkIGJ5IHRoZSBwb2ludGluZyBkZXZpY2UgZHVyaW5nIHRoZSBldmVudC4gQSBUb3VjaCdzIGZvcmNlIHByb3BlcnR5XG4gICAgICogd2lsbCBiZSByZXByZXNlbnRlZCBieSB0aGlzIHZhbHVlLlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC9wcmVzc3VyZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5wcmVzc3VyZSA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBGcm9tIFRvdWNoRXZlbnRzIChub3QgUG9pbnRlckV2ZW50cyB0cmlnZ2VyZWQgYnkgdG91Y2hlcyksIHRoZSByb3RhdGlvbkFuZ2xlIG9mIHRoZSBUb3VjaC5cbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Ub3VjaC9yb3RhdGlvbkFuZ2xlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnJvdGF0aW9uQW5nbGUgPSAwO1xuXG4gICAgLyoqXG4gICAgICogVHdpc3Qgb2YgYSBzdHlsdXMgcG9pbnRlci5cbiAgICAgKiBAc2VlIGh0dHBzOi8vdzNjLmdpdGh1Yi5pby9wb2ludGVyZXZlbnRzLyNwb2ludGVyZXZlbnQtaW50ZXJmYWNlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnR3aXN0ID0gMDtcblxuICAgIC8qKlxuICAgICAqIEJhcnJlbCBwcmVzc3VyZSBvbiBhIHN0eWx1cyBwb2ludGVyLlxuICAgICAqIEBzZWUgaHR0cHM6Ly93M2MuZ2l0aHViLmlvL3BvaW50ZXJldmVudHMvI3BvaW50ZXJldmVudC1pbnRlcmZhY2VcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudGFuZ2VudGlhbFByZXNzdXJlID0gMDtcbn07XG5cbnZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IHBvaW50ZXJJZDogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4vKipcbiAqIFRoZSB1bmlxdWUgaWRlbnRpZmllciBvZiB0aGUgcG9pbnRlci4gSXQgd2lsbCBiZSB0aGUgc2FtZSBhcyBgaWRlbnRpZmllcmAuXG4gKiBAcmVhZG9ubHlcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC9wb2ludGVySWRcbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLnBvaW50ZXJJZC5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLmlkZW50aWZpZXI7XG59O1xuXG4vKipcbiAqIFRoaXMgd2lsbCByZXR1cm4gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBzcGVjaWZpZWQgZGlzcGxheU9iamVjdCBmb3IgdGhpcyBJbnRlcmFjdGlvbkRhdGFcbiAqXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gZGlzcGxheU9iamVjdCAtIFRoZSBEaXNwbGF5T2JqZWN0IHRoYXQgeW91IHdvdWxkIGxpa2UgdGhlIGxvY2FsXG4gKiAgY29vcmRzIG9mZlxuICogQHBhcmFtIHtQSVhJLlBvaW50fSBbcG9pbnRdIC0gQSBQb2ludCBvYmplY3QgaW4gd2hpY2ggdG8gc3RvcmUgdGhlIHZhbHVlLCBvcHRpb25hbCAob3RoZXJ3aXNlXG4gKiAgd2lsbCBjcmVhdGUgYSBuZXcgcG9pbnQpXG4gKiBAcGFyYW0ge1BJWEkuUG9pbnR9IFtnbG9iYWxQb3NdIC0gQSBQb2ludCBvYmplY3QgY29udGFpbmluZyB5b3VyIGN1c3RvbSBnbG9iYWwgY29vcmRzLCBvcHRpb25hbFxuICogIChvdGhlcndpc2Ugd2lsbCB1c2UgdGhlIGN1cnJlbnQgZ2xvYmFsIGNvb3JkcylcbiAqIEByZXR1cm4ge1BJWEkuUG9pbnR9IEEgcG9pbnQgY29udGFpbmluZyB0aGUgY29vcmRpbmF0ZXMgb2YgdGhlIEludGVyYWN0aW9uRGF0YSBwb3NpdGlvbiByZWxhdGl2ZVxuICogIHRvIHRoZSBEaXNwbGF5T2JqZWN0XG4gKi9cbkludGVyYWN0aW9uRGF0YS5wcm90b3R5cGUuZ2V0TG9jYWxQb3NpdGlvbiA9IGZ1bmN0aW9uIGdldExvY2FsUG9zaXRpb24gKGRpc3BsYXlPYmplY3QsIHBvaW50LCBnbG9iYWxQb3MpXG57XG4gICAgcmV0dXJuIGRpc3BsYXlPYmplY3Qud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKGdsb2JhbFBvcyB8fCB0aGlzLmdsb2JhbCwgcG9pbnQpO1xufTtcblxuLyoqXG4gKiBDb3BpZXMgcHJvcGVydGllcyBmcm9tIG5vcm1hbGl6ZWQgZXZlbnQgZGF0YS5cbiAqXG4gKiBAcGFyYW0ge1RvdWNofE1vdXNlRXZlbnR8UG9pbnRlckV2ZW50fSBldmVudCBUaGUgbm9ybWFsaXplZCBldmVudCBkYXRhXG4gKi9cbkludGVyYWN0aW9uRGF0YS5wcm90b3R5cGUuY29weUV2ZW50ID0gZnVuY3Rpb24gY29weUV2ZW50IChldmVudClcbntcbiAgICAvLyBpc1ByaW1hcnkgc2hvdWxkIG9ubHkgY2hhbmdlIG9uIHRvdWNoc3RhcnQvcG9pbnRlcmRvd24sIHNvIHdlIGRvbid0IHdhbnQgdG8gb3ZlcndyaXRlXG4gICAgLy8gaXQgd2l0aCBcImZhbHNlXCIgb24gbGF0ZXIgZXZlbnRzIHdoZW4gb3VyIHNoaW0gZm9yIGl0IG9uIHRvdWNoIGV2ZW50cyBtaWdodCBub3QgYmVcbiAgICAvLyBhY2N1cmF0ZVxuICAgIGlmIChldmVudC5pc1ByaW1hcnkpXG4gICAge1xuICAgICAgICB0aGlzLmlzUHJpbWFyeSA9IHRydWU7XG4gICAgfVxuICAgIHRoaXMuYnV0dG9uID0gZXZlbnQuYnV0dG9uO1xuICAgIC8vIGV2ZW50LmJ1dHRvbnMgaXMgbm90IGF2YWlsYWJsZSBpbiBhbGwgYnJvd3NlcnMgKGllLiBTYWZhcmkpLCBidXQgaXQgZG9lcyBoYXZlIGEgbm9uLXN0YW5kYXJkXG4gICAgLy8gZXZlbnQud2hpY2ggcHJvcGVydHkgaW5zdGVhZCwgd2hpY2ggY29udmV5cyB0aGUgc2FtZSBpbmZvcm1hdGlvbi5cbiAgICB0aGlzLmJ1dHRvbnMgPSBOdW1iZXIuaXNJbnRlZ2VyKGV2ZW50LmJ1dHRvbnMpID8gZXZlbnQuYnV0dG9ucyA6IGV2ZW50LndoaWNoO1xuICAgIHRoaXMud2lkdGggPSBldmVudC53aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IGV2ZW50LmhlaWdodDtcbiAgICB0aGlzLnRpbHRYID0gZXZlbnQudGlsdFg7XG4gICAgdGhpcy50aWx0WSA9IGV2ZW50LnRpbHRZO1xuICAgIHRoaXMucG9pbnRlclR5cGUgPSBldmVudC5wb2ludGVyVHlwZTtcbiAgICB0aGlzLnByZXNzdXJlID0gZXZlbnQucHJlc3N1cmU7XG4gICAgdGhpcy5yb3RhdGlvbkFuZ2xlID0gZXZlbnQucm90YXRpb25BbmdsZTtcbiAgICB0aGlzLnR3aXN0ID0gZXZlbnQudHdpc3QgfHwgMDtcbiAgICB0aGlzLnRhbmdlbnRpYWxQcmVzc3VyZSA9IGV2ZW50LnRhbmdlbnRpYWxQcmVzc3VyZSB8fCAwO1xufTtcblxuLyoqXG4gKiBSZXNldHMgdGhlIGRhdGEgZm9yIHBvb2xpbmcuXG4gKi9cbkludGVyYWN0aW9uRGF0YS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiByZXNldCAoKVxue1xuICAgIC8vIGlzUHJpbWFyeSBpcyB0aGUgb25seSBwcm9wZXJ0eSB0aGF0IHdlIHJlYWxseSBuZWVkIHRvIHJlc2V0IC0gZXZlcnl0aGluZyBlbHNlIGlzXG4gICAgLy8gZ3VhcmFudGVlZCB0byBiZSBvdmVyd3JpdHRlblxuICAgIHRoaXMuaXNQcmltYXJ5ID0gZmFsc2U7XG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyggSW50ZXJhY3Rpb25EYXRhLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbi8qKlxuICogRXZlbnQgY2xhc3MgdGhhdCBtaW1pY3MgbmF0aXZlIERPTSBldmVudHMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5pbnRlcmFjdGlvblxuICovXG52YXIgSW50ZXJhY3Rpb25FdmVudCA9IGZ1bmN0aW9uIEludGVyYWN0aW9uRXZlbnQoKVxue1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhpcyBldmVudCB3aWxsIGNvbnRpbnVlIHByb3BhZ2F0aW5nIGluIHRoZSB0cmVlLlxuICAgICAqXG4gICAgICogUmVtYWluaW5nIGV2ZW50cyBmb3IgdGhlIHtAbGluayBzdG9wc1Byb3BhZ2F0aW5nQXR9IG9iamVjdFxuICAgICAqIHdpbGwgc3RpbGwgYmUgZGlzcGF0Y2hlZC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5zdG9wcGVkID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBBdCB3aGljaCBvYmplY3QgdGhpcyBldmVudCBzdG9wcyBwcm9wYWdhdGluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMuc3RvcHNQcm9wYWdhdGluZ0F0ID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgd2UgYWxyZWFkeSByZWFjaGVkIHRoZSBlbGVtZW50IHdlIHdhbnQgdG9cbiAgICAgKiBzdG9wIHByb3BhZ2F0aW5nIGF0LiBUaGlzIGlzIGltcG9ydGFudCBmb3IgZGVsYXllZCBldmVudHMsXG4gICAgICogd2hlcmUgd2Ugc3RhcnQgb3ZlciBkZWVwZXIgaW4gdGhlIHRyZWUgYWdhaW4uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5zdG9wUHJvcGFnYXRpb25IaW50ID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb2JqZWN0IHdoaWNoIGNhdXNlZCB0aGlzIGV2ZW50IHRvIGJlIGRpc3BhdGNoZWQuXG4gICAgICogRm9yIGxpc3RlbmVyIGNhbGxiYWNrIHNlZSB7QGxpbmsgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50LmN1cnJlbnRUYXJnZXR9LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBvYmplY3Qgd2hvc2UgZXZlbnQgbGlzdGVuZXLigJlzIGNhbGxiYWNrIGlzIGN1cnJlbnRseSBiZWluZyBpbnZva2VkLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMuY3VycmVudFRhcmdldCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUeXBlIG9mIHRoZSBldmVudFxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMudHlwZSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBJbnRlcmFjdGlvbkRhdGEgcmVsYXRlZCB0byB0aGlzIGV2ZW50XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRGF0YX1cbiAgICAgKi9cbiAgICB0aGlzLmRhdGEgPSBudWxsO1xufTtcblxuLyoqXG4gKiBQcmV2ZW50cyBldmVudCBmcm9tIHJlYWNoaW5nIGFueSBvYmplY3RzIG90aGVyIHRoYW4gdGhlIGN1cnJlbnQgb2JqZWN0LlxuICpcbiAqL1xuSW50ZXJhY3Rpb25FdmVudC5wcm90b3R5cGUuc3RvcFByb3BhZ2F0aW9uID0gZnVuY3Rpb24gc3RvcFByb3BhZ2F0aW9uICgpXG57XG4gICAgdGhpcy5zdG9wcGVkID0gdHJ1ZTtcbiAgICB0aGlzLnN0b3BQcm9wYWdhdGlvbkhpbnQgPSB0cnVlO1xuICAgIHRoaXMuc3RvcHNQcm9wYWdhdGluZ0F0ID0gdGhpcy5jdXJyZW50VGFyZ2V0O1xufTtcblxuLyoqXG4gKiBSZXNldHMgdGhlIGV2ZW50LlxuICovXG5JbnRlcmFjdGlvbkV2ZW50LnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0ICgpXG57XG4gICAgdGhpcy5zdG9wcGVkID0gZmFsc2U7XG4gICAgdGhpcy5zdG9wc1Byb3BhZ2F0aW5nQXQgPSBudWxsO1xuICAgIHRoaXMuc3RvcFByb3BhZ2F0aW9uSGludCA9IGZhbHNlO1xuICAgIHRoaXMuY3VycmVudFRhcmdldCA9IG51bGw7XG4gICAgdGhpcy50YXJnZXQgPSBudWxsO1xufTtcblxuLyoqXG4gKiBEaXNwbGF5T2JqZWN0cyB3aXRoIHRoZSB7QGxpbmsgUElYSS5pbnRlcmFjdGlvbi5pbnRlcmFjdGl2ZVRhcmdldH0gbWl4aW4gdXNlIHRoaXMgY2xhc3MgdG8gdHJhY2sgaW50ZXJhY3Rpb25zXG4gKlxuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIFBJWEkuaW50ZXJhY3Rpb25cbiAqL1xudmFyIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhID0gZnVuY3Rpb24gSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEocG9pbnRlcklkKVxue1xuICAgIHRoaXMuX3BvaW50ZXJJZCA9IHBvaW50ZXJJZDtcbiAgICB0aGlzLl9mbGFncyA9IEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLkZMQUdTLk5PTkU7XG59O1xuXG52YXIgcHJvdG90eXBlQWNjZXNzb3JzJDEgPSB7IHBvaW50ZXJJZDogeyBjb25maWd1cmFibGU6IHRydWUgfSxmbGFnczogeyBjb25maWd1cmFibGU6IHRydWUgfSxub25lOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LG92ZXI6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0scmlnaHREb3duOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGxlZnREb3duOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbi8qKlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gZmxhZyAtIFRoZSBpbnRlcmFjdGlvbiBmbGFnIHRvIHNldFxuICogQHBhcmFtIHtib29sZWFufSB5biAtIFNob3VsZCB0aGUgZmxhZyBiZSBzZXQgb3IgdW5zZXRcbiAqL1xuSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEucHJvdG90eXBlLl9kb1NldCA9IGZ1bmN0aW9uIF9kb1NldCAoZmxhZywgeW4pXG57XG4gICAgaWYgKHluKVxuICAgIHtcbiAgICAgICAgdGhpcy5fZmxhZ3MgPSB0aGlzLl9mbGFncyB8IGZsYWc7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIHRoaXMuX2ZsYWdzID0gdGhpcy5fZmxhZ3MgJiAofmZsYWcpO1xuICAgIH1cbn07XG5cbi8qKlxuICogVW5pcXVlIHBvaW50ZXIgaWQgb2YgdGhlIGV2ZW50XG4gKlxuICogQHJlYWRvbmx5XG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlciB7bnVtYmVyfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMkMS5wb2ludGVySWQuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fcG9pbnRlcklkO1xufTtcblxuLyoqXG4gKiBTdGF0ZSBvZiB0aGUgdHJhY2tpbmcgZGF0YSwgZXhwcmVzc2VkIGFzIGJpdCBmbGFnc1xuICpcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycyQxLmZsYWdzLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX2ZsYWdzO1xufTtcblxucHJvdG90eXBlQWNjZXNzb3JzJDEuZmxhZ3Muc2V0ID0gZnVuY3Rpb24gKGZsYWdzKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICB0aGlzLl9mbGFncyA9IGZsYWdzO1xufTtcblxuLyoqXG4gKiBJcyB0aGUgdHJhY2tlZCBldmVudCBpbmFjdGl2ZSAobm90IG92ZXIgb3IgZG93bik/XG4gKlxuICogQHByaXZhdGVcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzJDEubm9uZS5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9mbGFncyA9PT0gdGhpcy5jb25zdHJ1Y3Rvci5GTEFHUy5OT05FO1xufTtcblxuLyoqXG4gKiBJcyB0aGUgdHJhY2tlZCBldmVudCBvdmVyIHRoZSBEaXNwbGF5T2JqZWN0P1xuICpcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyIHtib29sZWFufVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMkMS5vdmVyLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuICh0aGlzLl9mbGFncyAmIHRoaXMuY29uc3RydWN0b3IuRkxBR1MuT1ZFUikgIT09IDA7XG59O1xuXG5wcm90b3R5cGVBY2Nlc3NvcnMkMS5vdmVyLnNldCA9IGZ1bmN0aW9uICh5bikgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgdGhpcy5fZG9TZXQodGhpcy5jb25zdHJ1Y3Rvci5GTEFHUy5PVkVSLCB5bik7XG59O1xuXG4vKipcbiAqIERpZCB0aGUgcmlnaHQgbW91c2UgYnV0dG9uIGNvbWUgZG93biBpbiB0aGUgRGlzcGxheU9iamVjdD9cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlciB7Ym9vbGVhbn1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzJDEucmlnaHREb3duLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuICh0aGlzLl9mbGFncyAmIHRoaXMuY29uc3RydWN0b3IuRkxBR1MuUklHSFRfRE9XTikgIT09IDA7XG59O1xuXG5wcm90b3R5cGVBY2Nlc3NvcnMkMS5yaWdodERvd24uc2V0ID0gZnVuY3Rpb24gKHluKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICB0aGlzLl9kb1NldCh0aGlzLmNvbnN0cnVjdG9yLkZMQUdTLlJJR0hUX0RPV04sIHluKTtcbn07XG5cbi8qKlxuICogRGlkIHRoZSBsZWZ0IG1vdXNlIGJ1dHRvbiBjb21lIGRvd24gaW4gdGhlIERpc3BsYXlPYmplY3Q/XG4gKlxuICogQHByaXZhdGVcbiAqIEBtZW1iZXIge2Jvb2xlYW59XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycyQxLmxlZnREb3duLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuICh0aGlzLl9mbGFncyAmIHRoaXMuY29uc3RydWN0b3IuRkxBR1MuTEVGVF9ET1dOKSAhPT0gMDtcbn07XG5cbnByb3RvdHlwZUFjY2Vzc29ycyQxLmxlZnREb3duLnNldCA9IGZ1bmN0aW9uICh5bikgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgdGhpcy5fZG9TZXQodGhpcy5jb25zdHJ1Y3Rvci5GTEFHUy5MRUZUX0RPV04sIHluKTtcbn07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyQxICk7XG5cbkludGVyYWN0aW9uVHJhY2tpbmdEYXRhLkZMQUdTID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgTk9ORTogMCxcbiAgICBPVkVSOiAxIDw8IDAsXG4gICAgTEVGVF9ET1dOOiAxIDw8IDEsXG4gICAgUklHSFRfRE9XTjogMSA8PCAyLFxufSk7XG5cbi8qKlxuICogSW50ZXJmYWNlIGZvciBjbGFzc2VzIHRoYXQgcmVwcmVzZW50IGEgaGl0IGFyZWEuXG4gKlxuICogSXQgaXMgaW1wbGVtZW50ZWQgYnkgdGhlIGZvbGxvd2luZyBjbGFzc2VzOlxuICogLSB7QGxpbmsgUElYSS5DaXJjbGV9XG4gKiAtIHtAbGluayBQSVhJLkVsbGlwc2V9XG4gKiAtIHtAbGluayBQSVhJLlBvbHlnb259XG4gKiAtIHtAbGluayBQSVhJLlJvdW5kZWRSZWN0YW5nbGV9XG4gKlxuICogQGludGVyZmFjZSBJSGl0QXJlYVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuXG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIHRoZSB4IGFuZCB5IGNvb3JkaW5hdGVzIGdpdmVuIGFyZSBjb250YWluZWQgd2l0aGluIHRoaXMgYXJlYVxuICpcbiAqIEBtZXRob2RcbiAqIEBuYW1lIGNvbnRhaW5zXG4gKiBAbWVtYmVyb2YgUElYSS5JSGl0QXJlYSNcbiAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSB4L3kgY29vcmRpbmF0ZXMgYXJlIHdpdGhpbiB0aGlzIGFyZWFcbiAqL1xuXG4vKipcbiAqIERlZmF1bHQgcHJvcGVydHkgdmFsdWVzIG9mIGludGVyYWN0aXZlIG9iamVjdHNcbiAqIFVzZWQgYnkge0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyfSB0byBhdXRvbWF0aWNhbGx5IGdpdmUgYWxsIERpc3BsYXlPYmplY3RzIHRoZXNlIHByb3BlcnRpZXNcbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaW50ZXJhY3RpdmVUYXJnZXRcbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAbWVtYmVyb2YgUElYSS5pbnRlcmFjdGlvblxuICogQGV4YW1wbGVcbiAqICAgICAgZnVuY3Rpb24gTXlPYmplY3QoKSB7fVxuICpcbiAqICAgICAgT2JqZWN0LmFzc2lnbihcbiAqICAgICAgICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLFxuICogICAgICAgICAgUElYSS5pbnRlcmFjdGlvbi5pbnRlcmFjdGl2ZVRhcmdldFxuICogICAgICApO1xuICovXG52YXIgaW50ZXJhY3RpdmVUYXJnZXQgPSB7XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGUgaW50ZXJhY3Rpb24gZXZlbnRzIGZvciB0aGUgRGlzcGxheU9iamVjdC4gVG91Y2gsIHBvaW50ZXIgYW5kIG1vdXNlXG4gICAgICogZXZlbnRzIHdpbGwgbm90IGJlIGVtaXR0ZWQgdW5sZXNzIGBpbnRlcmFjdGl2ZWAgaXMgc2V0IHRvIGB0cnVlYC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgICAqIHNwcml0ZS5pbnRlcmFjdGl2ZSA9IHRydWU7XG4gICAgICogc3ByaXRlLm9uKCd0YXAnLCAoZXZlbnQpID0+IHtcbiAgICAgKiAgICAvL2hhbmRsZSBldmVudFxuICAgICAqIH0pO1xuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKi9cbiAgICBpbnRlcmFjdGl2ZTogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIHRoZSBjaGlsZHJlbiB0byB0aGUgZGlzcGxheU9iamVjdCBjYW4gYmUgY2xpY2tlZC90b3VjaGVkXG4gICAgICogU2V0dGluZyB0aGlzIHRvIGZhbHNlIGFsbG93cyBQaXhpSlMgdG8gYnlwYXNzIGEgcmVjdXJzaXZlIGBoaXRUZXN0YCBmdW5jdGlvblxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5Db250YWluZXIjXG4gICAgICovXG4gICAgaW50ZXJhY3RpdmVDaGlsZHJlbjogdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIEludGVyYWN0aW9uIHNoYXBlLiBDaGlsZHJlbiB3aWxsIGJlIGhpdCBmaXJzdCwgdGhlbiB0aGlzIHNoYXBlIHdpbGwgYmUgY2hlY2tlZC5cbiAgICAgKiBTZXR0aW5nIHRoaXMgd2lsbCBjYXVzZSB0aGlzIHNoYXBlIHRvIGJlIGNoZWNrZWQgaW4gaGl0IHRlc3RzIHJhdGhlciB0aGFuIHRoZSBkaXNwbGF5T2JqZWN0J3MgYm91bmRzLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gICAgICogc3ByaXRlLmludGVyYWN0aXZlID0gdHJ1ZTtcbiAgICAgKiBzcHJpdGUuaGl0QXJlYSA9IG5ldyBQSVhJLlJlY3RhbmdsZSgwLCAwLCAxMDAsIDEwMCk7XG4gICAgICogQG1lbWJlciB7UElYSS5JSGl0QXJlYX1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqL1xuICAgIGhpdEFyZWE6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBJZiBlbmFibGVkLCB0aGUgbW91c2UgY3Vyc29yIHVzZSB0aGUgcG9pbnRlciBiZWhhdmlvciB3aGVuIGhvdmVyZWQgb3ZlciB0aGUgZGlzcGxheU9iamVjdCBpZiBpdCBpcyBpbnRlcmFjdGl2ZVxuICAgICAqIFNldHRpbmcgdGhpcyBjaGFuZ2VzIHRoZSAnY3Vyc29yJyBwcm9wZXJ0eSB0byBgJ3BvaW50ZXInYC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgICAqIHNwcml0ZS5pbnRlcmFjdGl2ZSA9IHRydWU7XG4gICAgICogc3ByaXRlLmJ1dHRvbk1vZGUgPSB0cnVlO1xuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKi9cbiAgICBnZXQgYnV0dG9uTW9kZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJzb3IgPT09ICdwb2ludGVyJztcbiAgICB9LFxuICAgIHNldCBidXR0b25Nb2RlKHZhbHVlKVxuICAgIHtcbiAgICAgICAgaWYgKHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmN1cnNvciA9ICdwb2ludGVyJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmN1cnNvciA9PT0gJ3BvaW50ZXInKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmN1cnNvciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVGhpcyBkZWZpbmVzIHdoYXQgY3Vyc29yIG1vZGUgaXMgdXNlZCB3aGVuIHRoZSBtb3VzZSBjdXJzb3JcbiAgICAgKiBpcyBob3ZlcmVkIG92ZXIgdGhlIGRpc3BsYXlPYmplY3QuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAgICAgKiBzcHJpdGUuaW50ZXJhY3RpdmUgPSB0cnVlO1xuICAgICAqIHNwcml0ZS5jdXJzb3IgPSAnd2FpdCc7XG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9DU1MvY3Vyc29yXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKi9cbiAgICBjdXJzb3I6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBzZXQgb2YgYWxsIGFjdGl2ZSBwb2ludGVycywgYnkgaWRlbnRpZmllclxuICAgICAqXG4gICAgICogQG1lbWJlciB7TWFwPG51bWJlciwgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGE+fVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBnZXQgdHJhY2tlZFBvaW50ZXJzKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl90cmFja2VkUG9pbnRlcnMgPT09IHVuZGVmaW5lZCkgeyB0aGlzLl90cmFja2VkUG9pbnRlcnMgPSB7fTsgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl90cmFja2VkUG9pbnRlcnM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1hcCBvZiBhbGwgdHJhY2tlZCBwb2ludGVycywgYnkgaWRlbnRpZmllci4gVXNlIHRyYWNrZWRQb2ludGVycyB0byBhY2Nlc3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtNYXA8bnVtYmVyLCBJbnRlcmFjdGlvblRyYWNraW5nRGF0YT59XG4gICAgICovXG4gICAgX3RyYWNrZWRQb2ludGVyczogdW5kZWZpbmVkLFxufTtcblxuLy8gTWl4IGludGVyYWN0aXZlVGFyZ2V0IGludG8gRGlzcGxheU9iamVjdC5wcm90b3R5cGUsXG4vLyBhZnRlciBkZXByZWNhdGlvbiBoYXMgYmVlbiBoYW5kbGVkXG5EaXNwbGF5T2JqZWN0Lm1peGluKGludGVyYWN0aXZlVGFyZ2V0KTtcblxudmFyIE1PVVNFX1BPSU5URVJfSUQgPSAxO1xuXG4vLyBoZWxwZXJzIGZvciBoaXRUZXN0KCkgLSBvbmx5IHVzZWQgaW5zaWRlIGhpdFRlc3QoKVxudmFyIGhpdFRlc3RFdmVudCA9IHtcbiAgICB0YXJnZXQ6IG51bGwsXG4gICAgZGF0YToge1xuICAgICAgICBnbG9iYWw6IG51bGwsXG4gICAgfSxcbn07XG5cbi8qKlxuICogVGhlIGludGVyYWN0aW9uIG1hbmFnZXIgZGVhbHMgd2l0aCBtb3VzZSwgdG91Y2ggYW5kIHBvaW50ZXIgZXZlbnRzLlxuICpcbiAqIEFueSBEaXNwbGF5T2JqZWN0IGNhbiBiZSBpbnRlcmFjdGl2ZSBpZiBpdHMgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBpcyBzZXQgdG8gdHJ1ZS5cbiAqXG4gKiBUaGlzIG1hbmFnZXIgYWxzbyBzdXBwb3J0cyBtdWx0aXRvdWNoLlxuICpcbiAqIEFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBjcmVhdGVkIGJ5IGRlZmF1bHQsIGFuZCBjYW4gYmUgZm91bmQgYXQgYHJlbmRlcmVyLnBsdWdpbnMuaW50ZXJhY3Rpb25gXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnV0aWxzLkV2ZW50RW1pdHRlclxuICogQG1lbWJlcm9mIFBJWEkuaW50ZXJhY3Rpb25cbiAqL1xudmFyIEludGVyYWN0aW9uTWFuYWdlciA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEV2ZW50RW1pdHRlcikge1xuICAgIGZ1bmN0aW9uIEludGVyYWN0aW9uTWFuYWdlcihyZW5kZXJlciwgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVuZGVyZXIgdGhpcyBpbnRlcmFjdGlvbiBtYW5hZ2VyIHdvcmtzIGZvci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5BYnN0cmFjdFJlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaG91bGQgZGVmYXVsdCBicm93c2VyIGFjdGlvbnMgYXV0b21hdGljYWxseSBiZSBwcmV2ZW50ZWQuXG4gICAgICAgICAqIERvZXMgbm90IGFwcGx5IHRvIHBvaW50ZXIgZXZlbnRzIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eVxuICAgICAgICAgKiBwcmV2ZW50RGVmYXVsdCBvbiBwb2ludGVyIGV2ZW50cyBzdG9wcyBtb3VzZSBldmVudHMgZnJvbSBmaXJpbmdcbiAgICAgICAgICogVGh1cywgZm9yIGV2ZXJ5IHBvaW50ZXIgZXZlbnQsIHRoZXJlIHdpbGwgYWx3YXlzIGJlIGVpdGhlciBhIG1vdXNlIG9mIHRvdWNoIGV2ZW50IGFsb25nc2lkZSBpdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hdXRvUHJldmVudERlZmF1bHQgPSBvcHRpb25zLmF1dG9QcmV2ZW50RGVmYXVsdCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5hdXRvUHJldmVudERlZmF1bHQgOiB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGcmVxdWVuY3kgaW4gbWlsbGlzZWNvbmRzIHRoYXQgdGhlIG1vdXNlbW92ZSwgbW91c2VvdmVyICYgbW91c2VvdXQgaW50ZXJhY3Rpb24gZXZlbnRzIHdpbGwgYmUgY2hlY2tlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkZyZXF1ZW5jeSA9IG9wdGlvbnMuaW50ZXJhY3Rpb25GcmVxdWVuY3kgfHwgMTA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtb3VzZSBkYXRhXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25EYXRhfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tb3VzZSA9IG5ldyBJbnRlcmFjdGlvbkRhdGEoKTtcbiAgICAgICAgdGhpcy5tb3VzZS5pZGVudGlmaWVyID0gTU9VU0VfUE9JTlRFUl9JRDtcblxuICAgICAgICAvLyBzZXR0aW5nIHRoZSBtb3VzZSB0byBzdGFydCBvZmYgZmFyIG9mZiBzY3JlZW4gd2lsbCBtZWFuIHRoYXQgbW91c2Ugb3ZlciBkb2VzXG4gICAgICAgIC8vICBub3QgZ2V0IGNhbGxlZCBiZWZvcmUgd2UgZXZlbiBtb3ZlIHRoZSBtb3VzZS5cbiAgICAgICAgdGhpcy5tb3VzZS5nbG9iYWwuc2V0KC05OTk5OTkpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBY3RpdmVseSB0cmFja2VkIEludGVyYWN0aW9uRGF0YVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3QuPG51bWJlcixQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRGF0YT59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YSA9IHt9O1xuICAgICAgICB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtNT1VTRV9QT0lOVEVSX0lEXSA9IHRoaXMubW91c2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBvb2wgb2YgdW51c2VkIEludGVyYWN0aW9uRGF0YVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRGF0YVtdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRhdGFQb29sID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGV2ZW50IGRhdGEgb2JqZWN0IHRvIGhhbmRsZSBhbGwgdGhlIGV2ZW50IHRyYWNraW5nL2Rpc3BhdGNoaW5nXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZXZlbnREYXRhID0gbmV3IEludGVyYWN0aW9uRXZlbnQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIERPTSBlbGVtZW50IHRvIGJpbmQgdG8uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7SFRNTEVsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgcHJvcGVydHkgZGV0ZXJtaW5lcyBpZiBtb3VzZW1vdmUgYW5kIHRvdWNobW92ZSBldmVudHMgYXJlIGZpcmVkIG9ubHkgd2hlbiB0aGUgY3Vyc29yXG4gICAgICAgICAqIGlzIG92ZXIgdGhlIG9iamVjdC5cbiAgICAgICAgICogU2V0dGluZyB0byB0cnVlIHdpbGwgbWFrZSB0aGluZ3Mgd29yayBtb3JlIGluIGxpbmUgd2l0aCBob3cgdGhlIERPTSB2ZXJzaW9uIHdvcmtzLlxuICAgICAgICAgKiBTZXR0aW5nIHRvIGZhbHNlIGNhbiBtYWtlIHRoaW5ncyBlYXNpZXIgZm9yIHRoaW5ncyBsaWtlIGRyYWdnaW5nXG4gICAgICAgICAqIEl0IGlzIGN1cnJlbnRseSBzZXQgdG8gZmFsc2UgYXMgdGhpcyBpcyBob3cgUGl4aUpTIHVzZWQgdG8gd29yay4gVGhpcyB3aWxsIGJlIHNldCB0byB0cnVlIGluXG4gICAgICAgICAqIGZ1dHVyZSB2ZXJzaW9ucyBvZiBwaXhpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tb3ZlV2hlbkluc2lkZSA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIYXZlIGV2ZW50cyBiZWVuIGF0dGFjaGVkIHRvIHRoZSBkb20gZWxlbWVudD9cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ldmVudHNBZGRlZCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJcyB0aGUgbW91c2UgaG92ZXJpbmcgb3ZlciB0aGUgcmVuZGVyZXI/XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubW91c2VPdmVyUmVuZGVyZXIgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRG9lcyB0aGUgZGV2aWNlIHN1cHBvcnQgdG91Y2ggZXZlbnRzXG4gICAgICAgICAqIGh0dHBzOi8vd3d3LnczLm9yZy9UUi90b3VjaC1ldmVudHMvXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzID0gJ29udG91Y2hzdGFydCcgaW4gd2luZG93O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEb2VzIHRoZSBkZXZpY2Ugc3VwcG9ydCBwb2ludGVyIGV2ZW50c1xuICAgICAgICAgKiBodHRwczovL3d3dy53My5vcmcvU3VibWlzc2lvbi9wb2ludGVyLWV2ZW50cy9cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cyA9ICEhd2luZG93LlBvaW50ZXJFdmVudDtcblxuICAgICAgICAvLyB0aGlzIHdpbGwgbWFrZSBpdCBzbyB0aGF0IHlvdSBkb24ndCBoYXZlIHRvIGNhbGwgYmluZCBhbGwgdGhlIHRpbWVcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uUG9pbnRlclVwID0gdGhpcy5vblBvaW50ZXJVcC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyVXAgPSB0aGlzLnByb2Nlc3NQb2ludGVyVXAuYmluZCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uUG9pbnRlckNhbmNlbCA9IHRoaXMub25Qb2ludGVyQ2FuY2VsLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJDYW5jZWwgPSB0aGlzLnByb2Nlc3NQb2ludGVyQ2FuY2VsLmJpbmQodGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblBvaW50ZXJEb3duID0gdGhpcy5vblBvaW50ZXJEb3duLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJEb3duID0gdGhpcy5wcm9jZXNzUG9pbnRlckRvd24uYmluZCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uUG9pbnRlck1vdmUgPSB0aGlzLm9uUG9pbnRlck1vdmUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlck1vdmUgPSB0aGlzLnByb2Nlc3NQb2ludGVyTW92ZS5iaW5kKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25Qb2ludGVyT3V0ID0gdGhpcy5vblBvaW50ZXJPdXQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlck92ZXJPdXQgPSB0aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dC5iaW5kKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25Qb2ludGVyT3ZlciA9IHRoaXMub25Qb2ludGVyT3Zlci5iaW5kKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaWN0aW9uYXJ5IG9mIGhvdyBkaWZmZXJlbnQgY3Vyc29yIG1vZGVzIGFyZSBoYW5kbGVkLiBTdHJpbmdzIGFyZSBoYW5kbGVkIGFzIENTUyBjdXJzb3JcbiAgICAgICAgICogdmFsdWVzLCBvYmplY3RzIGFyZSBoYW5kbGVkIGFzIGRpY3Rpb25hcmllcyBvZiBDU1MgdmFsdWVzIGZvciBpbnRlcmFjdGlvbkRPTUVsZW1lbnQsXG4gICAgICAgICAqIGFuZCBmdW5jdGlvbnMgYXJlIGNhbGxlZCBpbnN0ZWFkIG9mIGNoYW5naW5nIHRoZSBDU1MuXG4gICAgICAgICAqIERlZmF1bHQgQ1NTIGN1cnNvciB2YWx1ZXMgYXJlIHByb3ZpZGVkIGZvciAnZGVmYXVsdCcgYW5kICdwb2ludGVyJyBtb2Rlcy5cbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0LjxzdHJpbmcsIE9iamVjdD59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmN1cnNvclN0eWxlcyA9IHtcbiAgICAgICAgICAgIGRlZmF1bHQ6ICdpbmhlcml0JyxcbiAgICAgICAgICAgIHBvaW50ZXI6ICdwb2ludGVyJyxcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1vZGUgb2YgdGhlIGN1cnNvciB0aGF0IGlzIGJlaW5nIHVzZWQuXG4gICAgICAgICAqIFRoZSB2YWx1ZSBvZiB0aGlzIGlzIGEga2V5IGZyb20gdGhlIGN1cnNvclN0eWxlcyBkaWN0aW9uYXJ5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmN1cnJlbnRDdXJzb3JNb2RlID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgY2FjaGVkIGxldC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jdXJzb3IgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCBjYWNoZWQgbGV0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGVtcFBvaW50ID0gbmV3IFBvaW50KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGVsYXllZCBwb2ludGVyIGV2ZW50cy4gVXNlZCB0byBndWFyYW50ZWUgY29ycmVjdCBvcmRlcmluZyBvZiBvdmVyL291dCBldmVudHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0FycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWxheWVkRXZlbnRzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcHJlc3NlZCBvbiB0aGUgZGlzcGxheVxuICAgICAgICAgKiBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNtb3VzZWRvd25cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyBwcmVzc2VkXG4gICAgICAgICAqIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3JpZ2h0ZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyByZWxlYXNlZCBvdmVyIHRoZSBkaXNwbGF5XG4gICAgICAgICAqIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI21vdXNldXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyByZWxlYXNlZFxuICAgICAgICAgKiBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3JpZ2h0dXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcHJlc3NlZCBhbmQgcmVsZWFzZWQgb25cbiAgICAgICAgICogdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjY2xpY2tcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyBwcmVzc2VkXG4gICAgICAgICAqIGFuZCByZWxlYXNlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNyaWdodGNsaWNrXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHJlbGVhc2VkIG91dHNpZGUgdGhlXG4gICAgICAgICAqIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5IHJlZ2lzdGVyZWQgYVxuICAgICAgICAgKiBbbW91c2Vkb3duXXtAbGluayBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNldmVudDptb3VzZWRvd259LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjbW91c2V1cG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyByZWxlYXNlZFxuICAgICAgICAgKiBvdXRzaWRlIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseSByZWdpc3RlcmVkIGFcbiAgICAgICAgICogW3JpZ2h0ZG93bl17QGxpbmsgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjZXZlbnQ6cmlnaHRkb3dufS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3JpZ2h0dXBvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgd2hpbGUgb3ZlciB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI21vdXNlbW92ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIG9udG8gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNtb3VzZW92ZXJcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBtb3ZlZCBvZmYgdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNtb3VzZW91dFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyBwcmVzc2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJkb3duXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHJlbGVhc2VkIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBOb3QgYWx3YXlzIGZpcmVkIHdoZW4gc29tZSBidXR0b25zIGFyZSBoZWxkIGRvd24gd2hpbGUgb3RoZXJzIGFyZSByZWxlYXNlZC4gSW4gdGhvc2UgY2FzZXMsXG4gICAgICAgICAqIHVzZSBbbW91c2Vkb3duXXtAbGluayBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNldmVudDptb3VzZWRvd259IGFuZFxuICAgICAgICAgKiBbbW91c2V1cF17QGxpbmsgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjZXZlbnQ6bW91c2V1cH0gaW5zdGVhZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJ1cFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgb3BlcmF0aW5nIHN5c3RlbSBjYW5jZWxzIGEgcG9pbnRlciBldmVudFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcmNhbmNlbFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyBwcmVzc2VkIGFuZCByZWxlYXNlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVydGFwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHJlbGVhc2VkIG91dHNpZGUgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5XG4gICAgICAgICAqIHJlZ2lzdGVyZWQgYSBbcG9pbnRlcmRvd25de0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI2V2ZW50OnBvaW50ZXJkb3dufS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJ1cG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBpcyBtb3ZlZCB3aGlsZSBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcm1vdmVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBpcyBtb3ZlZCBvbnRvIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcm92ZXJcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBpcyBtb3ZlZCBvZmYgdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVyb3V0XG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcGxhY2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3RvdWNoc3RhcnRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyByZW1vdmVkIGZyb20gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjdG91Y2hlbmRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhlIG9wZXJhdGluZyBzeXN0ZW0gY2FuY2VscyBhIHRvdWNoXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciN0b3VjaGNhbmNlbFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHBsYWNlZCBhbmQgcmVtb3ZlZCBmcm9tIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3RhcFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHJlbW92ZWQgb3V0c2lkZSBvZiB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHlcbiAgICAgICAgICogcmVnaXN0ZXJlZCBhIFt0b3VjaHN0YXJ0XXtAbGluayBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNldmVudDp0b3VjaHN0YXJ0fS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3RvdWNoZW5kb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIG1vdmVkIGFsb25nIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3RvdWNobW92ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyBwcmVzc2VkIG9uIHRoZSBkaXNwbGF5LlxuICAgICAgICAgKiBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNlZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHByZXNzZWRcbiAgICAgICAgICogb24gdGhlIGRpc3BsYXkgb2JqZWN0LiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNyaWdodGRvd25cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcmVsZWFzZWQgb3ZlciB0aGUgZGlzcGxheVxuICAgICAgICAgKiBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNldXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyByZWxlYXNlZFxuICAgICAgICAgKiBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdC4gRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcmlnaHR1cFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyBwcmVzc2VkIGFuZCByZWxlYXNlZCBvblxuICAgICAgICAgKiB0aGUgZGlzcGxheSBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I2NsaWNrXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcHJlc3NlZFxuICAgICAgICAgKiBhbmQgcmVsZWFzZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNyaWdodGNsaWNrXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHJlbGVhc2VkIG91dHNpZGUgdGhlXG4gICAgICAgICAqIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5IHJlZ2lzdGVyZWQgYVxuICAgICAgICAgKiBbbW91c2Vkb3duXXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3QjZXZlbnQ6bW91c2Vkb3dufS5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjbW91c2V1cG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyByZWxlYXNlZFxuICAgICAgICAgKiBvdXRzaWRlIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseSByZWdpc3RlcmVkIGFcbiAgICAgICAgICogW3JpZ2h0ZG93bl17QGxpbmsgUElYSS5EaXNwbGF5T2JqZWN0I2V2ZW50OnJpZ2h0ZG93bn0uXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3JpZ2h0dXBvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgd2hpbGUgb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNlbW92ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIG9udG8gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNtb3VzZW92ZXJcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBtb3ZlZCBvZmYgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNtb3VzZW91dFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyBwcmVzc2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcmRvd25cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcmVsZWFzZWQgb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJ1cFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgb3BlcmF0aW5nIHN5c3RlbSBjYW5jZWxzIGEgcG9pbnRlciBldmVudC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcmNhbmNlbFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyBwcmVzc2VkIGFuZCByZWxlYXNlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJ0YXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcmVsZWFzZWQgb3V0c2lkZSB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHlcbiAgICAgICAgICogcmVnaXN0ZXJlZCBhIFtwb2ludGVyZG93bl17QGxpbmsgUElYSS5EaXNwbGF5T2JqZWN0I2V2ZW50OnBvaW50ZXJkb3dufS5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcnVwb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIHdoaWxlIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVybW92ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIG9udG8gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVyb3ZlclxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIG9mZiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJvdXRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyBwbGFjZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0b3VjaHN0YXJ0XG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjdG91Y2hlbmRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhlIG9wZXJhdGluZyBzeXN0ZW0gY2FuY2VscyBhIHRvdWNoLlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0b3VjaGNhbmNlbFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHBsYWNlZCBhbmQgcmVtb3ZlZCBmcm9tIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjdGFwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcmVtb3ZlZCBvdXRzaWRlIG9mIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseVxuICAgICAgICAgKiByZWdpc3RlcmVkIGEgW3RvdWNoc3RhcnRde0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdCNldmVudDp0b3VjaHN0YXJ0fS5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjdG91Y2hlbmRvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgbW92ZWQgYWxvbmcgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0b3VjaG1vdmVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgdGhpcy5zZXRUYXJnZXRFbGVtZW50KHRoaXMucmVuZGVyZXIudmlldywgdGhpcy5yZW5kZXJlci5yZXNvbHV0aW9uKTtcbiAgICB9XG5cbiAgICBpZiAoIEV2ZW50RW1pdHRlciApIEludGVyYWN0aW9uTWFuYWdlci5fX3Byb3RvX18gPSBFdmVudEVtaXR0ZXI7XG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEV2ZW50RW1pdHRlciAmJiBFdmVudEVtaXR0ZXIucHJvdG90eXBlICk7XG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEludGVyYWN0aW9uTWFuYWdlcjtcblxuICAgIC8qKlxuICAgICAqIEhpdCB0ZXN0cyBhIHBvaW50IGFnYWluc3QgdGhlIGRpc3BsYXkgdHJlZSwgcmV0dXJuaW5nIHRoZSBmaXJzdCBpbnRlcmFjdGl2ZSBvYmplY3QgdGhhdCBpcyBoaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IGdsb2JhbFBvaW50IC0gQSBwb2ludCB0byBoaXQgdGVzdCB3aXRoLCBpbiBnbG9iYWwgc3BhY2UuXG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gW3Jvb3RdIC0gVGhlIHJvb3QgZGlzcGxheSBvYmplY3QgdG8gc3RhcnQgZnJvbS4gSWYgb21pdHRlZCwgZGVmYXVsdHNcbiAgICAgKiB0byB0aGUgbGFzdCByZW5kZXJlZCByb290IG9mIHRoZSBhc3NvY2lhdGVkIHJlbmRlcmVyLlxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGhpdCBkaXNwbGF5IG9iamVjdCwgaWYgYW55LlxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuaGl0VGVzdCA9IGZ1bmN0aW9uIGhpdFRlc3QgKGdsb2JhbFBvaW50LCByb290KVxuICAgIHtcbiAgICAgICAgLy8gY2xlYXIgdGhlIHRhcmdldCBmb3Igb3VyIGhpdCB0ZXN0XG4gICAgICAgIGhpdFRlc3RFdmVudC50YXJnZXQgPSBudWxsO1xuICAgICAgICAvLyBhc3NpZ24gdGhlIGdsb2JhbCBwb2ludFxuICAgICAgICBoaXRUZXN0RXZlbnQuZGF0YS5nbG9iYWwgPSBnbG9iYWxQb2ludDtcbiAgICAgICAgLy8gZW5zdXJlIHNhZmV0eSBvZiB0aGUgcm9vdFxuICAgICAgICBpZiAoIXJvb3QpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJvb3QgPSB0aGlzLnJlbmRlcmVyLl9sYXN0T2JqZWN0UmVuZGVyZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcnVuIHRoZSBoaXQgdGVzdFxuICAgICAgICB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShoaXRUZXN0RXZlbnQsIHJvb3QsIG51bGwsIHRydWUpO1xuICAgICAgICAvLyByZXR1cm4gb3VyIGZvdW5kIG9iamVjdCAtIGl0J2xsIGJlIG51bGwgaWYgd2UgZGlkbid0IGhpdCBhbnl0aGluZ1xuXG4gICAgICAgIHJldHVybiBoaXRUZXN0RXZlbnQudGFyZ2V0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBET00gZWxlbWVudCB3aGljaCB3aWxsIHJlY2VpdmUgbW91c2UvdG91Y2ggZXZlbnRzLiBUaGlzIGlzIHVzZWZ1bCBmb3Igd2hlbiB5b3UgaGF2ZVxuICAgICAqIG90aGVyIERPTSBlbGVtZW50cyBvbiB0b3Agb2YgdGhlIHJlbmRlcmVycyBDYW52YXMgZWxlbWVudC4gV2l0aCB0aGlzIHlvdSdsbCBiZSBiYWxlIHRvIGRlbGVnYXRlXG4gICAgICogYW5vdGhlciBET00gZWxlbWVudCB0byByZWNlaXZlIHRob3NlIGV2ZW50cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgLSB0aGUgRE9NIGVsZW1lbnQgd2hpY2ggd2lsbCByZWNlaXZlIG1vdXNlIGFuZCB0b3VjaCBldmVudHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIG5ldyBlbGVtZW50IChyZWxhdGl2ZSB0byB0aGUgY2FudmFzKS5cbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnNldFRhcmdldEVsZW1lbnQgPSBmdW5jdGlvbiBzZXRUYXJnZXRFbGVtZW50IChlbGVtZW50LCByZXNvbHV0aW9uKVxuICAgIHtcbiAgICAgICAgaWYgKCByZXNvbHV0aW9uID09PSB2b2lkIDAgKSByZXNvbHV0aW9uID0gMTtcblxuICAgICAgICB0aGlzLnJlbW92ZUV2ZW50cygpO1xuXG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50ID0gZWxlbWVudDtcblxuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuXG4gICAgICAgIHRoaXMuYWRkRXZlbnRzKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBhbGwgdGhlIERPTSBldmVudHNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5hZGRFdmVudHMgPSBmdW5jdGlvbiBhZGRFdmVudHMgKClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIFRpY2tlci5zeXN0ZW0uYWRkKHRoaXMudXBkYXRlLCB0aGlzLCBVUERBVEVfUFJJT1JJVFkuSU5URVJBQ1RJT04pO1xuXG4gICAgICAgIGlmICh3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlWyctbXMtY29udGVudC16b29taW5nJ10gPSAnbm9uZSc7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZVsnLW1zLXRvdWNoLWFjdGlvbiddID0gJ25vbmUnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZVsndG91Y2gtYWN0aW9uJ10gPSAnbm9uZSc7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlc2UgZXZlbnRzIGFyZSBhZGRlZCBmaXJzdCwgc28gdGhhdCBpZiBwb2ludGVyIGV2ZW50cyBhcmUgbm9ybWFsaXplZCwgdGhleSBhcmUgZmlyZWRcbiAgICAgICAgICogaW4gdGhlIHNhbWUgb3JkZXIgYXMgbm9uLW5vcm1hbGl6ZWQgZXZlbnRzLiBpZS4gcG9pbnRlciBldmVudCAxc3QsIG1vdXNlIC8gdG91Y2ggMm5kXG4gICAgICAgICAqL1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICAvLyBwb2ludGVyb3V0IGlzIGZpcmVkIGluIGFkZGl0aW9uIHRvIHBvaW50ZXJ1cCAoZm9yIHRvdWNoIGV2ZW50cykgYW5kIHBvaW50ZXJjYW5jZWxcbiAgICAgICAgICAgIC8vIHdlIGFscmVhZHkgaGFuZGxlIHRob3NlLCBzbyBmb3IgdGhlIHB1cnBvc2VzIG9mIHdoYXQgd2UgZG8gaW4gb25Qb2ludGVyT3V0LCB3ZSBvbmx5XG4gICAgICAgICAgICAvLyBjYXJlIGFib3V0IHRoZSBwb2ludGVybGVhdmUgZXZlbnRcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJsZWF2ZScsIHRoaXMub25Qb2ludGVyT3V0LCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJvdmVyJywgdGhpcy5vblBvaW50ZXJPdmVyLCB0cnVlKTtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyY2FuY2VsJywgdGhpcy5vblBvaW50ZXJDYW5jZWwsIHRydWUpO1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIHRoaXMub25Qb2ludGVyVXAsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCB0aGlzLm9uUG9pbnRlck91dCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCB0aGlzLm9uUG9pbnRlck92ZXIsIHRydWUpO1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLm9uUG9pbnRlclVwLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFsd2F5cyBsb29rIGRpcmVjdGx5IGZvciB0b3VjaCBldmVudHMgc28gdGhhdCB3ZSBjYW4gcHJvdmlkZSBvcmlnaW5hbCBkYXRhXG4gICAgICAgIC8vIEluIGEgZnV0dXJlIHZlcnNpb24gd2Ugc2hvdWxkIGNoYW5nZSB0aGlzIHRvIGJlaW5nIGp1c3QgYSBmYWxsYmFjayBhbmQgcmVseSBzb2xlbHkgb25cbiAgICAgICAgLy8gUG9pbnRlckV2ZW50cyB3aGVuZXZlciBhdmFpbGFibGVcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGNhbmNlbCcsIHRoaXMub25Qb2ludGVyQ2FuY2VsLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5ldmVudHNBZGRlZCA9IHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIHRoZSBET00gZXZlbnRzIHRoYXQgd2VyZSBwcmV2aW91c2x5IHJlZ2lzdGVyZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5yZW1vdmVFdmVudHMgPSBmdW5jdGlvbiByZW1vdmVFdmVudHMgKClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIFRpY2tlci5zeXN0ZW0ucmVtb3ZlKHRoaXMudXBkYXRlLCB0aGlzKTtcblxuICAgICAgICBpZiAod2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZVsnLW1zLWNvbnRlbnQtem9vbWluZyddID0gJyc7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZVsnLW1zLXRvdWNoLWFjdGlvbiddID0gJyc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlWyd0b3VjaC1hY3Rpb24nXSA9ICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzKVxuICAgICAgICB7XG4gICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcmxlYXZlJywgdGhpcy5vblBvaW50ZXJPdXQsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcm92ZXInLCB0aGlzLm9uUG9pbnRlck92ZXIsIHRydWUpO1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJjYW5jZWwnLCB0aGlzLm9uUG9pbnRlckNhbmNlbCwgdHJ1ZSk7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgdGhpcy5vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIHRoaXMub25Qb2ludGVyT3V0LCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIHRoaXMub25Qb2ludGVyT3ZlciwgdHJ1ZSk7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25Qb2ludGVyVXAsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGNhbmNlbCcsIHRoaXMub25Qb2ludGVyQ2FuY2VsLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuZXZlbnRzQWRkZWQgPSBmYWxzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgc3RhdGUgb2YgaW50ZXJhY3RpdmUgb2JqZWN0cy5cbiAgICAgKiBJbnZva2VkIGJ5IGEgdGhyb3R0bGVkIHRpY2tlciB1cGRhdGUgZnJvbSB7QGxpbmsgUElYSS5UaWNrZXIuc3lzdGVtfS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVRpbWUgLSB0aW1lIGRlbHRhIHNpbmNlIGxhc3QgdGlja1xuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlIChkZWx0YVRpbWUpXG4gICAge1xuICAgICAgICB0aGlzLl9kZWx0YVRpbWUgKz0gZGVsdGFUaW1lO1xuXG4gICAgICAgIGlmICh0aGlzLl9kZWx0YVRpbWUgPCB0aGlzLmludGVyYWN0aW9uRnJlcXVlbmN5KVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9kZWx0YVRpbWUgPSAwO1xuXG4gICAgICAgIGlmICghdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHRoZSB1c2VyIG1vdmUgdGhlIG1vdXNlIHRoaXMgY2hlY2sgaGFzIGFscmVhZHkgYmVlbiBkb25lIHVzaW5nIHRoZSBtb3VzZSBtb3ZlIVxuICAgICAgICBpZiAodGhpcy5kaWRNb3ZlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRpZE1vdmUgPSBmYWxzZTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jdXJzb3IgPSBudWxsO1xuXG4gICAgICAgIC8vIFJlc2V0cyB0aGUgZmxhZyBhcyBzZXQgYnkgYSBzdG9wUHJvcGFnYXRpb24gY2FsbC4gVGhpcyBmbGFnIGlzIHVzdWFsbHkgcmVzZXQgYnkgYSB1c2VyIGludGVyYWN0aW9uIG9mIGFueSBraW5kLFxuICAgICAgICAvLyBidXQgdGhlcmUgd2FzIGEgc2NlbmFyaW8gb2YgYSBkaXNwbGF5IG9iamVjdCBtb3ZpbmcgdW5kZXIgYSBzdGF0aWMgbW91c2UgY3Vyc29yLlxuICAgICAgICAvLyBJbiB0aGlzIGNhc2UsIG1vdXNlb3ZlciBhbmQgbW91c2VldmVudHMgd291bGQgbm90IHBhc3MgdGhlIGZsYWcgdGVzdCBpbiBkaXNwYXRjaEV2ZW50IGZ1bmN0aW9uXG4gICAgICAgIGZvciAodmFyIGsgaW4gdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wcm90b3R5cGUtYnVpbHRpbnNcbiAgICAgICAgICAgIGlmICh0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YS5oYXNPd25Qcm9wZXJ0eShrKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFba107XG5cbiAgICAgICAgICAgICAgICBpZiAoaW50ZXJhY3Rpb25EYXRhLm9yaWdpbmFsRXZlbnQgJiYgaW50ZXJhY3Rpb25EYXRhLnBvaW50ZXJUeXBlICE9PSAndG91Y2gnKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXZlbnREYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhLm9yaWdpbmFsRXZlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbkRhdGFcbiAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShcbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVyYWN0aW9uRXZlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLl9sYXN0T2JqZWN0UmVuZGVyZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNldEN1cnNvck1vZGUodGhpcy5jdXJzb3IpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBjdXJyZW50IGN1cnNvciBtb2RlLCBoYW5kbGluZyBhbnkgY2FsbGJhY2tzIG9yIENTUyBzdHlsZSBjaGFuZ2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1vZGUgLSBjdXJzb3IgbW9kZSwgYSBrZXkgZnJvbSB0aGUgY3Vyc29yU3R5bGVzIGRpY3Rpb25hcnlcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnNldEN1cnNvck1vZGUgPSBmdW5jdGlvbiBzZXRDdXJzb3JNb2RlIChtb2RlKVxuICAgIHtcbiAgICAgICAgbW9kZSA9IG1vZGUgfHwgJ2RlZmF1bHQnO1xuICAgICAgICAvLyBpZiB0aGUgbW9kZSBkaWRuJ3QgYWN0dWFsbHkgY2hhbmdlLCBiYWlsIGVhcmx5XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRDdXJzb3JNb2RlID09PSBtb2RlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJyZW50Q3Vyc29yTW9kZSA9IG1vZGU7XG4gICAgICAgIHZhciBzdHlsZSA9IHRoaXMuY3Vyc29yU3R5bGVzW21vZGVdO1xuXG4gICAgICAgIC8vIG9ubHkgZG8gdGhpbmdzIGlmIHRoZXJlIGlzIGEgY3Vyc29yIHN0eWxlIGZvciBpdFxuICAgICAgICBpZiAoc3R5bGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZW9mIHN0eWxlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgICAgICAgICAgIC8vIHN0cmluZyBzdHlsZXMgYXJlIGhhbmRsZWQgYXMgY3Vyc29yIENTU1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZS5jdXJzb3IgPSBzdHlsZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICAgICAgICAgICAgICAvLyBmdW5jdGlvbnMgYXJlIGp1c3QgY2FsbGVkLCBhbmQgcGFzc2VkIHRoZSBjdXJzb3IgbW9kZVxuICAgICAgICAgICAgICAgICAgICBzdHlsZShtb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgaXQgaXMgYW4gb2JqZWN0LCBhc3N1bWUgdGhhdCBpdCBpcyBhIGRpY3Rpb25hcnkgb2YgQ1NTIHN0eWxlcyxcbiAgICAgICAgICAgICAgICAgICAgLy8gYXBwbHkgaXQgdG8gdGhlIGludGVyYWN0aW9uRE9NRWxlbWVudFxuICAgICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlLCBzdHlsZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBtb2RlID09PSAnc3RyaW5nJyAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuY3Vyc29yU3R5bGVzLCBtb2RlKSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gaWYgaXQgbW9kZSBpcyBhIHN0cmluZyAobm90IGEgU3ltYm9sKSBhbmQgY3Vyc29yU3R5bGVzIGRvZXNuJ3QgaGF2ZSBhbnkgZW50cnlcbiAgICAgICAgICAgIC8vIGZvciB0aGUgbW9kZSwgdGhlbiBhc3N1bWUgdGhhdCB0aGUgZGV2IHdhbnRzIGl0IHRvIGJlIENTUyBmb3IgdGhlIGN1cnNvci5cbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlLmN1cnNvciA9IG1vZGU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGlzcGF0Y2hlcyBhbiBldmVudCBvbiB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgaW50ZXJhY3RlZCB3aXRoXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gdGhlIGRpc3BsYXkgb2JqZWN0IGluIHF1ZXN0aW9uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50U3RyaW5nIC0gdGhlIG5hbWUgb2YgdGhlIGV2ZW50IChlLmcsIG1vdXNlZG93bilcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gZXZlbnREYXRhIC0gdGhlIGV2ZW50IGRhdGEgb2JqZWN0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQgPSBmdW5jdGlvbiBkaXNwYXRjaEV2ZW50IChkaXNwbGF5T2JqZWN0LCBldmVudFN0cmluZywgZXZlbnREYXRhKVxuICAgIHtcbiAgICAgICAgLy8gRXZlbiBpZiB0aGUgZXZlbnQgd2FzIHN0b3BwZWQsIGF0IGxlYXN0IGRpc3BhdGNoIGFueSByZW1haW5pbmcgZXZlbnRzXG4gICAgICAgIC8vIGZvciB0aGUgc2FtZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgaWYgKCFldmVudERhdGEuc3RvcFByb3BhZ2F0aW9uSGludCB8fCBkaXNwbGF5T2JqZWN0ID09PSBldmVudERhdGEuc3RvcHNQcm9wYWdhdGluZ0F0KVxuICAgICAgICB7XG4gICAgICAgICAgICBldmVudERhdGEuY3VycmVudFRhcmdldCA9IGRpc3BsYXlPYmplY3Q7XG4gICAgICAgICAgICBldmVudERhdGEudHlwZSA9IGV2ZW50U3RyaW5nO1xuXG4gICAgICAgICAgICBkaXNwbGF5T2JqZWN0LmVtaXQoZXZlbnRTdHJpbmcsIGV2ZW50RGF0YSk7XG5cbiAgICAgICAgICAgIGlmIChkaXNwbGF5T2JqZWN0W2V2ZW50U3RyaW5nXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5T2JqZWN0W2V2ZW50U3RyaW5nXShldmVudERhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFB1dHMgYSBldmVudCBvbiBhIHF1ZXVlIHRvIGJlIGRpc3BhdGNoZWQgbGF0ZXIuIFRoaXMgaXMgdXNlZCB0byBndWFyYW50ZWUgY29ycmVjdFxuICAgICAqIG9yZGVyaW5nIG9mIG92ZXIvb3V0IGV2ZW50cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSB0aGUgZGlzcGxheSBvYmplY3QgaW4gcXVlc3Rpb25cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRTdHJpbmcgLSB0aGUgbmFtZSBvZiB0aGUgZXZlbnQgKGUuZywgbW91c2Vkb3duKVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBldmVudERhdGEgLSB0aGUgZXZlbnQgZGF0YSBvYmplY3RcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuZGVsYXlEaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24gZGVsYXlEaXNwYXRjaEV2ZW50IChkaXNwbGF5T2JqZWN0LCBldmVudFN0cmluZywgZXZlbnREYXRhKVxuICAgIHtcbiAgICAgICAgdGhpcy5kZWxheWVkRXZlbnRzLnB1c2goeyBkaXNwbGF5T2JqZWN0OiBkaXNwbGF5T2JqZWN0LCBldmVudFN0cmluZzogZXZlbnRTdHJpbmcsIGV2ZW50RGF0YTogZXZlbnREYXRhIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBNYXBzIHggYW5kIHkgY29vcmRzIGZyb20gYSBET00gb2JqZWN0IGFuZCBtYXBzIHRoZW0gY29ycmVjdGx5IHRvIHRoZSBQaXhpSlMgdmlldy4gVGhlXG4gICAgICogcmVzdWx0aW5nIHZhbHVlIGlzIHN0b3JlZCBpbiB0aGUgcG9pbnQuIFRoaXMgdGFrZXMgaW50byBhY2NvdW50IHRoZSBmYWN0IHRoYXQgdGhlIERPTVxuICAgICAqIGVsZW1lbnQgY291bGQgYmUgc2NhbGVkIGFuZCBwb3NpdGlvbmVkIGFueXdoZXJlIG9uIHRoZSBzY3JlZW4uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtQSVhJLlBvaW50fSBwb2ludCAtIHRoZSBwb2ludCB0aGF0IHRoZSByZXN1bHQgd2lsbCBiZSBzdG9yZWQgaW5cbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IHggLSB0aGUgeCBjb29yZCBvZiB0aGUgcG9zaXRpb24gdG8gbWFwXG4gICAgICogQHBhcmFtICB7bnVtYmVyfSB5IC0gdGhlIHkgY29vcmQgb2YgdGhlIHBvc2l0aW9uIHRvIG1hcFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUubWFwUG9zaXRpb25Ub1BvaW50ID0gZnVuY3Rpb24gbWFwUG9zaXRpb25Ub1BvaW50IChwb2ludCwgeCwgeSlcbiAgICB7XG4gICAgICAgIHZhciByZWN0O1xuXG4gICAgICAgIC8vIElFIDExIGZpeFxuICAgICAgICBpZiAoIXRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnBhcmVudEVsZW1lbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlY3QgPSB7IHg6IDAsIHk6IDAsIHdpZHRoOiAwLCBoZWlnaHQ6IDAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlY3QgPSB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZXNvbHV0aW9uTXVsdGlwbGllciA9IDEuMCAvIHRoaXMucmVzb2x1dGlvbjtcblxuICAgICAgICBwb2ludC54ID0gKCh4IC0gcmVjdC5sZWZ0KSAqICh0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC53aWR0aCAvIHJlY3Qud2lkdGgpKSAqIHJlc29sdXRpb25NdWx0aXBsaWVyO1xuICAgICAgICBwb2ludC55ID0gKCh5IC0gcmVjdC50b3ApICogKHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmhlaWdodCAvIHJlY3QuaGVpZ2h0KSkgKiByZXNvbHV0aW9uTXVsdGlwbGllcjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBwcm92aWRlcyBhIG5lYXQgd2F5IG9mIGNyYXdsaW5nIHRocm91Z2ggdGhlIHNjZW5lIGdyYXBoIGFuZCBydW5uaW5nIGFcbiAgICAgKiBzcGVjaWZpZWQgZnVuY3Rpb24gb24gYWxsIGludGVyYWN0aXZlIG9iamVjdHMgaXQgZmluZHMuIEl0IHdpbGwgYWxzbyB0YWtlIGNhcmUgb2YgaGl0XG4gICAgICogdGVzdGluZyB0aGUgaW50ZXJhY3RpdmUgb2JqZWN0cyBhbmQgcGFzc2VzIHRoZSBoaXQgYWNyb3NzIGluIHRoZSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIGV2ZW50IGNvbnRhaW5pbmcgdGhlIHBvaW50IHRoYXRcbiAgICAgKiAgaXMgdGVzdGVkIGZvciBjb2xsaXNpb25cbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gdGhlIGRpc3BsYXlPYmplY3RcbiAgICAgKiAgdGhhdCB3aWxsIGJlIGhpdCB0ZXN0IChyZWN1cnNpdmVseSBjcmF3bHMgaXRzIGNoaWxkcmVuKVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtmdW5jXSAtIHRoZSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIG9uIGVhY2ggaW50ZXJhY3RpdmUgb2JqZWN0LiBUaGVcbiAgICAgKiAgaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCBhbmQgaGl0IHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2hpdFRlc3RdIC0gdGhpcyBpbmRpY2F0ZXMgaWYgdGhlIG9iamVjdHMgaW5zaWRlIHNob3VsZCBiZSBoaXQgdGVzdCBhZ2FpbnN0IHRoZSBwb2ludFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2ludGVyYWN0aXZlXSAtIFdoZXRoZXIgdGhlIGRpc3BsYXlPYmplY3QgaXMgaW50ZXJhY3RpdmVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwRGVsYXllZF0gLSBXaGV0aGVyIHRvIHByb2Nlc3MgZGVsYXllZCBldmVudHMgYmVmb3JlIHJldHVybmluZy4gVGhpcyBpc1xuICAgICAqICB1c2VkIHRvIGF2b2lkIHByb2Nlc3NpbmcgdGhlbSB0b28gZWFybHkgZHVyaW5nIHJlY3Vyc2l2ZSBjYWxscy5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSByZXR1cm5zIHRydWUgaWYgdGhlIGRpc3BsYXlPYmplY3QgaGl0IHRoZSBwb2ludFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucHJvY2Vzc0ludGVyYWN0aXZlID0gZnVuY3Rpb24gcHJvY2Vzc0ludGVyYWN0aXZlIChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBmdW5jLCBoaXRUZXN0LCBpbnRlcmFjdGl2ZSwgc2tpcERlbGF5ZWQpXG4gICAge1xuICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QgfHwgIWRpc3BsYXlPYmplY3QudmlzaWJsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBvaW50ID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhLmdsb2JhbDtcblxuICAgICAgICAvLyBUb29rIGEgbGl0dGxlIHdoaWxlIHRvIHJld29yayB0aGlzIGZ1bmN0aW9uIGNvcnJlY3RseSEgQnV0IG5vdyBpdCBpcyBkb25lIGFuZCBuaWNlIGFuZCBvcHRpbWl6ZWQhIF5fXlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGlzIGZ1bmN0aW9uIHdpbGwgbm93IGxvb3AgdGhyb3VnaCBhbGwgb2JqZWN0cyBhbmQgdGhlbiBvbmx5IGhpdCB0ZXN0IHRoZSBvYmplY3RzIGl0IEhBU1xuICAgICAgICAvLyB0bywgbm90IGFsbCBvZiB0aGVtLiBNVUNIIGZhc3Rlci4uXG4gICAgICAgIC8vIEFuIG9iamVjdCB3aWxsIGJlIGhpdCB0ZXN0IGlmIHRoZSBmb2xsb3dpbmcgaXMgdHJ1ZTpcbiAgICAgICAgLy9cbiAgICAgICAgLy8gMTogSXQgaXMgaW50ZXJhY3RpdmUuXG4gICAgICAgIC8vIDI6IEl0IGJlbG9uZ3MgdG8gYSBwYXJlbnQgdGhhdCBpcyBpbnRlcmFjdGl2ZSBBTkQgb25lIG9mIHRoZSBwYXJlbnRzIGNoaWxkcmVuIGhhdmUgbm90IGFscmVhZHkgYmVlbiBoaXQuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIEFzIGFub3RoZXIgbGl0dGxlIG9wdGltaXphdGlvbiBvbmNlIGFuIGludGVyYWN0aXZlIG9iamVjdCBoYXMgYmVlbiBoaXQgd2UgY2FuIGNhcnJ5IG9uXG4gICAgICAgIC8vIHRocm91Z2ggdGhlIHNjZW5lZ3JhcGgsIGJ1dCB3ZSBrbm93IHRoYXQgdGhlcmUgd2lsbCBiZSBubyBtb3JlIGhpdHMhIFNvIHdlIGNhbiBhdm9pZCBleHRyYSBoaXQgdGVzdHNcbiAgICAgICAgLy8gQSBmaW5hbCBvcHRpbWl6YXRpb24gaXMgdGhhdCBhbiBvYmplY3QgaXMgbm90IGhpdCB0ZXN0IGRpcmVjdGx5IGlmIGEgY2hpbGQgaGFzIGFscmVhZHkgYmVlbiBoaXQuXG5cbiAgICAgICAgaW50ZXJhY3RpdmUgPSBkaXNwbGF5T2JqZWN0LmludGVyYWN0aXZlIHx8IGludGVyYWN0aXZlO1xuXG4gICAgICAgIHZhciBoaXQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGludGVyYWN0aXZlUGFyZW50ID0gaW50ZXJhY3RpdmU7XG5cbiAgICAgICAgLy8gRmxhZyBoZXJlIGNhbiBzZXQgdG8gZmFsc2UgaWYgdGhlIGV2ZW50IGlzIG91dHNpZGUgdGhlIHBhcmVudHMgaGl0QXJlYSBvciBtYXNrXG4gICAgICAgIHZhciBoaXRUZXN0Q2hpbGRyZW4gPSB0cnVlO1xuXG4gICAgICAgIC8vIElmIHRoZXJlIGlzIGEgaGl0QXJlYSwgbm8gbmVlZCB0byB0ZXN0IGFnYWluc3QgYW55dGhpbmcgZWxzZSBpZiB0aGUgcG9pbnRlciBpcyBub3Qgd2l0aGluIHRoZSBoaXRBcmVhXG4gICAgICAgIC8vIFRoZXJlIGlzIGFsc28gbm8gbG9uZ2VyIGEgbmVlZCB0byBoaXRUZXN0IGNoaWxkcmVuLlxuICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5oaXRBcmVhKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoaGl0VGVzdClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5T2JqZWN0LndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb2ludCwgdGhpcy5fdGVtcFBvaW50KTtcbiAgICAgICAgICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QuaGl0QXJlYS5jb250YWlucyh0aGlzLl90ZW1wUG9pbnQueCwgdGhpcy5fdGVtcFBvaW50LnkpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaGl0VGVzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBoaXRUZXN0Q2hpbGRyZW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaGl0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbnRlcmFjdGl2ZVBhcmVudCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoZXJlIGlzIGEgbWFzaywgbm8gbmVlZCB0byBoaXRUZXN0IGFnYWluc3QgYW55dGhpbmcgZWxzZSBpZiB0aGUgcG9pbnRlciBpcyBub3Qgd2l0aGluIHRoZSBtYXNrLlxuICAgICAgICAvLyBXZSBzdGlsbCB3YW50IHRvIGhpdFRlc3RDaGlsZHJlbiwgaG93ZXZlciwgdG8gZW5zdXJlIGEgbW91c2VvdXQgY2FuIHN0aWxsIGJlIGdlbmVyYXRlZC5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLmpzL2lzc3Vlcy81MTM1XG4gICAgICAgIGVsc2UgaWYgKGRpc3BsYXlPYmplY3QuX21hc2spXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChoaXRUZXN0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICghKGRpc3BsYXlPYmplY3QuX21hc2suY29udGFpbnNQb2ludCAmJiBkaXNwbGF5T2JqZWN0Ll9tYXNrLmNvbnRhaW5zUG9pbnQocG9pbnQpKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGhpdFRlc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyAqKiBGUkVFIFRJUCAqKiEgSWYgYW4gb2JqZWN0IGlzIG5vdCBpbnRlcmFjdGl2ZSBvciBoYXMgbm8gYnV0dG9ucyBpbiBpdFxuICAgICAgICAvLyAoc3VjaCBhcyBhIGdhbWUgc2NlbmUhKSBzZXQgaW50ZXJhY3RpdmVDaGlsZHJlbiB0byBmYWxzZSBmb3IgdGhhdCBkaXNwbGF5T2JqZWN0LlxuICAgICAgICAvLyBUaGlzIHdpbGwgYWxsb3cgUGl4aUpTIHRvIGNvbXBsZXRlbHkgaWdub3JlIGFuZCBieXBhc3MgY2hlY2tpbmcgdGhlIGRpc3BsYXlPYmplY3RzIGNoaWxkcmVuLlxuICAgICAgICBpZiAoaGl0VGVzdENoaWxkcmVuICYmIGRpc3BsYXlPYmplY3QuaW50ZXJhY3RpdmVDaGlsZHJlbiAmJiBkaXNwbGF5T2JqZWN0LmNoaWxkcmVuKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSBkaXNwbGF5T2JqZWN0LmNoaWxkcmVuO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gY2hpbGRyZW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkID0gY2hpbGRyZW5baV07XG5cbiAgICAgICAgICAgICAgICAvLyB0aW1lIHRvIGdldCByZWN1cnNpdmUuLiBpZiB0aGlzIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIGlmIHNvbWV0aGluZyBpcyBoaXQuLlxuICAgICAgICAgICAgICAgIHZhciBjaGlsZEhpdCA9IHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGludGVyYWN0aW9uRXZlbnQsIGNoaWxkLCBmdW5jLCBoaXRUZXN0LCBpbnRlcmFjdGl2ZVBhcmVudCwgdHJ1ZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoY2hpbGRIaXQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvLyBpdHMgYSBnb29kIGlkZWEgdG8gY2hlY2sgaWYgYSBjaGlsZCBoYXMgbG9zdCBpdHMgcGFyZW50LlxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIG1lYW5zIGl0IGhhcyBiZWVuIHJlbW92ZWQgd2hpbHN0IGxvb3Bpbmcgc28gaXRzIGJlc3RcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjaGlsZC5wYXJlbnQpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gd2Ugbm8gbG9uZ2VyIG5lZWQgdG8gaGl0IHRlc3QgYW55IG1vcmUgb2JqZWN0cyBpbiB0aGlzIGNvbnRhaW5lciBhcyB3ZSB3ZVxuICAgICAgICAgICAgICAgICAgICAvLyBub3cga25vdyB0aGUgcGFyZW50IGhhcyBiZWVuIGhpdFxuICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGl2ZVBhcmVudCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBjaGlsZCBpcyBpbnRlcmFjdGl2ZSAsIHRoYXQgbWVhbnMgdGhhdCB0aGUgb2JqZWN0IGhpdCB3YXMgYWN0dWFsbHlcbiAgICAgICAgICAgICAgICAgICAgLy8gaW50ZXJhY3RpdmUgYW5kIG5vdCBqdXN0IHRoZSBjaGlsZCBvZiBhbiBpbnRlcmFjdGl2ZSBvYmplY3QuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgbWVhbnMgd2Ugbm8gbG9uZ2VyIG5lZWQgdG8gaGl0IHRlc3QgYW55dGhpbmcgZWxzZS4gV2Ugc3RpbGwgbmVlZCB0byBydW5cbiAgICAgICAgICAgICAgICAgICAgLy8gdGhyb3VnaCBhbGwgb2JqZWN0cywgYnV0IHdlIGRvbid0IG5lZWQgdG8gcGVyZm9ybSBhbnkgaGl0IHRlc3RzLlxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZEhpdClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGludGVyYWN0aW9uRXZlbnQudGFyZ2V0KVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpdFRlc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGhpdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBubyBwb2ludCBydW5uaW5nIHRoaXMgaWYgdGhlIGl0ZW0gaXMgbm90IGludGVyYWN0aXZlIG9yIGRvZXMgbm90IGhhdmUgYW4gaW50ZXJhY3RpdmUgcGFyZW50LlxuICAgICAgICBpZiAoaW50ZXJhY3RpdmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGlmIHdlIGFyZSBoaXQgdGVzdGluZyAoYXMgaW4gd2UgaGF2ZSBubyBoaXQgYW55IG9iamVjdHMgeWV0KVxuICAgICAgICAgICAgLy8gV2UgYWxzbyBkb24ndCBuZWVkIHRvIHdvcnJ5IGFib3V0IGhpdCB0ZXN0aW5nIGlmIG9uY2Ugb2YgdGhlIGRpc3BsYXlPYmplY3RzIGNoaWxkcmVuXG4gICAgICAgICAgICAvLyBoYXMgYWxyZWFkeSBiZWVuIGhpdCAtIGJ1dCBvbmx5IGlmIGl0IHdhcyBpbnRlcmFjdGl2ZSwgb3RoZXJ3aXNlIHdlIG5lZWQgdG8ga2VlcFxuICAgICAgICAgICAgLy8gbG9va2luZyBmb3IgYW4gaW50ZXJhY3RpdmUgY2hpbGQsIGp1c3QgaW4gY2FzZSB3ZSBoaXQgb25lXG4gICAgICAgICAgICBpZiAoaGl0VGVzdCAmJiAhaW50ZXJhY3Rpb25FdmVudC50YXJnZXQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gYWxyZWFkeSB0ZXN0ZWQgYWdhaW5zdCBoaXRBcmVhIGlmIGl0IGlzIGRlZmluZWRcbiAgICAgICAgICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QuaGl0QXJlYSAmJiBkaXNwbGF5T2JqZWN0LmNvbnRhaW5zUG9pbnQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5jb250YWluc1BvaW50KHBvaW50KSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGl0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QuaW50ZXJhY3RpdmUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGhpdCAmJiAhaW50ZXJhY3Rpb25FdmVudC50YXJnZXQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LnRhcmdldCA9IGRpc3BsYXlPYmplY3Q7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGZ1bmMpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBmdW5jKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsICEhaGl0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGVsYXllZEV2ZW50cyA9IHRoaXMuZGVsYXllZEV2ZW50cztcblxuICAgICAgICBpZiAoZGVsYXllZEV2ZW50cy5sZW5ndGggJiYgIXNraXBEZWxheWVkKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBSZXNldCB0aGUgcHJvcGFnYXRpb24gaGludCwgYmVjYXVzZSB3ZSBzdGFydCBkZWVwZXIgaW4gdGhlIHRyZWUgYWdhaW4uXG4gICAgICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LnN0b3BQcm9wYWdhdGlvbkhpbnQgPSBmYWxzZTtcblxuICAgICAgICAgICAgdmFyIGRlbGF5ZWRMZW4gPSBkZWxheWVkRXZlbnRzLmxlbmd0aDtcblxuICAgICAgICAgICAgdGhpcy5kZWxheWVkRXZlbnRzID0gW107XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IGRlbGF5ZWRMZW47IGkkMSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciByZWYgPSBkZWxheWVkRXZlbnRzW2kkMV07XG4gICAgICAgICAgICAgICAgdmFyIGRpc3BsYXlPYmplY3QkMSA9IHJlZi5kaXNwbGF5T2JqZWN0O1xuICAgICAgICAgICAgICAgIHZhciBldmVudFN0cmluZyA9IHJlZi5ldmVudFN0cmluZztcbiAgICAgICAgICAgICAgICB2YXIgZXZlbnREYXRhID0gcmVmLmV2ZW50RGF0YTtcblxuICAgICAgICAgICAgICAgIC8vIFdoZW4gd2UgcmVhY2ggdGhlIG9iamVjdCB3ZSB3YW50ZWQgdG8gc3RvcCBwcm9wYWdhdGluZyBhdCxcbiAgICAgICAgICAgICAgICAvLyBzZXQgdGhlIHByb3BhZ2F0aW9uIGhpbnQuXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50RGF0YS5zdG9wc1Byb3BhZ2F0aW5nQXQgPT09IGRpc3BsYXlPYmplY3QkMSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50RGF0YS5zdG9wUHJvcGFnYXRpb25IaW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCQxLCBldmVudFN0cmluZywgZXZlbnREYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBoaXQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGJ1dHRvbiBpcyBwcmVzc2VkIGRvd24gb24gdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IG9yaWdpbmFsRXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBidXR0b24gYmVpbmcgcHJlc3NlZCBkb3duXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5vblBvaW50ZXJEb3duID0gZnVuY3Rpb24gb25Qb2ludGVyRG93biAob3JpZ2luYWxFdmVudClcbiAgICB7XG4gICAgICAgIC8vIGlmIHdlIHN1cHBvcnQgdG91Y2ggZXZlbnRzLCB0aGVuIG9ubHkgdXNlIHRob3NlIGZvciB0b3VjaCBldmVudHMsIG5vdCBwb2ludGVyIGV2ZW50c1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIG9yaWdpbmFsRXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgdmFyIGV2ZW50cyA9IHRoaXMubm9ybWFsaXplVG9Qb2ludGVyRGF0YShvcmlnaW5hbEV2ZW50KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTm8gbmVlZCB0byBwcmV2ZW50IGRlZmF1bHQgb24gbmF0dXJhbCBwb2ludGVyIGV2ZW50cywgYXMgdGhlcmUgYXJlIG5vIHNpZGUgZWZmZWN0c1xuICAgICAgICAgKiBOb3JtYWxpemVkIGV2ZW50cywgaG93ZXZlciwgbWF5IGhhdmUgdGhlIGRvdWJsZSBtb3VzZWRvd24vdG91Y2hzdGFydCBpc3N1ZSBvbiB0aGUgbmF0aXZlIGFuZHJvaWQgYnJvd3NlcixcbiAgICAgICAgICogc28gc3RpbGwgbmVlZCB0byBiZSBwcmV2ZW50ZWQuXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8vIEd1YXJhbnRlZWQgdGhhdCB0aGVyZSB3aWxsIGJlIGF0IGxlYXN0IG9uZSBldmVudCBpbiBldmVudHMsIGFuZCBhbGwgZXZlbnRzIG11c3QgaGF2ZSB0aGUgc2FtZSBwb2ludGVyIHR5cGVcblxuICAgICAgICBpZiAodGhpcy5hdXRvUHJldmVudERlZmF1bHQgJiYgZXZlbnRzWzBdLmlzTm9ybWFsaXplZClcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGNhbmNlbGFibGUgPSBvcmlnaW5hbEV2ZW50LmNhbmNlbGFibGUgfHwgISgnY2FuY2VsYWJsZScgaW4gb3JpZ2luYWxFdmVudCk7XG5cbiAgICAgICAgICAgIGlmIChjYW5jZWxhYmxlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBldmVudExlbiA9IGV2ZW50cy5sZW5ndGg7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudExlbjsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgZXZlbnQgPSBldmVudHNbaV07XG5cbiAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudCk7XG5cbiAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkV2ZW50ID0gdGhpcy5jb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQodGhpcy5ldmVudERhdGEsIGV2ZW50LCBpbnRlcmFjdGlvbkRhdGEpO1xuXG4gICAgICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEub3JpZ2luYWxFdmVudCA9IG9yaWdpbmFsRXZlbnQ7XG5cbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGludGVyYWN0aW9uRXZlbnQsIHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZCwgdGhpcy5wcm9jZXNzUG9pbnRlckRvd24sIHRydWUpO1xuXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3BvaW50ZXJkb3duJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCd0b3VjaHN0YXJ0JywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBlbWl0IGEgbW91c2UgZXZlbnQgZm9yIFwicGVuXCIgcG9pbnRlcnMsIHRoZSB3YXkgYSBicm93c2VyIHdvdWxkIGVtaXQgYSBmYWxsYmFjayBldmVudFxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdwZW4nKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBpc1JpZ2h0QnV0dG9uID0gZXZlbnQuYnV0dG9uID09PSAyO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KGlzUmlnaHRCdXR0b24gPyAncmlnaHRkb3duJyA6ICdtb3VzZWRvd24nLCB0aGlzLmV2ZW50RGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUHJvY2Vzc2VzIHRoZSByZXN1bHQgb2YgdGhlIHBvaW50ZXIgZG93biBjaGVjayBhbmQgZGlzcGF0Y2hlcyB0aGUgZXZlbnQgaWYgbmVlZCBiZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIFRoZSBpbnRlcmFjdGlvbiBldmVudCB3cmFwcGluZyB0aGUgRE9NIGV2ZW50XG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIFRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IHdhcyB0ZXN0ZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGhpdCAtIHRoZSByZXN1bHQgb2YgdGhlIGhpdCB0ZXN0IG9uIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucHJvY2Vzc1BvaW50ZXJEb3duID0gZnVuY3Rpb24gcHJvY2Vzc1BvaW50ZXJEb3duIChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBoaXQpXG4gICAge1xuICAgICAgICB2YXIgZGF0YSA9IGludGVyYWN0aW9uRXZlbnQuZGF0YTtcbiAgICAgICAgdmFyIGlkID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhLmlkZW50aWZpZXI7XG5cbiAgICAgICAgaWYgKGhpdClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCFkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdID0gbmV3IEludGVyYWN0aW9uVHJhY2tpbmdEYXRhKGlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcmRvd24nLCBpbnRlcmFjdGlvbkV2ZW50KTtcblxuICAgICAgICAgICAgaWYgKGRhdGEucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0b3VjaHN0YXJ0JywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChkYXRhLnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGRhdGEucG9pbnRlclR5cGUgPT09ICdwZW4nKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBpc1JpZ2h0QnV0dG9uID0gZGF0YS5idXR0b24gPT09IDI7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNSaWdodEJ1dHRvbilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXS5yaWdodERvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF0ubGVmdERvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCBpc1JpZ2h0QnV0dG9uID8gJ3JpZ2h0ZG93bicgOiAnbW91c2Vkb3duJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgYnV0dG9uIGlzIHJlbGVhc2VkIG9uIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBvcmlnaW5hbEV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgYnV0dG9uIGJlaW5nIHJlbGVhc2VkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBjYW5jZWxsZWQgLSB0cnVlIGlmIHRoZSBwb2ludGVyIGlzIGNhbmNlbGxlZFxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgLSBGdW5jdGlvbiBwYXNzZWQgdG8ge0BsaW5rIHByb2Nlc3NJbnRlcmFjdGl2ZX1cbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm9uUG9pbnRlckNvbXBsZXRlID0gZnVuY3Rpb24gb25Qb2ludGVyQ29tcGxldGUgKG9yaWdpbmFsRXZlbnQsIGNhbmNlbGxlZCwgZnVuYylcbiAgICB7XG4gICAgICAgIHZhciBldmVudHMgPSB0aGlzLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEob3JpZ2luYWxFdmVudCk7XG5cbiAgICAgICAgdmFyIGV2ZW50TGVuID0gZXZlbnRzLmxlbmd0aDtcblxuICAgICAgICAvLyBpZiB0aGUgZXZlbnQgd2Fzbid0IHRhcmdldGluZyBvdXIgY2FudmFzLCB0aGVuIGNvbnNpZGVyIGl0IHRvIGJlIHBvaW50ZXJ1cG91dHNpZGVcbiAgICAgICAgLy8gaW4gYWxsIGNhc2VzICh1bmxlc3MgaXQgd2FzIGEgcG9pbnRlcmNhbmNlbClcbiAgICAgICAgdmFyIGV2ZW50QXBwZW5kID0gb3JpZ2luYWxFdmVudC50YXJnZXQgIT09IHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50ID8gJ291dHNpZGUnIDogJyc7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudExlbjsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgZXZlbnQgPSBldmVudHNbaV07XG5cbiAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudCk7XG5cbiAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkV2ZW50ID0gdGhpcy5jb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQodGhpcy5ldmVudERhdGEsIGV2ZW50LCBpbnRlcmFjdGlvbkRhdGEpO1xuXG4gICAgICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEub3JpZ2luYWxFdmVudCA9IG9yaWdpbmFsRXZlbnQ7XG5cbiAgICAgICAgICAgIC8vIHBlcmZvcm0gaGl0IHRlc3RpbmcgZm9yIGV2ZW50cyB0YXJnZXRpbmcgb3VyIGNhbnZhcyBvciBjYW5jZWwgZXZlbnRzXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShpbnRlcmFjdGlvbkV2ZW50LCB0aGlzLnJlbmRlcmVyLl9sYXN0T2JqZWN0UmVuZGVyZWQsIGZ1bmMsIGNhbmNlbGxlZCB8fCAhZXZlbnRBcHBlbmQpO1xuXG4gICAgICAgICAgICB0aGlzLmVtaXQoY2FuY2VsbGVkID8gJ3BvaW50ZXJjYW5jZWwnIDogKFwicG9pbnRlcnVwXCIgKyBldmVudEFwcGVuZCksIGludGVyYWN0aW9uRXZlbnQpO1xuXG4gICAgICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdwZW4nKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBpc1JpZ2h0QnV0dG9uID0gZXZlbnQuYnV0dG9uID09PSAyO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KGlzUmlnaHRCdXR0b24gPyAoXCJyaWdodHVwXCIgKyBldmVudEFwcGVuZCkgOiAoXCJtb3VzZXVwXCIgKyBldmVudEFwcGVuZCksIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KGNhbmNlbGxlZCA/ICd0b3VjaGNhbmNlbCcgOiAoXCJ0b3VjaGVuZFwiICsgZXZlbnRBcHBlbmQpLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbGVhc2VJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoZXZlbnQucG9pbnRlcklkLCBpbnRlcmFjdGlvbkRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGJ1dHRvbiBpcyBjYW5jZWxsZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IGV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgYnV0dG9uIGJlaW5nIHJlbGVhc2VkXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5vblBvaW50ZXJDYW5jZWwgPSBmdW5jdGlvbiBvblBvaW50ZXJDYW5jZWwgKGV2ZW50KVxuICAgIHtcbiAgICAgICAgLy8gaWYgd2Ugc3VwcG9ydCB0b3VjaCBldmVudHMsIHRoZW4gb25seSB1c2UgdGhvc2UgZm9yIHRvdWNoIGV2ZW50cywgbm90IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgdGhpcy5vblBvaW50ZXJDb21wbGV0ZShldmVudCwgdHJ1ZSwgdGhpcy5wcm9jZXNzUG9pbnRlckNhbmNlbCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyB0aGUgcmVzdWx0IG9mIHRoZSBwb2ludGVyIGNhbmNlbCBjaGVjayBhbmQgZGlzcGF0Y2hlcyB0aGUgZXZlbnQgaWYgbmVlZCBiZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIFRoZSBpbnRlcmFjdGlvbiBldmVudCB3cmFwcGluZyB0aGUgRE9NIGV2ZW50XG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIFRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IHdhcyB0ZXN0ZWRcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnByb2Nlc3NQb2ludGVyQ2FuY2VsID0gZnVuY3Rpb24gcHJvY2Vzc1BvaW50ZXJDYW5jZWwgKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QpXG4gICAge1xuICAgICAgICB2YXIgZGF0YSA9IGludGVyYWN0aW9uRXZlbnQuZGF0YTtcblxuICAgICAgICB2YXIgaWQgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGEuaWRlbnRpZmllcjtcblxuICAgICAgICBpZiAoZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdICE9PSB1bmRlZmluZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlbGV0ZSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF07XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJjYW5jZWwnLCBpbnRlcmFjdGlvbkV2ZW50KTtcblxuICAgICAgICAgICAgaWYgKGRhdGEucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0b3VjaGNhbmNlbCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGJ1dHRvbiBpcyByZWxlYXNlZCBvbiB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gZXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBidXR0b24gYmVpbmcgcmVsZWFzZWRcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm9uUG9pbnRlclVwID0gZnVuY3Rpb24gb25Qb2ludGVyVXAgKGV2ZW50KVxuICAgIHtcbiAgICAgICAgLy8gaWYgd2Ugc3VwcG9ydCB0b3VjaCBldmVudHMsIHRoZW4gb25seSB1c2UgdGhvc2UgZm9yIHRvdWNoIGV2ZW50cywgbm90IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgdGhpcy5vblBvaW50ZXJDb21wbGV0ZShldmVudCwgZmFsc2UsIHRoaXMucHJvY2Vzc1BvaW50ZXJVcCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyB0aGUgcmVzdWx0IG9mIHRoZSBwb2ludGVyIHVwIGNoZWNrIGFuZCBkaXNwYXRjaGVzIHRoZSBldmVudCBpZiBuZWVkIGJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gVGhlIGludGVyYWN0aW9uIGV2ZW50IHdyYXBwaW5nIHRoZSBET00gZXZlbnRcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gVGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgd2FzIHRlc3RlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaGl0IC0gdGhlIHJlc3VsdCBvZiB0aGUgaGl0IHRlc3Qgb24gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5wcm9jZXNzUG9pbnRlclVwID0gZnVuY3Rpb24gcHJvY2Vzc1BvaW50ZXJVcCAoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgaGl0KVxuICAgIHtcbiAgICAgICAgdmFyIGRhdGEgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGE7XG5cbiAgICAgICAgdmFyIGlkID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhLmlkZW50aWZpZXI7XG5cbiAgICAgICAgdmFyIHRyYWNraW5nRGF0YSA9IGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXTtcblxuICAgICAgICB2YXIgaXNUb3VjaCA9IGRhdGEucG9pbnRlclR5cGUgPT09ICd0b3VjaCc7XG5cbiAgICAgICAgdmFyIGlzTW91c2UgPSAoZGF0YS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBkYXRhLnBvaW50ZXJUeXBlID09PSAncGVuJyk7XG4gICAgICAgIC8vIG5lZWQgdG8gdHJhY2sgbW91c2UgZG93biBzdGF0dXMgaW4gdGhlIG1vdXNlIGJsb2NrIHNvIHRoYXQgd2UgY2FuIGVtaXRcbiAgICAgICAgLy8gZXZlbnQgaW4gYSBsYXRlciBibG9ja1xuICAgICAgICB2YXIgaXNNb3VzZVRhcCA9IGZhbHNlO1xuXG4gICAgICAgIC8vIE1vdXNlIG9ubHlcbiAgICAgICAgaWYgKGlzTW91c2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBpc1JpZ2h0QnV0dG9uID0gZGF0YS5idXR0b24gPT09IDI7XG5cbiAgICAgICAgICAgIHZhciBmbGFncyA9IEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLkZMQUdTO1xuXG4gICAgICAgICAgICB2YXIgdGVzdCA9IGlzUmlnaHRCdXR0b24gPyBmbGFncy5SSUdIVF9ET1dOIDogZmxhZ3MuTEVGVF9ET1dOO1xuXG4gICAgICAgICAgICB2YXIgaXNEb3duID0gdHJhY2tpbmdEYXRhICE9PSB1bmRlZmluZWQgJiYgKHRyYWNraW5nRGF0YS5mbGFncyAmIHRlc3QpO1xuXG4gICAgICAgICAgICBpZiAoaGl0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCBpc1JpZ2h0QnV0dG9uID8gJ3JpZ2h0dXAnIDogJ21vdXNldXAnLCBpbnRlcmFjdGlvbkV2ZW50KTtcblxuICAgICAgICAgICAgICAgIGlmIChpc0Rvd24pXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgaXNSaWdodEJ1dHRvbiA/ICdyaWdodGNsaWNrJyA6ICdjbGljaycsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAvLyBiZWNhdXNlIHdlIGNhbiBjb25maXJtIHRoYXQgdGhlIG1vdXNlZG93biBoYXBwZW5lZCBvbiB0aGlzIG9iamVjdCwgZmxhZyBmb3IgbGF0ZXIgZW1pdCBvZiBwb2ludGVydGFwXG4gICAgICAgICAgICAgICAgICAgIGlzTW91c2VUYXAgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzRG93bilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgaXNSaWdodEJ1dHRvbiA/ICdyaWdodHVwb3V0c2lkZScgOiAnbW91c2V1cG91dHNpZGUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgZG93biBzdGF0ZSBvZiB0aGUgdHJhY2tpbmcgZGF0YVxuICAgICAgICAgICAgaWYgKHRyYWNraW5nRGF0YSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNSaWdodEJ1dHRvbilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRyYWNraW5nRGF0YS5yaWdodERvd24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhY2tpbmdEYXRhLmxlZnREb3duID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gUG9pbnRlcnMgYW5kIFRvdWNoZXMsIGFuZCBNb3VzZVxuICAgICAgICBpZiAoaGl0KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJ1cCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGlzVG91Y2gpIHsgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0b3VjaGVuZCcsIGludGVyYWN0aW9uRXZlbnQpOyB9XG5cbiAgICAgICAgICAgIGlmICh0cmFja2luZ0RhdGEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gZW1pdCBwb2ludGVydGFwIGlmIG5vdCBhIG1vdXNlLCBvciBpZiB0aGUgbW91c2UgYmxvY2sgZGVjaWRlZCBpdCB3YXMgYSB0YXBcbiAgICAgICAgICAgICAgICBpZiAoIWlzTW91c2UgfHwgaXNNb3VzZVRhcClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcnRhcCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXNUb3VjaClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAndGFwJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRvdWNoZXMgYXJlIG5vIGxvbmdlciBvdmVyIChpZiB0aGV5IGV2ZXIgd2VyZSkgd2hlbiB3ZSBnZXQgdGhlIHRvdWNoZW5kXG4gICAgICAgICAgICAgICAgICAgIC8vIHNvIHdlIHNob3VsZCBlbnN1cmUgdGhhdCB3ZSBkb24ndCBrZWVwIHByZXRlbmRpbmcgdGhhdCB0aGV5IGFyZVxuICAgICAgICAgICAgICAgICAgICB0cmFja2luZ0RhdGEub3ZlciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0cmFja2luZ0RhdGEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcnVwb3V0c2lkZScsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGlzVG91Y2gpIHsgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0b3VjaGVuZG91dHNpZGUnLCBpbnRlcmFjdGlvbkV2ZW50KTsgfVxuICAgICAgICB9XG4gICAgICAgIC8vIE9ubHkgcmVtb3ZlIHRoZSB0cmFja2luZyBkYXRhIGlmIHRoZXJlIGlzIG5vIG92ZXIvZG93biBzdGF0ZSBzdGlsbCBhc3NvY2lhdGVkIHdpdGggaXRcbiAgICAgICAgaWYgKHRyYWNraW5nRGF0YSAmJiB0cmFja2luZ0RhdGEubm9uZSlcbiAgICAgICAge1xuICAgICAgICAgICAgZGVsZXRlIGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBtb3ZlcyBhY3Jvc3MgdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IG9yaWdpbmFsRXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBtb3ZpbmdcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm9uUG9pbnRlck1vdmUgPSBmdW5jdGlvbiBvblBvaW50ZXJNb3ZlIChvcmlnaW5hbEV2ZW50KVxuICAgIHtcbiAgICAgICAgLy8gaWYgd2Ugc3VwcG9ydCB0b3VjaCBldmVudHMsIHRoZW4gb25seSB1c2UgdGhvc2UgZm9yIHRvdWNoIGV2ZW50cywgbm90IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgb3JpZ2luYWxFdmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykgeyByZXR1cm47IH1cblxuICAgICAgICB2YXIgZXZlbnRzID0gdGhpcy5ub3JtYWxpemVUb1BvaW50ZXJEYXRhKG9yaWdpbmFsRXZlbnQpO1xuXG4gICAgICAgIGlmIChldmVudHNbMF0ucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnRzWzBdLnBvaW50ZXJUeXBlID09PSAncGVuJylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kaWRNb3ZlID0gdHJ1ZTtcblxuICAgICAgICAgICAgdGhpcy5jdXJzb3IgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGV2ZW50TGVuID0gZXZlbnRzLmxlbmd0aDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50TGVuOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBldmVudCA9IGV2ZW50c1tpXTtcblxuICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50KTtcblxuICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSwgZXZlbnQsIGludGVyYWN0aW9uRGF0YSk7XG5cbiAgICAgICAgICAgIGludGVyYWN0aW9uRXZlbnQuZGF0YS5vcmlnaW5hbEV2ZW50ID0gb3JpZ2luYWxFdmVudDtcblxuICAgICAgICAgICAgdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmUoaW50ZXJhY3Rpb25FdmVudCwgdGhpcy5yZW5kZXJlci5fbGFzdE9iamVjdFJlbmRlcmVkLCB0aGlzLnByb2Nlc3NQb2ludGVyTW92ZSwgdHJ1ZSk7XG5cbiAgICAgICAgICAgIHRoaXMuZW1pdCgncG9pbnRlcm1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykgeyB0aGlzLmVtaXQoJ3RvdWNobW92ZScsIGludGVyYWN0aW9uRXZlbnQpOyB9XG4gICAgICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdwZW4nKSB7IHRoaXMuZW1pdCgnbW91c2Vtb3ZlJywgaW50ZXJhY3Rpb25FdmVudCk7IH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChldmVudHNbMF0ucG9pbnRlclR5cGUgPT09ICdtb3VzZScpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc2V0Q3Vyc29yTW9kZSh0aGlzLmN1cnNvcik7XG5cbiAgICAgICAgICAgIC8vIFRPRE8gQlVHIGZvciBwYXJlbnRzIGludGVyYWN0aXZlIG9iamVjdCAoYm9yZGVyIG9yZGVyIGlzc3VlKVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyB0aGUgcmVzdWx0IG9mIHRoZSBwb2ludGVyIG1vdmUgY2hlY2sgYW5kIGRpc3BhdGNoZXMgdGhlIGV2ZW50IGlmIG5lZWQgYmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBUaGUgaW50ZXJhY3Rpb24gZXZlbnQgd3JhcHBpbmcgdGhlIERPTSBldmVudFxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgdGVzdGVkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBoaXQgLSB0aGUgcmVzdWx0IG9mIHRoZSBoaXQgdGVzdCBvbiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnByb2Nlc3NQb2ludGVyTW92ZSA9IGZ1bmN0aW9uIHByb2Nlc3NQb2ludGVyTW92ZSAoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgaGl0KVxuICAgIHtcbiAgICAgICAgdmFyIGRhdGEgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGE7XG5cbiAgICAgICAgdmFyIGlzVG91Y2ggPSBkYXRhLnBvaW50ZXJUeXBlID09PSAndG91Y2gnO1xuXG4gICAgICAgIHZhciBpc01vdXNlID0gKGRhdGEucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3BlbicpO1xuXG4gICAgICAgIGlmIChpc01vdXNlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBoaXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLm1vdmVXaGVuSW5zaWRlIHx8IGhpdClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVybW92ZScsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGlzVG91Y2gpIHsgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0b3VjaG1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTsgfVxuICAgICAgICAgICAgaWYgKGlzTW91c2UpIHsgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdtb3VzZW1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTsgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGlzIG1vdmVkIG91dCBvZiB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gb3JpZ2luYWxFdmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIGJlaW5nIG1vdmVkIG91dFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyT3V0ID0gZnVuY3Rpb24gb25Qb2ludGVyT3V0IChvcmlnaW5hbEV2ZW50KVxuICAgIHtcbiAgICAgICAgLy8gaWYgd2Ugc3VwcG9ydCB0b3VjaCBldmVudHMsIHRoZW4gb25seSB1c2UgdGhvc2UgZm9yIHRvdWNoIGV2ZW50cywgbm90IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgb3JpZ2luYWxFdmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykgeyByZXR1cm47IH1cblxuICAgICAgICB2YXIgZXZlbnRzID0gdGhpcy5ub3JtYWxpemVUb1BvaW50ZXJEYXRhKG9yaWdpbmFsRXZlbnQpO1xuXG4gICAgICAgIC8vIE9ubHkgbW91c2UgYW5kIHBvaW50ZXIgY2FuIGNhbGwgb25Qb2ludGVyT3V0LCBzbyBldmVudHMgd2lsbCBhbHdheXMgYmUgbGVuZ3RoIDFcbiAgICAgICAgdmFyIGV2ZW50ID0gZXZlbnRzWzBdO1xuXG4gICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5tb3VzZU92ZXJSZW5kZXJlciA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5zZXRDdXJzb3JNb2RlKG51bGwpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50KTtcblxuICAgICAgICB2YXIgaW50ZXJhY3Rpb25FdmVudCA9IHRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KHRoaXMuZXZlbnREYXRhLCBldmVudCwgaW50ZXJhY3Rpb25EYXRhKTtcblxuICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEub3JpZ2luYWxFdmVudCA9IGV2ZW50O1xuXG4gICAgICAgIHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGludGVyYWN0aW9uRXZlbnQsIHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZCwgdGhpcy5wcm9jZXNzUG9pbnRlck92ZXJPdXQsIGZhbHNlKTtcblxuICAgICAgICB0aGlzLmVtaXQoJ3BvaW50ZXJvdXQnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSAncGVuJylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdtb3VzZW91dCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gd2UgY2FuIGdldCB0b3VjaGxlYXZlIGV2ZW50cyBhZnRlciB0b3VjaGVuZCwgc28gd2Ugd2FudCB0byBtYWtlIHN1cmUgd2UgZG9uJ3RcbiAgICAgICAgICAgIC8vIGludHJvZHVjZSBtZW1vcnkgbGVha3NcbiAgICAgICAgICAgIHRoaXMucmVsZWFzZUludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChpbnRlcmFjdGlvbkRhdGEuaWRlbnRpZmllcik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUHJvY2Vzc2VzIHRoZSByZXN1bHQgb2YgdGhlIHBvaW50ZXIgb3Zlci9vdXQgY2hlY2sgYW5kIGRpc3BhdGNoZXMgdGhlIGV2ZW50IGlmIG5lZWQgYmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBUaGUgaW50ZXJhY3Rpb24gZXZlbnQgd3JhcHBpbmcgdGhlIERPTSBldmVudFxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgdGVzdGVkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBoaXQgLSB0aGUgcmVzdWx0IG9mIHRoZSBoaXQgdGVzdCBvbiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnByb2Nlc3NQb2ludGVyT3Zlck91dCA9IGZ1bmN0aW9uIHByb2Nlc3NQb2ludGVyT3Zlck91dCAoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgaGl0KVxuICAgIHtcbiAgICAgICAgdmFyIGRhdGEgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGE7XG5cbiAgICAgICAgdmFyIGlkID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhLmlkZW50aWZpZXI7XG5cbiAgICAgICAgdmFyIGlzTW91c2UgPSAoZGF0YS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBkYXRhLnBvaW50ZXJUeXBlID09PSAncGVuJyk7XG5cbiAgICAgICAgdmFyIHRyYWNraW5nRGF0YSA9IGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXTtcblxuICAgICAgICAvLyBpZiB3ZSBqdXN0IG1vdXNlZCBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdCwgdGhlbiB3ZSBuZWVkIHRvIHRyYWNrIHRoYXQgc3RhdGVcbiAgICAgICAgaWYgKGhpdCAmJiAhdHJhY2tpbmdEYXRhKVxuICAgICAgICB7XG4gICAgICAgICAgICB0cmFja2luZ0RhdGEgPSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF0gPSBuZXcgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEoaWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRyYWNraW5nRGF0YSA9PT0gdW5kZWZpbmVkKSB7IHJldHVybjsgfVxuXG4gICAgICAgIGlmIChoaXQgJiYgdGhpcy5tb3VzZU92ZXJSZW5kZXJlcilcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCF0cmFja2luZ0RhdGEub3ZlcilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0cmFja2luZ0RhdGEub3ZlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWxheURpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJvdmVyJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgaWYgKGlzTW91c2UpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGF5RGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAnbW91c2VvdmVyJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBvbmx5IGNoYW5nZSB0aGUgY3Vyc29yIGlmIGl0IGhhcyBub3QgYWxyZWFkeSBiZWVuIGNoYW5nZWQgKGJ5IHNvbWV0aGluZyBkZWVwZXIgaW4gdGhlXG4gICAgICAgICAgICAvLyBkaXNwbGF5IHRyZWUpXG4gICAgICAgICAgICBpZiAoaXNNb3VzZSAmJiB0aGlzLmN1cnNvciA9PT0gbnVsbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnNvciA9IGRpc3BsYXlPYmplY3QuY3Vyc29yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRyYWNraW5nRGF0YS5vdmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICB0cmFja2luZ0RhdGEub3ZlciA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVyb3V0JywgdGhpcy5ldmVudERhdGEpO1xuICAgICAgICAgICAgaWYgKGlzTW91c2UpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdtb3VzZW91dCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXMgbm8gbW91c2UgZG93biBpbmZvcm1hdGlvbiBmb3IgdGhlIHBvaW50ZXIsIHRoZW4gaXQgaXMgc2FmZSB0byBkZWxldGVcbiAgICAgICAgICAgIGlmICh0cmFja2luZ0RhdGEubm9uZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGlzIG1vdmVkIGludG8gdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IG9yaWdpbmFsRXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBidXR0b24gYmVpbmcgbW92ZWQgaW50byB0aGUgcmVuZGVyZXIgdmlld1xuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyT3ZlciA9IGZ1bmN0aW9uIG9uUG9pbnRlck92ZXIgKG9yaWdpbmFsRXZlbnQpXG4gICAge1xuICAgICAgICB2YXIgZXZlbnRzID0gdGhpcy5ub3JtYWxpemVUb1BvaW50ZXJEYXRhKG9yaWdpbmFsRXZlbnQpO1xuXG4gICAgICAgIC8vIE9ubHkgbW91c2UgYW5kIHBvaW50ZXIgY2FuIGNhbGwgb25Qb2ludGVyT3Zlciwgc28gZXZlbnRzIHdpbGwgYWx3YXlzIGJlIGxlbmd0aCAxXG4gICAgICAgIHZhciBldmVudCA9IGV2ZW50c1swXTtcblxuICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5nZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoZXZlbnQpO1xuXG4gICAgICAgIHZhciBpbnRlcmFjdGlvbkV2ZW50ID0gdGhpcy5jb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQodGhpcy5ldmVudERhdGEsIGV2ZW50LCBpbnRlcmFjdGlvbkRhdGEpO1xuXG4gICAgICAgIGludGVyYWN0aW9uRXZlbnQuZGF0YS5vcmlnaW5hbEV2ZW50ID0gZXZlbnQ7XG5cbiAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm1vdXNlT3ZlclJlbmRlcmVyID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZW1pdCgncG9pbnRlcm92ZXInLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSAncGVuJylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdtb3VzZW92ZXInLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXQgSW50ZXJhY3Rpb25EYXRhIGZvciBhIGdpdmVuIHBvaW50ZXJJZC4gU3RvcmUgdGhhdCBkYXRhIGFzIHdlbGxcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IGV2ZW50IC0gTm9ybWFsaXplZCBwb2ludGVyIGV2ZW50LCBvdXRwdXQgZnJvbSBub3JtYWxpemVUb1BvaW50ZXJEYXRhXG4gICAgICogQHJldHVybiB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkRhdGF9IC0gSW50ZXJhY3Rpb24gZGF0YSBmb3IgdGhlIGdpdmVuIHBvaW50ZXIgaWRlbnRpZmllclxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkID0gZnVuY3Rpb24gZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkIChldmVudClcbiAgICB7XG4gICAgICAgIHZhciBwb2ludGVySWQgPSBldmVudC5wb2ludGVySWQ7XG5cbiAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YTtcblxuICAgICAgICBpZiAocG9pbnRlcklkID09PSBNT1VTRV9QT0lOVEVSX0lEIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnKVxuICAgICAgICB7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLm1vdXNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW3BvaW50ZXJJZF0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW3BvaW50ZXJJZF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmludGVyYWN0aW9uRGF0YVBvb2wucG9wKCkgfHwgbmV3IEludGVyYWN0aW9uRGF0YSgpO1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhLmlkZW50aWZpZXIgPSBwb2ludGVySWQ7XG4gICAgICAgICAgICB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtwb2ludGVySWRdID0gaW50ZXJhY3Rpb25EYXRhO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNvcHkgcHJvcGVydGllcyBmcm9tIHRoZSBldmVudCwgc28gdGhhdCB3ZSBjYW4gbWFrZSBzdXJlIHRoYXQgdG91Y2gvcG9pbnRlciBzcGVjaWZpY1xuICAgICAgICAvLyBkYXRhIGlzIGF2YWlsYWJsZVxuICAgICAgICBpbnRlcmFjdGlvbkRhdGEuY29weUV2ZW50KGV2ZW50KTtcblxuICAgICAgICByZXR1cm4gaW50ZXJhY3Rpb25EYXRhO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdW51c2VkIEludGVyYWN0aW9uRGF0YSB0byB0aGUgcG9vbCwgZm9yIGEgZ2l2ZW4gcG9pbnRlcklkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwb2ludGVySWQgLSBJZGVudGlmaWVyIGZyb20gYSBwb2ludGVyIGV2ZW50XG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5yZWxlYXNlSW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkID0gZnVuY3Rpb24gcmVsZWFzZUludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZCAocG9pbnRlcklkKVxuICAgIHtcbiAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW3BvaW50ZXJJZF07XG5cbiAgICAgICAgaWYgKGludGVyYWN0aW9uRGF0YSlcbiAgICAgICAge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW3BvaW50ZXJJZF07XG4gICAgICAgICAgICBpbnRlcmFjdGlvbkRhdGEucmVzZXQoKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25EYXRhUG9vbC5wdXNoKGludGVyYWN0aW9uRGF0YSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29uZmlndXJlIGFuIEludGVyYWN0aW9uRXZlbnQgdG8gd3JhcCBhIERPTSBQb2ludGVyRXZlbnQgYW5kIEludGVyYWN0aW9uRGF0YVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIFRoZSBldmVudCB0byBiZSBjb25maWd1cmVkXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IHBvaW50ZXJFdmVudCAtIFRoZSBET00gZXZlbnQgdGhhdCB3aWxsIGJlIHBhaXJlZCB3aXRoIHRoZSBJbnRlcmFjdGlvbkV2ZW50XG4gICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRGF0YX0gaW50ZXJhY3Rpb25EYXRhIC0gVGhlIEludGVyYWN0aW9uRGF0YSB0aGF0IHdpbGwgYmUgcGFpcmVkXG4gICAgICogICAgICAgIHdpdGggdGhlIEludGVyYWN0aW9uRXZlbnRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IHRoZSBpbnRlcmFjdGlvbiBldmVudCB0aGF0IHdhcyBwYXNzZWQgaW5cbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCA9IGZ1bmN0aW9uIGNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCAoaW50ZXJhY3Rpb25FdmVudCwgcG9pbnRlckV2ZW50LCBpbnRlcmFjdGlvbkRhdGEpXG4gICAge1xuICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEgPSBpbnRlcmFjdGlvbkRhdGE7XG5cbiAgICAgICAgdGhpcy5tYXBQb3NpdGlvblRvUG9pbnQoaW50ZXJhY3Rpb25EYXRhLmdsb2JhbCwgcG9pbnRlckV2ZW50LmNsaWVudFgsIHBvaW50ZXJFdmVudC5jbGllbnRZKTtcblxuICAgICAgICAvLyBOb3QgcmVhbGx5IHN1cmUgd2h5IHRoaXMgaXMgaGFwcGVuaW5nLCBidXQgaXQncyBob3cgYSBwcmV2aW91cyB2ZXJzaW9uIGhhbmRsZWQgdGhpbmdzXG4gICAgICAgIGlmIChwb2ludGVyRXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHBvaW50ZXJFdmVudC5nbG9iYWxYID0gaW50ZXJhY3Rpb25EYXRhLmdsb2JhbC54O1xuICAgICAgICAgICAgcG9pbnRlckV2ZW50Lmdsb2JhbFkgPSBpbnRlcmFjdGlvbkRhdGEuZ2xvYmFsLnk7XG4gICAgICAgIH1cblxuICAgICAgICBpbnRlcmFjdGlvbkRhdGEub3JpZ2luYWxFdmVudCA9IHBvaW50ZXJFdmVudDtcbiAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5yZXNldCgpO1xuXG4gICAgICAgIHJldHVybiBpbnRlcmFjdGlvbkV2ZW50O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFbnN1cmVzIHRoYXQgdGhlIG9yaWdpbmFsIGV2ZW50IG9iamVjdCBjb250YWlucyBhbGwgZGF0YSB0aGF0IGEgcmVndWxhciBwb2ludGVyIGV2ZW50IHdvdWxkIGhhdmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtUb3VjaEV2ZW50fE1vdXNlRXZlbnR8UG9pbnRlckV2ZW50fSBldmVudCAtIFRoZSBvcmlnaW5hbCBldmVudCBkYXRhIGZyb20gYSB0b3VjaCBvciBtb3VzZSBldmVudFxuICAgICAqIEByZXR1cm4ge1BvaW50ZXJFdmVudFtdfSBBbiBhcnJheSBjb250YWluaW5nIGEgc2luZ2xlIG5vcm1hbGl6ZWQgcG9pbnRlciBldmVudCwgaW4gdGhlIGNhc2Ugb2YgYSBwb2ludGVyXG4gICAgICogIG9yIG1vdXNlIGV2ZW50LCBvciBhIG11bHRpcGxlIG5vcm1hbGl6ZWQgcG9pbnRlciBldmVudHMgaWYgdGhlcmUgYXJlIG11bHRpcGxlIGNoYW5nZWQgdG91Y2hlc1xuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUubm9ybWFsaXplVG9Qb2ludGVyRGF0YSA9IGZ1bmN0aW9uIG5vcm1hbGl6ZVRvUG9pbnRlckRhdGEgKGV2ZW50KVxuICAgIHtcbiAgICAgICAgdmFyIG5vcm1hbGl6ZWRFdmVudHMgPSBbXTtcblxuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIGV2ZW50IGluc3RhbmNlb2YgVG91Y2hFdmVudClcbiAgICAgICAge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxpID0gZXZlbnQuY2hhbmdlZFRvdWNoZXMubGVuZ3RoOyBpIDwgbGk7IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgdG91Y2ggPSBldmVudC5jaGFuZ2VkVG91Y2hlc1tpXTtcblxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2guYnV0dG9uID09PSAndW5kZWZpbmVkJykgeyB0b3VjaC5idXR0b24gPSBldmVudC50b3VjaGVzLmxlbmd0aCA/IDEgOiAwOyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5idXR0b25zID09PSAndW5kZWZpbmVkJykgeyB0b3VjaC5idXR0b25zID0gZXZlbnQudG91Y2hlcy5sZW5ndGggPyAxIDogMDsgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2guaXNQcmltYXJ5ID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRvdWNoLmlzUHJpbWFyeSA9IGV2ZW50LnRvdWNoZXMubGVuZ3RoID09PSAxICYmIGV2ZW50LnR5cGUgPT09ICd0b3VjaHN0YXJ0JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC53aWR0aCA9PT0gJ3VuZGVmaW5lZCcpIHsgdG91Y2gud2lkdGggPSB0b3VjaC5yYWRpdXNYIHx8IDE7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmhlaWdodCA9PT0gJ3VuZGVmaW5lZCcpIHsgdG91Y2guaGVpZ2h0ID0gdG91Y2gucmFkaXVzWSB8fCAxOyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC50aWx0WCA9PT0gJ3VuZGVmaW5lZCcpIHsgdG91Y2gudGlsdFggPSAwOyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC50aWx0WSA9PT0gJ3VuZGVmaW5lZCcpIHsgdG91Y2gudGlsdFkgPSAwOyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5wb2ludGVyVHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHsgdG91Y2gucG9pbnRlclR5cGUgPSAndG91Y2gnOyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5wb2ludGVySWQgPT09ICd1bmRlZmluZWQnKSB7IHRvdWNoLnBvaW50ZXJJZCA9IHRvdWNoLmlkZW50aWZpZXIgfHwgMDsgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gucHJlc3N1cmUgPT09ICd1bmRlZmluZWQnKSB7IHRvdWNoLnByZXNzdXJlID0gdG91Y2guZm9yY2UgfHwgMC41OyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC50d2lzdCA9PT0gJ3VuZGVmaW5lZCcpIHsgdG91Y2gudHdpc3QgPSAwOyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC50YW5nZW50aWFsUHJlc3N1cmUgPT09ICd1bmRlZmluZWQnKSB7IHRvdWNoLnRhbmdlbnRpYWxQcmVzc3VyZSA9IDA7IH1cbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBSZW1vdmUgdGhlc2UsIGFzIGxheWVyWC9ZIGlzIG5vdCBhIHN0YW5kYXJkLCBpcyBkZXByZWNhdGVkLCBoYXMgdW5ldmVuXG4gICAgICAgICAgICAgICAgLy8gc3VwcG9ydCwgYW5kIHRoZSBmaWxsIGlucyBhcmUgbm90IHF1aXRlIHRoZSBzYW1lXG4gICAgICAgICAgICAgICAgLy8gb2Zmc2V0WC9ZIG1pZ2h0IGJlIG9rYXksIGJ1dCBpcyBub3QgdGhlIHNhbWUgYXMgY2xpZW50WC9ZIHdoZW4gdGhlIGNhbnZhcydzIHRvcFxuICAgICAgICAgICAgICAgIC8vIGxlZnQgaXMgbm90IDAsMCBvbiB0aGUgcGFnZVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gubGF5ZXJYID09PSAndW5kZWZpbmVkJykgeyB0b3VjaC5sYXllclggPSB0b3VjaC5vZmZzZXRYID0gdG91Y2guY2xpZW50WDsgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gubGF5ZXJZID09PSAndW5kZWZpbmVkJykgeyB0b3VjaC5sYXllclkgPSB0b3VjaC5vZmZzZXRZID0gdG91Y2guY2xpZW50WTsgfVxuXG4gICAgICAgICAgICAgICAgLy8gbWFyayB0aGUgdG91Y2ggYXMgbm9ybWFsaXplZCwganVzdCBzbyB0aGF0IHdlIGtub3cgd2UgZGlkIGl0XG4gICAgICAgICAgICAgICAgdG91Y2guaXNOb3JtYWxpemVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRFdmVudHMucHVzaCh0b3VjaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gYXBwYXJlbnRseSBQb2ludGVyRXZlbnQgc3ViY2xhc3NlcyBNb3VzZUV2ZW50LCBzbyB5YXlcbiAgICAgICAgZWxzZSBpZiAoZXZlbnQgaW5zdGFuY2VvZiBNb3VzZUV2ZW50ICYmICghdGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMgfHwgIShldmVudCBpbnN0YW5jZW9mIHdpbmRvdy5Qb2ludGVyRXZlbnQpKSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC5pc1ByaW1hcnkgPT09ICd1bmRlZmluZWQnKSB7IGV2ZW50LmlzUHJpbWFyeSA9IHRydWU7IH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQud2lkdGggPT09ICd1bmRlZmluZWQnKSB7IGV2ZW50LndpZHRoID0gMTsgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC5oZWlnaHQgPT09ICd1bmRlZmluZWQnKSB7IGV2ZW50LmhlaWdodCA9IDE7IH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQudGlsdFggPT09ICd1bmRlZmluZWQnKSB7IGV2ZW50LnRpbHRYID0gMDsgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC50aWx0WSA9PT0gJ3VuZGVmaW5lZCcpIHsgZXZlbnQudGlsdFkgPSAwOyB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LnBvaW50ZXJUeXBlID09PSAndW5kZWZpbmVkJykgeyBldmVudC5wb2ludGVyVHlwZSA9ICdtb3VzZSc7IH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQucG9pbnRlcklkID09PSAndW5kZWZpbmVkJykgeyBldmVudC5wb2ludGVySWQgPSBNT1VTRV9QT0lOVEVSX0lEOyB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LnByZXNzdXJlID09PSAndW5kZWZpbmVkJykgeyBldmVudC5wcmVzc3VyZSA9IDAuNTsgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC50d2lzdCA9PT0gJ3VuZGVmaW5lZCcpIHsgZXZlbnQudHdpc3QgPSAwOyB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LnRhbmdlbnRpYWxQcmVzc3VyZSA9PT0gJ3VuZGVmaW5lZCcpIHsgZXZlbnQudGFuZ2VudGlhbFByZXNzdXJlID0gMDsgfVxuXG4gICAgICAgICAgICAvLyBtYXJrIHRoZSBtb3VzZSBldmVudCBhcyBub3JtYWxpemVkLCBqdXN0IHNvIHRoYXQgd2Uga25vdyB3ZSBkaWQgaXRcbiAgICAgICAgICAgIGV2ZW50LmlzTm9ybWFsaXplZCA9IHRydWU7XG5cbiAgICAgICAgICAgIG5vcm1hbGl6ZWRFdmVudHMucHVzaChldmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBub3JtYWxpemVkRXZlbnRzLnB1c2goZXZlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZWRFdmVudHM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBpbnRlcmFjdGlvbiBtYW5hZ2VyXG4gICAgICpcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95ICgpXG4gICAge1xuICAgICAgICB0aGlzLnJlbW92ZUV2ZW50cygpO1xuXG4gICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5tb3VzZSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5ldmVudERhdGEgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50ID0gbnVsbDtcblxuICAgICAgICB0aGlzLm9uUG9pbnRlckRvd24gPSBudWxsO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyRG93biA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5vblBvaW50ZXJVcCA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJVcCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5vblBvaW50ZXJDYW5jZWwgPSBudWxsO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyQ2FuY2VsID0gbnVsbDtcblxuICAgICAgICB0aGlzLm9uUG9pbnRlck1vdmUgPSBudWxsO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyTW92ZSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5vblBvaW50ZXJPdXQgPSBudWxsO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5vblBvaW50ZXJPdmVyID0gbnVsbDtcblxuICAgICAgICB0aGlzLl90ZW1wUG9pbnQgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gSW50ZXJhY3Rpb25NYW5hZ2VyO1xufShFdmVudEVtaXR0ZXIpKTtcblxuLyoqXG4gKiBUaGlzIG5hbWVzcGFjZSBjb250YWlucyBhIHJlbmRlcmVyIHBsdWdpbiBmb3IgaGFuZGxpbmcgbW91c2UsIHBvaW50ZXIsIGFuZCB0b3VjaCBldmVudHMuXG4gKlxuICogRG8gbm90IGluc3RhbnRpYXRlIHRoaXMgcGx1Z2luIGRpcmVjdGx5LiBJdCBpcyBhdmFpbGFibGUgZnJvbSB0aGUgYHJlbmRlcmVyLnBsdWdpbnNgIHByb3BlcnR5LlxuICogU2VlIHtAbGluayBQSVhJLkNhbnZhc1JlbmRlcmVyI3BsdWdpbnN9IG9yIHtAbGluayBQSVhJLlJlbmRlcmVyI3BsdWdpbnN9LlxuICogQG5hbWVzcGFjZSBQSVhJLmludGVyYWN0aW9uXG4gKi9cblxuZXhwb3J0IHsgSW50ZXJhY3Rpb25EYXRhLCBJbnRlcmFjdGlvbkV2ZW50LCBJbnRlcmFjdGlvbk1hbmFnZXIsIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLCBpbnRlcmFjdGl2ZVRhcmdldCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW50ZXJhY3Rpb24uZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2dyYXBoaWNzIC0gdjUuMS40XG4gKiBDb21waWxlZCBGcmksIDIwIFNlcCAyMDE5IDE3OjE3OjU5IFVUQ1xuICpcbiAqIEBwaXhpL2dyYXBoaWNzIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgVGV4dHVyZSwgQmFzZVRleHR1cmUsIEJhdGNoRHJhd0NhbGwsIEJhdGNoR2VvbWV0cnksIFVuaWZvcm1Hcm91cCwgU2hhZGVyLCBTdGF0ZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgU0hBUEVTLCBQb2ludCwgUElfMiwgUG9seWdvbiwgUmVjdGFuZ2xlLCBSb3VuZGVkUmVjdGFuZ2xlLCBDaXJjbGUsIEVsbGlwc2UsIE1hdHJpeCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgZWFyY3V0LCBwcmVtdWx0aXBseVRpbnQsIGhleDJyZ2IgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBCb3VuZHMsIENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgV1JBUF9NT0RFUywgRFJBV19NT0RFUywgQkxFTkRfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG4vKipcbiAqIEdyYXBoaWNzIGN1cnZlcyByZXNvbHV0aW9uIHNldHRpbmdzLiBJZiBgYWRhcHRpdmVgIGZsYWcgaXMgc2V0IHRvIGB0cnVlYCxcbiAqIHRoZSByZXNvbHV0aW9uIGlzIGNhbGN1bGF0ZWQgYmFzZWQgb24gdGhlIGN1cnZlJ3MgbGVuZ3RoIHRvIGVuc3VyZSBiZXR0ZXIgdmlzdWFsIHF1YWxpdHkuXG4gKiBBZGFwdGl2ZSBkcmF3IHdvcmtzIHdpdGggYGJlemllckN1cnZlVG9gIGFuZCBgcXVhZHJhdGljQ3VydmVUb2AuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgR1JBUEhJQ1NfQ1VSVkVTXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtib29sZWFufSBhZGFwdGl2ZT1mYWxzZSAtIGZsYWcgaW5kaWNhdGluZyBpZiB0aGUgcmVzb2x1dGlvbiBzaG91bGQgYmUgYWRhcHRpdmVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtYXhMZW5ndGg9MTAgLSBtYXhpbWFsIGxlbmd0aCBvZiBhIHNpbmdsZSBzZWdtZW50IG9mIHRoZSBjdXJ2ZSAoaWYgYWRhcHRpdmUgPSBmYWxzZSwgaWdub3JlZClcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtaW5TZWdtZW50cz04IC0gbWluaW1hbCBudW1iZXIgb2Ygc2VnbWVudHMgaW4gdGhlIGN1cnZlIChpZiBhZGFwdGl2ZSA9IGZhbHNlLCBpZ25vcmVkKVxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1heFNlZ21lbnRzPTIwNDggLSBtYXhpbWFsIG51bWJlciBvZiBzZWdtZW50cyBpbiB0aGUgY3VydmUgKGlmIGFkYXB0aXZlID0gZmFsc2UsIGlnbm9yZWQpXG4gKi9cbnZhciBHUkFQSElDU19DVVJWRVMgPSB7XG4gICAgYWRhcHRpdmU6IHRydWUsXG4gICAgbWF4TGVuZ3RoOiAxMCxcbiAgICBtaW5TZWdtZW50czogOCxcbiAgICBtYXhTZWdtZW50czogMjA0OCxcbiAgICBfc2VnbWVudHNDb3VudDogZnVuY3Rpb24gX3NlZ21lbnRzQ291bnQobGVuZ3RoLCBkZWZhdWx0U2VnbWVudHMpXG4gICAge1xuICAgICAgICBpZiAoIGRlZmF1bHRTZWdtZW50cyA9PT0gdm9pZCAwICkgZGVmYXVsdFNlZ21lbnRzID0gMjA7XG5cbiAgICAgICAgaWYgKCF0aGlzLmFkYXB0aXZlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdFNlZ21lbnRzO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlc3VsdCA9IE1hdGguY2VpbChsZW5ndGggLyB0aGlzLm1heExlbmd0aCk7XG5cbiAgICAgICAgaWYgKHJlc3VsdCA8IHRoaXMubWluU2VnbWVudHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMubWluU2VnbWVudHM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocmVzdWx0ID4gdGhpcy5tYXhTZWdtZW50cylcbiAgICAgICAge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5tYXhTZWdtZW50cztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSxcbn07XG5cbi8qKlxuICogRmlsbCBzdHlsZSBvYmplY3QgZm9yIEdyYXBoaWNzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEZpbGxTdHlsZSA9IGZ1bmN0aW9uIEZpbGxTdHlsZSgpXG57XG4gICAgdGhpcy5yZXNldCgpO1xufTtcblxuLyoqXG4gKiBDbG9uZXMgdGhlIG9iamVjdFxuICpcbiAqIEByZXR1cm4ge1BJWEkuRmlsbFN0eWxlfVxuICovXG5GaWxsU3R5bGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUgKClcbntcbiAgICB2YXIgb2JqID0gbmV3IEZpbGxTdHlsZSgpO1xuXG4gICAgb2JqLmNvbG9yID0gdGhpcy5jb2xvcjtcbiAgICBvYmouYWxwaGEgPSB0aGlzLmFscGhhO1xuICAgIG9iai50ZXh0dXJlID0gdGhpcy50ZXh0dXJlO1xuICAgIG9iai5tYXRyaXggPSB0aGlzLm1hdHJpeDtcbiAgICBvYmoudmlzaWJsZSA9IHRoaXMudmlzaWJsZTtcblxuICAgIHJldHVybiBvYmo7XG59O1xuXG4vKipcbiAqIFJlc2V0XG4gKi9cbkZpbGxTdHlsZS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiByZXNldCAoKVxue1xuICAgIC8qKlxuICAgICAqIFRoZSBoZXggY29sb3IgdmFsdWUgdXNlZCB3aGVuIGNvbG9yaW5nIHRoZSBHcmFwaGljcyBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqL1xuICAgIHRoaXMuY29sb3IgPSAweEZGRkZGRjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhbHBoYSB2YWx1ZSB1c2VkIHdoZW4gZmlsbGluZyB0aGUgR3JhcGhpY3Mgb2JqZWN0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cbiAgICB0aGlzLmFscGhhID0gMTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0ZXh0dXJlIHRvIGJlIHVzZWQgZm9yIHRoZSBmaWxsLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICB0aGlzLnRleHR1cmUgPSBUZXh0dXJlLldISVRFO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRyYW5zZm9ybSBhcGxwaWVkIHRvIHRoZSB0ZXh0dXJlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICB0aGlzLm1hdHJpeCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBJZiB0aGUgY3VycmVudCBmaWxsIGlzIHZpc2libGUuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgdGhpcy52aXNpYmxlID0gZmFsc2U7XG59O1xuXG4vKipcbiAqIERlc3Ryb3kgYW5kIGRvbid0IHVzZSBhZnRlciB0aGlzXG4gKi9cbkZpbGxTdHlsZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbntcbiAgICB0aGlzLnRleHR1cmUgPSBudWxsO1xuICAgIHRoaXMubWF0cml4ID0gbnVsbDtcbn07XG5cbi8qKlxuICogQSBjbGFzcyB0byBjb250YWluIGRhdGEgdXNlZnVsIGZvciBHcmFwaGljcyBvYmplY3RzXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgR3JhcGhpY3NEYXRhID0gZnVuY3Rpb24gR3JhcGhpY3NEYXRhKHNoYXBlLCBmaWxsU3R5bGUsIGxpbmVTdHlsZSwgbWF0cml4KVxue1xuICAgIGlmICggZmlsbFN0eWxlID09PSB2b2lkIDAgKSBmaWxsU3R5bGUgPSBudWxsO1xuICAgIGlmICggbGluZVN0eWxlID09PSB2b2lkIDAgKSBsaW5lU3R5bGUgPSBudWxsO1xuICAgIGlmICggbWF0cml4ID09PSB2b2lkIDAgKSBtYXRyaXggPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNoYXBlIG9iamVjdCB0byBkcmF3LlxuICAgICAqIEBtZW1iZXIge1BJWEkuQ2lyY2xlfFBJWEkuRWxsaXBzZXxQSVhJLlBvbHlnb258UElYSS5SZWN0YW5nbGV8UElYSS5Sb3VuZGVkUmVjdGFuZ2xlfVxuICAgICAqL1xuICAgIHRoaXMuc2hhcGUgPSBzaGFwZTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzdHlsZSBvZiB0aGUgbGluZS5cbiAgICAgKiBAbWVtYmVyIHtQSVhJLkxpbmVTdHlsZX1cbiAgICAgKi9cbiAgICB0aGlzLmxpbmVTdHlsZSA9IGxpbmVTdHlsZTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzdHlsZSBvZiB0aGUgZmlsbC5cbiAgICAgKiBAbWVtYmVyIHtQSVhJLkZpbGxTdHlsZX1cbiAgICAgKi9cbiAgICB0aGlzLmZpbGxTdHlsZSA9IGZpbGxTdHlsZTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0cmFuc2Zvcm0gbWF0cml4LlxuICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAqL1xuICAgIHRoaXMubWF0cml4ID0gbWF0cml4O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgdGhlIHNoYXBlLCBzZWUgdGhlIENvbnN0LlNoYXBlcyBmaWxlIGZvciBhbGwgdGhlIGV4aXN0aW5nIHR5cGVzLFxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnR5cGUgPSBzaGFwZS50eXBlO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGNvbGxlY3Rpb24gb2YgcG9pbnRzLlxuICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAqL1xuICAgIHRoaXMucG9pbnRzID0gW107XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY29sbGVjdGlvbiBvZiBob2xlcy5cbiAgICAgKiBAbWVtYmVyIHtQSVhJLkdyYXBoaWNzRGF0YVtdfVxuICAgICAqL1xuICAgIHRoaXMuaG9sZXMgPSBbXTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBHcmFwaGljc0RhdGEgb2JqZWN0IHdpdGggdGhlIHNhbWUgdmFsdWVzIGFzIHRoaXMgb25lLlxuICpcbiAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3NEYXRhfSBDbG9uZWQgR3JhcGhpY3NEYXRhIG9iamVjdFxuICovXG5HcmFwaGljc0RhdGEucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUgKClcbntcbiAgICByZXR1cm4gbmV3IEdyYXBoaWNzRGF0YShcbiAgICAgICAgdGhpcy5zaGFwZSxcbiAgICAgICAgdGhpcy5maWxsU3R5bGUsXG4gICAgICAgIHRoaXMubGluZVN0eWxlLFxuICAgICAgICB0aGlzLm1hdHJpeFxuICAgICk7XG59O1xuXG4vKipcbiAqIERlc3Ryb3lzIHRoZSBHcmFwaGljcyBkYXRhLlxuICovXG5HcmFwaGljc0RhdGEucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95ICgpXG57XG4gICAgdGhpcy5zaGFwZSA9IG51bGw7XG4gICAgdGhpcy5ob2xlcy5sZW5ndGggPSAwO1xuICAgIHRoaXMuaG9sZXMgPSBudWxsO1xuICAgIHRoaXMucG9pbnRzLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5wb2ludHMgPSBudWxsO1xuICAgIHRoaXMubGluZVN0eWxlID0gbnVsbDtcbiAgICB0aGlzLmZpbGxTdHlsZSA9IG51bGw7XG59O1xuXG4vKipcbiAqIEJ1aWxkcyBhIGNpcmNsZSB0byBkcmF3XG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTEdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCB0byBkcmF3XG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgdGhpcyBzaGFwZVxuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YU5hdGl2ZUxpbmVzIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgbmF0aXZlTGluZXNcbiAqL1xudmFyIGJ1aWxkQ2lyY2xlID0ge1xuXG4gICAgYnVpbGQ6IGZ1bmN0aW9uIGJ1aWxkKGdyYXBoaWNzRGF0YSlcbiAgICB7XG4gICAgICAgIC8vIG5lZWQgdG8gY29udmVydCBwb2ludHMgdG8gYSBuaWNlIHJlZ3VsYXIgZGF0YVxuICAgICAgICB2YXIgY2lyY2xlRGF0YSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICAgICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG4gICAgICAgIHZhciB4ID0gY2lyY2xlRGF0YS54O1xuICAgICAgICB2YXIgeSA9IGNpcmNsZURhdGEueTtcbiAgICAgICAgdmFyIHdpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0O1xuXG4gICAgICAgIHBvaW50cy5sZW5ndGggPSAwO1xuXG4gICAgICAgIC8vIFRPRE8gLSBiaXQgaGFja3k/P1xuICAgICAgICBpZiAoZ3JhcGhpY3NEYXRhLnR5cGUgPT09IFNIQVBFUy5DSVJDKVxuICAgICAgICB7XG4gICAgICAgICAgICB3aWR0aCA9IGNpcmNsZURhdGEucmFkaXVzO1xuICAgICAgICAgICAgaGVpZ2h0ID0gY2lyY2xlRGF0YS5yYWRpdXM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB3aWR0aCA9IGNpcmNsZURhdGEud2lkdGg7XG4gICAgICAgICAgICBoZWlnaHQgPSBjaXJjbGVEYXRhLmhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh3aWR0aCA9PT0gMCB8fCBoZWlnaHQgPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0b3RhbFNlZ3MgPSBNYXRoLmZsb29yKDMwICogTWF0aC5zcXJ0KGNpcmNsZURhdGEucmFkaXVzKSlcbiAgICAgICAgICAgIHx8IE1hdGguZmxvb3IoMTUgKiBNYXRoLnNxcnQoY2lyY2xlRGF0YS53aWR0aCArIGNpcmNsZURhdGEuaGVpZ2h0KSk7XG5cbiAgICAgICAgdG90YWxTZWdzIC89IDIuMztcblxuICAgICAgICB2YXIgc2VnID0gKE1hdGguUEkgKiAyKSAvIHRvdGFsU2VncztcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsU2VnczsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBwb2ludHMucHVzaChcbiAgICAgICAgICAgICAgICB4ICsgKE1hdGguc2luKC1zZWcgKiBpKSAqIHdpZHRoKSxcbiAgICAgICAgICAgICAgICB5ICsgKE1hdGguY29zKC1zZWcgKiBpKSAqIGhlaWdodClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBwb2ludHMucHVzaChcbiAgICAgICAgICAgIHBvaW50c1swXSxcbiAgICAgICAgICAgIHBvaW50c1sxXVxuICAgICAgICApO1xuICAgIH0sXG5cbiAgICB0cmlhbmd1bGF0ZTogZnVuY3Rpb24gdHJpYW5ndWxhdGUoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KVxuICAgIHtcbiAgICAgICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG4gICAgICAgIHZhciB2ZXJ0cyA9IGdyYXBoaWNzR2VvbWV0cnkucG9pbnRzO1xuICAgICAgICB2YXIgaW5kaWNlcyA9IGdyYXBoaWNzR2VvbWV0cnkuaW5kaWNlcztcblxuICAgICAgICB2YXIgdmVydFBvcyA9IHZlcnRzLmxlbmd0aCAvIDI7XG4gICAgICAgIHZhciBjZW50ZXIgPSB2ZXJ0UG9zO1xuXG4gICAgICAgIHZlcnRzLnB1c2goZ3JhcGhpY3NEYXRhLnNoYXBlLngsIGdyYXBoaWNzRGF0YS5zaGFwZS55KTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkgKz0gMilcbiAgICAgICAge1xuICAgICAgICAgICAgdmVydHMucHVzaChwb2ludHNbaV0sIHBvaW50c1tpICsgMV0pO1xuXG4gICAgICAgICAgICAvLyBhZGQgc29tZSB1dnNcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh2ZXJ0UG9zKyssIGNlbnRlciwgdmVydFBvcyk7XG4gICAgICAgIH1cbiAgICB9LFxufTtcblxuLyoqXG4gKiBCdWlsZHMgYSBsaW5lIHRvIGRyYXdcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7UElYSS5HcmFwaGljc0dlb21ldHJ5fSBncmFwaGljc0dlb21ldHJ5IC0gR2VvbWV0cnkgd2hlcmUgdG8gYXBwZW5kIG91dHB1dFxuICovXG5mdW5jdGlvbiBidWlsZExpbmUgKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSlcbntcbiAgICBpZiAoZ3JhcGhpY3NEYXRhLmxpbmVTdHlsZS5uYXRpdmUpXG4gICAge1xuICAgICAgICBidWlsZE5hdGl2ZUxpbmUoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgYnVpbGRMaW5lJDEoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KTtcbiAgICB9XG59XG5cbi8qKlxuICogQnVpbGRzIGEgbGluZSB0byBkcmF3IHVzaW5nIHRoZSBwb2x5Z29uIG1ldGhvZC5cbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7UElYSS5HcmFwaGljc0dlb21ldHJ5fSBncmFwaGljc0dlb21ldHJ5IC0gR2VvbWV0cnkgd2hlcmUgdG8gYXBwZW5kIG91dHB1dFxuICovXG5mdW5jdGlvbiBidWlsZExpbmUkMShncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpXG57XG4gICAgdmFyIHNoYXBlID0gZ3JhcGhpY3NEYXRhLnNoYXBlO1xuICAgIHZhciBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzIHx8IHNoYXBlLnBvaW50cy5zbGljZSgpO1xuICAgIHZhciBlcHMgPSBncmFwaGljc0dlb21ldHJ5LmNsb3NlUG9pbnRFcHM7XG5cbiAgICBpZiAocG9pbnRzLmxlbmd0aCA9PT0gMClcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gaWYgdGhlIGxpbmUgd2lkdGggaXMgYW4gb2RkIG51bWJlciBhZGQgMC41IHRvIGFsaWduIHRvIGEgd2hvbGUgcGl4ZWxcbiAgICAvLyBjb21tZW50aW5nIHRoaXMgb3V0IGZpeGVzICM3MTEgYW5kICMxNjIwXG4gICAgLy8gaWYgKGdyYXBoaWNzRGF0YS5saW5lV2lkdGglMilcbiAgICAvLyB7XG4gICAgLy8gICAgIGZvciAoaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyBpKyspXG4gICAgLy8gICAgIHtcbiAgICAvLyAgICAgICAgIHBvaW50c1tpXSArPSAwLjU7XG4gICAgLy8gICAgIH1cbiAgICAvLyB9XG5cbiAgICB2YXIgc3R5bGUgPSBncmFwaGljc0RhdGEubGluZVN0eWxlO1xuXG4gICAgLy8gZ2V0IGZpcnN0IGFuZCBsYXN0IHBvaW50Li4gZmlndXJlIG91dCB0aGUgbWlkZGxlIVxuICAgIHZhciBmaXJzdFBvaW50ID0gbmV3IFBvaW50KHBvaW50c1swXSwgcG9pbnRzWzFdKTtcbiAgICB2YXIgbGFzdFBvaW50ID0gbmV3IFBvaW50KHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl0sIHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0pO1xuICAgIHZhciBjbG9zZWRTaGFwZSA9IHNoYXBlLnR5cGUgIT09IFNIQVBFUy5QT0xZIHx8IHNoYXBlLmNsb3NlU3Ryb2tlO1xuICAgIHZhciBjbG9zZWRQYXRoID0gTWF0aC5hYnMoZmlyc3RQb2ludC54IC0gbGFzdFBvaW50LngpIDwgZXBzXG4gICAgICAgICYmIE1hdGguYWJzKGZpcnN0UG9pbnQueSAtIGxhc3RQb2ludC55KSA8IGVwcztcblxuICAgIC8vIGlmIHRoZSBmaXJzdCBwb2ludCBpcyB0aGUgbGFzdCBwb2ludCAtIGdvbm5hIGhhdmUgaXNzdWVzIDopXG4gICAgaWYgKGNsb3NlZFNoYXBlKVxuICAgIHtcbiAgICAgICAgLy8gbmVlZCB0byBjbG9uZSBhcyB3ZSBhcmUgZ29pbmcgdG8gc2xpZ2h0bHkgbW9kaWZ5IHRoZSBzaGFwZS4uXG4gICAgICAgIHBvaW50cyA9IHBvaW50cy5zbGljZSgpO1xuXG4gICAgICAgIGlmIChjbG9zZWRQYXRoKVxuICAgICAgICB7XG4gICAgICAgICAgICBwb2ludHMucG9wKCk7XG4gICAgICAgICAgICBwb2ludHMucG9wKCk7XG4gICAgICAgICAgICBsYXN0UG9pbnQuc2V0KHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl0sIHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG1pZFBvaW50WCA9IGxhc3RQb2ludC54ICsgKChmaXJzdFBvaW50LnggLSBsYXN0UG9pbnQueCkgKiAwLjUpO1xuICAgICAgICB2YXIgbWlkUG9pbnRZID0gbGFzdFBvaW50LnkgKyAoKGZpcnN0UG9pbnQueSAtIGxhc3RQb2ludC55KSAqIDAuNSk7XG5cbiAgICAgICAgcG9pbnRzLnVuc2hpZnQobWlkUG9pbnRYLCBtaWRQb2ludFkpO1xuICAgICAgICBwb2ludHMucHVzaChtaWRQb2ludFgsIG1pZFBvaW50WSk7XG4gICAgfVxuXG4gICAgdmFyIHZlcnRzID0gZ3JhcGhpY3NHZW9tZXRyeS5wb2ludHM7XG4gICAgdmFyIGxlbmd0aCA9IHBvaW50cy5sZW5ndGggLyAyO1xuICAgIHZhciBpbmRleENvdW50ID0gcG9pbnRzLmxlbmd0aDtcbiAgICB2YXIgaW5kZXhTdGFydCA9IHZlcnRzLmxlbmd0aCAvIDI7XG5cbiAgICAvLyBEUkFXIHRoZSBMaW5lXG4gICAgdmFyIHdpZHRoID0gc3R5bGUud2lkdGggLyAyO1xuXG4gICAgLy8gc29ydCBjb2xvclxuICAgIHZhciBwMXggPSBwb2ludHNbMF07XG4gICAgdmFyIHAxeSA9IHBvaW50c1sxXTtcbiAgICB2YXIgcDJ4ID0gcG9pbnRzWzJdO1xuICAgIHZhciBwMnkgPSBwb2ludHNbM107XG4gICAgdmFyIHAzeCA9IDA7XG4gICAgdmFyIHAzeSA9IDA7XG5cbiAgICB2YXIgcGVycHggPSAtKHAxeSAtIHAyeSk7XG4gICAgdmFyIHBlcnB5ID0gcDF4IC0gcDJ4O1xuICAgIHZhciBwZXJwMnggPSAwO1xuICAgIHZhciBwZXJwMnkgPSAwO1xuICAgIHZhciBwZXJwM3ggPSAwO1xuICAgIHZhciBwZXJwM3kgPSAwO1xuXG4gICAgdmFyIGRpc3QgPSBNYXRoLnNxcnQoKHBlcnB4ICogcGVycHgpICsgKHBlcnB5ICogcGVycHkpKTtcblxuICAgIHBlcnB4IC89IGRpc3Q7XG4gICAgcGVycHkgLz0gZGlzdDtcbiAgICBwZXJweCAqPSB3aWR0aDtcbiAgICBwZXJweSAqPSB3aWR0aDtcblxuICAgIHZhciByYXRpbyA9IHN0eWxlLmFsaWdubWVudDsvLyAwLjU7XG4gICAgdmFyIHIxID0gKDEgLSByYXRpbykgKiAyO1xuICAgIHZhciByMiA9IHJhdGlvICogMjtcblxuICAgIC8vIHN0YXJ0XG4gICAgdmVydHMucHVzaChcbiAgICAgICAgcDF4IC0gKHBlcnB4ICogcjEpLFxuICAgICAgICBwMXkgLSAocGVycHkgKiByMSkpO1xuXG4gICAgdmVydHMucHVzaChcbiAgICAgICAgcDF4ICsgKHBlcnB4ICogcjIpLFxuICAgICAgICBwMXkgKyAocGVycHkgKiByMikpO1xuXG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBsZW5ndGggLSAxOyArK2kpXG4gICAge1xuICAgICAgICBwMXggPSBwb2ludHNbKGkgLSAxKSAqIDJdO1xuICAgICAgICBwMXkgPSBwb2ludHNbKChpIC0gMSkgKiAyKSArIDFdO1xuXG4gICAgICAgIHAyeCA9IHBvaW50c1tpICogMl07XG4gICAgICAgIHAyeSA9IHBvaW50c1soaSAqIDIpICsgMV07XG5cbiAgICAgICAgcDN4ID0gcG9pbnRzWyhpICsgMSkgKiAyXTtcbiAgICAgICAgcDN5ID0gcG9pbnRzWygoaSArIDEpICogMikgKyAxXTtcblxuICAgICAgICBwZXJweCA9IC0ocDF5IC0gcDJ5KTtcbiAgICAgICAgcGVycHkgPSBwMXggLSBwMng7XG5cbiAgICAgICAgZGlzdCA9IE1hdGguc3FydCgocGVycHggKiBwZXJweCkgKyAocGVycHkgKiBwZXJweSkpO1xuICAgICAgICBwZXJweCAvPSBkaXN0O1xuICAgICAgICBwZXJweSAvPSBkaXN0O1xuICAgICAgICBwZXJweCAqPSB3aWR0aDtcbiAgICAgICAgcGVycHkgKj0gd2lkdGg7XG5cbiAgICAgICAgcGVycDJ4ID0gLShwMnkgLSBwM3kpO1xuICAgICAgICBwZXJwMnkgPSBwMnggLSBwM3g7XG5cbiAgICAgICAgZGlzdCA9IE1hdGguc3FydCgocGVycDJ4ICogcGVycDJ4KSArIChwZXJwMnkgKiBwZXJwMnkpKTtcbiAgICAgICAgcGVycDJ4IC89IGRpc3Q7XG4gICAgICAgIHBlcnAyeSAvPSBkaXN0O1xuICAgICAgICBwZXJwMnggKj0gd2lkdGg7XG4gICAgICAgIHBlcnAyeSAqPSB3aWR0aDtcblxuICAgICAgICB2YXIgYTEgPSAoLXBlcnB5ICsgcDF5KSAtICgtcGVycHkgKyBwMnkpO1xuICAgICAgICB2YXIgYjEgPSAoLXBlcnB4ICsgcDJ4KSAtICgtcGVycHggKyBwMXgpO1xuICAgICAgICB2YXIgYzEgPSAoKC1wZXJweCArIHAxeCkgKiAoLXBlcnB5ICsgcDJ5KSkgLSAoKC1wZXJweCArIHAyeCkgKiAoLXBlcnB5ICsgcDF5KSk7XG4gICAgICAgIHZhciBhMiA9ICgtcGVycDJ5ICsgcDN5KSAtICgtcGVycDJ5ICsgcDJ5KTtcbiAgICAgICAgdmFyIGIyID0gKC1wZXJwMnggKyBwMngpIC0gKC1wZXJwMnggKyBwM3gpO1xuICAgICAgICB2YXIgYzIgPSAoKC1wZXJwMnggKyBwM3gpICogKC1wZXJwMnkgKyBwMnkpKSAtICgoLXBlcnAyeCArIHAyeCkgKiAoLXBlcnAyeSArIHAzeSkpO1xuXG4gICAgICAgIHZhciBkZW5vbSA9IChhMSAqIGIyKSAtIChhMiAqIGIxKTtcblxuICAgICAgICBpZiAoTWF0aC5hYnMoZGVub20pIDwgMC4xKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZW5vbSArPSAxMC4xO1xuICAgICAgICAgICAgdmVydHMucHVzaChcbiAgICAgICAgICAgICAgICBwMnggLSAocGVycHggKiByMSksXG4gICAgICAgICAgICAgICAgcDJ5IC0gKHBlcnB5ICogcjEpKTtcblxuICAgICAgICAgICAgdmVydHMucHVzaChcbiAgICAgICAgICAgICAgICBwMnggKyAocGVycHggKiByMiksXG4gICAgICAgICAgICAgICAgcDJ5ICsgKHBlcnB5ICogcjIpKTtcblxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcHggPSAoKGIxICogYzIpIC0gKGIyICogYzEpKSAvIGRlbm9tO1xuICAgICAgICB2YXIgcHkgPSAoKGEyICogYzEpIC0gKGExICogYzIpKSAvIGRlbm9tO1xuICAgICAgICB2YXIgcGRpc3QgPSAoKHB4IC0gcDJ4KSAqIChweCAtIHAyeCkpICsgKChweSAtIHAyeSkgKiAocHkgLSBwMnkpKTtcblxuICAgICAgICBpZiAocGRpc3QgPiAoMTk2ICogd2lkdGggKiB3aWR0aCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHBlcnAzeCA9IHBlcnB4IC0gcGVycDJ4O1xuICAgICAgICAgICAgcGVycDN5ID0gcGVycHkgLSBwZXJwMnk7XG5cbiAgICAgICAgICAgIGRpc3QgPSBNYXRoLnNxcnQoKHBlcnAzeCAqIHBlcnAzeCkgKyAocGVycDN5ICogcGVycDN5KSk7XG4gICAgICAgICAgICBwZXJwM3ggLz0gZGlzdDtcbiAgICAgICAgICAgIHBlcnAzeSAvPSBkaXN0O1xuICAgICAgICAgICAgcGVycDN4ICo9IHdpZHRoO1xuICAgICAgICAgICAgcGVycDN5ICo9IHdpZHRoO1xuXG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHAyeCAtIChwZXJwM3ggKiByMSksIHAyeSAtIChwZXJwM3kgKiByMSkpO1xuXG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHAyeCArIChwZXJwM3ggKiByMiksIHAyeSArIChwZXJwM3kgKiByMikpO1xuXG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHAyeCAtIChwZXJwM3ggKiByMiAqIHIxKSwgcDJ5IC0gKHBlcnAzeSAqIHIxKSk7XG5cbiAgICAgICAgICAgIGluZGV4Q291bnQrKztcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZlcnRzLnB1c2gocDJ4ICsgKChweCAtIHAyeCkgKiByMSksIHAyeSArICgocHkgLSBwMnkpICogcjEpKTtcblxuICAgICAgICAgICAgdmVydHMucHVzaChwMnggLSAoKHB4IC0gcDJ4KSAqIHIyKSwgcDJ5IC0gKChweSAtIHAyeSkgKiByMikpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcDF4ID0gcG9pbnRzWyhsZW5ndGggLSAyKSAqIDJdO1xuICAgIHAxeSA9IHBvaW50c1soKGxlbmd0aCAtIDIpICogMikgKyAxXTtcblxuICAgIHAyeCA9IHBvaW50c1sobGVuZ3RoIC0gMSkgKiAyXTtcbiAgICBwMnkgPSBwb2ludHNbKChsZW5ndGggLSAxKSAqIDIpICsgMV07XG5cbiAgICBwZXJweCA9IC0ocDF5IC0gcDJ5KTtcbiAgICBwZXJweSA9IHAxeCAtIHAyeDtcblxuICAgIGRpc3QgPSBNYXRoLnNxcnQoKHBlcnB4ICogcGVycHgpICsgKHBlcnB5ICogcGVycHkpKTtcbiAgICBwZXJweCAvPSBkaXN0O1xuICAgIHBlcnB5IC89IGRpc3Q7XG4gICAgcGVycHggKj0gd2lkdGg7XG4gICAgcGVycHkgKj0gd2lkdGg7XG5cbiAgICB2ZXJ0cy5wdXNoKHAyeCAtIChwZXJweCAqIHIxKSwgcDJ5IC0gKHBlcnB5ICogcjEpKTtcblxuICAgIHZlcnRzLnB1c2gocDJ4ICsgKHBlcnB4ICogcjIpLCBwMnkgKyAocGVycHkgKiByMikpO1xuXG4gICAgdmFyIGluZGljZXMgPSBncmFwaGljc0dlb21ldHJ5LmluZGljZXM7XG5cbiAgICAvLyBpbmRpY2VzLnB1c2goaW5kZXhTdGFydCk7XG5cbiAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCBpbmRleENvdW50IC0gMjsgKytpJDEpXG4gICAge1xuICAgICAgICBpbmRpY2VzLnB1c2goaW5kZXhTdGFydCwgaW5kZXhTdGFydCArIDEsIGluZGV4U3RhcnQgKyAyKTtcblxuICAgICAgICBpbmRleFN0YXJ0Kys7XG4gICAgfVxufVxuXG4vKipcbiAqIEJ1aWxkcyBhIGxpbmUgdG8gZHJhdyB1c2luZyB0aGUgZ2wuZHJhd0FycmF5cyhnbC5MSU5FUykgbWV0aG9kXG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5HcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NHZW9tZXRyeX0gZ3JhcGhpY3NHZW9tZXRyeSAtIEdlb21ldHJ5IHdoZXJlIHRvIGFwcGVuZCBvdXRwdXRcbiAqL1xuZnVuY3Rpb24gYnVpbGROYXRpdmVMaW5lKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSlcbntcbiAgICB2YXIgaSA9IDA7XG5cbiAgICB2YXIgc2hhcGUgPSBncmFwaGljc0RhdGEuc2hhcGU7XG4gICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHMgfHwgc2hhcGUucG9pbnRzO1xuICAgIHZhciBjbG9zZWRTaGFwZSA9IHNoYXBlLnR5cGUgIT09IFNIQVBFUy5QT0xZIHx8IHNoYXBlLmNsb3NlU3Ryb2tlO1xuXG4gICAgaWYgKHBvaW50cy5sZW5ndGggPT09IDApIHsgcmV0dXJuOyB9XG5cbiAgICB2YXIgdmVydHMgPSBncmFwaGljc0dlb21ldHJ5LnBvaW50cztcbiAgICB2YXIgaW5kaWNlcyA9IGdyYXBoaWNzR2VvbWV0cnkuaW5kaWNlcztcbiAgICB2YXIgbGVuZ3RoID0gcG9pbnRzLmxlbmd0aCAvIDI7XG5cbiAgICB2YXIgc3RhcnRJbmRleCA9IHZlcnRzLmxlbmd0aCAvIDI7XG4gICAgdmFyIGN1cnJlbnRJbmRleCA9IHN0YXJ0SW5kZXg7XG5cbiAgICB2ZXJ0cy5wdXNoKHBvaW50c1swXSwgcG9pbnRzWzFdKTtcblxuICAgIGZvciAoaSA9IDE7IGkgPCBsZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICAgIHZlcnRzLnB1c2gocG9pbnRzW2kgKiAyXSwgcG9pbnRzWyhpICogMikgKyAxXSk7XG4gICAgICAgIGluZGljZXMucHVzaChjdXJyZW50SW5kZXgsIGN1cnJlbnRJbmRleCArIDEpO1xuXG4gICAgICAgIGN1cnJlbnRJbmRleCsrO1xuICAgIH1cblxuICAgIGlmIChjbG9zZWRTaGFwZSlcbiAgICB7XG4gICAgICAgIGluZGljZXMucHVzaChjdXJyZW50SW5kZXgsIHN0YXJ0SW5kZXgpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBCdWlsZHMgYSBwb2x5Z29uIHRvIGRyYXdcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLldlYkdMR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBuZWNlc3NhcnkgcHJvcGVydGllc1xuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YSAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgV2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIHRoaXMgc2hhcGVcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGFOYXRpdmVMaW5lcyAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgV2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIG5hdGl2ZUxpbmVzXG4gKi9cbnZhciBidWlsZFBvbHkgPSB7XG5cbiAgICBidWlsZDogZnVuY3Rpb24gYnVpbGQoZ3JhcGhpY3NEYXRhKVxuICAgIHtcbiAgICAgICAgZ3JhcGhpY3NEYXRhLnBvaW50cyA9IGdyYXBoaWNzRGF0YS5zaGFwZS5wb2ludHMuc2xpY2UoKTtcbiAgICB9LFxuXG4gICAgdHJpYW5ndWxhdGU6IGZ1bmN0aW9uIHRyaWFuZ3VsYXRlKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSlcbiAgICB7XG4gICAgICAgIHZhciBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuICAgICAgICB2YXIgaG9sZXMgPSBncmFwaGljc0RhdGEuaG9sZXM7XG4gICAgICAgIHZhciB2ZXJ0cyA9IGdyYXBoaWNzR2VvbWV0cnkucG9pbnRzO1xuICAgICAgICB2YXIgaW5kaWNlcyA9IGdyYXBoaWNzR2VvbWV0cnkuaW5kaWNlcztcblxuICAgICAgICBpZiAocG9pbnRzLmxlbmd0aCA+PSA2KVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgaG9sZUFycmF5ID0gW107XG4gICAgICAgICAgICAvLyBQcm9jZXNzIGhvbGVzLi5cblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBob2xlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgaG9sZSA9IGhvbGVzW2ldO1xuXG4gICAgICAgICAgICAgICAgaG9sZUFycmF5LnB1c2gocG9pbnRzLmxlbmd0aCAvIDIpO1xuICAgICAgICAgICAgICAgIHBvaW50cyA9IHBvaW50cy5jb25jYXQoaG9sZS5wb2ludHMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBzb3J0IGNvbG9yXG4gICAgICAgICAgICB2YXIgdHJpYW5nbGVzID0gZWFyY3V0KHBvaW50cywgaG9sZUFycmF5LCAyKTtcblxuICAgICAgICAgICAgaWYgKCF0cmlhbmdsZXMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgdmVydFBvcyA9IHZlcnRzLmxlbmd0aCAvIDI7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IHRyaWFuZ2xlcy5sZW5ndGg7IGkkMSArPSAzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaSQxXSArIHZlcnRQb3MpO1xuICAgICAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaSQxICsgMV0gKyB2ZXJ0UG9zKTtcbiAgICAgICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2kkMSArIDJdICsgdmVydFBvcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkkMiA9IDA7IGkkMiA8IHBvaW50cy5sZW5ndGg7IGkkMisrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZlcnRzLnB1c2gocG9pbnRzW2kkMl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbn07XG5cbi8qKlxuICogQnVpbGRzIGEgcmVjdGFuZ2xlIHRvIGRyYXdcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLldlYkdMR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBuZWNlc3NhcnkgcHJvcGVydGllc1xuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YSAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgV2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIHRoaXMgc2hhcGVcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGFOYXRpdmVMaW5lcyAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgV2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIG5hdGl2ZUxpbmVzXG4gKi9cbnZhciBidWlsZFJlY3RhbmdsZSA9IHtcblxuICAgIGJ1aWxkOiBmdW5jdGlvbiBidWlsZChncmFwaGljc0RhdGEpXG4gICAge1xuICAgICAgICAvLyAtLS0gLy9cbiAgICAgICAgLy8gbmVlZCB0byBjb252ZXJ0IHBvaW50cyB0byBhIG5pY2UgcmVndWxhciBkYXRhXG4gICAgICAgIC8vXG4gICAgICAgIHZhciByZWN0RGF0YSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICAgICAgdmFyIHggPSByZWN0RGF0YS54O1xuICAgICAgICB2YXIgeSA9IHJlY3REYXRhLnk7XG4gICAgICAgIHZhciB3aWR0aCA9IHJlY3REYXRhLndpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gcmVjdERhdGEuaGVpZ2h0O1xuXG4gICAgICAgIHZhciBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuXG4gICAgICAgIHBvaW50cy5sZW5ndGggPSAwO1xuXG4gICAgICAgIHBvaW50cy5wdXNoKHgsIHksXG4gICAgICAgICAgICB4ICsgd2lkdGgsIHksXG4gICAgICAgICAgICB4ICsgd2lkdGgsIHkgKyBoZWlnaHQsXG4gICAgICAgICAgICB4LCB5ICsgaGVpZ2h0KTtcbiAgICB9LFxuXG4gICAgdHJpYW5ndWxhdGU6IGZ1bmN0aW9uIHRyaWFuZ3VsYXRlKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSlcbiAgICB7XG4gICAgICAgIHZhciBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuICAgICAgICB2YXIgdmVydHMgPSBncmFwaGljc0dlb21ldHJ5LnBvaW50cztcblxuICAgICAgICB2YXIgdmVydFBvcyA9IHZlcnRzLmxlbmd0aCAvIDI7XG5cbiAgICAgICAgdmVydHMucHVzaChwb2ludHNbMF0sIHBvaW50c1sxXSxcbiAgICAgICAgICAgIHBvaW50c1syXSwgcG9pbnRzWzNdLFxuICAgICAgICAgICAgcG9pbnRzWzZdLCBwb2ludHNbN10sXG4gICAgICAgICAgICBwb2ludHNbNF0sIHBvaW50c1s1XSk7XG5cbiAgICAgICAgZ3JhcGhpY3NHZW9tZXRyeS5pbmRpY2VzLnB1c2godmVydFBvcywgdmVydFBvcyArIDEsIHZlcnRQb3MgKyAyLFxuICAgICAgICAgICAgdmVydFBvcyArIDEsIHZlcnRQb3MgKyAyLCB2ZXJ0UG9zICsgMyk7XG4gICAgfSxcbn07XG5cbi8qKlxuICogQnVpbGRzIGEgcm91bmRlZCByZWN0YW5nbGUgdG8gZHJhd1xuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xHcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgdGhpcyBzaGFwZVxuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YU5hdGl2ZUxpbmVzIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgbmF0aXZlTGluZXNcbiAqL1xudmFyIGJ1aWxkUm91bmRlZFJlY3RhbmdsZSA9IHtcblxuICAgIGJ1aWxkOiBmdW5jdGlvbiBidWlsZChncmFwaGljc0RhdGEpXG4gICAge1xuICAgICAgICB2YXIgcnJlY3REYXRhID0gZ3JhcGhpY3NEYXRhLnNoYXBlO1xuICAgICAgICB2YXIgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcbiAgICAgICAgdmFyIHggPSBycmVjdERhdGEueDtcbiAgICAgICAgdmFyIHkgPSBycmVjdERhdGEueTtcbiAgICAgICAgdmFyIHdpZHRoID0gcnJlY3REYXRhLndpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gcnJlY3REYXRhLmhlaWdodDtcblxuICAgICAgICB2YXIgcmFkaXVzID0gcnJlY3REYXRhLnJhZGl1cztcblxuICAgICAgICBwb2ludHMubGVuZ3RoID0gMDtcblxuICAgICAgICBxdWFkcmF0aWNCZXppZXJDdXJ2ZSh4LCB5ICsgcmFkaXVzLFxuICAgICAgICAgICAgeCwgeSxcbiAgICAgICAgICAgIHggKyByYWRpdXMsIHksXG4gICAgICAgICAgICBwb2ludHMpO1xuICAgICAgICBxdWFkcmF0aWNCZXppZXJDdXJ2ZSh4ICsgd2lkdGggLSByYWRpdXMsXG4gICAgICAgICAgICB5LCB4ICsgd2lkdGgsIHksXG4gICAgICAgICAgICB4ICsgd2lkdGgsIHkgKyByYWRpdXMsXG4gICAgICAgICAgICBwb2ludHMpO1xuICAgICAgICBxdWFkcmF0aWNCZXppZXJDdXJ2ZSh4ICsgd2lkdGgsIHkgKyBoZWlnaHQgLSByYWRpdXMsXG4gICAgICAgICAgICB4ICsgd2lkdGgsIHkgKyBoZWlnaHQsXG4gICAgICAgICAgICB4ICsgd2lkdGggLSByYWRpdXMsIHkgKyBoZWlnaHQsXG4gICAgICAgICAgICBwb2ludHMpO1xuICAgICAgICBxdWFkcmF0aWNCZXppZXJDdXJ2ZSh4ICsgcmFkaXVzLCB5ICsgaGVpZ2h0LFxuICAgICAgICAgICAgeCwgeSArIGhlaWdodCxcbiAgICAgICAgICAgIHgsIHkgKyBoZWlnaHQgLSByYWRpdXMsXG4gICAgICAgICAgICBwb2ludHMpO1xuXG4gICAgICAgIC8vIHRoaXMgdGlueSBudW1iZXIgZGVhbHMgd2l0aCB0aGUgaXNzdWUgdGhhdCBvY2N1cnMgd2hlbiBwb2ludHMgb3ZlcmxhcCBhbmQgZWFyY3V0IGZhaWxzIHRvIHRyaWFuZ3VsYXRlIHRoZSBpdGVtLlxuICAgICAgICAvLyBUT0RPIC0gZml4IHRoaXMgcHJvcGVybHksIHRoaXMgaXMgbm90IHZlcnkgZWxlZ2FudC4uIGJ1dCBpdCB3b3JrcyBmb3Igbm93LlxuICAgIH0sXG5cbiAgICB0cmlhbmd1bGF0ZTogZnVuY3Rpb24gdHJpYW5ndWxhdGUoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KVxuICAgIHtcbiAgICAgICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG5cbiAgICAgICAgdmFyIHZlcnRzID0gZ3JhcGhpY3NHZW9tZXRyeS5wb2ludHM7XG4gICAgICAgIHZhciBpbmRpY2VzID0gZ3JhcGhpY3NHZW9tZXRyeS5pbmRpY2VzO1xuXG4gICAgICAgIHZhciB2ZWNQb3MgPSB2ZXJ0cy5sZW5ndGggLyAyO1xuXG4gICAgICAgIHZhciB0cmlhbmdsZXMgPSBlYXJjdXQocG9pbnRzLCBudWxsLCAyKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IHRyaWFuZ2xlcy5sZW5ndGg7IGkgPCBqOyBpICs9IDMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaV0gKyB2ZWNQb3MpO1xuICAgICAgICAgICAgLy8gICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaV0gKyB2ZWNQb3MpO1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpICsgMV0gKyB2ZWNQb3MpO1xuICAgICAgICAgICAgLy8gICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2kgKyAyXSArIHZlY1Bvcyk7XG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2kgKyAyXSArIHZlY1Bvcyk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBpJDEgPSAwLCBqJDEgPSBwb2ludHMubGVuZ3RoOyBpJDEgPCBqJDE7IGkkMSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHBvaW50c1tpJDFdLCBwb2ludHNbKytpJDFdKTtcbiAgICAgICAgfVxuICAgIH0sXG59O1xuXG4vKipcbiAqIENhbGN1bGF0ZSBhIHNpbmdsZSBwb2ludCBmb3IgYSBxdWFkcmF0aWMgYmV6aWVyIGN1cnZlLlxuICogVXRpbGl0eSBmdW5jdGlvbiB1c2VkIGJ5IHF1YWRyYXRpY0JlemllckN1cnZlLlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBuMSAtIGZpcnN0IG51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IG4yIC0gc2Vjb25kIG51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IHBlcmMgLSBwZXJjZW50YWdlXG4gKiBAcmV0dXJuIHtudW1iZXJ9IHRoZSByZXN1bHRcbiAqXG4gKi9cbmZ1bmN0aW9uIGdldFB0KG4xLCBuMiwgcGVyYylcbntcbiAgICB2YXIgZGlmZiA9IG4yIC0gbjE7XG5cbiAgICByZXR1cm4gbjEgKyAoZGlmZiAqIHBlcmMpO1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgcG9pbnRzIGZvciBhIHF1YWRyYXRpYyBiZXppZXIgY3VydmUuIChoZWxwZXIgZnVuY3Rpb24uLilcbiAqIEJhc2VkIG9uOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83ODUwOTcvaG93LWRvLWktaW1wbGVtZW50LWEtYmV6aWVyLWN1cnZlLWluLWNcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IGZyb21YIC0gT3JpZ2luIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tWSAtIE9yaWdpbiBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gKiBAcGFyYW0ge251bWJlcn0gdG9YIC0gRGVzdGluYXRpb24gcG9pbnQgeFxuICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIERlc3RpbmF0aW9uIHBvaW50IHlcbiAqIEBwYXJhbSB7bnVtYmVyW119IFtvdXQ9W11dIC0gVGhlIG91dHB1dCBhcnJheSB0byBhZGQgcG9pbnRzIGludG8uIElmIG5vdCBwYXNzZWQsIGEgbmV3IGFycmF5IGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJuIHtudW1iZXJbXX0gYW4gYXJyYXkgb2YgcG9pbnRzXG4gKi9cbmZ1bmN0aW9uIHF1YWRyYXRpY0JlemllckN1cnZlKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIHRvWCwgdG9ZLCBvdXQpXG57XG4gICAgaWYgKCBvdXQgPT09IHZvaWQgMCApIG91dCA9IFtdO1xuXG4gICAgdmFyIG4gPSAyMDtcbiAgICB2YXIgcG9pbnRzID0gb3V0O1xuXG4gICAgdmFyIHhhID0gMDtcbiAgICB2YXIgeWEgPSAwO1xuICAgIHZhciB4YiA9IDA7XG4gICAgdmFyIHliID0gMDtcbiAgICB2YXIgeCA9IDA7XG4gICAgdmFyIHkgPSAwO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGogPSAwOyBpIDw9IG47ICsraSlcbiAgICB7XG4gICAgICAgIGogPSBpIC8gbjtcblxuICAgICAgICAvLyBUaGUgR3JlZW4gTGluZVxuICAgICAgICB4YSA9IGdldFB0KGZyb21YLCBjcFgsIGopO1xuICAgICAgICB5YSA9IGdldFB0KGZyb21ZLCBjcFksIGopO1xuICAgICAgICB4YiA9IGdldFB0KGNwWCwgdG9YLCBqKTtcbiAgICAgICAgeWIgPSBnZXRQdChjcFksIHRvWSwgaik7XG5cbiAgICAgICAgLy8gVGhlIEJsYWNrIERvdFxuICAgICAgICB4ID0gZ2V0UHQoeGEsIHhiLCBqKTtcbiAgICAgICAgeSA9IGdldFB0KHlhLCB5Yiwgaik7XG5cbiAgICAgICAgcG9pbnRzLnB1c2goeCwgeSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBvaW50cztcbn1cblxudmFyIEJBVENIX1BPT0wgPSBbXTtcbnZhciBEUkFXX0NBTExfUE9PTCA9IFtdO1xudmFyIHRtcFBvaW50ID0gbmV3IFBvaW50KCk7XG5cbi8qKlxuICogTWFwIG9mIGZpbGwgY29tbWFuZHMgZm9yIGVhY2ggc2hhcGUgdHlwZS5cbiAqXG4gKiBAbWVtYmVyIHtPYmplY3R9XG4gKiBAcHJpdmF0ZVxuICovXG52YXIgZmlsbENvbW1hbmRzID0ge307XG5cbmZpbGxDb21tYW5kc1tTSEFQRVMuUE9MWV0gPSBidWlsZFBvbHk7XG5maWxsQ29tbWFuZHNbU0hBUEVTLkNJUkNdID0gYnVpbGRDaXJjbGU7XG5maWxsQ29tbWFuZHNbU0hBUEVTLkVMSVBdID0gYnVpbGRDaXJjbGU7XG5maWxsQ29tbWFuZHNbU0hBUEVTLlJFQ1RdID0gYnVpbGRSZWN0YW5nbGU7XG5maWxsQ29tbWFuZHNbU0hBUEVTLlJSRUNdID0gYnVpbGRSb3VuZGVkUmVjdGFuZ2xlO1xuXG4vKipcbiAqIEEgbGl0dGxlIGludGVybmFsIHN0cnVjdHVyZSB0byBob2xkIGludGVyaW0gYmF0Y2ggb2JqZWN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgQmF0Y2hQYXJ0ID0gZnVuY3Rpb24gQmF0Y2hQYXJ0KClcbntcbiAgICB0aGlzLnN0eWxlID0gbnVsbDtcbiAgICB0aGlzLnNpemUgPSAwO1xuICAgIHRoaXMuc3RhcnQgPSAwO1xuICAgIHRoaXMuYXR0cmliU3RhcnQgPSAwO1xuICAgIHRoaXMuYXR0cmliU2l6ZSA9IDA7XG59O1xuXG4vKipcbiAqIFRoZSBHcmFwaGljcyBjbGFzcyBjb250YWlucyBtZXRob2RzIHVzZWQgdG8gZHJhdyBwcmltaXRpdmUgc2hhcGVzIHN1Y2ggYXMgbGluZXMsIGNpcmNsZXMgYW5kXG4gKiByZWN0YW5nbGVzIHRvIHRoZSBkaXNwbGF5LCBhbmQgdG8gY29sb3IgYW5kIGZpbGwgdGhlbS5cbiAqXG4gKiBHcmFwaGljc0dlb21ldHJ5IGlzIGRlc2lnbmVkIHRvIG5vdCBiZSBjb250aW51YWxseSB1cGRhdGluZyB0aGUgZ2VvbWV0cnkgc2luY2UgaXQncyBleHBlbnNpdmVcbiAqIHRvIHJlLXRlc3NlbGF0ZSB1c2luZyAqKmVhcmN1dCoqLiBDb25zaWRlciB1c2luZyB7QGxpbmsgUElYSS5NZXNofSBmb3IgdGhpcyB1c2UtY2FzZSwgaXQncyBtdWNoIGZhc3Rlci5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQmF0Y2hHZW9tZXRyeVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEdyYXBoaWNzR2VvbWV0cnkgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChCYXRjaEdlb21ldHJ5KSB7XG4gICAgZnVuY3Rpb24gR3JhcGhpY3NHZW9tZXRyeSgpXG4gICAge1xuICAgICAgICBCYXRjaEdlb21ldHJ5LmNhbGwodGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IG9mIHBvaW50cyB0byBkcmF3LCAyIG51bWJlcnMgcGVyIHBvaW50XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBvaW50cyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY29sbGVjdGlvbiBvZiBjb2xvcnNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29sb3JzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBVVnMgY29sbGVjdGlvblxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51dnMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGluZGljZXMgb2YgdGhlIHZlcnRpY2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmluZGljZXMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSB0ZXh0dXJlIElEcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGV4dHVyZUlkcyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY29sbGVjdGlvbiBvZiBkcmF3biBzaGFwZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR3JhcGhpY3NEYXRhW119XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ3JhcGhpY3NEYXRhID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGlmIHRoZSBncmFwaGljcyBvYmplY3QgaGFzIGNoYW5nZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kaXJ0eSA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJhdGNoZXMgbmVlZCB0byByZWdlbmVyYXRlZCBpZiB0aGUgZ2VvbWV0cnkgaXMgdXBkYXRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJhdGNoRGlydHkgPSAtMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCB0byBjaGVjayBpZiB0aGUgY2FjaGUgaXMgZGlydHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jYWNoZURpcnR5ID0gLTE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGlmIHdlIGNsZWFyZWQgdGhlIGdyYXBoaWNzRGF0YS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2xlYXJEaXJ0eSA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIExpc3Qgb2YgY3VycmVudCBkcmF3IGNhbGxzIGRyaXZlZCBmcm9tIHRoZSBiYXRjaGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3RbXX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kcmF3Q2FsbHMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJtZWRpYXRlIGFic3RyYWN0IGZvcm1hdCBzZW50IHRvIGJhdGNoIHN5c3RlbS5cbiAgICAgICAgICogQ2FuIGJlIGNvbnZlcnRlZCB0byBkcmF3Q2FsbHMgb3IgdG8gYmF0Y2hhYmxlIG9iamVjdHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdFtdfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJhdGNoZXMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW5kZXggb2YgdGhlIGxhc3QgYmF0Y2hlZCBzaGFwZSBpbiB0aGUgc3RhY2sgb2YgY2FsbHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zaGFwZUluZGV4ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FjaGVkIGJvdW5kcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Cb3VuZHN9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JvdW5kcyA9IG5ldyBCb3VuZHMoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJvdW5kcyBkaXJ0eSBmbGFnLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYm91bmRzRGlydHkgPSAtMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUGFkZGluZyB0byBhZGQgdG8gdGhlIGJvdW5kcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJvdW5kc1BhZGRpbmcgPSAwO1xuXG4gICAgICAgIHRoaXMuYmF0Y2hhYmxlID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5pbmRpY2VzVWludDE2ID0gbnVsbDtcblxuICAgICAgICB0aGlzLnV2c0Zsb2F0MzIgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNaW5pbWFsIGRpc3RhbmNlIGJldHdlZW4gcG9pbnRzIHRoYXQgYXJlIGNvbnNpZGVyZWQgZGlmZmVyZW50LlxuICAgICAgICAgKiBBZmZlY3RzIGxpbmUgdGVzc2VsYXRpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2xvc2VQb2ludEVwcyA9IDFlLTQ7XG4gICAgfVxuXG4gICAgaWYgKCBCYXRjaEdlb21ldHJ5ICkgR3JhcGhpY3NHZW9tZXRyeS5fX3Byb3RvX18gPSBCYXRjaEdlb21ldHJ5O1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQmF0Y2hHZW9tZXRyeSAmJiBCYXRjaEdlb21ldHJ5LnByb3RvdHlwZSApO1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gR3JhcGhpY3NHZW9tZXRyeTtcblxuICAgIHZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IGJvdW5kczogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjdXJyZW50IGJvdW5kcyBvZiB0aGUgZ3JhcGhpYyBnZW9tZXRyeS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuQm91bmRzfVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5ib3VuZHMuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmJvdW5kc0RpcnR5ICE9PSB0aGlzLmRpcnR5KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJvdW5kc0RpcnR5ID0gdGhpcy5kaXJ0eTtcbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlQm91bmRzKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5fYm91bmRzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsIGlmIHlvdSBjaGFuZ2VkIGdyYXBoaWNzRGF0YSBtYW51YWxseS5cbiAgICAgKiBFbXB0aWVzIGFsbCBiYXRjaCBidWZmZXJzLlxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmludmFsaWRhdGUgPSBmdW5jdGlvbiBpbnZhbGlkYXRlICgpXG4gICAge1xuICAgICAgICB0aGlzLmJvdW5kc0RpcnR5ID0gLTE7XG4gICAgICAgIHRoaXMuZGlydHkrKztcbiAgICAgICAgdGhpcy5iYXRjaERpcnR5Kys7XG4gICAgICAgIHRoaXMuc2hhcGVJbmRleCA9IDA7XG5cbiAgICAgICAgdGhpcy5wb2ludHMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5jb2xvcnMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy51dnMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5pbmRpY2VzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMudGV4dHVyZUlkcy5sZW5ndGggPSAwO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5kcmF3Q2FsbHMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZHJhd0NhbGxzW2ldLnRleHR1cmVzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICBEUkFXX0NBTExfUE9PTC5wdXNoKHRoaXMuZHJhd0NhbGxzW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZHJhd0NhbGxzLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgdGhpcy5iYXRjaGVzLmxlbmd0aDsgaSQxKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBiYXRjaCA9ICB0aGlzLmJhdGNoZXNbaSQxXTtcblxuICAgICAgICAgICAgYmF0Y2guc3RhcnQgPSAwO1xuICAgICAgICAgICAgYmF0Y2guYXR0cmliU3RhcnQgPSAwO1xuICAgICAgICAgICAgYmF0Y2guc3R5bGUgPSBudWxsO1xuICAgICAgICAgICAgQkFUQ0hfUE9PTC5wdXNoKGJhdGNoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYmF0Y2hlcy5sZW5ndGggPSAwO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgdGhlIGdyYXBoaWNzIHRoYXQgd2VyZSBkcmF3biB0byB0aGlzIEdyYXBoaWNzIG9iamVjdCwgYW5kIHJlc2V0cyBmaWxsIGFuZCBsaW5lIHN0eWxlIHNldHRpbmdzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc0dlb21ldHJ5fSBUaGlzIEdyYXBoaWNzR2VvbWV0cnkgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyICgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoID4gMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5pbnZhbGlkYXRlKCk7XG4gICAgICAgICAgICB0aGlzLmNsZWFyRGlydHkrKztcbiAgICAgICAgICAgIHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhd3MgdGhlIGdpdmVuIHNoYXBlIHRvIHRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBDYW4gYmUgYW55IG9mIENpcmNsZSwgUmVjdGFuZ2xlLCBFbGxpcHNlLCBMaW5lIG9yIFBvbHlnb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2lyY2xlfFBJWEkuRWxsaXBzZXxQSVhJLlBvbHlnb258UElYSS5SZWN0YW5nbGV8UElYSS5Sb3VuZGVkUmVjdGFuZ2xlfSBzaGFwZSAtIFRoZSBzaGFwZSBvYmplY3QgdG8gZHJhdy5cbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsbFN0eWxlfSBmaWxsU3R5bGUgLSBEZWZpbmVzIHN0eWxlIG9mIHRoZSBmaWxsLlxuICAgICAqIEBwYXJhbSB7UElYSS5MaW5lU3R5bGV9IGxpbmVTdHlsZSAtIERlZmluZXMgc3R5bGUgb2YgdGhlIGxpbmVzLlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRyYW5zZm9ybSBhcHBsaWVkIHRvIHRoZSBwb2ludHMgb2YgdGhlIHNoYXBlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3NHZW9tZXRyeX0gUmV0dXJucyBnZW9tZXRyeSBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuZHJhd1NoYXBlID0gZnVuY3Rpb24gZHJhd1NoYXBlIChzaGFwZSwgZmlsbFN0eWxlLCBsaW5lU3R5bGUsIG1hdHJpeClcbiAgICB7XG4gICAgICAgIHZhciBkYXRhID0gbmV3IEdyYXBoaWNzRGF0YShzaGFwZSwgZmlsbFN0eWxlLCBsaW5lU3R5bGUsIG1hdHJpeCk7XG5cbiAgICAgICAgdGhpcy5ncmFwaGljc0RhdGEucHVzaChkYXRhKTtcbiAgICAgICAgdGhpcy5kaXJ0eSsrO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyB0aGUgZ2l2ZW4gc2hhcGUgdG8gdGhpcyBHcmFwaGljcyBvYmplY3QuIENhbiBiZSBhbnkgb2YgQ2lyY2xlLCBSZWN0YW5nbGUsIEVsbGlwc2UsIExpbmUgb3IgUG9seWdvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5DaXJjbGV8UElYSS5FbGxpcHNlfFBJWEkuUG9seWdvbnxQSVhJLlJlY3RhbmdsZXxQSVhJLlJvdW5kZWRSZWN0YW5nbGV9IHNoYXBlIC0gVGhlIHNoYXBlIG9iamVjdCB0byBkcmF3LlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRyYW5zZm9ybSBhcHBsaWVkIHRvIHRoZSBwb2ludHMgb2YgdGhlIHNoYXBlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3NHZW9tZXRyeX0gUmV0dXJucyBnZW9tZXRyeSBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuZHJhd0hvbGUgPSBmdW5jdGlvbiBkcmF3SG9sZSAoc2hhcGUsIG1hdHJpeClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkYXRhID0gbmV3IEdyYXBoaWNzRGF0YShzaGFwZSwgbnVsbCwgbnVsbCwgbWF0cml4KTtcblxuICAgICAgICB2YXIgbGFzdFNoYXBlID0gdGhpcy5ncmFwaGljc0RhdGFbdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoIC0gMV07XG5cbiAgICAgICAgZGF0YS5saW5lU3R5bGUgPSBsYXN0U2hhcGUubGluZVN0eWxlO1xuXG4gICAgICAgIGxhc3RTaGFwZS5ob2xlcy5wdXNoKGRhdGEpO1xuXG4gICAgICAgIHRoaXMuZGlydHkrKztcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIEdyYXBoaWNzIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsXG4gICAgICogIG9wdGlvbnMgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmVcbiAgICAgKiAgdGhlaXIgZGVzdHJveSBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKG9wdGlvbnMpXG4gICAge1xuICAgICAgICBCYXRjaEdlb21ldHJ5LnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG5cbiAgICAgICAgLy8gZGVzdHJveSBlYWNoIG9mIHRoZSBHcmFwaGljc0RhdGEgb2JqZWN0c1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YVtpXS5kZXN0cm95KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBvaW50cy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLnBvaW50cyA9IG51bGw7XG4gICAgICAgIHRoaXMuY29sb3JzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuY29sb3JzID0gbnVsbDtcbiAgICAgICAgdGhpcy51dnMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy51dnMgPSBudWxsO1xuICAgICAgICB0aGlzLmluZGljZXMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5pbmRpY2VzID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuZHJhd0NhbGxzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuZHJhd0NhbGxzID0gbnVsbDtcbiAgICAgICAgdGhpcy5iYXRjaGVzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuYmF0Y2hlcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2JvdW5kcyA9IG51bGw7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrIHRvIHNlZSBpZiBhIHBvaW50IGlzIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBnZW9tZXRyeS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gcG9pbnQgLSBQb2ludCB0byBjaGVjayBpZiBpdCdzIGNvbnRhaW5lZC5cbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBgdHJ1ZWAgaWYgdGhlIHBvaW50IGlzIGNvbnRhaW5lZCB3aXRoaW4gZ2VvbWV0cnkuXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuY29udGFpbnNQb2ludCA9IGZ1bmN0aW9uIGNvbnRhaW5zUG9pbnQgKHBvaW50KVxuICAgIHtcbiAgICAgICAgdmFyIGdyYXBoaWNzRGF0YSA9IHRoaXMuZ3JhcGhpY3NEYXRhO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ3JhcGhpY3NEYXRhLmxlbmd0aDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IGdyYXBoaWNzRGF0YVtpXTtcblxuICAgICAgICAgICAgaWYgKCFkYXRhLmZpbGxTdHlsZS52aXNpYmxlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBvbmx5IGRlYWwgd2l0aCBmaWxscy4uXG4gICAgICAgICAgICBpZiAoZGF0YS5zaGFwZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5tYXRyaXgpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkYXRhLm1hdHJpeC5hcHBseUludmVyc2UocG9pbnQsIHRtcFBvaW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdG1wUG9pbnQuY29weUZyb20ocG9pbnQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnNoYXBlLmNvbnRhaW5zKHRtcFBvaW50LngsIHRtcFBvaW50LnkpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuaG9sZXMpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IGRhdGEuaG9sZXMubGVuZ3RoOyBpJDErKylcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaG9sZSA9IGRhdGEuaG9sZXNbaSQxXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChob2xlLnNoYXBlLmNvbnRhaW5zKHRtcFBvaW50LngsIHRtcFBvaW50LnkpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGludGVybWVkaWF0ZSBiYXRjaCBkYXRhLiBFaXRoZXIgZ2V0cyBjb252ZXJ0ZWQgdG8gZHJhd0NhbGxzXG4gICAgICogb3IgdXNlZCB0byBjb252ZXJ0IHRvIGJhdGNoIG9iamVjdHMgZGlyZWN0bHkgYnkgdGhlIEdyYXBoaWNzIG9iamVjdC5cbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS51cGRhdGVCYXRjaGVzID0gZnVuY3Rpb24gdXBkYXRlQmF0Y2hlcyAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuZGlydHkgPT09IHRoaXMuY2FjaGVEaXJ0eSkgeyByZXR1cm47IH1cbiAgICAgICAgaWYgKHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5iYXRjaGFibGUgPSB0cnVlO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5kaXJ0eSAhPT0gdGhpcy5jYWNoZURpcnR5KVxuICAgICAgICB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBkYXRhID0gdGhpcy5ncmFwaGljc0RhdGFbaV07XG5cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5maWxsU3R5bGUgJiYgIWRhdGEuZmlsbFN0eWxlLnRleHR1cmUuYmFzZVRleHR1cmUudmFsaWQpIHsgcmV0dXJuOyB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEubGluZVN0eWxlICYmICFkYXRhLmxpbmVTdHlsZS50ZXh0dXJlLmJhc2VUZXh0dXJlLnZhbGlkKSB7IHJldHVybjsgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jYWNoZURpcnR5ID0gdGhpcy5kaXJ0eTtcblxuICAgICAgICB2YXIgdXZzID0gdGhpcy51dnM7XG5cbiAgICAgICAgdmFyIGJhdGNoUGFydCA9IG51bGw7XG4gICAgICAgIHZhciBjdXJyZW50VGV4dHVyZSA9IG51bGw7XG4gICAgICAgIHZhciBjdXJyZW50Q29sb3IgPSAwO1xuICAgICAgICB2YXIgY3VycmVudE5hdGl2ZSA9IGZhbHNlO1xuXG4gICAgICAgIGlmICh0aGlzLmJhdGNoZXMubGVuZ3RoID4gMClcbiAgICAgICAge1xuICAgICAgICAgICAgYmF0Y2hQYXJ0ID0gdGhpcy5iYXRjaGVzW3RoaXMuYmF0Y2hlcy5sZW5ndGggLSAxXTtcblxuICAgICAgICAgICAgdmFyIHN0eWxlID0gYmF0Y2hQYXJ0LnN0eWxlO1xuXG4gICAgICAgICAgICBjdXJyZW50VGV4dHVyZSA9IHN0eWxlLnRleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgICAgICBjdXJyZW50Q29sb3IgPSBzdHlsZS5jb2xvciArIHN0eWxlLmFscGhhO1xuICAgICAgICAgICAgY3VycmVudE5hdGl2ZSA9ICEhc3R5bGUubmF0aXZlO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSQxID0gdGhpcy5zaGFwZUluZGV4OyBpJDEgPCB0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGg7IGkkMSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNoYXBlSW5kZXgrKztcblxuICAgICAgICAgICAgdmFyIGRhdGEkMSA9IHRoaXMuZ3JhcGhpY3NEYXRhW2kkMV07XG4gICAgICAgICAgICB2YXIgY29tbWFuZCA9IGZpbGxDb21tYW5kc1tkYXRhJDEudHlwZV07XG5cbiAgICAgICAgICAgIHZhciBmaWxsU3R5bGUgPSBkYXRhJDEuZmlsbFN0eWxlO1xuICAgICAgICAgICAgdmFyIGxpbmVTdHlsZSA9IGRhdGEkMS5saW5lU3R5bGU7XG5cbiAgICAgICAgICAgIC8vIGJ1aWxkIG91dCB0aGUgc2hhcGVzIHBvaW50cy4uXG4gICAgICAgICAgICBjb21tYW5kLmJ1aWxkKGRhdGEkMSk7XG5cbiAgICAgICAgICAgIGlmIChkYXRhJDEubWF0cml4KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtUG9pbnRzKGRhdGEkMS5wb2ludHMsIGRhdGEkMS5tYXRyaXgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDI7IGorKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgc3R5bGUkMSA9IChqID09PSAwKSA/IGZpbGxTdHlsZSA6IGxpbmVTdHlsZTtcblxuICAgICAgICAgICAgICAgIGlmICghc3R5bGUkMS52aXNpYmxlKSB7IGNvbnRpbnVlOyB9XG5cbiAgICAgICAgICAgICAgICB2YXIgbmV4dFRleHR1cmUgPSBzdHlsZSQxLnRleHR1cmUuYmFzZVRleHR1cmU7XG5cbiAgICAgICAgICAgICAgICB2YXIgaW5kZXgkMSA9IHRoaXMuaW5kaWNlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgdmFyIGF0dHJpYkluZGV4ID0gdGhpcy5wb2ludHMubGVuZ3RoIC8gMjtcblxuICAgICAgICAgICAgICAgIC8vIGNsb3NlIGJhdGNoIGlmIHN0eWxlIGlzIGRpZmZlcmVudFxuICAgICAgICAgICAgICAgIGlmIChiYXRjaFBhcnRcbiAgICAgICAgICAgICAgICAgICAgJiYgKGN1cnJlbnRUZXh0dXJlICE9PSBuZXh0VGV4dHVyZVxuICAgICAgICAgICAgICAgICAgICB8fCBjdXJyZW50Q29sb3IgIT09IChzdHlsZSQxLmNvbG9yICsgc3R5bGUkMS5hbHBoYSlcbiAgICAgICAgICAgICAgICAgICAgfHwgY3VycmVudE5hdGl2ZSAhPT0gISFzdHlsZSQxLm5hdGl2ZSkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBiYXRjaFBhcnQuc2l6ZSA9IGluZGV4JDEgLSBiYXRjaFBhcnQuc3RhcnQ7XG4gICAgICAgICAgICAgICAgICAgIGJhdGNoUGFydC5hdHRyaWJTaXplID0gYXR0cmliSW5kZXggLSBiYXRjaFBhcnQuYXR0cmliU3RhcnQ7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGJhdGNoUGFydC5zaXplID4gMClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmF0Y2hQYXJ0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBzcGF3biBuZXcgYmF0Y2ggaWYgaXRzIGZpcnN0IGJhdGNoIG9yIHByZXZpb3VzIHdhcyBjbG9zZWRcbiAgICAgICAgICAgICAgICBpZiAoIWJhdGNoUGFydClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGJhdGNoUGFydCA9IEJBVENIX1BPT0wucG9wKCkgfHwgbmV3IEJhdGNoUGFydCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJhdGNoZXMucHVzaChiYXRjaFBhcnQpO1xuICAgICAgICAgICAgICAgICAgICBuZXh0VGV4dHVyZS53cmFwTW9kZSA9IFdSQVBfTU9ERVMuUkVQRUFUO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGV4dHVyZSA9IG5leHRUZXh0dXJlO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q29sb3IgPSBzdHlsZSQxLmNvbG9yICsgc3R5bGUkMS5hbHBoYTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE5hdGl2ZSA9IHN0eWxlJDEubmF0aXZlO1xuXG4gICAgICAgICAgICAgICAgICAgIGJhdGNoUGFydC5zdHlsZSA9IHN0eWxlJDE7XG4gICAgICAgICAgICAgICAgICAgIGJhdGNoUGFydC5zdGFydCA9IGluZGV4JDE7XG4gICAgICAgICAgICAgICAgICAgIGJhdGNoUGFydC5hdHRyaWJTdGFydCA9IGF0dHJpYkluZGV4O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBzdGFydCA9IHRoaXMucG9pbnRzLmxlbmd0aCAvIDI7XG5cbiAgICAgICAgICAgICAgICBpZiAoaiA9PT0gMClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhJDEuaG9sZXMubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NIb2xlcyhkYXRhJDEuaG9sZXMpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBidWlsZFBvbHkudHJpYW5ndWxhdGUoZGF0YSQxLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1hbmQudHJpYW5ndWxhdGUoZGF0YSQxLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBidWlsZExpbmUoZGF0YSQxLCB0aGlzKTtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpJDIgPSAwOyBpJDIgPCBkYXRhJDEuaG9sZXMubGVuZ3RoOyBpJDIrKylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnVpbGRMaW5lKGRhdGEkMS5ob2xlc1tpJDJdLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBzaXplID0gKHRoaXMucG9pbnRzLmxlbmd0aCAvIDIpIC0gc3RhcnQ7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmFkZFV2cyh0aGlzLnBvaW50cywgdXZzLCBzdHlsZSQxLnRleHR1cmUsIHN0YXJ0LCBzaXplLCBzdHlsZSQxLm1hdHJpeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmluZGljZXMubGVuZ3RoO1xuICAgICAgICB2YXIgYXR0cmliID0gdGhpcy5wb2ludHMubGVuZ3RoIC8gMjtcblxuICAgICAgICBpZiAoIWJhdGNoUGFydClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gdGhlcmUgYXJlIG5vIHZpc2libGUgc3R5bGVzIGluIEdyYXBoaWNzRGF0YVxuICAgICAgICAgICAgLy8gaXRzIHBvc3NpYmxlIHRoYXQgc29tZW9uZSB3YW50cyBHcmFwaGljcyBqdXN0IGZvciB0aGUgYm91bmRzXG4gICAgICAgICAgICB0aGlzLmJhdGNoYWJsZSA9IHRydWU7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGJhdGNoUGFydC5zaXplID0gaW5kZXggLSBiYXRjaFBhcnQuc3RhcnQ7XG4gICAgICAgIGJhdGNoUGFydC5hdHRyaWJTaXplID0gYXR0cmliIC0gYmF0Y2hQYXJ0LmF0dHJpYlN0YXJ0O1xuICAgICAgICB0aGlzLmluZGljZXNVaW50MTYgPSBuZXcgVWludDE2QXJyYXkodGhpcy5pbmRpY2VzKTtcblxuICAgICAgICAvLyBUT0RPIG1ha2UgdGhpcyBhIGNvbnN0Li5cbiAgICAgICAgdGhpcy5iYXRjaGFibGUgPSB0aGlzLmlzQmF0Y2hhYmxlKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuYmF0Y2hhYmxlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJhdGNoRGlydHkrKztcblxuICAgICAgICAgICAgdGhpcy51dnNGbG9hdDMyID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLnV2cyk7XG5cbiAgICAgICAgICAgIC8vIG9mZnNldCB0aGUgaW5kaWNlcyBzbyB0aGF0IGl0IHdvcmtzIHdpdGggdGhlIGJhdGNoZXIuLi5cbiAgICAgICAgICAgIGZvciAodmFyIGkkMyA9IDA7IGkkMyA8IHRoaXMuYmF0Y2hlcy5sZW5ndGg7IGkkMysrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBiYXRjaCA9IHRoaXMuYmF0Y2hlc1tpJDNdO1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiQxID0gMDsgaiQxIDwgYmF0Y2guc2l6ZTsgaiQxKyspXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXgkMiA9IGJhdGNoLnN0YXJ0ICsgaiQxO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5kaWNlc1VpbnQxNltpbmRleCQyXSA9IHRoaXMuaW5kaWNlc1VpbnQxNltpbmRleCQyXSAtIGJhdGNoLmF0dHJpYlN0YXJ0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYnVpbGREcmF3Q2FsbHMoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgdG8gc2VlIGlmIHRoaXMgZ3JhcGhpY3MgZ2VvbWV0cnkgY2FuIGJlIGJhdGNoZWQuXG4gICAgICogQ3VycmVudGx5IGl0IG5lZWRzIHRvIGJlIHNtYWxsIGVub3VnaCBhbmQgbm90IGNvbnRhaW4gYW55IG5hdGl2ZSBsaW5lcy5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuaXNCYXRjaGFibGUgPSBmdW5jdGlvbiBpc0JhdGNoYWJsZSAoKVxuICAgIHtcbiAgICAgICAgdmFyIGJhdGNoZXMgPSB0aGlzLmJhdGNoZXM7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiYXRjaGVzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoYmF0Y2hlc1tpXS5zdHlsZS5uYXRpdmUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICh0aGlzLnBvaW50cy5sZW5ndGggPCBHcmFwaGljc0dlb21ldHJ5LkJBVENIQUJMRV9TSVpFICogMik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGludGVybWVkaWF0ZSBiYXRjaGVzIGRhdGEgdG8gZHJhd0NhbGxzLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5idWlsZERyYXdDYWxscyA9IGZ1bmN0aW9uIGJ1aWxkRHJhd0NhbGxzICgpXG4gICAge1xuICAgICAgICB2YXIgVElDSyA9ICsrQmFzZVRleHR1cmUuX2dsb2JhbEJhdGNoO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5kcmF3Q2FsbHMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZHJhd0NhbGxzW2ldLnRleHR1cmVzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICBEUkFXX0NBTExfUE9PTC5wdXNoKHRoaXMuZHJhd0NhbGxzW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZHJhd0NhbGxzLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgdmFyIHV2cyA9IHRoaXMudXZzO1xuICAgICAgICB2YXIgY29sb3JzID0gdGhpcy5jb2xvcnM7XG4gICAgICAgIHZhciB0ZXh0dXJlSWRzID0gdGhpcy50ZXh0dXJlSWRzO1xuXG4gICAgICAgIHZhciBjdXJyZW50R3JvdXAgPSAgRFJBV19DQUxMX1BPT0wucG9wKCkgfHwgbmV3IEJhdGNoRHJhd0NhbGwoKTtcblxuICAgICAgICBjdXJyZW50R3JvdXAudGV4dHVyZUNvdW50ID0gMDtcbiAgICAgICAgY3VycmVudEdyb3VwLnN0YXJ0ID0gMDtcbiAgICAgICAgY3VycmVudEdyb3VwLnNpemUgPSAwO1xuICAgICAgICBjdXJyZW50R3JvdXAudHlwZSA9IERSQVdfTU9ERVMuVFJJQU5HTEVTO1xuXG4gICAgICAgIHZhciB0ZXh0dXJlQ291bnQgPSAwO1xuICAgICAgICB2YXIgY3VycmVudFRleHR1cmUgPSBudWxsO1xuICAgICAgICB2YXIgdGV4dHVyZUlkID0gMDtcbiAgICAgICAgdmFyIG5hdGl2ZSA9IGZhbHNlO1xuICAgICAgICB2YXIgZHJhd01vZGUgPSBEUkFXX01PREVTLlRSSUFOR0xFUztcblxuICAgICAgICB2YXIgaW5kZXggPSAwO1xuXG4gICAgICAgIHRoaXMuZHJhd0NhbGxzLnB1c2goY3VycmVudEdyb3VwKTtcblxuICAgICAgICAvLyBUT0RPIC0gdGhpcyBjYW4gYmUgc2ltcGxpZmllZFxuICAgICAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCB0aGlzLmJhdGNoZXMubGVuZ3RoOyBpJDErKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmJhdGNoZXNbaSQxXTtcblxuICAgICAgICAgICAgLy8gVE9ETyBhZGQgc29tZSBmdWxsIG9uIE1BWF9URVhUVVJFIENPREUuLlxuICAgICAgICAgICAgdmFyIE1BWF9URVhUVVJFUyA9IDg7XG5cbiAgICAgICAgICAgIHZhciBzdHlsZSA9IGRhdGEuc3R5bGU7XG5cbiAgICAgICAgICAgIHZhciBuZXh0VGV4dHVyZSA9IHN0eWxlLnRleHR1cmUuYmFzZVRleHR1cmU7XG5cbiAgICAgICAgICAgIGlmIChuYXRpdmUgIT09ICEhc3R5bGUubmF0aXZlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hdGl2ZSA9IHN0eWxlLm5hdGl2ZTtcbiAgICAgICAgICAgICAgICBkcmF3TW9kZSA9IG5hdGl2ZSA/IERSQVdfTU9ERVMuTElORVMgOiBEUkFXX01PREVTLlRSSUFOR0xFUztcblxuICAgICAgICAgICAgICAgIC8vIGZvcmNlIHRoZSBiYXRjaCB0byBicmVhayFcbiAgICAgICAgICAgICAgICBjdXJyZW50VGV4dHVyZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGV4dHVyZUNvdW50ID0gTUFYX1RFWFRVUkVTO1xuICAgICAgICAgICAgICAgIFRJQ0srKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGN1cnJlbnRUZXh0dXJlICE9PSBuZXh0VGV4dHVyZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50VGV4dHVyZSA9IG5leHRUZXh0dXJlO1xuXG4gICAgICAgICAgICAgICAgaWYgKG5leHRUZXh0dXJlLl9iYXRjaEVuYWJsZWQgIT09IFRJQ0spXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGV4dHVyZUNvdW50ID09PSBNQVhfVEVYVFVSRVMpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFRJQ0srKztcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUNvdW50ID0gMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRHcm91cC5zaXplID4gMClcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAgPSBEUkFXX0NBTExfUE9PTC5wb3AoKSB8fCBuZXcgQmF0Y2hEcmF3Q2FsbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd0NhbGxzLnB1c2goY3VycmVudEdyb3VwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwLnN0YXJ0ID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAuc2l6ZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAudGV4dHVyZUNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC50eXBlID0gZHJhd01vZGU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIGFkZCB0aGlzIHRvIHRoZSByZW5kZXIgcGFydC4uXG4gICAgICAgICAgICAgICAgICAgIG5leHRUZXh0dXJlLnRvdWNoZWQgPSAxOy8vIHRvdWNoO1xuICAgICAgICAgICAgICAgICAgICBuZXh0VGV4dHVyZS5fYmF0Y2hFbmFibGVkID0gVElDSztcbiAgICAgICAgICAgICAgICAgICAgbmV4dFRleHR1cmUuX2lkID0gdGV4dHVyZUNvdW50O1xuICAgICAgICAgICAgICAgICAgICBuZXh0VGV4dHVyZS53cmFwTW9kZSA9IDEwNDk3O1xuXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC50ZXh0dXJlc1tjdXJyZW50R3JvdXAudGV4dHVyZUNvdW50KytdID0gbmV4dFRleHR1cmU7XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmVDb3VudCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY3VycmVudEdyb3VwLnNpemUgKz0gZGF0YS5zaXplO1xuICAgICAgICAgICAgaW5kZXggKz0gZGF0YS5zaXplO1xuXG4gICAgICAgICAgICB0ZXh0dXJlSWQgPSBuZXh0VGV4dHVyZS5faWQ7XG5cbiAgICAgICAgICAgIHRoaXMuYWRkQ29sb3JzKGNvbG9ycywgc3R5bGUuY29sb3IsIHN0eWxlLmFscGhhLCBkYXRhLmF0dHJpYlNpemUpO1xuICAgICAgICAgICAgdGhpcy5hZGRUZXh0dXJlSWRzKHRleHR1cmVJZHMsIHRleHR1cmVJZCwgZGF0YS5hdHRyaWJTaXplKTtcbiAgICAgICAgfVxuXG4gICAgICAgIEJhc2VUZXh0dXJlLl9nbG9iYWxCYXRjaCA9IFRJQ0s7XG5cbiAgICAgICAgLy8gdXBsb2FkLi5cbiAgICAgICAgLy8gbWVyZ2UgZm9yIG5vdyFcbiAgICAgICAgdmFyIHZlcnRzID0gdGhpcy5wb2ludHM7XG5cbiAgICAgICAgLy8gdmVydHMgYXJlIDIgcG9zaXRpb25zLi4gc28gd2UgKiBieSAzIGFzIHRoZXJlIGFyZSA2IHByb3BlcnRpZXMuLiB0aGVuIDQgY29zIGl0cyBieXRlc1xuICAgICAgICB2YXIgZ2xQb2ludHMgPSBuZXcgQXJyYXlCdWZmZXIodmVydHMubGVuZ3RoICogMyAqIDQpO1xuICAgICAgICB2YXIgZjMyID0gbmV3IEZsb2F0MzJBcnJheShnbFBvaW50cyk7XG4gICAgICAgIHZhciB1MzIgPSBuZXcgVWludDMyQXJyYXkoZ2xQb2ludHMpO1xuXG4gICAgICAgIHZhciBwID0gMDtcblxuICAgICAgICBmb3IgKHZhciBpJDIgPSAwOyBpJDIgPCB2ZXJ0cy5sZW5ndGggLyAyOyBpJDIrKylcbiAgICAgICAge1xuICAgICAgICAgICAgZjMyW3ArK10gPSB2ZXJ0c1tpJDIgKiAyXTtcbiAgICAgICAgICAgIGYzMltwKytdID0gdmVydHNbKGkkMiAqIDIpICsgMV07XG5cbiAgICAgICAgICAgIGYzMltwKytdID0gdXZzW2kkMiAqIDJdO1xuICAgICAgICAgICAgZjMyW3ArK10gPSB1dnNbKGkkMiAqIDIpICsgMV07XG5cbiAgICAgICAgICAgIHUzMltwKytdID0gY29sb3JzW2kkMl07XG5cbiAgICAgICAgICAgIGYzMltwKytdID0gdGV4dHVyZUlkc1tpJDJdO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fYnVmZmVyLnVwZGF0ZShnbFBvaW50cyk7XG4gICAgICAgIHRoaXMuX2luZGV4QnVmZmVyLnVwZGF0ZSh0aGlzLmluZGljZXNVaW50MTYpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzIHRoZSBob2xlcyBkYXRhLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzRGF0YVtdfSBob2xlcyAtIEhvbGVzIHRvIHJlbmRlclxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5wcm9jZXNzSG9sZXMgPSBmdW5jdGlvbiBwcm9jZXNzSG9sZXMgKGhvbGVzKVxuICAgIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBob2xlcy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGhvbGUgPSBob2xlc1tpXTtcblxuICAgICAgICAgICAgdmFyIGNvbW1hbmQgPSBmaWxsQ29tbWFuZHNbaG9sZS50eXBlXTtcblxuICAgICAgICAgICAgY29tbWFuZC5idWlsZChob2xlKTtcblxuICAgICAgICAgICAgaWYgKGhvbGUubWF0cml4KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtUG9pbnRzKGhvbGUucG9pbnRzLCBob2xlLm1hdHJpeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBsb2NhbCBib3VuZHMgb2YgdGhlIG9iamVjdC4gRXhwZW5zaXZlIHRvIHVzZSBwZXJmb3JtYW5jZS13aXNlLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiBjYWxjdWxhdGVCb3VuZHMgKClcbiAgICB7XG4gICAgICAgIHZhciBtaW5YID0gSW5maW5pdHk7XG4gICAgICAgIHZhciBtYXhYID0gLUluZmluaXR5O1xuXG4gICAgICAgIHZhciBtaW5ZID0gSW5maW5pdHk7XG4gICAgICAgIHZhciBtYXhZID0gLUluZmluaXR5O1xuXG4gICAgICAgIGlmICh0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBzaGFwZSA9IG51bGw7XG4gICAgICAgICAgICB2YXIgeCA9IDA7XG4gICAgICAgICAgICB2YXIgeSA9IDA7XG4gICAgICAgICAgICB2YXIgdyA9IDA7XG4gICAgICAgICAgICB2YXIgaCA9IDA7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmdyYXBoaWNzRGF0YVtpXTtcblxuICAgICAgICAgICAgICAgIHZhciB0eXBlID0gZGF0YS50eXBlO1xuICAgICAgICAgICAgICAgIHZhciBsaW5lV2lkdGggPSBkYXRhLmxpbmVTdHlsZSA/IGRhdGEubGluZVN0eWxlLndpZHRoIDogMDtcblxuICAgICAgICAgICAgICAgIHNoYXBlID0gZGF0YS5zaGFwZTtcblxuICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSBTSEFQRVMuUkVDVCB8fCB0eXBlID09PSBTSEFQRVMuUlJFQylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHggPSBzaGFwZS54IC0gKGxpbmVXaWR0aCAvIDIpO1xuICAgICAgICAgICAgICAgICAgICB5ID0gc2hhcGUueSAtIChsaW5lV2lkdGggLyAyKTtcbiAgICAgICAgICAgICAgICAgICAgdyA9IHNoYXBlLndpZHRoICsgbGluZVdpZHRoO1xuICAgICAgICAgICAgICAgICAgICBoID0gc2hhcGUuaGVpZ2h0ICsgbGluZVdpZHRoO1xuXG4gICAgICAgICAgICAgICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICAgICAgICAgICAgICBtYXhYID0geCArIHcgPiBtYXhYID8geCArIHcgOiBtYXhYO1xuXG4gICAgICAgICAgICAgICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICAgICAgICAgICAgICBtYXhZID0geSArIGggPiBtYXhZID8geSArIGggOiBtYXhZO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlID09PSBTSEFQRVMuQ0lSQylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHggPSBzaGFwZS54O1xuICAgICAgICAgICAgICAgICAgICB5ID0gc2hhcGUueTtcbiAgICAgICAgICAgICAgICAgICAgdyA9IHNoYXBlLnJhZGl1cyArIChsaW5lV2lkdGggLyAyKTtcbiAgICAgICAgICAgICAgICAgICAgaCA9IHNoYXBlLnJhZGl1cyArIChsaW5lV2lkdGggLyAyKTtcblxuICAgICAgICAgICAgICAgICAgICBtaW5YID0geCAtIHcgPCBtaW5YID8geCAtIHcgOiBtaW5YO1xuICAgICAgICAgICAgICAgICAgICBtYXhYID0geCArIHcgPiBtYXhYID8geCArIHcgOiBtYXhYO1xuXG4gICAgICAgICAgICAgICAgICAgIG1pblkgPSB5IC0gaCA8IG1pblkgPyB5IC0gaCA6IG1pblk7XG4gICAgICAgICAgICAgICAgICAgIG1heFkgPSB5ICsgaCA+IG1heFkgPyB5ICsgaCA6IG1heFk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGUgPT09IFNIQVBFUy5FTElQKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgeCA9IHNoYXBlLng7XG4gICAgICAgICAgICAgICAgICAgIHkgPSBzaGFwZS55O1xuICAgICAgICAgICAgICAgICAgICB3ID0gc2hhcGUud2lkdGggKyAobGluZVdpZHRoIC8gMik7XG4gICAgICAgICAgICAgICAgICAgIGggPSBzaGFwZS5oZWlnaHQgKyAobGluZVdpZHRoIC8gMik7XG5cbiAgICAgICAgICAgICAgICAgICAgbWluWCA9IHggLSB3IDwgbWluWCA/IHggLSB3IDogbWluWDtcbiAgICAgICAgICAgICAgICAgICAgbWF4WCA9IHggKyB3ID4gbWF4WCA/IHggKyB3IDogbWF4WDtcblxuICAgICAgICAgICAgICAgICAgICBtaW5ZID0geSAtIGggPCBtaW5ZID8geSAtIGggOiBtaW5ZO1xuICAgICAgICAgICAgICAgICAgICBtYXhZID0geSArIGggPiBtYXhZID8geSArIGggOiBtYXhZO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvLyBQT0xZXG4gICAgICAgICAgICAgICAgICAgIHZhciBwb2ludHMgPSBzaGFwZS5wb2ludHM7XG4gICAgICAgICAgICAgICAgICAgIHZhciB4MiA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciB5MiA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkeCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkeSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciBydyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciByaCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjeCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjeSA9IDA7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogKyAyIDwgcG9pbnRzLmxlbmd0aDsgaiArPSAyKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB4ID0gcG9pbnRzW2pdO1xuICAgICAgICAgICAgICAgICAgICAgICAgeSA9IHBvaW50c1tqICsgMV07XG4gICAgICAgICAgICAgICAgICAgICAgICB4MiA9IHBvaW50c1tqICsgMl07XG4gICAgICAgICAgICAgICAgICAgICAgICB5MiA9IHBvaW50c1tqICsgM107XG4gICAgICAgICAgICAgICAgICAgICAgICBkeCA9IE1hdGguYWJzKHgyIC0geCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkeSA9IE1hdGguYWJzKHkyIC0geSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBoID0gbGluZVdpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgdyA9IE1hdGguc3FydCgoZHggKiBkeCkgKyAoZHkgKiBkeSkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodyA8IDFlLTkpXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJ3ID0gKChoIC8gdyAqIGR5KSArIGR4KSAvIDI7XG4gICAgICAgICAgICAgICAgICAgICAgICByaCA9ICgoaCAvIHcgKiBkeCkgKyBkeSkgLyAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3ggPSAoeDIgKyB4KSAvIDI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjeSA9ICh5MiArIHkpIC8gMjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbWluWCA9IGN4IC0gcncgPCBtaW5YID8gY3ggLSBydyA6IG1pblg7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhYID0gY3ggKyBydyA+IG1heFggPyBjeCArIHJ3IDogbWF4WDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbWluWSA9IGN5IC0gcmggPCBtaW5ZID8gY3kgLSByaCA6IG1pblk7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhZID0gY3kgKyByaCA+IG1heFkgPyBjeSArIHJoIDogbWF4WTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIG1pblggPSAwO1xuICAgICAgICAgICAgbWF4WCA9IDA7XG4gICAgICAgICAgICBtaW5ZID0gMDtcbiAgICAgICAgICAgIG1heFkgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBhZGRpbmcgPSB0aGlzLmJvdW5kc1BhZGRpbmc7XG5cbiAgICAgICAgdGhpcy5fYm91bmRzLm1pblggPSBtaW5YIC0gcGFkZGluZztcbiAgICAgICAgdGhpcy5fYm91bmRzLm1heFggPSBtYXhYICsgcGFkZGluZztcblxuICAgICAgICB0aGlzLl9ib3VuZHMubWluWSA9IG1pblkgLSBwYWRkaW5nO1xuICAgICAgICB0aGlzLl9ib3VuZHMubWF4WSA9IG1heFkgKyBwYWRkaW5nO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUcmFuc2Zvcm0gcG9pbnRzIHVzaW5nIG1hdHJpeC5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBwb2ludHMgLSBQb2ludHMgdG8gdHJhbnNmb3JtXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVHJhbnNmb3JtIG1hdHJpeFxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLnRyYW5zZm9ybVBvaW50cyA9IGZ1bmN0aW9uIHRyYW5zZm9ybVBvaW50cyAocG9pbnRzLCBtYXRyaXgpXG4gICAge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGggLyAyOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB4ID0gcG9pbnRzWyhpICogMildO1xuICAgICAgICAgICAgdmFyIHkgPSBwb2ludHNbKGkgKiAyKSArIDFdO1xuXG4gICAgICAgICAgICBwb2ludHNbKGkgKiAyKV0gPSAobWF0cml4LmEgKiB4KSArIChtYXRyaXguYyAqIHkpICsgbWF0cml4LnR4O1xuICAgICAgICAgICAgcG9pbnRzWyhpICogMikgKyAxXSA9IChtYXRyaXguYiAqIHgpICsgKG1hdHJpeC5kICogeSkgKyBtYXRyaXgudHk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkIGNvbG9ycy5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBjb2xvcnMgLSBMaXN0IG9mIGNvbG9ycyB0byBhZGQgdG9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29sb3IgLSBDb2xvciB0byBhZGRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYWxwaGEgLSBBbHBoYSB0byB1c2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2l6ZSAtIE51bWJlciBvZiBjb2xvcnMgdG8gYWRkXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuYWRkQ29sb3JzID0gZnVuY3Rpb24gYWRkQ29sb3JzIChjb2xvcnMsIGNvbG9yLCBhbHBoYSwgc2l6ZSlcbiAgICB7XG4gICAgICAgIC8vIFRPRE8gdXNlIHRoZSBwcmVtdWx0aXBseSBiaXRzIEl2YW4gYWRkZWRcbiAgICAgICAgdmFyIHJnYiA9IChjb2xvciA+PiAxNikgKyAoY29sb3IgJiAweGZmMDApICsgKChjb2xvciAmIDB4ZmYpIDw8IDE2KTtcblxuICAgICAgICB2YXIgcmdiYSA9ICBwcmVtdWx0aXBseVRpbnQocmdiLCBhbHBoYSk7XG5cbiAgICAgICAgd2hpbGUgKHNpemUtLSA+IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbG9ycy5wdXNoKHJnYmEpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZCB0ZXh0dXJlIGlkIHRoYXQgdGhlIHNoYWRlci9mcmFnbWVudCB3YW50cyB0byB1c2UuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gdGV4dHVyZUlkc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuYWRkVGV4dHVyZUlkcyA9IGZ1bmN0aW9uIGFkZFRleHR1cmVJZHMgKHRleHR1cmVJZHMsIGlkLCBzaXplKVxuICAgIHtcbiAgICAgICAgd2hpbGUgKHNpemUtLSA+IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRleHR1cmVJZHMucHVzaChpZCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIHRoZSBVVnMgZm9yIGEgc2hhcGUuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gdmVydHMgLSBWZXJ0aWNlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IHV2cyAtIFVWc1xuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gUmVmZXJlbmNlIHRvIFRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgLSBJbmRleCBidWZmZXIgc3RhcnQgaW5kZXguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBUaGUgc2l6ZS9sZW5ndGggZm9yIGluZGV4IGJ1ZmZlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBbbWF0cml4XSAtIE9wdGlvbmFsIHRyYW5zZm9ybSBmb3IgYWxsIHBvaW50cy5cbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5hZGRVdnMgPSBmdW5jdGlvbiBhZGRVdnMgKHZlcnRzLCB1dnMsIHRleHR1cmUsIHN0YXJ0LCBzaXplLCBtYXRyaXgpXG4gICAge1xuICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICB2YXIgdXZzU3RhcnQgPSB1dnMubGVuZ3RoO1xuICAgICAgICB2YXIgZnJhbWUgPSB0ZXh0dXJlLmZyYW1lO1xuXG4gICAgICAgIHdoaWxlIChpbmRleCA8IHNpemUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB4ID0gdmVydHNbKHN0YXJ0ICsgaW5kZXgpICogMl07XG4gICAgICAgICAgICB2YXIgeSA9IHZlcnRzWygoc3RhcnQgKyBpbmRleCkgKiAyKSArIDFdO1xuXG4gICAgICAgICAgICBpZiAobWF0cml4KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBueCA9IChtYXRyaXguYSAqIHgpICsgKG1hdHJpeC5jICogeSkgKyBtYXRyaXgudHg7XG5cbiAgICAgICAgICAgICAgICB5ID0gKG1hdHJpeC5iICogeCkgKyAobWF0cml4LmQgKiB5KSArIG1hdHJpeC50eTtcbiAgICAgICAgICAgICAgICB4ID0gbng7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGluZGV4Kys7XG5cbiAgICAgICAgICAgIHV2cy5wdXNoKHggLyBmcmFtZS53aWR0aCwgeSAvIGZyYW1lLmhlaWdodCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSB0ZXh0dXJlLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgIGlmIChmcmFtZS53aWR0aCA8IGJhc2VUZXh0dXJlLndpZHRoXG4gICAgICAgICAgICB8fCBmcmFtZS5oZWlnaHQgPCBiYXNlVGV4dHVyZS5oZWlnaHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYWRqdXN0VXZzKHV2cywgdGV4dHVyZSwgdXZzU3RhcnQsIHNpemUpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE1vZGlmeSB1dnMgYXJyYXkgYWNjb3JkaW5nIHRvIHBvc2l0aW9uIG9mIHRleHR1cmUgcmVnaW9uXG4gICAgICogRG9lcyBub3Qgd29yayB3aXRoIHJvdGF0ZWQgb3IgdHJpbW1lZCB0ZXh0dXJlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IHV2cyBhcnJheVxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIHJlZ2lvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBzdGFydGluZyBpbmRleCBmb3IgdXZzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgaG93IG1hbnkgcG9pbnRzIHRvIGFkanVzdFxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmFkanVzdFV2cyA9IGZ1bmN0aW9uIGFkanVzdFV2cyAodXZzLCB0ZXh0dXJlLCBzdGFydCwgc2l6ZSlcbiAgICB7XG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IHRleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgIHZhciBlcHMgPSAxZS02O1xuICAgICAgICB2YXIgZmluaXNoID0gc3RhcnQgKyAoc2l6ZSAqIDIpO1xuICAgICAgICB2YXIgZnJhbWUgPSB0ZXh0dXJlLmZyYW1lO1xuICAgICAgICB2YXIgc2NhbGVYID0gZnJhbWUud2lkdGggLyBiYXNlVGV4dHVyZS53aWR0aDtcbiAgICAgICAgdmFyIHNjYWxlWSA9IGZyYW1lLmhlaWdodCAvIGJhc2VUZXh0dXJlLmhlaWdodDtcbiAgICAgICAgdmFyIG9mZnNldFggPSBmcmFtZS54IC8gZnJhbWUud2lkdGg7XG4gICAgICAgIHZhciBvZmZzZXRZID0gZnJhbWUueSAvIGZyYW1lLmhlaWdodDtcbiAgICAgICAgdmFyIG1pblggPSBNYXRoLmZsb29yKHV2c1tzdGFydF0gKyBlcHMpO1xuICAgICAgICB2YXIgbWluWSA9IE1hdGguZmxvb3IodXZzW3N0YXJ0ICsgMV0gKyBlcHMpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSBzdGFydCArIDI7IGkgPCBmaW5pc2g7IGkgKz0gMilcbiAgICAgICAge1xuICAgICAgICAgICAgbWluWCA9IE1hdGgubWluKG1pblgsIE1hdGguZmxvb3IodXZzW2ldICsgZXBzKSk7XG4gICAgICAgICAgICBtaW5ZID0gTWF0aC5taW4obWluWSwgTWF0aC5mbG9vcih1dnNbaSArIDFdICsgZXBzKSk7XG4gICAgICAgIH1cbiAgICAgICAgb2Zmc2V0WCAtPSBtaW5YO1xuICAgICAgICBvZmZzZXRZIC09IG1pblk7XG4gICAgICAgIGZvciAodmFyIGkkMSA9IHN0YXJ0OyBpJDEgPCBmaW5pc2g7IGkkMSArPSAyKVxuICAgICAgICB7XG4gICAgICAgICAgICB1dnNbaSQxXSA9ICh1dnNbaSQxXSArIG9mZnNldFgpICogc2NhbGVYO1xuICAgICAgICAgICAgdXZzW2kkMSArIDFdID0gKHV2c1tpJDEgKyAxXSArIG9mZnNldFkpICogc2NhbGVZO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbiAgICByZXR1cm4gR3JhcGhpY3NHZW9tZXRyeTtcbn0oQmF0Y2hHZW9tZXRyeSkpO1xuXG4vKipcbiAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiBwb2ludHMgdG8gY29uc2lkZXIgYW4gb2JqZWN0IFwiYmF0Y2hhYmxlXCIsXG4gKiBhYmxlIHRvIGJlIGJhdGNoZWQgYnkgdGhlIHJlbmRlcmVyJ3MgYmF0Y2ggc3lzdGVtLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLkdyYXBoaWNzR2VvbWV0cnlcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXIge251bWJlcn0gQkFUQ0hBQkxFX1NJWkVcbiAqIEBkZWZhdWx0IDEwMFxuICovXG5HcmFwaGljc0dlb21ldHJ5LkJBVENIQUJMRV9TSVpFID0gMTAwO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgdGhlIGxpbmUgc3R5bGUgZm9yIEdyYXBoaWNzLlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWxsU3R5bGVcbiAqL1xudmFyIExpbmVTdHlsZSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEZpbGxTdHlsZSkge1xuICAgIGZ1bmN0aW9uIExpbmVTdHlsZSAoKSB7XG4gICAgICAgIEZpbGxTdHlsZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIGlmICggRmlsbFN0eWxlICkgTGluZVN0eWxlLl9fcHJvdG9fXyA9IEZpbGxTdHlsZTtcbiAgICBMaW5lU3R5bGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggRmlsbFN0eWxlICYmIEZpbGxTdHlsZS5wcm90b3R5cGUgKTtcbiAgICBMaW5lU3R5bGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTGluZVN0eWxlO1xuXG4gICAgTGluZVN0eWxlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIGNsb25lICgpXG4gICAge1xuICAgICAgICB2YXIgb2JqID0gbmV3IExpbmVTdHlsZSgpO1xuXG4gICAgICAgIG9iai5jb2xvciA9IHRoaXMuY29sb3I7XG4gICAgICAgIG9iai5hbHBoYSA9IHRoaXMuYWxwaGE7XG4gICAgICAgIG9iai50ZXh0dXJlID0gdGhpcy50ZXh0dXJlO1xuICAgICAgICBvYmoubWF0cml4ID0gdGhpcy5tYXRyaXg7XG4gICAgICAgIG9iai52aXNpYmxlID0gdGhpcy52aXNpYmxlO1xuICAgICAgICBvYmoud2lkdGggPSB0aGlzLndpZHRoO1xuICAgICAgICBvYmouYWxpZ25tZW50ID0gdGhpcy5hbGlnbm1lbnQ7XG4gICAgICAgIG9iai5uYXRpdmUgPSB0aGlzLm5hdGl2ZTtcblxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVzZXQgdGhlIGxpbmUgc3R5bGUgdG8gZGVmYXVsdC5cbiAgICAgKi9cbiAgICBMaW5lU3R5bGUucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQgKClcbiAgICB7XG4gICAgICAgIEZpbGxTdHlsZS5wcm90b3R5cGUucmVzZXQuY2FsbCh0aGlzKTtcblxuICAgICAgICAvLyBPdmVycmlkZSBkZWZhdWx0IGxpbmUgc3R5bGUgY29sb3JcbiAgICAgICAgdGhpcy5jb2xvciA9IDB4MDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoICh0aGlja25lc3MpIG9mIGFueSBsaW5lcyBkcmF3bi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpZHRoID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFsaWdubWVudCBvZiBhbnkgbGluZXMgZHJhd24gKDAuNSA9IG1pZGRsZSwgMSA9IG91dHRlciwgMCA9IGlubmVyKS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFsaWdubWVudCA9IDAuNTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdHJ1ZSB0aGUgbGluZXMgd2lsbCBiZSBkcmF3IHVzaW5nIExJTkVTIGluc3RlYWQgb2YgVFJJQU5HTEVfU1RSSVBcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubmF0aXZlID0gZmFsc2U7XG4gICAgfTtcblxuICAgIHJldHVybiBMaW5lU3R5bGU7XG59KEZpbGxTdHlsZSkpO1xuXG4vKipcbiAqIFV0aWxpdGllcyBmb3IgYmV6aWVyIGN1cnZlc1xuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgQmV6aWVyVXRpbHMgPSBmdW5jdGlvbiBCZXppZXJVdGlscyAoKSB7fTtcblxuQmV6aWVyVXRpbHMuY3VydmVMZW5ndGggPSBmdW5jdGlvbiBjdXJ2ZUxlbmd0aCAoZnJvbVgsIGZyb21ZLCBjcFgsIGNwWSwgY3BYMiwgY3BZMiwgdG9YLCB0b1kpXG57XG4gICAgdmFyIG4gPSAxMDtcbiAgICB2YXIgcmVzdWx0ID0gMC4wO1xuICAgIHZhciB0ID0gMC4wO1xuICAgIHZhciB0MiA9IDAuMDtcbiAgICB2YXIgdDMgPSAwLjA7XG4gICAgdmFyIG50ID0gMC4wO1xuICAgIHZhciBudDIgPSAwLjA7XG4gICAgdmFyIG50MyA9IDAuMDtcbiAgICB2YXIgeCA9IDAuMDtcbiAgICB2YXIgeSA9IDAuMDtcbiAgICB2YXIgZHggPSAwLjA7XG4gICAgdmFyIGR5ID0gMC4wO1xuICAgIHZhciBwcmV2WCA9IGZyb21YO1xuICAgIHZhciBwcmV2WSA9IGZyb21ZO1xuXG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gbjsgKytpKVxuICAgIHtcbiAgICAgICAgdCA9IGkgLyBuO1xuICAgICAgICB0MiA9IHQgKiB0O1xuICAgICAgICB0MyA9IHQyICogdDtcbiAgICAgICAgbnQgPSAoMS4wIC0gdCk7XG4gICAgICAgIG50MiA9IG50ICogbnQ7XG4gICAgICAgIG50MyA9IG50MiAqIG50O1xuXG4gICAgICAgIHggPSAobnQzICogZnJvbVgpICsgKDMuMCAqIG50MiAqIHQgKiBjcFgpICsgKDMuMCAqIG50ICogdDIgKiBjcFgyKSArICh0MyAqIHRvWCk7XG4gICAgICAgIHkgPSAobnQzICogZnJvbVkpICsgKDMuMCAqIG50MiAqIHQgKiBjcFkpICsgKDMgKiBudCAqIHQyICogY3BZMikgKyAodDMgKiB0b1kpO1xuICAgICAgICBkeCA9IHByZXZYIC0geDtcbiAgICAgICAgZHkgPSBwcmV2WSAtIHk7XG4gICAgICAgIHByZXZYID0geDtcbiAgICAgICAgcHJldlkgPSB5O1xuXG4gICAgICAgIHJlc3VsdCArPSBNYXRoLnNxcnQoKGR4ICogZHgpICsgKGR5ICogZHkpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIHBvaW50cyBmb3IgYSBiZXppZXIgY3VydmUgYW5kIHRoZW4gZHJhd3MgaXQuXG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHBhcmFtIHtudW1iZXJ9IGNwWCAtIENvbnRyb2wgcG9pbnQgeFxuICogQHBhcmFtIHtudW1iZXJ9IGNwWSAtIENvbnRyb2wgcG9pbnQgeVxuICogQHBhcmFtIHtudW1iZXJ9IGNwWDIgLSBTZWNvbmQgQ29udHJvbCBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gY3BZMiAtIFNlY29uZCBDb250cm9sIHBvaW50IHlcbiAqIEBwYXJhbSB7bnVtYmVyfSB0b1ggLSBEZXN0aW5hdGlvbiBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gdG9ZIC0gRGVzdGluYXRpb24gcG9pbnQgeVxuICogQHBhcmFtIHtudW1iZXJbXX0gcG9pbnRzIC0gUGF0aCBhcnJheSB0byBwdXNoIHBvaW50cyBpbnRvXG4gKi9cbkJlemllclV0aWxzLmN1cnZlVG8gPSBmdW5jdGlvbiBjdXJ2ZVRvIChjcFgsIGNwWSwgY3BYMiwgY3BZMiwgdG9YLCB0b1ksIHBvaW50cylcbntcbiAgICB2YXIgZnJvbVggPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdO1xuICAgIHZhciBmcm9tWSA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV07XG5cbiAgICBwb2ludHMubGVuZ3RoIC09IDI7XG5cbiAgICB2YXIgbiA9IEdSQVBISUNTX0NVUlZFUy5fc2VnbWVudHNDb3VudChcbiAgICAgICAgQmV6aWVyVXRpbHMuY3VydmVMZW5ndGgoZnJvbVgsIGZyb21ZLCBjcFgsIGNwWSwgY3BYMiwgY3BZMiwgdG9YLCB0b1kpXG4gICAgKTtcblxuICAgIHZhciBkdCA9IDA7XG4gICAgdmFyIGR0MiA9IDA7XG4gICAgdmFyIGR0MyA9IDA7XG4gICAgdmFyIHQyID0gMDtcbiAgICB2YXIgdDMgPSAwO1xuXG4gICAgcG9pbnRzLnB1c2goZnJvbVgsIGZyb21ZKTtcblxuICAgIGZvciAodmFyIGkgPSAxLCBqID0gMDsgaSA8PSBuOyArK2kpXG4gICAge1xuICAgICAgICBqID0gaSAvIG47XG5cbiAgICAgICAgZHQgPSAoMSAtIGopO1xuICAgICAgICBkdDIgPSBkdCAqIGR0O1xuICAgICAgICBkdDMgPSBkdDIgKiBkdDtcblxuICAgICAgICB0MiA9IGogKiBqO1xuICAgICAgICB0MyA9IHQyICogajtcblxuICAgICAgICBwb2ludHMucHVzaChcbiAgICAgICAgICAgIChkdDMgKiBmcm9tWCkgKyAoMyAqIGR0MiAqIGogKiBjcFgpICsgKDMgKiBkdCAqIHQyICogY3BYMikgKyAodDMgKiB0b1gpLFxuICAgICAgICAgICAgKGR0MyAqIGZyb21ZKSArICgzICogZHQyICogaiAqIGNwWSkgKyAoMyAqIGR0ICogdDIgKiBjcFkyKSArICh0MyAqIHRvWSlcbiAgICAgICAgKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFV0aWxpdGllcyBmb3IgcXVhZHJhdGljIGN1cnZlc1xuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgUXVhZHJhdGljVXRpbHMgPSBmdW5jdGlvbiBRdWFkcmF0aWNVdGlscyAoKSB7fTtcblxuUXVhZHJhdGljVXRpbHMuY3VydmVMZW5ndGggPSBmdW5jdGlvbiBjdXJ2ZUxlbmd0aCAoZnJvbVgsIGZyb21ZLCBjcFgsIGNwWSwgdG9YLCB0b1kpXG57XG4gICAgdmFyIGF4ID0gZnJvbVggLSAoMi4wICogY3BYKSArIHRvWDtcbiAgICB2YXIgYXkgPSBmcm9tWSAtICgyLjAgKiBjcFkpICsgdG9ZO1xuICAgIHZhciBieCA9ICgyLjAgKiBjcFgpIC0gKDIuMCAqIGZyb21YKTtcbiAgICB2YXIgYnkgPSAoMi4wICogY3BZKSAtICgyLjAgKiBmcm9tWSk7XG4gICAgdmFyIGEgPSA0LjAgKiAoKGF4ICogYXgpICsgKGF5ICogYXkpKTtcbiAgICB2YXIgYiA9IDQuMCAqICgoYXggKiBieCkgKyAoYXkgKiBieSkpO1xuICAgIHZhciBjID0gKGJ4ICogYngpICsgKGJ5ICogYnkpO1xuXG4gICAgdmFyIHMgPSAyLjAgKiBNYXRoLnNxcnQoYSArIGIgKyBjKTtcbiAgICB2YXIgYTIgPSBNYXRoLnNxcnQoYSk7XG4gICAgdmFyIGEzMiA9IDIuMCAqIGEgKiBhMjtcbiAgICB2YXIgYzIgPSAyLjAgKiBNYXRoLnNxcnQoYyk7XG4gICAgdmFyIGJhID0gYiAvIGEyO1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgKGEzMiAqIHMpXG4gICAgICAgICAgICArIChhMiAqIGIgKiAocyAtIGMyKSlcbiAgICAgICAgICAgICsgKFxuICAgICAgICAgICAgICAgICgoNC4wICogYyAqIGEpIC0gKGIgKiBiKSlcbiAgICAgICAgICAgICAgICogTWF0aC5sb2coKCgyLjAgKiBhMikgKyBiYSArIHMpIC8gKGJhICsgYzIpKVxuICAgICAgICAgICAgKVxuICAgICkgLyAoNC4wICogYTMyKTtcbn07XG5cbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBwb2ludHMgZm9yIGEgcXVhZHJhdGljIGJlemllciBjdXJ2ZSBhbmQgdGhlbiBkcmF3cyBpdC5cbiAqIEJhc2VkIG9uOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83ODUwOTcvaG93LWRvLWktaW1wbGVtZW50LWEtYmV6aWVyLWN1cnZlLWluLWNcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IGNwWCAtIENvbnRyb2wgcG9pbnQgeFxuICogQHBhcmFtIHtudW1iZXJ9IGNwWSAtIENvbnRyb2wgcG9pbnQgeVxuICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIERlc3RpbmF0aW9uIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSB0b1kgLSBEZXN0aW5hdGlvbiBwb2ludCB5XG4gKiBAcGFyYW0ge251bWJlcltdfSBwb2ludHMgLSBQb2ludHMgdG8gYWRkIHNlZ21lbnRzIHRvLlxuICovXG5RdWFkcmF0aWNVdGlscy5jdXJ2ZVRvID0gZnVuY3Rpb24gY3VydmVUbyAoY3BYLCBjcFksIHRvWCwgdG9ZLCBwb2ludHMpXG57XG4gICAgdmFyIGZyb21YID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXTtcbiAgICB2YXIgZnJvbVkgPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdO1xuXG4gICAgdmFyIG4gPSBHUkFQSElDU19DVVJWRVMuX3NlZ21lbnRzQ291bnQoXG4gICAgICAgIFF1YWRyYXRpY1V0aWxzLmN1cnZlTGVuZ3RoKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIHRvWCwgdG9ZKVxuICAgICk7XG5cbiAgICB2YXIgeGEgPSAwO1xuICAgIHZhciB5YSA9IDA7XG5cbiAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBuOyArK2kpXG4gICAge1xuICAgICAgICB2YXIgaiA9IGkgLyBuO1xuXG4gICAgICAgIHhhID0gZnJvbVggKyAoKGNwWCAtIGZyb21YKSAqIGopO1xuICAgICAgICB5YSA9IGZyb21ZICsgKChjcFkgLSBmcm9tWSkgKiBqKTtcblxuICAgICAgICBwb2ludHMucHVzaCh4YSArICgoKGNwWCArICgodG9YIC0gY3BYKSAqIGopKSAtIHhhKSAqIGopLFxuICAgICAgICAgICAgeWEgKyAoKChjcFkgKyAoKHRvWSAtIGNwWSkgKiBqKSkgLSB5YSkgKiBqKSk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBVdGlsaXRpZXMgZm9yIGFyYyBjdXJ2ZXNcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqL1xudmFyIEFyY1V0aWxzID0gZnVuY3Rpb24gQXJjVXRpbHMgKCkge307XG5cbkFyY1V0aWxzLmN1cnZlVG8gPSBmdW5jdGlvbiBjdXJ2ZVRvICh4MSwgeTEsIHgyLCB5MiwgcmFkaXVzLCBwb2ludHMpXG57XG4gICAgdmFyIGZyb21YID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXTtcbiAgICB2YXIgZnJvbVkgPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdO1xuXG4gICAgdmFyIGExID0gZnJvbVkgLSB5MTtcbiAgICB2YXIgYjEgPSBmcm9tWCAtIHgxO1xuICAgIHZhciBhMiA9IHkyIC0geTE7XG4gICAgdmFyIGIyID0geDIgLSB4MTtcbiAgICB2YXIgbW0gPSBNYXRoLmFicygoYTEgKiBiMikgLSAoYjEgKiBhMikpO1xuXG4gICAgaWYgKG1tIDwgMS4wZS04IHx8IHJhZGl1cyA9PT0gMClcbiAgICB7XG4gICAgICAgIGlmIChwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdICE9PSB4MSB8fCBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdICE9PSB5MSlcbiAgICAgICAge1xuICAgICAgICAgICAgcG9pbnRzLnB1c2goeDEsIHkxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciBkZCA9IChhMSAqIGExKSArIChiMSAqIGIxKTtcbiAgICB2YXIgY2MgPSAoYTIgKiBhMikgKyAoYjIgKiBiMik7XG4gICAgdmFyIHR0ID0gKGExICogYTIpICsgKGIxICogYjIpO1xuICAgIHZhciBrMSA9IHJhZGl1cyAqIE1hdGguc3FydChkZCkgLyBtbTtcbiAgICB2YXIgazIgPSByYWRpdXMgKiBNYXRoLnNxcnQoY2MpIC8gbW07XG4gICAgdmFyIGoxID0gazEgKiB0dCAvIGRkO1xuICAgIHZhciBqMiA9IGsyICogdHQgLyBjYztcbiAgICB2YXIgY3ggPSAoazEgKiBiMikgKyAoazIgKiBiMSk7XG4gICAgdmFyIGN5ID0gKGsxICogYTIpICsgKGsyICogYTEpO1xuICAgIHZhciBweCA9IGIxICogKGsyICsgajEpO1xuICAgIHZhciBweSA9IGExICogKGsyICsgajEpO1xuICAgIHZhciBxeCA9IGIyICogKGsxICsgajIpO1xuICAgIHZhciBxeSA9IGEyICogKGsxICsgajIpO1xuICAgIHZhciBzdGFydEFuZ2xlID0gTWF0aC5hdGFuMihweSAtIGN5LCBweCAtIGN4KTtcbiAgICB2YXIgZW5kQW5nbGUgPSBNYXRoLmF0YW4yKHF5IC0gY3ksIHF4IC0gY3gpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgY3g6IChjeCArIHgxKSxcbiAgICAgICAgY3k6IChjeSArIHkxKSxcbiAgICAgICAgcmFkaXVzOiByYWRpdXMsXG4gICAgICAgIHN0YXJ0QW5nbGU6IHN0YXJ0QW5nbGUsXG4gICAgICAgIGVuZEFuZ2xlOiBlbmRBbmdsZSxcbiAgICAgICAgYW50aWNsb2Nrd2lzZTogKGIxICogYTIgPiBiMiAqIGExKSxcbiAgICB9O1xufTtcblxuLyoqXG4gKiBUaGUgYXJjIG1ldGhvZCBjcmVhdGVzIGFuIGFyYy9jdXJ2ZSAodXNlZCB0byBjcmVhdGUgY2lyY2xlcywgb3IgcGFydHMgb2YgY2lyY2xlcykuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydFggLSBTdGFydCB4IGxvY2F0aW9uIG9mIGFyY1xuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0WSAtIFN0YXJ0IHkgbG9jYXRpb24gb2YgYXJjXG4gKiBAcGFyYW0ge251bWJlcn0gY3ggLSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZVxuICogQHBhcmFtIHtudW1iZXJ9IGN5IC0gVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGVcbiAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBUaGUgcmFkaXVzIG9mIHRoZSBjaXJjbGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEFuZ2xlIC0gVGhlIHN0YXJ0aW5nIGFuZ2xlLCBpbiByYWRpYW5zICgwIGlzIGF0IHRoZSAzIG8nY2xvY2sgcG9zaXRpb25cbiAqICBvZiB0aGUgYXJjJ3MgY2lyY2xlKVxuICogQHBhcmFtIHtudW1iZXJ9IGVuZEFuZ2xlIC0gVGhlIGVuZGluZyBhbmdsZSwgaW4gcmFkaWFuc1xuICogQHBhcmFtIHtib29sZWFufSBhbnRpY2xvY2t3aXNlIC0gU3BlY2lmaWVzIHdoZXRoZXIgdGhlIGRyYXdpbmcgc2hvdWxkIGJlXG4gKiAgY291bnRlci1jbG9ja3dpc2Ugb3IgY2xvY2t3aXNlLiBGYWxzZSBpcyBkZWZhdWx0LCBhbmQgaW5kaWNhdGVzIGNsb2Nrd2lzZSwgd2hpbGUgdHJ1ZVxuICogIGluZGljYXRlcyBjb3VudGVyLWNsb2Nrd2lzZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBuIC0gTnVtYmVyIG9mIHNlZ21lbnRzXG4gKiBAcGFyYW0ge251bWJlcltdfSBwb2ludHMgLSBDb2xsZWN0aW9uIG9mIHBvaW50cyB0byBhZGQgdG9cbiAqL1xuQXJjVXRpbHMuYXJjID0gZnVuY3Rpb24gYXJjIChzdGFydFgsIHN0YXJ0WSwgY3gsIGN5LCByYWRpdXMsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCBhbnRpY2xvY2t3aXNlLCBwb2ludHMpXG57XG4gICAgdmFyIHN3ZWVwID0gZW5kQW5nbGUgLSBzdGFydEFuZ2xlO1xuICAgIHZhciBuID0gR1JBUEhJQ1NfQ1VSVkVTLl9zZWdtZW50c0NvdW50KFxuICAgICAgICBNYXRoLmFicyhzd2VlcCkgKiByYWRpdXMsXG4gICAgICAgIE1hdGguY2VpbChNYXRoLmFicyhzd2VlcCkgLyBQSV8yKSAqIDQwXG4gICAgKTtcblxuICAgIHZhciB0aGV0YSA9IChzd2VlcCkgLyAobiAqIDIpO1xuICAgIHZhciB0aGV0YTIgPSB0aGV0YSAqIDI7XG4gICAgdmFyIGNUaGV0YSA9IE1hdGguY29zKHRoZXRhKTtcbiAgICB2YXIgc1RoZXRhID0gTWF0aC5zaW4odGhldGEpO1xuICAgIHZhciBzZWdNaW51cyA9IG4gLSAxO1xuICAgIHZhciByZW1haW5kZXIgPSAoc2VnTWludXMgJSAxKSAvIHNlZ01pbnVzO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gc2VnTWludXM7ICsraSlcbiAgICB7XG4gICAgICAgIHZhciByZWFsID0gaSArIChyZW1haW5kZXIgKiBpKTtcbiAgICAgICAgdmFyIGFuZ2xlID0gKCh0aGV0YSkgKyBzdGFydEFuZ2xlICsgKHRoZXRhMiAqIHJlYWwpKTtcbiAgICAgICAgdmFyIGMgPSBNYXRoLmNvcyhhbmdsZSk7XG4gICAgICAgIHZhciBzID0gLU1hdGguc2luKGFuZ2xlKTtcblxuICAgICAgICBwb2ludHMucHVzaChcbiAgICAgICAgICAgICgoKGNUaGV0YSAqIGMpICsgKHNUaGV0YSAqIHMpKSAqIHJhZGl1cykgKyBjeCxcbiAgICAgICAgICAgICgoKGNUaGV0YSAqIC1zKSArIChzVGhldGEgKiBjKSkgKiByYWRpdXMpICsgY3lcbiAgICAgICAgKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIERyYXcgYSBzdGFyIHNoYXBlIHdpdGggYW4gYXJiaXRyYXJ5IG51bWJlciBvZiBwb2ludHMuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlBvbHlnb25cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAcGFyYW0ge251bWJlcn0geCAtIENlbnRlciBYIHBvc2l0aW9uIG9mIHRoZSBzdGFyXG4gKiBAcGFyYW0ge251bWJlcn0geSAtIENlbnRlciBZIHBvc2l0aW9uIG9mIHRoZSBzdGFyXG4gKiBAcGFyYW0ge251bWJlcn0gcG9pbnRzIC0gVGhlIG51bWJlciBvZiBwb2ludHMgb2YgdGhlIHN0YXIsIG11c3QgYmUgPiAxXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIC0gVGhlIG91dGVyIHJhZGl1cyBvZiB0aGUgc3RhclxuICogQHBhcmFtIHtudW1iZXJ9IFtpbm5lclJhZGl1c10gLSBUaGUgaW5uZXIgcmFkaXVzIGJldHdlZW4gcG9pbnRzLCBkZWZhdWx0IGhhbGYgYHJhZGl1c2BcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcm90YXRpb249MF0gLSBUaGUgcm90YXRpb24gb2YgdGhlIHN0YXIgaW4gcmFkaWFucywgd2hlcmUgMCBpcyB2ZXJ0aWNhbFxuICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICovXG52YXIgU3RhciA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFBvbHlnb24pIHtcbiAgICBmdW5jdGlvbiBTdGFyKHgsIHksIHBvaW50cywgcmFkaXVzLCBpbm5lclJhZGl1cywgcm90YXRpb24pXG4gICAge1xuICAgICAgICBpbm5lclJhZGl1cyA9IGlubmVyUmFkaXVzIHx8IHJhZGl1cyAvIDI7XG5cbiAgICAgICAgdmFyIHN0YXJ0QW5nbGUgPSAoLTEgKiBNYXRoLlBJIC8gMikgKyByb3RhdGlvbjtcbiAgICAgICAgdmFyIGxlbiA9IHBvaW50cyAqIDI7XG4gICAgICAgIHZhciBkZWx0YSA9IFBJXzIgLyBsZW47XG4gICAgICAgIHZhciBwb2x5Z29uID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHIgPSBpICUgMiA/IGlubmVyUmFkaXVzIDogcmFkaXVzO1xuICAgICAgICAgICAgdmFyIGFuZ2xlID0gKGkgKiBkZWx0YSkgKyBzdGFydEFuZ2xlO1xuXG4gICAgICAgICAgICBwb2x5Z29uLnB1c2goXG4gICAgICAgICAgICAgICAgeCArIChyICogTWF0aC5jb3MoYW5nbGUpKSxcbiAgICAgICAgICAgICAgICB5ICsgKHIgKiBNYXRoLnNpbihhbmdsZSkpXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgUG9seWdvbi5jYWxsKHRoaXMsIHBvbHlnb24pO1xuICAgIH1cblxuICAgIGlmICggUG9seWdvbiApIFN0YXIuX19wcm90b19fID0gUG9seWdvbjtcbiAgICBTdGFyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFBvbHlnb24gJiYgUG9seWdvbi5wcm90b3R5cGUgKTtcbiAgICBTdGFyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFN0YXI7XG5cbiAgICByZXR1cm4gU3Rhcjtcbn0oUG9seWdvbikpO1xuXG52YXIgdGVtcCA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG5cbi8vIGEgZGVmYXVsdCBzaGFkZXJzIG1hcCB1c2VkIGJ5IGdyYXBoaWNzLi5cbnZhciBERUZBVUxUX1NIQURFUlMgPSB7fTtcblxuLyoqXG4gKiBUaGUgR3JhcGhpY3MgY2xhc3MgY29udGFpbnMgbWV0aG9kcyB1c2VkIHRvIGRyYXcgcHJpbWl0aXZlIHNoYXBlcyBzdWNoIGFzIGxpbmVzLCBjaXJjbGVzIGFuZFxuICogcmVjdGFuZ2xlcyB0byB0aGUgZGlzcGxheSwgYW5kIHRvIGNvbG9yIGFuZCBmaWxsIHRoZW0uXG4gKlxuICogTm90ZSB0aGF0IGJlY2F1c2UgR3JhcGhpY3MgY2FuIHNoYXJlIGEgR3JhcGhpY3NHZW9tZXRyeSB3aXRoIG90aGVyIGluc3RhbmNlcyxcbiAqIGl0IGlzIG5lY2Vzc2FyeSB0byBjYWxsIGBkZXN0cm95KClgIHRvIHByb3Blcmx5IGRlcmVmZXJlbmNlIHRoZSB1bmRlcmx5aW5nXG4gKiBHcmFwaGljc0dlb21ldHJ5IGFuZCBhdm9pZCBhIG1lbW9yeSBsZWFrLiBBbHRlcm5hdGl2ZWx5LCBrZWVwIHVzaW5nIHRoZSBzYW1lXG4gKiBHcmFwaGljcyBpbnN0YW5jZSBhbmQgY2FsbCBgY2xlYXIoKWAgYmV0d2VlbiByZWRyYXdzLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5Db250YWluZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBHcmFwaGljcyA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKENvbnRhaW5lcikge1xuICAgIGZ1bmN0aW9uIEdyYXBoaWNzKGdlb21ldHJ5KVxuICAgIHtcbiAgICAgICAgaWYgKCBnZW9tZXRyeSA9PT0gdm9pZCAwICkgZ2VvbWV0cnkgPSBudWxsO1xuXG4gICAgICAgIENvbnRhaW5lci5jYWxsKHRoaXMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5jbHVkZXMgdmVydGV4IHBvc2l0aW9ucywgZmFjZSBpbmRpY2VzLCBub3JtYWxzLCBjb2xvcnMsIFVWcywgYW5kXG4gICAgICAgICAqIGN1c3RvbSBhdHRyaWJ1dGVzIHdpdGhpbiBidWZmZXJzLCByZWR1Y2luZyB0aGUgY29zdCBvZiBwYXNzaW5nIGFsbFxuICAgICAgICAgKiB0aGlzIGRhdGEgdG8gdGhlIEdQVS4gQ2FuIGJlIHNoYXJlZCBiZXR3ZWVuIG11bHRpcGxlIE1lc2ggb3IgR3JhcGhpY3Mgb2JqZWN0cy5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc0dlb21ldHJ5fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2VvbWV0cnkgPSBnZW9tZXRyeSB8fCBuZXcgR3JhcGhpY3NHZW9tZXRyeSgpO1xuXG4gICAgICAgIHRoaXMuZ2VvbWV0cnkucmVmQ291bnQrKztcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVwcmVzZW50cyB0aGUgdmVydGV4IGFuZCBmcmFnbWVudCBzaGFkZXJzIHRoYXQgcHJvY2Vzc2VzIHRoZSBnZW9tZXRyeSBhbmQgcnVucyBvbiB0aGUgR1BVLlxuICAgICAgICAgKiBDYW4gYmUgc2hhcmVkIGJldHdlZW4gbXVsdGlwbGUgR3JhcGhpY3Mgb2JqZWN0cy5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TaGFkZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNoYWRlciA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlcHJlc2VudHMgdGhlIFdlYkdMIHN0YXRlIHRoZSBHcmFwaGljcyByZXF1aXJlZCB0byByZW5kZXIsIGV4Y2x1ZGVzIHNoYWRlciBhbmQgZ2VvbWV0cnkuIEUuZy4sXG4gICAgICAgICAqIGJsZW5kIG1vZGUsIGN1bGxpbmcsIGRlcHRoIHRlc3RpbmcsIGRpcmVjdGlvbiBvZiByZW5kZXJpbmcgdHJpYW5nbGVzLCBiYWNrZmFjZSwgZXRjLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlN0YXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLmZvcjJkKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgZmlsbCBzdHlsZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkZpbGxTdHlsZX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZmlsbFN0eWxlID0gbmV3IEZpbGxTdHlsZSgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IGxpbmUgc3R5bGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5MaW5lU3R5bGV9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2xpbmVTdHlsZSA9IG5ldyBMaW5lU3R5bGUoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBzaGFwZSB0cmFuc2Zvcm0gbWF0cml4LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbWF0cml4ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBob2xlIG1vZGUgaXMgZW5hYmxlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5faG9sZU1vZGUgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBwYXRoXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUG9seWdvbn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gY2FjaGVBc0JpdG1hcCBpcyBzZXQgdG8gdHJ1ZSB0aGUgZ3JhcGhpY3Mgb2JqZWN0IHdpbGwgYmUgcmVuZGVyZWQgYXMgaWYgaXQgd2FzIGEgc3ByaXRlLlxuICAgICAgICAgKiBUaGlzIGlzIHVzZWZ1bCBpZiB5b3VyIGdyYXBoaWNzIGVsZW1lbnQgZG9lcyBub3QgY2hhbmdlIG9mdGVuLCBhcyBpdCB3aWxsIHNwZWVkIHVwIHRoZSByZW5kZXJpbmdcbiAgICAgICAgICogb2YgdGhlIG9iamVjdCBpbiBleGNoYW5nZSBmb3IgdGFraW5nIHVwIHRleHR1cmUgbWVtb3J5LiBJdCBpcyBhbHNvIHVzZWZ1bCBpZiB5b3UgbmVlZCB0aGUgZ3JhcGhpY3NcbiAgICAgICAgICogb2JqZWN0IHRvIGJlIGFudGktYWxpYXNlZCwgYmVjYXVzZSBpdCB3aWxsIGJlIHJlbmRlcmVkIHVzaW5nIGNhbnZhcy4gVGhpcyBpcyBub3QgcmVjb21tZW5kZWQgaWZcbiAgICAgICAgICogeW91IGFyZSBjb25zdGFudGx5IHJlZHJhd2luZyB0aGUgZ3JhcGhpY3MgZWxlbWVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG5hbWUgY2FjaGVBc0JpdG1hcFxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5HcmFwaGljcyNcbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgY29sbGVjdGlvbnMgb2YgYmF0Y2hlcyEgVGhlc2UgY2FuIGJlIGRyYXduIGJ5IHRoZSByZW5kZXJlciBiYXRjaCBzeXN0ZW0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0W119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJhdGNoZXMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXBkYXRlIGRpcnR5IGZvciBsaW1pdGluZyBjYWxjdWxhdGluZyB0aW50cyBmb3IgYmF0Y2hlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IC0xXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJhdGNoVGludCA9IC0xO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb3B5IG9mIHRoZSBvYmplY3QgdmVydGV4IGRhdGEuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52ZXJ0ZXhEYXRhID0gbnVsbDtcblxuICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgICAgICB0aGlzLmJhdGNoRGlydHkgPSAtMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVuZGVyZXIgcGx1Z2luIGZvciBiYXRjaGluZ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdiYXRjaCdcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGx1Z2luTmFtZSA9ICdiYXRjaCc7XG5cbiAgICAgICAgLy8gU2V0IGRlZmF1bHRcbiAgICAgICAgdGhpcy50aW50ID0gMHhGRkZGRkY7XG4gICAgICAgIHRoaXMuYmxlbmRNb2RlID0gQkxFTkRfTU9ERVMuTk9STUFMO1xuICAgIH1cblxuICAgIGlmICggQ29udGFpbmVyICkgR3JhcGhpY3MuX19wcm90b19fID0gQ29udGFpbmVyO1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIENvbnRhaW5lciAmJiBDb250YWluZXIucHJvdG90eXBlICk7XG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gR3JhcGhpY3M7XG5cbiAgICB2YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyBibGVuZE1vZGU6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sdGludDogeyBjb25maWd1cmFibGU6IHRydWUgfSxmaWxsOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGxpbmU6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgR3JhcGhpY3Mgb2JqZWN0IHdpdGggdGhlIHNhbWUgdmFsdWVzIGFzIHRoaXMgb25lLlxuICAgICAqIE5vdGUgdGhhdCB0aGUgb25seSB0aGUgcHJvcGVydGllcyBvZiB0aGUgb2JqZWN0IGFyZSBjbG9uZWQsIG5vdCBpdHMgdHJhbnNmb3JtIChwb3NpdGlvbixzY2FsZSxldGMpXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBBIGNsb25lIG9mIHRoZSBncmFwaGljcyBvYmplY3RcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5maW5pc2hQb2x5KCk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBHcmFwaGljcyh0aGlzLmdlb21ldHJ5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJsZW5kIG1vZGUgdG8gYmUgYXBwbGllZCB0byB0aGUgZ3JhcGhpYyBzaGFwZS4gQXBwbHkgYSB2YWx1ZSBvZlxuICAgICAqIGBQSVhJLkJMRU5EX01PREVTLk5PUk1BTGAgdG8gcmVzZXQgdGhlIGJsZW5kIG1vZGUuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT1JNQUw7XG4gICAgICogQHNlZSBQSVhJLkJMRU5EX01PREVTXG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmJsZW5kTW9kZS5zZXQgPSBmdW5jdGlvbiAodmFsdWUpXG4gICAge1xuICAgICAgICB0aGlzLnN0YXRlLmJsZW5kTW9kZSA9IHZhbHVlO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYmxlbmRNb2RlLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS5ibGVuZE1vZGU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIGdyYXBoaWMgc2hhcGUuIFRoaXMgaXMgYSBoZXggdmFsdWUuIEEgdmFsdWUgb2ZcbiAgICAgKiAweEZGRkZGRiB3aWxsIHJlbW92ZSBhbnkgdGludCBlZmZlY3QuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudGludC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RpbnQ7XG4gICAgfTtcbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudGludC5zZXQgPSBmdW5jdGlvbiAodmFsdWUpXG4gICAge1xuICAgICAgICB0aGlzLl90aW50ID0gdmFsdWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IGZpbGwgc3R5bGUuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkZpbGxTdHlsZX1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuZmlsbC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbGxTdHlsZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgbGluZSBzdHlsZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuTGluZVN0eWxlfVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5saW5lLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGluZVN0eWxlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTcGVjaWZpZXMgdGhlIGxpbmUgc3R5bGUgdXNlZCBmb3Igc3Vic2VxdWVudCBjYWxscyB0byBHcmFwaGljcyBtZXRob2RzIHN1Y2ggYXMgdGhlIGxpbmVUbygpXG4gICAgICogbWV0aG9kIG9yIHRoZSBkcmF3Q2lyY2xlKCkgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aD0wXSAtIHdpZHRoIG9mIHRoZSBsaW5lIHRvIGRyYXcsIHdpbGwgdXBkYXRlIHRoZSBvYmplY3RzIHN0b3JlZCBzdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbY29sb3I9MF0gLSBjb2xvciBvZiB0aGUgbGluZSB0byBkcmF3LCB3aWxsIHVwZGF0ZSB0aGUgb2JqZWN0cyBzdG9yZWQgc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FscGhhPTFdIC0gYWxwaGEgb2YgdGhlIGxpbmUgdG8gZHJhdywgd2lsbCB1cGRhdGUgdGhlIG9iamVjdHMgc3RvcmVkIHN0eWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthbGlnbm1lbnQ9MC41XSAtIGFsaWdubWVudCBvZiB0aGUgbGluZSB0byBkcmF3LCAoMCA9IGlubmVyLCAwLjUgPSBtaWRkbGUsIDEgPSBvdXR0ZXIpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbbmF0aXZlPWZhbHNlXSAtIElmIHRydWUgdGhlIGxpbmVzIHdpbGwgYmUgZHJhdyB1c2luZyBMSU5FUyBpbnN0ZWFkIG9mIFRSSUFOR0xFX1NUUklQXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5saW5lU3R5bGUgPSBmdW5jdGlvbiBsaW5lU3R5bGUgKHdpZHRoLCBjb2xvciwgYWxwaGEsIGFsaWdubWVudCwgbmF0aXZlKVxuICAgIHtcbiAgICAgICAgaWYgKCB3aWR0aCA9PT0gdm9pZCAwICkgd2lkdGggPSAwO1xuICAgICAgICBpZiAoIGNvbG9yID09PSB2b2lkIDAgKSBjb2xvciA9IDA7XG4gICAgICAgIGlmICggYWxwaGEgPT09IHZvaWQgMCApIGFscGhhID0gMTtcbiAgICAgICAgaWYgKCBhbGlnbm1lbnQgPT09IHZvaWQgMCApIGFsaWdubWVudCA9IDAuNTtcbiAgICAgICAgaWYgKCBuYXRpdmUgPT09IHZvaWQgMCApIG5hdGl2ZSA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMubGluZVRleHR1cmVTdHlsZSh3aWR0aCwgVGV4dHVyZS5XSElURSwgY29sb3IsIGFscGhhLCBudWxsLCBhbGlnbm1lbnQsIG5hdGl2ZSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIExpa2UgbGluZSBzdHlsZSBidXQgc3VwcG9ydCB0ZXh0dXJlIGZvciBsaW5lIGZpbGwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoPTBdIC0gd2lkdGggb2YgdGhlIGxpbmUgdG8gZHJhdywgd2lsbCB1cGRhdGUgdGhlIG9iamVjdHMgc3RvcmVkIHN0eWxlXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IFt0ZXh0dXJlPVBJWEkuVGV4dHVyZS5XSElURV0gLSBUZXh0dXJlIHRvIHVzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbY29sb3I9MF0gLSBjb2xvciBvZiB0aGUgbGluZSB0byBkcmF3LCB3aWxsIHVwZGF0ZSB0aGUgb2JqZWN0cyBzdG9yZWQgc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FscGhhPTFdIC0gYWxwaGEgb2YgdGhlIGxpbmUgdG8gZHJhdywgd2lsbCB1cGRhdGUgdGhlIG9iamVjdHMgc3RvcmVkIHN0eWxlXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gW21hdHJpeD1udWxsXSBUZXh0dXJlIG1hdHJpeCB0byB0cmFuc2Zvcm0gdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYWxpZ25tZW50PTAuNV0gLSBhbGlnbm1lbnQgb2YgdGhlIGxpbmUgdG8gZHJhdywgKDAgPSBpbm5lciwgMC41ID0gbWlkZGxlLCAxID0gb3V0dGVyKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW25hdGl2ZT1mYWxzZV0gLSBJZiB0cnVlIHRoZSBsaW5lcyB3aWxsIGJlIGRyYXcgdXNpbmcgTElORVMgaW5zdGVhZCBvZiBUUklBTkdMRV9TVFJJUFxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUubGluZVRleHR1cmVTdHlsZSA9IGZ1bmN0aW9uIGxpbmVUZXh0dXJlU3R5bGUgKHdpZHRoLCB0ZXh0dXJlLCBjb2xvciwgYWxwaGEsXG4gICAgICAgIG1hdHJpeCwgYWxpZ25tZW50LCBuYXRpdmUpXG4gICAge1xuICAgICAgICBpZiAoIHdpZHRoID09PSB2b2lkIDAgKSB3aWR0aCA9IDA7XG4gICAgICAgIGlmICggdGV4dHVyZSA9PT0gdm9pZCAwICkgdGV4dHVyZSA9IFRleHR1cmUuV0hJVEU7XG4gICAgICAgIGlmICggY29sb3IgPT09IHZvaWQgMCApIGNvbG9yID0gMHhGRkZGRkY7XG4gICAgICAgIGlmICggYWxwaGEgPT09IHZvaWQgMCApIGFscGhhID0gMTtcbiAgICAgICAgaWYgKCBtYXRyaXggPT09IHZvaWQgMCApIG1hdHJpeCA9IG51bGw7XG4gICAgICAgIGlmICggYWxpZ25tZW50ID09PSB2b2lkIDAgKSBhbGlnbm1lbnQgPSAwLjU7XG4gICAgICAgIGlmICggbmF0aXZlID09PSB2b2lkIDAgKSBuYXRpdmUgPSBmYWxzZTtcblxuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zdGFydFBvbHkoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB2aXNpYmxlID0gd2lkdGggPiAwICYmIGFscGhhID4gMDtcblxuICAgICAgICBpZiAoIXZpc2libGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2xpbmVTdHlsZS5yZXNldCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKG1hdHJpeClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBtYXRyaXggPSBtYXRyaXguY2xvbmUoKTtcbiAgICAgICAgICAgICAgICBtYXRyaXguaW52ZXJ0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5fbGluZVN0eWxlLCB7XG4gICAgICAgICAgICAgICAgY29sb3I6IGNvbG9yLFxuICAgICAgICAgICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgICAgICAgICBhbHBoYTogYWxwaGEsXG4gICAgICAgICAgICAgICAgbWF0cml4OiBtYXRyaXgsXG4gICAgICAgICAgICAgICAgdGV4dHVyZTogdGV4dHVyZSxcbiAgICAgICAgICAgICAgICBhbGlnbm1lbnQ6IGFsaWdubWVudCxcbiAgICAgICAgICAgICAgICBuYXRpdmU6IG5hdGl2ZSxcbiAgICAgICAgICAgICAgICB2aXNpYmxlOiB2aXNpYmxlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3RhcnQgYSBwb2x5Z29uIG9iamVjdCBpbnRlcm5hbGx5XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5zdGFydFBvbHkgPSBmdW5jdGlvbiBzdGFydFBvbHkgKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5wb2ludHM7XG4gICAgICAgICAgICB2YXIgbGVuID0gdGhpcy5jdXJyZW50UGF0aC5wb2ludHMubGVuZ3RoO1xuXG4gICAgICAgICAgICBpZiAobGVuID4gMilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdTaGFwZSh0aGlzLmN1cnJlbnRQYXRoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoID0gbmV3IFBvbHlnb24oKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLmNsb3NlU3Ryb2tlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5wb2ludHMucHVzaChwb2ludHNbbGVuIC0gMl0sIHBvaW50c1tsZW4gLSAxXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoID0gbmV3IFBvbHlnb24oKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGguY2xvc2VTdHJva2UgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaW5pc2ggdGhlIHBvbHlnb24gb2JqZWN0LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZmluaXNoUG9seSA9IGZ1bmN0aW9uIGZpbmlzaFBvbHkgKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aC5wb2ludHMubGVuZ3RoID4gMilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdTaGFwZSh0aGlzLmN1cnJlbnRQYXRoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE1vdmVzIHRoZSBjdXJyZW50IGRyYXdpbmcgcG9zaXRpb24gdG8geCwgeS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gdGhlIFggY29vcmRpbmF0ZSB0byBtb3ZlIHRvXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSB0aGUgWSBjb29yZGluYXRlIHRvIG1vdmUgdG9cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLm1vdmVUbyA9IGZ1bmN0aW9uIG1vdmVUbyAoeCwgeSlcbiAgICB7XG4gICAgICAgIHRoaXMuc3RhcnRQb2x5KCk7XG4gICAgICAgIHRoaXMuY3VycmVudFBhdGgucG9pbnRzWzBdID0geDtcbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5wb2ludHNbMV0gPSB5O1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyBhIGxpbmUgdXNpbmcgdGhlIGN1cnJlbnQgbGluZSBzdHlsZSBmcm9tIHRoZSBjdXJyZW50IGRyYXdpbmcgcG9zaXRpb24gdG8gKHgsIHkpO1xuICAgICAqIFRoZSBjdXJyZW50IGRyYXdpbmcgcG9zaXRpb24gaXMgdGhlbiBzZXQgdG8gKHgsIHkpLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSB0aGUgWCBjb29yZGluYXRlIHRvIGRyYXcgdG9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIHRoZSBZIGNvb3JkaW5hdGUgdG8gZHJhdyB0b1xuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUubGluZVRvID0gZnVuY3Rpb24gbGluZVRvICh4LCB5KVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLmN1cnJlbnRQYXRoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm1vdmVUbygwLCAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlbW92ZSBkdXBsaWNhdGVzLi5cbiAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMuY3VycmVudFBhdGgucG9pbnRzO1xuICAgICAgICB2YXIgZnJvbVggPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdO1xuICAgICAgICB2YXIgZnJvbVkgPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgIGlmIChmcm9tWCAhPT0geCB8fCBmcm9tWSAhPT0geSlcbiAgICAgICAge1xuICAgICAgICAgICAgcG9pbnRzLnB1c2goeCwgeSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSB0aGUgY3VydmVcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF1cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF1cbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuX2luaXRDdXJ2ZSA9IGZ1bmN0aW9uIF9pbml0Q3VydmUgKHgsIHkpXG4gICAge1xuICAgICAgICBpZiAoIHggPT09IHZvaWQgMCApIHggPSAwO1xuICAgICAgICBpZiAoIHkgPT09IHZvaWQgMCApIHkgPSAwO1xuXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aC5wb2ludHMubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGgucG9pbnRzID0gW3gsIHldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5tb3ZlVG8oeCwgeSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBwb2ludHMgZm9yIGEgcXVhZHJhdGljIGJlemllciBjdXJ2ZSBhbmQgdGhlbiBkcmF3cyBpdC5cbiAgICAgKiBCYXNlZCBvbjogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNzg1MDk3L2hvdy1kby1pLWltcGxlbWVudC1hLWJlemllci1jdXJ2ZS1pbi1jXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWSAtIENvbnRyb2wgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1ggLSBEZXN0aW5hdGlvbiBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIERlc3RpbmF0aW9uIHBvaW50IHlcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLnF1YWRyYXRpY0N1cnZlVG8gPSBmdW5jdGlvbiBxdWFkcmF0aWNDdXJ2ZVRvIChjcFgsIGNwWSwgdG9YLCB0b1kpXG4gICAge1xuICAgICAgICB0aGlzLl9pbml0Q3VydmUoKTtcblxuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5wb2ludHM7XG5cbiAgICAgICAgaWYgKHBvaW50cy5sZW5ndGggPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubW92ZVRvKDAsIDApO1xuICAgICAgICB9XG5cbiAgICAgICAgUXVhZHJhdGljVXRpbHMuY3VydmVUbyhjcFgsIGNwWSwgdG9YLCB0b1ksIHBvaW50cyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgcG9pbnRzIGZvciBhIGJlemllciBjdXJ2ZSBhbmQgdGhlbiBkcmF3cyBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFggLSBDb250cm9sIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWDIgLSBTZWNvbmQgQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWTIgLSBTZWNvbmQgQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIERlc3RpbmF0aW9uIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9ZIC0gRGVzdGluYXRpb24gcG9pbnQgeVxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuYmV6aWVyQ3VydmVUbyA9IGZ1bmN0aW9uIGJlemllckN1cnZlVG8gKGNwWCwgY3BZLCBjcFgyLCBjcFkyLCB0b1gsIHRvWSlcbiAgICB7XG4gICAgICAgIHRoaXMuX2luaXRDdXJ2ZSgpO1xuXG4gICAgICAgIEJlemllclV0aWxzLmN1cnZlVG8oY3BYLCBjcFksIGNwWDIsIGNwWTIsIHRvWCwgdG9ZLCB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhcmNUbygpIG1ldGhvZCBjcmVhdGVzIGFuIGFyYy9jdXJ2ZSBiZXR3ZWVuIHR3byB0YW5nZW50cyBvbiB0aGUgY2FudmFzLlxuICAgICAqXG4gICAgICogXCJib3Jyb3dlZFwiIGZyb20gaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9meGNhbnZhcy8gLSB0aGFua3MgZ29vZ2xlIVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgxIC0gVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgZmlyc3QgdGFuZ2VudCBwb2ludCBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkxIC0gVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgZmlyc3QgdGFuZ2VudCBwb2ludCBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgyIC0gVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgZW5kIG9mIHRoZSBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTIgLSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBlbmQgb2YgdGhlIGFyY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBUaGUgcmFkaXVzIG9mIHRoZSBhcmNcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmFyY1RvID0gZnVuY3Rpb24gYXJjVG8gKHgxLCB5MSwgeDIsIHkyLCByYWRpdXMpXG4gICAge1xuICAgICAgICB0aGlzLl9pbml0Q3VydmUoeDEsIHkxKTtcblxuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5wb2ludHM7XG5cbiAgICAgICAgdmFyIHJlc3VsdCA9IEFyY1V0aWxzLmN1cnZlVG8oeDEsIHkxLCB4MiwgeTIsIHJhZGl1cywgcG9pbnRzKTtcblxuICAgICAgICBpZiAocmVzdWx0KVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgY3ggPSByZXN1bHQuY3g7XG4gICAgICAgICAgICB2YXIgY3kgPSByZXN1bHQuY3k7XG4gICAgICAgICAgICB2YXIgcmFkaXVzJDEgPSByZXN1bHQucmFkaXVzO1xuICAgICAgICAgICAgdmFyIHN0YXJ0QW5nbGUgPSByZXN1bHQuc3RhcnRBbmdsZTtcbiAgICAgICAgICAgIHZhciBlbmRBbmdsZSA9IHJlc3VsdC5lbmRBbmdsZTtcbiAgICAgICAgICAgIHZhciBhbnRpY2xvY2t3aXNlID0gcmVzdWx0LmFudGljbG9ja3dpc2U7XG5cbiAgICAgICAgICAgIHRoaXMuYXJjKGN4LCBjeSwgcmFkaXVzJDEsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCBhbnRpY2xvY2t3aXNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYXJjIG1ldGhvZCBjcmVhdGVzIGFuIGFyYy9jdXJ2ZSAodXNlZCB0byBjcmVhdGUgY2lyY2xlcywgb3IgcGFydHMgb2YgY2lyY2xlcykuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3ggLSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjeSAtIFRoZSB5LWNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFRoZSByYWRpdXMgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEFuZ2xlIC0gVGhlIHN0YXJ0aW5nIGFuZ2xlLCBpbiByYWRpYW5zICgwIGlzIGF0IHRoZSAzIG8nY2xvY2sgcG9zaXRpb25cbiAgICAgKiAgb2YgdGhlIGFyYydzIGNpcmNsZSlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kQW5nbGUgLSBUaGUgZW5kaW5nIGFuZ2xlLCBpbiByYWRpYW5zXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbYW50aWNsb2Nrd2lzZT1mYWxzZV0gLSBTcGVjaWZpZXMgd2hldGhlciB0aGUgZHJhd2luZyBzaG91bGQgYmVcbiAgICAgKiAgY291bnRlci1jbG9ja3dpc2Ugb3IgY2xvY2t3aXNlLiBGYWxzZSBpcyBkZWZhdWx0LCBhbmQgaW5kaWNhdGVzIGNsb2Nrd2lzZSwgd2hpbGUgdHJ1ZVxuICAgICAqICBpbmRpY2F0ZXMgY291bnRlci1jbG9ja3dpc2UuXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5hcmMgPSBmdW5jdGlvbiBhcmMgKGN4LCBjeSwgcmFkaXVzLCBzdGFydEFuZ2xlLCBlbmRBbmdsZSwgYW50aWNsb2Nrd2lzZSlcbiAgICB7XG4gICAgICAgIGlmICggYW50aWNsb2Nrd2lzZSA9PT0gdm9pZCAwICkgYW50aWNsb2Nrd2lzZSA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChzdGFydEFuZ2xlID09PSBlbmRBbmdsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWFudGljbG9ja3dpc2UgJiYgZW5kQW5nbGUgPD0gc3RhcnRBbmdsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgZW5kQW5nbGUgKz0gUElfMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhbnRpY2xvY2t3aXNlICYmIHN0YXJ0QW5nbGUgPD0gZW5kQW5nbGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHN0YXJ0QW5nbGUgKz0gUElfMjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzd2VlcCA9IGVuZEFuZ2xlIC0gc3RhcnRBbmdsZTtcblxuICAgICAgICBpZiAoc3dlZXAgPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN0YXJ0WCA9IGN4ICsgKE1hdGguY29zKHN0YXJ0QW5nbGUpICogcmFkaXVzKTtcbiAgICAgICAgdmFyIHN0YXJ0WSA9IGN5ICsgKE1hdGguc2luKHN0YXJ0QW5nbGUpICogcmFkaXVzKTtcbiAgICAgICAgdmFyIGVwcyA9IHRoaXMuZ2VvbWV0cnkuY2xvc2VQb2ludEVwcztcblxuICAgICAgICAvLyBJZiB0aGUgY3VycmVudFBhdGggZXhpc3RzLCB0YWtlIGl0cyBwb2ludHMuIE90aGVyd2lzZSBjYWxsIGBtb3ZlVG9gIHRvIHN0YXJ0IGEgcGF0aC5cbiAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMuY3VycmVudFBhdGggPyB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cyA6IG51bGw7XG5cbiAgICAgICAgaWYgKHBvaW50cylcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gVE9ETzogbWFrZSBhIGJldHRlciBmaXguXG5cbiAgICAgICAgICAgIC8vIFdlIGNoZWNrIGhvdyBmYXIgb3VyIHN0YXJ0IGlzIGZyb20gdGhlIGxhc3QgZXhpc3RpbmcgcG9pbnRcbiAgICAgICAgICAgIHZhciB4RGlmZiA9IE1hdGguYWJzKHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl0gLSBzdGFydFgpO1xuICAgICAgICAgICAgdmFyIHlEaWZmID0gTWF0aC5hYnMocG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXSAtIHN0YXJ0WSk7XG5cbiAgICAgICAgICAgIGlmICh4RGlmZiA8IGVwcyAmJiB5RGlmZiA8IGVwcylcbiAgICAgICAgICAgIDtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwb2ludHMucHVzaChzdGFydFgsIHN0YXJ0WSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm1vdmVUbyhzdGFydFgsIHN0YXJ0WSk7XG4gICAgICAgICAgICBwb2ludHMgPSB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cztcbiAgICAgICAgfVxuXG4gICAgICAgIEFyY1V0aWxzLmFyYyhzdGFydFgsIHN0YXJ0WSwgY3gsIGN5LCByYWRpdXMsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCBhbnRpY2xvY2t3aXNlLCBwb2ludHMpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTcGVjaWZpZXMgYSBzaW1wbGUgb25lLWNvbG9yIGZpbGwgdGhhdCBzdWJzZXF1ZW50IGNhbGxzIHRvIG90aGVyIEdyYXBoaWNzIG1ldGhvZHNcbiAgICAgKiAoc3VjaCBhcyBsaW5lVG8oKSBvciBkcmF3Q2lyY2xlKCkpIHVzZSB3aGVuIGRyYXdpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2NvbG9yPTBdIC0gdGhlIGNvbG9yIG9mIHRoZSBmaWxsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthbHBoYT0xXSAtIHRoZSBhbHBoYSBvZiB0aGUgZmlsbFxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuYmVnaW5GaWxsID0gZnVuY3Rpb24gYmVnaW5GaWxsIChjb2xvciwgYWxwaGEpXG4gICAge1xuICAgICAgICBpZiAoIGNvbG9yID09PSB2b2lkIDAgKSBjb2xvciA9IDA7XG4gICAgICAgIGlmICggYWxwaGEgPT09IHZvaWQgMCApIGFscGhhID0gMTtcblxuICAgICAgICByZXR1cm4gdGhpcy5iZWdpblRleHR1cmVGaWxsKFRleHR1cmUuV0hJVEUsIGNvbG9yLCBhbHBoYSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEJlZ2luIHRoZSB0ZXh0dXJlIGZpbGxcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSBbdGV4dHVyZT1QSVhJLlRleHR1cmUuV0hJVEVdIC0gVGV4dHVyZSB0byBmaWxsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjb2xvcj0weGZmZmZmZl0gLSBCYWNrZ3JvdW5kIHRvIGZpbGwgYmVoaW5kIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FscGhhPTFdIC0gQWxwaGEgb2YgZmlsbFxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IFttYXRyaXg9bnVsbF0gLSBUcmFuc2Zvcm0gbWF0cml4XG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5iZWdpblRleHR1cmVGaWxsID0gZnVuY3Rpb24gYmVnaW5UZXh0dXJlRmlsbCAodGV4dHVyZSwgY29sb3IsIGFscGhhLCBtYXRyaXgpXG4gICAge1xuICAgICAgICBpZiAoIHRleHR1cmUgPT09IHZvaWQgMCApIHRleHR1cmUgPSBUZXh0dXJlLldISVRFO1xuICAgICAgICBpZiAoIGNvbG9yID09PSB2b2lkIDAgKSBjb2xvciA9IDB4RkZGRkZGO1xuICAgICAgICBpZiAoIGFscGhhID09PSB2b2lkIDAgKSBhbHBoYSA9IDE7XG4gICAgICAgIGlmICggbWF0cml4ID09PSB2b2lkIDAgKSBtYXRyaXggPSBudWxsO1xuXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0UG9seSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHZpc2libGUgPSBhbHBoYSA+IDA7XG5cbiAgICAgICAgaWYgKCF2aXNpYmxlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9maWxsU3R5bGUucmVzZXQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChtYXRyaXgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbWF0cml4ID0gbWF0cml4LmNsb25lKCk7XG4gICAgICAgICAgICAgICAgbWF0cml4LmludmVydCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuX2ZpbGxTdHlsZSwge1xuICAgICAgICAgICAgICAgIGNvbG9yOiBjb2xvcixcbiAgICAgICAgICAgICAgICBhbHBoYTogYWxwaGEsXG4gICAgICAgICAgICAgICAgdGV4dHVyZTogdGV4dHVyZSxcbiAgICAgICAgICAgICAgICBtYXRyaXg6IG1hdHJpeCxcbiAgICAgICAgICAgICAgICB2aXNpYmxlOiB2aXNpYmxlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyBhIGZpbGwgdG8gdGhlIGxpbmVzIGFuZCBzaGFwZXMgdGhhdCB3ZXJlIGFkZGVkIHNpbmNlIHRoZSBsYXN0IGNhbGwgdG8gdGhlIGJlZ2luRmlsbCgpIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZW5kRmlsbCA9IGZ1bmN0aW9uIGVuZEZpbGwgKClcbiAgICB7XG4gICAgICAgIHRoaXMuZmluaXNoUG9seSgpO1xuXG4gICAgICAgIHRoaXMuX2ZpbGxTdHlsZS5yZXNldCgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyBhIHJlY3RhbmdsZSBzaGFwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmQgb2YgdGhlIHRvcC1sZWZ0IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkIG9mIHRoZSB0b3AtbGVmdCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIHdpZHRoIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVGhlIGhlaWdodCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kcmF3UmVjdCA9IGZ1bmN0aW9uIGRyYXdSZWN0ICh4LCB5LCB3aWR0aCwgaGVpZ2h0KVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZHJhd1NoYXBlKG5ldyBSZWN0YW5nbGUoeCwgeSwgd2lkdGgsIGhlaWdodCkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEcmF3IGEgcmVjdGFuZ2xlIHNoYXBlIHdpdGggcm91bmRlZC9iZXZlbGVkIGNvcm5lcnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkIG9mIHRoZSB0b3AtbGVmdCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZCBvZiB0aGUgdG9wLWxlZnQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFRoZSB3aWR0aCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIFRoZSBoZWlnaHQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBSYWRpdXMgb2YgdGhlIHJlY3RhbmdsZSBjb3JuZXJzXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kcmF3Um91bmRlZFJlY3QgPSBmdW5jdGlvbiBkcmF3Um91bmRlZFJlY3QgKHgsIHksIHdpZHRoLCBoZWlnaHQsIHJhZGl1cylcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmRyYXdTaGFwZShuZXcgUm91bmRlZFJlY3RhbmdsZSh4LCB5LCB3aWR0aCwgaGVpZ2h0LCByYWRpdXMpKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhd3MgYSBjaXJjbGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBUaGUgcmFkaXVzIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRyYXdDaXJjbGUgPSBmdW5jdGlvbiBkcmF3Q2lyY2xlICh4LCB5LCByYWRpdXMpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5kcmF3U2hhcGUobmV3IENpcmNsZSh4LCB5LCByYWRpdXMpKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhd3MgYW4gZWxsaXBzZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBlbGxpcHNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGVsbGlwc2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBUaGUgaGFsZiB3aWR0aCBvZiB0aGUgZWxsaXBzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBUaGUgaGFsZiBoZWlnaHQgb2YgdGhlIGVsbGlwc2VcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRyYXdFbGxpcHNlID0gZnVuY3Rpb24gZHJhd0VsbGlwc2UgKHgsIHksIHdpZHRoLCBoZWlnaHQpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5kcmF3U2hhcGUobmV3IEVsbGlwc2UoeCwgeSwgd2lkdGgsIGhlaWdodCkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyBhIHBvbHlnb24gdXNpbmcgdGhlIGdpdmVuIHBhdGguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfFBJWEkuUG9pbnRbXXxQSVhJLlBvbHlnb259IHBhdGggLSBUaGUgcGF0aCBkYXRhIHVzZWQgdG8gY29uc3RydWN0IHRoZSBwb2x5Z29uLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZHJhd1BvbHlnb24gPSBmdW5jdGlvbiBkcmF3UG9seWdvbiAocGF0aClcbiAgICB7XG4gICAgICAgIHZhciBhcmd1bWVudHMkMSA9IGFyZ3VtZW50cztcblxuICAgICAgICAvLyBwcmV2ZW50cyBhbiBhcmd1bWVudCBhc3NpZ25tZW50IGRlb3B0XG4gICAgICAgIC8vIHNlZSBzZWN0aW9uIDMuMTogaHR0cHM6Ly9naXRodWIuY29tL3BldGthYW50b25vdi9ibHVlYmlyZC93aWtpL09wdGltaXphdGlvbi1raWxsZXJzIzMtbWFuYWdpbmctYXJndW1lbnRzXG4gICAgICAgIHZhciBwb2ludHMgPSBwYXRoO1xuXG4gICAgICAgIHZhciBjbG9zZVN0cm9rZSA9IHRydWU7Ly8gISF0aGlzLl9maWxsU3R5bGU7XG5cbiAgICAgICAgLy8gY2hlY2sgaWYgZGF0YSBoYXMgcG9pbnRzLi5cbiAgICAgICAgaWYgKHBvaW50cy5wb2ludHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNsb3NlU3Ryb2tlID0gcG9pbnRzLmNsb3NlU3Ryb2tlO1xuICAgICAgICAgICAgcG9pbnRzID0gcG9pbnRzLnBvaW50cztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShwb2ludHMpKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBwcmV2ZW50cyBhbiBhcmd1bWVudCBsZWFrIGRlb3B0XG4gICAgICAgICAgICAvLyBzZWUgc2VjdGlvbiAzLjI6IGh0dHBzOi8vZ2l0aHViLmNvbS9wZXRrYWFudG9ub3YvYmx1ZWJpcmQvd2lraS9PcHRpbWl6YXRpb24ta2lsbGVycyMzLW1hbmFnaW5nLWFyZ3VtZW50c1xuICAgICAgICAgICAgcG9pbnRzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwb2ludHNbaV0gPSBhcmd1bWVudHMkMVtpXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBwcmVmZXItcmVzdC1wYXJhbXNcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzaGFwZSA9IG5ldyBQb2x5Z29uKHBvaW50cyk7XG5cbiAgICAgICAgc2hhcGUuY2xvc2VTdHJva2UgPSBjbG9zZVN0cm9rZTtcblxuICAgICAgICB0aGlzLmRyYXdTaGFwZShzaGFwZSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXcgYW55IHNoYXBlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkNpcmNsZXxQSVhJLkVsbGlwc2V8UElYSS5Qb2x5Z29ufFBJWEkuUmVjdGFuZ2xlfFBJWEkuUm91bmRlZFJlY3RhbmdsZX0gc2hhcGUgLSBTaGFwZSB0byBkcmF3XG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kcmF3U2hhcGUgPSBmdW5jdGlvbiBkcmF3U2hhcGUgKHNoYXBlKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLl9ob2xlTW9kZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeS5kcmF3U2hhcGUoXG4gICAgICAgICAgICAgICAgc2hhcGUsXG4gICAgICAgICAgICAgICAgdGhpcy5fZmlsbFN0eWxlLmNsb25lKCksXG4gICAgICAgICAgICAgICAgdGhpcy5fbGluZVN0eWxlLmNsb25lKCksXG4gICAgICAgICAgICAgICAgdGhpcy5fbWF0cml4XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeS5kcmF3SG9sZShzaGFwZSwgdGhpcy5fbWF0cml4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEcmF3IGEgc3RhciBzaGFwZSB3aXRoIGFuIGFyYml0cmFyeSBudW1iZXIgb2YgcG9pbnRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBDZW50ZXIgWCBwb3NpdGlvbiBvZiB0aGUgc3RhclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gQ2VudGVyIFkgcG9zaXRpb24gb2YgdGhlIHN0YXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcG9pbnRzIC0gVGhlIG51bWJlciBvZiBwb2ludHMgb2YgdGhlIHN0YXIsIG11c3QgYmUgPiAxXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFRoZSBvdXRlciByYWRpdXMgb2YgdGhlIHN0YXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2lubmVyUmFkaXVzXSAtIFRoZSBpbm5lciByYWRpdXMgYmV0d2VlbiBwb2ludHMsIGRlZmF1bHQgaGFsZiBgcmFkaXVzYFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcm90YXRpb249MF0gLSBUaGUgcm90YXRpb24gb2YgdGhlIHN0YXIgaW4gcmFkaWFucywgd2hlcmUgMCBpcyB2ZXJ0aWNhbFxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZHJhd1N0YXIgPSBmdW5jdGlvbiBkcmF3U3RhciAoeCwgeSwgcG9pbnRzLCByYWRpdXMsIGlubmVyUmFkaXVzLCByb3RhdGlvbilcbiAgICB7XG4gICAgICAgIGlmICggcm90YXRpb24gPT09IHZvaWQgMCApIHJvdGF0aW9uID0gMDtcblxuICAgICAgICByZXR1cm4gdGhpcy5kcmF3UG9seWdvbihuZXcgU3Rhcih4LCB5LCBwb2ludHMsIHJhZGl1cywgaW5uZXJSYWRpdXMsIHJvdGF0aW9uKSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENsZWFycyB0aGUgZ3JhcGhpY3MgdGhhdCB3ZXJlIGRyYXduIHRvIHRoaXMgR3JhcGhpY3Mgb2JqZWN0LCBhbmQgcmVzZXRzIGZpbGwgYW5kIGxpbmUgc3R5bGUgc2V0dGluZ3MuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIgKClcbiAgICB7XG4gICAgICAgIHRoaXMuZ2VvbWV0cnkuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5fbGluZVN0eWxlLnJlc2V0KCk7XG4gICAgICAgIHRoaXMuX2ZpbGxTdHlsZS5yZXNldCgpO1xuXG4gICAgICAgIHRoaXMuX21hdHJpeCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2hvbGVNb2RlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY3VycmVudFBhdGggPSBudWxsO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUcnVlIGlmIGdyYXBoaWNzIGNvbnNpc3RzIG9mIG9uZSByZWN0YW5nbGUsIGFuZCB0aHVzLCBjYW4gYmUgZHJhd24gbGlrZSBhIFNwcml0ZSBhbmRcbiAgICAgKiBtYXNrZWQgd2l0aCBnbC5zY2lzc29yLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgb25seSAxIHJlY3QuXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmlzRmFzdFJlY3QgPSBmdW5jdGlvbiBpc0Zhc3RSZWN0ICgpXG4gICAge1xuICAgICAgICAvLyB3aWxsIGZpeCB0aGlzIVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIC8vIHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aCA9PT0gMVxuICAgICAgICAvLyAgJiYgdGhpcy5ncmFwaGljc0RhdGFbMF0uc2hhcGUudHlwZSA9PT0gU0hBUEVTLlJFQ1RcbiAgICAgICAgLy8gJiYgIXRoaXMuZ3JhcGhpY3NEYXRhWzBdLmxpbmVXaWR0aDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlclxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuX3JlbmRlciA9IGZ1bmN0aW9uIF9yZW5kZXIgKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgdGhpcy5maW5pc2hQb2x5KCk7XG5cbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5nZW9tZXRyeTtcblxuICAgICAgICAvLyBiYXRjaCBwYXJ0Li5cbiAgICAgICAgLy8gYmF0Y2ggaXQhXG4gICAgICAgIGdlb21ldHJ5LnVwZGF0ZUJhdGNoZXMoKTtcblxuICAgICAgICBpZiAoZ2VvbWV0cnkuYmF0Y2hhYmxlKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5iYXRjaERpcnR5ICE9PSBnZW9tZXRyeS5iYXRjaERpcnR5KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX3BvcHVsYXRlQmF0Y2hlcygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJCYXRjaGVkKHJlbmRlcmVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIG5vIGJhdGNoaW5nLi4uXG4gICAgICAgICAgICByZW5kZXJlci5iYXRjaC5mbHVzaCgpO1xuXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJEaXJlY3QocmVuZGVyZXIpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFBvcHVsYXRpbmcgYmF0Y2hlcyBmb3IgcmVuZGVyaW5nXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLl9wb3B1bGF0ZUJhdGNoZXMgPSBmdW5jdGlvbiBfcG9wdWxhdGVCYXRjaGVzICgpXG4gICAge1xuICAgICAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLmdlb21ldHJ5O1xuICAgICAgICB2YXIgYmxlbmRNb2RlID0gdGhpcy5ibGVuZE1vZGU7XG5cbiAgICAgICAgdGhpcy5iYXRjaGVzID0gW107XG4gICAgICAgIHRoaXMuYmF0Y2hUaW50ID0gLTE7XG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgICAgIHRoaXMuYmF0Y2hEaXJ0eSA9IGdlb21ldHJ5LmJhdGNoRGlydHk7XG5cbiAgICAgICAgdGhpcy52ZXJ0ZXhEYXRhID0gbmV3IEZsb2F0MzJBcnJheShnZW9tZXRyeS5wb2ludHMpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gZ2VvbWV0cnkuYmF0Y2hlcy5sZW5ndGg7IGkgPCBsOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBnSSA9IGdlb21ldHJ5LmJhdGNoZXNbaV07XG4gICAgICAgICAgICB2YXIgY29sb3IgPSBnSS5zdHlsZS5jb2xvcjtcbiAgICAgICAgICAgIHZhciB2ZXJ0ZXhEYXRhID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLnZlcnRleERhdGEuYnVmZmVyLFxuICAgICAgICAgICAgICAgIGdJLmF0dHJpYlN0YXJ0ICogNCAqIDIsXG4gICAgICAgICAgICAgICAgZ0kuYXR0cmliU2l6ZSAqIDIpO1xuXG4gICAgICAgICAgICB2YXIgdXZzID0gbmV3IEZsb2F0MzJBcnJheShnZW9tZXRyeS51dnNGbG9hdDMyLmJ1ZmZlcixcbiAgICAgICAgICAgICAgICBnSS5hdHRyaWJTdGFydCAqIDQgKiAyLFxuICAgICAgICAgICAgICAgIGdJLmF0dHJpYlNpemUgKiAyKTtcblxuICAgICAgICAgICAgdmFyIGluZGljZXMgPSBuZXcgVWludDE2QXJyYXkoZ2VvbWV0cnkuaW5kaWNlc1VpbnQxNi5idWZmZXIsXG4gICAgICAgICAgICAgICAgZ0kuc3RhcnQgKiAyLFxuICAgICAgICAgICAgICAgIGdJLnNpemUpO1xuXG4gICAgICAgICAgICB2YXIgYmF0Y2ggPSB7XG4gICAgICAgICAgICAgICAgdmVydGV4RGF0YTogdmVydGV4RGF0YSxcbiAgICAgICAgICAgICAgICBibGVuZE1vZGU6IGJsZW5kTW9kZSxcbiAgICAgICAgICAgICAgICBpbmRpY2VzOiBpbmRpY2VzLFxuICAgICAgICAgICAgICAgIHV2czogdXZzLFxuICAgICAgICAgICAgICAgIF9iYXRjaFJHQjogaGV4MnJnYihjb2xvciksXG4gICAgICAgICAgICAgICAgX3RpbnRSR0I6IGNvbG9yLFxuICAgICAgICAgICAgICAgIF90ZXh0dXJlOiBnSS5zdHlsZS50ZXh0dXJlLFxuICAgICAgICAgICAgICAgIGFscGhhOiBnSS5zdHlsZS5hbHBoYSxcbiAgICAgICAgICAgICAgICB3b3JsZEFscGhhOiAxIH07XG5cbiAgICAgICAgICAgIHRoaXMuYmF0Y2hlc1tpXSA9IGJhdGNoO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIGJhdGNoZXMgdXNpbmcgdGhlIEJhdGhlZFJlbmRlcmVyIHBsdWdpblxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuX3JlbmRlckJhdGNoZWQgPSBmdW5jdGlvbiBfcmVuZGVyQmF0Y2hlZCAocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuYmF0Y2hlcy5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlcmVyLmJhdGNoLnNldE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXSk7XG5cbiAgICAgICAgdGhpcy5jYWxjdWxhdGVWZXJ0aWNlcygpO1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZVRpbnRzKCk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSB0aGlzLmJhdGNoZXMubGVuZ3RoOyBpIDwgbDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgYmF0Y2ggPSB0aGlzLmJhdGNoZXNbaV07XG5cbiAgICAgICAgICAgIGJhdGNoLndvcmxkQWxwaGEgPSB0aGlzLndvcmxkQWxwaGEgKiBiYXRjaC5hbHBoYTtcblxuICAgICAgICAgICAgcmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdLnJlbmRlcihiYXRjaCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgZ3JhcGhpY3MgZGlyZWN0XG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5fcmVuZGVyRGlyZWN0ID0gZnVuY3Rpb24gX3JlbmRlckRpcmVjdCAocmVuZGVyZXIpXG4gICAge1xuICAgICAgICB2YXIgc2hhZGVyID0gdGhpcy5fcmVzb2x2ZURpcmVjdFNoYWRlcihyZW5kZXJlcik7XG5cbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5nZW9tZXRyeTtcbiAgICAgICAgdmFyIHRpbnQgPSB0aGlzLnRpbnQ7XG4gICAgICAgIHZhciB3b3JsZEFscGhhID0gdGhpcy53b3JsZEFscGhhO1xuICAgICAgICB2YXIgdW5pZm9ybXMgPSBzaGFkZXIudW5pZm9ybXM7XG4gICAgICAgIHZhciBkcmF3Q2FsbHMgPSBnZW9tZXRyeS5kcmF3Q2FsbHM7XG5cbiAgICAgICAgLy8gbGV0cyBzZXQgdGhlIHRyYW5zZm9tclxuICAgICAgICB1bmlmb3Jtcy50cmFuc2xhdGlvbk1hdHJpeCA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuXG4gICAgICAgIC8vIGFuZCB0aGVuIGxldHMgc2V0IHRoZSB0aW50Li5cbiAgICAgICAgdW5pZm9ybXMudGludFswXSA9ICgoKHRpbnQgPj4gMTYpICYgMHhGRikgLyAyNTUpICogd29ybGRBbHBoYTtcbiAgICAgICAgdW5pZm9ybXMudGludFsxXSA9ICgoKHRpbnQgPj4gOCkgJiAweEZGKSAvIDI1NSkgKiB3b3JsZEFscGhhO1xuICAgICAgICB1bmlmb3Jtcy50aW50WzJdID0gKCh0aW50ICYgMHhGRikgLyAyNTUpICogd29ybGRBbHBoYTtcbiAgICAgICAgdW5pZm9ybXMudGludFszXSA9IHdvcmxkQWxwaGE7XG5cbiAgICAgICAgLy8gdGhlIGZpcnN0IGRyYXcgY2FsbCwgd2UgY2FuIHNldCB0aGUgdW5pZm9ybXMgb2YgdGhlIHNoYWRlciBkaXJlY3RseSBoZXJlLlxuXG4gICAgICAgIC8vIHRoaXMgbWVhbnMgdGhhdCB3ZSBjYW4gdGFjayBhZHZhbnRhZ2Ugb2YgdGhlIHN5bmMgZnVuY3Rpb24gb2YgcGl4aSFcbiAgICAgICAgLy8gYmluZCBhbmQgc3luYyB1bmlmb3Jtcy4uXG4gICAgICAgIC8vIHRoZXJlIGlzIGEgd2F5IHRvIG9wdGltaXNlIHRoaXMuLlxuICAgICAgICByZW5kZXJlci5zaGFkZXIuYmluZChzaGFkZXIpO1xuICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5iaW5kKGdlb21ldHJ5LCBzaGFkZXIpO1xuXG4gICAgICAgIC8vIHNldCBzdGF0ZS4uXG4gICAgICAgIHJlbmRlcmVyLnN0YXRlLnNldCh0aGlzLnN0YXRlKTtcblxuICAgICAgICAvLyB0aGVuIHJlbmRlciB0aGUgcmVzdCBvZiB0aGVtLi4uXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gZHJhd0NhbGxzLmxlbmd0aDsgaSA8IGw7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyRHJhd0NhbGxEaXJlY3QocmVuZGVyZXIsIGdlb21ldHJ5LmRyYXdDYWxsc1tpXSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyBzcGVjaWZpYyBEcmF3Q2FsbFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlclxuICAgICAqIEBwYXJhbSB7UElYSS5CYXRjaERyYXdDYWxsfSBkcmF3Q2FsbFxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5fcmVuZGVyRHJhd0NhbGxEaXJlY3QgPSBmdW5jdGlvbiBfcmVuZGVyRHJhd0NhbGxEaXJlY3QgKHJlbmRlcmVyLCBkcmF3Q2FsbClcbiAgICB7XG4gICAgICAgIHZhciBncm91cFRleHR1cmVDb3VudCA9IGRyYXdDYWxsLnRleHR1cmVDb3VudDtcblxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGdyb3VwVGV4dHVyZUNvdW50OyBqKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLnRleHR1cmUuYmluZChkcmF3Q2FsbC50ZXh0dXJlc1tqXSwgaik7XG4gICAgICAgIH1cblxuICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5kcmF3KGRyYXdDYWxsLnR5cGUsIGRyYXdDYWxsLnNpemUsIGRyYXdDYWxsLnN0YXJ0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVzb2x2ZXMgc2hhZGVyIGZvciBkaXJlY3QgcmVuZGVyaW5nXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5fcmVzb2x2ZURpcmVjdFNoYWRlciA9IGZ1bmN0aW9uIF9yZXNvbHZlRGlyZWN0U2hhZGVyIChyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIHZhciBzaGFkZXIgPSB0aGlzLnNoYWRlcjtcblxuICAgICAgICB2YXIgcGx1Z2luTmFtZSA9IHRoaXMucGx1Z2luTmFtZTtcblxuICAgICAgICBpZiAoIXNoYWRlcilcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXMgbm8gc2hhZGVyIGhlcmUsIHdlIGNhbiB1c2UgdGhlIGRlZmF1bHQgc2hhZGVyLlxuICAgICAgICAgICAgLy8gYW5kIHRoYXQgb25seSBnZXRzIGNyZWF0ZWQgaWYgd2UgYWN0dWFsbHkgbmVlZCBpdC4uXG4gICAgICAgICAgICAvLyBidXQgbWF5IGJlIG1vcmUgdGhhbiBvbmUgcGx1Z2lucyBmb3IgZ3JhcGhpY3NcbiAgICAgICAgICAgIGlmICghREVGQVVMVF9TSEFERVJTW3BsdWdpbk5hbWVdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBzYW1wbGVWYWx1ZXMgPSBuZXcgSW50MzJBcnJheSgxNik7XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDE2OyBpKyspXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzYW1wbGVWYWx1ZXNbaV0gPSBpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciB1bmlmb3JtcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgdGludDogbmV3IEZsb2F0MzJBcnJheShbMSwgMSwgMSwgMV0pLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbk1hdHJpeDogbmV3IE1hdHJpeCgpLFxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBVbmlmb3JtR3JvdXAuZnJvbSh7IHVTYW1wbGVyczogc2FtcGxlVmFsdWVzIH0sIHRydWUpLFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB2YXIgcHJvZ3JhbSA9IHJlbmRlcmVyLnBsdWdpbnNbcGx1Z2luTmFtZV0uX3NoYWRlci5wcm9ncmFtO1xuXG4gICAgICAgICAgICAgICAgREVGQVVMVF9TSEFERVJTW3BsdWdpbk5hbWVdID0gbmV3IFNoYWRlcihwcm9ncmFtLCB1bmlmb3Jtcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNoYWRlciA9IERFRkFVTFRfU0hBREVSU1twbHVnaW5OYW1lXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzaGFkZXI7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgYm91bmRzIG9mIHRoZSBncmFwaGljIHNoYXBlIGFzIGEgcmVjdGFuZ2xlIG9iamVjdFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5fY2FsY3VsYXRlQm91bmRzID0gZnVuY3Rpb24gX2NhbGN1bGF0ZUJvdW5kcyAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5maW5pc2hQb2x5KCk7XG4gICAgICAgIHZhciBsYiA9IHRoaXMuZ2VvbWV0cnkuYm91bmRzO1xuXG4gICAgICAgIHRoaXMuX2JvdW5kcy5hZGRGcmFtZSh0aGlzLnRyYW5zZm9ybSwgbGIubWluWCwgbGIubWluWSwgbGIubWF4WCwgbGIubWF4WSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRlc3RzIGlmIGEgcG9pbnQgaXMgaW5zaWRlIHRoaXMgZ3JhcGhpY3Mgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IHBvaW50IC0gdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB0aGUgcmVzdWx0IG9mIHRoZSB0ZXN0XG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmNvbnRhaW5zUG9pbnQgPSBmdW5jdGlvbiBjb250YWluc1BvaW50IChwb2ludClcbiAgICB7XG4gICAgICAgIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvaW50LCBHcmFwaGljcy5fVEVNUF9QT0lOVCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnkuY29udGFpbnNQb2ludChHcmFwaGljcy5fVEVNUF9QT0lOVCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlY2FsY3VhdGUgdGhlIHRpbnQgYnkgYXBwbHlpbmcgdGluIHRvIGJhdGNoZXMgdXNpbmcgR3JhcGhpY3MgdGludC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmNhbGN1bGF0ZVRpbnRzID0gZnVuY3Rpb24gY2FsY3VsYXRlVGludHMgKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmJhdGNoVGludCAhPT0gdGhpcy50aW50KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJhdGNoVGludCA9IHRoaXMudGludDtcblxuICAgICAgICAgICAgdmFyIHRpbnRSR0IgPSBoZXgycmdiKHRoaXMudGludCwgdGVtcCk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5iYXRjaGVzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBiYXRjaCA9IHRoaXMuYmF0Y2hlc1tpXTtcblxuICAgICAgICAgICAgICAgIHZhciBiYXRjaFRpbnQgPSBiYXRjaC5fYmF0Y2hSR0I7XG5cbiAgICAgICAgICAgICAgICB2YXIgciA9ICh0aW50UkdCWzBdICogYmF0Y2hUaW50WzBdKSAqIDI1NTtcbiAgICAgICAgICAgICAgICB2YXIgZyA9ICh0aW50UkdCWzFdICogYmF0Y2hUaW50WzFdKSAqIDI1NTtcbiAgICAgICAgICAgICAgICB2YXIgYiA9ICh0aW50UkdCWzJdICogYmF0Y2hUaW50WzJdKSAqIDI1NTtcblxuICAgICAgICAgICAgICAgIC8vIFRPRE8gSXZhbiwgY2FuIHRoaXMgYmUgZG9uZSBpbiBvbmUgZ28/XG4gICAgICAgICAgICAgICAgdmFyIGNvbG9yID0gKHIgPDwgMTYpICsgKGcgPDwgOCkgKyAoYiB8IDApO1xuXG4gICAgICAgICAgICAgICAgYmF0Y2guX3RpbnRSR0IgPSAoY29sb3IgPj4gMTYpXG4gICAgICAgICAgICAgICAgICAgICAgICArIChjb2xvciAmIDB4ZmYwMClcbiAgICAgICAgICAgICAgICAgICAgICAgICsgKChjb2xvciAmIDB4ZmYpIDw8IDE2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJZiB0aGVyZSdzIGEgdHJhbnNmb3JtIHVwZGF0ZSBvciBhIGNoYW5nZSB0byB0aGUgc2hhcGUgb2YgdGhlXG4gICAgICogZ2VvbWV0cnksIHJlY2FjdWxhdGUgdGhlIHZlcnRpY2VzLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuY2FsY3VsYXRlVmVydGljZXMgPSBmdW5jdGlvbiBjYWxjdWxhdGVWZXJ0aWNlcyAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3RyYW5zZm9ybUlEID09PSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtSUQgPSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRDtcblxuICAgICAgICB2YXIgd3QgPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIGEgPSB3dC5hO1xuICAgICAgICB2YXIgYiA9IHd0LmI7XG4gICAgICAgIHZhciBjID0gd3QuYztcbiAgICAgICAgdmFyIGQgPSB3dC5kO1xuICAgICAgICB2YXIgdHggPSB3dC50eDtcbiAgICAgICAgdmFyIHR5ID0gd3QudHk7XG5cbiAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmdlb21ldHJ5LnBvaW50czsvLyBiYXRjaC52ZXJ0ZXhEYXRhT3JpZ2luYWw7XG4gICAgICAgIHZhciB2ZXJ0ZXhEYXRhID0gdGhpcy52ZXJ0ZXhEYXRhO1xuXG4gICAgICAgIHZhciBjb3VudCA9IDA7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSArPSAyKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgeCA9IGRhdGFbaV07XG4gICAgICAgICAgICB2YXIgeSA9IGRhdGFbaSArIDFdO1xuXG4gICAgICAgICAgICB2ZXJ0ZXhEYXRhW2NvdW50KytdID0gKGEgKiB4KSArIChjICogeSkgKyB0eDtcbiAgICAgICAgICAgIHZlcnRleERhdGFbY291bnQrK10gPSAoZCAqIHkpICsgKGIgKiB4KSArIHR5O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENsb3NlcyB0aGUgY3VycmVudCBwYXRoLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmNsb3NlUGF0aCA9IGZ1bmN0aW9uIGNsb3NlUGF0aCAoKVxuICAgIHtcbiAgICAgICAgdmFyIGN1cnJlbnRQYXRoID0gdGhpcy5jdXJyZW50UGF0aDtcblxuICAgICAgICBpZiAoY3VycmVudFBhdGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHdlIGRvbid0IG5lZWQgdG8gYWRkIGV4dHJhIHBvaW50IGluIHRoZSBlbmQgYmVjYXVzZSBidWlsZExpbmUgd2lsbCB0YWtlIGNhcmUgb2YgdGhhdFxuICAgICAgICAgICAgY3VycmVudFBhdGguY2xvc2VTdHJva2UgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGx5IGEgbWF0cml4IHRvIHRoZSBwb3NpdGlvbmFsIGRhdGEuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBNYXRyaXggdG8gdXNlIGZvciB0cmFuc2Zvcm0gY3VycmVudCBzaGFwZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuc2V0TWF0cml4ID0gZnVuY3Rpb24gc2V0TWF0cml4IChtYXRyaXgpXG4gICAge1xuICAgICAgICB0aGlzLl9tYXRyaXggPSBtYXRyaXg7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEJlZ2luIGFkZGluZyBob2xlcyB0byB0aGUgbGFzdCBkcmF3IHNoYXBlXG4gICAgICogSU1QT1JUQU5UOiBob2xlcyBtdXN0IGJlIGZ1bGx5IGluc2lkZSBhIHNoYXBlIHRvIHdvcmtcbiAgICAgKiBBbHNvIHdlaXJkbmVzcyBlbnN1ZXMgaWYgaG9sZXMgb3ZlcmxhcCFcbiAgICAgKiBFbGxpcHNlcywgQ2lyY2xlcywgUmVjdGFuZ2xlcyBhbmQgUm91bmRlZCBSZWN0YW5nbGVzIGNhbm5vdCBiZSBob2xlcyBvciBob3N0IGZvciBob2xlcyBpbiBDYW52YXNSZW5kZXJlcixcbiAgICAgKiBwbGVhc2UgdXNlIGBtb3ZlVG9gIGBsaW5lVG9gLCBgcXVhZHJhdGljQ3VydmVUb2AgaWYgeW91IHJlbHkgb24gcGl4aS1sZWdhY3kgYnVuZGxlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5iZWdpbkhvbGUgPSBmdW5jdGlvbiBiZWdpbkhvbGUgKClcbiAgICB7XG4gICAgICAgIHRoaXMuZmluaXNoUG9seSgpO1xuICAgICAgICB0aGlzLl9ob2xlTW9kZSA9IHRydWU7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEVuZCBhZGRpbmcgaG9sZXMgdG8gdGhlIGxhc3QgZHJhdyBzaGFwZVxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5lbmRIb2xlID0gZnVuY3Rpb24gZW5kSG9sZSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5maW5pc2hQb2x5KCk7XG4gICAgICAgIHRoaXMuX2hvbGVNb2RlID0gZmFsc2U7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBHcmFwaGljcyBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbFxuICAgICAqICBvcHRpb25zIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlXG4gICAgICogIHRoZWlyIGRlc3Ryb3kgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAob3B0aW9ucylcbiAgICB7XG4gICAgICAgIENvbnRhaW5lci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuZ2VvbWV0cnkucmVmQ291bnQtLTtcbiAgICAgICAgaWYgKHRoaXMuZ2VvbWV0cnkucmVmQ291bnQgPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZ2VvbWV0cnkuZGlzcG9zZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbWF0cml4ID0gbnVsbDtcbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2xpbmVTdHlsZS5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuX2xpbmVTdHlsZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX2ZpbGxTdHlsZS5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuX2ZpbGxTdHlsZSA9IG51bGw7XG4gICAgICAgIHRoaXMuZ2VvbWV0cnkgPSBudWxsO1xuICAgICAgICB0aGlzLnNoYWRlciA9IG51bGw7XG4gICAgICAgIHRoaXMudmVydGV4RGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuYmF0Y2hlcy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmJhdGNoZXMgPSBudWxsO1xuXG4gICAgICAgIENvbnRhaW5lci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggR3JhcGhpY3MucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuICAgIHJldHVybiBHcmFwaGljcztcbn0oQ29udGFpbmVyKSk7XG5cbi8qKlxuICogVGVtcG9yYXJ5IHBvaW50IHRvIHVzZSBmb3IgY29udGFpbnNQb2ludFxuICpcbiAqIEBzdGF0aWNcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyIHtQSVhJLlBvaW50fVxuICovXG5HcmFwaGljcy5fVEVNUF9QT0lOVCA9IG5ldyBQb2ludCgpO1xuXG5leHBvcnQgeyBGaWxsU3R5bGUsIEdSQVBISUNTX0NVUlZFUywgR3JhcGhpY3MsIEdyYXBoaWNzRGF0YSwgR3JhcGhpY3NHZW9tZXRyeSwgTGluZVN0eWxlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ncmFwaGljcy5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvc3ByaXRlIC0gdjUuMS40XG4gKiBDb21waWxlZCBGcmksIDIwIFNlcCAyMDE5IDE3OjE3OjU5IFVUQ1xuICpcbiAqIEBwaXhpL3Nwcml0ZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFBvaW50LCBSZWN0YW5nbGUsIE9ic2VydmFibGVQb2ludCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgc2lnbiB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IEJMRU5EX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5cbnZhciB0ZW1wUG9pbnQgPSBuZXcgUG9pbnQoKTtcbnZhciBpbmRpY2VzID0gbmV3IFVpbnQxNkFycmF5KFswLCAxLCAyLCAwLCAyLCAzXSk7XG5cbi8qKlxuICogVGhlIFNwcml0ZSBvYmplY3QgaXMgdGhlIGJhc2UgZm9yIGFsbCB0ZXh0dXJlZCBvYmplY3RzIHRoYXQgYXJlIHJlbmRlcmVkIHRvIHRoZSBzY3JlZW5cbipcbiAqIEEgc3ByaXRlIGNhbiBiZSBjcmVhdGVkIGRpcmVjdGx5IGZyb20gYW4gaW1hZ2UgbGlrZSB0aGlzOlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgc3ByaXRlID0gUElYSS5TcHJpdGUuZnJvbSgnYXNzZXRzL2ltYWdlLnBuZycpO1xuICogYGBgXG4gKlxuICogVGhlIG1vcmUgZWZmaWNpZW50IHdheSB0byBjcmVhdGUgc3ByaXRlcyBpcyB1c2luZyBhIHtAbGluayBQSVhJLlNwcml0ZXNoZWV0fSxcbiAqIGFzIHN3YXBwaW5nIGJhc2UgdGV4dHVyZXMgd2hlbiByZW5kZXJpbmcgdG8gdGhlIHNjcmVlbiBpcyBpbmVmZmljaWVudC5cbiAqXG4gKiBgYGBqc1xuICogUElYSS5Mb2FkZXIuc2hhcmVkLmFkZChcImFzc2V0cy9zcHJpdGVzaGVldC5qc29uXCIpLmxvYWQoc2V0dXApO1xuICpcbiAqIGZ1bmN0aW9uIHNldHVwKCkge1xuICogICBsZXQgc2hlZXQgPSBQSVhJLkxvYWRlci5zaGFyZWQucmVzb3VyY2VzW1wiYXNzZXRzL3Nwcml0ZXNoZWV0Lmpzb25cIl0uc3ByaXRlc2hlZXQ7XG4gKiAgIGxldCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUoc2hlZXQudGV4dHVyZXNbXCJpbWFnZS5wbmdcIl0pO1xuICogICAuLi5cbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5Db250YWluZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBTcHJpdGUgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChDb250YWluZXIpIHtcbiAgICBmdW5jdGlvbiBTcHJpdGUodGV4dHVyZSlcbiAgICB7XG4gICAgICAgIENvbnRhaW5lci5jYWxsKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW5jaG9yIHBvaW50IGRlZmluZXMgdGhlIG5vcm1hbGl6ZWQgY29vcmRpbmF0ZXNcbiAgICAgICAgICogaW4gdGhlIHRleHR1cmUgdGhhdCBtYXAgdG8gdGhlIHBvc2l0aW9uIG9mIHRoaXNcbiAgICAgICAgICogc3ByaXRlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBCeSBkZWZhdWx0LCB0aGlzIGlzIGAoMCwwKWAgKG9yIGB0ZXh0dXJlLmRlZmF1bHRBbmNob3JgXG4gICAgICAgICAqIGlmIHlvdSBoYXZlIG1vZGlmaWVkIHRoYXQpLCB3aGljaCBtZWFucyB0aGUgcG9zaXRpb25cbiAgICAgICAgICogYCh4LHkpYCBvZiB0aGlzIGBTcHJpdGVgIHdpbGwgYmUgdGhlIHRvcC1sZWZ0IGNvcm5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogTm90ZTogVXBkYXRpbmcgYHRleHR1cmUuZGVmYXVsdEFuY2hvcmAgYWZ0ZXJcbiAgICAgICAgICogY29uc3RydWN0aW5nIGEgYFNwcml0ZWAgZG9lcyBfbm90XyB1cGRhdGUgaXRzIGFuY2hvci5cbiAgICAgICAgICpcbiAgICAgICAgICoge0BsaW5rIGh0dHBzOi8vZG9jcy5jb2NvczJkLXgub3JnL2NvY29zMmQteC9lbi9zcHJpdGVzL21hbmlwdWxhdGlvbi5odG1sfVxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVmYXVsdCBgdGV4dHVyZS5kZWZhdWx0QW5jaG9yYFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2FuY2hvciA9IG5ldyBPYnNlcnZhYmxlUG9pbnQoXG4gICAgICAgICAgICB0aGlzLl9vbkFuY2hvclVwZGF0ZSxcbiAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICAodGV4dHVyZSA/IHRleHR1cmUuZGVmYXVsdEFuY2hvci54IDogMCksXG4gICAgICAgICAgICAodGV4dHVyZSA/IHRleHR1cmUuZGVmYXVsdEFuY2hvci55IDogMClcbiAgICAgICAgKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRleHR1cmUgdGhhdCB0aGUgc3ByaXRlIGlzIHVzaW5nXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RleHR1cmUgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHNwcml0ZSAodGhpcyBpcyBpbml0aWFsbHkgc2V0IGJ5IHRoZSB0ZXh0dXJlKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl93aWR0aCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHNwcml0ZSAodGhpcyBpcyBpbml0aWFsbHkgc2V0IGJ5IHRoZSB0ZXh0dXJlKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9oZWlnaHQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGludCBhcHBsaWVkIHRvIHRoZSBzcHJpdGUuIFRoaXMgaXMgYSBoZXggdmFsdWUuIEEgdmFsdWUgb2YgMHhGRkZGRkYgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90aW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fdGludFJHQiA9IG51bGw7XG4gICAgICAgIHRoaXMudGludCA9IDB4RkZGRkZGO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmxlbmQgbW9kZSB0byBiZSBhcHBsaWVkIHRvIHRoZSBzcHJpdGUuIEFwcGx5IGEgdmFsdWUgb2YgYFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMYCB0byByZXNldCB0aGUgYmxlbmQgbW9kZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTFxuICAgICAgICAgKiBAc2VlIFBJWEkuQkxFTkRfTU9ERVNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmxlbmRNb2RlID0gQkxFTkRfTU9ERVMuTk9STUFMO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2hhZGVyIHRoYXQgd2lsbCBiZSB1c2VkIHRvIHJlbmRlciB0aGUgc3ByaXRlLiBTZXQgdG8gbnVsbCB0byByZW1vdmUgYSBjdXJyZW50IHNoYWRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5GaWx0ZXJ8UElYSS5TaGFkZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNoYWRlciA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhY2hlZCB0aW50IHZhbHVlIHNvIHdlIGNhbiB0ZWxsIHdoZW4gdGhlIHRpbnQgaXMgY2hhbmdlZC5cbiAgICAgICAgICogVmFsdWUgaXMgdXNlZCBmb3IgMmQgQ2FudmFzUmVuZGVyZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fY2FjaGVkVGludCA9IDB4RkZGRkZGO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0aGlzIGlzIHVzZWQgdG8gc3RvcmUgdGhlIHV2cyBkYXRhIG9mIHRoZSBzcHJpdGUsIGFzc2lnbmVkIGF0IHRoZSBzYW1lIHRpbWVcbiAgICAgICAgICogYXMgdGhlIHZlcnRleERhdGEgaW4gY2FsY3VsYXRlVmVydGljZXMoKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnV2cyA9IG51bGw7XG5cbiAgICAgICAgLy8gY2FsbCB0ZXh0dXJlIHNldHRlclxuICAgICAgICB0aGlzLnRleHR1cmUgPSB0ZXh0dXJlIHx8IFRleHR1cmUuRU1QVFk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRoaXMgaXMgdXNlZCB0byBzdG9yZSB0aGUgdmVydGV4IGRhdGEgb2YgdGhlIHNwcml0ZSAoYmFzaWNhbGx5IGEgcXVhZClcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52ZXJ0ZXhEYXRhID0gbmV3IEZsb2F0MzJBcnJheSg4KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB1c2VkIHRvIGNhbGN1bGF0ZSB0aGUgYm91bmRzIG9mIHRoZSBvYmplY3QgSUYgaXQgaXMgYSB0cmltbWVkIHNwcml0ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZlcnRleFRyaW1tZWREYXRhID0gbnVsbDtcblxuICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSAtMTtcblxuICAgICAgICB0aGlzLl90cmFuc2Zvcm1UcmltbWVkSUQgPSAtMTtcbiAgICAgICAgdGhpcy5fdGV4dHVyZVRyaW1tZWRJRCA9IC0xO1xuXG4gICAgICAgIC8vIEJhdGNoYWJsZSBzdHVmZi4uXG4gICAgICAgIC8vIFRPRE8gY291bGQgbWFrZSB0aGlzIGEgbWl4aW4/XG4gICAgICAgIHRoaXMuaW5kaWNlcyA9IGluZGljZXM7XG4gICAgICAgIHRoaXMuc2l6ZSA9IDQ7XG4gICAgICAgIHRoaXMuc3RhcnQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQbHVnaW4gdGhhdCBpcyByZXNwb25zaWJsZSBmb3IgcmVuZGVyaW5nIHRoaXMgZWxlbWVudC5cbiAgICAgICAgICogQWxsb3dzIHRvIGN1c3RvbWl6ZSB0aGUgcmVuZGVyaW5nIHByb2Nlc3Mgd2l0aG91dCBvdmVycmlkaW5nICdfcmVuZGVyJyAmICdfcmVuZGVyQ2FudmFzJyBtZXRob2RzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdiYXRjaCdcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGx1Z2luTmFtZSA9ICdiYXRjaCc7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHVzZWQgdG8gZmFzdCBjaGVjayBpZiBhIHNwcml0ZSBpcy4uIGEgc3ByaXRlIVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pc1Nwcml0ZSA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIHJvdW5kUGl4ZWxzIGZpZWxkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9yb3VuZFBpeGVscyA9IHNldHRpbmdzLlJPVU5EX1BJWEVMUztcbiAgICB9XG5cbiAgICBpZiAoIENvbnRhaW5lciApIFNwcml0ZS5fX3Byb3RvX18gPSBDb250YWluZXI7XG4gICAgU3ByaXRlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIENvbnRhaW5lciAmJiBDb250YWluZXIucHJvdG90eXBlICk7XG4gICAgU3ByaXRlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFNwcml0ZTtcblxuICAgIHZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IHJvdW5kUGl4ZWxzOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHdpZHRoOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGhlaWdodDogeyBjb25maWd1cmFibGU6IHRydWUgfSxhbmNob3I6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sdGludDogeyBjb25maWd1cmFibGU6IHRydWUgfSx0ZXh0dXJlOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZSB0ZXh0dXJlIGlzIHVwZGF0ZWQsIHRoaXMgZXZlbnQgd2lsbCBmaXJlIHRvIHVwZGF0ZSB0aGUgc2NhbGUgYW5kIGZyYW1lXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFNwcml0ZS5wcm90b3R5cGUuX29uVGV4dHVyZVVwZGF0ZSA9IGZ1bmN0aW9uIF9vblRleHR1cmVVcGRhdGUgKClcbiAgICB7XG4gICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IC0xO1xuICAgICAgICB0aGlzLl90ZXh0dXJlVHJpbW1lZElEID0gLTE7XG4gICAgICAgIHRoaXMuX2NhY2hlZFRpbnQgPSAweEZGRkZGRjtcblxuICAgICAgICAvLyBzbyBpZiBfd2lkdGggaXMgMCB0aGVuIHdpZHRoIHdhcyBub3Qgc2V0Li5cbiAgICAgICAgaWYgKHRoaXMuX3dpZHRoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNjYWxlLnggPSBzaWduKHRoaXMuc2NhbGUueCkgKiB0aGlzLl93aWR0aCAvIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9oZWlnaHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc2NhbGUueSA9IHNpZ24odGhpcy5zY2FsZS55KSAqIHRoaXMuX2hlaWdodCAvIHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIGFuY2hvciBwb3NpdGlvbiB1cGRhdGVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBTcHJpdGUucHJvdG90eXBlLl9vbkFuY2hvclVwZGF0ZSA9IGZ1bmN0aW9uIF9vbkFuY2hvclVwZGF0ZSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtSUQgPSAtMTtcbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtVHJpbW1lZElEID0gLTE7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIGNhbGN1bGF0ZXMgd29ybGRUcmFuc2Zvcm0gKiB2ZXJ0aWNlcywgc3RvcmUgaXQgaW4gdmVydGV4RGF0YVxuICAgICAqL1xuICAgIFNwcml0ZS5wcm90b3R5cGUuY2FsY3VsYXRlVmVydGljZXMgPSBmdW5jdGlvbiBjYWxjdWxhdGVWZXJ0aWNlcyAoKVxuICAgIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuXG4gICAgICAgIGlmICh0aGlzLl90cmFuc2Zvcm1JRCA9PT0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQgJiYgdGhpcy5fdGV4dHVyZUlEID09PSB0ZXh0dXJlLl91cGRhdGVJRClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdXBkYXRlIHRleHR1cmUgVVYgaGVyZSwgYmVjYXVzZSBiYXNlIHRleHR1cmUgY2FuIGJlIGNoYW5nZWQgd2l0aG91dCBjYWxsaW5nIGBfb25UZXh0dXJlVXBkYXRlYFxuICAgICAgICBpZiAodGhpcy5fdGV4dHVyZUlEICE9PSB0ZXh0dXJlLl91cGRhdGVJRClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51dnMgPSB0aGlzLl90ZXh0dXJlLl91dnMudXZzRmxvYXQzMjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQ7XG4gICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IHRleHR1cmUuX3VwZGF0ZUlEO1xuXG4gICAgICAgIC8vIHNldCB0aGUgdmVydGV4IGRhdGFcblxuICAgICAgICB2YXIgd3QgPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIGEgPSB3dC5hO1xuICAgICAgICB2YXIgYiA9IHd0LmI7XG4gICAgICAgIHZhciBjID0gd3QuYztcbiAgICAgICAgdmFyIGQgPSB3dC5kO1xuICAgICAgICB2YXIgdHggPSB3dC50eDtcbiAgICAgICAgdmFyIHR5ID0gd3QudHk7XG4gICAgICAgIHZhciB2ZXJ0ZXhEYXRhID0gdGhpcy52ZXJ0ZXhEYXRhO1xuICAgICAgICB2YXIgdHJpbSA9IHRleHR1cmUudHJpbTtcbiAgICAgICAgdmFyIG9yaWcgPSB0ZXh0dXJlLm9yaWc7XG4gICAgICAgIHZhciBhbmNob3IgPSB0aGlzLl9hbmNob3I7XG5cbiAgICAgICAgdmFyIHcwID0gMDtcbiAgICAgICAgdmFyIHcxID0gMDtcbiAgICAgICAgdmFyIGgwID0gMDtcbiAgICAgICAgdmFyIGgxID0gMDtcblxuICAgICAgICBpZiAodHJpbSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gaWYgdGhlIHNwcml0ZSBpcyB0cmltbWVkIGFuZCBpcyBub3QgYSB0aWxpbmdzcHJpdGUgdGhlbiB3ZSBuZWVkIHRvIGFkZCB0aGUgZXh0cmFcbiAgICAgICAgICAgIC8vIHNwYWNlIGJlZm9yZSB0cmFuc2Zvcm1pbmcgdGhlIHNwcml0ZSBjb29yZHMuXG4gICAgICAgICAgICB3MSA9IHRyaW0ueCAtIChhbmNob3IuX3ggKiBvcmlnLndpZHRoKTtcbiAgICAgICAgICAgIHcwID0gdzEgKyB0cmltLndpZHRoO1xuXG4gICAgICAgICAgICBoMSA9IHRyaW0ueSAtIChhbmNob3IuX3kgKiBvcmlnLmhlaWdodCk7XG4gICAgICAgICAgICBoMCA9IGgxICsgdHJpbS5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB3MSA9IC1hbmNob3IuX3ggKiBvcmlnLndpZHRoO1xuICAgICAgICAgICAgdzAgPSB3MSArIG9yaWcud2lkdGg7XG5cbiAgICAgICAgICAgIGgxID0gLWFuY2hvci5feSAqIG9yaWcuaGVpZ2h0O1xuICAgICAgICAgICAgaDAgPSBoMSArIG9yaWcuaGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVswXSA9IChhICogdzEpICsgKGMgKiBoMSkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVsxXSA9IChkICogaDEpICsgKGIgKiB3MSkgKyB0eTtcblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzJdID0gKGEgKiB3MCkgKyAoYyAqIGgxKSArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzNdID0gKGQgKiBoMSkgKyAoYiAqIHcwKSArIHR5O1xuXG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbNF0gPSAoYSAqIHcwKSArIChjICogaDApICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbNV0gPSAoZCAqIGgwKSArIChiICogdzApICsgdHk7XG5cbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVs2XSA9IChhICogdzEpICsgKGMgKiBoMCkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVs3XSA9IChkICogaDApICsgKGIgKiB3MSkgKyB0eTtcblxuICAgICAgICBpZiAodGhpcy5fcm91bmRQaXhlbHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgODsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZlcnRleERhdGFbaV0gPSBNYXRoLnJvdW5kKHZlcnRleERhdGFbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIGNhbGN1bGF0ZXMgd29ybGRUcmFuc2Zvcm0gKiB2ZXJ0aWNlcyBmb3IgYSBub24gdGV4dHVyZSB3aXRoIGEgdHJpbS4gc3RvcmUgaXQgaW4gdmVydGV4VHJpbW1lZERhdGFcbiAgICAgKiBUaGlzIGlzIHVzZWQgdG8gZW5zdXJlIHRoYXQgdGhlIHRydWUgd2lkdGggYW5kIGhlaWdodCBvZiBhIHRyaW1tZWQgdGV4dHVyZSBpcyByZXNwZWN0ZWRcbiAgICAgKi9cbiAgICBTcHJpdGUucHJvdG90eXBlLmNhbGN1bGF0ZVRyaW1tZWRWZXJ0aWNlcyA9IGZ1bmN0aW9uIGNhbGN1bGF0ZVRyaW1tZWRWZXJ0aWNlcyAoKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLnZlcnRleFRyaW1tZWREYXRhKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnZlcnRleFRyaW1tZWREYXRhID0gbmV3IEZsb2F0MzJBcnJheSg4KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLl90cmFuc2Zvcm1UcmltbWVkSUQgPT09IHRoaXMudHJhbnNmb3JtLl93b3JsZElEICYmIHRoaXMuX3RleHR1cmVUcmltbWVkSUQgPT09IHRoaXMuX3RleHR1cmUuX3VwZGF0ZUlEKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90cmFuc2Zvcm1UcmltbWVkSUQgPSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRDtcbiAgICAgICAgdGhpcy5fdGV4dHVyZVRyaW1tZWRJRCA9IHRoaXMuX3RleHR1cmUuX3VwZGF0ZUlEO1xuXG4gICAgICAgIC8vIGxldHMgZG8gc29tZSBzcGVjaWFsIHRyaW0gY29kZSFcbiAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuICAgICAgICB2YXIgdmVydGV4RGF0YSA9IHRoaXMudmVydGV4VHJpbW1lZERhdGE7XG4gICAgICAgIHZhciBvcmlnID0gdGV4dHVyZS5vcmlnO1xuICAgICAgICB2YXIgYW5jaG9yID0gdGhpcy5fYW5jaG9yO1xuXG4gICAgICAgIC8vIGxldHMgY2FsY3VsYXRlIHRoZSBuZXcgdW50cmltbWVkIGJvdW5kcy4uXG4gICAgICAgIHZhciB3dCA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICB2YXIgYSA9IHd0LmE7XG4gICAgICAgIHZhciBiID0gd3QuYjtcbiAgICAgICAgdmFyIGMgPSB3dC5jO1xuICAgICAgICB2YXIgZCA9IHd0LmQ7XG4gICAgICAgIHZhciB0eCA9IHd0LnR4O1xuICAgICAgICB2YXIgdHkgPSB3dC50eTtcblxuICAgICAgICB2YXIgdzEgPSAtYW5jaG9yLl94ICogb3JpZy53aWR0aDtcbiAgICAgICAgdmFyIHcwID0gdzEgKyBvcmlnLndpZHRoO1xuXG4gICAgICAgIHZhciBoMSA9IC1hbmNob3IuX3kgKiBvcmlnLmhlaWdodDtcbiAgICAgICAgdmFyIGgwID0gaDEgKyBvcmlnLmhlaWdodDtcblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzBdID0gKGEgKiB3MSkgKyAoYyAqIGgxKSArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzFdID0gKGQgKiBoMSkgKyAoYiAqIHcxKSArIHR5O1xuXG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbMl0gPSAoYSAqIHcwKSArIChjICogaDEpICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbM10gPSAoZCAqIGgxKSArIChiICogdzApICsgdHk7XG5cbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVs0XSA9IChhICogdzApICsgKGMgKiBoMCkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVs1XSA9IChkICogaDApICsgKGIgKiB3MCkgKyB0eTtcblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzZdID0gKGEgKiB3MSkgKyAoYyAqIGgwKSArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzddID0gKGQgKiBoMCkgKyAoYiAqIHcxKSArIHR5O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAqXG4gICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAgKlxuICAgICogQHByb3RlY3RlZFxuICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSB3ZWJnbCByZW5kZXJlciB0byB1c2UuXG4gICAgKi9cbiAgICBTcHJpdGUucHJvdG90eXBlLl9yZW5kZXIgPSBmdW5jdGlvbiBfcmVuZGVyIChyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlVmVydGljZXMoKTtcblxuICAgICAgICByZW5kZXJlci5iYXRjaC5zZXRPYmplY3RSZW5kZXJlcihyZW5kZXJlci5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0pO1xuICAgICAgICByZW5kZXJlci5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0ucmVuZGVyKHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBib3VuZHMgb2YgdGhlIHNwcml0ZS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBTcHJpdGUucHJvdG90eXBlLl9jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiBfY2FsY3VsYXRlQm91bmRzICgpXG4gICAge1xuICAgICAgICB2YXIgdHJpbSA9IHRoaXMuX3RleHR1cmUudHJpbTtcbiAgICAgICAgdmFyIG9yaWcgPSB0aGlzLl90ZXh0dXJlLm9yaWc7XG5cbiAgICAgICAgLy8gRmlyc3QgbGV0cyBjaGVjayB0byBzZWUgaWYgdGhlIGN1cnJlbnQgdGV4dHVyZSBoYXMgYSB0cmltLi5cbiAgICAgICAgaWYgKCF0cmltIHx8ICh0cmltLndpZHRoID09PSBvcmlnLndpZHRoICYmIHRyaW0uaGVpZ2h0ID09PSBvcmlnLmhlaWdodCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIG5vIHRyaW0hIGxldHMgdXNlIHRoZSB1c3VhbCBjYWxjdWxhdGlvbnMuLlxuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVWZXJ0aWNlcygpO1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLmFkZFF1YWQodGhpcy52ZXJ0ZXhEYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGxldHMgY2FsY3VsYXRlIGEgc3BlY2lhbCB0cmltbWVkIGJvdW5kcy4uLlxuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVUcmltbWVkVmVydGljZXMoKTtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5hZGRRdWFkKHRoaXMudmVydGV4VHJpbW1lZERhdGEpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgc3ByaXRlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtyZWN0XSAtIFRoZSBvdXRwdXQgcmVjdGFuZ2xlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBUaGUgYm91bmRzLlxuICAgICAqL1xuICAgIFNwcml0ZS5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMgPSBmdW5jdGlvbiBnZXRMb2NhbEJvdW5kcyAocmVjdClcbiAgICB7XG4gICAgICAgIC8vIHdlIGNhbiBkbyBhIGZhc3QgbG9jYWwgYm91bmRzIGlmIHRoZSBzcHJpdGUgaGFzIG5vIGNoaWxkcmVuIVxuICAgICAgICBpZiAodGhpcy5jaGlsZHJlbi5sZW5ndGggPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5taW5YID0gdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoICogLXRoaXMuX2FuY2hvci5feDtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5taW5ZID0gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodCAqIC10aGlzLl9hbmNob3IuX3k7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWF4WCA9IHRoaXMuX3RleHR1cmUub3JpZy53aWR0aCAqICgxIC0gdGhpcy5fYW5jaG9yLl94KTtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5tYXhZID0gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodCAqICgxIC0gdGhpcy5fYW5jaG9yLl95KTtcblxuICAgICAgICAgICAgaWYgKCFyZWN0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fbG9jYWxCb3VuZHNSZWN0KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHNSZWN0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJlY3QgPSB0aGlzLl9sb2NhbEJvdW5kc1JlY3Q7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9ib3VuZHMuZ2V0UmVjdGFuZ2xlKHJlY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIENvbnRhaW5lci5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMuY2FsbCh0aGlzLCByZWN0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGVzdHMgaWYgYSBwb2ludCBpcyBpbnNpZGUgdGhpcyBzcHJpdGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gcG9pbnQgLSB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHRoZSByZXN1bHQgb2YgdGhlIHRlc3RcbiAgICAgKi9cbiAgICBTcHJpdGUucHJvdG90eXBlLmNvbnRhaW5zUG9pbnQgPSBmdW5jdGlvbiBjb250YWluc1BvaW50IChwb2ludClcbiAgICB7XG4gICAgICAgIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvaW50LCB0ZW1wUG9pbnQpO1xuXG4gICAgICAgIHZhciB3aWR0aCA9IHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgICAgIHZhciB4MSA9IC13aWR0aCAqIHRoaXMuYW5jaG9yLng7XG4gICAgICAgIHZhciB5MSA9IDA7XG5cbiAgICAgICAgaWYgKHRlbXBQb2ludC54ID49IHgxICYmIHRlbXBQb2ludC54IDwgeDEgKyB3aWR0aClcbiAgICAgICAge1xuICAgICAgICAgICAgeTEgPSAtaGVpZ2h0ICogdGhpcy5hbmNob3IueTtcblxuICAgICAgICAgICAgaWYgKHRlbXBQb2ludC55ID49IHkxICYmIHRlbXBQb2ludC55IDwgeTEgKyBoZWlnaHQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgc3ByaXRlIGFuZCBvcHRpb25hbGx5IGl0cyB0ZXh0dXJlIGFuZCBjaGlsZHJlblxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpciBkZXN0cm95XG4gICAgICogICAgICBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGN1cnJlbnQgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGxcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICovXG4gICAgU3ByaXRlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAob3B0aW9ucylcbiAgICB7XG4gICAgICAgIENvbnRhaW5lci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuX3RleHR1cmUub2ZmKCd1cGRhdGUnLCB0aGlzLl9vblRleHR1cmVVcGRhdGUsIHRoaXMpO1xuXG4gICAgICAgIHRoaXMuX2FuY2hvciA9IG51bGw7XG5cbiAgICAgICAgdmFyIGRlc3Ryb3lUZXh0dXJlID0gdHlwZW9mIG9wdGlvbnMgPT09ICdib29sZWFuJyA/IG9wdGlvbnMgOiBvcHRpb25zICYmIG9wdGlvbnMudGV4dHVyZTtcblxuICAgICAgICBpZiAoZGVzdHJveVRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBkZXN0cm95QmFzZVRleHR1cmUgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9ucyA6IG9wdGlvbnMgJiYgb3B0aW9ucy5iYXNlVGV4dHVyZTtcblxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZS5kZXN0cm95KCEhZGVzdHJveUJhc2VUZXh0dXJlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3RleHR1cmUgPSBudWxsO1xuICAgICAgICB0aGlzLnNoYWRlciA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIHNvbWUgaGVscGVyIGZ1bmN0aW9ucy4uXG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgbmV3IHNwcml0ZSBiYXNlZCBvbiB0aGUgc291cmNlIHlvdSBwcm92aWRlLlxuICAgICAqIFRoZSBzb3VyY2UgY2FuIGJlIC0gZnJhbWUgaWQsIGltYWdlIHVybCwgdmlkZW8gdXJsLCBjYW52YXMgZWxlbWVudCwgdmlkZW8gZWxlbWVudCwgYmFzZSB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfFBJWEkuVGV4dHVyZXxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBzb3VyY2UgU291cmNlIHRvIGNyZWF0ZSB0ZXh0dXJlIGZyb21cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIFNlZSB7QGxpbmsgUElYSS5CYXNlVGV4dHVyZX0ncyBjb25zdHJ1Y3RvciBmb3Igb3B0aW9ucy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlNwcml0ZX0gVGhlIG5ld2x5IGNyZWF0ZWQgc3ByaXRlXG4gICAgICovXG4gICAgU3ByaXRlLmZyb20gPSBmdW5jdGlvbiBmcm9tIChzb3VyY2UsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICB2YXIgdGV4dHVyZSA9IChzb3VyY2UgaW5zdGFuY2VvZiBUZXh0dXJlKVxuICAgICAgICAgICAgPyBzb3VyY2VcbiAgICAgICAgICAgIDogVGV4dHVyZS5mcm9tKHNvdXJjZSwgb3B0aW9ucyk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBTcHJpdGUodGV4dHVyZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIElmIHRydWUgUGl4aUpTIHdpbGwgTWF0aC5mbG9vcigpIHgveSB2YWx1ZXMgd2hlbiByZW5kZXJpbmcsIHN0b3BwaW5nIHBpeGVsIGludGVycG9sYXRpb24uXG4gICAgICogQWR2YW50YWdlcyBjYW4gaW5jbHVkZSBzaGFycGVyIGltYWdlIHF1YWxpdHkgKGxpa2UgdGV4dCkgYW5kIGZhc3RlciByZW5kZXJpbmcgb24gY2FudmFzLlxuICAgICAqIFRoZSBtYWluIGRpc2FkdmFudGFnZSBpcyBtb3ZlbWVudCBvZiBvYmplY3RzIG1heSBhcHBlYXIgbGVzcyBzbW9vdGguXG4gICAgICogVG8gc2V0IHRoZSBnbG9iYWwgZGVmYXVsdCwgY2hhbmdlIHtAbGluayBQSVhJLnNldHRpbmdzLlJPVU5EX1BJWEVMU31cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMucm91bmRQaXhlbHMuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3JvdW5kUGl4ZWxzICE9PSB2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdHJhbnNmb3JtSUQgPSAtMTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9yb3VuZFBpeGVscyA9IHZhbHVlO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMucm91bmRQaXhlbHMuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yb3VuZFBpeGVscztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBzcHJpdGUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLndpZHRoLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gTWF0aC5hYnModGhpcy5zY2FsZS54KSAqIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLndpZHRoLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB2YXIgcyA9IHNpZ24odGhpcy5zY2FsZS54KSB8fCAxO1xuXG4gICAgICAgIHRoaXMuc2NhbGUueCA9IHMgKiB2YWx1ZSAvIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgdGhpcy5fd2lkdGggPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGhlaWdodCBvZiB0aGUgc3ByaXRlLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldFxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5oZWlnaHQuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLnNjYWxlLnkpICogdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmhlaWdodC5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdmFyIHMgPSBzaWduKHRoaXMuc2NhbGUueSkgfHwgMTtcblxuICAgICAgICB0aGlzLnNjYWxlLnkgPSBzICogdmFsdWUgLyB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgICAgICB0aGlzLl9oZWlnaHQgPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFuY2hvciBzZXRzIHRoZSBvcmlnaW4gcG9pbnQgb2YgdGhlIHRleHQuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRha2VuIGZyb20gdGhlIHtAbGluayBQSVhJLlRleHR1cmV8VGV4dHVyZX1cbiAgICAgKiBhbmQgcGFzc2VkIHRvIHRoZSBjb25zdHJ1Y3Rvci5cbiAgICAgKlxuICAgICAqIFRoZSBkZWZhdWx0IGlzIGAoMCwwKWAsIHRoaXMgbWVhbnMgdGhlIHRleHQncyBvcmlnaW4gaXMgdGhlIHRvcCBsZWZ0LlxuICAgICAqXG4gICAgICogU2V0dGluZyB0aGUgYW5jaG9yIHRvIGAoMC41LDAuNSlgIG1lYW5zIHRoZSB0ZXh0J3Mgb3JpZ2luIGlzIGNlbnRlcmVkLlxuICAgICAqXG4gICAgICogU2V0dGluZyB0aGUgYW5jaG9yIHRvIGAoMSwxKWAgd291bGQgbWVhbiB0aGUgdGV4dCdzIG9yaWdpbiBwb2ludCB3aWxsIGJlIHRoZSBib3R0b20gcmlnaHQgY29ybmVyLlxuICAgICAqXG4gICAgICogSWYgeW91IHBhc3Mgb25seSBzaW5nbGUgcGFyYW1ldGVyLCBpdCB3aWxsIHNldCBib3RoIHggYW5kIHkgdG8gdGhlIHNhbWUgdmFsdWUgYXMgc2hvd24gaW4gdGhlIGV4YW1wbGUgYmVsb3cuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAgICAgKiBzcHJpdGUuYW5jaG9yLnNldCgwLjUpOyAvLyBUaGlzIHdpbGwgc2V0IHRoZSBvcmlnaW4gdG8gY2VudGVyLiAoMC41KSBpcyBzYW1lIGFzICgwLjUsIDAuNSkuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYW5jaG9yLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fYW5jaG9yO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYW5jaG9yLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl9hbmNob3IuY29weUZyb20odmFsdWUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGludCBhcHBsaWVkIHRvIHRoZSBzcHJpdGUuIFRoaXMgaXMgYSBoZXggdmFsdWUuXG4gICAgICogQSB2YWx1ZSBvZiAweEZGRkZGRiB3aWxsIHJlbW92ZSBhbnkgdGludCBlZmZlY3QuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudGludC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RpbnQ7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy50aW50LnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl90aW50ID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX3RpbnRSR0IgPSAodmFsdWUgPj4gMTYpICsgKHZhbHVlICYgMHhmZjAwKSArICgodmFsdWUgJiAweGZmKSA8PCAxNik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0ZXh0dXJlIHRoYXQgdGhlIHNwcml0ZSBpcyB1c2luZ1xuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy50ZXh0dXJlLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGV4dHVyZTtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRleHR1cmUuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl90ZXh0dXJlID09PSB2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdGV4dHVyZSA9IHZhbHVlIHx8IFRleHR1cmUuRU1QVFk7XG4gICAgICAgIHRoaXMuX2NhY2hlZFRpbnQgPSAweEZGRkZGRjtcblxuICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSAtMTtcbiAgICAgICAgdGhpcy5fdGV4dHVyZVRyaW1tZWRJRCA9IC0xO1xuXG4gICAgICAgIGlmICh2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gd2FpdCBmb3IgdGhlIHRleHR1cmUgdG8gbG9hZFxuICAgICAgICAgICAgaWYgKHZhbHVlLmJhc2VUZXh0dXJlLnZhbGlkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX29uVGV4dHVyZVVwZGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhbHVlLm9uY2UoJ3VwZGF0ZScsIHRoaXMuX29uVGV4dHVyZVVwZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIFNwcml0ZS5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4gICAgcmV0dXJuIFNwcml0ZTtcbn0oQ29udGFpbmVyKSk7XG5cbmV4cG9ydCB7IFNwcml0ZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3ByaXRlLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS90ZXh0IC0gdjUuMS40XG4gKiBDb21waWxlZCBGcmksIDIwIFNlcCAyMDE5IDE3OjE3OjU5IFVUQ1xuICpcbiAqIEBwaXhpL3RleHQgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBTcHJpdGUgfSBmcm9tICdAcGl4aS9zcHJpdGUnO1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IGhleDJzdHJpbmcsIGhleDJyZ2IsIHN0cmluZzJoZXgsIHRyaW1DYW52YXMsIHNpZ24gfSBmcm9tICdAcGl4aS91dGlscyc7XG5cbi8qKlxuICogQ29uc3RhbnRzIHRoYXQgZGVmaW5lIHRoZSB0eXBlIG9mIGdyYWRpZW50IG9uIHRleHQuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbmFtZSBURVhUX0dSQURJRU5UXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FQVJfVkVSVElDQUwgVmVydGljYWwgZ3JhZGllbnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FQVJfSE9SSVpPTlRBTCBMaW5lYXIgZ3JhZGllbnRcbiAqL1xudmFyIFRFWFRfR1JBRElFTlQgPSB7XG4gICAgTElORUFSX1ZFUlRJQ0FMOiAwLFxuICAgIExJTkVBUl9IT1JJWk9OVEFMOiAxLFxufTtcblxuLy8gZGlzYWJsaW5nIGVzbGludCBmb3Igbm93LCBnb2luZyB0byByZXdyaXRlIHRoaXMgaW4gdjVcblxudmFyIGRlZmF1bHRTdHlsZSA9IHtcbiAgICBhbGlnbjogJ2xlZnQnLFxuICAgIGJyZWFrV29yZHM6IGZhbHNlLFxuICAgIGRyb3BTaGFkb3c6IGZhbHNlLFxuICAgIGRyb3BTaGFkb3dBbHBoYTogMSxcbiAgICBkcm9wU2hhZG93QW5nbGU6IE1hdGguUEkgLyA2LFxuICAgIGRyb3BTaGFkb3dCbHVyOiAwLFxuICAgIGRyb3BTaGFkb3dDb2xvcjogJ2JsYWNrJyxcbiAgICBkcm9wU2hhZG93RGlzdGFuY2U6IDUsXG4gICAgZmlsbDogJ2JsYWNrJyxcbiAgICBmaWxsR3JhZGllbnRUeXBlOiBURVhUX0dSQURJRU5ULkxJTkVBUl9WRVJUSUNBTCxcbiAgICBmaWxsR3JhZGllbnRTdG9wczogW10sXG4gICAgZm9udEZhbWlseTogJ0FyaWFsJyxcbiAgICBmb250U2l6ZTogMjYsXG4gICAgZm9udFN0eWxlOiAnbm9ybWFsJyxcbiAgICBmb250VmFyaWFudDogJ25vcm1hbCcsXG4gICAgZm9udFdlaWdodDogJ25vcm1hbCcsXG4gICAgbGV0dGVyU3BhY2luZzogMCxcbiAgICBsaW5lSGVpZ2h0OiAwLFxuICAgIGxpbmVKb2luOiAnbWl0ZXInLFxuICAgIG1pdGVyTGltaXQ6IDEwLFxuICAgIHBhZGRpbmc6IDAsXG4gICAgc3Ryb2tlOiAnYmxhY2snLFxuICAgIHN0cm9rZVRoaWNrbmVzczogMCxcbiAgICB0ZXh0QmFzZWxpbmU6ICdhbHBoYWJldGljJyxcbiAgICB0cmltOiBmYWxzZSxcbiAgICB3aGl0ZVNwYWNlOiAncHJlJyxcbiAgICB3b3JkV3JhcDogZmFsc2UsXG4gICAgd29yZFdyYXBXaWR0aDogMTAwLFxuICAgIGxlYWRpbmc6IDAsXG59O1xuXG52YXIgZ2VuZXJpY0ZvbnRGYW1pbGllcyA9IFtcbiAgICAnc2VyaWYnLFxuICAgICdzYW5zLXNlcmlmJyxcbiAgICAnbW9ub3NwYWNlJyxcbiAgICAnY3Vyc2l2ZScsXG4gICAgJ2ZhbnRhc3knLFxuICAgICdzeXN0ZW0tdWknIF07XG5cbi8qKlxuICogQSBUZXh0U3R5bGUgT2JqZWN0IGNvbnRhaW5zIGluZm9ybWF0aW9uIHRvIGRlY29yYXRlIGEgVGV4dCBvYmplY3RzLlxuICpcbiAqIEFuIGluc3RhbmNlIGNhbiBiZSBzaGFyZWQgYmV0d2VlbiBtdWx0aXBsZSBUZXh0IG9iamVjdHM7IHRoZW4gY2hhbmdpbmcgdGhlIHN0eWxlIHdpbGwgdXBkYXRlIGFsbCB0ZXh0IG9iamVjdHMgdXNpbmcgaXQuXG4gKlxuICogQSB0b29sIGNhbiBiZSB1c2VkIHRvIGdlbmVyYXRlIGEgdGV4dCBzdHlsZSBbaGVyZV0oaHR0cHM6Ly9waXhpanMuaW8vcGl4aS10ZXh0LXN0eWxlKS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUZXh0U3R5bGUgPSBmdW5jdGlvbiBUZXh0U3R5bGUoc3R5bGUpXG57XG4gICAgdGhpcy5zdHlsZUlEID0gMDtcblxuICAgIHRoaXMucmVzZXQoKTtcblxuICAgIGRlZXBDb3B5UHJvcGVydGllcyh0aGlzLCBzdHlsZSwgc3R5bGUpO1xufTtcblxudmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgYWxpZ246IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sYnJlYWtXb3JkczogeyBjb25maWd1cmFibGU6IHRydWUgfSxkcm9wU2hhZG93OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGRyb3BTaGFkb3dBbHBoYTogeyBjb25maWd1cmFibGU6IHRydWUgfSxkcm9wU2hhZG93QW5nbGU6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sZHJvcFNoYWRvd0JsdXI6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sZHJvcFNoYWRvd0NvbG9yOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGRyb3BTaGFkb3dEaXN0YW5jZTogeyBjb25maWd1cmFibGU6IHRydWUgfSxmaWxsOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGZpbGxHcmFkaWVudFR5cGU6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sZmlsbEdyYWRpZW50U3RvcHM6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sZm9udEZhbWlseTogeyBjb25maWd1cmFibGU6IHRydWUgfSxmb250U2l6ZTogeyBjb25maWd1cmFibGU6IHRydWUgfSxmb250U3R5bGU6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sZm9udFZhcmlhbnQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sZm9udFdlaWdodDogeyBjb25maWd1cmFibGU6IHRydWUgfSxsZXR0ZXJTcGFjaW5nOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGxpbmVIZWlnaHQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sbGVhZGluZzogeyBjb25maWd1cmFibGU6IHRydWUgfSxsaW5lSm9pbjogeyBjb25maWd1cmFibGU6IHRydWUgfSxtaXRlckxpbWl0OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHBhZGRpbmc6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sc3Ryb2tlOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHN0cm9rZVRoaWNrbmVzczogeyBjb25maWd1cmFibGU6IHRydWUgfSx0ZXh0QmFzZWxpbmU6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sdHJpbTogeyBjb25maWd1cmFibGU6IHRydWUgfSx3aGl0ZVNwYWNlOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHdvcmRXcmFwOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHdvcmRXcmFwV2lkdGg6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IFRleHRTdHlsZSBvYmplY3Qgd2l0aCB0aGUgc2FtZSB2YWx1ZXMgYXMgdGhpcyBvbmUuXG4gKiBOb3RlIHRoYXQgdGhlIG9ubHkgdGhlIHByb3BlcnRpZXMgb2YgdGhlIG9iamVjdCBhcmUgY2xvbmVkLlxuICpcbiAqIEByZXR1cm4ge1BJWEkuVGV4dFN0eWxlfSBOZXcgY2xvbmVkIFRleHRTdHlsZSBvYmplY3RcbiAqL1xuVGV4dFN0eWxlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIGNsb25lICgpXG57XG4gICAgdmFyIGNsb25lZFByb3BlcnRpZXMgPSB7fTtcblxuICAgIGRlZXBDb3B5UHJvcGVydGllcyhjbG9uZWRQcm9wZXJ0aWVzLCB0aGlzLCBkZWZhdWx0U3R5bGUpO1xuXG4gICAgcmV0dXJuIG5ldyBUZXh0U3R5bGUoY2xvbmVkUHJvcGVydGllcyk7XG59O1xuXG4vKipcbiAqIFJlc2V0cyBhbGwgcHJvcGVydGllcyB0byB0aGUgZGVmYXVsdHMgc3BlY2lmaWVkIGluIFRleHRTdHlsZS5wcm90b3R5cGUuX2RlZmF1bHRcbiAqL1xuVGV4dFN0eWxlLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0ICgpXG57XG4gICAgZGVlcENvcHlQcm9wZXJ0aWVzKHRoaXMsIGRlZmF1bHRTdHlsZSwgZGVmYXVsdFN0eWxlKTtcbn07XG5cbi8qKlxuICogQWxpZ25tZW50IGZvciBtdWx0aWxpbmUgdGV4dCAoJ2xlZnQnLCAnY2VudGVyJyBvciAncmlnaHQnKSwgZG9lcyBub3QgYWZmZWN0IHNpbmdsZSBsaW5lIHRleHRcbiAqXG4gKiBAbWVtYmVyIHtzdHJpbmd9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5hbGlnbi5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9hbGlnbjtcbn07XG5wcm90b3R5cGVBY2Nlc3NvcnMuYWxpZ24uc2V0ID0gZnVuY3Rpb24gKGFsaWduKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fYWxpZ24gIT09IGFsaWduKVxuICAgIHtcbiAgICAgICAgdGhpcy5fYWxpZ24gPSBhbGlnbjtcbiAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxufTtcblxuLyoqXG4gKiBJbmRpY2F0ZXMgaWYgbGluZXMgY2FuIGJlIHdyYXBwZWQgd2l0aGluIHdvcmRzLCBpdCBuZWVkcyB3b3JkV3JhcCB0byBiZSBzZXQgdG8gdHJ1ZVxuICpcbiAqIEBtZW1iZXIge2Jvb2xlYW59XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5icmVha1dvcmRzLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX2JyZWFrV29yZHM7XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLmJyZWFrV29yZHMuc2V0ID0gZnVuY3Rpb24gKGJyZWFrV29yZHMpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIGlmICh0aGlzLl9icmVha1dvcmRzICE9PSBicmVha1dvcmRzKVxuICAgIHtcbiAgICAgICAgdGhpcy5fYnJlYWtXb3JkcyA9IGJyZWFrV29yZHM7XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogU2V0IGEgZHJvcCBzaGFkb3cgZm9yIHRoZSB0ZXh0XG4gKlxuICogQG1lbWJlciB7Ym9vbGVhbn1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLmRyb3BTaGFkb3cuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvdztcbn07XG5wcm90b3R5cGVBY2Nlc3NvcnMuZHJvcFNoYWRvdy5zZXQgPSBmdW5jdGlvbiAoZHJvcFNoYWRvdykgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKHRoaXMuX2Ryb3BTaGFkb3cgIT09IGRyb3BTaGFkb3cpXG4gICAge1xuICAgICAgICB0aGlzLl9kcm9wU2hhZG93ID0gZHJvcFNoYWRvdztcbiAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxufTtcblxuLyoqXG4gKiBTZXQgYWxwaGEgZm9yIHRoZSBkcm9wIHNoYWRvd1xuICpcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLmRyb3BTaGFkb3dBbHBoYS5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93QWxwaGE7XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLmRyb3BTaGFkb3dBbHBoYS5zZXQgPSBmdW5jdGlvbiAoZHJvcFNoYWRvd0FscGhhKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fZHJvcFNoYWRvd0FscGhhICE9PSBkcm9wU2hhZG93QWxwaGEpXG4gICAge1xuICAgICAgICB0aGlzLl9kcm9wU2hhZG93QWxwaGEgPSBkcm9wU2hhZG93QWxwaGE7XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogU2V0IGEgYW5nbGUgb2YgdGhlIGRyb3Agc2hhZG93XG4gKlxuICogQG1lbWJlciB7bnVtYmVyfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMuZHJvcFNoYWRvd0FuZ2xlLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3dBbmdsZTtcbn07XG5wcm90b3R5cGVBY2Nlc3NvcnMuZHJvcFNoYWRvd0FuZ2xlLnNldCA9IGZ1bmN0aW9uIChkcm9wU2hhZG93QW5nbGUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIGlmICh0aGlzLl9kcm9wU2hhZG93QW5nbGUgIT09IGRyb3BTaGFkb3dBbmdsZSlcbiAgICB7XG4gICAgICAgIHRoaXMuX2Ryb3BTaGFkb3dBbmdsZSA9IGRyb3BTaGFkb3dBbmdsZTtcbiAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxufTtcblxuLyoqXG4gKiBTZXQgYSBzaGFkb3cgYmx1ciByYWRpdXNcbiAqXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5kcm9wU2hhZG93Qmx1ci5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93Qmx1cjtcbn07XG5wcm90b3R5cGVBY2Nlc3NvcnMuZHJvcFNoYWRvd0JsdXIuc2V0ID0gZnVuY3Rpb24gKGRyb3BTaGFkb3dCbHVyKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fZHJvcFNoYWRvd0JsdXIgIT09IGRyb3BTaGFkb3dCbHVyKVxuICAgIHtcbiAgICAgICAgdGhpcy5fZHJvcFNoYWRvd0JsdXIgPSBkcm9wU2hhZG93Qmx1cjtcbiAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxufTtcblxuLyoqXG4gKiBBIGZpbGwgc3R5bGUgdG8gYmUgdXNlZCBvbiB0aGUgZHJvcHNoYWRvdyBlLmcgJ3JlZCcsICcjMDBGRjAwJ1xuICpcbiAqIEBtZW1iZXIge3N0cmluZ3xudW1iZXJ9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5kcm9wU2hhZG93Q29sb3IuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0NvbG9yO1xufTtcbnByb3RvdHlwZUFjY2Vzc29ycy5kcm9wU2hhZG93Q29sb3Iuc2V0ID0gZnVuY3Rpb24gKGRyb3BTaGFkb3dDb2xvcikgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgdmFyIG91dHB1dENvbG9yID0gZ2V0Q29sb3IoZHJvcFNoYWRvd0NvbG9yKTtcbiAgICBpZiAodGhpcy5fZHJvcFNoYWRvd0NvbG9yICE9PSBvdXRwdXRDb2xvcilcbiAgICB7XG4gICAgICAgIHRoaXMuX2Ryb3BTaGFkb3dDb2xvciA9IG91dHB1dENvbG9yO1xuICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG59O1xuXG4vKipcbiAqIFNldCBhIGRpc3RhbmNlIG9mIHRoZSBkcm9wIHNoYWRvd1xuICpcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLmRyb3BTaGFkb3dEaXN0YW5jZS5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93RGlzdGFuY2U7XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLmRyb3BTaGFkb3dEaXN0YW5jZS5zZXQgPSBmdW5jdGlvbiAoZHJvcFNoYWRvd0Rpc3RhbmNlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fZHJvcFNoYWRvd0Rpc3RhbmNlICE9PSBkcm9wU2hhZG93RGlzdGFuY2UpXG4gICAge1xuICAgICAgICB0aGlzLl9kcm9wU2hhZG93RGlzdGFuY2UgPSBkcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogQSBjYW52YXMgZmlsbHN0eWxlIHRoYXQgd2lsbCBiZSB1c2VkIG9uIHRoZSB0ZXh0IGUuZyAncmVkJywgJyMwMEZGMDAnLlxuICogQ2FuIGJlIGFuIGFycmF5IHRvIGNyZWF0ZSBhIGdyYWRpZW50IGVnIFsnIzAwMDAwMCcsJyNGRkZGRkYnXVxuICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvZmlsbFN0eWxlfE1ETn1cbiAqXG4gKiBAbWVtYmVyIHtzdHJpbmd8c3RyaW5nW118bnVtYmVyfG51bWJlcltdfENhbnZhc0dyYWRpZW50fENhbnZhc1BhdHRlcm59XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5maWxsLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX2ZpbGw7XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLmZpbGwuc2V0ID0gZnVuY3Rpb24gKGZpbGwpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIHZhciBvdXRwdXRDb2xvciA9IGdldENvbG9yKGZpbGwpO1xuICAgIGlmICh0aGlzLl9maWxsICE9PSBvdXRwdXRDb2xvcilcbiAgICB7XG4gICAgICAgIHRoaXMuX2ZpbGwgPSBvdXRwdXRDb2xvcjtcbiAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxufTtcblxuLyoqXG4gKiBJZiBmaWxsIGlzIGFuIGFycmF5IG9mIGNvbG91cnMgdG8gY3JlYXRlIGEgZ3JhZGllbnQsIHRoaXMgY2FuIGNoYW5nZSB0aGUgdHlwZS9kaXJlY3Rpb24gb2YgdGhlIGdyYWRpZW50LlxuICogU2VlIHtAbGluayBQSVhJLlRFWFRfR1JBRElFTlR9XG4gKlxuICogQG1lbWJlciB7bnVtYmVyfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMuZmlsbEdyYWRpZW50VHlwZS5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9maWxsR3JhZGllbnRUeXBlO1xufTtcbnByb3RvdHlwZUFjY2Vzc29ycy5maWxsR3JhZGllbnRUeXBlLnNldCA9IGZ1bmN0aW9uIChmaWxsR3JhZGllbnRUeXBlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fZmlsbEdyYWRpZW50VHlwZSAhPT0gZmlsbEdyYWRpZW50VHlwZSlcbiAgICB7XG4gICAgICAgIHRoaXMuX2ZpbGxHcmFkaWVudFR5cGUgPSBmaWxsR3JhZGllbnRUeXBlO1xuICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG59O1xuXG4vKipcbiAqIElmIGZpbGwgaXMgYW4gYXJyYXkgb2YgY29sb3VycyB0byBjcmVhdGUgYSBncmFkaWVudCwgdGhpcyBhcnJheSBjYW4gc2V0IHRoZSBzdG9wIHBvaW50c1xuICogKG51bWJlcnMgYmV0d2VlbiAwIGFuZCAxKSBmb3IgdGhlIGNvbG9yLCBvdmVycmlkaW5nIHRoZSBkZWZhdWx0IGJlaGF2aW91ciBvZiBldmVubHkgc3BhY2luZyB0aGVtLlxuICpcbiAqIEBtZW1iZXIge251bWJlcltdfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMuZmlsbEdyYWRpZW50U3RvcHMuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fZmlsbEdyYWRpZW50U3RvcHM7XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLmZpbGxHcmFkaWVudFN0b3BzLnNldCA9IGZ1bmN0aW9uIChmaWxsR3JhZGllbnRTdG9wcykgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKCFhcmVBcnJheXNFcXVhbCh0aGlzLl9maWxsR3JhZGllbnRTdG9wcyxmaWxsR3JhZGllbnRTdG9wcykpXG4gICAge1xuICAgICAgICB0aGlzLl9maWxsR3JhZGllbnRTdG9wcyA9IGZpbGxHcmFkaWVudFN0b3BzO1xuICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG59O1xuXG4vKipcbiAqIFRoZSBmb250IGZhbWlseVxuICpcbiAqIEBtZW1iZXIge3N0cmluZ3xzdHJpbmdbXX1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLmZvbnRGYW1pbHkuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fZm9udEZhbWlseTtcbn07XG5wcm90b3R5cGVBY2Nlc3NvcnMuZm9udEZhbWlseS5zZXQgPSBmdW5jdGlvbiAoZm9udEZhbWlseSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKHRoaXMuZm9udEZhbWlseSAhPT0gZm9udEZhbWlseSlcbiAgICB7XG4gICAgICAgIHRoaXMuX2ZvbnRGYW1pbHkgPSBmb250RmFtaWx5O1xuICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG59O1xuXG4vKipcbiAqIFRoZSBmb250IHNpemVcbiAqIChhcyBhIG51bWJlciBpdCBjb252ZXJ0cyB0byBweCwgYnV0IGFzIGEgc3RyaW5nLCBlcXVpdmFsZW50cyBhcmUgJzI2cHgnLCcyMHB0JywnMTYwJScgb3IgJzEuNmVtJylcbiAqXG4gKiBAbWVtYmVyIHtudW1iZXJ8c3RyaW5nfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMuZm9udFNpemUuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fZm9udFNpemU7XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLmZvbnRTaXplLnNldCA9IGZ1bmN0aW9uIChmb250U2l6ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKHRoaXMuX2ZvbnRTaXplICE9PSBmb250U2l6ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuX2ZvbnRTaXplID0gZm9udFNpemU7XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogVGhlIGZvbnQgc3R5bGVcbiAqICgnbm9ybWFsJywgJ2l0YWxpYycgb3IgJ29ibGlxdWUnKVxuICpcbiAqIEBtZW1iZXIge3N0cmluZ31cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLmZvbnRTdHlsZS5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9mb250U3R5bGU7XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLmZvbnRTdHlsZS5zZXQgPSBmdW5jdGlvbiAoZm9udFN0eWxlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fZm9udFN0eWxlICE9PSBmb250U3R5bGUpXG4gICAge1xuICAgICAgICB0aGlzLl9mb250U3R5bGUgPSBmb250U3R5bGU7XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogVGhlIGZvbnQgdmFyaWFudFxuICogKCdub3JtYWwnIG9yICdzbWFsbC1jYXBzJylcbiAqXG4gKiBAbWVtYmVyIHtzdHJpbmd9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5mb250VmFyaWFudC5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9mb250VmFyaWFudDtcbn07XG5wcm90b3R5cGVBY2Nlc3NvcnMuZm9udFZhcmlhbnQuc2V0ID0gZnVuY3Rpb24gKGZvbnRWYXJpYW50KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fZm9udFZhcmlhbnQgIT09IGZvbnRWYXJpYW50KVxuICAgIHtcbiAgICAgICAgdGhpcy5fZm9udFZhcmlhbnQgPSBmb250VmFyaWFudDtcbiAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxufTtcblxuLyoqXG4gKiBUaGUgZm9udCB3ZWlnaHRcbiAqICgnbm9ybWFsJywgJ2JvbGQnLCAnYm9sZGVyJywgJ2xpZ2h0ZXInIGFuZCAnMTAwJywgJzIwMCcsICczMDAnLCAnNDAwJywgJzUwMCcsICc2MDAnLCAnNzAwJywgODAwJyBvciAnOTAwJylcbiAqXG4gKiBAbWVtYmVyIHtzdHJpbmd9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5mb250V2VpZ2h0LmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX2ZvbnRXZWlnaHQ7XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLmZvbnRXZWlnaHQuc2V0ID0gZnVuY3Rpb24gKGZvbnRXZWlnaHQpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIGlmICh0aGlzLl9mb250V2VpZ2h0ICE9PSBmb250V2VpZ2h0KVxuICAgIHtcbiAgICAgICAgdGhpcy5fZm9udFdlaWdodCA9IGZvbnRXZWlnaHQ7XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogVGhlIGFtb3VudCBvZiBzcGFjaW5nIGJldHdlZW4gbGV0dGVycywgZGVmYXVsdCBpcyAwXG4gKlxuICogQG1lbWJlciB7bnVtYmVyfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMubGV0dGVyU3BhY2luZy5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9sZXR0ZXJTcGFjaW5nO1xufTtcbnByb3RvdHlwZUFjY2Vzc29ycy5sZXR0ZXJTcGFjaW5nLnNldCA9IGZ1bmN0aW9uIChsZXR0ZXJTcGFjaW5nKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fbGV0dGVyU3BhY2luZyAhPT0gbGV0dGVyU3BhY2luZylcbiAgICB7XG4gICAgICAgIHRoaXMuX2xldHRlclNwYWNpbmcgPSBsZXR0ZXJTcGFjaW5nO1xuICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG59O1xuXG4vKipcbiAqIFRoZSBsaW5lIGhlaWdodCwgYSBudW1iZXIgdGhhdCByZXByZXNlbnRzIHRoZSB2ZXJ0aWNhbCBzcGFjZSB0aGF0IGEgbGV0dGVyIHVzZXNcbiAqXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5saW5lSGVpZ2h0LmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX2xpbmVIZWlnaHQ7XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLmxpbmVIZWlnaHQuc2V0ID0gZnVuY3Rpb24gKGxpbmVIZWlnaHQpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIGlmICh0aGlzLl9saW5lSGVpZ2h0ICE9PSBsaW5lSGVpZ2h0KVxuICAgIHtcbiAgICAgICAgdGhpcy5fbGluZUhlaWdodCA9IGxpbmVIZWlnaHQ7XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogVGhlIHNwYWNlIGJldHdlZW4gbGluZXNcbiAqXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5sZWFkaW5nLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX2xlYWRpbmc7XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLmxlYWRpbmcuc2V0ID0gZnVuY3Rpb24gKGxlYWRpbmcpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIGlmICh0aGlzLl9sZWFkaW5nICE9PSBsZWFkaW5nKVxuICAgIHtcbiAgICAgICAgdGhpcy5fbGVhZGluZyA9IGxlYWRpbmc7XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogVGhlIGxpbmVKb2luIHByb3BlcnR5IHNldHMgdGhlIHR5cGUgb2YgY29ybmVyIGNyZWF0ZWQsIGl0IGNhbiByZXNvbHZlIHNwaWtlZCB0ZXh0IGlzc3Vlcy5cbiAqIERlZmF1bHQgaXMgJ21pdGVyJyAoY3JlYXRlcyBhIHNoYXJwIGNvcm5lcikuXG4gKlxuICogQG1lbWJlciB7c3RyaW5nfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMubGluZUpvaW4uZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fbGluZUpvaW47XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLmxpbmVKb2luLnNldCA9IGZ1bmN0aW9uIChsaW5lSm9pbikgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKHRoaXMuX2xpbmVKb2luICE9PSBsaW5lSm9pbilcbiAgICB7XG4gICAgICAgIHRoaXMuX2xpbmVKb2luID0gbGluZUpvaW47XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogVGhlIG1pdGVyIGxpbWl0IHRvIHVzZSB3aGVuIHVzaW5nIHRoZSAnbWl0ZXInIGxpbmVKb2luIG1vZGVcbiAqIFRoaXMgY2FuIHJlZHVjZSBvciBpbmNyZWFzZSB0aGUgc3Bpa2luZXNzIG9mIHJlbmRlcmVkIHRleHQuXG4gKlxuICogQG1lbWJlciB7bnVtYmVyfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMubWl0ZXJMaW1pdC5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9taXRlckxpbWl0O1xufTtcbnByb3RvdHlwZUFjY2Vzc29ycy5taXRlckxpbWl0LnNldCA9IGZ1bmN0aW9uIChtaXRlckxpbWl0KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fbWl0ZXJMaW1pdCAhPT0gbWl0ZXJMaW1pdClcbiAgICB7XG4gICAgICAgIHRoaXMuX21pdGVyTGltaXQgPSBtaXRlckxpbWl0O1xuICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG59O1xuXG4vKipcbiAqIE9jY2FzaW9uYWxseSBzb21lIGZvbnRzIGFyZSBjcm9wcGVkLiBBZGRpbmcgc29tZSBwYWRkaW5nIHdpbGwgcHJldmVudCB0aGlzIGZyb20gaGFwcGVuaW5nXG4gKiBieSBhZGRpbmcgcGFkZGluZyB0byBhbGwgc2lkZXMgb2YgdGhlIHRleHQuXG4gKlxuICogQG1lbWJlciB7bnVtYmVyfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMucGFkZGluZy5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9wYWRkaW5nO1xufTtcbnByb3RvdHlwZUFjY2Vzc29ycy5wYWRkaW5nLnNldCA9IGZ1bmN0aW9uIChwYWRkaW5nKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fcGFkZGluZyAhPT0gcGFkZGluZylcbiAgICB7XG4gICAgICAgIHRoaXMuX3BhZGRpbmcgPSBwYWRkaW5nO1xuICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG59O1xuXG4vKipcbiAqIEEgY2FudmFzIGZpbGxzdHlsZSB0aGF0IHdpbGwgYmUgdXNlZCBvbiB0aGUgdGV4dCBzdHJva2VcbiAqIGUuZyAnYmx1ZScsICcjRkNGRjAwJ1xuICpcbiAqIEBtZW1iZXIge3N0cmluZ3xudW1iZXJ9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5zdHJva2UuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fc3Ryb2tlO1xufTtcbnByb3RvdHlwZUFjY2Vzc29ycy5zdHJva2Uuc2V0ID0gZnVuY3Rpb24gKHN0cm9rZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgdmFyIG91dHB1dENvbG9yID0gZ2V0Q29sb3Ioc3Ryb2tlKTtcbiAgICBpZiAodGhpcy5fc3Ryb2tlICE9PSBvdXRwdXRDb2xvcilcbiAgICB7XG4gICAgICAgIHRoaXMuX3N0cm9rZSA9IG91dHB1dENvbG9yO1xuICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG59O1xuXG4vKipcbiAqIEEgbnVtYmVyIHRoYXQgcmVwcmVzZW50cyB0aGUgdGhpY2tuZXNzIG9mIHRoZSBzdHJva2UuXG4gKiBEZWZhdWx0IGlzIDAgKG5vIHN0cm9rZSlcbiAqXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5zdHJva2VUaGlja25lc3MuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fc3Ryb2tlVGhpY2tuZXNzO1xufTtcbnByb3RvdHlwZUFjY2Vzc29ycy5zdHJva2VUaGlja25lc3Muc2V0ID0gZnVuY3Rpb24gKHN0cm9rZVRoaWNrbmVzcykgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKHRoaXMuX3N0cm9rZVRoaWNrbmVzcyAhPT0gc3Ryb2tlVGhpY2tuZXNzKVxuICAgIHtcbiAgICAgICAgdGhpcy5fc3Ryb2tlVGhpY2tuZXNzID0gc3Ryb2tlVGhpY2tuZXNzO1xuICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG59O1xuXG4vKipcbiAqIFRoZSBiYXNlbGluZSBvZiB0aGUgdGV4dCB0aGF0IGlzIHJlbmRlcmVkLlxuICpcbiAqIEBtZW1iZXIge3N0cmluZ31cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLnRleHRCYXNlbGluZS5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl90ZXh0QmFzZWxpbmU7XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLnRleHRCYXNlbGluZS5zZXQgPSBmdW5jdGlvbiAodGV4dEJhc2VsaW5lKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fdGV4dEJhc2VsaW5lICE9PSB0ZXh0QmFzZWxpbmUpXG4gICAge1xuICAgICAgICB0aGlzLl90ZXh0QmFzZWxpbmUgPSB0ZXh0QmFzZWxpbmU7XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogVHJpbSB0cmFuc3BhcmVudCBib3JkZXJzXG4gKlxuICogQG1lbWJlciB7Ym9vbGVhbn1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLnRyaW0uZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fdHJpbTtcbn07XG5wcm90b3R5cGVBY2Nlc3NvcnMudHJpbS5zZXQgPSBmdW5jdGlvbiAodHJpbSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKHRoaXMuX3RyaW0gIT09IHRyaW0pXG4gICAge1xuICAgICAgICB0aGlzLl90cmltID0gdHJpbTtcbiAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxufTtcblxuLyoqXG4gKiBIb3cgbmV3bGluZXMgYW5kIHNwYWNlcyBzaG91bGQgYmUgaGFuZGxlZC5cbiAqIERlZmF1bHQgaXMgJ3ByZScgKHByZXNlcnZlLCBwcmVzZXJ2ZSkuXG4gKlxuICogIHZhbHVlICAgfCBOZXcgbGluZXMgfCAgIFNwYWNlc1xuICogIC0tLSAgICAgfCAtLS0gICAgICAgfCAgIC0tLVxuICogJ25vcm1hbCcgfCBDb2xsYXBzZSAgfCAgIENvbGxhcHNlXG4gKiAncHJlJyAgICB8IFByZXNlcnZlICB8ICAgUHJlc2VydmVcbiAqICdwcmUtbGluZScgICB8IFByZXNlcnZlICB8ICAgQ29sbGFwc2VcbiAqXG4gKiBAbWVtYmVyIHtzdHJpbmd9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy53aGl0ZVNwYWNlLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX3doaXRlU3BhY2U7XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLndoaXRlU3BhY2Uuc2V0ID0gZnVuY3Rpb24gKHdoaXRlU3BhY2UpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIGlmICh0aGlzLl93aGl0ZVNwYWNlICE9PSB3aGl0ZVNwYWNlKVxuICAgIHtcbiAgICAgICAgdGhpcy5fd2hpdGVTcGFjZSA9IHdoaXRlU3BhY2U7XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogSW5kaWNhdGVzIGlmIHdvcmQgd3JhcCBzaG91bGQgYmUgdXNlZFxuICpcbiAqIEBtZW1iZXIge2Jvb2xlYW59XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy53b3JkV3JhcC5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl93b3JkV3JhcDtcbn07XG5wcm90b3R5cGVBY2Nlc3NvcnMud29yZFdyYXAuc2V0ID0gZnVuY3Rpb24gKHdvcmRXcmFwKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fd29yZFdyYXAgIT09IHdvcmRXcmFwKVxuICAgIHtcbiAgICAgICAgdGhpcy5fd29yZFdyYXAgPSB3b3JkV3JhcDtcbiAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxufTtcblxuLyoqXG4gKiBUaGUgd2lkdGggYXQgd2hpY2ggdGV4dCB3aWxsIHdyYXAsIGl0IG5lZWRzIHdvcmRXcmFwIHRvIGJlIHNldCB0byB0cnVlXG4gKlxuICogQG1lbWJlciB7bnVtYmVyfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMud29yZFdyYXBXaWR0aC5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl93b3JkV3JhcFdpZHRoO1xufTtcbnByb3RvdHlwZUFjY2Vzc29ycy53b3JkV3JhcFdpZHRoLnNldCA9IGZ1bmN0aW9uICh3b3JkV3JhcFdpZHRoKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fd29yZFdyYXBXaWR0aCAhPT0gd29yZFdyYXBXaWR0aClcbiAgICB7XG4gICAgICAgIHRoaXMuX3dvcmRXcmFwV2lkdGggPSB3b3JkV3JhcFdpZHRoO1xuICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG59O1xuXG4vKipcbiAqIEdlbmVyYXRlcyBhIGZvbnQgc3R5bGUgc3RyaW5nIHRvIHVzZSBmb3IgYFRleHRNZXRyaWNzLm1lYXN1cmVGb250KClgLlxuICpcbiAqIEByZXR1cm4ge3N0cmluZ30gRm9udCBzdHlsZSBzdHJpbmcsIGZvciBwYXNzaW5nIHRvIGBUZXh0TWV0cmljcy5tZWFzdXJlRm9udCgpYFxuICovXG5UZXh0U3R5bGUucHJvdG90eXBlLnRvRm9udFN0cmluZyA9IGZ1bmN0aW9uIHRvRm9udFN0cmluZyAoKVxue1xuICAgIC8vIGJ1aWxkIGNhbnZhcyBhcGkgZm9udCBzZXR0aW5nIGZyb20gaW5kaXZpZHVhbCBjb21wb25lbnRzLiBDb252ZXJ0IGEgbnVtZXJpYyB0aGlzLmZvbnRTaXplIHRvIHB4XG4gICAgdmFyIGZvbnRTaXplU3RyaW5nID0gKHR5cGVvZiB0aGlzLmZvbnRTaXplID09PSAnbnVtYmVyJykgPyAoKHRoaXMuZm9udFNpemUpICsgXCJweFwiKSA6IHRoaXMuZm9udFNpemU7XG5cbiAgICAvLyBDbGVhbi11cCBmb250RmFtaWx5IHByb3BlcnR5IGJ5IHF1b3RpbmcgZWFjaCBmb250IG5hbWVcbiAgICAvLyB0aGlzIHdpbGwgc3VwcG9ydCBmb250IG5hbWVzIHdpdGggc3BhY2VzXG4gICAgdmFyIGZvbnRGYW1pbGllcyA9IHRoaXMuZm9udEZhbWlseTtcblxuICAgIGlmICghQXJyYXkuaXNBcnJheSh0aGlzLmZvbnRGYW1pbHkpKVxuICAgIHtcbiAgICAgICAgZm9udEZhbWlsaWVzID0gdGhpcy5mb250RmFtaWx5LnNwbGl0KCcsJyk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IGZvbnRGYW1pbGllcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICB7XG4gICAgICAgIC8vIFRyaW0gYW55IGV4dHJhIHdoaXRlLXNwYWNlXG4gICAgICAgIHZhciBmb250RmFtaWx5ID0gZm9udEZhbWlsaWVzW2ldLnRyaW0oKTtcblxuICAgICAgICAvLyBDaGVjayBpZiBmb250IGFscmVhZHkgY29udGFpbnMgc3RyaW5nc1xuICAgICAgICBpZiAoISgvKFtcXFwiXFwnXSlbXlxcJ1xcXCJdK1xcMS8pLnRlc3QoZm9udEZhbWlseSkgJiYgZ2VuZXJpY0ZvbnRGYW1pbGllcy5pbmRleE9mKGZvbnRGYW1pbHkpIDwgMClcbiAgICAgICAge1xuICAgICAgICAgICAgZm9udEZhbWlseSA9IFwiXFxcIlwiICsgZm9udEZhbWlseSArIFwiXFxcIlwiO1xuICAgICAgICB9XG4gICAgICAgIGZvbnRGYW1pbGllc1tpXSA9IGZvbnRGYW1pbHk7XG4gICAgfVxuXG4gICAgcmV0dXJuICgodGhpcy5mb250U3R5bGUpICsgXCIgXCIgKyAodGhpcy5mb250VmFyaWFudCkgKyBcIiBcIiArICh0aGlzLmZvbnRXZWlnaHQpICsgXCIgXCIgKyBmb250U2l6ZVN0cmluZyArIFwiIFwiICsgKGZvbnRGYW1pbGllcy5qb2luKCcsJykpKTtcbn07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBUZXh0U3R5bGUucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuLyoqXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIHRvIGNvbnZlcnQgaGV4YWRlY2ltYWwgY29sb3JzIHRvIHN0cmluZ3MsIGFuZCBzaW1wbHkgcmV0dXJuIHRoZSBjb2xvciBpZiBpdCdzIGEgc3RyaW5nLlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfG51bWJlcltdfSBjb2xvclxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgY29sb3IgYXMgYSBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGdldFNpbmdsZUNvbG9yKGNvbG9yKVxue1xuICAgIGlmICh0eXBlb2YgY29sb3IgPT09ICdudW1iZXInKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGhleDJzdHJpbmcoY29sb3IpO1xuICAgIH1cbiAgICBlbHNlIGlmICggdHlwZW9mIGNvbG9yID09PSAnc3RyaW5nJyApXG4gICAge1xuICAgICAgICBpZiAoIGNvbG9yLmluZGV4T2YoJzB4JykgPT09IDAgKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb2xvciA9IGNvbG9yLnJlcGxhY2UoJzB4JywgJyMnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjb2xvcjtcbn1cblxuLyoqXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIHRvIGNvbnZlcnQgaGV4YWRlY2ltYWwgY29sb3JzIHRvIHN0cmluZ3MsIGFuZCBzaW1wbHkgcmV0dXJuIHRoZSBjb2xvciBpZiBpdCdzIGEgc3RyaW5nLlxuICogVGhpcyB2ZXJzaW9uIGNhbiBhbHNvIGNvbnZlcnQgYXJyYXkgb2YgY29sb3JzXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ8bnVtYmVyW119IGNvbG9yXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBjb2xvciBhcyBhIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gZ2V0Q29sb3IoY29sb3IpXG57XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGNvbG9yKSlcbiAgICB7XG4gICAgICAgIHJldHVybiBnZXRTaW5nbGVDb2xvcihjb2xvcik7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29sb3IubGVuZ3RoOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbG9yW2ldID0gZ2V0U2luZ2xlQ29sb3IoY29sb3JbaV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbG9yO1xuICAgIH1cbn1cblxuLyoqXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIHRvIGNvbnZlcnQgaGV4YWRlY2ltYWwgY29sb3JzIHRvIHN0cmluZ3MsIGFuZCBzaW1wbHkgcmV0dXJuIHRoZSBjb2xvciBpZiBpdCdzIGEgc3RyaW5nLlxuICogVGhpcyB2ZXJzaW9uIGNhbiBhbHNvIGNvbnZlcnQgYXJyYXkgb2YgY29sb3JzXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkxIEZpcnN0IGFycmF5IHRvIGNvbXBhcmVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5MiBTZWNvbmQgYXJyYXkgdG8gY29tcGFyZVxuICogQHJldHVybiB7Ym9vbGVhbn0gRG8gdGhlIGFycmF5cyBjb250YWluIHRoZSBzYW1lIHZhbHVlcyBpbiB0aGUgc2FtZSBvcmRlclxuICovXG5mdW5jdGlvbiBhcmVBcnJheXNFcXVhbChhcnJheTEsIGFycmF5MilcbntcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoYXJyYXkxKSB8fCAhQXJyYXkuaXNBcnJheShhcnJheTIpKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChhcnJheTEubGVuZ3RoICE9PSBhcnJheTIubGVuZ3RoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkxLmxlbmd0aDsgKytpKVxuICAgIHtcbiAgICAgICAgaWYgKGFycmF5MVtpXSAhPT0gYXJyYXkyW2ldKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIHRvIGVuc3VyZSB0aGF0IG9iamVjdCBwcm9wZXJ0aWVzIGFyZSBjb3BpZWQgYnkgdmFsdWUsIGFuZCBub3QgYnkgcmVmZXJlbmNlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldCBUYXJnZXQgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBpbnRvXG4gKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFNvdXJjZSBvYmplY3QgZm9yIHRoZSBwcm9wZXJ0aWVzIHRvIGNvcHlcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eU9iaiBPYmplY3QgY29udGFpbmluZyBwcm9wZXJ0aWVzIG5hbWVzIHdlIHdhbnQgdG8gbG9vcCBvdmVyXG4gKi9cbmZ1bmN0aW9uIGRlZXBDb3B5UHJvcGVydGllcyh0YXJnZXQsIHNvdXJjZSwgcHJvcGVydHlPYmopIHtcbiAgICBmb3IgKHZhciBwcm9wIGluIHByb3BlcnR5T2JqKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNvdXJjZVtwcm9wXSkpIHtcbiAgICAgICAgICAgIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXS5zbGljZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBUZXh0TWV0cmljcyBvYmplY3QgcmVwcmVzZW50cyB0aGUgbWVhc3VyZW1lbnQgb2YgYSBibG9jayBvZiB0ZXh0IHdpdGggYSBzcGVjaWZpZWQgc3R5bGUuXG4gKlxuICogYGBganNcbiAqIGxldCBzdHlsZSA9IG5ldyBQSVhJLlRleHRTdHlsZSh7Zm9udEZhbWlseSA6ICdBcmlhbCcsIGZvbnRTaXplOiAyNCwgZmlsbCA6IDB4ZmYxMDEwLCBhbGlnbiA6ICdjZW50ZXInfSlcbiAqIGxldCB0ZXh0TWV0cmljcyA9IFBJWEkuVGV4dE1ldHJpY3MubWVhc3VyZVRleHQoJ1lvdXIgdGV4dCcsIHN0eWxlKVxuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGV4dE1ldHJpY3MgPSBmdW5jdGlvbiBUZXh0TWV0cmljcyh0ZXh0LCBzdHlsZSwgd2lkdGgsIGhlaWdodCwgbGluZXMsIGxpbmVXaWR0aHMsIGxpbmVIZWlnaHQsIG1heExpbmVXaWR0aCwgZm9udFByb3BlcnRpZXMpXG57XG4gICAgLyoqXG4gICAgICogVGhlIHRleHQgdGhhdCB3YXMgbWVhc3VyZWRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLnRleHQgPSB0ZXh0O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHN0eWxlIHRoYXQgd2FzIG1lYXN1cmVkXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHRTdHlsZX1cbiAgICAgKi9cbiAgICB0aGlzLnN0eWxlID0gc3R5bGU7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbWVhc3VyZWQgd2lkdGggb2YgdGhlIHRleHRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbWVhc3VyZWQgaGVpZ2h0IG9mIHRoZSB0ZXh0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAvKipcbiAgICAgKiBBbiBhcnJheSBvZiBsaW5lcyBvZiB0aGUgdGV4dCBicm9rZW4gYnkgbmV3IGxpbmVzIGFuZCB3cmFwcGluZyBpcyBzcGVjaWZpZWQgaW4gc3R5bGVcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ1tdfVxuICAgICAqL1xuICAgIHRoaXMubGluZXMgPSBsaW5lcztcblxuICAgIC8qKlxuICAgICAqIEFuIGFycmF5IG9mIHRoZSBsaW5lIHdpZHRocyBmb3IgZWFjaCBsaW5lIG1hdGNoZWQgdG8gYGxpbmVzYFxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICovXG4gICAgdGhpcy5saW5lV2lkdGhzID0gbGluZVdpZHRocztcblxuICAgIC8qKlxuICAgICAqIFRoZSBtZWFzdXJlZCBsaW5lIGhlaWdodCBmb3IgdGhpcyBzdHlsZVxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubGluZUhlaWdodCA9IGxpbmVIZWlnaHQ7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbWF4aW11bSBsaW5lIHdpZHRoIGZvciBhbGwgbWVhc3VyZWQgbGluZXNcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLm1heExpbmVXaWR0aCA9IG1heExpbmVXaWR0aDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBmb250IHByb3BlcnRpZXMgb2JqZWN0IGZyb20gVGV4dE1ldHJpY3MubWVhc3VyZUZvbnRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuSUZvbnRNZXRyaWNzfVxuICAgICAqL1xuICAgIHRoaXMuZm9udFByb3BlcnRpZXMgPSBmb250UHJvcGVydGllcztcbn07XG5cbi8qKlxuICogTWVhc3VyZXMgdGhlIHN1cHBsaWVkIHN0cmluZyBvZiB0ZXh0IGFuZCByZXR1cm5zIGEgUmVjdGFuZ2xlLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gdGhlIHRleHQgdG8gbWVhc3VyZS5cbiAqIEBwYXJhbSB7UElYSS5UZXh0U3R5bGV9IHN0eWxlIC0gdGhlIHRleHQgc3R5bGUgdG8gdXNlIGZvciBtZWFzdXJpbmdcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3dvcmRXcmFwXSAtIG9wdGlvbmFsIG92ZXJyaWRlIGZvciBpZiB3b3JkLXdyYXAgc2hvdWxkIGJlIGFwcGxpZWQgdG8gdGhlIHRleHQuXG4gKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbY2FudmFzXSAtIG9wdGlvbmFsIHNwZWNpZmljYXRpb24gb2YgdGhlIGNhbnZhcyB0byB1c2UgZm9yIG1lYXN1cmluZy5cbiAqIEByZXR1cm4ge1BJWEkuVGV4dE1ldHJpY3N9IG1lYXN1cmVkIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIHRleHQuXG4gKi9cblRleHRNZXRyaWNzLm1lYXN1cmVUZXh0ID0gZnVuY3Rpb24gbWVhc3VyZVRleHQgKHRleHQsIHN0eWxlLCB3b3JkV3JhcCwgY2FudmFzKVxue1xuICAgICAgICBpZiAoIGNhbnZhcyA9PT0gdm9pZCAwICkgY2FudmFzID0gVGV4dE1ldHJpY3MuX2NhbnZhcztcblxuICAgIHdvcmRXcmFwID0gKHdvcmRXcmFwID09PSB1bmRlZmluZWQgfHwgd29yZFdyYXAgPT09IG51bGwpID8gc3R5bGUud29yZFdyYXAgOiB3b3JkV3JhcDtcbiAgICB2YXIgZm9udCA9IHN0eWxlLnRvRm9udFN0cmluZygpO1xuICAgIHZhciBmb250UHJvcGVydGllcyA9IFRleHRNZXRyaWNzLm1lYXN1cmVGb250KGZvbnQpO1xuXG4gICAgLy8gZmFsbGJhY2sgaW4gY2FzZSBVQSBkaXNhbGxvdyBjYW52YXMgZGF0YSBleHRyYWN0aW9uXG4gICAgLy8gKHRvRGF0YVVSSSwgZ2V0SW1hZ2VEYXRhIGZ1bmN0aW9ucylcbiAgICBpZiAoZm9udFByb3BlcnRpZXMuZm9udFNpemUgPT09IDApXG4gICAge1xuICAgICAgICBmb250UHJvcGVydGllcy5mb250U2l6ZSA9IHN0eWxlLmZvbnRTaXplO1xuICAgICAgICBmb250UHJvcGVydGllcy5hc2NlbnQgPSBzdHlsZS5mb250U2l6ZTtcbiAgICB9XG5cbiAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgY29udGV4dC5mb250ID0gZm9udDtcblxuICAgIHZhciBvdXRwdXRUZXh0ID0gd29yZFdyYXAgPyBUZXh0TWV0cmljcy53b3JkV3JhcCh0ZXh0LCBzdHlsZSwgY2FudmFzKSA6IHRleHQ7XG4gICAgdmFyIGxpbmVzID0gb3V0cHV0VGV4dC5zcGxpdCgvKD86XFxyXFxufFxccnxcXG4pLyk7XG4gICAgdmFyIGxpbmVXaWR0aHMgPSBuZXcgQXJyYXkobGluZXMubGVuZ3RoKTtcbiAgICB2YXIgbWF4TGluZVdpZHRoID0gMDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgICB2YXIgbGluZVdpZHRoID0gY29udGV4dC5tZWFzdXJlVGV4dChsaW5lc1tpXSkud2lkdGggKyAoKGxpbmVzW2ldLmxlbmd0aCAtIDEpICogc3R5bGUubGV0dGVyU3BhY2luZyk7XG5cbiAgICAgICAgbGluZVdpZHRoc1tpXSA9IGxpbmVXaWR0aDtcbiAgICAgICAgbWF4TGluZVdpZHRoID0gTWF0aC5tYXgobWF4TGluZVdpZHRoLCBsaW5lV2lkdGgpO1xuICAgIH1cbiAgICB2YXIgd2lkdGggPSBtYXhMaW5lV2lkdGggKyBzdHlsZS5zdHJva2VUaGlja25lc3M7XG5cbiAgICBpZiAoc3R5bGUuZHJvcFNoYWRvdylcbiAgICB7XG4gICAgICAgIHdpZHRoICs9IHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZTtcbiAgICB9XG5cbiAgICB2YXIgbGluZUhlaWdodCA9IHN0eWxlLmxpbmVIZWlnaHQgfHwgZm9udFByb3BlcnRpZXMuZm9udFNpemUgKyBzdHlsZS5zdHJva2VUaGlja25lc3M7XG4gICAgdmFyIGhlaWdodCA9IE1hdGgubWF4KGxpbmVIZWlnaHQsIGZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplICsgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzKVxuICAgICAgICArICgobGluZXMubGVuZ3RoIC0gMSkgKiAobGluZUhlaWdodCArIHN0eWxlLmxlYWRpbmcpKTtcblxuICAgIGlmIChzdHlsZS5kcm9wU2hhZG93KVxuICAgIHtcbiAgICAgICAgaGVpZ2h0ICs9IHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFRleHRNZXRyaWNzKFxuICAgICAgICB0ZXh0LFxuICAgICAgICBzdHlsZSxcbiAgICAgICAgd2lkdGgsXG4gICAgICAgIGhlaWdodCxcbiAgICAgICAgbGluZXMsXG4gICAgICAgIGxpbmVXaWR0aHMsXG4gICAgICAgIGxpbmVIZWlnaHQgKyBzdHlsZS5sZWFkaW5nLFxuICAgICAgICBtYXhMaW5lV2lkdGgsXG4gICAgICAgIGZvbnRQcm9wZXJ0aWVzXG4gICAgKTtcbn07XG5cbi8qKlxuICogQXBwbGllcyBuZXdsaW5lcyB0byBhIHN0cmluZyB0byBoYXZlIGl0IG9wdGltYWxseSBmaXQgaW50byB0aGUgaG9yaXpvbnRhbFxuICogYm91bmRzIHNldCBieSB0aGUgVGV4dCBvYmplY3QncyB3b3JkV3JhcFdpZHRoIHByb3BlcnR5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIFN0cmluZyB0byBhcHBseSB3b3JkIHdyYXBwaW5nIHRvXG4gKiBAcGFyYW0ge1BJWEkuVGV4dFN0eWxlfSBzdHlsZSAtIHRoZSBzdHlsZSB0byB1c2Ugd2hlbiB3cmFwcGluZ1xuICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW2NhbnZhc10gLSBvcHRpb25hbCBzcGVjaWZpY2F0aW9uIG9mIHRoZSBjYW52YXMgdG8gdXNlIGZvciBtZWFzdXJpbmcuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IE5ldyBzdHJpbmcgd2l0aCBuZXcgbGluZXMgYXBwbGllZCB3aGVyZSByZXF1aXJlZFxuICovXG5UZXh0TWV0cmljcy53b3JkV3JhcCA9IGZ1bmN0aW9uIHdvcmRXcmFwICh0ZXh0LCBzdHlsZSwgY2FudmFzKVxue1xuICAgICAgICBpZiAoIGNhbnZhcyA9PT0gdm9pZCAwICkgY2FudmFzID0gVGV4dE1ldHJpY3MuX2NhbnZhcztcblxuICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICB2YXIgd2lkdGggPSAwO1xuICAgIHZhciBsaW5lID0gJyc7XG4gICAgdmFyIGxpbmVzID0gJyc7XG5cbiAgICB2YXIgY2FjaGUgPSB7fTtcbiAgICB2YXIgbGV0dGVyU3BhY2luZyA9IHN0eWxlLmxldHRlclNwYWNpbmc7XG4gICAgICAgIHZhciB3aGl0ZVNwYWNlID0gc3R5bGUud2hpdGVTcGFjZTtcblxuICAgIC8vIEhvdyB0byBoYW5kbGUgd2hpdGVzcGFjZXNcbiAgICB2YXIgY29sbGFwc2VTcGFjZXMgPSBUZXh0TWV0cmljcy5jb2xsYXBzZVNwYWNlcyh3aGl0ZVNwYWNlKTtcbiAgICB2YXIgY29sbGFwc2VOZXdsaW5lcyA9IFRleHRNZXRyaWNzLmNvbGxhcHNlTmV3bGluZXMod2hpdGVTcGFjZSk7XG5cbiAgICAvLyB3aGV0aGVyIG9yIG5vdCBzcGFjZXMgbWF5IGJlIGFkZGVkIHRvIHRoZSBiZWdpbm5pbmcgb2YgbGluZXNcbiAgICB2YXIgY2FuUHJlcGVuZFNwYWNlcyA9ICFjb2xsYXBzZVNwYWNlcztcblxuICAgIC8vIFRoZXJlIGlzIGxldHRlclNwYWNpbmcgYWZ0ZXIgZXZlcnkgY2hhciBleGNlcHQgdGhlIGxhc3Qgb25lXG4gICAgLy8gdF9oX2lfc18nICdfaV9zXycgJ19hX25fJyAnX2VfeF9hX21fcF9sX2VfJyAnXyFcbiAgICAvLyBzbyBmb3IgY29udmVuaWVuY2UgdGhlIGFib3ZlIG5lZWRzIHRvIGJlIGNvbXBhcmVkIHRvIHdpZHRoICsgMSBleHRyYSBsZXR0ZXJTcGFjZVxuICAgIC8vIHRfaF9pX3NfJyAnX2lfc18nICdfYV9uXycgJ19lX3hfYV9tX3BfbF9lXycgJ18hX1xuICAgIC8vIF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX1xuICAgIC8vIEFuZCB0aGVuIHRoZSBmaW5hbCBzcGFjZSBpcyBzaW1wbHkgbm8gYXBwZW5kZWQgdG8gZWFjaCBsaW5lXG4gICAgdmFyIHdvcmRXcmFwV2lkdGggPSBzdHlsZS53b3JkV3JhcFdpZHRoICsgbGV0dGVyU3BhY2luZztcblxuICAgIC8vIGJyZWFrIHRleHQgaW50byB3b3Jkcywgc3BhY2VzIGFuZCBuZXdsaW5lIGNoYXJzXG4gICAgdmFyIHRva2VucyA9IFRleHRNZXRyaWNzLnRva2VuaXplKHRleHQpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgICAvLyBnZXQgdGhlIHdvcmQsIHNwYWNlIG9yIG5ld2xpbmVDaGFyXG4gICAgICAgIHZhciB0b2tlbiA9IHRva2Vuc1tpXTtcblxuICAgICAgICAvLyBpZiB3b3JkIGlzIGEgbmV3IGxpbmVcbiAgICAgICAgaWYgKFRleHRNZXRyaWNzLmlzTmV3bGluZSh0b2tlbikpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGtlZXAgdGhlIG5ldyBsaW5lXG4gICAgICAgICAgICBpZiAoIWNvbGxhcHNlTmV3bGluZXMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lKTtcbiAgICAgICAgICAgICAgICBjYW5QcmVwZW5kU3BhY2VzID0gIWNvbGxhcHNlU3BhY2VzO1xuICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGlmIHdlIHNob3VsZCBjb2xsYXBzZSBuZXcgbGluZXNcbiAgICAgICAgICAgIC8vIHdlIHNpbXBseSBjb252ZXJ0IGl0IGludG8gYSBzcGFjZVxuICAgICAgICAgICAgdG9rZW4gPSAnICc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiB3ZSBzaG91bGQgY29sbGFwc2UgcmVwZWF0ZWQgd2hpdGVzcGFjZXNcbiAgICAgICAgaWYgKGNvbGxhcHNlU3BhY2VzKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBjaGVjayBib3RoIHRoaXMgYW5kIHRoZSBsYXN0IHRva2VucyBmb3Igc3BhY2VzXG4gICAgICAgICAgICB2YXIgY3VycklzQnJlYWtpbmdTcGFjZSA9IFRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZSh0b2tlbik7XG4gICAgICAgICAgICB2YXIgbGFzdElzQnJlYWtpbmdTcGFjZSA9IFRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZShsaW5lW2xpbmUubGVuZ3RoIC0gMV0pO1xuXG4gICAgICAgICAgICBpZiAoY3VycklzQnJlYWtpbmdTcGFjZSAmJiBsYXN0SXNCcmVha2luZ1NwYWNlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZ2V0IHdvcmQgd2lkdGggZnJvbSBjYWNoZSBpZiBwb3NzaWJsZVxuICAgICAgICB2YXIgdG9rZW5XaWR0aCA9IFRleHRNZXRyaWNzLmdldEZyb21DYWNoZSh0b2tlbiwgbGV0dGVyU3BhY2luZywgY2FjaGUsIGNvbnRleHQpO1xuXG4gICAgICAgIC8vIHdvcmQgaXMgbG9uZ2VyIHRoYW4gZGVzaXJlZCBib3VuZHNcbiAgICAgICAgaWYgKHRva2VuV2lkdGggPiB3b3JkV3JhcFdpZHRoKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBpZiB3ZSBhcmUgbm90IGFscmVhZHkgYXQgdGhlIGJlZ2lubmluZyBvZiBhIGxpbmVcbiAgICAgICAgICAgIGlmIChsaW5lICE9PSAnJylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBzdGFydCBuZXdsaW5lcyBmb3Igb3ZlcmZsb3cgd29yZHNcbiAgICAgICAgICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKGxpbmUpO1xuICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGJyZWFrIGxhcmdlIHdvcmQgb3ZlciBtdWx0aXBsZSBsaW5lc1xuICAgICAgICAgICAgaWYgKFRleHRNZXRyaWNzLmNhbkJyZWFrV29yZHModG9rZW4sIHN0eWxlLmJyZWFrV29yZHMpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGJyZWFrIHdvcmQgaW50byBjaGFyYWN0ZXJzXG4gICAgICAgICAgICAgICAgdmFyIGNoYXJhY3RlcnMgPSB0b2tlbi5zcGxpdCgnJyk7XG5cbiAgICAgICAgICAgICAgICAvLyBsb29wIHRoZSBjaGFyYWN0ZXJzXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjaGFyYWN0ZXJzLmxlbmd0aDsgaisrKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoYXIgPSBjaGFyYWN0ZXJzW2pdO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBrID0gMTtcbiAgICAgICAgICAgICAgICAgICAgLy8gd2UgYXJlIG5vdCBhdCB0aGUgZW5kIG9mIHRoZSB0b2tlblxuXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChjaGFyYWN0ZXJzW2ogKyBrXSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5leHRDaGFyID0gY2hhcmFjdGVyc1tqICsga107XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGFzdENoYXIgPSBjaGFyW2NoYXIubGVuZ3RoIC0gMV07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNob3VsZCBub3Qgc3BsaXQgY2hhcnNcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghVGV4dE1ldHJpY3MuY2FuQnJlYWtDaGFycyhsYXN0Q2hhciwgbmV4dENoYXIsIHRva2VuLCBqLCBzdHlsZS5icmVha1dvcmRzKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb21iaW5lIGNoYXJzICYgbW92ZSBmb3J3YXJkIG9uZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXIgKz0gbmV4dENoYXI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGsrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGogKz0gY2hhci5sZW5ndGggLSAxO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGFyYWN0ZXJXaWR0aCA9IFRleHRNZXRyaWNzLmdldEZyb21DYWNoZShjaGFyLCBsZXR0ZXJTcGFjaW5nLCBjYWNoZSwgY29udGV4dCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXJhY3RlcldpZHRoICsgd2lkdGggPiB3b3JkV3JhcFdpZHRoKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKGxpbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FuUHJlcGVuZFNwYWNlcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgbGluZSArPSBjaGFyO1xuICAgICAgICAgICAgICAgICAgICB3aWR0aCArPSBjaGFyYWN0ZXJXaWR0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHJ1biB3b3JkIG91dCBvZiB0aGUgYm91bmRzXG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlcmUgYXJlIHdvcmRzIGluIHRoaXMgbGluZSBhbHJlYWR5XG4gICAgICAgICAgICAgICAgLy8gZmluaXNoIHRoYXQgbGluZSBhbmQgc3RhcnQgYSBuZXcgb25lXG4gICAgICAgICAgICAgICAgaWYgKGxpbmUubGVuZ3RoID4gMClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVzICs9IFRleHRNZXRyaWNzLmFkZExpbmUobGluZSk7XG4gICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBpc0xhc3RUb2tlbiA9IGkgPT09IHRva2Vucy5sZW5ndGggLSAxO1xuXG4gICAgICAgICAgICAgICAgLy8gZ2l2ZSBpdCBpdHMgb3duIGxpbmUgaWYgaXQncyBub3QgdGhlIGVuZFxuICAgICAgICAgICAgICAgIGxpbmVzICs9IFRleHRNZXRyaWNzLmFkZExpbmUodG9rZW4sICFpc0xhc3RUb2tlbik7XG4gICAgICAgICAgICAgICAgY2FuUHJlcGVuZFNwYWNlcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyB3b3JkIGNvdWxkIGZpdFxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHdvcmQgd29uJ3QgZml0IGJlY2F1c2Ugb2YgZXhpc3Rpbmcgd29yZHNcbiAgICAgICAgICAgIC8vIHN0YXJ0IGEgbmV3IGxpbmVcbiAgICAgICAgICAgIGlmICh0b2tlbldpZHRoICsgd2lkdGggPiB3b3JkV3JhcFdpZHRoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGlmIGl0cyBhIHNwYWNlIHdlIGRvbid0IHdhbnQgaXRcbiAgICAgICAgICAgICAgICBjYW5QcmVwZW5kU3BhY2VzID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAvLyBhZGQgYSBuZXcgbGluZVxuICAgICAgICAgICAgICAgIGxpbmVzICs9IFRleHRNZXRyaWNzLmFkZExpbmUobGluZSk7XG5cbiAgICAgICAgICAgICAgICAvLyBzdGFydCBhIG5ldyBsaW5lXG4gICAgICAgICAgICAgICAgbGluZSA9ICcnO1xuICAgICAgICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gZG9uJ3QgYWRkIHNwYWNlcyB0byB0aGUgYmVnaW5uaW5nIG9mIGxpbmVzXG4gICAgICAgICAgICBpZiAobGluZS5sZW5ndGggPiAwIHx8ICFUZXh0TWV0cmljcy5pc0JyZWFraW5nU3BhY2UodG9rZW4pIHx8IGNhblByZXBlbmRTcGFjZXMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gYWRkIHRoZSB3b3JkIHRvIHRoZSBjdXJyZW50IGxpbmVcbiAgICAgICAgICAgICAgICBsaW5lICs9IHRva2VuO1xuXG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIHdpZHRoIGNvdW50ZXJcbiAgICAgICAgICAgICAgICB3aWR0aCArPSB0b2tlbldpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lLCBmYWxzZSk7XG5cbiAgICByZXR1cm4gbGluZXM7XG59O1xuXG4vKipcbiAqIENvbnZpZW5pZW5jZSBmdW5jdGlvbiBmb3IgbG9nZ2luZyBlYWNoIGxpbmUgYWRkZWQgZHVyaW5nIHRoZSB3b3JkV3JhcFxuICogbWV0aG9kXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSAge3N0cmluZ30gICBsaW5lICAgIC0gVGhlIGxpbmUgb2YgdGV4dCB0byBhZGRcbiAqIEBwYXJhbSAge2Jvb2xlYW59ICBuZXdMaW5lIC0gQWRkIG5ldyBsaW5lIGNoYXJhY3RlciB0byBlbmRcbiAqIEByZXR1cm4ge3N0cmluZ30gICBBIGZvcm1hdHRlZCBsaW5lXG4gKi9cblRleHRNZXRyaWNzLmFkZExpbmUgPSBmdW5jdGlvbiBhZGRMaW5lIChsaW5lLCBuZXdMaW5lKVxue1xuICAgICAgICBpZiAoIG5ld0xpbmUgPT09IHZvaWQgMCApIG5ld0xpbmUgPSB0cnVlO1xuXG4gICAgbGluZSA9IFRleHRNZXRyaWNzLnRyaW1SaWdodChsaW5lKTtcblxuICAgIGxpbmUgPSAobmV3TGluZSkgPyAobGluZSArIFwiXFxuXCIpIDogbGluZTtcblxuICAgIHJldHVybiBsaW5lO1xufTtcblxuLyoqXG4gKiBHZXRzICYgc2V0cyB0aGUgd2lkdGhzIG9mIGNhbGN1bGF0ZWQgY2hhcmFjdGVycyBpbiBhIGNhY2hlIG9iamVjdFxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gIHtzdHJpbmd9ICAgICAgICAgICAgICAgIGtleSAgICAgICAgVGhlIGtleVxuICogQHBhcmFtICB7bnVtYmVyfSAgICAgICAgICAgICAgICBsZXR0ZXJTcGFjaW5nICBUaGUgbGV0dGVyIHNwYWNpbmdcbiAqIEBwYXJhbSAge29iamVjdH0gICAgICAgICAgICAgICAgY2FjaGUgICAgICBUaGUgY2FjaGVcbiAqIEBwYXJhbSAge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gIGNvbnRleHQgICAgVGhlIGNhbnZhcyBjb250ZXh0XG4gKiBAcmV0dXJuIHtudW1iZXJ9ICAgICAgICAgICAgICAgIFRoZSBmcm9tIGNhY2hlLlxuICovXG5UZXh0TWV0cmljcy5nZXRGcm9tQ2FjaGUgPSBmdW5jdGlvbiBnZXRGcm9tQ2FjaGUgKGtleSwgbGV0dGVyU3BhY2luZywgY2FjaGUsIGNvbnRleHQpXG57XG4gICAgdmFyIHdpZHRoID0gY2FjaGVba2V5XTtcblxuICAgIGlmICh3aWR0aCA9PT0gdW5kZWZpbmVkKVxuICAgIHtcbiAgICAgICAgdmFyIHNwYWNpbmcgPSAoKGtleS5sZW5ndGgpICogbGV0dGVyU3BhY2luZyk7XG5cbiAgICAgICAgd2lkdGggPSBjb250ZXh0Lm1lYXN1cmVUZXh0KGtleSkud2lkdGggKyBzcGFjaW5nO1xuICAgICAgICBjYWNoZVtrZXldID0gd2lkdGg7XG4gICAgfVxuXG4gICAgcmV0dXJuIHdpZHRoO1xufTtcblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgd2Ugc2hvdWxkIGNvbGxhcHNlIGJyZWFraW5nIHNwYWNlc1xuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gIHtzdHJpbmd9ICAgd2hpdGVTcGFjZSAgVGhlIFRleHRTdHlsZSBwcm9wZXJ0eSB3aGl0ZVNwYWNlXG4gKiBAcmV0dXJuIHtib29sZWFufSAgc2hvdWxkIGNvbGxhcHNlXG4gKi9cblRleHRNZXRyaWNzLmNvbGxhcHNlU3BhY2VzID0gZnVuY3Rpb24gY29sbGFwc2VTcGFjZXMgKHdoaXRlU3BhY2UpXG57XG4gICAgcmV0dXJuICh3aGl0ZVNwYWNlID09PSAnbm9ybWFsJyB8fCB3aGl0ZVNwYWNlID09PSAncHJlLWxpbmUnKTtcbn07XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHdlIHNob3VsZCBjb2xsYXBzZSBuZXdMaW5lIGNoYXJzXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSAge3N0cmluZ30gICB3aGl0ZVNwYWNlICBUaGUgd2hpdGUgc3BhY2VcbiAqIEByZXR1cm4ge2Jvb2xlYW59ICBzaG91bGQgY29sbGFwc2VcbiAqL1xuVGV4dE1ldHJpY3MuY29sbGFwc2VOZXdsaW5lcyA9IGZ1bmN0aW9uIGNvbGxhcHNlTmV3bGluZXMgKHdoaXRlU3BhY2UpXG57XG4gICAgcmV0dXJuICh3aGl0ZVNwYWNlID09PSAnbm9ybWFsJyk7XG59O1xuXG4vKipcbiAqIHRyaW1zIGJyZWFraW5nIHdoaXRlc3BhY2VzIGZyb20gc3RyaW5nXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSAge3N0cmluZ30gIHRleHQgIFRoZSB0ZXh0XG4gKiBAcmV0dXJuIHtzdHJpbmd9ICB0cmltbWVkIHN0cmluZ1xuICovXG5UZXh0TWV0cmljcy50cmltUmlnaHQgPSBmdW5jdGlvbiB0cmltUmlnaHQgKHRleHQpXG57XG4gICAgaWYgKHR5cGVvZiB0ZXh0ICE9PSAnc3RyaW5nJylcbiAgICB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gdGV4dC5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICB7XG4gICAgICAgIHZhciBjaGFyID0gdGV4dFtpXTtcblxuICAgICAgICBpZiAoIVRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZShjaGFyKSlcbiAgICAgICAge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICB0ZXh0ID0gdGV4dC5zbGljZSgwLCAtMSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRleHQ7XG59O1xuXG4vKipcbiAqIERldGVybWluZXMgaWYgY2hhciBpcyBhIG5ld2xpbmUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSAge3N0cmluZ30gIGNoYXIgIFRoZSBjaGFyYWN0ZXJcbiAqIEByZXR1cm4ge2Jvb2xlYW59ICBUcnVlIGlmIG5ld2xpbmUsIEZhbHNlIG90aGVyd2lzZS5cbiAqL1xuVGV4dE1ldHJpY3MuaXNOZXdsaW5lID0gZnVuY3Rpb24gaXNOZXdsaW5lIChjaGFyKVxue1xuICAgIGlmICh0eXBlb2YgY2hhciAhPT0gJ3N0cmluZycpXG4gICAge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIChUZXh0TWV0cmljcy5fbmV3bGluZXMuaW5kZXhPZihjaGFyLmNoYXJDb2RlQXQoMCkpID49IDApO1xufTtcblxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIGNoYXIgaXMgYSBicmVha2luZyB3aGl0ZXNwYWNlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gIHtzdHJpbmd9ICBjaGFyICBUaGUgY2hhcmFjdGVyXG4gKiBAcmV0dXJuIHtib29sZWFufSAgVHJ1ZSBpZiB3aGl0ZXNwYWNlLCBGYWxzZSBvdGhlcndpc2UuXG4gKi9cblRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZSA9IGZ1bmN0aW9uIGlzQnJlYWtpbmdTcGFjZSAoY2hhcilcbntcbiAgICBpZiAodHlwZW9mIGNoYXIgIT09ICdzdHJpbmcnKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiAoVGV4dE1ldHJpY3MuX2JyZWFraW5nU3BhY2VzLmluZGV4T2YoY2hhci5jaGFyQ29kZUF0KDApKSA+PSAwKTtcbn07XG5cbi8qKlxuICogU3BsaXRzIGEgc3RyaW5nIGludG8gd29yZHMsIGJyZWFraW5nLXNwYWNlcyBhbmQgbmV3TGluZSBjaGFyYWN0ZXJzXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSAge3N0cmluZ30gIHRleHQgICBUaGUgdGV4dFxuICogQHJldHVybiB7c3RyaW5nW119ICBBIHRva2VuaXplZCBhcnJheVxuICovXG5UZXh0TWV0cmljcy50b2tlbml6ZSA9IGZ1bmN0aW9uIHRva2VuaXplICh0ZXh0KVxue1xuICAgIHZhciB0b2tlbnMgPSBbXTtcbiAgICB2YXIgdG9rZW4gPSAnJztcblxuICAgIGlmICh0eXBlb2YgdGV4dCAhPT0gJ3N0cmluZycpXG4gICAge1xuICAgICAgICByZXR1cm4gdG9rZW5zO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGV4dC5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICAgIHZhciBjaGFyID0gdGV4dFtpXTtcblxuICAgICAgICBpZiAoVGV4dE1ldHJpY3MuaXNCcmVha2luZ1NwYWNlKGNoYXIpIHx8IFRleHRNZXRyaWNzLmlzTmV3bGluZShjaGFyKSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRva2VuICE9PSAnJylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICAgICAgdG9rZW4gPSAnJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdG9rZW5zLnB1c2goY2hhcik7XG5cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdG9rZW4gKz0gY2hhcjtcbiAgICB9XG5cbiAgICBpZiAodG9rZW4gIT09ICcnKVxuICAgIHtcbiAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgIH1cblxuICAgIHJldHVybiB0b2tlbnM7XG59O1xuXG4vKipcbiAqIFRoaXMgbWV0aG9kIGV4aXN0cyB0byBiZSBlYXNpbHkgb3ZlcnJpZGRlblxuICogSXQgYWxsb3dzIG9uZSB0byBjdXN0b21pc2Ugd2hpY2ggd29yZHMgc2hvdWxkIGJyZWFrXG4gKiBFeGFtcGxlcyBhcmUgaWYgdGhlIHRva2VuIGlzIENKSyBvciBudW1iZXJzLlxuICogSXQgbXVzdCByZXR1cm4gYSBib29sZWFuLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gIHtzdHJpbmd9ICB0b2tlbiAgIFRoZSB0b2tlblxuICogQHBhcmFtICB7Ym9vbGVhbn0gIGJyZWFrV29yZHMgIFRoZSBzdHlsZSBhdHRyIGJyZWFrIHdvcmRzXG4gKiBAcmV0dXJuIHtib29sZWFufSB3aGV0aGVyIHRvIGJyZWFrIHdvcmQgb3Igbm90XG4gKi9cblRleHRNZXRyaWNzLmNhbkJyZWFrV29yZHMgPSBmdW5jdGlvbiBjYW5CcmVha1dvcmRzICh0b2tlbiwgYnJlYWtXb3JkcylcbntcbiAgICByZXR1cm4gYnJlYWtXb3Jkcztcbn07XG5cbi8qKlxuICogVGhpcyBtZXRob2QgZXhpc3RzIHRvIGJlIGVhc2lseSBvdmVycmlkZGVuXG4gKiBJdCBhbGxvd3Mgb25lIHRvIGRldGVybWluZSB3aGV0aGVyIGEgcGFpciBvZiBjaGFyYWN0ZXJzXG4gKiBzaG91bGQgYmUgYnJva2VuIGJ5IG5ld2xpbmVzXG4gKiBGb3IgZXhhbXBsZSBjZXJ0YWluIGNoYXJhY3RlcnMgaW4gQ0pLIGxhbmdzIG9yIG51bWJlcnMuXG4gKiBJdCBtdXN0IHJldHVybiBhIGJvb2xlYW4uXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSAge3N0cmluZ30gIGNoYXIgIFRoZSBjaGFyYWN0ZXJcbiAqIEBwYXJhbSAge3N0cmluZ30gIG5leHRDaGFyICBUaGUgbmV4dCBjaGFyYWN0ZXJcbiAqIEBwYXJhbSAge3N0cmluZ30gIHRva2VuIFRoZSB0b2tlbi93b3JkIHRoZSBjaGFyYWN0ZXJzIGFyZSBmcm9tXG4gKiBAcGFyYW0gIHtudW1iZXJ9ICBpbmRleCBUaGUgaW5kZXggaW4gdGhlIHRva2VuIG9mIHRoZSBjaGFyXG4gKiBAcGFyYW0gIHtib29sZWFufSAgYnJlYWtXb3JkcyAgVGhlIHN0eWxlIGF0dHIgYnJlYWsgd29yZHNcbiAqIEByZXR1cm4ge2Jvb2xlYW59IHdoZXRoZXIgdG8gYnJlYWsgd29yZCBvciBub3RcbiAqL1xuVGV4dE1ldHJpY3MuY2FuQnJlYWtDaGFycyA9IGZ1bmN0aW9uIGNhbkJyZWFrQ2hhcnMgKGNoYXIsIG5leHRDaGFyLCB0b2tlbiwgaW5kZXgsIGJyZWFrV29yZHMpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbntcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgYXNjZW50LCBkZXNjZW50IGFuZCBmb250U2l6ZSBvZiBhIGdpdmVuIGZvbnQtc3R5bGVcbiAqXG4gKiBAc3RhdGljXG4gKiBAcGFyYW0ge3N0cmluZ30gZm9udCAtIFN0cmluZyByZXByZXNlbnRpbmcgdGhlIHN0eWxlIG9mIHRoZSBmb250XG4gKiBAcmV0dXJuIHtQSVhJLklGb250TWV0cmljc30gRm9udCBwcm9wZXJ0aWVzIG9iamVjdFxuICovXG5UZXh0TWV0cmljcy5tZWFzdXJlRm9udCA9IGZ1bmN0aW9uIG1lYXN1cmVGb250IChmb250KVxue1xuICAgIC8vIGFzIHRoaXMgbWV0aG9kIGlzIHVzZWQgZm9yIHByZXBhcmluZyBhc3NldHMsIGRvbid0IHJlY2FsY3VsYXRlIHRoaW5ncyBpZiB3ZSBkb24ndCBuZWVkIHRvXG4gICAgaWYgKFRleHRNZXRyaWNzLl9mb250c1tmb250XSlcbiAgICB7XG4gICAgICAgIHJldHVybiBUZXh0TWV0cmljcy5fZm9udHNbZm9udF07XG4gICAgfVxuXG4gICAgdmFyIHByb3BlcnRpZXMgPSB7fTtcblxuICAgIHZhciBjYW52YXMgPSBUZXh0TWV0cmljcy5fY2FudmFzO1xuICAgIHZhciBjb250ZXh0ID0gVGV4dE1ldHJpY3MuX2NvbnRleHQ7XG5cbiAgICBjb250ZXh0LmZvbnQgPSBmb250O1xuXG4gICAgdmFyIG1ldHJpY3NTdHJpbmcgPSBUZXh0TWV0cmljcy5NRVRSSUNTX1NUUklORyArIFRleHRNZXRyaWNzLkJBU0VMSU5FX1NZTUJPTDtcbiAgICB2YXIgd2lkdGggPSBNYXRoLmNlaWwoY29udGV4dC5tZWFzdXJlVGV4dChtZXRyaWNzU3RyaW5nKS53aWR0aCk7XG4gICAgdmFyIGJhc2VsaW5lID0gTWF0aC5jZWlsKGNvbnRleHQubWVhc3VyZVRleHQoVGV4dE1ldHJpY3MuQkFTRUxJTkVfU1lNQk9MKS53aWR0aCk7XG4gICAgdmFyIGhlaWdodCA9IDIgKiBiYXNlbGluZTtcblxuICAgIGJhc2VsaW5lID0gYmFzZWxpbmUgKiBUZXh0TWV0cmljcy5CQVNFTElORV9NVUxUSVBMSUVSIHwgMDtcblxuICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjZjAwJztcbiAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgY29udGV4dC5mb250ID0gZm9udDtcblxuICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gJ2FscGhhYmV0aWMnO1xuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyMwMDAnO1xuICAgIGNvbnRleHQuZmlsbFRleHQobWV0cmljc1N0cmluZywgMCwgYmFzZWxpbmUpO1xuXG4gICAgdmFyIGltYWdlZGF0YSA9IGNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIHdpZHRoLCBoZWlnaHQpLmRhdGE7XG4gICAgdmFyIHBpeGVscyA9IGltYWdlZGF0YS5sZW5ndGg7XG4gICAgdmFyIGxpbmUgPSB3aWR0aCAqIDQ7XG5cbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIGlkeCA9IDA7XG4gICAgdmFyIHN0b3AgPSBmYWxzZTtcblxuICAgIC8vIGFzY2VudC4gc2NhbiBmcm9tIHRvcCB0byBib3R0b20gdW50aWwgd2UgZmluZCBhIG5vbiByZWQgcGl4ZWxcbiAgICBmb3IgKGkgPSAwOyBpIDwgYmFzZWxpbmU7ICsraSlcbiAgICB7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGluZTsgaiArPSA0KVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoaW1hZ2VkYXRhW2lkeCArIGpdICE9PSAyNTUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RvcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzdG9wKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZHggKz0gbGluZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvcGVydGllcy5hc2NlbnQgPSBiYXNlbGluZSAtIGk7XG5cbiAgICBpZHggPSBwaXhlbHMgLSBsaW5lO1xuICAgIHN0b3AgPSBmYWxzZTtcblxuICAgIC8vIGRlc2NlbnQuIHNjYW4gZnJvbSBib3R0b20gdG8gdG9wIHVudGlsIHdlIGZpbmQgYSBub24gcmVkIHBpeGVsXG4gICAgZm9yIChpID0gaGVpZ2h0OyBpID4gYmFzZWxpbmU7IC0taSlcbiAgICB7XG4gICAgICAgIGZvciAodmFyIGokMSA9IDA7IGokMSA8IGxpbmU7IGokMSArPSA0KVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoaW1hZ2VkYXRhW2lkeCArIGokMV0gIT09IDI1NSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdG9wID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghc3RvcClcbiAgICAgICAge1xuICAgICAgICAgICAgaWR4IC09IGxpbmU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3BlcnRpZXMuZGVzY2VudCA9IGkgLSBiYXNlbGluZTtcbiAgICBwcm9wZXJ0aWVzLmZvbnRTaXplID0gcHJvcGVydGllcy5hc2NlbnQgKyBwcm9wZXJ0aWVzLmRlc2NlbnQ7XG5cbiAgICBUZXh0TWV0cmljcy5fZm9udHNbZm9udF0gPSBwcm9wZXJ0aWVzO1xuXG4gICAgcmV0dXJuIHByb3BlcnRpZXM7XG59O1xuXG4vKipcbiAqIENsZWFyIGZvbnQgbWV0cmljcyBpbiBtZXRyaWNzIGNhY2hlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBwYXJhbSB7c3RyaW5nfSBbZm9udF0gLSBmb250IG5hbWUuIElmIGZvbnQgbmFtZSBub3Qgc2V0IHRoZW4gY2xlYXIgY2FjaGUgZm9yIGFsbCBmb250cy5cbiAqL1xuVGV4dE1ldHJpY3MuY2xlYXJNZXRyaWNzID0gZnVuY3Rpb24gY2xlYXJNZXRyaWNzIChmb250KVxue1xuICAgICAgICBpZiAoIGZvbnQgPT09IHZvaWQgMCApIGZvbnQgPSAnJztcblxuICAgIGlmIChmb250KVxuICAgIHtcbiAgICAgICAgZGVsZXRlIFRleHRNZXRyaWNzLl9mb250c1tmb250XTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgVGV4dE1ldHJpY3MuX2ZvbnRzID0ge307XG4gICAgfVxufTtcblxuLyoqXG4gKiBJbnRlcm5hbCByZXR1cm4gb2JqZWN0IGZvciB7QGxpbmsgUElYSS5UZXh0TWV0cmljcy5tZWFzdXJlRm9udCBgVGV4dE1ldHJpY3MubWVhc3VyZUZvbnRgfS5cbiAqXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBGb250TWV0cmljc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IGFzY2VudCAtIFRoZSBhc2NlbnQgZGlzdGFuY2VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkZXNjZW50IC0gVGhlIGRlc2NlbnQgZGlzdGFuY2VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBmb250U2l6ZSAtIEZvbnQgc2l6ZSBmcm9tIGFzY2VudCB0byBkZXNjZW50XG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQHByaXZhdGVcbiAqL1xuXG52YXIgY2FudmFzID0gKGZ1bmN0aW9uICgpIHtcbiAgICB0cnlcbiAgICB7XG4gICAgICAgIC8vIE9mZnNjcmVlbkNhbnZhczJEIG1lYXN1cmVUZXh0IGNhbiBiZSB1cCB0byA0MCUgZmFzdGVyLlxuICAgICAgICB2YXIgYyA9IG5ldyBPZmZzY3JlZW5DYW52YXMoMCwgMCk7XG5cbiAgICAgICAgcmV0dXJuIGMuZ2V0Q29udGV4dCgnMmQnKSA/IGMgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICB9XG4gICAgY2F0Y2ggKGV4KVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIH1cbn0pKCk7XG5cbmNhbnZhcy53aWR0aCA9IGNhbnZhcy5oZWlnaHQgPSAxMDtcblxuLyoqXG4gKiBDYWNoZWQgY2FudmFzIGVsZW1lbnQgZm9yIG1lYXN1cmluZyB0ZXh0XG4gKlxuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEB0eXBlIHtIVE1MQ2FudmFzRWxlbWVudH1cbiAqIEBwcml2YXRlXG4gKi9cblRleHRNZXRyaWNzLl9jYW52YXMgPSBjYW52YXM7XG5cbi8qKlxuICogQ2FjaGUgZm9yIGNvbnRleHQgdG8gdXNlLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICogQHByaXZhdGVcbiAqL1xuVGV4dE1ldHJpY3MuX2NvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuLyoqXG4gKiBDYWNoZSBvZiB7QHNlZSBQSVhJLlRleHRNZXRyaWNzLkZvbnRNZXRyaWNzfSBvYmplY3RzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAdHlwZSB7T2JqZWN0fVxuICogQHByaXZhdGVcbiAqL1xuVGV4dE1ldHJpY3MuX2ZvbnRzID0ge307XG5cbi8qKlxuICogU3RyaW5nIHVzZWQgZm9yIGNhbGN1bGF0ZSBmb250IG1ldHJpY3MuXG4gKiBUaGVzZSBjaGFyYWN0ZXJzIGFyZSBhbGwgdGFsbCB0byBoZWxwIGNhbGN1bGF0ZSB0aGUgaGVpZ2h0IHJlcXVpcmVkIGZvciB0ZXh0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAbmFtZSBNRVRSSUNTX1NUUklOR1xuICogQHR5cGUge3N0cmluZ31cbiAqIEBkZWZhdWx0IHzDiXHDhVxuICovXG5UZXh0TWV0cmljcy5NRVRSSUNTX1NUUklORyA9ICd8w4lxw4UnO1xuXG4vKipcbiAqIEJhc2VsaW5lIHN5bWJvbCBmb3IgY2FsY3VsYXRlIGZvbnQgbWV0cmljcy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQG5hbWUgQkFTRUxJTkVfU1lNQk9MXG4gKiBAdHlwZSB7c3RyaW5nfVxuICogQGRlZmF1bHQgTVxuICovXG5UZXh0TWV0cmljcy5CQVNFTElORV9TWU1CT0wgPSAnTSc7XG5cbi8qKlxuICogQmFzZWxpbmUgbXVsdGlwbGllciBmb3IgY2FsY3VsYXRlIGZvbnQgbWV0cmljcy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQG5hbWUgQkFTRUxJTkVfTVVMVElQTElFUlxuICogQHR5cGUge251bWJlcn1cbiAqIEBkZWZhdWx0IDEuNFxuICovXG5UZXh0TWV0cmljcy5CQVNFTElORV9NVUxUSVBMSUVSID0gMS40O1xuXG4vKipcbiAqIENhY2hlIG9mIG5ldyBsaW5lIGNoYXJzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAdHlwZSB7bnVtYmVyW119XG4gKiBAcHJpdmF0ZVxuICovXG5UZXh0TWV0cmljcy5fbmV3bGluZXMgPSBbXG4gICAgMHgwMDBBLCAvLyBsaW5lIGZlZWRcbiAgICAweDAwMEQgXTtcblxuLyoqXG4gKiBDYWNoZSBvZiBicmVha2luZyBzcGFjZXMuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEB0eXBlIHtudW1iZXJbXX1cbiAqIEBwcml2YXRlXG4gKi9cblRleHRNZXRyaWNzLl9icmVha2luZ1NwYWNlcyA9IFtcbiAgICAweDAwMDksIC8vIGNoYXJhY3RlciB0YWJ1bGF0aW9uXG4gICAgMHgwMDIwLCAvLyBzcGFjZVxuICAgIDB4MjAwMCwgLy8gZW4gcXVhZFxuICAgIDB4MjAwMSwgLy8gZW0gcXVhZFxuICAgIDB4MjAwMiwgLy8gZW4gc3BhY2VcbiAgICAweDIwMDMsIC8vIGVtIHNwYWNlXG4gICAgMHgyMDA0LCAvLyB0aHJlZS1wZXItZW0gc3BhY2VcbiAgICAweDIwMDUsIC8vIGZvdXItcGVyLWVtIHNwYWNlXG4gICAgMHgyMDA2LCAvLyBzaXgtcGVyLWVtIHNwYWNlXG4gICAgMHgyMDA4LCAvLyBwdW5jdHVhdGlvbiBzcGFjZVxuICAgIDB4MjAwOSwgLy8gdGhpbiBzcGFjZVxuICAgIDB4MjAwQSwgLy8gaGFpciBzcGFjZVxuICAgIDB4MjA1RiwgLy8gbWVkaXVtIG1hdGhlbWF0aWNhbCBzcGFjZVxuICAgIDB4MzAwMCBdO1xuXG4vKipcbiAqIEEgbnVtYmVyLCBvciBhIHN0cmluZyBjb250YWluaW5nIGEgbnVtYmVyLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZWRlZiBJRm9udE1ldHJpY3NcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBhc2NlbnQgLSBGb250IGFzY2VudFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGRlc2NlbnQgLSBGb250IGRlc2NlbnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBmb250U2l6ZSAtIEZvbnQgc2l6ZVxuICovXG5cbi8qIGVzbGludCBtYXgtZGVwdGg6IFsyLCA4XSAqL1xuXG52YXIgZGVmYXVsdERlc3Ryb3lPcHRpb25zID0ge1xuICAgIHRleHR1cmU6IHRydWUsXG4gICAgY2hpbGRyZW46IGZhbHNlLFxuICAgIGJhc2VUZXh0dXJlOiB0cnVlLFxufTtcblxuLyoqXG4gKiBBIFRleHQgT2JqZWN0IHdpbGwgY3JlYXRlIGEgbGluZSBvciBtdWx0aXBsZSBsaW5lcyBvZiB0ZXh0LlxuICpcbiAqIFRoZSB0ZXh0IGlzIGNyZWF0ZWQgdXNpbmcgdGhlIFtDYW52YXMgQVBJXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ2FudmFzX0FQSSkuXG4gKlxuICogVGhlIHByaW1hcnkgYWR2YW50YWdlIG9mIHRoaXMgY2xhc3Mgb3ZlciBCaXRtYXBUZXh0IGlzIHRoYXQgeW91IGhhdmUgZ3JlYXQgY29udHJvbCBvdmVyIHRoZSBzdHlsZSBvZiB0aGUgbmV4dCxcbiAqIHdoaWNoIHlvdSBjYW4gY2hhbmdlIGF0IHJ1bnRpbWUuXG4gKlxuICogVGhlIHByaW1hcnkgZGlzYWR2YW50YWdlcyBpcyB0aGF0IGVhY2ggcGllY2Ugb2YgdGV4dCBoYXMgaXQncyBvd24gdGV4dHVyZSwgd2hpY2ggY2FuIHVzZSBtb3JlIG1lbW9yeS5cbiAqIFdoZW4gdGV4dCBjaGFuZ2VzLCB0aGlzIHRleHR1cmUgaGFzIHRvIGJlIHJlLWdlbmVyYXRlZCBhbmQgcmUtdXBsb2FkZWQgdG8gdGhlIEdQVSwgdGFraW5nIHVwIHRpbWUuXG4gKlxuICogVG8gc3BsaXQgYSBsaW5lIHlvdSBjYW4gdXNlICdcXG4nIGluIHlvdXIgdGV4dCBzdHJpbmcsIG9yLCBvbiB0aGUgYHN0eWxlYCBvYmplY3QsXG4gKiBjaGFuZ2UgaXRzIGB3b3JkV3JhcGAgcHJvcGVydHkgdG8gdHJ1ZSBhbmQgYW5kIGdpdmUgdGhlIGB3b3JkV3JhcFdpZHRoYCBwcm9wZXJ0eSBhIHZhbHVlLlxuICpcbiAqIEEgVGV4dCBjYW4gYmUgY3JlYXRlZCBkaXJlY3RseSBmcm9tIGEgc3RyaW5nIGFuZCBhIHN0eWxlIG9iamVjdCxcbiAqIHdoaWNoIGNhbiBiZSBnZW5lcmF0ZWQgW2hlcmVdKGh0dHBzOi8vcGl4aWpzLmlvL3BpeGktdGV4dC1zdHlsZSkuXG4gKlxuICogYGBganNcbiAqIGxldCB0ZXh0ID0gbmV3IFBJWEkuVGV4dCgnVGhpcyBpcyBhIFBpeGlKUyB0ZXh0Jyx7Zm9udEZhbWlseSA6ICdBcmlhbCcsIGZvbnRTaXplOiAyNCwgZmlsbCA6IDB4ZmYxMDEwLCBhbGlnbiA6ICdjZW50ZXInfSk7XG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3ByaXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGV4dCA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFNwcml0ZSkge1xuICAgIGZ1bmN0aW9uIFRleHQodGV4dCwgc3R5bGUsIGNhbnZhcylcbiAgICB7XG4gICAgICAgIGNhbnZhcyA9IGNhbnZhcyB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuICAgICAgICBjYW52YXMud2lkdGggPSAzO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gMztcblxuICAgICAgICB2YXIgdGV4dHVyZSA9IFRleHR1cmUuZnJvbShjYW52YXMpO1xuXG4gICAgICAgIHRleHR1cmUub3JpZyA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgdGV4dHVyZS50cmltID0gbmV3IFJlY3RhbmdsZSgpO1xuXG4gICAgICAgIFNwcml0ZS5jYWxsKHRoaXMsIHRleHR1cmUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2FudmFzIGVsZW1lbnQgdGhhdCBldmVyeXRoaW5nIGlzIGRyYXduIHRvXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0hUTUxDYW52YXNFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjYW52YXMgMmQgY29udGV4dCB0aGF0IGV2ZXJ5dGhpbmcgaXMgZHJhd24gd2l0aFxuICAgICAgICAgKiBAbWVtYmVyIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbnRleHQgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgY2FudmFzLlxuICAgICAgICAgKiBUaGlzIGlzIHNldCB0byBhdXRvbWF0aWNhbGx5IG1hdGNoIHRoZSByZW5kZXJlciByZXNvbHV0aW9uIGJ5IGRlZmF1bHQsIGJ1dCBjYW4gYmUgb3ZlcnJpZGRlbiBieSBzZXR0aW5nIG1hbnVhbGx5LlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3Jlc29sdXRpb24gPSBzZXR0aW5ncy5SRVNPTFVUSU9OO1xuICAgICAgICB0aGlzLl9hdXRvUmVzb2x1dGlvbiA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgdGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGV4dCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgc3R5bGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3N0eWxlID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgbGlzdGVuZXIgdG8gdHJhY2sgc3R5bGUgY2hhbmdlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9zdHlsZUxpc3RlbmVyID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCBmb250LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9mb250ID0gJyc7XG5cbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICAgICAgdGhpcy5zdHlsZSA9IHN0eWxlO1xuXG4gICAgICAgIHRoaXMubG9jYWxTdHlsZUlEID0gLTE7XG4gICAgfVxuXG4gICAgaWYgKCBTcHJpdGUgKSBUZXh0Ll9fcHJvdG9fXyA9IFNwcml0ZTtcbiAgICBUZXh0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFNwcml0ZSAmJiBTcHJpdGUucHJvdG90eXBlICk7XG4gICAgVGV4dC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBUZXh0O1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgd2lkdGg6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0saGVpZ2h0OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHN0eWxlOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHRleHQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0scmVzb2x1dGlvbjogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0ZXh0IGFuZCB1cGRhdGVzIGl0IHdoZW4gbmVlZGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJlc3BlY3REaXJ0eSAtIFdoZXRoZXIgdG8gYWJvcnQgdXBkYXRpbmcgdGhlIHRleHQgaWYgdGhlIFRleHQgaXNuJ3QgZGlydHkgYW5kIHRoZSBmdW5jdGlvbiBpcyBjYWxsZWQuXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUudXBkYXRlVGV4dCA9IGZ1bmN0aW9uIHVwZGF0ZVRleHQgKHJlc3BlY3REaXJ0eSlcbiAgICB7XG4gICAgICAgIHZhciBzdHlsZSA9IHRoaXMuX3N0eWxlO1xuXG4gICAgICAgIC8vIGNoZWNrIGlmIHN0eWxlIGhhcyBjaGFuZ2VkLi5cbiAgICAgICAgaWYgKHRoaXMubG9jYWxTdHlsZUlEICE9PSBzdHlsZS5zdHlsZUlEKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMubG9jYWxTdHlsZUlEID0gc3R5bGUuc3R5bGVJRDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5kaXJ0eSAmJiByZXNwZWN0RGlydHkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2ZvbnQgPSB0aGlzLl9zdHlsZS50b0ZvbnRTdHJpbmcoKTtcblxuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMuY29udGV4dDtcbiAgICAgICAgdmFyIG1lYXN1cmVkID0gVGV4dE1ldHJpY3MubWVhc3VyZVRleHQodGhpcy5fdGV4dCB8fCAnICcsIHRoaXMuX3N0eWxlLCB0aGlzLl9zdHlsZS53b3JkV3JhcCwgdGhpcy5jYW52YXMpO1xuICAgICAgICB2YXIgd2lkdGggPSBtZWFzdXJlZC53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IG1lYXN1cmVkLmhlaWdodDtcbiAgICAgICAgdmFyIGxpbmVzID0gbWVhc3VyZWQubGluZXM7XG4gICAgICAgIHZhciBsaW5lSGVpZ2h0ID0gbWVhc3VyZWQubGluZUhlaWdodDtcbiAgICAgICAgdmFyIGxpbmVXaWR0aHMgPSBtZWFzdXJlZC5saW5lV2lkdGhzO1xuICAgICAgICB2YXIgbWF4TGluZVdpZHRoID0gbWVhc3VyZWQubWF4TGluZVdpZHRoO1xuICAgICAgICB2YXIgZm9udFByb3BlcnRpZXMgPSBtZWFzdXJlZC5mb250UHJvcGVydGllcztcblxuICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IE1hdGguY2VpbCgoTWF0aC5tYXgoMSwgd2lkdGgpICsgKHN0eWxlLnBhZGRpbmcgKiAyKSkgKiB0aGlzLl9yZXNvbHV0aW9uKTtcbiAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gTWF0aC5jZWlsKChNYXRoLm1heCgxLCBoZWlnaHQpICsgKHN0eWxlLnBhZGRpbmcgKiAyKSkgKiB0aGlzLl9yZXNvbHV0aW9uKTtcblxuICAgICAgICBjb250ZXh0LnNjYWxlKHRoaXMuX3Jlc29sdXRpb24sIHRoaXMuX3Jlc29sdXRpb24pO1xuXG4gICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xuXG4gICAgICAgIGNvbnRleHQuZm9udCA9IHRoaXMuX2ZvbnQ7XG4gICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gc3R5bGUuc3Ryb2tlVGhpY2tuZXNzO1xuICAgICAgICBjb250ZXh0LnRleHRCYXNlbGluZSA9IHN0eWxlLnRleHRCYXNlbGluZTtcbiAgICAgICAgY29udGV4dC5saW5lSm9pbiA9IHN0eWxlLmxpbmVKb2luO1xuICAgICAgICBjb250ZXh0Lm1pdGVyTGltaXQgPSBzdHlsZS5taXRlckxpbWl0O1xuXG4gICAgICAgIHZhciBsaW5lUG9zaXRpb25YO1xuICAgICAgICB2YXIgbGluZVBvc2l0aW9uWTtcblxuICAgICAgICAvLyByZXF1aXJlIDIgcGFzc2VzIGlmIGEgc2hhZG93OyB0aGUgZmlyc3QgdG8gZHJhdyB0aGUgZHJvcCBzaGFkb3csIHRoZSBzZWNvbmQgdG8gZHJhdyB0aGUgdGV4dFxuICAgICAgICB2YXIgcGFzc2VzQ291bnQgPSBzdHlsZS5kcm9wU2hhZG93ID8gMiA6IDE7XG5cbiAgICAgICAgLy8gRm9yIHY0LCB3ZSBkcmV3IHRleHQgYXQgdGhlIGNvbG91cnMgb2YgdGhlIGRyb3Agc2hhZG93IHVuZGVybmVhdGggdGhlIG5vcm1hbCB0ZXh0LiBUaGlzIGdhdmUgdGhlIGNvcnJlY3QgekluZGV4LFxuICAgICAgICAvLyBidXQgZmVhdHVyZXMgc3VjaCBhcyBhbHBoYSBhbmQgc2hhZG93Ymx1ciBkaWQgbm90IGxvb2sgcmlnaHQgYXQgYWxsLCBzaW5jZSB3ZSB3ZXJlIHVzaW5nIGFjdHVhbCB0ZXh0IGFzIGEgc2hhZG93LlxuICAgICAgICAvL1xuICAgICAgICAvLyBGb3IgdjUuMC4wLCB3ZSBtb3ZlZCBvdmVyIHRvIGp1c3QgdXNlIHRoZSBjYW52YXMgQVBJIGZvciBkcm9wIHNoYWRvd3MsIHdoaWNoIG1hZGUgdGhlbSBsb29rIG11Y2ggbmljZXIgYW5kIG1vcmVcbiAgICAgICAgLy8gdmlzdWFsbHkgcGxlYXNlLCBidXQgbm93IGJlY2F1c2UgdGhlIHN0cm9rZSBpcyBkcmF3biBhbmQgdGhlbiB0aGUgZmlsbCwgZHJvcCBzaGFkb3dzIHdvdWxkIGFwcGVhciBvbiBib3RoIHRoZSBmaWxsXG4gICAgICAgIC8vIGFuZCB0aGUgc3Ryb2tlOyBhbmQgZmlsbCBkcm9wIHNoYWRvd3Mgd291bGQgYXBwZWFyIG92ZXIgdGhlIHRvcCBvZiB0aGUgc3Ryb2tlLlxuICAgICAgICAvL1xuICAgICAgICAvLyBGb3IgdjUuMS4xLCB0aGUgbmV3IHJvdXRlIGlzIHRvIHJldmVydCB0byB2NCBzdHlsZSBvZiBkcmF3aW5nIHRleHQgZmlyc3QgdG8gZ2V0IHRoZSBkcm9wIHNoYWRvd3MgdW5kZXJuZWF0aCBub3JtYWxcbiAgICAgICAgLy8gdGV4dCwgYnV0IGluc3RlYWQgZHJhd2luZyB0ZXh0IGluIHRoZSBjb3JyZWN0IGxvY2F0aW9uLCB3ZSdsbCBkcmF3IGl0IG9mZiBzY3JlZW4gKC1wYWRkaW5nWSksIGFuZCB0aGVuIGFkanVzdCB0aGVcbiAgICAgICAgLy8gZHJvcCBzaGFkb3cgc28gb25seSB0aGF0IGFwcGVhcnMgb24gc2NyZWVuICgrcGFkZGluZ1kpLiBOb3cgd2UnbGwgaGF2ZSB0aGUgY29ycmVjdCBkcmF3IG9yZGVyIG9mIHRoZSBzaGFkb3dcbiAgICAgICAgLy8gYmVuZWF0aCB0aGUgdGV4dCwgd2hpbHN0IGFsc28gaGF2aW5nIHRoZSBwcm9wZXIgdGV4dCBzaGFkb3cgc3R5bGluZy5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXNzZXNDb3VudDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgaXNTaGFkb3dQYXNzID0gc3R5bGUuZHJvcFNoYWRvdyAmJiBpID09PSAwO1xuICAgICAgICAgICAgdmFyIGRzT2Zmc2V0VGV4dCA9IGlzU2hhZG93UGFzcyA/IGhlaWdodCAqIDIgOiAwOyAvLyB3ZSBvbmx5IHdhbnQgdGhlIGRyb3Agc2hhZG93LCBzbyBwdXQgdGV4dCB3YXkgb2ZmLXNjcmVlblxuICAgICAgICAgICAgdmFyIGRzT2Zmc2V0U2hhZG93ID0gZHNPZmZzZXRUZXh0ICogdGhpcy5yZXNvbHV0aW9uO1xuXG4gICAgICAgICAgICBpZiAoaXNTaGFkb3dQYXNzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIE9uIFNhZmFyaSwgdGV4dCB3aXRoIGdyYWRpZW50IGFuZCBkcm9wIHNoYWRvd3MgdG9nZXRoZXIgZG8gbm90IHBvc2l0aW9uIGNvcnJlY3RseVxuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBzY2FsZSBvZiB0aGUgY2FudmFzIGlzIG5vdCAxOiBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTk3Njg5XG4gICAgICAgICAgICAgICAgLy8gVGhlcmVmb3JlIHdlJ2xsIHNldCB0aGUgc3R5bGVzIHRvIGJlIGEgcGxhaW4gYmxhY2sgd2hpbHN0IGdlbmVyYXRpbmcgdGhpcyBkcm9wIHNoYWRvd1xuICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJ2JsYWNrJztcbiAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gJ2JsYWNrJztcblxuICAgICAgICAgICAgICAgIHZhciBkcm9wU2hhZG93Q29sb3IgPSBzdHlsZS5kcm9wU2hhZG93Q29sb3I7XG4gICAgICAgICAgICAgICAgdmFyIHJnYiA9IGhleDJyZ2IodHlwZW9mIGRyb3BTaGFkb3dDb2xvciA9PT0gJ251bWJlcicgPyBkcm9wU2hhZG93Q29sb3IgOiBzdHJpbmcyaGV4KGRyb3BTaGFkb3dDb2xvcikpO1xuXG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dDb2xvciA9IFwicmdiYShcIiArIChyZ2JbMF0gKiAyNTUpICsgXCIsXCIgKyAocmdiWzFdICogMjU1KSArIFwiLFwiICsgKHJnYlsyXSAqIDI1NSkgKyBcIixcIiArIChzdHlsZS5kcm9wU2hhZG93QWxwaGEpICsgXCIpXCI7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dCbHVyID0gc3R5bGUuZHJvcFNoYWRvd0JsdXI7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRYID0gTWF0aC5jb3Moc3R5bGUuZHJvcFNoYWRvd0FuZ2xlKSAqIHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNoYWRvd09mZnNldFkgPSAoTWF0aC5zaW4oc3R5bGUuZHJvcFNoYWRvd0FuZ2xlKSAqIHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZSkgKyBkc09mZnNldFNoYWRvdztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBzZXQgY2FudmFzIHRleHQgc3R5bGVzXG4gICAgICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSB0aGlzLl9nZW5lcmF0ZUZpbGxTdHlsZShzdHlsZSwgbGluZXMpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHlsZS5zdHJva2U7XG5cbiAgICAgICAgICAgICAgICBjb250ZXh0LnNoYWRvd0NvbG9yID0gMDtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNoYWRvd0JsdXIgPSAwO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WCA9IDA7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRZID0gMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gZHJhdyBsaW5lcyBsaW5lIGJ5IGxpbmVcbiAgICAgICAgICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IGxpbmVzLmxlbmd0aDsgaSQxKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGluZVBvc2l0aW9uWCA9IHN0eWxlLnN0cm9rZVRoaWNrbmVzcyAvIDI7XG4gICAgICAgICAgICAgICAgbGluZVBvc2l0aW9uWSA9ICgoc3R5bGUuc3Ryb2tlVGhpY2tuZXNzIC8gMikgKyAoaSQxICogbGluZUhlaWdodCkpICsgZm9udFByb3BlcnRpZXMuYXNjZW50O1xuXG4gICAgICAgICAgICAgICAgaWYgKHN0eWxlLmFsaWduID09PSAncmlnaHQnKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZVBvc2l0aW9uWCArPSBtYXhMaW5lV2lkdGggLSBsaW5lV2lkdGhzW2kkMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN0eWxlLmFsaWduID09PSAnY2VudGVyJylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblggKz0gKG1heExpbmVXaWR0aCAtIGxpbmVXaWR0aHNbaSQxXSkgLyAyO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChzdHlsZS5zdHJva2UgJiYgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3TGV0dGVyU3BhY2luZyhcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzW2kkMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lUG9zaXRpb25YICsgc3R5bGUucGFkZGluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblkgKyBzdHlsZS5wYWRkaW5nIC0gZHNPZmZzZXRUZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChzdHlsZS5maWxsKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3TGV0dGVyU3BhY2luZyhcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzW2kkMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lUG9zaXRpb25YICsgc3R5bGUucGFkZGluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblkgKyBzdHlsZS5wYWRkaW5nIC0gZHNPZmZzZXRUZXh0XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlciB0aGUgdGV4dCB3aXRoIGxldHRlci1zcGFjaW5nLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gVGhlIHRleHQgdG8gZHJhd1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gSG9yaXpvbnRhbCBwb3NpdGlvbiB0byBkcmF3IHRoZSB0ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBWZXJ0aWNhbCBwb3NpdGlvbiB0byBkcmF3IHRoZSB0ZXh0XG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNTdHJva2U9ZmFsc2VdIC0gSXMgdGhpcyBkcmF3aW5nIGZvciB0aGUgb3V0c2lkZSBzdHJva2Ugb2YgdGhlXG4gICAgICogIHRleHQ/IElmIG5vdCwgaXQncyBmb3IgdGhlIGluc2lkZSBmaWxsXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS5kcmF3TGV0dGVyU3BhY2luZyA9IGZ1bmN0aW9uIGRyYXdMZXR0ZXJTcGFjaW5nICh0ZXh0LCB4LCB5LCBpc1N0cm9rZSlcbiAgICB7XG4gICAgICAgIGlmICggaXNTdHJva2UgPT09IHZvaWQgMCApIGlzU3Ryb2tlID0gZmFsc2U7XG5cbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5fc3R5bGU7XG5cbiAgICAgICAgLy8gbGV0dGVyU3BhY2luZyBvZiAwIG1lYW5zIG5vcm1hbFxuICAgICAgICB2YXIgbGV0dGVyU3BhY2luZyA9IHN0eWxlLmxldHRlclNwYWNpbmc7XG5cbiAgICAgICAgaWYgKGxldHRlclNwYWNpbmcgPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChpc1N0cm9rZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuc3Ryb2tlVGV4dCh0ZXh0LCB4LCB5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFRleHQodGV4dCwgeCwgeSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjdXJyZW50UG9zaXRpb24gPSB4O1xuXG4gICAgICAgIC8vIFVzaW5nIEFycmF5LmZyb20gY29ycmVjdGx5IHNwbGl0cyBjaGFyYWN0ZXJzIHdoaWxzdCBrZWVwaW5nIGVtb2ppIHRvZ2V0aGVyLlxuICAgICAgICAvLyBUaGlzIGlzIG5vdCBzdXBwb3J0ZWQgb24gSUUgYXMgaXQgcmVxdWlyZXMgRVM2LCBzbyByZWd1bGFyIHRleHQgc3BsaXR0aW5nIG9jY3Vycy5cbiAgICAgICAgLy8gVGhpcyBhbHNvIGRvZXNuJ3QgYWNjb3VudCBmb3IgZW1vamkgdGhhdCBhcmUgbXVsdGlwbGUgZW1vamkgcHV0IHRvZ2V0aGVyIHRvIG1ha2Ugc29tZXRoaW5nIGVsc2UuXG4gICAgICAgIC8vIEhhbmRsaW5nIGFsbCBvZiB0aGlzIHdvdWxkIHJlcXVpcmUgYSBiaWcgbGlicmFyeSBpdHNlbGYuXG4gICAgICAgIC8vIGh0dHBzOi8vbWVkaXVtLmNvbS9AZ2lsdGF5YXIvaXRlcmF0aW5nLW92ZXItZW1vamktY2hhcmFjdGVycy10aGUtZXM2LXdheS1mMDZlNDU4OTUxNlxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vb3JsaW5nL2dyYXBoZW1lLXNwbGl0dGVyXG4gICAgICAgIHZhciBzdHJpbmdBcnJheSA9IEFycmF5LmZyb20gPyBBcnJheS5mcm9tKHRleHQpIDogdGV4dC5zcGxpdCgnJyk7XG4gICAgICAgIHZhciBwcmV2aW91c1dpZHRoID0gdGhpcy5jb250ZXh0Lm1lYXN1cmVUZXh0KHRleHQpLndpZHRoO1xuICAgICAgICB2YXIgY3VycmVudFdpZHRoID0gMDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0cmluZ0FycmF5Lmxlbmd0aDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgY3VycmVudENoYXIgPSBzdHJpbmdBcnJheVtpXTtcblxuICAgICAgICAgICAgaWYgKGlzU3Ryb2tlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5zdHJva2VUZXh0KGN1cnJlbnRDaGFyLCBjdXJyZW50UG9zaXRpb24sIHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsVGV4dChjdXJyZW50Q2hhciwgY3VycmVudFBvc2l0aW9uLCB5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnRXaWR0aCA9IHRoaXMuY29udGV4dC5tZWFzdXJlVGV4dCh0ZXh0LnN1YnN0cmluZyhpICsgMSkpLndpZHRoO1xuICAgICAgICAgICAgY3VycmVudFBvc2l0aW9uICs9IHByZXZpb3VzV2lkdGggLSBjdXJyZW50V2lkdGggKyBsZXR0ZXJTcGFjaW5nO1xuICAgICAgICAgICAgcHJldmlvdXNXaWR0aCA9IGN1cnJlbnRXaWR0aDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRleHR1cmUgc2l6ZSBiYXNlZCBvbiBjYW52YXMgc2l6ZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS51cGRhdGVUZXh0dXJlID0gZnVuY3Rpb24gdXBkYXRlVGV4dHVyZSAoKVxuICAgIHtcbiAgICAgICAgdmFyIGNhbnZhcyA9IHRoaXMuY2FudmFzO1xuXG4gICAgICAgIGlmICh0aGlzLl9zdHlsZS50cmltKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgdHJpbW1lZCA9IHRyaW1DYW52YXMoY2FudmFzKTtcblxuICAgICAgICAgICAgaWYgKHRyaW1tZWQuZGF0YSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjYW52YXMud2lkdGggPSB0cmltbWVkLndpZHRoO1xuICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSB0cmltbWVkLmhlaWdodDtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQucHV0SW1hZ2VEYXRhKHRyaW1tZWQuZGF0YSwgMCwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG4gICAgICAgIHZhciBzdHlsZSA9IHRoaXMuX3N0eWxlO1xuICAgICAgICB2YXIgcGFkZGluZyA9IHN0eWxlLnRyaW0gPyAwIDogc3R5bGUucGFkZGluZztcbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gdGV4dHVyZS5iYXNlVGV4dHVyZTtcblxuICAgICAgICB0ZXh0dXJlLnRyaW0ud2lkdGggPSB0ZXh0dXJlLl9mcmFtZS53aWR0aCA9IE1hdGguY2VpbChjYW52YXMud2lkdGggLyB0aGlzLl9yZXNvbHV0aW9uKTtcbiAgICAgICAgdGV4dHVyZS50cmltLmhlaWdodCA9IHRleHR1cmUuX2ZyYW1lLmhlaWdodCA9IE1hdGguY2VpbChjYW52YXMuaGVpZ2h0IC8gdGhpcy5fcmVzb2x1dGlvbik7XG4gICAgICAgIHRleHR1cmUudHJpbS54ID0gLXBhZGRpbmc7XG4gICAgICAgIHRleHR1cmUudHJpbS55ID0gLXBhZGRpbmc7XG5cbiAgICAgICAgdGV4dHVyZS5vcmlnLndpZHRoID0gdGV4dHVyZS5fZnJhbWUud2lkdGggLSAocGFkZGluZyAqIDIpO1xuICAgICAgICB0ZXh0dXJlLm9yaWcuaGVpZ2h0ID0gdGV4dHVyZS5fZnJhbWUuaGVpZ2h0IC0gKHBhZGRpbmcgKiAyKTtcblxuICAgICAgICAvLyBjYWxsIHNwcml0ZSBvblRleHR1cmVVcGRhdGUgdG8gdXBkYXRlIHNjYWxlIGlmIF93aWR0aCBvciBfaGVpZ2h0IHdlcmUgc2V0XG4gICAgICAgIHRoaXMuX29uVGV4dHVyZVVwZGF0ZSgpO1xuXG4gICAgICAgIGJhc2VUZXh0dXJlLnNldFJlYWxTaXplKGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCwgdGhpcy5fcmVzb2x1dGlvbik7XG5cbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS5fcmVuZGVyID0gZnVuY3Rpb24gX3JlbmRlciAocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fYXV0b1Jlc29sdXRpb24gJiYgdGhpcy5fcmVzb2x1dGlvbiAhPT0gcmVuZGVyZXIucmVzb2x1dGlvbilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x1dGlvbiA9IHJlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcblxuICAgICAgICBTcHJpdGUucHJvdG90eXBlLl9yZW5kZXIuY2FsbCh0aGlzLCByZW5kZXJlcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgdGV4dCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0IC0gVGhlIG91dHB1dCByZWN0YW5nbGUuXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFRoZSBib3VuZHMuXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMgPSBmdW5jdGlvbiBnZXRMb2NhbEJvdW5kcyAocmVjdClcbiAgICB7XG4gICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcblxuICAgICAgICByZXR1cm4gU3ByaXRlLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcy5jYWxsKHRoaXMsIHJlY3QpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBjYWxjdWxhdGVzIHRoZSBib3VuZHMgb2YgdGhlIFRleHQgYXMgYSByZWN0YW5nbGUuIFRoZSBib3VuZHMgY2FsY3VsYXRpb24gdGFrZXMgdGhlIHdvcmxkVHJhbnNmb3JtIGludG8gYWNjb3VudC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuX2NhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uIF9jYWxjdWxhdGVCb3VuZHMgKClcbiAgICB7XG4gICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVWZXJ0aWNlcygpO1xuICAgICAgICAvLyBpZiB3ZSBoYXZlIGFscmVhZHkgZG9uZSB0aGlzIG9uIFRISVMgZnJhbWUuXG4gICAgICAgIHRoaXMuX2JvdW5kcy5hZGRRdWFkKHRoaXMudmVydGV4RGF0YSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0byBiZSBjYWxsZWQgdXBvbiBhIFRleHRTdHlsZSBjaGFuZ2UuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS5fb25TdHlsZUNoYW5nZSA9IGZ1bmN0aW9uIF9vblN0eWxlQ2hhbmdlICgpXG4gICAge1xuICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIHRoZSBmaWxsIHN0eWxlLiBDYW4gYXV0b21hdGljYWxseSBnZW5lcmF0ZSBhIGdyYWRpZW50IGJhc2VkIG9uIHRoZSBmaWxsIHN0eWxlIGJlaW5nIGFuIGFycmF5XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzdHlsZSAtIFRoZSBzdHlsZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBsaW5lcyAtIFRoZSBsaW5lcyBvZiB0ZXh0LlxuICAgICAqIEByZXR1cm4ge3N0cmluZ3xudW1iZXJ8Q2FudmFzR3JhZGllbnR9IFRoZSBmaWxsIHN0eWxlXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuX2dlbmVyYXRlRmlsbFN0eWxlID0gZnVuY3Rpb24gX2dlbmVyYXRlRmlsbFN0eWxlIChzdHlsZSwgbGluZXMpXG4gICAge1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoc3R5bGUuZmlsbCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBzdHlsZS5maWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHN0eWxlLmZpbGwubGVuZ3RoID09PSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gc3R5bGUuZmlsbFswXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRoZSBncmFkaWVudCB3aWxsIGJlIGV2ZW5seSBzcGFjZWQgb3V0IGFjY29yZGluZyB0byBob3cgbGFyZ2UgdGhlIGFycmF5IGlzLlxuICAgICAgICAvLyBbJyNGRjAwMDAnLCAnIzAwRkYwMCcsICcjMDAwMEZGJ10gd291bGQgY3JlYXRlZCBzdG9wcyBhdCAwLjI1LCAwLjUgYW5kIDAuNzVcbiAgICAgICAgdmFyIGdyYWRpZW50O1xuICAgICAgICB2YXIgdG90YWxJdGVyYXRpb25zO1xuICAgICAgICB2YXIgY3VycmVudEl0ZXJhdGlvbjtcbiAgICAgICAgdmFyIHN0b3A7XG5cbiAgICAgICAgdmFyIHdpZHRoID0gTWF0aC5jZWlsKHRoaXMuY2FudmFzLndpZHRoIC8gdGhpcy5fcmVzb2x1dGlvbik7XG4gICAgICAgIHZhciBoZWlnaHQgPSBNYXRoLmNlaWwodGhpcy5jYW52YXMuaGVpZ2h0IC8gdGhpcy5fcmVzb2x1dGlvbik7XG5cbiAgICAgICAgLy8gbWFrZSBhIGNvcHkgb2YgdGhlIHN0eWxlIHNldHRpbmdzLCBzbyB3ZSBjYW4gbWFuaXB1bGF0ZSB0aGVtIGxhdGVyXG4gICAgICAgIHZhciBmaWxsID0gc3R5bGUuZmlsbC5zbGljZSgpO1xuICAgICAgICB2YXIgZmlsbEdyYWRpZW50U3RvcHMgPSBzdHlsZS5maWxsR3JhZGllbnRTdG9wcy5zbGljZSgpO1xuXG4gICAgICAgIC8vIHdhbnRpbmcgdG8gZXZlbmx5IGRpc3RyaWJ1dGUgdGhlIGZpbGxzLiBTbyBhbiBhcnJheSBvZiA0IGNvbG91cnMgc2hvdWxkIGdpdmUgZmlsbHMgb2YgMC4yNSwgMC41IGFuZCAwLjc1XG4gICAgICAgIGlmICghZmlsbEdyYWRpZW50U3RvcHMubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgbGVuZ3RoUGx1czEgPSBmaWxsLmxlbmd0aCArIDE7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbGVuZ3RoUGx1czE7ICsraSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmaWxsR3JhZGllbnRTdG9wcy5wdXNoKGkgLyBsZW5ndGhQbHVzMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzdG9wIHRoZSBibGVlZGluZyBvZiB0aGUgbGFzdCBncmFkaWVudCBvbiB0aGUgbGluZSBhYm92ZSB0byB0aGUgdG9wIGdyYWRpZW50IG9mIHRoZSB0aGlzIGxpbmVcbiAgICAgICAgLy8gYnkgaGFyZCBkZWZpbmluZyB0aGUgZmlyc3QgZ3JhZGllbnQgY29sb3VyIGF0IHBvaW50IDAsIGFuZCBsYXN0IGdyYWRpZW50IGNvbG91ciBhdCBwb2ludCAxXG4gICAgICAgIGZpbGwudW5zaGlmdChzdHlsZS5maWxsWzBdKTtcbiAgICAgICAgZmlsbEdyYWRpZW50U3RvcHMudW5zaGlmdCgwKTtcblxuICAgICAgICBmaWxsLnB1c2goc3R5bGUuZmlsbFtzdHlsZS5maWxsLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgZmlsbEdyYWRpZW50U3RvcHMucHVzaCgxKTtcblxuICAgICAgICBpZiAoc3R5bGUuZmlsbEdyYWRpZW50VHlwZSA9PT0gVEVYVF9HUkFESUVOVC5MSU5FQVJfVkVSVElDQUwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHN0YXJ0IHRoZSBncmFkaWVudCBhdCB0aGUgdG9wIGNlbnRlciBvZiB0aGUgY2FudmFzLCBhbmQgZW5kIGF0IHRoZSBib3R0b20gbWlkZGxlIG9mIHRoZSBjYW52YXNcbiAgICAgICAgICAgIGdyYWRpZW50ID0gdGhpcy5jb250ZXh0LmNyZWF0ZUxpbmVhckdyYWRpZW50KHdpZHRoIC8gMiwgMCwgd2lkdGggLyAyLCBoZWlnaHQpO1xuXG4gICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIHJlcGVhdCB0aGUgZ3JhZGllbnQgc28gdGhhdCBlYWNoIGluZGl2aWR1YWwgbGluZSBvZiB0ZXh0IGhhcyB0aGUgc2FtZSB2ZXJ0aWNhbCBncmFkaWVudCBlZmZlY3RcbiAgICAgICAgICAgIC8vIFsnI0ZGMDAwMCcsICcjMDBGRjAwJywgJyMwMDAwRkYnXSBvdmVyIDIgbGluZXMgd291bGQgY3JlYXRlIHN0b3BzIGF0IDAuMTI1LCAwLjI1LCAwLjM3NSwgMC42MjUsIDAuNzUsIDAuODc1XG4gICAgICAgICAgICB0b3RhbEl0ZXJhdGlvbnMgPSAoZmlsbC5sZW5ndGggKyAxKSAqIGxpbmVzLmxlbmd0aDtcbiAgICAgICAgICAgIGN1cnJlbnRJdGVyYXRpb24gPSAwO1xuICAgICAgICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgbGluZXMubGVuZ3RoOyBpJDErKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50SXRlcmF0aW9uICs9IDE7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBmaWxsLmxlbmd0aDsgaisrKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmaWxsR3JhZGllbnRTdG9wc1tqXSA9PT0gJ251bWJlcicpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3AgPSAoZmlsbEdyYWRpZW50U3RvcHNbal0gLyBsaW5lcy5sZW5ndGgpICsgKGkkMSAvIGxpbmVzLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9wID0gY3VycmVudEl0ZXJhdGlvbiAvIHRvdGFsSXRlcmF0aW9ucztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3Aoc3RvcCwgZmlsbFtqXSk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRJdGVyYXRpb24rKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBzdGFydCB0aGUgZ3JhZGllbnQgYXQgdGhlIGNlbnRlciBsZWZ0IG9mIHRoZSBjYW52YXMsIGFuZCBlbmQgYXQgdGhlIGNlbnRlciByaWdodCBvZiB0aGUgY2FudmFzXG4gICAgICAgICAgICBncmFkaWVudCA9IHRoaXMuY29udGV4dC5jcmVhdGVMaW5lYXJHcmFkaWVudCgwLCBoZWlnaHQgLyAyLCB3aWR0aCwgaGVpZ2h0IC8gMik7XG5cbiAgICAgICAgICAgIC8vIGNhbiBqdXN0IGV2ZW5seSBzcGFjZSBvdXQgdGhlIGdyYWRpZW50cyBpbiB0aGlzIGNhc2UsIGFzIG11bHRpcGxlIGxpbmVzIG1ha2VzIG5vIGRpZmZlcmVuY2VcbiAgICAgICAgICAgIC8vIHRvIGFuIGV2ZW4gbGVmdCB0byByaWdodCBncmFkaWVudFxuICAgICAgICAgICAgdG90YWxJdGVyYXRpb25zID0gZmlsbC5sZW5ndGggKyAxO1xuICAgICAgICAgICAgY3VycmVudEl0ZXJhdGlvbiA9IDE7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkkMiA9IDA7IGkkMiA8IGZpbGwubGVuZ3RoOyBpJDIrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZpbGxHcmFkaWVudFN0b3BzW2kkMl0gPT09ICdudW1iZXInKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcCA9IGZpbGxHcmFkaWVudFN0b3BzW2kkMl07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHN0b3AgPSBjdXJyZW50SXRlcmF0aW9uIC8gdG90YWxJdGVyYXRpb25zO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3Aoc3RvcCwgZmlsbFtpJDJdKTtcbiAgICAgICAgICAgICAgICBjdXJyZW50SXRlcmF0aW9uKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZ3JhZGllbnQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgdGV4dCBvYmplY3QuXG4gICAgICogTm90ZSogVW5saWtlIGEgU3ByaXRlLCBhIFRleHQgb2JqZWN0IHdpbGwgYXV0b21hdGljYWxseSBkZXN0cm95IGl0cyBiYXNlVGV4dHVyZSBhbmQgdGV4dHVyZSBhc1xuICAgICAqIHRoZSBtYWpvcml0eSBvZiB0aGUgdGltZSB0aGUgdGV4dHVyZSB3aWxsIG5vdCBiZSBzaGFyZWQgd2l0aCBhbnkgb3RoZXIgU3ByaXRlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXJcbiAgICAgKiAgZGVzdHJveSBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9dHJ1ZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgY3VycmVudCB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9dHJ1ZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95IChvcHRpb25zKVxuICAgIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnYm9vbGVhbicpXG4gICAgICAgIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7IGNoaWxkcmVuOiBvcHRpb25zIH07XG4gICAgICAgIH1cblxuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdERlc3Ryb3lPcHRpb25zLCBvcHRpb25zKTtcblxuICAgICAgICBTcHJpdGUucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCBvcHRpb25zKTtcblxuICAgICAgICAvLyBtYWtlIHN1cmUgdG8gcmVzZXQgdGhlIHRoZSBjb250ZXh0IGFuZCBjYW52YXMuLiBkb250IHdhbnQgdGhpcyBoYW5naW5nIGFyb3VuZCBpbiBtZW1vcnkhXG4gICAgICAgIHRoaXMuY29udGV4dCA9IG51bGw7XG4gICAgICAgIHRoaXMuY2FudmFzID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9zdHlsZSA9IG51bGw7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgVGV4dCwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMud2lkdGguZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcblxuICAgICAgICByZXR1cm4gTWF0aC5hYnModGhpcy5zY2FsZS54KSAqIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLndpZHRoLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG5cbiAgICAgICAgdmFyIHMgPSBzaWduKHRoaXMuc2NhbGUueCkgfHwgMTtcblxuICAgICAgICB0aGlzLnNjYWxlLnggPSBzICogdmFsdWUgLyB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgIHRoaXMuX3dpZHRoID0gdmFsdWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIFRleHQsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmhlaWdodC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuXG4gICAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLnNjYWxlLnkpICogdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmhlaWdodC5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuXG4gICAgICAgIHZhciBzID0gc2lnbih0aGlzLnNjYWxlLnkpIHx8IDE7XG5cbiAgICAgICAgdGhpcy5zY2FsZS55ID0gcyAqIHZhbHVlIC8gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgdGhpcy5faGVpZ2h0ID0gdmFsdWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgc3R5bGUgb2YgdGhlIHRleHQuIFNldCB1cCBhbiBldmVudCBsaXN0ZW5lciB0byBsaXN0ZW4gZm9yIGNoYW5nZXMgb24gdGhlIHN0eWxlXG4gICAgICogb2JqZWN0IGFuZCBtYXJrIHRoZSB0ZXh0IGFzIGRpcnR5LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7b2JqZWN0fFBJWEkuVGV4dFN0eWxlfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5zdHlsZS5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0eWxlO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuc3R5bGUuc2V0ID0gZnVuY3Rpb24gKHN0eWxlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHN0eWxlID0gc3R5bGUgfHwge307XG5cbiAgICAgICAgaWYgKHN0eWxlIGluc3RhbmNlb2YgVGV4dFN0eWxlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9zdHlsZSA9IHN0eWxlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fc3R5bGUgPSBuZXcgVGV4dFN0eWxlKHN0eWxlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubG9jYWxTdHlsZUlEID0gLTE7XG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGNvcHkgZm9yIHRoZSB0ZXh0IG9iamVjdC4gVG8gc3BsaXQgYSBsaW5lIHlvdSBjYW4gdXNlICdcXG4nLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy50ZXh0LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGV4dDtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRleHQuc2V0ID0gZnVuY3Rpb24gKHRleHQpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGV4dCA9IFN0cmluZyh0ZXh0ID09PSBudWxsIHx8IHRleHQgPT09IHVuZGVmaW5lZCA/ICcnIDogdGV4dCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3RleHQgPT09IHRleHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90ZXh0ID0gdGV4dDtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSBjYW52YXMuXG4gICAgICogVGhpcyBpcyBzZXQgdG8gYXV0b21hdGljYWxseSBtYXRjaCB0aGUgcmVuZGVyZXIgcmVzb2x1dGlvbiBieSBkZWZhdWx0LCBidXQgY2FuIGJlIG92ZXJyaWRkZW4gYnkgc2V0dGluZyBtYW51YWxseS5cbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5yZXNvbHV0aW9uLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVzb2x1dGlvbjtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnJlc29sdXRpb24uc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX2F1dG9SZXNvbHV0aW9uID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHRoaXMuX3Jlc29sdXRpb24gPT09IHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9yZXNvbHV0aW9uID0gdmFsdWU7XG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggVGV4dC5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4gICAgcmV0dXJuIFRleHQ7XG59KFNwcml0ZSkpO1xuXG5leHBvcnQgeyBURVhUX0dSQURJRU5ULCBUZXh0LCBUZXh0TWV0cmljcywgVGV4dFN0eWxlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZXh0LmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9wcmVwYXJlIC0gdjUuMS40XG4gKiBDb21waWxlZCBGcmksIDIwIFNlcCAyMDE5IDE3OjE3OjU5IFVUQ1xuICpcbiAqIEBwaXhpL3ByZXBhcmUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IFRleHR1cmUsIEJhc2VUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBHcmFwaGljcyB9IGZyb20gJ0BwaXhpL2dyYXBoaWNzJztcbmltcG9ydCB7IFRpY2tlciwgVVBEQVRFX1BSSU9SSVRZIH0gZnJvbSAnQHBpeGkvdGlja2VyJztcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgVGV4dCwgVGV4dFN0eWxlLCBUZXh0TWV0cmljcyB9IGZyb20gJ0BwaXhpL3RleHQnO1xuXG4vKipcbiAqIERlZmF1bHQgbnVtYmVyIG9mIHVwbG9hZHMgcGVyIGZyYW1lIHVzaW5nIHByZXBhcmUgcGx1Z2luLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gKiBAbmFtZSBVUExPQURTX1BFUl9GUkFNRVxuICogQHR5cGUge251bWJlcn1cbiAqIEBkZWZhdWx0IDRcbiAqL1xuc2V0dGluZ3MuVVBMT0FEU19QRVJfRlJBTUUgPSA0O1xuXG4vKipcbiAqIENvdW50TGltaXRlciBsaW1pdHMgdGhlIG51bWJlciBvZiBpdGVtcyBoYW5kbGVkIGJ5IGEge0BsaW5rIFBJWEkucHJlcGFyZS5CYXNlUHJlcGFyZX0gdG8gYSBzcGVjaWZpZWRcbiAqIG51bWJlciBvZiBpdGVtcyBwZXIgZnJhbWUuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5wcmVwYXJlXG4gKi9cbnZhciBDb3VudExpbWl0ZXIgPSBmdW5jdGlvbiBDb3VudExpbWl0ZXIobWF4SXRlbXNQZXJGcmFtZSlcbntcbiAgICAvKipcbiAgICAgKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgaXRlbXMgdGhhdCBjYW4gYmUgcHJlcGFyZWQgZWFjaCBmcmFtZS5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5tYXhJdGVtc1BlckZyYW1lID0gbWF4SXRlbXNQZXJGcmFtZTtcbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIGl0ZW1zIHRoYXQgY2FuIGJlIHByZXBhcmVkIGluIHRoZSBjdXJyZW50IGZyYW1lLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLml0ZW1zTGVmdCA9IDA7XG59O1xuXG4vKipcbiAqIFJlc2V0cyBhbnkgY291bnRpbmcgcHJvcGVydGllcyB0byBzdGFydCBmcmVzaCBvbiBhIG5ldyBmcmFtZS5cbiAqL1xuQ291bnRMaW1pdGVyLnByb3RvdHlwZS5iZWdpbkZyYW1lID0gZnVuY3Rpb24gYmVnaW5GcmFtZSAoKVxue1xuICAgIHRoaXMuaXRlbXNMZWZ0ID0gdGhpcy5tYXhJdGVtc1BlckZyYW1lO1xufTtcblxuLyoqXG4gKiBDaGVja3MgdG8gc2VlIGlmIGFub3RoZXIgaXRlbSBjYW4gYmUgdXBsb2FkZWQuIFRoaXMgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uY2UgcGVyIGl0ZW0uXG4gKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgaXRlbSBpcyBhbGxvd2VkIHRvIGJlIHVwbG9hZGVkLlxuICovXG5Db3VudExpbWl0ZXIucHJvdG90eXBlLmFsbG93ZWRUb1VwbG9hZCA9IGZ1bmN0aW9uIGFsbG93ZWRUb1VwbG9hZCAoKVxue1xuICAgIHJldHVybiB0aGlzLml0ZW1zTGVmdC0tID4gMDtcbn07XG5cbi8qKlxuICogVGhlIHByZXBhcmUgbWFuYWdlciBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IHRvIHVwbG9hZCBjb250ZW50IHRvIHRoZSBHUFUuXG4gKlxuICogQmFzZVByZXBhcmUgaGFuZGxlcyBiYXNpYyBxdWV1aW5nIGZ1bmN0aW9uYWxpdHkgYW5kIGlzIGV4dGVuZGVkIGJ5XG4gKiB7QGxpbmsgUElYSS5wcmVwYXJlLlByZXBhcmV9IGFuZCB7QGxpbmsgUElYSS5wcmVwYXJlLkNhbnZhc1ByZXBhcmV9XG4gKiB0byBwcm92aWRlIHByZXBhcmF0aW9uIGNhcGFiaWxpdGllcyBzcGVjaWZpYyB0byB0aGVpciByZXNwZWN0aXZlIHJlbmRlcmVycy5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQ3JlYXRlIGEgc3ByaXRlXG4gKiBjb25zdCBzcHJpdGUgPSBQSVhJLlNwcml0ZS5mcm9tKCdzb21ldGhpbmcucG5nJyk7XG4gKlxuICogLy8gTG9hZCBvYmplY3QgaW50byBHUFVcbiAqIGFwcC5yZW5kZXJlci5wbHVnaW5zLnByZXBhcmUudXBsb2FkKHNwcml0ZSwgKCkgPT4ge1xuICpcbiAqICAgICAvL1RleHR1cmUocykgaGFzIGJlZW4gdXBsb2FkZWQgdG8gR1BVXG4gKiAgICAgYXBwLnN0YWdlLmFkZENoaWxkKHNwcml0ZSk7XG4gKlxuICogfSlcbiAqXG4gKiBAYWJzdHJhY3RcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkucHJlcGFyZVxuICovXG52YXIgQmFzZVByZXBhcmUgPSBmdW5jdGlvbiBCYXNlUHJlcGFyZShyZW5kZXJlcilcbntcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIC8qKlxuICAgICAqIFRoZSBsaW1pdGVyIHRvIGJlIHVzZWQgdG8gY29udHJvbCBob3cgcXVpY2tseSBpdGVtcyBhcmUgcHJlcGFyZWQuXG4gICAgICogQHR5cGUge1BJWEkucHJlcGFyZS5Db3VudExpbWl0ZXJ8UElYSS5wcmVwYXJlLlRpbWVMaW1pdGVyfVxuICAgICAqL1xuICAgIHRoaXMubGltaXRlciA9IG5ldyBDb3VudExpbWl0ZXIoc2V0dGluZ3MuVVBMT0FEU19QRVJfRlJBTUUpO1xuXG4gICAgLyoqXG4gICAgICogUmVmZXJlbmNlIHRvIHRoZSByZW5kZXJlci5cbiAgICAgKiBAdHlwZSB7UElYSS5BYnN0cmFjdFJlbmRlcmVyfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb25seSByZWFsIGRpZmZlcmVuY2UgYmV0d2VlbiBDYW52YXNQcmVwYXJlIGFuZCBQcmVwYXJlIGlzIHdoYXQgdGhleSBwYXNzXG4gICAgICogdG8gdXBsb2FkIGhvb2tzLiBUaGF0IGRpZmZlcmVudCBwYXJhbWV0ZXIgaXMgc3RvcmVkIGhlcmUuXG4gICAgICogQHR5cGUge1BJWEkucHJlcGFyZS5DYW52YXNQcmVwYXJlfFBJWEkuUmVuZGVyZXJ9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHRoaXMudXBsb2FkSG9va0hlbHBlciA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBDb2xsZWN0aW9uIG9mIGl0ZW1zIHRvIHVwbG9hZHMgYXQgb25jZS5cbiAgICAgKiBAdHlwZSB7QXJyYXk8Kj59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnF1ZXVlID0gW107XG5cbiAgICAvKipcbiAgICAgKiBDb2xsZWN0aW9uIG9mIGFkZGl0aW9uYWwgaG9va3MgZm9yIGZpbmRpbmcgYXNzZXRzLlxuICAgICAqIEB0eXBlIHtBcnJheTxGdW5jdGlvbj59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmFkZEhvb2tzID0gW107XG5cbiAgICAvKipcbiAgICAgKiBDb2xsZWN0aW9uIG9mIGFkZGl0aW9uYWwgaG9va3MgZm9yIHByb2Nlc3NpbmcgYXNzZXRzLlxuICAgICAqIEB0eXBlIHtBcnJheTxGdW5jdGlvbj59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnVwbG9hZEhvb2tzID0gW107XG5cbiAgICAvKipcbiAgICAgKiBDYWxsYmFjayB0byBjYWxsIGFmdGVyIGNvbXBsZXRlZC5cbiAgICAgKiBAdHlwZSB7QXJyYXk8RnVuY3Rpb24+fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5jb21wbGV0ZXMgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIElmIHByZXBhcmUgaXMgdGlja2luZyAocnVubmluZykuXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnRpY2tpbmcgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqICdib3VuZCcgY2FsbCBmb3IgcHJlcGFyZUl0ZW1zKCkuXG4gICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5kZWxheWVkVGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gdW5saWtlbHksIGJ1dCBpbiBjYXNlIHdlIHdlcmUgZGVzdHJveWVkIGJldHdlZW4gdGljaygpIGFuZCBkZWxheWVkVGljaygpXG4gICAgICAgIGlmICghdGhpcyQxLnF1ZXVlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcyQxLnByZXBhcmVJdGVtcygpO1xuICAgIH07XG5cbiAgICAvLyBob29rcyB0byBmaW5kIHRoZSBjb3JyZWN0IHRleHR1cmVcbiAgICB0aGlzLnJlZ2lzdGVyRmluZEhvb2soZmluZFRleHQpO1xuICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kVGV4dFN0eWxlKTtcbiAgICB0aGlzLnJlZ2lzdGVyRmluZEhvb2soZmluZE11bHRpcGxlQmFzZVRleHR1cmVzKTtcbiAgICB0aGlzLnJlZ2lzdGVyRmluZEhvb2soZmluZEJhc2VUZXh0dXJlKTtcbiAgICB0aGlzLnJlZ2lzdGVyRmluZEhvb2soZmluZFRleHR1cmUpO1xuXG4gICAgLy8gdXBsb2FkIGhvb2tzXG4gICAgdGhpcy5yZWdpc3RlclVwbG9hZEhvb2soZHJhd1RleHQpO1xuICAgIHRoaXMucmVnaXN0ZXJVcGxvYWRIb29rKGNhbGN1bGF0ZVRleHRTdHlsZSk7XG59O1xuXG4vKipcbiAqIFVwbG9hZCBhbGwgdGhlIHRleHR1cmVzIGFuZCBncmFwaGljcyB0byB0aGUgR1BVLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb258UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuQ29udGFpbmVyfFBJWEkuQmFzZVRleHR1cmV8UElYSS5UZXh0dXJlfFBJWEkuR3JhcGhpY3N8UElYSS5UZXh0fSBpdGVtIC1cbiAqICAgIEVpdGhlciB0aGUgY29udGFpbmVyIG9yIGRpc3BsYXkgb2JqZWN0IHRvIHNlYXJjaCBmb3IgaXRlbXMgdG8gdXBsb2FkLCB0aGUgaXRlbXMgdG8gdXBsb2FkIHRoZW1zZWx2ZXMsXG4gKiAgICBvciB0aGUgY2FsbGJhY2sgZnVuY3Rpb24sIGlmIGl0ZW1zIGhhdmUgYmVlbiBhZGRlZCB1c2luZyBgcHJlcGFyZS5hZGRgLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2RvbmVdIC0gT3B0aW9uYWwgY2FsbGJhY2sgd2hlbiBhbGwgcXVldWVkIHVwbG9hZHMgaGF2ZSBjb21wbGV0ZWRcbiAqL1xuQmFzZVByZXBhcmUucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uIHVwbG9hZCAoaXRlbSwgZG9uZSlcbntcbiAgICBpZiAodHlwZW9mIGl0ZW0gPT09ICdmdW5jdGlvbicpXG4gICAge1xuICAgICAgICBkb25lID0gaXRlbTtcbiAgICAgICAgaXRlbSA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gSWYgYSBkaXNwbGF5IG9iamVjdCwgc2VhcmNoIGZvciBpdGVtc1xuICAgIC8vIHRoYXQgd2UgY291bGQgdXBsb2FkXG4gICAgaWYgKGl0ZW0pXG4gICAge1xuICAgICAgICB0aGlzLmFkZChpdGVtKTtcbiAgICB9XG5cbiAgICAvLyBHZXQgdGhlIGl0ZW1zIGZvciB1cGxvYWQgZnJvbSB0aGUgZGlzcGxheVxuICAgIGlmICh0aGlzLnF1ZXVlLmxlbmd0aClcbiAgICB7XG4gICAgICAgIGlmIChkb25lKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmNvbXBsZXRlcy5wdXNoKGRvbmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLnRpY2tpbmcpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudGlja2luZyA9IHRydWU7XG4gICAgICAgICAgICBUaWNrZXIuc3lzdGVtLmFkZE9uY2UodGhpcy50aWNrLCB0aGlzLCBVUERBVEVfUFJJT1JJVFkuVVRJTElUWSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoZG9uZSlcbiAgICB7XG4gICAgICAgIGRvbmUoKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIEhhbmRsZSB0aWNrIHVwZGF0ZVxuICpcbiAqIEBwcml2YXRlXG4gKi9cbkJhc2VQcmVwYXJlLnByb3RvdHlwZS50aWNrID0gZnVuY3Rpb24gdGljayAoKVxue1xuICAgIHNldFRpbWVvdXQodGhpcy5kZWxheWVkVGljaywgMCk7XG59O1xuXG4vKipcbiAqIEFjdHVhbGx5IHByZXBhcmUgaXRlbXMuIFRoaXMgaXMgaGFuZGxlZCBvdXRzaWRlIG9mIHRoZSB0aWNrIGJlY2F1c2UgaXQgd2lsbCB0YWtlIGEgd2hpbGVcbiAqIGFuZCB3ZSBkbyBOT1Qgd2FudCB0byBibG9jayB0aGUgY3VycmVudCBhbmltYXRpb24gZnJhbWUgZnJvbSByZW5kZXJpbmcuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuQmFzZVByZXBhcmUucHJvdG90eXBlLnByZXBhcmVJdGVtcyA9IGZ1bmN0aW9uIHByZXBhcmVJdGVtcyAoKVxue1xuICAgIHRoaXMubGltaXRlci5iZWdpbkZyYW1lKCk7XG4gICAgLy8gVXBsb2FkIHRoZSBncmFwaGljc1xuICAgIHdoaWxlICh0aGlzLnF1ZXVlLmxlbmd0aCAmJiB0aGlzLmxpbWl0ZXIuYWxsb3dlZFRvVXBsb2FkKCkpXG4gICAge1xuICAgICAgICB2YXIgaXRlbSA9IHRoaXMucXVldWVbMF07XG4gICAgICAgIHZhciB1cGxvYWRlZCA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChpdGVtICYmICFpdGVtLl9kZXN0cm95ZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzLnVwbG9hZEhvb2tzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnVwbG9hZEhvb2tzW2ldKHRoaXMudXBsb2FkSG9va0hlbHBlciwgaXRlbSkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgIHVwbG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF1cGxvYWRlZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5xdWV1ZS5zaGlmdCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gV2UncmUgZmluaXNoZWRcbiAgICBpZiAoIXRoaXMucXVldWUubGVuZ3RoKVxuICAgIHtcbiAgICAgICAgdGhpcy50aWNraW5nID0gZmFsc2U7XG5cbiAgICAgICAgdmFyIGNvbXBsZXRlcyA9IHRoaXMuY29tcGxldGVzLnNsaWNlKDApO1xuXG4gICAgICAgIHRoaXMuY29tcGxldGVzLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgZm9yICh2YXIgaSQxID0gMCwgbGVuJDEgPSBjb21wbGV0ZXMubGVuZ3RoOyBpJDEgPCBsZW4kMTsgaSQxKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbXBsZXRlc1tpJDFdKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgLy8gaWYgd2UgYXJlIG5vdCBmaW5pc2hlZCwgb24gdGhlIG5leHQgckFGIGRvIHRoaXMgYWdhaW5cbiAgICAgICAgVGlja2VyLnN5c3RlbS5hZGRPbmNlKHRoaXMudGljaywgdGhpcywgVVBEQVRFX1BSSU9SSVRZLlVUSUxJVFkpO1xuICAgIH1cbn07XG5cbi8qKlxuICogQWRkcyBob29rcyBmb3IgZmluZGluZyBpdGVtcy5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBhZGRIb29rIC0gRnVuY3Rpb24gY2FsbCB0aGF0IHRha2VzIHR3byBwYXJhbWV0ZXJzOiBgaXRlbToqLCBxdWV1ZTpBcnJheWBcbiAqICAgICAgZnVuY3Rpb24gbXVzdCByZXR1cm4gYHRydWVgIGlmIGl0IHdhcyBhYmxlIHRvIGFkZCBpdGVtIHRvIHRoZSBxdWV1ZS5cbiAqIEByZXR1cm4ge1BJWEkucHJlcGFyZS5CYXNlUHJlcGFyZX0gSW5zdGFuY2Ugb2YgcGx1Z2luIGZvciBjaGFpbmluZy5cbiAqL1xuQmFzZVByZXBhcmUucHJvdG90eXBlLnJlZ2lzdGVyRmluZEhvb2sgPSBmdW5jdGlvbiByZWdpc3RlckZpbmRIb29rIChhZGRIb29rKVxue1xuICAgIGlmIChhZGRIb29rKVxuICAgIHtcbiAgICAgICAgdGhpcy5hZGRIb29rcy5wdXNoKGFkZEhvb2spO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBBZGRzIGhvb2tzIGZvciB1cGxvYWRpbmcgaXRlbXMuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gdXBsb2FkSG9vayAtIEZ1bmN0aW9uIGNhbGwgdGhhdCB0YWtlcyB0d28gcGFyYW1ldGVyczogYHByZXBhcmU6Q2FudmFzUHJlcGFyZSwgaXRlbToqYCBhbmRcbiAqICAgICAgZnVuY3Rpb24gbXVzdCByZXR1cm4gYHRydWVgIGlmIGl0IHdhcyBhYmxlIHRvIGhhbmRsZSB1cGxvYWQgb2YgaXRlbS5cbiAqIEByZXR1cm4ge1BJWEkucHJlcGFyZS5CYXNlUHJlcGFyZX0gSW5zdGFuY2Ugb2YgcGx1Z2luIGZvciBjaGFpbmluZy5cbiAqL1xuQmFzZVByZXBhcmUucHJvdG90eXBlLnJlZ2lzdGVyVXBsb2FkSG9vayA9IGZ1bmN0aW9uIHJlZ2lzdGVyVXBsb2FkSG9vayAodXBsb2FkSG9vaylcbntcbiAgICBpZiAodXBsb2FkSG9vaylcbiAgICB7XG4gICAgICAgIHRoaXMudXBsb2FkSG9va3MucHVzaCh1cGxvYWRIb29rKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogTWFudWFsbHkgYWRkIGFuIGl0ZW0gdG8gdGhlIHVwbG9hZGluZyBxdWV1ZS5cbiAqXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLkNvbnRhaW5lcnxQSVhJLkJhc2VUZXh0dXJlfFBJWEkuVGV4dHVyZXxQSVhJLkdyYXBoaWNzfFBJWEkuVGV4dHwqfSBpdGVtIC0gT2JqZWN0IHRvXG4gKiAgICBhZGQgdG8gdGhlIHF1ZXVlXG4gKiBAcmV0dXJuIHtQSVhJLnByZXBhcmUuQmFzZVByZXBhcmV9IEluc3RhbmNlIG9mIHBsdWdpbiBmb3IgY2hhaW5pbmcuXG4gKi9cbkJhc2VQcmVwYXJlLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiBhZGQgKGl0ZW0pXG57XG4gICAgLy8gQWRkIGFkZGl0aW9uYWwgaG9va3MgZm9yIGZpbmRpbmcgZWxlbWVudHMgb24gc3BlY2lhbFxuICAgIC8vIHR5cGVzIG9mIG9iamVjdHMgdGhhdFxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzLmFkZEhvb2tzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuYWRkSG9va3NbaV0oaXRlbSwgdGhpcy5xdWV1ZSkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gR2V0IGNoaWxkcmVuIHJlY3Vyc2l2ZWx5XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBDb250YWluZXIpXG4gICAge1xuICAgICAgICBmb3IgKHZhciBpJDEgPSBpdGVtLmNoaWxkcmVuLmxlbmd0aCAtIDE7IGkkMSA+PSAwOyBpJDEtLSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5hZGQoaXRlbS5jaGlsZHJlbltpJDFdKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBEZXN0cm95cyB0aGUgcGx1Z2luLCBkb24ndCB1c2UgYWZ0ZXIgdGhpcy5cbiAqXG4gKi9cbkJhc2VQcmVwYXJlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxue1xuICAgIGlmICh0aGlzLnRpY2tpbmcpXG4gICAge1xuICAgICAgICBUaWNrZXIuc3lzdGVtLnJlbW92ZSh0aGlzLnRpY2ssIHRoaXMpO1xuICAgIH1cbiAgICB0aGlzLnRpY2tpbmcgPSBmYWxzZTtcbiAgICB0aGlzLmFkZEhvb2tzID0gbnVsbDtcbiAgICB0aGlzLnVwbG9hZEhvb2tzID0gbnVsbDtcbiAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICB0aGlzLmNvbXBsZXRlcyA9IG51bGw7XG4gICAgdGhpcy5xdWV1ZSA9IG51bGw7XG4gICAgdGhpcy5saW1pdGVyID0gbnVsbDtcbiAgICB0aGlzLnVwbG9hZEhvb2tIZWxwZXIgPSBudWxsO1xufTtcblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGZpbmQgbXVsdGlwbGUgdGV4dHVyZXMgZnJvbSBvYmplY3RzIGxpa2UgQW5pbWF0ZWRTcHJpdGVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuVGV4dHVyZSBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBmaW5kTXVsdGlwbGVCYXNlVGV4dHVyZXMoaXRlbSwgcXVldWUpXG57XG4gICAgdmFyIHJlc3VsdCA9IGZhbHNlO1xuXG4gICAgLy8gT2JqZWN0cyB3aXRoIG11bHRpcGxlIHRleHR1cmVzXG4gICAgaWYgKGl0ZW0gJiYgaXRlbS5fdGV4dHVyZXMgJiYgaXRlbS5fdGV4dHVyZXMubGVuZ3RoKVxuICAgIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtLl90ZXh0dXJlcy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGl0ZW0uX3RleHR1cmVzW2ldIGluc3RhbmNlb2YgVGV4dHVyZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSBpdGVtLl90ZXh0dXJlc1tpXS5iYXNlVGV4dHVyZTtcblxuICAgICAgICAgICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKGJhc2VUZXh0dXJlKSA9PT0gLTEpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKGJhc2VUZXh0dXJlKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCBCYXNlVGV4dHVyZXMgZnJvbSBTcHJpdGVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuVGV4dHVyZSBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBmaW5kQmFzZVRleHR1cmUoaXRlbSwgcXVldWUpXG57XG4gICAgLy8gT2JqZWN0cyB3aXRoIHRleHR1cmVzLCBsaWtlIFNwcml0ZXMvVGV4dFxuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgQmFzZVRleHR1cmUpXG4gICAge1xuICAgICAgICBpZiAocXVldWUuaW5kZXhPZihpdGVtKSA9PT0gLTEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2goaXRlbSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBmaW5kIHRleHR1cmVzIGZyb20gb2JqZWN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBEaXNwbGF5IG9iamVjdCB0byBjaGVja1xuICogQHBhcmFtIHtBcnJheTwqPn0gcXVldWUgLSBDb2xsZWN0aW9uIG9mIGl0ZW1zIHRvIHVwbG9hZFxuICogQHJldHVybiB7Ym9vbGVhbn0gaWYgYSBQSVhJLlRleHR1cmUgb2JqZWN0IHdhcyBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gZmluZFRleHR1cmUoaXRlbSwgcXVldWUpXG57XG4gICAgaWYgKGl0ZW0uX3RleHR1cmUgJiYgaXRlbS5fdGV4dHVyZSBpbnN0YW5jZW9mIFRleHR1cmUpXG4gICAge1xuICAgICAgICB2YXIgdGV4dHVyZSA9IGl0ZW0uX3RleHR1cmUuYmFzZVRleHR1cmU7XG5cbiAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YodGV4dHVyZSkgPT09IC0xKVxuICAgICAgICB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKHRleHR1cmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZHJhdyBQSVhJLlRleHQgdG8gaXRzIHRleHR1cmUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcnxQSVhJLkNhbnZhc1ByZXBhcmV9IGhlbHBlciAtIE5vdCB1c2VkIGJ5IHRoaXMgdXBsb2FkIGhhbmRsZXJcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gSXRlbSB0byBjaGVja1xuICogQHJldHVybiB7Ym9vbGVhbn0gSWYgaXRlbSB3YXMgdXBsb2FkZWQuXG4gKi9cbmZ1bmN0aW9uIGRyYXdUZXh0KGhlbHBlciwgaXRlbSlcbntcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIFRleHQpXG4gICAge1xuICAgICAgICAvLyB1cGRhdGluZyB0ZXh0IHdpbGwgcmV0dXJuIGVhcmx5IGlmIGl0IGlzIG5vdCBkaXJ0eVxuICAgICAgICBpdGVtLnVwZGF0ZVRleHQodHJ1ZSk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gY2FsY3VsYXRlIGEgdGV4dCBzdHlsZSBmb3IgYSBQSVhJLlRleHQgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ8UElYSS5DYW52YXNQcmVwYXJlfSBoZWxwZXIgLSBOb3QgdXNlZCBieSB0aGlzIHVwbG9hZCBoYW5kbGVyXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIEl0ZW0gdG8gY2hlY2tcbiAqIEByZXR1cm4ge2Jvb2xlYW59IElmIGl0ZW0gd2FzIHVwbG9hZGVkLlxuICovXG5mdW5jdGlvbiBjYWxjdWxhdGVUZXh0U3R5bGUoaGVscGVyLCBpdGVtKVxue1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgVGV4dFN0eWxlKVxuICAgIHtcbiAgICAgICAgdmFyIGZvbnQgPSBpdGVtLnRvRm9udFN0cmluZygpO1xuXG4gICAgICAgIFRleHRNZXRyaWNzLm1lYXN1cmVGb250KGZvbnQpO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGZpbmQgVGV4dCBvYmplY3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuVGV4dCBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBmaW5kVGV4dChpdGVtLCBxdWV1ZSlcbntcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIFRleHQpXG4gICAge1xuICAgICAgICAvLyBwdXNoIHRoZSB0ZXh0IHN0eWxlIHRvIHByZXBhcmUgaXQgLSB0aGlzIGNhbiBiZSByZWFsbHkgZXhwZW5zaXZlXG4gICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKGl0ZW0uc3R5bGUpID09PSAtMSlcbiAgICAgICAge1xuICAgICAgICAgICAgcXVldWUucHVzaChpdGVtLnN0eWxlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhbHNvIHB1c2ggdGhlIHRleHQgb2JqZWN0IHNvIHRoYXQgd2UgY2FuIHJlbmRlciBpdCAodG8gY2FudmFzL3RleHR1cmUpIGlmIG5lZWRlZFxuICAgICAgICBpZiAocXVldWUuaW5kZXhPZihpdGVtKSA9PT0gLTEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2goaXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWxzbyBwdXNoIHRoZSBUZXh0J3MgdGV4dHVyZSBmb3IgdXBsb2FkIHRvIEdQVVxuICAgICAgICB2YXIgdGV4dHVyZSA9IGl0ZW0uX3RleHR1cmUuYmFzZVRleHR1cmU7XG5cbiAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YodGV4dHVyZSkgPT09IC0xKVxuICAgICAgICB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKHRleHR1cmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCBUZXh0U3R5bGUgb2JqZWN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLlRleHRTdHlsZX0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuVGV4dFN0eWxlIG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRUZXh0U3R5bGUoaXRlbSwgcXVldWUpXG57XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBUZXh0U3R5bGUpXG4gICAge1xuICAgICAgICBpZiAocXVldWUuaW5kZXhPZihpdGVtKSA9PT0gLTEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2goaXRlbSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogVGhlIHByZXBhcmUgbWFuYWdlciBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IHRvIHVwbG9hZCBjb250ZW50IHRvIHRoZSBHUFUuXG4gKlxuICogQW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGNyZWF0ZWQgYnkgZGVmYXVsdCwgYW5kIGNhbiBiZSBmb3VuZCBhdCBgcmVuZGVyZXIucGx1Z2lucy5wcmVwYXJlYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5wcmVwYXJlLkJhc2VQcmVwYXJlXG4gKiBAbWVtYmVyb2YgUElYSS5wcmVwYXJlXG4gKi9cbnZhciBQcmVwYXJlID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoQmFzZVByZXBhcmUpIHtcbiAgICBmdW5jdGlvbiBQcmVwYXJlKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgQmFzZVByZXBhcmUuY2FsbCh0aGlzLCByZW5kZXJlcik7XG5cbiAgICAgICAgdGhpcy51cGxvYWRIb29rSGVscGVyID0gdGhpcy5yZW5kZXJlcjtcblxuICAgICAgICAvLyBBZGQgdGV4dHVyZXMgYW5kIGdyYXBoaWNzIHRvIHVwbG9hZFxuICAgICAgICB0aGlzLnJlZ2lzdGVyRmluZEhvb2soZmluZEdyYXBoaWNzKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlclVwbG9hZEhvb2sodXBsb2FkQmFzZVRleHR1cmVzKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlclVwbG9hZEhvb2sodXBsb2FkR3JhcGhpY3MpO1xuICAgIH1cblxuICAgIGlmICggQmFzZVByZXBhcmUgKSBQcmVwYXJlLl9fcHJvdG9fXyA9IEJhc2VQcmVwYXJlO1xuICAgIFByZXBhcmUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQmFzZVByZXBhcmUgJiYgQmFzZVByZXBhcmUucHJvdG90eXBlICk7XG4gICAgUHJlcGFyZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBQcmVwYXJlO1xuXG4gICAgcmV0dXJuIFByZXBhcmU7XG59KEJhc2VQcmVwYXJlKSk7XG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gdXBsb2FkIFBJWEkuVGV4dHVyZSBvYmplY3RzIHRvIHRoZSBHUFUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBpbnN0YW5jZSBvZiB0aGUgd2ViZ2wgcmVuZGVyZXJcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gSXRlbSB0byBjaGVja1xuICogQHJldHVybiB7Ym9vbGVhbn0gSWYgaXRlbSB3YXMgdXBsb2FkZWQuXG4gKi9cbmZ1bmN0aW9uIHVwbG9hZEJhc2VUZXh0dXJlcyhyZW5kZXJlciwgaXRlbSlcbntcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIEJhc2VUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgLy8gaWYgdGhlIHRleHR1cmUgYWxyZWFkeSBoYXMgYSBHTCB0ZXh0dXJlLCB0aGVuIHRoZSB0ZXh0dXJlIGhhcyBiZWVuIHByZXBhcmVkIG9yIHJlbmRlcmVkXG4gICAgICAgIC8vIGJlZm9yZSBub3cuIElmIHRoZSB0ZXh0dXJlIGNoYW5nZWQsIHRoZW4gdGhlIGNoYW5nZXIgc2hvdWxkIGJlIGNhbGxpbmcgdGV4dHVyZS51cGRhdGUoKSB3aGljaFxuICAgICAgICAvLyByZXVwbG9hZHMgdGhlIHRleHR1cmUgd2l0aG91dCBuZWVkIGZvciBwcmVwYXJpbmcgaXQgYWdhaW5cbiAgICAgICAgaWYgKCFpdGVtLl9nbFRleHR1cmVzW3JlbmRlcmVyLkNPTlRFWFRfVUlEXSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmVuZGVyZXIudGV4dHVyZS5iaW5kKGl0ZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gdXBsb2FkIFBJWEkuR3JhcGhpY3MgdG8gdGhlIEdQVS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIGluc3RhbmNlIG9mIHRoZSB3ZWJnbCByZW5kZXJlclxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBJdGVtIHRvIGNoZWNrXG4gKiBAcmV0dXJuIHtib29sZWFufSBJZiBpdGVtIHdhcyB1cGxvYWRlZC5cbiAqL1xuZnVuY3Rpb24gdXBsb2FkR3JhcGhpY3MocmVuZGVyZXIsIGl0ZW0pXG57XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBHcmFwaGljcylcbiAgICB7XG4gICAgICAgIC8vIGlmIHRoZSBpdGVtIGlzIG5vdCBkaXJ0eSBhbmQgYWxyZWFkeSBoYXMgd2ViZ2wgZGF0YSwgdGhlbiBpdCBnb3QgcHJlcGFyZWQgb3IgcmVuZGVyZWRcbiAgICAgICAgLy8gYmVmb3JlIG5vdyBhbmQgd2Ugc2hvdWxkbid0IHdhc3RlIHRpbWUgdXBkYXRpbmcgaXQgYWdhaW5cbiAgICAgICAgaWYgKGl0ZW0uZGlydHkgfHwgaXRlbS5jbGVhckRpcnR5IHx8ICFpdGVtLl93ZWJHTFtyZW5kZXJlci5wbHVnaW5zLmdyYXBoaWNzLkNPTlRFWFRfVUlEXSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmVuZGVyZXIucGx1Z2lucy5ncmFwaGljcy51cGRhdGVHcmFwaGljcyhpdGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGZpbmQgZ3JhcGhpY3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5HcmFwaGljcyBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBmaW5kR3JhcGhpY3MoaXRlbSwgcXVldWUpXG57XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBHcmFwaGljcylcbiAgICB7XG4gICAgICAgIHF1ZXVlLnB1c2goaXRlbSk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIFRpbWVMaW1pdGVyIGxpbWl0cyB0aGUgbnVtYmVyIG9mIGl0ZW1zIGhhbmRsZWQgYnkgYSB7QGxpbmsgUElYSS5CYXNlUHJlcGFyZX0gdG8gYSBzcGVjaWZpZWRcbiAqIG51bWJlciBvZiBtaWxsaXNlY29uZHMgcGVyIGZyYW1lLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkucHJlcGFyZVxuICovXG52YXIgVGltZUxpbWl0ZXIgPSBmdW5jdGlvbiBUaW1lTGltaXRlcihtYXhNaWxsaXNlY29uZHMpXG57XG4gICAgLyoqXG4gICAgICogVGhlIG1heGltdW0gbWlsbGlzZWNvbmRzIHRoYXQgY2FuIGJlIHNwZW50IHByZXBhcmluZyBpdGVtcyBlYWNoIGZyYW1lLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLm1heE1pbGxpc2Vjb25kcyA9IG1heE1pbGxpc2Vjb25kcztcbiAgICAvKipcbiAgICAgKiBUaGUgc3RhcnQgdGltZSBvZiB0aGUgY3VycmVudCBmcmFtZS5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5mcmFtZVN0YXJ0ID0gMDtcbn07XG5cbi8qKlxuICogUmVzZXRzIGFueSBjb3VudGluZyBwcm9wZXJ0aWVzIHRvIHN0YXJ0IGZyZXNoIG9uIGEgbmV3IGZyYW1lLlxuICovXG5UaW1lTGltaXRlci5wcm90b3R5cGUuYmVnaW5GcmFtZSA9IGZ1bmN0aW9uIGJlZ2luRnJhbWUgKClcbntcbiAgICB0aGlzLmZyYW1lU3RhcnQgPSBEYXRlLm5vdygpO1xufTtcblxuLyoqXG4gKiBDaGVja3MgdG8gc2VlIGlmIGFub3RoZXIgaXRlbSBjYW4gYmUgdXBsb2FkZWQuIFRoaXMgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uY2UgcGVyIGl0ZW0uXG4gKiBAcmV0dXJuIHtib29sZWFufSBJZiB0aGUgaXRlbSBpcyBhbGxvd2VkIHRvIGJlIHVwbG9hZGVkLlxuICovXG5UaW1lTGltaXRlci5wcm90b3R5cGUuYWxsb3dlZFRvVXBsb2FkID0gZnVuY3Rpb24gYWxsb3dlZFRvVXBsb2FkICgpXG57XG4gICAgcmV0dXJuIERhdGUubm93KCkgLSB0aGlzLmZyYW1lU3RhcnQgPCB0aGlzLm1heE1pbGxpc2Vjb25kcztcbn07XG5cbi8qKlxuICogVGhlIHByZXBhcmUgbmFtZXNwYWNlIHByb3ZpZGVzIHJlbmRlcmVyLXNwZWNpZmljIHBsdWdpbnMgZm9yIHByZS1yZW5kZXJpbmcgRGlzcGxheU9iamVjdHMuIFRoZXNlIHBsdWdpbnMgYXJlIHVzZWZ1bCBmb3JcbiAqIGFzeW5jaHJvbm91c2x5IHByZXBhcmluZyBhbmQgdXBsb2FkaW5nIHRvIHRoZSBHUFUgYXNzZXRzLCB0ZXh0dXJlcywgZ3JhcGhpY3Mgd2FpdGluZyB0byBiZSBkaXNwbGF5ZWQuXG4gKlxuICogRG8gbm90IGluc3RhbnRpYXRlIHRoZXNlIHBsdWdpbnMgZGlyZWN0bHkuIEl0IGlzIGF2YWlsYWJsZSBmcm9tIHRoZSBgcmVuZGVyZXIucGx1Z2luc2AgcHJvcGVydHkuXG4gKiBTZWUge0BsaW5rIFBJWEkuQ2FudmFzUmVuZGVyZXIjcGx1Z2luc30gb3Ige0BsaW5rIFBJWEkuUmVuZGVyZXIjcGx1Z2luc30uXG4gKiBAZXhhbXBsZVxuICogLy8gQ3JlYXRlIGEgbmV3IGFwcGxpY2F0aW9uXG4gKiBjb25zdCBhcHAgPSBuZXcgUElYSS5BcHBsaWNhdGlvbigpO1xuICogZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhcHAudmlldyk7XG4gKlxuICogLy8gRG9uJ3Qgc3RhcnQgcmVuZGVyaW5nIHJpZ2h0IGF3YXlcbiAqIGFwcC5zdG9wKCk7XG4gKlxuICogLy8gY3JlYXRlIGEgZGlzcGxheSBvYmplY3RcbiAqIGNvbnN0IHJlY3QgPSBuZXcgUElYSS5HcmFwaGljcygpXG4gKiAgICAgLmJlZ2luRmlsbCgweDAwZmYwMClcbiAqICAgICAuZHJhd1JlY3QoNDAsIDQwLCAyMDAsIDIwMCk7XG4gKlxuICogLy8gQWRkIHRvIHRoZSBzdGFnZVxuICogYXBwLnN0YWdlLmFkZENoaWxkKHJlY3QpO1xuICpcbiAqIC8vIERvbid0IHN0YXJ0IHJlbmRlcmluZyB1bnRpbCB0aGUgZ3JhcGhpYyBpcyB1cGxvYWRlZCB0byB0aGUgR1BVXG4gKiBhcHAucmVuZGVyZXIucGx1Z2lucy5wcmVwYXJlLnVwbG9hZChhcHAuc3RhZ2UsICgpID0+IHtcbiAqICAgICBhcHAuc3RhcnQoKTtcbiAqIH0pO1xuICogQG5hbWVzcGFjZSBQSVhJLnByZXBhcmVcbiAqL1xuXG5leHBvcnQgeyBCYXNlUHJlcGFyZSwgQ291bnRMaW1pdGVyLCBQcmVwYXJlLCBUaW1lTGltaXRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJlcGFyZS5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvYXBwIC0gdjUuMS40XG4gKiBDb21waWxlZCBGcmksIDIwIFNlcCAyMDE5IDE3OjE3OjU5IFVUQ1xuICpcbiAqIEBwaXhpL2FwcCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgYXV0b0RldGVjdFJlbmRlcmVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbi8qKlxuICogQ29udmVuaWVuY2UgY2xhc3MgdG8gY3JlYXRlIGEgbmV3IFBJWEkgYXBwbGljYXRpb24uXG4gKlxuICogVGhpcyBjbGFzcyBhdXRvbWF0aWNhbGx5IGNyZWF0ZXMgdGhlIHJlbmRlcmVyLCB0aWNrZXIgYW5kIHJvb3QgY29udGFpbmVyLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBDcmVhdGUgdGhlIGFwcGxpY2F0aW9uXG4gKiBjb25zdCBhcHAgPSBuZXcgUElYSS5BcHBsaWNhdGlvbigpO1xuICpcbiAqIC8vIEFkZCB0aGUgdmlldyB0byB0aGUgRE9NXG4gKiBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGFwcC52aWV3KTtcbiAqXG4gKiAvLyBleCwgYWRkIGRpc3BsYXkgb2JqZWN0c1xuICogYXBwLnN0YWdlLmFkZENoaWxkKFBJWEkuU3ByaXRlLmZyb20oJ3NvbWV0aGluZy5wbmcnKSk7XG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQXBwbGljYXRpb24gPSBmdW5jdGlvbiBBcHBsaWNhdGlvbihvcHRpb25zKVxue1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgLy8gVGhlIGRlZmF1bHQgb3B0aW9uc1xuICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgZm9yY2VDYW52YXM6IGZhbHNlLFxuICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgLyoqXG4gICAgICogV2ViR0wgcmVuZGVyZXIgaWYgYXZhaWxhYmxlLCBvdGhlcndpc2UgQ2FudmFzUmVuZGVyZXIuXG4gICAgICogQG1lbWJlciB7UElYSS5SZW5kZXJlcnxQSVhJLkNhbnZhc1JlbmRlcmVyfVxuICAgICAqL1xuICAgIHRoaXMucmVuZGVyZXIgPSBhdXRvRGV0ZWN0UmVuZGVyZXIob3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcm9vdCBkaXNwbGF5IGNvbnRhaW5lciB0aGF0J3MgcmVuZGVyZWQuXG4gICAgICogQG1lbWJlciB7UElYSS5Db250YWluZXJ9XG4gICAgICovXG4gICAgdGhpcy5zdGFnZSA9IG5ldyBDb250YWluZXIoKTtcblxuICAgIC8vIGluc3RhbGwgcGx1Z2lucyBoZXJlXG4gICAgQXBwbGljYXRpb24uX3BsdWdpbnMuZm9yRWFjaChmdW5jdGlvbiAocGx1Z2luKSB7XG4gICAgICAgIHBsdWdpbi5pbml0LmNhbGwodGhpcyQxLCBvcHRpb25zKTtcbiAgICB9KTtcbn07XG5cbnZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IHZpZXc6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sc2NyZWVuOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbi8qKlxuICogUmVnaXN0ZXIgYSBtaWRkbGV3YXJlIHBsdWdpbiBmb3IgdGhlIGFwcGxpY2F0aW9uXG4gKiBAc3RhdGljXG4gKiBAcGFyYW0ge1BJWEkuQXBwbGljYXRpb24uUGx1Z2lufSBwbHVnaW4gLSBQbHVnaW4gYmVpbmcgaW5zdGFsbGVkXG4gKi9cbkFwcGxpY2F0aW9uLnJlZ2lzdGVyUGx1Z2luID0gZnVuY3Rpb24gcmVnaXN0ZXJQbHVnaW4gKHBsdWdpbilcbntcbiAgICBBcHBsaWNhdGlvbi5fcGx1Z2lucy5wdXNoKHBsdWdpbik7XG59O1xuXG4vKipcbiAqIFJlbmRlciB0aGUgY3VycmVudCBzdGFnZS5cbiAqL1xuQXBwbGljYXRpb24ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlciAoKVxue1xuICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc3RhZ2UpO1xufTtcblxuLyoqXG4gKiBSZWZlcmVuY2UgdG8gdGhlIHJlbmRlcmVyJ3MgY2FudmFzIGVsZW1lbnQuXG4gKiBAbWVtYmVyIHtIVE1MQ2FudmFzRWxlbWVudH1cbiAqIEByZWFkb25seVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMudmlldy5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLnZpZXc7XG59O1xuXG4vKipcbiAqIFJlZmVyZW5jZSB0byB0aGUgcmVuZGVyZXIncyBzY3JlZW4gcmVjdGFuZ2xlLiBJdHMgc2FmZSB0byB1c2UgYXMgYGZpbHRlckFyZWFgIG9yIGBoaXRBcmVhYCBmb3IgdGhlIHdob2xlIHNjcmVlbi5cbiAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICogQHJlYWRvbmx5XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5zY3JlZW4uZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5zY3JlZW47XG59O1xuXG4vKipcbiAqIERlc3Ryb3kgYW5kIGRvbid0IHVzZSBhZnRlciB0aGlzLlxuICogQHBhcmFtIHtCb29sZWFufSBbcmVtb3ZlVmlldz1mYWxzZV0gQXV0b21hdGljYWxseSByZW1vdmUgY2FudmFzIGZyb20gRE9NLlxuICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW3N0YWdlT3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtzdGFnZU9wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyIGRlc3Ryb3lcbiAqICBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdzdGFnZU9wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICogQHBhcmFtIHtib29sZWFufSBbc3RhZ2VPcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIHN0YWdlT3B0aW9ucy5jaGlsZHJlbiBpcyBzZXRcbiAqICB0byB0cnVlLiBTaG91bGQgaXQgZGVzdHJveSB0aGUgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtzdGFnZU9wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIHN0YWdlT3B0aW9ucy5jaGlsZHJlbiBpcyBzZXRcbiAqICB0byB0cnVlLiBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAqL1xuQXBwbGljYXRpb24ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95IChyZW1vdmVWaWV3LCBzdGFnZU9wdGlvbnMpXG57XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgLy8gRGVzdHJveSBwbHVnaW5zIGluIHRoZSBvcHBvc2l0ZSBvcmRlclxuICAgIC8vIHdoaWNoIHRoZXkgd2VyZSBjb25zdHJ1Y3RlZFxuICAgIHZhciBwbHVnaW5zID0gQXBwbGljYXRpb24uX3BsdWdpbnMuc2xpY2UoMCk7XG5cbiAgICBwbHVnaW5zLnJldmVyc2UoKTtcbiAgICBwbHVnaW5zLmZvckVhY2goZnVuY3Rpb24gKHBsdWdpbikge1xuICAgICAgICBwbHVnaW4uZGVzdHJveS5jYWxsKHRoaXMkMSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLnN0YWdlLmRlc3Ryb3koc3RhZ2VPcHRpb25zKTtcbiAgICB0aGlzLnN0YWdlID0gbnVsbDtcblxuICAgIHRoaXMucmVuZGVyZXIuZGVzdHJveShyZW1vdmVWaWV3KTtcbiAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcblxuICAgIHRoaXMuX29wdGlvbnMgPSBudWxsO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIEFwcGxpY2F0aW9uLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbi8qKlxuICogQG1lbWJlcm9mIFBJWEkuQXBwbGljYXRpb25cbiAqIEB0eXBlZGVmIHtvYmplY3R9IFBsdWdpblxuICogQHByb3BlcnR5IHtmdW5jdGlvbn0gaW5pdCAtIENhbGxlZCB3aGVuIEFwcGxpY2F0aW9uIGlzIGNvbnN0cnVjdGVkLCBzY29wZWQgdG8gQXBwbGljYXRpb24gaW5zdGFuY2UuXG4gKiAgUGFzc2VzIGluIGBvcHRpb25zYCBhcyB0aGUgb25seSBhcmd1bWVudCwgd2hpY2ggYXJlIEFwcGxpY2F0aW9uIGNvbnN0cnVjdG9yIG9wdGlvbnMuXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9ufSBkZXN0cm95IC0gQ2FsbGVkIHdoZW4gZGVzdHJveWluZyBBcHBsaWNhdGlvbiwgc2NvcGVkIHRvIEFwcGxpY2F0aW9uIGluc3RhbmNlXG4gKi9cblxuLyoqXG4gKiBDb2xsZWN0aW9uIG9mIGluc3RhbGxlZCBwbHVnaW5zLlxuICogQHN0YXRpY1xuICogQHByaXZhdGVcbiAqIEB0eXBlIHtQSVhJLkFwcGxpY2F0aW9uLlBsdWdpbltdfVxuICovXG5BcHBsaWNhdGlvbi5fcGx1Z2lucyA9IFtdO1xuXG4vKipcbiAqIE1pZGRsZXdhcmUgZm9yIGZvciBBcHBsaWNhdGlvbidzIHJlc2l6ZSBmdW5jdGlvbmFsaXR5XG4gKiBAcHJpdmF0ZVxuICogQGNsYXNzXG4gKi9cbnZhciBSZXNpemVQbHVnaW4gPSBmdW5jdGlvbiBSZXNpemVQbHVnaW4gKCkge307XG5cblJlc2l6ZVBsdWdpbi5pbml0ID0gZnVuY3Rpb24gaW5pdCAob3B0aW9ucylcbntcbiAgICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZWxlbWVudCBvciB3aW5kb3cgdG8gcmVzaXplIHRoZSBhcHBsaWNhdGlvbiB0by5cbiAgICAgKiBAdHlwZSB7V2luZG93fEhUTUxFbGVtZW50fVxuICAgICAqIEBuYW1lIHJlc2l6ZVRvXG4gICAgICogQG1lbWJlcm9mIFBJWEkuQXBwbGljYXRpb24jXG4gICAgICovXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdyZXNpemVUbycsXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGRvbSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5yZXNpemUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3Jlc2l6ZVRvID0gZG9tO1xuICAgICAgICAgICAgICAgIGlmIChkb20pXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5yZXNpemUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc2l6ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc2l6ZVRvO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBJZiBgcmVzaXplVG9gIGlzIHNldCwgY2FsbGluZyB0aGlzIGZ1bmN0aW9uXG4gICAgICogd2lsbCByZXNpemUgdG8gdGhlIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhhdCBlbGVtZW50LlxuICAgICAqIEBtZXRob2QgUElYSS5BcHBsaWNhdGlvbiNyZXNpemVcbiAgICAgKi9cbiAgICB0aGlzLnJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMkMS5fcmVzaXplVG8pXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFJlc2l6ZSB0byB0aGUgd2luZG93XG4gICAgICAgICAgICBpZiAodGhpcyQxLl9yZXNpemVUbyA9PT0gd2luZG93KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMkMS5yZW5kZXJlci5yZXNpemUoXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5pbm5lcldpZHRoLFxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuaW5uZXJIZWlnaHRcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUmVzaXplIHRvIG90aGVyIEhUTUwgZW50aXRpZXNcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzJDEucmVuZGVyZXIucmVzaXplKFxuICAgICAgICAgICAgICAgICAgICB0aGlzJDEuX3Jlc2l6ZVRvLmNsaWVudFdpZHRoLFxuICAgICAgICAgICAgICAgICAgICB0aGlzJDEuX3Jlc2l6ZVRvLmNsaWVudEhlaWdodFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gT24gcmVzaXplXG4gICAgdGhpcy5fcmVzaXplVG8gPSBudWxsO1xuICAgIHRoaXMucmVzaXplVG8gPSBvcHRpb25zLnJlc2l6ZVRvIHx8IG51bGw7XG59O1xuXG4vKipcbiAqIENsZWFuIHVwIHRoZSB0aWNrZXIsIHNjb3BlZCB0byBhcHBsaWNhdGlvblxuICogQHN0YXRpY1xuICogQHByaXZhdGVcbiAqL1xuUmVzaXplUGx1Z2luLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95ICgpXG57XG4gICAgdGhpcy5yZXNpemVUbyA9IG51bGw7XG4gICAgdGhpcy5yZXNpemUgPSBudWxsO1xufTtcblxuQXBwbGljYXRpb24ucmVnaXN0ZXJQbHVnaW4oUmVzaXplUGx1Z2luKTtcblxuZXhwb3J0IHsgQXBwbGljYXRpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC5lcy5qcy5tYXBcbiIsIi8qIVxuICogcmVzb3VyY2UtbG9hZGVyIC0gdjMuMC4xXG4gKiBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGktc291bmRcbiAqIENvbXBpbGVkIFR1ZSwgMDIgSnVsIDIwMTkgMTQ6MDY6MTggVVRDXG4gKlxuICogcmVzb3VyY2UtbG9hZGVyIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHBhcnNlVXJpIGZyb20gJ3BhcnNlLXVyaSc7XG5pbXBvcnQgU2lnbmFsIGZyb20gJ21pbmktc2lnbmFscyc7XG5cbi8qKlxuICogU21hbGxlciB2ZXJzaW9uIG9mIHRoZSBhc3luYyBsaWJyYXJ5IGNvbnN0cnVjdHMuXG4gKlxuICogQG5hbWVzcGFjZSBhc3luY1xuICovXG5cbi8qKlxuICogTm9vcCBmdW5jdGlvblxuICpcbiAqIEBpZ25vcmVcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIGFzeW5jXG4gKi9cbmZ1bmN0aW9uIF9ub29wKCkge31cbi8qIGVtcHR5ICovXG5cbi8qKlxuICogSXRlcmF0ZXMgYW4gYXJyYXkgaW4gc2VyaWVzLlxuICpcbiAqIEBtZW1iZXJvZiBhc3luY1xuICogQGZ1bmN0aW9uIGVhY2hTZXJpZXNcbiAqIEBwYXJhbSB7QXJyYXkuPCo+fSBhcnJheSAtIEFycmF5IHRvIGl0ZXJhdGUuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBpdGVyYXRvciAtIEZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggZWxlbWVudC5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIC0gRnVuY3Rpb24gdG8gY2FsbCB3aGVuIGRvbmUsIG9yIG9uIGVycm9yLlxuICogQHBhcmFtIHtib29sZWFufSBbZGVmZXJOZXh0PWZhbHNlXSAtIEJyZWFrIHN5bmNocm9ub3VzIGVhY2ggbG9vcCBieSBjYWxsaW5nIG5leHQgd2l0aCBhIHNldFRpbWVvdXQgb2YgMS5cbiAqL1xuXG5cbmZ1bmN0aW9uIGVhY2hTZXJpZXMoYXJyYXksIGl0ZXJhdG9yLCBjYWxsYmFjaywgZGVmZXJOZXh0KSB7XG4gIHZhciBpID0gMDtcbiAgdmFyIGxlbiA9IGFycmF5Lmxlbmd0aDtcblxuICAoZnVuY3Rpb24gbmV4dChlcnIpIHtcbiAgICBpZiAoZXJyIHx8IGkgPT09IGxlbikge1xuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZGVmZXJOZXh0KSB7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaXRlcmF0b3IoYXJyYXlbaSsrXSwgbmV4dCk7XG4gICAgICB9LCAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaXRlcmF0b3IoYXJyYXlbaSsrXSwgbmV4dCk7XG4gICAgfVxuICB9KSgpO1xufVxuLyoqXG4gKiBFbnN1cmVzIGEgZnVuY3Rpb24gaXMgb25seSBjYWxsZWQgb25jZS5cbiAqXG4gKiBAaWdub3JlXG4gKiBAbWVtYmVyb2YgYXN5bmNcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gKiBAcmV0dXJuIHtmdW5jdGlvbn0gVGhlIHdyYXBwaW5nIGZ1bmN0aW9uLlxuICovXG5cbmZ1bmN0aW9uIG9ubHlPbmNlKGZuKSB7XG4gIHJldHVybiBmdW5jdGlvbiBvbmNlV3JhcHBlcigpIHtcbiAgICBpZiAoZm4gPT09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2FsbGJhY2sgd2FzIGFscmVhZHkgY2FsbGVkLicpO1xuICAgIH1cblxuICAgIHZhciBjYWxsRm4gPSBmbjtcbiAgICBmbiA9IG51bGw7XG4gICAgY2FsbEZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH07XG59XG4vKipcbiAqIEFzeW5jIHF1ZXVlIGltcGxlbWVudGF0aW9uLFxuICpcbiAqIEBtZW1iZXJvZiBhc3luY1xuICogQGZ1bmN0aW9uIHF1ZXVlXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSB3b3JrZXIgLSBUaGUgd29ya2VyIGZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggdGFzay5cbiAqIEBwYXJhbSB7bnVtYmVyfSBjb25jdXJyZW5jeSAtIEhvdyBtYW55IHdvcmtlcnMgdG8gcnVuIGluIHBhcnJhbGxlbC5cbiAqIEByZXR1cm4geyp9IFRoZSBhc3luYyBxdWV1ZSBvYmplY3QuXG4gKi9cblxuXG5mdW5jdGlvbiBxdWV1ZSh3b3JrZXIsIGNvbmN1cnJlbmN5KSB7XG4gIGlmIChjb25jdXJyZW5jeSA9PSBudWxsKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lcS1udWxsLGVxZXFlcVxuICAgIGNvbmN1cnJlbmN5ID0gMTtcbiAgfSBlbHNlIGlmIChjb25jdXJyZW5jeSA9PT0gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcignQ29uY3VycmVuY3kgbXVzdCBub3QgYmUgemVybycpO1xuICB9XG5cbiAgdmFyIHdvcmtlcnMgPSAwO1xuICB2YXIgcSA9IHtcbiAgICBfdGFza3M6IFtdLFxuICAgIGNvbmN1cnJlbmN5OiBjb25jdXJyZW5jeSxcbiAgICBzYXR1cmF0ZWQ6IF9ub29wLFxuICAgIHVuc2F0dXJhdGVkOiBfbm9vcCxcbiAgICBidWZmZXI6IGNvbmN1cnJlbmN5IC8gNCxcbiAgICBlbXB0eTogX25vb3AsXG4gICAgZHJhaW46IF9ub29wLFxuICAgIGVycm9yOiBfbm9vcCxcbiAgICBzdGFydGVkOiBmYWxzZSxcbiAgICBwYXVzZWQ6IGZhbHNlLFxuICAgIHB1c2g6IGZ1bmN0aW9uIHB1c2goZGF0YSwgY2FsbGJhY2spIHtcbiAgICAgIF9pbnNlcnQoZGF0YSwgZmFsc2UsIGNhbGxiYWNrKTtcbiAgICB9LFxuICAgIGtpbGw6IGZ1bmN0aW9uIGtpbGwoKSB7XG4gICAgICB3b3JrZXJzID0gMDtcbiAgICAgIHEuZHJhaW4gPSBfbm9vcDtcbiAgICAgIHEuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgcS5fdGFza3MgPSBbXTtcbiAgICB9LFxuICAgIHVuc2hpZnQ6IGZ1bmN0aW9uIHVuc2hpZnQoZGF0YSwgY2FsbGJhY2spIHtcbiAgICAgIF9pbnNlcnQoZGF0YSwgdHJ1ZSwgY2FsbGJhY2spO1xuICAgIH0sXG4gICAgcHJvY2VzczogZnVuY3Rpb24gcHJvY2VzcygpIHtcbiAgICAgIHdoaWxlICghcS5wYXVzZWQgJiYgd29ya2VycyA8IHEuY29uY3VycmVuY3kgJiYgcS5fdGFza3MubGVuZ3RoKSB7XG4gICAgICAgIHZhciB0YXNrID0gcS5fdGFza3Muc2hpZnQoKTtcblxuICAgICAgICBpZiAocS5fdGFza3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgcS5lbXB0eSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgd29ya2VycyArPSAxO1xuXG4gICAgICAgIGlmICh3b3JrZXJzID09PSBxLmNvbmN1cnJlbmN5KSB7XG4gICAgICAgICAgcS5zYXR1cmF0ZWQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdvcmtlcih0YXNrLmRhdGEsIG9ubHlPbmNlKF9uZXh0KHRhc2spKSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBsZW5ndGg6IGZ1bmN0aW9uIGxlbmd0aCgpIHtcbiAgICAgIHJldHVybiBxLl90YXNrcy5sZW5ndGg7XG4gICAgfSxcbiAgICBydW5uaW5nOiBmdW5jdGlvbiBydW5uaW5nKCkge1xuICAgICAgcmV0dXJuIHdvcmtlcnM7XG4gICAgfSxcbiAgICBpZGxlOiBmdW5jdGlvbiBpZGxlKCkge1xuICAgICAgcmV0dXJuIHEuX3Rhc2tzLmxlbmd0aCArIHdvcmtlcnMgPT09IDA7XG4gICAgfSxcbiAgICBwYXVzZTogZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgICBpZiAocS5wYXVzZWQgPT09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBxLnBhdXNlZCA9IHRydWU7XG4gICAgfSxcbiAgICByZXN1bWU6IGZ1bmN0aW9uIHJlc3VtZSgpIHtcbiAgICAgIGlmIChxLnBhdXNlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBxLnBhdXNlZCA9IGZhbHNlOyAvLyBOZWVkIHRvIGNhbGwgcS5wcm9jZXNzIG9uY2UgcGVyIGNvbmN1cnJlbnRcbiAgICAgIC8vIHdvcmtlciB0byBwcmVzZXJ2ZSBmdWxsIGNvbmN1cnJlbmN5IGFmdGVyIHBhdXNlXG5cbiAgICAgIGZvciAodmFyIHcgPSAxOyB3IDw9IHEuY29uY3VycmVuY3k7IHcrKykge1xuICAgICAgICBxLnByb2Nlc3MoKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gX2luc2VydChkYXRhLCBpbnNlcnRBdEZyb250LCBjYWxsYmFjaykge1xuICAgIGlmIChjYWxsYmFjayAhPSBudWxsICYmIHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lcS1udWxsLGVxZXFlcVxuICAgICAgdGhyb3cgbmV3IEVycm9yKCd0YXNrIGNhbGxiYWNrIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICAgIH1cblxuICAgIHEuc3RhcnRlZCA9IHRydWU7XG5cbiAgICBpZiAoZGF0YSA9PSBudWxsICYmIHEuaWRsZSgpKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gICAgICAvLyBjYWxsIGRyYWluIGltbWVkaWF0ZWx5IGlmIHRoZXJlIGFyZSBubyB0YXNrc1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBxLmRyYWluKCk7XG4gICAgICB9LCAxKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgaXRlbSA9IHtcbiAgICAgIGRhdGE6IGRhdGEsXG4gICAgICBjYWxsYmFjazogdHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nID8gY2FsbGJhY2sgOiBfbm9vcFxuICAgIH07XG5cbiAgICBpZiAoaW5zZXJ0QXRGcm9udCkge1xuICAgICAgcS5fdGFza3MudW5zaGlmdChpdGVtKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcS5fdGFza3MucHVzaChpdGVtKTtcbiAgICB9XG5cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBxLnByb2Nlc3MoKTtcbiAgICB9LCAxKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9uZXh0KHRhc2spIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgIHdvcmtlcnMgLT0gMTtcbiAgICAgIHRhc2suY2FsbGJhY2suYXBwbHkodGFzaywgYXJndW1lbnRzKTtcblxuICAgICAgaWYgKGFyZ3VtZW50c1swXSAhPSBudWxsKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgICAgICAgcS5lcnJvcihhcmd1bWVudHNbMF0sIHRhc2suZGF0YSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh3b3JrZXJzIDw9IHEuY29uY3VycmVuY3kgLSBxLmJ1ZmZlcikge1xuICAgICAgICBxLnVuc2F0dXJhdGVkKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChxLmlkbGUoKSkge1xuICAgICAgICBxLmRyYWluKCk7XG4gICAgICB9XG5cbiAgICAgIHEucHJvY2VzcygpO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gcTtcbn1cblxudmFyIGFzeW5jID0gKHtcbiAgICBlYWNoU2VyaWVzOiBlYWNoU2VyaWVzLFxuICAgIHF1ZXVlOiBxdWV1ZVxufSk7XG5cbi8vIGEgc2ltcGxlIGluLW1lbW9yeSBjYWNoZSBmb3IgcmVzb3VyY2VzXG52YXIgY2FjaGUgPSB7fTtcbi8qKlxuICogQSBzaW1wbGUgaW4tbWVtb3J5IGNhY2hlIGZvciByZXNvdXJjZS5cbiAqXG4gKiBAbWVtYmVyb2YgbWlkZGxld2FyZVxuICogQGZ1bmN0aW9uIGNhY2hpbmdcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBMb2FkZXIsIG1pZGRsZXdhcmUgfSBmcm9tICdyZXNvdXJjZS1sb2FkZXInO1xuICogY29uc3QgbG9hZGVyID0gbmV3IExvYWRlcigpO1xuICogbG9hZGVyLnVzZShtaWRkbGV3YXJlLmNhY2hpbmcpO1xuICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBDdXJyZW50IFJlc291cmNlXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBuZXh0IC0gQ2FsbGJhY2sgd2hlbiBjb21wbGV0ZVxuICovXG5cbmZ1bmN0aW9uIGNhY2hpbmcocmVzb3VyY2UsIG5leHQpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICAvLyBpZiBjYWNoZWQsIHRoZW4gc2V0IGRhdGEgYW5kIGNvbXBsZXRlIHRoZSByZXNvdXJjZVxuICBpZiAoY2FjaGVbcmVzb3VyY2UudXJsXSkge1xuICAgIHJlc291cmNlLmRhdGEgPSBjYWNoZVtyZXNvdXJjZS51cmxdO1xuICAgIHJlc291cmNlLmNvbXBsZXRlKCk7IC8vIG1hcmtzIHJlc291cmNlIGxvYWQgY29tcGxldGUgYW5kIHN0b3BzIHByb2Nlc3NpbmcgYmVmb3JlIG1pZGRsZXdhcmVzXG4gIH0gLy8gaWYgbm90IGNhY2hlZCwgd2FpdCBmb3IgY29tcGxldGUgYW5kIHN0b3JlIGl0IGluIHRoZSBjYWNoZS5cbiAgZWxzZSB7XG4gICAgICByZXNvdXJjZS5vbkNvbXBsZXRlLm9uY2UoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gY2FjaGVbX3RoaXMudXJsXSA9IF90aGlzLmRhdGE7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgbmV4dCgpO1xufVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICByZXR1cm4gQ29uc3RydWN0b3I7XG59XG5cbnZhciB1c2VYZHIgPSAhISh3aW5kb3cuWERvbWFpblJlcXVlc3QgJiYgISgnd2l0aENyZWRlbnRpYWxzJyBpbiBuZXcgWE1MSHR0cFJlcXVlc3QoKSkpO1xudmFyIHRlbXBBbmNob3IgPSBudWxsOyAvLyBzb21lIHN0YXR1cyBjb25zdGFudHNcblxudmFyIFNUQVRVU19OT05FID0gMDtcbnZhciBTVEFUVVNfT0sgPSAyMDA7XG52YXIgU1RBVFVTX0VNUFRZID0gMjA0O1xudmFyIFNUQVRVU19JRV9CVUdfRU1QVFkgPSAxMjIzO1xudmFyIFNUQVRVU19UWVBFX09LID0gMjsgLy8gbm9vcFxuXG5mdW5jdGlvbiBfbm9vcCQxKCkge31cbi8qIGVtcHR5ICovXG5cbi8qKlxuICogTWFuYWdlcyB0aGUgc3RhdGUgYW5kIGxvYWRpbmcgb2YgYSByZXNvdXJjZSBhbmQgYWxsIGNoaWxkIHJlc291cmNlcy5cbiAqXG4gKiBAY2xhc3NcbiAqL1xuXG5cbnZhciBSZXNvdXJjZSA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBTZXRzIHRoZSBsb2FkIHR5cGUgdG8gYmUgdXNlZCBmb3IgYSBzcGVjaWZpYyBleHRlbnNpb24uXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQHBhcmFtIHtzdHJpbmd9IGV4dG5hbWUgLSBUaGUgZXh0ZW5zaW9uIHRvIHNldCB0aGUgdHlwZSBmb3IsIGUuZy4gXCJwbmdcIiBvciBcImZudFwiXG4gICAqIEBwYXJhbSB7UmVzb3VyY2UuTE9BRF9UWVBFfSBsb2FkVHlwZSAtIFRoZSBsb2FkIHR5cGUgdG8gc2V0IGl0IHRvLlxuICAgKi9cbiAgUmVzb3VyY2Uuc2V0RXh0ZW5zaW9uTG9hZFR5cGUgPSBmdW5jdGlvbiBzZXRFeHRlbnNpb25Mb2FkVHlwZShleHRuYW1lLCBsb2FkVHlwZSkge1xuICAgIHNldEV4dE1hcChSZXNvdXJjZS5fbG9hZFR5cGVNYXAsIGV4dG5hbWUsIGxvYWRUeXBlKTtcbiAgfVxuICAvKipcbiAgICogU2V0cyB0aGUgbG9hZCB0eXBlIHRvIGJlIHVzZWQgZm9yIGEgc3BlY2lmaWMgZXh0ZW5zaW9uLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBleHRuYW1lIC0gVGhlIGV4dGVuc2lvbiB0byBzZXQgdGhlIHR5cGUgZm9yLCBlLmcuIFwicG5nXCIgb3IgXCJmbnRcIlxuICAgKiBAcGFyYW0ge1Jlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFfSB4aHJUeXBlIC0gVGhlIHhociB0eXBlIHRvIHNldCBpdCB0by5cbiAgICovXG4gIDtcblxuICBSZXNvdXJjZS5zZXRFeHRlbnNpb25YaHJUeXBlID0gZnVuY3Rpb24gc2V0RXh0ZW5zaW9uWGhyVHlwZShleHRuYW1lLCB4aHJUeXBlKSB7XG4gICAgc2V0RXh0TWFwKFJlc291cmNlLl94aHJUeXBlTWFwLCBleHRuYW1lLCB4aHJUeXBlKTtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UgdG8gbG9hZC5cbiAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IHVybCAtIFRoZSB1cmwgZm9yIHRoaXMgcmVzb3VyY2UsIGZvciBhdWRpby92aWRlbyBsb2FkcyB5b3UgY2FuIHBhc3NcbiAgICogICAgICBhbiBhcnJheSBvZiBzb3VyY2VzLlxuICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBsb2FkLlxuICAgKiBAcGFyYW0ge3N0cmluZ3xib29sZWFufSBbb3B0aW9ucy5jcm9zc09yaWdpbl0gLSBJcyB0aGlzIHJlcXVlc3QgY3Jvc3Mtb3JpZ2luPyBEZWZhdWx0IGlzIHRvXG4gICAqICAgICAgZGV0ZXJtaW5lIGF1dG9tYXRpY2FsbHkuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy50aW1lb3V0PTBdIC0gQSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyBmb3IgdGhlIGxvYWQuIElmIHRoZSBsb2FkIHRha2VzXG4gICAqICAgICAgbG9uZ2VyIHRoYW4gdGhpcyB0aW1lIGl0IGlzIGNhbmNlbGxlZCBhbmQgdGhlIGxvYWQgaXMgY29uc2lkZXJlZCBhIGZhaWx1cmUuIElmIHRoaXMgdmFsdWUgaXNcbiAgICogICAgICBzZXQgdG8gYDBgIHRoZW4gdGhlcmUgaXMgbm8gZXhwbGljaXQgdGltZW91dC5cbiAgICogQHBhcmFtIHtSZXNvdXJjZS5MT0FEX1RZUEV9IFtvcHRpb25zLmxvYWRUeXBlPVJlc291cmNlLkxPQURfVFlQRS5YSFJdIC0gSG93IHNob3VsZCB0aGlzIHJlc291cmNlXG4gICAqICAgICAgYmUgbG9hZGVkP1xuICAgKiBAcGFyYW0ge1Jlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFfSBbb3B0aW9ucy54aHJUeXBlPVJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRFRkFVTFRdIC0gSG93XG4gICAqICAgICAgc2hvdWxkIHRoZSBkYXRhIGJlaW5nIGxvYWRlZCBiZSBpbnRlcnByZXRlZCB3aGVuIHVzaW5nIFhIUj9cbiAgICogQHBhcmFtIHtSZXNvdXJjZS5JTWV0YWRhdGF9IFtvcHRpb25zLm1ldGFkYXRhXSAtIEV4dHJhIGNvbmZpZ3VyYXRpb24gZm9yIG1pZGRsZXdhcmUgYW5kIHRoZSBSZXNvdXJjZSBvYmplY3QuXG4gICAqL1xuICA7XG5cbiAgZnVuY3Rpb24gUmVzb3VyY2UobmFtZSwgdXJsLCBvcHRpb25zKSB7XG4gICAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJyB8fCB0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdCb3RoIG5hbWUgYW5kIHVybCBhcmUgcmVxdWlyZWQgZm9yIGNvbnN0cnVjdGluZyBhIHJlc291cmNlLicpO1xuICAgIH1cblxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIC8qKlxuICAgICAqIFRoZSBzdGF0ZSBmbGFncyBvZiB0aGlzIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cbiAgICB0aGlzLl9mbGFncyA9IDA7IC8vIHNldCBkYXRhIHVybCBmbGFnLCBuZWVkcyB0byBiZSBzZXQgZWFybHkgZm9yIHNvbWUgX2RldGVybWluZVggY2hlY2tzIHRvIHdvcmsuXG5cbiAgICB0aGlzLl9zZXRGbGFnKFJlc291cmNlLlNUQVRVU19GTEFHUy5EQVRBX1VSTCwgdXJsLmluZGV4T2YoJ2RhdGE6JykgPT09IDApO1xuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoaXMgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG5cblxuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgLyoqXG4gICAgICogVGhlIHVybCB1c2VkIHRvIGxvYWQgdGhpcyByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cblxuICAgIHRoaXMudXJsID0gdXJsO1xuICAgIC8qKlxuICAgICAqIFRoZSBleHRlbnNpb24gdXNlZCB0byBsb2FkIHRoaXMgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG5cbiAgICB0aGlzLmV4dGVuc2lvbiA9IHRoaXMuX2dldEV4dGVuc2lvbigpO1xuICAgIC8qKlxuICAgICAqIFRoZSBkYXRhIHRoYXQgd2FzIGxvYWRlZCBieSB0aGUgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHthbnl9XG4gICAgICovXG5cbiAgICB0aGlzLmRhdGEgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIElzIHRoaXMgcmVxdWVzdCBjcm9zcy1vcmlnaW4/IElmIHVuc2V0LCBkZXRlcm1pbmVkIGF1dG9tYXRpY2FsbHkuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG5cbiAgICB0aGlzLmNyb3NzT3JpZ2luID0gb3B0aW9ucy5jcm9zc09yaWdpbiA9PT0gdHJ1ZSA/ICdhbm9ueW1vdXMnIDogb3B0aW9ucy5jcm9zc09yaWdpbjtcbiAgICAvKipcbiAgICAgKiBBIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzIGZvciB0aGUgbG9hZC4gSWYgdGhlIGxvYWQgdGFrZXMgbG9uZ2VyIHRoYW4gdGhpcyB0aW1lXG4gICAgICogaXQgaXMgY2FuY2VsbGVkIGFuZCB0aGUgbG9hZCBpcyBjb25zaWRlcmVkIGEgZmFpbHVyZS4gSWYgdGhpcyB2YWx1ZSBpcyBzZXQgdG8gYDBgXG4gICAgICogdGhlbiB0aGVyZSBpcyBubyBleHBsaWNpdCB0aW1lb3V0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuXG4gICAgdGhpcy50aW1lb3V0ID0gb3B0aW9ucy50aW1lb3V0IHx8IDA7XG4gICAgLyoqXG4gICAgICogVGhlIG1ldGhvZCBvZiBsb2FkaW5nIHRvIHVzZSBmb3IgdGhpcyByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1Jlc291cmNlLkxPQURfVFlQRX1cbiAgICAgKi9cblxuICAgIHRoaXMubG9hZFR5cGUgPSBvcHRpb25zLmxvYWRUeXBlIHx8IHRoaXMuX2RldGVybWluZUxvYWRUeXBlKCk7XG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgdXNlZCB0byBsb2FkIHRoZSByZXNvdXJjZSB2aWEgWEhSLiBJZiB1bnNldCwgZGV0ZXJtaW5lZCBhdXRvbWF0aWNhbGx5LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuXG4gICAgdGhpcy54aHJUeXBlID0gb3B0aW9ucy54aHJUeXBlO1xuICAgIC8qKlxuICAgICAqIEV4dHJhIGluZm8gZm9yIG1pZGRsZXdhcmUsIGFuZCBjb250cm9sbGluZyBzcGVjaWZpY3MgYWJvdXQgaG93IHRoZSByZXNvdXJjZSBsb2Fkcy5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhhdCBpZiB5b3UgcGFzcyBpbiBhIGBsb2FkRWxlbWVudGAsIHRoZSBSZXNvdXJjZSBjbGFzcyB0YWtlcyBvd25lcnNoaXAgb2YgaXQuXG4gICAgICogTWVhbmluZyBpdCB3aWxsIG1vZGlmeSBpdCBhcyBpdCBzZWVzIGZpdC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1Jlc291cmNlLklNZXRhZGF0YX1cbiAgICAgKi9cblxuICAgIHRoaXMubWV0YWRhdGEgPSBvcHRpb25zLm1ldGFkYXRhIHx8IHt9O1xuICAgIC8qKlxuICAgICAqIFRoZSBlcnJvciB0aGF0IG9jY3VycmVkIHdoaWxlIGxvYWRpbmcgKGlmIGFueSkuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtFcnJvcn1cbiAgICAgKi9cblxuICAgIHRoaXMuZXJyb3IgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIFRoZSBYSFIgb2JqZWN0IHRoYXQgd2FzIHVzZWQgdG8gbG9hZCB0aGlzIHJlc291cmNlLiBUaGlzIGlzIG9ubHkgc2V0XG4gICAgICogd2hlbiBgbG9hZFR5cGVgIGlzIGBSZXNvdXJjZS5MT0FEX1RZUEUuWEhSYC5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge1hNTEh0dHBSZXF1ZXN0fVxuICAgICAqL1xuXG4gICAgdGhpcy54aHIgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIFRoZSBjaGlsZCByZXNvdXJjZXMgdGhpcyByZXNvdXJjZSBvd25zLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7UmVzb3VyY2VbXX1cbiAgICAgKi9cblxuICAgIHRoaXMuY2hpbGRyZW4gPSBbXTtcbiAgICAvKipcbiAgICAgKiBUaGUgcmVzb3VyY2UgdHlwZS5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge1Jlc291cmNlLlRZUEV9XG4gICAgICovXG5cbiAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLlVOS05PV047XG4gICAgLyoqXG4gICAgICogVGhlIHByb2dyZXNzIGNodW5rIG93bmVkIGJ5IHRoaXMgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cbiAgICB0aGlzLnByb2dyZXNzQ2h1bmsgPSAwO1xuICAgIC8qKlxuICAgICAqIFRoZSBgZGVxdWV1ZWAgbWV0aG9kIHRoYXQgd2lsbCBiZSB1c2VkIGEgc3RvcmFnZSBwbGFjZSBmb3IgdGhlIGFzeW5jIHF1ZXVlIGRlcXVldWUgbWV0aG9kXG4gICAgICogdXNlZCBwcml2YXRlbHkgYnkgdGhlIGxvYWRlci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICovXG5cbiAgICB0aGlzLl9kZXF1ZXVlID0gX25vb3AkMTtcbiAgICAvKipcbiAgICAgKiBVc2VkIGEgc3RvcmFnZSBwbGFjZSBmb3IgdGhlIG9uIGxvYWQgYmluZGluZyB1c2VkIHByaXZhdGVseSBieSB0aGUgbG9hZGVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgKi9cblxuICAgIHRoaXMuX29uTG9hZEJpbmRpbmcgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIFRoZSB0aW1lciBmb3IgZWxlbWVudCBsb2FkcyB0byBjaGVjayBpZiB0aGV5IHRpbWVvdXQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cblxuICAgIHRoaXMuX2VsZW1lbnRUaW1lciA9IDA7XG4gICAgLyoqXG4gICAgICogVGhlIGBjb21wbGV0ZWAgZnVuY3Rpb24gYm91bmQgdG8gdGhpcyByZXNvdXJjZSdzIGNvbnRleHQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAqL1xuXG4gICAgdGhpcy5fYm91bmRDb21wbGV0ZSA9IHRoaXMuY29tcGxldGUuYmluZCh0aGlzKTtcbiAgICAvKipcbiAgICAgKiBUaGUgYF9vbkVycm9yYCBmdW5jdGlvbiBib3VuZCB0byB0aGlzIHJlc291cmNlJ3MgY29udGV4dC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICovXG5cbiAgICB0aGlzLl9ib3VuZE9uRXJyb3IgPSB0aGlzLl9vbkVycm9yLmJpbmQodGhpcyk7XG4gICAgLyoqXG4gICAgICogVGhlIGBfb25Qcm9ncmVzc2AgZnVuY3Rpb24gYm91bmQgdG8gdGhpcyByZXNvdXJjZSdzIGNvbnRleHQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAqL1xuXG4gICAgdGhpcy5fYm91bmRPblByb2dyZXNzID0gdGhpcy5fb25Qcm9ncmVzcy5iaW5kKHRoaXMpO1xuICAgIC8qKlxuICAgICAqIFRoZSBgX29uVGltZW91dGAgZnVuY3Rpb24gYm91bmQgdG8gdGhpcyByZXNvdXJjZSdzIGNvbnRleHQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAqL1xuXG4gICAgdGhpcy5fYm91bmRPblRpbWVvdXQgPSB0aGlzLl9vblRpbWVvdXQuYmluZCh0aGlzKTsgLy8geGhyIGNhbGxiYWNrc1xuXG4gICAgdGhpcy5fYm91bmRYaHJPbkVycm9yID0gdGhpcy5feGhyT25FcnJvci5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2JvdW5kWGhyT25UaW1lb3V0ID0gdGhpcy5feGhyT25UaW1lb3V0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5fYm91bmRYaHJPbkFib3J0ID0gdGhpcy5feGhyT25BYm9ydC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2JvdW5kWGhyT25Mb2FkID0gdGhpcy5feGhyT25Mb2FkLmJpbmQodGhpcyk7XG4gICAgLyoqXG4gICAgICogRGlzcGF0Y2hlZCB3aGVuIHRoZSByZXNvdXJjZSBiZWluZ3MgdG8gbG9hZC5cbiAgICAgKlxuICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBSZXNvdXJjZS5PblN0YXJ0U2lnbmFsfS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1NpZ25hbDxSZXNvdXJjZS5PblN0YXJ0U2lnbmFsPn1cbiAgICAgKi9cblxuICAgIHRoaXMub25TdGFydCA9IG5ldyBTaWduYWwoKTtcbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVkIGVhY2ggdGltZSBwcm9ncmVzcyBvZiB0aGlzIHJlc291cmNlIGxvYWQgdXBkYXRlcy5cbiAgICAgKiBOb3QgYWxsIHJlc291cmNlcyB0eXBlcyBhbmQgbG9hZGVyIHN5c3RlbXMgY2FuIHN1cHBvcnQgdGhpcyBldmVudFxuICAgICAqIHNvIHNvbWV0aW1lcyBpdCBtYXkgbm90IGJlIGF2YWlsYWJsZS4gSWYgdGhlIHJlc291cmNlXG4gICAgICogaXMgYmVpbmcgbG9hZGVkIG9uIGEgbW9kZXJuIGJyb3dzZXIsIHVzaW5nIFhIUiwgYW5kIHRoZSByZW1vdGUgc2VydmVyXG4gICAgICogcHJvcGVybHkgc2V0cyBDb250ZW50LUxlbmd0aCBoZWFkZXJzLCB0aGVuIHRoaXMgd2lsbCBiZSBhdmFpbGFibGUuXG4gICAgICpcbiAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgUmVzb3VyY2UuT25Qcm9ncmVzc1NpZ25hbH0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtTaWduYWw8UmVzb3VyY2UuT25Qcm9ncmVzc1NpZ25hbD59XG4gICAgICovXG5cbiAgICB0aGlzLm9uUHJvZ3Jlc3MgPSBuZXcgU2lnbmFsKCk7XG4gICAgLyoqXG4gICAgICogRGlzcGF0Y2hlZCBvbmNlIHRoaXMgcmVzb3VyY2UgaGFzIGxvYWRlZCwgaWYgdGhlcmUgd2FzIGFuIGVycm9yIGl0IHdpbGxcbiAgICAgKiBiZSBpbiB0aGUgYGVycm9yYCBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsfS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1NpZ25hbDxSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsPn1cbiAgICAgKi9cblxuICAgIHRoaXMub25Db21wbGV0ZSA9IG5ldyBTaWduYWwoKTtcbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVkIGFmdGVyIHRoaXMgcmVzb3VyY2UgaGFzIGhhZCBhbGwgdGhlICphZnRlciogbWlkZGxld2FyZSBydW4gb24gaXQuXG4gICAgICpcbiAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgUmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtTaWduYWw8UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbD59XG4gICAgICovXG5cbiAgICB0aGlzLm9uQWZ0ZXJNaWRkbGV3YXJlID0gbmV3IFNpZ25hbCgpO1xuICB9XG4gIC8qKlxuICAgKiBXaGVuIHRoZSByZXNvdXJjZSBzdGFydHMgdG8gbG9hZC5cbiAgICpcbiAgICogQG1lbWJlcm9mIFJlc291cmNlXG4gICAqIEBjYWxsYmFjayBPblN0YXJ0U2lnbmFsXG4gICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRoYXQgdGhlIGV2ZW50IGhhcHBlbmVkIG9uLlxuICAgKi9cblxuICAvKipcbiAgICogV2hlbiB0aGUgcmVzb3VyY2UgcmVwb3J0cyBsb2FkaW5nIHByb2dyZXNzLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgUmVzb3VyY2VcbiAgICogQGNhbGxiYWNrIE9uUHJvZ3Jlc3NTaWduYWxcbiAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCB0aGUgZXZlbnQgaGFwcGVuZWQgb24uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwZXJjZW50YWdlIC0gVGhlIHByb2dyZXNzIG9mIHRoZSBsb2FkIGluIHRoZSByYW5nZSBbMCwgMV0uXG4gICAqL1xuXG4gIC8qKlxuICAgKiBXaGVuIHRoZSByZXNvdXJjZSBmaW5pc2hlcyBsb2FkaW5nLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgUmVzb3VyY2VcbiAgICogQGNhbGxiYWNrIE9uQ29tcGxldGVTaWduYWxcbiAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCB0aGUgZXZlbnQgaGFwcGVuZWQgb24uXG4gICAqL1xuXG4gIC8qKlxuICAgKiBAbWVtYmVyb2YgUmVzb3VyY2VcbiAgICogQHR5cGVkZWYge29iamVjdH0gSU1ldGFkYXRhXG4gICAqIEBwcm9wZXJ0eSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQXVkaW9FbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IFtsb2FkRWxlbWVudD1udWxsXSAtIFRoZVxuICAgKiAgICAgIGVsZW1lbnQgdG8gdXNlIGZvciBsb2FkaW5nLCBpbnN0ZWFkIG9mIGNyZWF0aW5nIG9uZS5cbiAgICogQHByb3BlcnR5IHtib29sZWFufSBbc2tpcFNvdXJjZT1mYWxzZV0gLSBTa2lwcyBhZGRpbmcgc291cmNlKHMpIHRvIHRoZSBsb2FkIGVsZW1lbnQuIFRoaXNcbiAgICogICAgICBpcyB1c2VmdWwgaWYgeW91IHdhbnQgdG8gcGFzcyBpbiBhIGBsb2FkRWxlbWVudGAgdGhhdCB5b3UgYWxyZWFkeSBhZGRlZCBsb2FkIHNvdXJjZXMgdG8uXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfHN0cmluZ1tdfSBbbWltZVR5cGVdIC0gVGhlIG1pbWUgdHlwZSB0byB1c2UgZm9yIHRoZSBzb3VyY2UgZWxlbWVudFxuICAgKiAgICAgIG9mIGEgdmlkZW8vYXVkaW8gZWxtZW50LiBJZiB0aGUgdXJscyBhcmUgYW4gYXJyYXksIHlvdSBjYW4gcGFzcyB0aGlzIGFzIGFuIGFycmF5IGFzIHdlbGxcbiAgICogICAgICB3aGVyZSBlYWNoIGluZGV4IGlzIHRoZSBtaW1lIHR5cGUgdG8gdXNlIGZvciB0aGUgY29ycmVzcG9uZGluZyB1cmwgaW5kZXguXG4gICAqL1xuXG4gIC8qKlxuICAgKiBTdG9yZXMgd2hldGhlciBvciBub3QgdGhpcyB1cmwgaXMgYSBkYXRhIHVybC5cbiAgICpcbiAgICogQHJlYWRvbmx5XG4gICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAqL1xuXG5cbiAgdmFyIF9wcm90byA9IFJlc291cmNlLnByb3RvdHlwZTtcblxuICAvKipcbiAgICogTWFya3MgdGhlIHJlc291cmNlIGFzIGNvbXBsZXRlLlxuICAgKlxuICAgKi9cbiAgX3Byb3RvLmNvbXBsZXRlID0gZnVuY3Rpb24gY29tcGxldGUoKSB7XG4gICAgdGhpcy5fY2xlYXJFdmVudHMoKTtcblxuICAgIHRoaXMuX2ZpbmlzaCgpO1xuICB9XG4gIC8qKlxuICAgKiBBYm9ydHMgdGhlIGxvYWRpbmcgb2YgdGhpcyByZXNvdXJjZSwgd2l0aCBhbiBvcHRpb25hbCBtZXNzYWdlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSAtIFRoZSBtZXNzYWdlIHRvIHVzZSBmb3IgdGhlIGVycm9yXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmFib3J0ID0gZnVuY3Rpb24gYWJvcnQobWVzc2FnZSkge1xuICAgIC8vIGFib3J0IGNhbiBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMsIGlnbm9yZSBzdWJzZXF1ZW50IGNhbGxzLlxuICAgIGlmICh0aGlzLmVycm9yKSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBzdG9yZSBlcnJvclxuXG5cbiAgICB0aGlzLmVycm9yID0gbmV3IEVycm9yKG1lc3NhZ2UpOyAvLyBjbGVhciBldmVudHMgYmVmb3JlIGNhbGxpbmcgYWJvcnRzXG5cbiAgICB0aGlzLl9jbGVhckV2ZW50cygpOyAvLyBhYm9ydCB0aGUgYWN0dWFsIGxvYWRpbmdcblxuXG4gICAgaWYgKHRoaXMueGhyKSB7XG4gICAgICB0aGlzLnhoci5hYm9ydCgpO1xuICAgIH0gZWxzZSBpZiAodGhpcy54ZHIpIHtcbiAgICAgIHRoaXMueGRyLmFib3J0KCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmRhdGEpIHtcbiAgICAgIC8vIHNpbmdsZSBzb3VyY2VcbiAgICAgIGlmICh0aGlzLmRhdGEuc3JjKSB7XG4gICAgICAgIHRoaXMuZGF0YS5zcmMgPSBSZXNvdXJjZS5FTVBUWV9HSUY7XG4gICAgICB9IC8vIG11bHRpLXNvdXJjZVxuICAgICAgZWxzZSB7XG4gICAgICAgICAgd2hpbGUgKHRoaXMuZGF0YS5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEucmVtb3ZlQ2hpbGQodGhpcy5kYXRhLmZpcnN0Q2hpbGQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gLy8gZG9uZSBub3cuXG5cblxuICAgIHRoaXMuX2ZpbmlzaCgpO1xuICB9XG4gIC8qKlxuICAgKiBLaWNrcyBvZmYgbG9hZGluZyBvZiB0aGlzIHJlc291cmNlLiBUaGlzIG1ldGhvZCBpcyBhc3luY2hyb25vdXMuXG4gICAqXG4gICAqIEBwYXJhbSB7UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0gW2NiXSAtIE9wdGlvbmFsIGNhbGxiYWNrIHRvIGNhbGwgb25jZSB0aGUgcmVzb3VyY2UgaXMgbG9hZGVkLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5sb2FkID0gZnVuY3Rpb24gbG9hZChjYikge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBpZiAodGhpcy5pc0xvYWRpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pc0NvbXBsZXRlKSB7XG4gICAgICBpZiAoY2IpIHtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIGNiKF90aGlzKTtcbiAgICAgICAgfSwgMSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2UgaWYgKGNiKSB7XG4gICAgICB0aGlzLm9uQ29tcGxldGUub25jZShjYik7XG4gICAgfVxuXG4gICAgdGhpcy5fc2V0RmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuTE9BRElORywgdHJ1ZSk7XG5cbiAgICB0aGlzLm9uU3RhcnQuZGlzcGF0Y2godGhpcyk7IC8vIGlmIHVuc2V0LCBkZXRlcm1pbmUgdGhlIHZhbHVlXG5cbiAgICBpZiAodGhpcy5jcm9zc09yaWdpbiA9PT0gZmFsc2UgfHwgdHlwZW9mIHRoaXMuY3Jvc3NPcmlnaW4gIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLmNyb3NzT3JpZ2luID0gdGhpcy5fZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4odGhpcy51cmwpO1xuICAgIH1cblxuICAgIHN3aXRjaCAodGhpcy5sb2FkVHlwZSkge1xuICAgICAgY2FzZSBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0U6XG4gICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuSU1BR0U7XG5cbiAgICAgICAgdGhpcy5fbG9hZEVsZW1lbnQoJ2ltYWdlJyk7XG5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgUmVzb3VyY2UuTE9BRF9UWVBFLkFVRElPOlxuICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLkFVRElPO1xuXG4gICAgICAgIHRoaXMuX2xvYWRTb3VyY2VFbGVtZW50KCdhdWRpbycpO1xuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFJlc291cmNlLkxPQURfVFlQRS5WSURFTzpcbiAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5WSURFTztcblxuICAgICAgICB0aGlzLl9sb2FkU291cmNlRWxlbWVudCgndmlkZW8nKTtcblxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBSZXNvdXJjZS5MT0FEX1RZUEUuWEhSOlxuICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAodXNlWGRyICYmIHRoaXMuY3Jvc3NPcmlnaW4pIHtcbiAgICAgICAgICB0aGlzLl9sb2FkWGRyKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fbG9hZFhocigpO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlIGZsYWcgaXMgc2V0LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge251bWJlcn0gZmxhZyAtIFRoZSBmbGFnIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBmbGFnIGlzIHNldC5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uX2hhc0ZsYWcgPSBmdW5jdGlvbiBfaGFzRmxhZyhmbGFnKSB7XG4gICAgcmV0dXJuICh0aGlzLl9mbGFncyAmIGZsYWcpICE9PSAwO1xuICB9XG4gIC8qKlxuICAgKiAoVW4pU2V0cyB0aGUgZmxhZy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IGZsYWcgLSBUaGUgZmxhZyB0byAodW4pc2V0LlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gV2hldGhlciB0byBzZXQgb3IgKHVuKXNldCB0aGUgZmxhZy5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uX3NldEZsYWcgPSBmdW5jdGlvbiBfc2V0RmxhZyhmbGFnLCB2YWx1ZSkge1xuICAgIHRoaXMuX2ZsYWdzID0gdmFsdWUgPyB0aGlzLl9mbGFncyB8IGZsYWcgOiB0aGlzLl9mbGFncyAmIH5mbGFnO1xuICB9XG4gIC8qKlxuICAgKiBDbGVhcnMgYWxsIHRoZSBldmVudHMgZnJvbSB0aGUgdW5kZXJseWluZyBsb2FkaW5nIHNvdXJjZS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX2NsZWFyRXZlbnRzID0gZnVuY3Rpb24gX2NsZWFyRXZlbnRzKCkge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLl9lbGVtZW50VGltZXIpO1xuXG4gICAgaWYgKHRoaXMuZGF0YSAmJiB0aGlzLmRhdGEucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuICAgICAgdGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRPbkVycm9yLCBmYWxzZSk7XG4gICAgICB0aGlzLmRhdGEucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2JvdW5kQ29tcGxldGUsIGZhbHNlKTtcbiAgICAgIHRoaXMuZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuX2JvdW5kT25Qcm9ncmVzcywgZmFsc2UpO1xuICAgICAgdGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NhbnBsYXl0aHJvdWdoJywgdGhpcy5fYm91bmRDb21wbGV0ZSwgZmFsc2UpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnhocikge1xuICAgICAgaWYgKHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9ib3VuZFhock9uRXJyb3IsIGZhbHNlKTtcbiAgICAgICAgdGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcigndGltZW91dCcsIHRoaXMuX2JvdW5kWGhyT25UaW1lb3V0LCBmYWxzZSk7XG4gICAgICAgIHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgdGhpcy5fYm91bmRYaHJPbkFib3J0LCBmYWxzZSk7XG4gICAgICAgIHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5fYm91bmRPblByb2dyZXNzLCBmYWxzZSk7XG4gICAgICAgIHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9ib3VuZFhock9uTG9hZCwgZmFsc2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy54aHIub25lcnJvciA9IG51bGw7XG4gICAgICAgIHRoaXMueGhyLm9udGltZW91dCA9IG51bGw7XG4gICAgICAgIHRoaXMueGhyLm9ucHJvZ3Jlc3MgPSBudWxsO1xuICAgICAgICB0aGlzLnhoci5vbmxvYWQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogRmluYWxpemVzIHRoZSBsb2FkLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fZmluaXNoID0gZnVuY3Rpb24gX2ZpbmlzaCgpIHtcbiAgICBpZiAodGhpcy5pc0NvbXBsZXRlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbXBsZXRlIGNhbGxlZCBhZ2FpbiBmb3IgYW4gYWxyZWFkeSBjb21wbGV0ZWQgcmVzb3VyY2UuJyk7XG4gICAgfVxuXG4gICAgdGhpcy5fc2V0RmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuQ09NUExFVEUsIHRydWUpO1xuXG4gICAgdGhpcy5fc2V0RmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuTE9BRElORywgZmFsc2UpO1xuXG4gICAgdGhpcy5vbkNvbXBsZXRlLmRpc3BhdGNoKHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBMb2FkcyB0aGlzIHJlc291cmNlcyB1c2luZyBhbiBlbGVtZW50IHRoYXQgaGFzIGEgc2luZ2xlIHNvdXJjZSxcbiAgICogbGlrZSBhbiBIVE1MSW1hZ2VFbGVtZW50LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFRoZSB0eXBlIG9mIGVsZW1lbnQgdG8gdXNlLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fbG9hZEVsZW1lbnQgPSBmdW5jdGlvbiBfbG9hZEVsZW1lbnQodHlwZSkge1xuICAgIGlmICh0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50KSB7XG4gICAgICB0aGlzLmRhdGEgPSB0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50O1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2ltYWdlJyAmJiB0eXBlb2Ygd2luZG93LkltYWdlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5kYXRhID0gbmV3IEltYWdlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGF0YSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodHlwZSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY3Jvc3NPcmlnaW4pIHtcbiAgICAgIHRoaXMuZGF0YS5jcm9zc09yaWdpbiA9IHRoaXMuY3Jvc3NPcmlnaW47XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLm1ldGFkYXRhLnNraXBTb3VyY2UpIHtcbiAgICAgIHRoaXMuZGF0YS5zcmMgPSB0aGlzLnVybDtcbiAgICB9XG5cbiAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9ib3VuZE9uRXJyb3IsIGZhbHNlKTtcbiAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2JvdW5kQ29tcGxldGUsIGZhbHNlKTtcbiAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MsIGZhbHNlKTtcblxuICAgIGlmICh0aGlzLnRpbWVvdXQpIHtcbiAgICAgIHRoaXMuX2VsZW1lbnRUaW1lciA9IHNldFRpbWVvdXQodGhpcy5fYm91bmRPblRpbWVvdXQsIHRoaXMudGltZW91dCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBMb2FkcyB0aGlzIHJlc291cmNlcyB1c2luZyBhbiBlbGVtZW50IHRoYXQgaGFzIG11bHRpcGxlIHNvdXJjZXMsXG4gICAqIGxpa2UgYW4gSFRNTEF1ZGlvRWxlbWVudCBvciBIVE1MVmlkZW9FbGVtZW50LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFRoZSB0eXBlIG9mIGVsZW1lbnQgdG8gdXNlLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fbG9hZFNvdXJjZUVsZW1lbnQgPSBmdW5jdGlvbiBfbG9hZFNvdXJjZUVsZW1lbnQodHlwZSkge1xuICAgIGlmICh0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50KSB7XG4gICAgICB0aGlzLmRhdGEgPSB0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50O1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2F1ZGlvJyAmJiB0eXBlb2Ygd2luZG93LkF1ZGlvICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5kYXRhID0gbmV3IEF1ZGlvKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGF0YSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodHlwZSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZGF0YSA9PT0gbnVsbCkge1xuICAgICAgdGhpcy5hYm9ydChcIlVuc3VwcG9ydGVkIGVsZW1lbnQ6IFwiICsgdHlwZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY3Jvc3NPcmlnaW4pIHtcbiAgICAgIHRoaXMuZGF0YS5jcm9zc09yaWdpbiA9IHRoaXMuY3Jvc3NPcmlnaW47XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLm1ldGFkYXRhLnNraXBTb3VyY2UpIHtcbiAgICAgIC8vIHN1cHBvcnQgZm9yIENvY29vbkpTIENhbnZhcysgcnVudGltZSwgbGFja3MgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc291cmNlJylcbiAgICAgIGlmIChuYXZpZ2F0b3IuaXNDb2Nvb25KUykge1xuICAgICAgICB0aGlzLmRhdGEuc3JjID0gQXJyYXkuaXNBcnJheSh0aGlzLnVybCkgPyB0aGlzLnVybFswXSA6IHRoaXMudXJsO1xuICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHRoaXMudXJsKSkge1xuICAgICAgICB2YXIgbWltZVR5cGVzID0gdGhpcy5tZXRhZGF0YS5taW1lVHlwZTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudXJsLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgdGhpcy5kYXRhLmFwcGVuZENoaWxkKHRoaXMuX2NyZWF0ZVNvdXJjZSh0eXBlLCB0aGlzLnVybFtpXSwgQXJyYXkuaXNBcnJheShtaW1lVHlwZXMpID8gbWltZVR5cGVzW2ldIDogbWltZVR5cGVzKSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBfbWltZVR5cGVzID0gdGhpcy5tZXRhZGF0YS5taW1lVHlwZTtcbiAgICAgICAgdGhpcy5kYXRhLmFwcGVuZENoaWxkKHRoaXMuX2NyZWF0ZVNvdXJjZSh0eXBlLCB0aGlzLnVybCwgQXJyYXkuaXNBcnJheShfbWltZVR5cGVzKSA/IF9taW1lVHlwZXNbMF0gOiBfbWltZVR5cGVzKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRPbkVycm9yLCBmYWxzZSk7XG4gICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9ib3VuZENvbXBsZXRlLCBmYWxzZSk7XG4gICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5fYm91bmRPblByb2dyZXNzLCBmYWxzZSk7XG4gICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ2NhbnBsYXl0aHJvdWdoJywgdGhpcy5fYm91bmRDb21wbGV0ZSwgZmFsc2UpO1xuICAgIHRoaXMuZGF0YS5sb2FkKCk7XG5cbiAgICBpZiAodGhpcy50aW1lb3V0KSB7XG4gICAgICB0aGlzLl9lbGVtZW50VGltZXIgPSBzZXRUaW1lb3V0KHRoaXMuX2JvdW5kT25UaW1lb3V0LCB0aGlzLnRpbWVvdXQpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogTG9hZHMgdGhpcyByZXNvdXJjZXMgdXNpbmcgYW4gWE1MSHR0cFJlcXVlc3QuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9sb2FkWGhyID0gZnVuY3Rpb24gX2xvYWRYaHIoKSB7XG4gICAgLy8gaWYgdW5zZXQsIGRldGVybWluZSB0aGUgdmFsdWVcbiAgICBpZiAodHlwZW9mIHRoaXMueGhyVHlwZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMueGhyVHlwZSA9IHRoaXMuX2RldGVybWluZVhoclR5cGUoKTtcbiAgICB9XG5cbiAgICB2YXIgeGhyID0gdGhpcy54aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsgLy8gc2V0IHRoZSByZXF1ZXN0IHR5cGUgYW5kIHVybFxuXG4gICAgeGhyLm9wZW4oJ0dFVCcsIHRoaXMudXJsLCB0cnVlKTtcbiAgICB4aHIudGltZW91dCA9IHRoaXMudGltZW91dDsgLy8gbG9hZCBqc29uIGFzIHRleHQgYW5kIHBhcnNlIGl0IG91cnNlbHZlcy4gV2UgZG8gdGhpcyBiZWNhdXNlIHNvbWUgYnJvd3NlcnNcbiAgICAvLyAqY291Z2gqIHNhZmFyaSAqY291Z2gqIGNhbid0IGRlYWwgd2l0aCBpdC5cblxuICAgIGlmICh0aGlzLnhoclR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkpTT04gfHwgdGhpcy54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCkge1xuICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHhoci5yZXNwb25zZVR5cGUgPSB0aGlzLnhoclR5cGU7XG4gICAgfVxuXG4gICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRYaHJPbkVycm9yLCBmYWxzZSk7XG4gICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ3RpbWVvdXQnLCB0aGlzLl9ib3VuZFhock9uVGltZW91dCwgZmFsc2UpO1xuICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIHRoaXMuX2JvdW5kWGhyT25BYm9ydCwgZmFsc2UpO1xuICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuX2JvdW5kT25Qcm9ncmVzcywgZmFsc2UpO1xuICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5fYm91bmRYaHJPbkxvYWQsIGZhbHNlKTtcbiAgICB4aHIuc2VuZCgpO1xuICB9XG4gIC8qKlxuICAgKiBMb2FkcyB0aGlzIHJlc291cmNlcyB1c2luZyBhbiBYRG9tYWluUmVxdWVzdC4gVGhpcyBpcyBoZXJlIGJlY2F1c2Ugd2UgbmVlZCB0byBzdXBwb3J0IElFOSAoZ3Jvc3MpLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fbG9hZFhkciA9IGZ1bmN0aW9uIF9sb2FkWGRyKCkge1xuICAgIC8vIGlmIHVuc2V0LCBkZXRlcm1pbmUgdGhlIHZhbHVlXG4gICAgaWYgKHR5cGVvZiB0aGlzLnhoclR5cGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLnhoclR5cGUgPSB0aGlzLl9kZXRlcm1pbmVYaHJUeXBlKCk7XG4gICAgfVxuXG4gICAgdmFyIHhkciA9IHRoaXMueGhyID0gbmV3IFhEb21haW5SZXF1ZXN0KCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcbiAgICAvLyBYRG9tYWluUmVxdWVzdCBoYXMgYSBmZXcgcXVpcmtzLiBPY2Nhc2lvbmFsbHkgaXQgd2lsbCBhYm9ydCByZXF1ZXN0c1xuICAgIC8vIEEgd2F5IHRvIGF2b2lkIHRoaXMgaXMgdG8gbWFrZSBzdXJlIEFMTCBjYWxsYmFja3MgYXJlIHNldCBldmVuIGlmIG5vdCB1c2VkXG4gICAgLy8gTW9yZSBpbmZvIGhlcmU6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTU3ODY5NjYveGRvbWFpbnJlcXVlc3QtYWJvcnRzLXBvc3Qtb24taWUtOVxuXG4gICAgeGRyLnRpbWVvdXQgPSB0aGlzLnRpbWVvdXQgfHwgNTAwMDsgLy8gWERSIG5lZWRzIGEgdGltZW91dCB2YWx1ZSBvciBpdCBicmVha3MgaW4gSUU5XG5cbiAgICB4ZHIub25lcnJvciA9IHRoaXMuX2JvdW5kWGhyT25FcnJvcjtcbiAgICB4ZHIub250aW1lb3V0ID0gdGhpcy5fYm91bmRYaHJPblRpbWVvdXQ7XG4gICAgeGRyLm9ucHJvZ3Jlc3MgPSB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3M7XG4gICAgeGRyLm9ubG9hZCA9IHRoaXMuX2JvdW5kWGhyT25Mb2FkO1xuICAgIHhkci5vcGVuKCdHRVQnLCB0aGlzLnVybCwgdHJ1ZSk7IC8vIE5vdGU6IFRoZSB4ZHIuc2VuZCgpIGNhbGwgaXMgd3JhcHBlZCBpbiBhIHRpbWVvdXQgdG8gcHJldmVudCBhblxuICAgIC8vIGlzc3VlIHdpdGggdGhlIGludGVyZmFjZSB3aGVyZSBzb21lIHJlcXVlc3RzIGFyZSBsb3N0IGlmIG11bHRpcGxlXG4gICAgLy8gWERvbWFpblJlcXVlc3RzIGFyZSBiZWluZyBzZW50IGF0IHRoZSBzYW1lIHRpbWUuXG4gICAgLy8gU29tZSBpbmZvIGhlcmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9waG90b25zdG9ybS9waGFzZXIvaXNzdWVzLzEyNDhcblxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHhkci5zZW5kKCk7XG4gICAgfSwgMSk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBzb3VyY2UgdXNlZCBpbiBsb2FkaW5nIHZpYSBhbiBlbGVtZW50LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFRoZSBlbGVtZW50IHR5cGUgKHZpZGVvIG9yIGF1ZGlvKS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSBzb3VyY2UgVVJMIHRvIGxvYWQgZnJvbS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IFttaW1lXSAtIFRoZSBtaW1lIHR5cGUgb2YgdGhlIHZpZGVvXG4gICAqIEByZXR1cm4ge0hUTUxTb3VyY2VFbGVtZW50fSBUaGUgc291cmNlIGVsZW1lbnQuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9jcmVhdGVTb3VyY2UgPSBmdW5jdGlvbiBfY3JlYXRlU291cmNlKHR5cGUsIHVybCwgbWltZSkge1xuICAgIGlmICghbWltZSkge1xuICAgICAgbWltZSA9IHR5cGUgKyBcIi9cIiArIHRoaXMuX2dldEV4dGVuc2lvbih1cmwpO1xuICAgIH1cblxuICAgIHZhciBzb3VyY2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzb3VyY2UnKTtcbiAgICBzb3VyY2Uuc3JjID0gdXJsO1xuICAgIHNvdXJjZS50eXBlID0gbWltZTtcbiAgICByZXR1cm4gc291cmNlO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsZWQgaWYgYSBsb2FkIGVycm9ycyBvdXQuXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IC0gVGhlIGVycm9yIGV2ZW50IGZyb20gdGhlIGVsZW1lbnQgdGhhdCBlbWl0cyBpdC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX29uRXJyb3IgPSBmdW5jdGlvbiBfb25FcnJvcihldmVudCkge1xuICAgIHRoaXMuYWJvcnQoXCJGYWlsZWQgdG8gbG9hZCBlbGVtZW50IHVzaW5nOiBcIiArIGV2ZW50LnRhcmdldC5ub2RlTmFtZSk7XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCBpZiBhIGxvYWQgcHJvZ3Jlc3MgZXZlbnQgZmlyZXMgZm9yIGFuIGVsZW1lbnQgb3IgeGhyL3hkci5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtYTUxIdHRwUmVxdWVzdFByb2dyZXNzRXZlbnR8RXZlbnR9IGV2ZW50IC0gUHJvZ3Jlc3MgZXZlbnQuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9vblByb2dyZXNzID0gZnVuY3Rpb24gX29uUHJvZ3Jlc3MoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQgJiYgZXZlbnQubGVuZ3RoQ29tcHV0YWJsZSkge1xuICAgICAgdGhpcy5vblByb2dyZXNzLmRpc3BhdGNoKHRoaXMsIGV2ZW50LmxvYWRlZCAvIGV2ZW50LnRvdGFsKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCBpZiBhIHRpbWVvdXQgZXZlbnQgZmlyZXMgZm9yIGFuIGVsZW1lbnQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9vblRpbWVvdXQgPSBmdW5jdGlvbiBfb25UaW1lb3V0KCkge1xuICAgIHRoaXMuYWJvcnQoXCJMb2FkIHRpbWVkIG91dC5cIik7XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCBpZiBhbiBlcnJvciBldmVudCBmaXJlcyBmb3IgeGhyL3hkci5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX3hock9uRXJyb3IgPSBmdW5jdGlvbiBfeGhyT25FcnJvcigpIHtcbiAgICB2YXIgeGhyID0gdGhpcy54aHI7XG4gICAgdGhpcy5hYm9ydChyZXFUeXBlKHhocikgKyBcIiBSZXF1ZXN0IGZhaWxlZC4gU3RhdHVzOiBcIiArIHhoci5zdGF0dXMgKyBcIiwgdGV4dDogXFxcIlwiICsgeGhyLnN0YXR1c1RleHQgKyBcIlxcXCJcIik7XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCBpZiBhbiBlcnJvciBldmVudCBmaXJlcyBmb3IgeGhyL3hkci5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX3hock9uVGltZW91dCA9IGZ1bmN0aW9uIF94aHJPblRpbWVvdXQoKSB7XG4gICAgdmFyIHhociA9IHRoaXMueGhyO1xuICAgIHRoaXMuYWJvcnQocmVxVHlwZSh4aHIpICsgXCIgUmVxdWVzdCB0aW1lZCBvdXQuXCIpO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsZWQgaWYgYW4gYWJvcnQgZXZlbnQgZmlyZXMgZm9yIHhoci94ZHIuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl94aHJPbkFib3J0ID0gZnVuY3Rpb24gX3hock9uQWJvcnQoKSB7XG4gICAgdmFyIHhociA9IHRoaXMueGhyO1xuICAgIHRoaXMuYWJvcnQocmVxVHlwZSh4aHIpICsgXCIgUmVxdWVzdCB3YXMgYWJvcnRlZCBieSB0aGUgdXNlci5cIik7XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIGRhdGEgc3VjY2Vzc2Z1bGx5IGxvYWRzIGZyb20gYW4geGhyL3hkciByZXF1ZXN0LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge1hNTEh0dHBSZXF1ZXN0TG9hZEV2ZW50fEV2ZW50fSBldmVudCAtIExvYWQgZXZlbnRcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX3hock9uTG9hZCA9IGZ1bmN0aW9uIF94aHJPbkxvYWQoKSB7XG4gICAgdmFyIHhociA9IHRoaXMueGhyO1xuICAgIHZhciB0ZXh0ID0gJyc7XG4gICAgdmFyIHN0YXR1cyA9IHR5cGVvZiB4aHIuc3RhdHVzID09PSAndW5kZWZpbmVkJyA/IFNUQVRVU19PSyA6IHhoci5zdGF0dXM7IC8vIFhEUiBoYXMgbm8gYC5zdGF0dXNgLCBhc3N1bWUgMjAwLlxuICAgIC8vIHJlc3BvbnNlVGV4dCBpcyBhY2Nlc3NpYmxlIG9ubHkgaWYgcmVzcG9uc2VUeXBlIGlzICcnIG9yICd0ZXh0JyBhbmQgb24gb2xkZXIgYnJvd3NlcnNcblxuICAgIGlmICh4aHIucmVzcG9uc2VUeXBlID09PSAnJyB8fCB4aHIucmVzcG9uc2VUeXBlID09PSAndGV4dCcgfHwgdHlwZW9mIHhoci5yZXNwb25zZVR5cGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0ZXh0ID0geGhyLnJlc3BvbnNlVGV4dDtcbiAgICB9IC8vIHN0YXR1cyBjYW4gYmUgMCB3aGVuIHVzaW5nIHRoZSBgZmlsZTovL2AgcHJvdG9jb2wgc28gd2UgYWxzbyBjaGVjayBpZiBhIHJlc3BvbnNlIGlzIHNldC5cbiAgICAvLyBJZiBpdCBoYXMgYSByZXNwb25zZSwgd2UgYXNzdW1lIDIwMDsgb3RoZXJ3aXNlIGEgMCBzdGF0dXMgY29kZSB3aXRoIG5vIGNvbnRlbnRzIGlzIGFuIGFib3J0ZWQgcmVxdWVzdC5cblxuXG4gICAgaWYgKHN0YXR1cyA9PT0gU1RBVFVTX05PTkUgJiYgKHRleHQubGVuZ3RoID4gMCB8fCB4aHIucmVzcG9uc2VUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CVUZGRVIpKSB7XG4gICAgICBzdGF0dXMgPSBTVEFUVVNfT0s7XG4gICAgfSAvLyBoYW5kbGUgSUU5IGJ1ZzogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMDA0Njk3Mi9tc2llLXJldHVybnMtc3RhdHVzLWNvZGUtb2YtMTIyMy1mb3ItYWpheC1yZXF1ZXN0XG4gICAgZWxzZSBpZiAoc3RhdHVzID09PSBTVEFUVVNfSUVfQlVHX0VNUFRZKSB7XG4gICAgICAgIHN0YXR1cyA9IFNUQVRVU19FTVBUWTtcbiAgICAgIH1cblxuICAgIHZhciBzdGF0dXNUeXBlID0gc3RhdHVzIC8gMTAwIHwgMDtcblxuICAgIGlmIChzdGF0dXNUeXBlID09PSBTVEFUVVNfVFlQRV9PSykge1xuICAgICAgLy8gaWYgdGV4dCwganVzdCByZXR1cm4gaXRcbiAgICAgIGlmICh0aGlzLnhoclR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQpIHtcbiAgICAgICAgdGhpcy5kYXRhID0gdGV4dDtcbiAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5URVhUO1xuICAgICAgfSAvLyBpZiBqc29uLCBwYXJzZSBpbnRvIGpzb24gb2JqZWN0XG4gICAgICBlbHNlIGlmICh0aGlzLnhoclR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkpTT04pIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuSlNPTjtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aGlzLmFib3J0KFwiRXJyb3IgdHJ5aW5nIHRvIHBhcnNlIGxvYWRlZCBqc29uOiBcIiArIGUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfSAvLyBpZiB4bWwsIHBhcnNlIGludG8gYW4geG1sIGRvY3VtZW50IG9yIGRpdiBlbGVtZW50XG4gICAgICAgIGVsc2UgaWYgKHRoaXMueGhyVHlwZSA9PT0gUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGlmICh3aW5kb3cuRE9NUGFyc2VyKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRvbXBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSBkb21wYXJzZXIucGFyc2VGcm9tU3RyaW5nKHRleHQsICd0ZXh0L3htbCcpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICBkaXYuaW5uZXJIVE1MID0gdGV4dDtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSBkaXY7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLlhNTDtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgdGhpcy5hYm9ydChcIkVycm9yIHRyeWluZyB0byBwYXJzZSBsb2FkZWQgeG1sOiBcIiArIGUpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSAvLyBvdGhlciB0eXBlcyBqdXN0IHJldHVybiB0aGUgcmVzcG9uc2VcbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5kYXRhID0geGhyLnJlc3BvbnNlIHx8IHRleHQ7XG4gICAgICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYWJvcnQoXCJbXCIgKyB4aHIuc3RhdHVzICsgXCJdIFwiICsgeGhyLnN0YXR1c1RleHQgKyBcIjogXCIgKyB4aHIucmVzcG9uc2VVUkwpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuY29tcGxldGUoKTtcbiAgfVxuICAvKipcbiAgICogU2V0cyB0aGUgYGNyb3NzT3JpZ2luYCBwcm9wZXJ0eSBmb3IgdGhpcyByZXNvdXJjZSBiYXNlZCBvbiBpZiB0aGUgdXJsXG4gICAqIGZvciB0aGlzIHJlc291cmNlIGlzIGNyb3NzLW9yaWdpbi4gSWYgY3Jvc3NPcmlnaW4gd2FzIG1hbnVhbGx5IHNldCwgdGhpc1xuICAgKiBmdW5jdGlvbiBkb2VzIG5vdGhpbmcuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgdXJsIHRvIHRlc3QuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBbbG9jPXdpbmRvdy5sb2NhdGlvbl0gLSBUaGUgbG9jYXRpb24gb2JqZWN0IHRvIHRlc3QgYWdhaW5zdC5cbiAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgY3Jvc3NPcmlnaW4gdmFsdWUgdG8gdXNlIChvciBlbXB0eSBzdHJpbmcgZm9yIG5vbmUpLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4gPSBmdW5jdGlvbiBfZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4odXJsLCBsb2MpIHtcbiAgICAvLyBkYXRhOiBhbmQgamF2YXNjcmlwdDogdXJscyBhcmUgY29uc2lkZXJlZCBzYW1lLW9yaWdpblxuICAgIGlmICh1cmwuaW5kZXhPZignZGF0YTonKSA9PT0gMCkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH0gLy8gQSBzYW5kYm94ZWQgaWZyYW1lIHdpdGhvdXQgdGhlICdhbGxvdy1zYW1lLW9yaWdpbicgYXR0cmlidXRlIHdpbGwgaGF2ZSBhIHNwZWNpYWxcbiAgICAvLyBvcmlnaW4gZGVzaWduZWQgbm90IHRvIG1hdGNoIHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4sIGFuZCB3aWxsIGFsd2F5cyByZXF1aXJlXG4gICAgLy8gY3Jvc3NPcmlnaW4gcmVxdWVzdHMgcmVnYXJkbGVzcyBvZiB3aGV0aGVyIHRoZSBsb2NhdGlvbiBtYXRjaGVzLlxuXG5cbiAgICBpZiAod2luZG93Lm9yaWdpbiAhPT0gd2luZG93LmxvY2F0aW9uLm9yaWdpbikge1xuICAgICAgcmV0dXJuICdhbm9ueW1vdXMnO1xuICAgIH0gLy8gZGVmYXVsdCBpcyB3aW5kb3cubG9jYXRpb25cblxuXG4gICAgbG9jID0gbG9jIHx8IHdpbmRvdy5sb2NhdGlvbjtcblxuICAgIGlmICghdGVtcEFuY2hvcikge1xuICAgICAgdGVtcEFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICB9IC8vIGxldCB0aGUgYnJvd3NlciBkZXRlcm1pbmUgdGhlIGZ1bGwgaHJlZiBmb3IgdGhlIHVybCBvZiB0aGlzIHJlc291cmNlIGFuZCB0aGVuXG4gICAgLy8gcGFyc2Ugd2l0aCB0aGUgbm9kZSB1cmwgbGliLCB3ZSBjYW4ndCB1c2UgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGFuY2hvciBlbGVtZW50XG4gICAgLy8gYmVjYXVzZSB0aGV5IGRvbid0IHdvcmsgaW4gSUU5IDooXG5cblxuICAgIHRlbXBBbmNob3IuaHJlZiA9IHVybDtcbiAgICB1cmwgPSBwYXJzZVVyaSh0ZW1wQW5jaG9yLmhyZWYsIHtcbiAgICAgIHN0cmljdE1vZGU6IHRydWVcbiAgICB9KTtcbiAgICB2YXIgc2FtZVBvcnQgPSAhdXJsLnBvcnQgJiYgbG9jLnBvcnQgPT09ICcnIHx8IHVybC5wb3J0ID09PSBsb2MucG9ydDtcbiAgICB2YXIgcHJvdG9jb2wgPSB1cmwucHJvdG9jb2wgPyB1cmwucHJvdG9jb2wgKyBcIjpcIiA6ICcnOyAvLyBpZiBjcm9zcyBvcmlnaW5cblxuICAgIGlmICh1cmwuaG9zdCAhPT0gbG9jLmhvc3RuYW1lIHx8ICFzYW1lUG9ydCB8fCBwcm90b2NvbCAhPT0gbG9jLnByb3RvY29sKSB7XG4gICAgICByZXR1cm4gJ2Fub255bW91cyc7XG4gICAgfVxuXG4gICAgcmV0dXJuICcnO1xuICB9XG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHRoZSByZXNwb25zZVR5cGUgb2YgYW4gWEhSIHJlcXVlc3QgYmFzZWQgb24gdGhlIGV4dGVuc2lvbiBvZiB0aGVcbiAgICogcmVzb3VyY2UgYmVpbmcgbG9hZGVkLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmV0dXJuIHtSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0gVGhlIHJlc3BvbnNlVHlwZSB0byB1c2UuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9kZXRlcm1pbmVYaHJUeXBlID0gZnVuY3Rpb24gX2RldGVybWluZVhoclR5cGUoKSB7XG4gICAgcmV0dXJuIFJlc291cmNlLl94aHJUeXBlTWFwW3RoaXMuZXh0ZW5zaW9uXSB8fCBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhUO1xuICB9XG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHRoZSBsb2FkVHlwZSBvZiBhIHJlc291cmNlIGJhc2VkIG9uIHRoZSBleHRlbnNpb24gb2YgdGhlXG4gICAqIHJlc291cmNlIGJlaW5nIGxvYWRlZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHJldHVybiB7UmVzb3VyY2UuTE9BRF9UWVBFfSBUaGUgbG9hZFR5cGUgdG8gdXNlLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fZGV0ZXJtaW5lTG9hZFR5cGUgPSBmdW5jdGlvbiBfZGV0ZXJtaW5lTG9hZFR5cGUoKSB7XG4gICAgcmV0dXJuIFJlc291cmNlLl9sb2FkVHlwZU1hcFt0aGlzLmV4dGVuc2lvbl0gfHwgUmVzb3VyY2UuTE9BRF9UWVBFLlhIUjtcbiAgfVxuICAvKipcbiAgICogRXh0cmFjdHMgdGhlIGV4dGVuc2lvbiAoc2FucyAnLicpIG9mIHRoZSBmaWxlIGJlaW5nIGxvYWRlZCBieSB0aGUgcmVzb3VyY2UuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGV4dGVuc2lvbi5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uX2dldEV4dGVuc2lvbiA9IGZ1bmN0aW9uIF9nZXRFeHRlbnNpb24oKSB7XG4gICAgdmFyIHVybCA9IHRoaXMudXJsO1xuICAgIHZhciBleHQgPSAnJztcblxuICAgIGlmICh0aGlzLmlzRGF0YVVybCkge1xuICAgICAgdmFyIHNsYXNoSW5kZXggPSB1cmwuaW5kZXhPZignLycpO1xuICAgICAgZXh0ID0gdXJsLnN1YnN0cmluZyhzbGFzaEluZGV4ICsgMSwgdXJsLmluZGV4T2YoJzsnLCBzbGFzaEluZGV4KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBxdWVyeVN0YXJ0ID0gdXJsLmluZGV4T2YoJz8nKTtcbiAgICAgIHZhciBoYXNoU3RhcnQgPSB1cmwuaW5kZXhPZignIycpO1xuICAgICAgdmFyIGluZGV4ID0gTWF0aC5taW4ocXVlcnlTdGFydCA+IC0xID8gcXVlcnlTdGFydCA6IHVybC5sZW5ndGgsIGhhc2hTdGFydCA+IC0xID8gaGFzaFN0YXJ0IDogdXJsLmxlbmd0aCk7XG4gICAgICB1cmwgPSB1cmwuc3Vic3RyaW5nKDAsIGluZGV4KTtcbiAgICAgIGV4dCA9IHVybC5zdWJzdHJpbmcodXJsLmxhc3RJbmRleE9mKCcuJykgKyAxKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZXh0LnRvTG93ZXJDYXNlKCk7XG4gIH1cbiAgLyoqXG4gICAqIERldGVybWluZXMgdGhlIG1pbWUgdHlwZSBvZiBhbiBYSFIgcmVxdWVzdCBiYXNlZCBvbiB0aGUgcmVzcG9uc2VUeXBlIG9mXG4gICAqIHJlc291cmNlIGJlaW5nIGxvYWRlZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0gdHlwZSAtIFRoZSB0eXBlIHRvIGdldCBhIG1pbWUgdHlwZSBmb3IuXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIG1pbWUgdHlwZSB0byB1c2UuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9nZXRNaW1lRnJvbVhoclR5cGUgPSBmdW5jdGlvbiBfZ2V0TWltZUZyb21YaHJUeXBlKHR5cGUpIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQlVGRkVSOlxuICAgICAgICByZXR1cm4gJ2FwcGxpY2F0aW9uL29jdGV0LWJpbmFyeSc7XG5cbiAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQjpcbiAgICAgICAgcmV0dXJuICdhcHBsaWNhdGlvbi9ibG9iJztcblxuICAgICAgY2FzZSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVDpcbiAgICAgICAgcmV0dXJuICdhcHBsaWNhdGlvbi94bWwnO1xuXG4gICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkpTT046XG4gICAgICAgIHJldHVybiAnYXBwbGljYXRpb24vanNvbic7XG5cbiAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuREVGQVVMVDpcbiAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVDpcbiAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuICd0ZXh0L3BsYWluJztcbiAgICB9XG4gIH07XG5cbiAgX2NyZWF0ZUNsYXNzKFJlc291cmNlLCBbe1xuICAgIGtleTogXCJpc0RhdGFVcmxcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9oYXNGbGFnKFJlc291cmNlLlNUQVRVU19GTEFHUy5EQVRBX1VSTCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlc2NyaWJlcyBpZiB0aGlzIHJlc291cmNlIGhhcyBmaW5pc2hlZCBsb2FkaW5nLiBJcyB0cnVlIHdoZW4gdGhlIHJlc291cmNlIGhhcyBjb21wbGV0ZWx5XG4gICAgICogbG9hZGVkLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImlzQ29tcGxldGVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9oYXNGbGFnKFJlc291cmNlLlNUQVRVU19GTEFHUy5DT01QTEVURSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlc2NyaWJlcyBpZiB0aGlzIHJlc291cmNlIGlzIGN1cnJlbnRseSBsb2FkaW5nLiBJcyB0cnVlIHdoZW4gdGhlIHJlc291cmNlIHN0YXJ0cyBsb2FkaW5nLFxuICAgICAqIGFuZCBpcyBmYWxzZSBhZ2FpbiB3aGVuIGNvbXBsZXRlLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImlzTG9hZGluZ1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2hhc0ZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkxPQURJTkcpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBSZXNvdXJjZTtcbn0oKTtcbi8qKlxuICogVGhlIHR5cGVzIG9mIHJlc291cmNlcyBhIHJlc291cmNlIGNvdWxkIHJlcHJlc2VudC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAcmVhZG9ubHlcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cblxuXG5SZXNvdXJjZS5TVEFUVVNfRkxBR1MgPSB7XG4gIE5PTkU6IDAsXG4gIERBVEFfVVJMOiAxIDw8IDAsXG4gIENPTVBMRVRFOiAxIDw8IDEsXG4gIExPQURJTkc6IDEgPDwgMlxufTtcbi8qKlxuICogVGhlIHR5cGVzIG9mIHJlc291cmNlcyBhIHJlc291cmNlIGNvdWxkIHJlcHJlc2VudC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAcmVhZG9ubHlcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cblxuUmVzb3VyY2UuVFlQRSA9IHtcbiAgVU5LTk9XTjogMCxcbiAgSlNPTjogMSxcbiAgWE1MOiAyLFxuICBJTUFHRTogMyxcbiAgQVVESU86IDQsXG4gIFZJREVPOiA1LFxuICBURVhUOiA2XG59O1xuLyoqXG4gKiBUaGUgdHlwZXMgb2YgbG9hZGluZyBhIHJlc291cmNlIGNhbiB1c2UuXG4gKlxuICogQHN0YXRpY1xuICogQHJlYWRvbmx5XG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5cblJlc291cmNlLkxPQURfVFlQRSA9IHtcbiAgLyoqIFVzZXMgWE1MSHR0cFJlcXVlc3QgdG8gbG9hZCB0aGUgcmVzb3VyY2UuICovXG4gIFhIUjogMSxcblxuICAvKiogVXNlcyBhbiBgSW1hZ2VgIG9iamVjdCB0byBsb2FkIHRoZSByZXNvdXJjZS4gKi9cbiAgSU1BR0U6IDIsXG5cbiAgLyoqIFVzZXMgYW4gYEF1ZGlvYCBvYmplY3QgdG8gbG9hZCB0aGUgcmVzb3VyY2UuICovXG4gIEFVRElPOiAzLFxuXG4gIC8qKiBVc2VzIGEgYFZpZGVvYCBvYmplY3QgdG8gbG9hZCB0aGUgcmVzb3VyY2UuICovXG4gIFZJREVPOiA0XG59O1xuLyoqXG4gKiBUaGUgWEhSIHJlYWR5IHN0YXRlcywgdXNlZCBpbnRlcm5hbGx5LlxuICpcbiAqIEBzdGF0aWNcbiAqIEByZWFkb25seVxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuXG5SZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRSA9IHtcbiAgLyoqIHN0cmluZyAqL1xuICBERUZBVUxUOiAndGV4dCcsXG5cbiAgLyoqIEFycmF5QnVmZmVyICovXG4gIEJVRkZFUjogJ2FycmF5YnVmZmVyJyxcblxuICAvKiogQmxvYiAqL1xuICBCTE9COiAnYmxvYicsXG5cbiAgLyoqIERvY3VtZW50ICovXG4gIERPQ1VNRU5UOiAnZG9jdW1lbnQnLFxuXG4gIC8qKiBPYmplY3QgKi9cbiAgSlNPTjogJ2pzb24nLFxuXG4gIC8qKiBTdHJpbmcgKi9cbiAgVEVYVDogJ3RleHQnXG59O1xuUmVzb3VyY2UuX2xvYWRUeXBlTWFwID0ge1xuICAvLyBpbWFnZXNcbiAgZ2lmOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gIHBuZzogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICBibXA6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAganBnOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gIGpwZWc6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgdGlmOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gIHRpZmY6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgd2VicDogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICB0Z2E6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgc3ZnOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICdzdmcreG1sJzogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAvLyBmb3IgU1ZHIGRhdGEgdXJsc1xuICAvLyBhdWRpb1xuICBtcDM6IFJlc291cmNlLkxPQURfVFlQRS5BVURJTyxcbiAgb2dnOiBSZXNvdXJjZS5MT0FEX1RZUEUuQVVESU8sXG4gIHdhdjogUmVzb3VyY2UuTE9BRF9UWVBFLkFVRElPLFxuICAvLyB2aWRlb3NcbiAgbXA0OiBSZXNvdXJjZS5MT0FEX1RZUEUuVklERU8sXG4gIHdlYm06IFJlc291cmNlLkxPQURfVFlQRS5WSURFT1xufTtcblJlc291cmNlLl94aHJUeXBlTWFwID0ge1xuICAvLyB4bWxcbiAgeGh0bWw6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULFxuICBodG1sOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgaHRtOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgeG1sOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgdG14OiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgc3ZnOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgLy8gVGhpcyB3YXMgYWRkZWQgdG8gaGFuZGxlIFRpbGVkIFRpbGVzZXQgWE1MLCBidXQgLnRzeCBpcyBhbHNvIGEgVHlwZVNjcmlwdCBSZWFjdCBDb21wb25lbnQuXG4gIC8vIFNpbmNlIGl0IGlzIHdheSBsZXNzIGxpa2VseSBmb3IgcGVvcGxlIHRvIGJlIGxvYWRpbmcgVHlwZVNjcmlwdCBmaWxlcyBpbnN0ZWFkIG9mIFRpbGVkIGZpbGVzLFxuICAvLyB0aGlzIHNob3VsZCBwcm9iYWJseSBiZSBmaW5lLlxuICB0c3g6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULFxuICAvLyBpbWFnZXNcbiAgZ2lmOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICBwbmc6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gIGJtcDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAganBnOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICBqcGVnOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICB0aWY6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gIHRpZmY6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gIHdlYnA6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gIHRnYTogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgLy8ganNvblxuICBqc29uOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5KU09OLFxuICAvLyB0ZXh0XG4gIHRleHQ6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQsXG4gIHR4dDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVCxcbiAgLy8gZm9udHNcbiAgdHRmOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CVUZGRVIsXG4gIG90ZjogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQlVGRkVSXG59OyAvLyBXZSBjYW4ndCBzZXQgdGhlIGBzcmNgIGF0dHJpYnV0ZSB0byBlbXB0eSBzdHJpbmcsIHNvIG9uIGFib3J0IHdlIHNldCBpdCB0byB0aGlzIDFweCB0cmFuc3BhcmVudCBnaWZcblxuUmVzb3VyY2UuRU1QVFlfR0lGID0gJ2RhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBSUFBQVAvLy93QUFBQ0g1QkFFQUFBQUFMQUFBQUFBQkFBRUFBQUlDUkFFQU93PT0nO1xuLyoqXG4gKiBRdWljayBoZWxwZXIgdG8gc2V0IGEgdmFsdWUgb24gb25lIG9mIHRoZSBleHRlbnNpb24gbWFwcy4gRW5zdXJlcyB0aGVyZSBpcyBub1xuICogZG90IGF0IHRoZSBzdGFydCBvZiB0aGUgZXh0ZW5zaW9uLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7b2JqZWN0fSBtYXAgLSBUaGUgbWFwIHRvIHNldCBvbi5cbiAqIEBwYXJhbSB7c3RyaW5nfSBleHRuYW1lIC0gVGhlIGV4dGVuc2lvbiAob3Iga2V5KSB0byBzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsIC0gVGhlIHZhbHVlIHRvIHNldC5cbiAqL1xuXG5mdW5jdGlvbiBzZXRFeHRNYXAobWFwLCBleHRuYW1lLCB2YWwpIHtcbiAgaWYgKGV4dG5hbWUgJiYgZXh0bmFtZS5pbmRleE9mKCcuJykgPT09IDApIHtcbiAgICBleHRuYW1lID0gZXh0bmFtZS5zdWJzdHJpbmcoMSk7XG4gIH1cblxuICBpZiAoIWV4dG5hbWUpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBtYXBbZXh0bmFtZV0gPSB2YWw7XG59XG4vKipcbiAqIFF1aWNrIGhlbHBlciB0byBnZXQgc3RyaW5nIHhociB0eXBlLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7WE1MSHR0cFJlcXVlc3R8WERvbWFpblJlcXVlc3R9IHhociAtIFRoZSByZXF1ZXN0IHRvIGNoZWNrLlxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgdHlwZS5cbiAqL1xuXG5cbmZ1bmN0aW9uIHJlcVR5cGUoeGhyKSB7XG4gIHJldHVybiB4aHIudG9TdHJpbmcoKS5yZXBsYWNlKCdvYmplY3QgJywgJycpO1xufVxuXG52YXIgX2tleVN0ciA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPSc7XG4vKipcbiAqIEVuY29kZXMgYmluYXJ5IGludG8gYmFzZTY0LlxuICpcbiAqIEBmdW5jdGlvbiBlbmNvZGVCaW5hcnlcbiAqIEBwYXJhbSB7c3RyaW5nfSBpbnB1dCBUaGUgaW5wdXQgZGF0YSB0byBlbmNvZGUuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZW5jb2RlZCBiYXNlNjQgc3RyaW5nXG4gKi9cblxuZnVuY3Rpb24gZW5jb2RlQmluYXJ5KGlucHV0KSB7XG4gIHZhciBvdXRwdXQgPSAnJztcbiAgdmFyIGlueCA9IDA7XG5cbiAgd2hpbGUgKGlueCA8IGlucHV0Lmxlbmd0aCkge1xuICAgIC8vIEZpbGwgYnl0ZSBidWZmZXIgYXJyYXlcbiAgICB2YXIgYnl0ZWJ1ZmZlciA9IFswLCAwLCAwXTtcbiAgICB2YXIgZW5jb2RlZENoYXJJbmRleGVzID0gWzAsIDAsIDAsIDBdO1xuXG4gICAgZm9yICh2YXIgam54ID0gMDsgam54IDwgYnl0ZWJ1ZmZlci5sZW5ndGg7ICsram54KSB7XG4gICAgICBpZiAoaW54IDwgaW5wdXQubGVuZ3RoKSB7XG4gICAgICAgIC8vIHRocm93IGF3YXkgaGlnaC1vcmRlciBieXRlLCBhcyBkb2N1bWVudGVkIGF0OlxuICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9Fbi9Vc2luZ19YTUxIdHRwUmVxdWVzdCNIYW5kbGluZ19iaW5hcnlfZGF0YVxuICAgICAgICBieXRlYnVmZmVyW2pueF0gPSBpbnB1dC5jaGFyQ29kZUF0KGlueCsrKSAmIDB4ZmY7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBieXRlYnVmZmVyW2pueF0gPSAwO1xuICAgICAgfVxuICAgIH0gLy8gR2V0IGVhY2ggZW5jb2RlZCBjaGFyYWN0ZXIsIDYgYml0cyBhdCBhIHRpbWVcbiAgICAvLyBpbmRleCAxOiBmaXJzdCA2IGJpdHNcblxuXG4gICAgZW5jb2RlZENoYXJJbmRleGVzWzBdID0gYnl0ZWJ1ZmZlclswXSA+PiAyOyAvLyBpbmRleCAyOiBzZWNvbmQgNiBiaXRzICgyIGxlYXN0IHNpZ25pZmljYW50IGJpdHMgZnJvbSBpbnB1dCBieXRlIDEgKyA0IG1vc3Qgc2lnbmlmaWNhbnQgYml0cyBmcm9tIGJ5dGUgMilcblxuICAgIGVuY29kZWRDaGFySW5kZXhlc1sxXSA9IChieXRlYnVmZmVyWzBdICYgMHgzKSA8PCA0IHwgYnl0ZWJ1ZmZlclsxXSA+PiA0OyAvLyBpbmRleCAzOiB0aGlyZCA2IGJpdHMgKDQgbGVhc3Qgc2lnbmlmaWNhbnQgYml0cyBmcm9tIGlucHV0IGJ5dGUgMiArIDIgbW9zdCBzaWduaWZpY2FudCBiaXRzIGZyb20gYnl0ZSAzKVxuXG4gICAgZW5jb2RlZENoYXJJbmRleGVzWzJdID0gKGJ5dGVidWZmZXJbMV0gJiAweDBmKSA8PCAyIHwgYnl0ZWJ1ZmZlclsyXSA+PiA2OyAvLyBpbmRleCAzOiBmb3J0aCA2IGJpdHMgKDYgbGVhc3Qgc2lnbmlmaWNhbnQgYml0cyBmcm9tIGlucHV0IGJ5dGUgMylcblxuICAgIGVuY29kZWRDaGFySW5kZXhlc1szXSA9IGJ5dGVidWZmZXJbMl0gJiAweDNmOyAvLyBEZXRlcm1pbmUgd2hldGhlciBwYWRkaW5nIGhhcHBlbmVkLCBhbmQgYWRqdXN0IGFjY29yZGluZ2x5XG5cbiAgICB2YXIgcGFkZGluZ0J5dGVzID0gaW54IC0gKGlucHV0Lmxlbmd0aCAtIDEpO1xuXG4gICAgc3dpdGNoIChwYWRkaW5nQnl0ZXMpIHtcbiAgICAgIGNhc2UgMjpcbiAgICAgICAgLy8gU2V0IGxhc3QgMiBjaGFyYWN0ZXJzIHRvIHBhZGRpbmcgY2hhclxuICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbM10gPSA2NDtcbiAgICAgICAgZW5jb2RlZENoYXJJbmRleGVzWzJdID0gNjQ7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIDE6XG4gICAgICAgIC8vIFNldCBsYXN0IGNoYXJhY3RlciB0byBwYWRkaW5nIGNoYXJcbiAgICAgICAgZW5jb2RlZENoYXJJbmRleGVzWzNdID0gNjQ7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVhaztcbiAgICAgIC8vIE5vIHBhZGRpbmcgLSBwcm9jZWVkXG4gICAgfSAvLyBOb3cgd2Ugd2lsbCBncmFiIGVhY2ggYXBwcm9wcmlhdGUgY2hhcmFjdGVyIG91dCBvZiBvdXIga2V5c3RyaW5nXG4gICAgLy8gYmFzZWQgb24gb3VyIGluZGV4IGFycmF5IGFuZCBhcHBlbmQgaXQgdG8gdGhlIG91dHB1dCBzdHJpbmdcblxuXG4gICAgZm9yICh2YXIgX2pueCA9IDA7IF9qbnggPCBlbmNvZGVkQ2hhckluZGV4ZXMubGVuZ3RoOyArK19qbngpIHtcbiAgICAgIG91dHB1dCArPSBfa2V5U3RyLmNoYXJBdChlbmNvZGVkQ2hhckluZGV4ZXNbX2pueF0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvdXRwdXQ7XG59XG5cbnZhciBVcmwgPSB3aW5kb3cuVVJMIHx8IHdpbmRvdy53ZWJraXRVUkw7XG4vKipcbiAqIEEgbWlkZGxld2FyZSBmb3IgdHJhbnNmb3JtaW5nIFhIUiBsb2FkZWQgQmxvYnMgaW50byBtb3JlIHVzZWZ1bCBvYmplY3RzXG4gKlxuICogQG1lbWJlcm9mIG1pZGRsZXdhcmVcbiAqIEBmdW5jdGlvbiBwYXJzaW5nXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgTG9hZGVyLCBtaWRkbGV3YXJlIH0gZnJvbSAncmVzb3VyY2UtbG9hZGVyJztcbiAqIGNvbnN0IGxvYWRlciA9IG5ldyBMb2FkZXIoKTtcbiAqIGxvYWRlci51c2UobWlkZGxld2FyZS5wYXJzaW5nKTtcbiAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gQ3VycmVudCBSZXNvdXJjZVxuICogQHBhcmFtIHtmdW5jdGlvbn0gbmV4dCAtIENhbGxiYWNrIHdoZW4gY29tcGxldGVcbiAqL1xuXG5mdW5jdGlvbiBwYXJzaW5nKHJlc291cmNlLCBuZXh0KSB7XG4gIGlmICghcmVzb3VyY2UuZGF0YSkge1xuICAgIG5leHQoKTtcbiAgICByZXR1cm47XG4gIH0gLy8gaWYgdGhpcyB3YXMgYW4gWEhSIGxvYWQgb2YgYSBibG9iXG5cblxuICBpZiAocmVzb3VyY2UueGhyICYmIHJlc291cmNlLnhoclR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IpIHtcbiAgICAvLyBpZiB0aGVyZSBpcyBubyBibG9iIHN1cHBvcnQgd2UgcHJvYmFibHkgZ290IGEgYmluYXJ5IHN0cmluZyBiYWNrXG4gICAgaWYgKCF3aW5kb3cuQmxvYiB8fCB0eXBlb2YgcmVzb3VyY2UuZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHZhciB0eXBlID0gcmVzb3VyY2UueGhyLmdldFJlc3BvbnNlSGVhZGVyKCdjb250ZW50LXR5cGUnKTsgLy8gdGhpcyBpcyBhbiBpbWFnZSwgY29udmVydCB0aGUgYmluYXJ5IHN0cmluZyBpbnRvIGEgZGF0YSB1cmxcblxuICAgICAgaWYgKHR5cGUgJiYgdHlwZS5pbmRleE9mKCdpbWFnZScpID09PSAwKSB7XG4gICAgICAgIHJlc291cmNlLmRhdGEgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgcmVzb3VyY2UuZGF0YS5zcmMgPSBcImRhdGE6XCIgKyB0eXBlICsgXCI7YmFzZTY0LFwiICsgZW5jb2RlQmluYXJ5KHJlc291cmNlLnhoci5yZXNwb25zZVRleHQpO1xuICAgICAgICByZXNvdXJjZS50eXBlID0gUmVzb3VyY2UuVFlQRS5JTUFHRTsgLy8gd2FpdCB1bnRpbCB0aGUgaW1hZ2UgbG9hZHMgYW5kIHRoZW4gY2FsbGJhY2tcblxuICAgICAgICByZXNvdXJjZS5kYXRhLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXNvdXJjZS5kYXRhLm9ubG9hZCA9IG51bGw7XG4gICAgICAgICAgbmV4dCgpO1xuICAgICAgICB9OyAvLyBuZXh0IHdpbGwgYmUgY2FsbGVkIG9uIGxvYWRcblxuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9IC8vIGlmIGNvbnRlbnQgdHlwZSBzYXlzIHRoaXMgaXMgYW4gaW1hZ2UsIHRoZW4gd2Ugc2hvdWxkIHRyYW5zZm9ybSB0aGUgYmxvYiBpbnRvIGFuIEltYWdlIG9iamVjdFxuICAgIGVsc2UgaWYgKHJlc291cmNlLmRhdGEudHlwZS5pbmRleE9mKCdpbWFnZScpID09PSAwKSB7XG4gICAgICAgIHZhciBzcmMgPSBVcmwuY3JlYXRlT2JqZWN0VVJMKHJlc291cmNlLmRhdGEpO1xuICAgICAgICByZXNvdXJjZS5ibG9iID0gcmVzb3VyY2UuZGF0YTtcbiAgICAgICAgcmVzb3VyY2UuZGF0YSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICByZXNvdXJjZS5kYXRhLnNyYyA9IHNyYztcbiAgICAgICAgcmVzb3VyY2UudHlwZSA9IFJlc291cmNlLlRZUEUuSU1BR0U7IC8vIGNsZWFudXAgdGhlIG5vIGxvbmdlciB1c2VkIGJsb2IgYWZ0ZXIgdGhlIGltYWdlIGxvYWRzXG4gICAgICAgIC8vIFRPRE86IElzIHRoaXMgY29ycmVjdD8gV2lsbCB0aGUgaW1hZ2UgYmUgaW52YWxpZCBhZnRlciByZXZva2luZz9cblxuICAgICAgICByZXNvdXJjZS5kYXRhLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBVcmwucmV2b2tlT2JqZWN0VVJMKHNyYyk7XG4gICAgICAgICAgcmVzb3VyY2UuZGF0YS5vbmxvYWQgPSBudWxsO1xuICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfTsgLy8gbmV4dCB3aWxsIGJlIGNhbGxlZCBvbiBsb2FkLlxuXG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICB9XG5cbiAgbmV4dCgpO1xufVxuXG4vKipcbiAqIEBuYW1lc3BhY2UgbWlkZGxld2FyZVxuICovXG5cbnZhciBpbmRleCA9ICh7XG4gICAgY2FjaGluZzogY2FjaGluZyxcbiAgICBwYXJzaW5nOiBwYXJzaW5nXG59KTtcblxudmFyIE1BWF9QUk9HUkVTUyA9IDEwMDtcbnZhciByZ3hFeHRyYWN0VXJsSGFzaCA9IC8oI1tcXHctXSspPyQvO1xuLyoqXG4gKiBNYW5hZ2VzIHRoZSBzdGF0ZSBhbmQgbG9hZGluZyBvZiBtdWx0aXBsZSByZXNvdXJjZXMgdG8gbG9hZC5cbiAqXG4gKiBAY2xhc3NcbiAqL1xuXG52YXIgTG9hZGVyID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbYmFzZVVybD0nJ10gLSBUaGUgYmFzZSB1cmwgZm9yIGFsbCByZXNvdXJjZXMgbG9hZGVkIGJ5IHRoaXMgbG9hZGVyLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW2NvbmN1cnJlbmN5PTEwXSAtIFRoZSBudW1iZXIgb2YgcmVzb3VyY2VzIHRvIGxvYWQgY29uY3VycmVudGx5LlxuICAgKi9cbiAgZnVuY3Rpb24gTG9hZGVyKGJhc2VVcmwsIGNvbmN1cnJlbmN5KSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGlmIChiYXNlVXJsID09PSB2b2lkIDApIHtcbiAgICAgIGJhc2VVcmwgPSAnJztcbiAgICB9XG5cbiAgICBpZiAoY29uY3VycmVuY3kgPT09IHZvaWQgMCkge1xuICAgICAgY29uY3VycmVuY3kgPSAxMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSB1cmwgZm9yIGFsbCByZXNvdXJjZXMgbG9hZGVkIGJ5IHRoaXMgbG9hZGVyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMuYmFzZVVybCA9IGJhc2VVcmw7XG4gICAgLyoqXG4gICAgICogVGhlIHByb2dyZXNzIHBlcmNlbnQgb2YgdGhlIGxvYWRlciBnb2luZyB0aHJvdWdoIHRoZSBxdWV1ZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG5cbiAgICB0aGlzLnByb2dyZXNzID0gMDtcbiAgICAvKipcbiAgICAgKiBMb2FkaW5nIHN0YXRlIG9mIHRoZSBsb2FkZXIsIHRydWUgaWYgaXQgaXMgY3VycmVudGx5IGxvYWRpbmcgcmVzb3VyY2VzLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuXG4gICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogQSBxdWVyeXN0cmluZyB0byBhcHBlbmQgdG8gZXZlcnkgVVJMIGFkZGVkIHRvIHRoZSBsb2FkZXIuXG4gICAgICpcbiAgICAgKiBUaGlzIHNob3VsZCBiZSBhIHZhbGlkIHF1ZXJ5IHN0cmluZyAqd2l0aG91dCogdGhlIHF1ZXN0aW9uLW1hcmsgKGA/YCkuIFRoZSBsb2FkZXIgd2lsbFxuICAgICAqIGFsc28gKm5vdCogZXNjYXBlIHZhbHVlcyBmb3IgeW91LiBNYWtlIHN1cmUgdG8gZXNjYXBlIHlvdXIgcGFyYW1ldGVycyB3aXRoXG4gICAgICogW2BlbmNvZGVVUklDb21wb25lbnRgXShodHRwczovL21kbi5pby9lbmNvZGVVUklDb21wb25lbnQpIGJlZm9yZSBhc3NpZ25pbmcgdGhpcyBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgbG9hZGVyID0gbmV3IExvYWRlcigpO1xuICAgICAqXG4gICAgICogbG9hZGVyLmRlZmF1bHRRdWVyeVN0cmluZyA9ICd1c2VyPW1lJnBhc3N3b3JkPXNlY3JldCc7XG4gICAgICpcbiAgICAgKiAvLyBUaGlzIHdpbGwgcmVxdWVzdCAnaW1hZ2UucG5nP3VzZXI9bWUmcGFzc3dvcmQ9c2VjcmV0J1xuICAgICAqIGxvYWRlci5hZGQoJ2ltYWdlLnBuZycpLmxvYWQoKTtcbiAgICAgKlxuICAgICAqIGxvYWRlci5yZXNldCgpO1xuICAgICAqXG4gICAgICogLy8gVGhpcyB3aWxsIHJlcXVlc3QgJ2ltYWdlLnBuZz92PTEmdXNlcj1tZSZwYXNzd29yZD1zZWNyZXQnXG4gICAgICogbG9hZGVyLmFkZCgnaWFtZ2UucG5nP3Y9MScpLmxvYWQoKTtcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKiBAZGVmYXVsdCAnJ1xuICAgICAqL1xuXG4gICAgdGhpcy5kZWZhdWx0UXVlcnlTdHJpbmcgPSAnJztcbiAgICAvKipcbiAgICAgKiBUaGUgbWlkZGxld2FyZSB0byBydW4gYmVmb3JlIGxvYWRpbmcgZWFjaCByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7ZnVuY3Rpb25bXX1cbiAgICAgKi9cblxuICAgIHRoaXMuX2JlZm9yZU1pZGRsZXdhcmUgPSBbXTtcbiAgICAvKipcbiAgICAgKiBUaGUgbWlkZGxld2FyZSB0byBydW4gYWZ0ZXIgbG9hZGluZyBlYWNoIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbltdfVxuICAgICAqL1xuXG4gICAgdGhpcy5fYWZ0ZXJNaWRkbGV3YXJlID0gW107XG4gICAgLyoqXG4gICAgICogVGhlIHRyYWNrcyB0aGUgcmVzb3VyY2VzIHdlIGFyZSBjdXJyZW50bHkgY29tcGxldGluZyBwYXJzaW5nIGZvci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7UmVzb3VyY2VbXX1cbiAgICAgKi9cblxuICAgIHRoaXMuX3Jlc291cmNlc1BhcnNpbmcgPSBbXTtcbiAgICAvKipcbiAgICAgKiBUaGUgYF9sb2FkUmVzb3VyY2VgIGZ1bmN0aW9uIGJvdW5kIHdpdGggdGhpcyBvYmplY3QgY29udGV4dC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICogQHBhcmFtIHtSZXNvdXJjZX0gciAtIFRoZSByZXNvdXJjZSB0byBsb2FkXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZCAtIFRoZSBkZXF1ZXVlIGZ1bmN0aW9uXG4gICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxuICAgICAqL1xuXG4gICAgdGhpcy5fYm91bmRMb2FkUmVzb3VyY2UgPSBmdW5jdGlvbiAociwgZCkge1xuICAgICAgcmV0dXJuIF90aGlzLl9sb2FkUmVzb3VyY2UociwgZCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGUgcmVzb3VyY2VzIHdhaXRpbmcgdG8gYmUgbG9hZGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZVtdfVxuICAgICAqL1xuXG5cbiAgICB0aGlzLl9xdWV1ZSA9IHF1ZXVlKHRoaXMuX2JvdW5kTG9hZFJlc291cmNlLCBjb25jdXJyZW5jeSk7XG5cbiAgICB0aGlzLl9xdWV1ZS5wYXVzZSgpO1xuICAgIC8qKlxuICAgICAqIEFsbCB0aGUgcmVzb3VyY2VzIGZvciB0aGlzIGxvYWRlciBrZXllZCBieSBuYW1lLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7b2JqZWN0PHN0cmluZywgUmVzb3VyY2U+fVxuICAgICAqL1xuXG5cbiAgICB0aGlzLnJlc291cmNlcyA9IHt9O1xuICAgIC8qKlxuICAgICAqIERpc3BhdGNoZWQgb25jZSBwZXIgbG9hZGVkIG9yIGVycm9yZWQgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgTG9hZGVyLk9uUHJvZ3Jlc3NTaWduYWx9LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7U2lnbmFsPExvYWRlci5PblByb2dyZXNzU2lnbmFsPn1cbiAgICAgKi9cblxuICAgIHRoaXMub25Qcm9ncmVzcyA9IG5ldyBTaWduYWwoKTtcbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVkIG9uY2UgcGVyIGVycm9yZWQgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgTG9hZGVyLk9uRXJyb3JTaWduYWx9LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7U2lnbmFsPExvYWRlci5PbkVycm9yU2lnbmFsPn1cbiAgICAgKi9cblxuICAgIHRoaXMub25FcnJvciA9IG5ldyBTaWduYWwoKTtcbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVkIG9uY2UgcGVyIGxvYWRlZCByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBMb2FkZXIuT25Mb2FkU2lnbmFsfS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1NpZ25hbDxMb2FkZXIuT25Mb2FkU2lnbmFsPn1cbiAgICAgKi9cblxuICAgIHRoaXMub25Mb2FkID0gbmV3IFNpZ25hbCgpO1xuICAgIC8qKlxuICAgICAqIERpc3BhdGNoZWQgd2hlbiB0aGUgbG9hZGVyIGJlZ2lucyB0byBwcm9jZXNzIHRoZSBxdWV1ZS5cbiAgICAgKlxuICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBMb2FkZXIuT25TdGFydFNpZ25hbH0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtTaWduYWw8TG9hZGVyLk9uU3RhcnRTaWduYWw+fVxuICAgICAqL1xuXG4gICAgdGhpcy5vblN0YXJ0ID0gbmV3IFNpZ25hbCgpO1xuICAgIC8qKlxuICAgICAqIERpc3BhdGNoZWQgd2hlbiB0aGUgcXVldWVkIHJlc291cmNlcyBhbGwgbG9hZC5cbiAgICAgKlxuICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBMb2FkZXIuT25Db21wbGV0ZVNpZ25hbH0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtTaWduYWw8TG9hZGVyLk9uQ29tcGxldGVTaWduYWw+fVxuICAgICAqL1xuXG4gICAgdGhpcy5vbkNvbXBsZXRlID0gbmV3IFNpZ25hbCgpOyAvLyBBZGQgZGVmYXVsdCBiZWZvcmUgbWlkZGxld2FyZVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBMb2FkZXIuX2RlZmF1bHRCZWZvcmVNaWRkbGV3YXJlLmxlbmd0aDsgKytpKSB7XG4gICAgICB0aGlzLnByZShMb2FkZXIuX2RlZmF1bHRCZWZvcmVNaWRkbGV3YXJlW2ldKTtcbiAgICB9IC8vIEFkZCBkZWZhdWx0IGFmdGVyIG1pZGRsZXdhcmVcblxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IExvYWRlci5fZGVmYXVsdEFmdGVyTWlkZGxld2FyZS5sZW5ndGg7ICsrX2kpIHtcbiAgICAgIHRoaXMudXNlKExvYWRlci5fZGVmYXVsdEFmdGVyTWlkZGxld2FyZVtfaV0pO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogV2hlbiB0aGUgcHJvZ3Jlc3MgY2hhbmdlcyB0aGUgbG9hZGVyIGFuZCByZXNvdXJjZSBhcmUgZGlzYXB0Y2hlZC5cbiAgICpcbiAgICogQG1lbWJlcm9mIExvYWRlclxuICAgKiBAY2FsbGJhY2sgT25Qcm9ncmVzc1NpZ25hbFxuICAgKiBAcGFyYW0ge0xvYWRlcn0gbG9hZGVyIC0gVGhlIGxvYWRlciB0aGUgcHJvZ3Jlc3MgaXMgYWR2YW5jaW5nIG9uLlxuICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IGhhcyBjb21wbGV0ZWQgb3IgZmFpbGVkIHRvIGNhdXNlIHRoZSBwcm9ncmVzcyB0byBhZHZhbmNlLlxuICAgKi9cblxuICAvKipcbiAgICogV2hlbiBhbiBlcnJvciBvY2N1cnJzIHRoZSBsb2FkZXIgYW5kIHJlc291cmNlIGFyZSBkaXNhcHRjaGVkLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgTG9hZGVyXG4gICAqIEBjYWxsYmFjayBPbkVycm9yU2lnbmFsXG4gICAqIEBwYXJhbSB7TG9hZGVyfSBsb2FkZXIgLSBUaGUgbG9hZGVyIHRoZSBlcnJvciBoYXBwZW5lZCBpbi5cbiAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCBjYXVzZWQgdGhlIGVycm9yLlxuICAgKi9cblxuICAvKipcbiAgICogV2hlbiBhIGxvYWQgY29tcGxldGVzIHRoZSBsb2FkZXIgYW5kIHJlc291cmNlIGFyZSBkaXNhcHRjaGVkLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgTG9hZGVyXG4gICAqIEBjYWxsYmFjayBPbkxvYWRTaWduYWxcbiAgICogQHBhcmFtIHtMb2FkZXJ9IGxvYWRlciAtIFRoZSBsb2FkZXIgdGhhdCBsYW9kZWQgdGhlIHJlc291cmNlLlxuICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IGhhcyBjb21wbGV0ZWQgbG9hZGluZy5cbiAgICovXG5cbiAgLyoqXG4gICAqIFdoZW4gdGhlIGxvYWRlciBzdGFydHMgbG9hZGluZyByZXNvdXJjZXMgaXQgZGlzcGF0Y2hlcyB0aGlzIGNhbGxiYWNrLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgTG9hZGVyXG4gICAqIEBjYWxsYmFjayBPblN0YXJ0U2lnbmFsXG4gICAqIEBwYXJhbSB7TG9hZGVyfSBsb2FkZXIgLSBUaGUgbG9hZGVyIHRoYXQgaGFzIHN0YXJ0ZWQgbG9hZGluZyByZXNvdXJjZXMuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBXaGVuIHRoZSBsb2FkZXIgY29tcGxldGVzIGxvYWRpbmcgcmVzb3VyY2VzIGl0IGRpc3BhdGNoZXMgdGhpcyBjYWxsYmFjay5cbiAgICpcbiAgICogQG1lbWJlcm9mIExvYWRlclxuICAgKiBAY2FsbGJhY2sgT25Db21wbGV0ZVNpZ25hbFxuICAgKiBAcGFyYW0ge0xvYWRlcn0gbG9hZGVyIC0gVGhlIGxvYWRlciB0aGF0IGhhcyBmaW5pc2hlZCBsb2FkaW5nIHJlc291cmNlcy5cbiAgICovXG5cbiAgLyoqXG4gICAqIE9wdGlvbnMgZm9yIGEgY2FsbCB0byBgLmFkZCgpYC5cbiAgICpcbiAgICogQHNlZSBMb2FkZXIjYWRkXG4gICAqXG4gICAqIEB0eXBlZGVmIHtvYmplY3R9IElBZGRPcHRpb25zXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbbmFtZV0gLSBUaGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UgdG8gbG9hZCwgaWYgbm90IHBhc3NlZCB0aGUgdXJsIGlzIHVzZWQuXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBba2V5XSAtIEFsaWFzIGZvciBgbmFtZWAuXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbdXJsXSAtIFRoZSB1cmwgZm9yIHRoaXMgcmVzb3VyY2UsIHJlbGF0aXZlIHRvIHRoZSBiYXNlVXJsIG9mIHRoaXMgbG9hZGVyLlxuICAgKiBAcHJvcGVydHkge3N0cmluZ3xib29sZWFufSBbY3Jvc3NPcmlnaW5dIC0gSXMgdGhpcyByZXF1ZXN0IGNyb3NzLW9yaWdpbj8gRGVmYXVsdCBpcyB0b1xuICAgKiAgICAgIGRldGVybWluZSBhdXRvbWF0aWNhbGx5LlxuICAgKiBAcHJvcGVydHkge251bWJlcn0gW3RpbWVvdXQ9MF0gLSBBIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzIGZvciB0aGUgbG9hZC4gSWYgdGhlIGxvYWQgdGFrZXNcbiAgICogICAgICBsb25nZXIgdGhhbiB0aGlzIHRpbWUgaXQgaXMgY2FuY2VsbGVkIGFuZCB0aGUgbG9hZCBpcyBjb25zaWRlcmVkIGEgZmFpbHVyZS4gSWYgdGhpcyB2YWx1ZSBpc1xuICAgKiAgICAgIHNldCB0byBgMGAgdGhlbiB0aGVyZSBpcyBubyBleHBsaWNpdCB0aW1lb3V0LlxuICAgKiBAcHJvcGVydHkge1Jlc291cmNlLkxPQURfVFlQRX0gW2xvYWRUeXBlPVJlc291cmNlLkxPQURfVFlQRS5YSFJdIC0gSG93IHNob3VsZCB0aGlzIHJlc291cmNlXG4gICAqICAgICAgYmUgbG9hZGVkP1xuICAgKiBAcHJvcGVydHkge1Jlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFfSBbeGhyVHlwZT1SZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ERUZBVUxUXSAtIEhvd1xuICAgKiAgICAgIHNob3VsZCB0aGUgZGF0YSBiZWluZyBsb2FkZWQgYmUgaW50ZXJwcmV0ZWQgd2hlbiB1c2luZyBYSFI/XG4gICAqIEBwcm9wZXJ0eSB7UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0gW29uQ29tcGxldGVdIC0gQ2FsbGJhY2sgdG8gYWRkIGFuIGFuIG9uQ29tcGxldGUgc2lnbmFsIGlzdGVuZXIuXG4gICAqIEBwcm9wZXJ0eSB7UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0gW2NhbGxiYWNrXSAtIEFsaWFzIGZvciBgb25Db21wbGV0ZWAuXG4gICAqIEBwcm9wZXJ0eSB7UmVzb3VyY2UuSU1ldGFkYXRhfSBbbWV0YWRhdGFdIC0gRXh0cmEgY29uZmlndXJhdGlvbiBmb3IgbWlkZGxld2FyZSBhbmQgdGhlIFJlc291cmNlIG9iamVjdC5cbiAgICovXG5cbiAgLyogZXNsaW50LWRpc2FibGUgcmVxdWlyZS1qc2RvYyx2YWxpZC1qc2RvYyAqL1xuXG4gIC8qKlxuICAgKiBBZGRzIGEgcmVzb3VyY2UgKG9yIG11bHRpcGxlIHJlc291cmNlcykgdG8gdGhlIGxvYWRlciBxdWV1ZS5cbiAgICpcbiAgICogVGhpcyBmdW5jdGlvbiBjYW4gdGFrZSBhIHdpZGUgdmFyaWV0eSBvZiBkaWZmZXJlbnQgcGFyYW1ldGVycy4gVGhlIG9ubHkgdGhpbmcgdGhhdCBpcyBhbHdheXNcbiAgICogcmVxdWlyZWQgdGhlIHVybCB0byBsb2FkLiBBbGwgdGhlIGZvbGxvd2luZyB3aWxsIHdvcms6XG4gICAqXG4gICAqIGBgYGpzXG4gICAqIGxvYWRlclxuICAgKiAgICAgLy8gbm9ybWFsIHBhcmFtIHN5bnRheFxuICAgKiAgICAgLmFkZCgna2V5JywgJ2h0dHA6Ly8uLi4nLCBmdW5jdGlvbiAoKSB7fSlcbiAgICogICAgIC5hZGQoJ2h0dHA6Ly8uLi4nLCBmdW5jdGlvbiAoKSB7fSlcbiAgICogICAgIC5hZGQoJ2h0dHA6Ly8uLi4nKVxuICAgKlxuICAgKiAgICAgLy8gb2JqZWN0IHN5bnRheFxuICAgKiAgICAgLmFkZCh7XG4gICAqICAgICAgICAgbmFtZTogJ2tleTInLFxuICAgKiAgICAgICAgIHVybDogJ2h0dHA6Ly8uLi4nXG4gICAqICAgICB9LCBmdW5jdGlvbiAoKSB7fSlcbiAgICogICAgIC5hZGQoe1xuICAgKiAgICAgICAgIHVybDogJ2h0dHA6Ly8uLi4nXG4gICAqICAgICB9LCBmdW5jdGlvbiAoKSB7fSlcbiAgICogICAgIC5hZGQoe1xuICAgKiAgICAgICAgIG5hbWU6ICdrZXkzJyxcbiAgICogICAgICAgICB1cmw6ICdodHRwOi8vLi4uJ1xuICAgKiAgICAgICAgIG9uQ29tcGxldGU6IGZ1bmN0aW9uICgpIHt9XG4gICAqICAgICB9KVxuICAgKiAgICAgLmFkZCh7XG4gICAqICAgICAgICAgdXJsOiAnaHR0cHM6Ly8uLi4nLFxuICAgKiAgICAgICAgIG9uQ29tcGxldGU6IGZ1bmN0aW9uICgpIHt9LFxuICAgKiAgICAgICAgIGNyb3NzT3JpZ2luOiB0cnVlXG4gICAqICAgICB9KVxuICAgKlxuICAgKiAgICAgLy8geW91IGNhbiBhbHNvIHBhc3MgYW4gYXJyYXkgb2Ygb2JqZWN0cyBvciB1cmxzIG9yIGJvdGhcbiAgICogICAgIC5hZGQoW1xuICAgKiAgICAgICAgIHsgbmFtZTogJ2tleTQnLCB1cmw6ICdodHRwOi8vLi4uJywgb25Db21wbGV0ZTogZnVuY3Rpb24gKCkge30gfSxcbiAgICogICAgICAgICB7IHVybDogJ2h0dHA6Ly8uLi4nLCBvbkNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7fSB9LFxuICAgKiAgICAgICAgICdodHRwOi8vLi4uJ1xuICAgKiAgICAgXSlcbiAgICpcbiAgICogICAgIC8vIGFuZCB5b3UgY2FuIHVzZSBib3RoIHBhcmFtcyBhbmQgb3B0aW9uc1xuICAgKiAgICAgLmFkZCgna2V5JywgJ2h0dHA6Ly8uLi4nLCB7IGNyb3NzT3JpZ2luOiB0cnVlIH0sIGZ1bmN0aW9uICgpIHt9KVxuICAgKiAgICAgLmFkZCgnaHR0cDovLy4uLicsIHsgY3Jvc3NPcmlnaW46IHRydWUgfSwgZnVuY3Rpb24gKCkge30pO1xuICAgKiBgYGBcbiAgICpcbiAgICogQGZ1bmN0aW9uXG4gICAqIEB2YXJpYXRpb24gMVxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSByZXNvdXJjZSB0byBsb2FkLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCBmb3IgdGhpcyByZXNvdXJjZSwgcmVsYXRpdmUgdG8gdGhlIGJhc2VVcmwgb2YgdGhpcyBsb2FkZXIuXG4gICAqIEBwYXJhbSB7UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0gW2NhbGxiYWNrXSAtIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGlzIHNwZWNpZmljIHJlc291cmNlIGNvbXBsZXRlcyBsb2FkaW5nLlxuICAgKiBAcmV0dXJuIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICovXG5cbiAgLyoqXG4gICogQGZ1bmN0aW9uXG4gICogQHZhcmlhdGlvbiAyXG4gICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UgdG8gbG9hZC5cbiAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCBmb3IgdGhpcyByZXNvdXJjZSwgcmVsYXRpdmUgdG8gdGhlIGJhc2VVcmwgb2YgdGhpcyBsb2FkZXIuXG4gICogQHBhcmFtIHtJQWRkT3B0aW9uc30gW29wdGlvbnNdIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBsb2FkLlxuICAqIEBwYXJhbSB7UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0gW2NhbGxiYWNrXSAtIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGlzIHNwZWNpZmljIHJlc291cmNlIGNvbXBsZXRlcyBsb2FkaW5nLlxuICAqIEByZXR1cm4ge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAqL1xuXG4gIC8qKlxuICAqIEBmdW5jdGlvblxuICAqIEB2YXJpYXRpb24gM1xuICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgdXJsIGZvciB0aGlzIHJlc291cmNlLCByZWxhdGl2ZSB0byB0aGUgYmFzZVVybCBvZiB0aGlzIGxvYWRlci5cbiAgKiBAcGFyYW0ge1Jlc291cmNlLk9uQ29tcGxldGVTaWduYWx9IFtjYWxsYmFja10gLSBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhpcyBzcGVjaWZpYyByZXNvdXJjZSBjb21wbGV0ZXMgbG9hZGluZy5cbiAgKiBAcmV0dXJuIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgKi9cblxuICAvKipcbiAgKiBAZnVuY3Rpb25cbiAgKiBAdmFyaWF0aW9uIDRcbiAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCBmb3IgdGhpcyByZXNvdXJjZSwgcmVsYXRpdmUgdG8gdGhlIGJhc2VVcmwgb2YgdGhpcyBsb2FkZXIuXG4gICogQHBhcmFtIHtJQWRkT3B0aW9uc30gW29wdGlvbnNdIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBsb2FkLlxuICAqIEBwYXJhbSB7UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0gW2NhbGxiYWNrXSAtIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGlzIHNwZWNpZmljIHJlc291cmNlIGNvbXBsZXRlcyBsb2FkaW5nLlxuICAqIEByZXR1cm4ge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAqL1xuXG4gIC8qKlxuICAqIEBmdW5jdGlvblxuICAqIEB2YXJpYXRpb24gNVxuICAqIEBwYXJhbSB7SUFkZE9wdGlvbnN9IG9wdGlvbnMgLSBUaGUgb3B0aW9ucyBmb3IgdGhlIGxvYWQuIFRoaXMgb2JqZWN0IG11c3QgY29udGFpbiBhIGB1cmxgIHByb3BlcnR5LlxuICAqIEBwYXJhbSB7UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0gW2NhbGxiYWNrXSAtIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGlzIHNwZWNpZmljIHJlc291cmNlIGNvbXBsZXRlcyBsb2FkaW5nLlxuICAqIEByZXR1cm4ge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAqL1xuXG4gIC8qKlxuICAqIEBmdW5jdGlvblxuICAqIEB2YXJpYXRpb24gNlxuICAqIEBwYXJhbSB7QXJyYXk8SUFkZE9wdGlvbnN8c3RyaW5nPn0gcmVzb3VyY2VzIC0gQW4gYXJyYXkgb2YgcmVzb3VyY2VzIHRvIGxvYWQsIHdoZXJlIGVhY2ggaXNcbiAgKiAgICAgIGVpdGhlciBhbiBvYmplY3Qgd2l0aCB0aGUgb3B0aW9ucyBvciBhIHN0cmluZyB1cmwuIElmIHlvdSBwYXNzIGFuIG9iamVjdCwgaXQgbXVzdCBjb250YWluIGEgYHVybGAgcHJvcGVydHkuXG4gICogQHBhcmFtIHtSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsfSBbY2FsbGJhY2tdIC0gRnVuY3Rpb24gdG8gY2FsbCB3aGVuIHRoaXMgc3BlY2lmaWMgcmVzb3VyY2UgY29tcGxldGVzIGxvYWRpbmcuXG4gICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICovXG5cblxuICB2YXIgX3Byb3RvID0gTG9hZGVyLnByb3RvdHlwZTtcblxuICBfcHJvdG8uYWRkID0gZnVuY3Rpb24gYWRkKG5hbWUsIHVybCwgb3B0aW9ucywgY2IpIHtcbiAgICAvLyBzcGVjaWFsIGNhc2Ugb2YgYW4gYXJyYXkgb2Ygb2JqZWN0cyBvciB1cmxzXG4gICAgaWYgKEFycmF5LmlzQXJyYXkobmFtZSkpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmFtZS5sZW5ndGg7ICsraSkge1xuICAgICAgICB0aGlzLmFkZChuYW1lW2ldKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSAvLyBpZiBhbiBvYmplY3QgaXMgcGFzc2VkIGluc3RlYWQgb2YgcGFyYW1zXG5cblxuICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGNiID0gdXJsIHx8IG5hbWUuY2FsbGJhY2sgfHwgbmFtZS5vbkNvbXBsZXRlO1xuICAgICAgb3B0aW9ucyA9IG5hbWU7XG4gICAgICB1cmwgPSBuYW1lLnVybDtcbiAgICAgIG5hbWUgPSBuYW1lLm5hbWUgfHwgbmFtZS5rZXkgfHwgbmFtZS51cmw7XG4gICAgfSAvLyBjYXNlIHdoZXJlIG5vIG5hbWUgaXMgcGFzc2VkIHNoaWZ0IGFsbCBhcmdzIG92ZXIgYnkgb25lLlxuXG5cbiAgICBpZiAodHlwZW9mIHVybCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIGNiID0gb3B0aW9ucztcbiAgICAgIG9wdGlvbnMgPSB1cmw7XG4gICAgICB1cmwgPSBuYW1lO1xuICAgIH0gLy8gbm93IHRoYXQgd2Ugc2hpZnRlZCBtYWtlIHN1cmUgd2UgaGF2ZSBhIHByb3BlciB1cmwuXG5cblxuICAgIGlmICh0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyB1cmwgcGFzc2VkIHRvIGFkZCByZXNvdXJjZSB0byBsb2FkZXIuJyk7XG4gICAgfSAvLyBvcHRpb25zIGFyZSBvcHRpb25hbCBzbyBwZW9wbGUgbWlnaHQgcGFzcyBhIGZ1bmN0aW9uIGFuZCBubyBvcHRpb25zXG5cblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2IgPSBvcHRpb25zO1xuICAgICAgb3B0aW9ucyA9IG51bGw7XG4gICAgfSAvLyBpZiBsb2FkaW5nIGFscmVhZHkgeW91IGNhbiBvbmx5IGFkZCByZXNvdXJjZXMgdGhhdCBoYXZlIGEgcGFyZW50LlxuXG5cbiAgICBpZiAodGhpcy5sb2FkaW5nICYmICghb3B0aW9ucyB8fCAhb3B0aW9ucy5wYXJlbnRSZXNvdXJjZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGFkZCByZXNvdXJjZXMgd2hpbGUgdGhlIGxvYWRlciBpcyBydW5uaW5nLicpO1xuICAgIH0gLy8gY2hlY2sgaWYgcmVzb3VyY2UgYWxyZWFkeSBleGlzdHMuXG5cblxuICAgIGlmICh0aGlzLnJlc291cmNlc1tuYW1lXSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVzb3VyY2UgbmFtZWQgXFxcIlwiICsgbmFtZSArIFwiXFxcIiBhbHJlYWR5IGV4aXN0cy5cIik7XG4gICAgfSAvLyBhZGQgYmFzZSB1cmwgaWYgdGhpcyBpc24ndCBhbiBhYnNvbHV0ZSB1cmxcblxuXG4gICAgdXJsID0gdGhpcy5fcHJlcGFyZVVybCh1cmwpOyAvLyBjcmVhdGUgdGhlIHN0b3JlIHRoZSByZXNvdXJjZVxuXG4gICAgdGhpcy5yZXNvdXJjZXNbbmFtZV0gPSBuZXcgUmVzb3VyY2UobmFtZSwgdXJsLCBvcHRpb25zKTtcblxuICAgIGlmICh0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMucmVzb3VyY2VzW25hbWVdLm9uQWZ0ZXJNaWRkbGV3YXJlLm9uY2UoY2IpO1xuICAgIH0gLy8gaWYgYWN0aXZlbHkgbG9hZGluZywgbWFrZSBzdXJlIHRvIGFkanVzdCBwcm9ncmVzcyBjaHVua3MgZm9yIHRoYXQgcGFyZW50IGFuZCBpdHMgY2hpbGRyZW5cblxuXG4gICAgaWYgKHRoaXMubG9hZGluZykge1xuICAgICAgdmFyIHBhcmVudCA9IG9wdGlvbnMucGFyZW50UmVzb3VyY2U7XG4gICAgICB2YXIgaW5jb21wbGV0ZUNoaWxkcmVuID0gW107XG5cbiAgICAgIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IHBhcmVudC5jaGlsZHJlbi5sZW5ndGg7ICsrX2kyKSB7XG4gICAgICAgIGlmICghcGFyZW50LmNoaWxkcmVuW19pMl0uaXNDb21wbGV0ZSkge1xuICAgICAgICAgIGluY29tcGxldGVDaGlsZHJlbi5wdXNoKHBhcmVudC5jaGlsZHJlbltfaTJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgZnVsbENodW5rID0gcGFyZW50LnByb2dyZXNzQ2h1bmsgKiAoaW5jb21wbGV0ZUNoaWxkcmVuLmxlbmd0aCArIDEpOyAvLyArMSBmb3IgcGFyZW50XG5cbiAgICAgIHZhciBlYWNoQ2h1bmsgPSBmdWxsQ2h1bmsgLyAoaW5jb21wbGV0ZUNoaWxkcmVuLmxlbmd0aCArIDIpOyAvLyArMiBmb3IgcGFyZW50ICYgbmV3IGNoaWxkXG5cbiAgICAgIHBhcmVudC5jaGlsZHJlbi5wdXNoKHRoaXMucmVzb3VyY2VzW25hbWVdKTtcbiAgICAgIHBhcmVudC5wcm9ncmVzc0NodW5rID0gZWFjaENodW5rO1xuXG4gICAgICBmb3IgKHZhciBfaTMgPSAwOyBfaTMgPCBpbmNvbXBsZXRlQ2hpbGRyZW4ubGVuZ3RoOyArK19pMykge1xuICAgICAgICBpbmNvbXBsZXRlQ2hpbGRyZW5bX2kzXS5wcm9ncmVzc0NodW5rID0gZWFjaENodW5rO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnJlc291cmNlc1tuYW1lXS5wcm9ncmVzc0NodW5rID0gZWFjaENodW5rO1xuICAgIH0gLy8gYWRkIHRoZSByZXNvdXJjZSB0byB0aGUgcXVldWVcblxuXG4gICAgdGhpcy5fcXVldWUucHVzaCh0aGlzLnJlc291cmNlc1tuYW1lXSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKiBlc2xpbnQtZW5hYmxlIHJlcXVpcmUtanNkb2MsdmFsaWQtanNkb2MgKi9cblxuICAvKipcbiAgICogU2V0cyB1cCBhIG1pZGRsZXdhcmUgZnVuY3Rpb24gdGhhdCB3aWxsIHJ1biAqYmVmb3JlKiB0aGVcbiAgICogcmVzb3VyY2UgaXMgbG9hZGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAtIFRoZSBtaWRkbGV3YXJlIGZ1bmN0aW9uIHRvIHJlZ2lzdGVyLlxuICAgKiBAcmV0dXJuIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICovXG4gIDtcblxuICBfcHJvdG8ucHJlID0gZnVuY3Rpb24gcHJlKGZuKSB7XG4gICAgdGhpcy5fYmVmb3JlTWlkZGxld2FyZS5wdXNoKGZuKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIHVwIGEgbWlkZGxld2FyZSBmdW5jdGlvbiB0aGF0IHdpbGwgcnVuICphZnRlciogdGhlXG4gICAqIHJlc291cmNlIGlzIGxvYWRlZC5cbiAgICpcbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBUaGUgbWlkZGxld2FyZSBmdW5jdGlvbiB0byByZWdpc3Rlci5cbiAgICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnVzZSA9IGZ1bmN0aW9uIHVzZShmbikge1xuICAgIHRoaXMuX2FmdGVyTWlkZGxld2FyZS5wdXNoKGZuKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBSZXNldHMgdGhlIHF1ZXVlIG9mIHRoZSBsb2FkZXIgdG8gcHJlcGFyZSBmb3IgYSBuZXcgbG9hZC5cbiAgICpcbiAgICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgdGhpcy5wcm9ncmVzcyA9IDA7XG4gICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG5cbiAgICB0aGlzLl9xdWV1ZS5raWxsKCk7XG5cbiAgICB0aGlzLl9xdWV1ZS5wYXVzZSgpOyAvLyBhYm9ydCBhbGwgcmVzb3VyY2UgbG9hZHNcblxuXG4gICAgZm9yICh2YXIgayBpbiB0aGlzLnJlc291cmNlcykge1xuICAgICAgdmFyIHJlcyA9IHRoaXMucmVzb3VyY2VzW2tdO1xuXG4gICAgICBpZiAocmVzLl9vbkxvYWRCaW5kaW5nKSB7XG4gICAgICAgIHJlcy5fb25Mb2FkQmluZGluZy5kZXRhY2goKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlcy5pc0xvYWRpbmcpIHtcbiAgICAgICAgcmVzLmFib3J0KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5yZXNvdXJjZXMgPSB7fTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogU3RhcnRzIGxvYWRpbmcgdGhlIHF1ZXVlZCByZXNvdXJjZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYl0gLSBPcHRpb25hbCBjYWxsYmFjayB0aGF0IHdpbGwgYmUgYm91bmQgdG8gdGhlIGBjb21wbGV0ZWAgZXZlbnQuXG4gICAqIEByZXR1cm4ge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5sb2FkID0gZnVuY3Rpb24gbG9hZChjYikge1xuICAgIC8vIHJlZ2lzdGVyIGNvbXBsZXRlIGNhbGxiYWNrIGlmIHRoZXkgcGFzcyBvbmVcbiAgICBpZiAodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLm9uQ29tcGxldGUub25jZShjYik7XG4gICAgfSAvLyBpZiB0aGUgcXVldWUgaGFzIGFscmVhZHkgc3RhcnRlZCB3ZSBhcmUgZG9uZSBoZXJlXG5cblxuICAgIGlmICh0aGlzLmxvYWRpbmcpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9xdWV1ZS5pZGxlKCkpIHtcbiAgICAgIHRoaXMuX29uU3RhcnQoKTtcblxuICAgICAgdGhpcy5fb25Db21wbGV0ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBkaXN0cmlidXRlIHByb2dyZXNzIGNodW5rc1xuICAgICAgdmFyIG51bVRhc2tzID0gdGhpcy5fcXVldWUuX3Rhc2tzLmxlbmd0aDtcbiAgICAgIHZhciBjaHVuayA9IE1BWF9QUk9HUkVTUyAvIG51bVRhc2tzO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX3F1ZXVlLl90YXNrcy5sZW5ndGg7ICsraSkge1xuICAgICAgICB0aGlzLl9xdWV1ZS5fdGFza3NbaV0uZGF0YS5wcm9ncmVzc0NodW5rID0gY2h1bms7XG4gICAgICB9IC8vIG5vdGlmeSB3ZSBhcmUgc3RhcnRpbmdcblxuXG4gICAgICB0aGlzLl9vblN0YXJ0KCk7IC8vIHN0YXJ0IGxvYWRpbmdcblxuXG4gICAgICB0aGlzLl9xdWV1ZS5yZXN1bWUoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogVGhlIG51bWJlciBvZiByZXNvdXJjZXMgdG8gbG9hZCBjb25jdXJyZW50bHkuXG4gICAqXG4gICAqIEBtZW1iZXIge251bWJlcn1cbiAgICogQGRlZmF1bHQgMTBcbiAgICovXG4gIDtcblxuICAvKipcbiAgICogUHJlcGFyZXMgYSB1cmwgZm9yIHVzYWdlIGJhc2VkIG9uIHRoZSBjb25maWd1cmF0aW9uIG9mIHRoaXMgb2JqZWN0XG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgdXJsIHRvIHByZXBhcmUuXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHByZXBhcmVkIHVybC5cbiAgICovXG4gIF9wcm90by5fcHJlcGFyZVVybCA9IGZ1bmN0aW9uIF9wcmVwYXJlVXJsKHVybCkge1xuICAgIHZhciBwYXJzZWRVcmwgPSBwYXJzZVVyaSh1cmwsIHtcbiAgICAgIHN0cmljdE1vZGU6IHRydWVcbiAgICB9KTtcbiAgICB2YXIgcmVzdWx0OyAvLyBhYnNvbHV0ZSB1cmwsIGp1c3QgdXNlIGl0IGFzIGlzLlxuXG4gICAgaWYgKHBhcnNlZFVybC5wcm90b2NvbCB8fCAhcGFyc2VkVXJsLnBhdGggfHwgdXJsLmluZGV4T2YoJy8vJykgPT09IDApIHtcbiAgICAgIHJlc3VsdCA9IHVybDtcbiAgICB9IC8vIGlmIGJhc2VVcmwgZG9lc24ndCBlbmQgaW4gc2xhc2ggYW5kIHVybCBkb2Vzbid0IHN0YXJ0IHdpdGggc2xhc2gsIHRoZW4gYWRkIGEgc2xhc2ggaW5iZXR3ZWVuXG4gICAgZWxzZSBpZiAodGhpcy5iYXNlVXJsLmxlbmd0aCAmJiB0aGlzLmJhc2VVcmwubGFzdEluZGV4T2YoJy8nKSAhPT0gdGhpcy5iYXNlVXJsLmxlbmd0aCAtIDEgJiYgdXJsLmNoYXJBdCgwKSAhPT0gJy8nKSB7XG4gICAgICAgIHJlc3VsdCA9IHRoaXMuYmFzZVVybCArIFwiL1wiICsgdXJsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gdGhpcy5iYXNlVXJsICsgdXJsO1xuICAgICAgfSAvLyBpZiB3ZSBuZWVkIHRvIGFkZCBhIGRlZmF1bHQgcXVlcnlzdHJpbmcsIHRoZXJlIGlzIGEgYml0IG1vcmUgd29ya1xuXG5cbiAgICBpZiAodGhpcy5kZWZhdWx0UXVlcnlTdHJpbmcpIHtcbiAgICAgIHZhciBoYXNoID0gcmd4RXh0cmFjdFVybEhhc2guZXhlYyhyZXN1bHQpWzBdO1xuICAgICAgcmVzdWx0ID0gcmVzdWx0LnN1YnN0cigwLCByZXN1bHQubGVuZ3RoIC0gaGFzaC5sZW5ndGgpO1xuXG4gICAgICBpZiAocmVzdWx0LmluZGV4T2YoJz8nKSAhPT0gLTEpIHtcbiAgICAgICAgcmVzdWx0ICs9IFwiJlwiICsgdGhpcy5kZWZhdWx0UXVlcnlTdHJpbmc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQgKz0gXCI/XCIgKyB0aGlzLmRlZmF1bHRRdWVyeVN0cmluZztcbiAgICAgIH1cblxuICAgICAgcmVzdWx0ICs9IGhhc2g7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICAvKipcbiAgICogTG9hZHMgYSBzaW5nbGUgcmVzb3VyY2UuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRvIGxvYWQuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGRlcXVldWUgLSBUaGUgZnVuY3Rpb24gdG8gY2FsbCB3aGVuIHdlIG5lZWQgdG8gZGVxdWV1ZSB0aGlzIGl0ZW0uXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9sb2FkUmVzb3VyY2UgPSBmdW5jdGlvbiBfbG9hZFJlc291cmNlKHJlc291cmNlLCBkZXF1ZXVlKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICByZXNvdXJjZS5fZGVxdWV1ZSA9IGRlcXVldWU7IC8vIHJ1biBiZWZvcmUgbWlkZGxld2FyZVxuXG4gICAgZWFjaFNlcmllcyh0aGlzLl9iZWZvcmVNaWRkbGV3YXJlLCBmdW5jdGlvbiAoZm4sIG5leHQpIHtcbiAgICAgIGZuLmNhbGwoX3RoaXMyLCByZXNvdXJjZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBpZiB0aGUgYmVmb3JlIG1pZGRsZXdhcmUgbWFya3MgdGhlIHJlc291cmNlIGFzIGNvbXBsZXRlLFxuICAgICAgICAvLyBicmVhayBhbmQgZG9uJ3QgcHJvY2VzcyBhbnkgbW9yZSBiZWZvcmUgbWlkZGxld2FyZVxuICAgICAgICBuZXh0KHJlc291cmNlLmlzQ29tcGxldGUgPyB7fSA6IG51bGwpO1xuICAgICAgfSk7XG4gICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHJlc291cmNlLmlzQ29tcGxldGUpIHtcbiAgICAgICAgX3RoaXMyLl9vbkxvYWQocmVzb3VyY2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzb3VyY2UuX29uTG9hZEJpbmRpbmcgPSByZXNvdXJjZS5vbkNvbXBsZXRlLm9uY2UoX3RoaXMyLl9vbkxvYWQsIF90aGlzMik7XG4gICAgICAgIHJlc291cmNlLmxvYWQoKTtcbiAgICAgIH1cbiAgICB9LCB0cnVlKTtcbiAgfVxuICAvKipcbiAgICogQ2FsbGVkIG9uY2UgbG9hZGluZyBoYXMgc3RhcnRlZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX29uU3RhcnQgPSBmdW5jdGlvbiBfb25TdGFydCgpIHtcbiAgICB0aGlzLnByb2dyZXNzID0gMDtcbiAgICB0aGlzLmxvYWRpbmcgPSB0cnVlO1xuICAgIHRoaXMub25TdGFydC5kaXNwYXRjaCh0aGlzKTtcbiAgfVxuICAvKipcbiAgICogQ2FsbGVkIG9uY2UgZWFjaCByZXNvdXJjZSBoYXMgbG9hZGVkLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fb25Db21wbGV0ZSA9IGZ1bmN0aW9uIF9vbkNvbXBsZXRlKCkge1xuICAgIHRoaXMucHJvZ3Jlc3MgPSBNQVhfUFJPR1JFU1M7XG4gICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG4gICAgdGhpcy5vbkNvbXBsZXRlLmRpc3BhdGNoKHRoaXMsIHRoaXMucmVzb3VyY2VzKTtcbiAgfVxuICAvKipcbiAgICogQ2FsbGVkIGVhY2ggdGltZSBhIHJlc291cmNlcyBpcyBsb2FkZWQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRoYXQgd2FzIGxvYWRlZFxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fb25Mb2FkID0gZnVuY3Rpb24gX29uTG9hZChyZXNvdXJjZSkge1xuICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgcmVzb3VyY2UuX29uTG9hZEJpbmRpbmcgPSBudWxsOyAvLyByZW1vdmUgdGhpcyByZXNvdXJjZSBmcm9tIHRoZSBhc3luYyBxdWV1ZSwgYW5kIGFkZCBpdCB0byBvdXIgbGlzdCBvZiByZXNvdXJjZXMgdGhhdCBhcmUgYmVpbmcgcGFyc2VkXG5cbiAgICB0aGlzLl9yZXNvdXJjZXNQYXJzaW5nLnB1c2gocmVzb3VyY2UpO1xuXG4gICAgcmVzb3VyY2UuX2RlcXVldWUoKTsgLy8gcnVuIGFsbCB0aGUgYWZ0ZXIgbWlkZGxld2FyZSBmb3IgdGhpcyByZXNvdXJjZVxuXG5cbiAgICBlYWNoU2VyaWVzKHRoaXMuX2FmdGVyTWlkZGxld2FyZSwgZnVuY3Rpb24gKGZuLCBuZXh0KSB7XG4gICAgICBmbi5jYWxsKF90aGlzMywgcmVzb3VyY2UsIG5leHQpO1xuICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJlc291cmNlLm9uQWZ0ZXJNaWRkbGV3YXJlLmRpc3BhdGNoKHJlc291cmNlKTtcbiAgICAgIF90aGlzMy5wcm9ncmVzcyA9IE1hdGgubWluKE1BWF9QUk9HUkVTUywgX3RoaXMzLnByb2dyZXNzICsgcmVzb3VyY2UucHJvZ3Jlc3NDaHVuayk7XG5cbiAgICAgIF90aGlzMy5vblByb2dyZXNzLmRpc3BhdGNoKF90aGlzMywgcmVzb3VyY2UpO1xuXG4gICAgICBpZiAocmVzb3VyY2UuZXJyb3IpIHtcbiAgICAgICAgX3RoaXMzLm9uRXJyb3IuZGlzcGF0Y2gocmVzb3VyY2UuZXJyb3IsIF90aGlzMywgcmVzb3VyY2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3RoaXMzLm9uTG9hZC5kaXNwYXRjaChfdGhpczMsIHJlc291cmNlKTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMzLl9yZXNvdXJjZXNQYXJzaW5nLnNwbGljZShfdGhpczMuX3Jlc291cmNlc1BhcnNpbmcuaW5kZXhPZihyZXNvdXJjZSksIDEpOyAvLyBkbyBjb21wbGV0aW9uIGNoZWNrXG5cblxuICAgICAgaWYgKF90aGlzMy5fcXVldWUuaWRsZSgpICYmIF90aGlzMy5fcmVzb3VyY2VzUGFyc2luZy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgX3RoaXMzLl9vbkNvbXBsZXRlKCk7XG4gICAgICB9XG4gICAgfSwgdHJ1ZSk7XG4gIH07XG5cbiAgX2NyZWF0ZUNsYXNzKExvYWRlciwgW3tcbiAgICBrZXk6IFwiY29uY3VycmVuY3lcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9xdWV1ZS5jb25jdXJyZW5jeTtcbiAgICB9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgLFxuICAgIHNldDogZnVuY3Rpb24gc2V0KGNvbmN1cnJlbmN5KSB7XG4gICAgICB0aGlzLl9xdWV1ZS5jb25jdXJyZW5jeSA9IGNvbmN1cnJlbmN5O1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBMb2FkZXI7XG59KCk7XG4vKipcbiAqIEEgZGVmYXVsdCBhcnJheSBvZiBtaWRkbGV3YXJlIHRvIHJ1biBiZWZvcmUgbG9hZGluZyBlYWNoIHJlc291cmNlLlxuICogRWFjaCBvZiB0aGVzZSBtaWRkbGV3YXJlcyBhcmUgYWRkZWQgdG8gYW55IG5ldyBMb2FkZXIgaW5zdGFuY2VzIHdoZW4gdGhleSBhcmUgY3JlYXRlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlciB7ZnVuY3Rpb25bXX1cbiAqL1xuXG5cbkxvYWRlci5fZGVmYXVsdEJlZm9yZU1pZGRsZXdhcmUgPSBbXTtcbi8qKlxuICogQSBkZWZhdWx0IGFycmF5IG9mIG1pZGRsZXdhcmUgdG8gcnVuIGFmdGVyIGxvYWRpbmcgZWFjaCByZXNvdXJjZS5cbiAqIEVhY2ggb2YgdGhlc2UgbWlkZGxld2FyZXMgYXJlIGFkZGVkIHRvIGFueSBuZXcgTG9hZGVyIGluc3RhbmNlcyB3aGVuIHRoZXkgYXJlIGNyZWF0ZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBtZW1iZXIge2Z1bmN0aW9uW119XG4gKi9cblxuTG9hZGVyLl9kZWZhdWx0QWZ0ZXJNaWRkbGV3YXJlID0gW107XG4vKipcbiAqIFNldHMgdXAgYSBtaWRkbGV3YXJlIGZ1bmN0aW9uIHRoYXQgd2lsbCBydW4gKmJlZm9yZSogdGhlXG4gKiByZXNvdXJjZSBpcyBsb2FkZWQuXG4gKlxuICogQHN0YXRpY1xuICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBUaGUgbWlkZGxld2FyZSBmdW5jdGlvbiB0byByZWdpc3Rlci5cbiAqIEByZXR1cm4ge0xvYWRlcn0gUmV0dXJucyBpdHNlbGYuXG4gKi9cblxuTG9hZGVyLnByZSA9IGZ1bmN0aW9uIExvYWRlclByZVN0YXRpYyhmbikge1xuICBMb2FkZXIuX2RlZmF1bHRCZWZvcmVNaWRkbGV3YXJlLnB1c2goZm4pO1xuXG4gIHJldHVybiBMb2FkZXI7XG59O1xuLyoqXG4gKiBTZXRzIHVwIGEgbWlkZGxld2FyZSBmdW5jdGlvbiB0aGF0IHdpbGwgcnVuICphZnRlciogdGhlXG4gKiByZXNvdXJjZSBpcyBsb2FkZWQuXG4gKlxuICogQHN0YXRpY1xuICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBUaGUgbWlkZGxld2FyZSBmdW5jdGlvbiB0byByZWdpc3Rlci5cbiAqIEByZXR1cm4ge0xvYWRlcn0gUmV0dXJucyBpdHNlbGYuXG4gKi9cblxuXG5Mb2FkZXIudXNlID0gZnVuY3Rpb24gTG9hZGVyVXNlU3RhdGljKGZuKSB7XG4gIExvYWRlci5fZGVmYXVsdEFmdGVyTWlkZGxld2FyZS5wdXNoKGZuKTtcblxuICByZXR1cm4gTG9hZGVyO1xufTtcblxuZXhwb3J0IHsgTG9hZGVyLCBSZXNvdXJjZSwgYXN5bmMsIGVuY29kZUJpbmFyeSwgaW5kZXggYXMgbWlkZGxld2FyZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVzb3VyY2UtbG9hZGVyLmVzbS5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvbG9hZGVycyAtIHY1LjEuNFxuICogQ29tcGlsZWQgRnJpLCAyMCBTZXAgMjAxOSAxNzoxNzo1OSBVVENcbiAqXG4gKiBAcGl4aS9sb2FkZXJzIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgUmVzb3VyY2UsIExvYWRlciBhcyBMb2FkZXIkMSwgbWlkZGxld2FyZSB9IGZyb20gJ3Jlc291cmNlLWxvYWRlcic7XG5pbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbi8qKlxuICogTG9hZGVyIHBsdWdpbiBmb3IgaGFuZGxpbmcgVGV4dHVyZSByZXNvdXJjZXMuXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAaW1wbGVtZW50cyBQSVhJLklMb2FkZXJQbHVnaW5cbiAqL1xudmFyIFRleHR1cmVMb2FkZXIgPSBmdW5jdGlvbiBUZXh0dXJlTG9hZGVyICgpIHt9O1xuXG5UZXh0dXJlTG9hZGVyLnVzZSA9IGZ1bmN0aW9uIHVzZSAocmVzb3VyY2UsIG5leHQpXG57XG4gICAgLy8gY3JlYXRlIGEgbmV3IHRleHR1cmUgaWYgdGhlIGRhdGEgaXMgYW4gSW1hZ2Ugb2JqZWN0XG4gICAgaWYgKHJlc291cmNlLmRhdGEgJiYgcmVzb3VyY2UudHlwZSA9PT0gUmVzb3VyY2UuVFlQRS5JTUFHRSlcbiAgICB7XG4gICAgICAgIHJlc291cmNlLnRleHR1cmUgPSBUZXh0dXJlLmZyb21Mb2FkZXIoXG4gICAgICAgICAgICByZXNvdXJjZS5kYXRhLFxuICAgICAgICAgICAgcmVzb3VyY2UudXJsLFxuICAgICAgICAgICAgcmVzb3VyY2UubmFtZVxuICAgICAgICApO1xuICAgIH1cbiAgICBuZXh0KCk7XG59O1xuXG4vKipcbiAqIFRoZSBuZXcgbG9hZGVyLCBleHRlbmRzIFJlc291cmNlIExvYWRlciBieSBDaGFkIEVuZ2xlcjogaHR0cHM6Ly9naXRodWIuY29tL2VuZ2xlcmNqL3Jlc291cmNlLWxvYWRlclxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCBsb2FkZXIgPSBQSVhJLkxvYWRlci5zaGFyZWQ7IC8vIFBpeGlKUyBleHBvc2VzIGEgcHJlbWFkZSBpbnN0YW5jZSBmb3IgeW91IHRvIHVzZS5cbiAqIC8vb3JcbiAqIGNvbnN0IGxvYWRlciA9IG5ldyBQSVhJLkxvYWRlcigpOyAvLyB5b3UgY2FuIGFsc28gY3JlYXRlIHlvdXIgb3duIGlmIHlvdSB3YW50XG4gKlxuICogY29uc3Qgc3ByaXRlcyA9IHt9O1xuICpcbiAqIC8vIENoYWluYWJsZSBgYWRkYCB0byBlbnF1ZXVlIGEgcmVzb3VyY2VcbiAqIGxvYWRlci5hZGQoJ2J1bm55JywgJ2RhdGEvYnVubnkucG5nJylcbiAqICAgICAgIC5hZGQoJ3NwYWNlc2hpcCcsICdhc3NldHMvc3ByaXRlc2hlZXQuanNvbicpO1xuICogbG9hZGVyLmFkZCgnc2NvcmVGb250JywgJ2Fzc2V0cy9zY29yZS5mbnQnKTtcbiAqXG4gKiAvLyBDaGFpbmFibGUgYHByZWAgdG8gYWRkIGEgbWlkZGxld2FyZSB0aGF0IHJ1bnMgZm9yIGVhY2ggcmVzb3VyY2UsICpiZWZvcmUqIGxvYWRpbmcgdGhhdCByZXNvdXJjZS5cbiAqIC8vIFRoaXMgaXMgdXNlZnVsIHRvIGltcGxlbWVudCBjdXN0b20gY2FjaGluZyBtb2R1bGVzICh1c2luZyBmaWxlc3lzdGVtLCBpbmRleGVkZGIsIG1lbW9yeSwgZXRjKS5cbiAqIGxvYWRlci5wcmUoY2FjaGluZ01pZGRsZXdhcmUpO1xuICpcbiAqIC8vIENoYWluYWJsZSBgdXNlYCB0byBhZGQgYSBtaWRkbGV3YXJlIHRoYXQgcnVucyBmb3IgZWFjaCByZXNvdXJjZSwgKmFmdGVyKiBsb2FkaW5nIHRoYXQgcmVzb3VyY2UuXG4gKiAvLyBUaGlzIGlzIHVzZWZ1bCB0byBpbXBsZW1lbnQgY3VzdG9tIHBhcnNpbmcgbW9kdWxlcyAobGlrZSBzcHJpdGVzaGVldCBwYXJzZXJzLCBzcGluZSBwYXJzZXIsIGV0YykuXG4gKiBsb2FkZXIudXNlKHBhcnNpbmdNaWRkbGV3YXJlKTtcbiAqXG4gKiAvLyBUaGUgYGxvYWRgIG1ldGhvZCBsb2FkcyB0aGUgcXVldWUgb2YgcmVzb3VyY2VzLCBhbmQgY2FsbHMgdGhlIHBhc3NlZCBpbiBjYWxsYmFjayBjYWxsZWQgb25jZSBhbGxcbiAqIC8vIHJlc291cmNlcyBoYXZlIGxvYWRlZC5cbiAqIGxvYWRlci5sb2FkKChsb2FkZXIsIHJlc291cmNlcykgPT4ge1xuICogICAgIC8vIHJlc291cmNlcyBpcyBhbiBvYmplY3Qgd2hlcmUgdGhlIGtleSBpcyB0aGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UgbG9hZGVkIGFuZCB0aGUgdmFsdWUgaXMgdGhlIHJlc291cmNlIG9iamVjdC5cbiAqICAgICAvLyBUaGV5IGhhdmUgYSBjb3VwbGUgZGVmYXVsdCBwcm9wZXJ0aWVzOlxuICogICAgIC8vIC0gYHVybGA6IFRoZSBVUkwgdGhhdCB0aGUgcmVzb3VyY2Ugd2FzIGxvYWRlZCBmcm9tXG4gKiAgICAgLy8gLSBgZXJyb3JgOiBUaGUgZXJyb3IgdGhhdCBoYXBwZW5lZCB3aGVuIHRyeWluZyB0byBsb2FkIChpZiBhbnkpXG4gKiAgICAgLy8gLSBgZGF0YWA6IFRoZSByYXcgZGF0YSB0aGF0IHdhcyBsb2FkZWRcbiAqICAgICAvLyBhbHNvIG1heSBjb250YWluIG90aGVyIHByb3BlcnRpZXMgYmFzZWQgb24gdGhlIG1pZGRsZXdhcmUgdGhhdCBydW5zLlxuICogICAgIHNwcml0ZXMuYnVubnkgPSBuZXcgUElYSS5UaWxpbmdTcHJpdGUocmVzb3VyY2VzLmJ1bm55LnRleHR1cmUpO1xuICogICAgIHNwcml0ZXMuc3BhY2VzaGlwID0gbmV3IFBJWEkuVGlsaW5nU3ByaXRlKHJlc291cmNlcy5zcGFjZXNoaXAudGV4dHVyZSk7XG4gKiAgICAgc3ByaXRlcy5zY29yZUZvbnQgPSBuZXcgUElYSS5UaWxpbmdTcHJpdGUocmVzb3VyY2VzLnNjb3JlRm9udC50ZXh0dXJlKTtcbiAqIH0pO1xuICpcbiAqIC8vIHRocm91Z2hvdXQgdGhlIHByb2Nlc3MgbXVsdGlwbGUgc2lnbmFscyBjYW4gYmUgZGlzcGF0Y2hlZC5cbiAqIGxvYWRlci5vblByb2dyZXNzLmFkZCgoKSA9PiB7fSk7IC8vIGNhbGxlZCBvbmNlIHBlciBsb2FkZWQvZXJyb3JlZCBmaWxlXG4gKiBsb2FkZXIub25FcnJvci5hZGQoKCkgPT4ge30pOyAvLyBjYWxsZWQgb25jZSBwZXIgZXJyb3JlZCBmaWxlXG4gKiBsb2FkZXIub25Mb2FkLmFkZCgoKSA9PiB7fSk7IC8vIGNhbGxlZCBvbmNlIHBlciBsb2FkZWQgZmlsZVxuICogbG9hZGVyLm9uQ29tcGxldGUuYWRkKCgpID0+IHt9KTsgLy8gY2FsbGVkIG9uY2Ugd2hlbiB0aGUgcXVldWVkIHJlc291cmNlcyBhbGwgbG9hZC5cbiAqIGBgYFxuICpcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2VuZ2xlcmNqL3Jlc291cmNlLWxvYWRlclxuICpcbiAqIEBjbGFzcyBMb2FkZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAcGFyYW0ge3N0cmluZ30gW2Jhc2VVcmw9JyddIC0gVGhlIGJhc2UgdXJsIGZvciBhbGwgcmVzb3VyY2VzIGxvYWRlZCBieSB0aGlzIGxvYWRlci5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbY29uY3VycmVuY3k9MTBdIC0gVGhlIG51bWJlciBvZiByZXNvdXJjZXMgdG8gbG9hZCBjb25jdXJyZW50bHkuXG4gKi9cbnZhciBMb2FkZXIgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChSZXNvdXJjZUxvYWRlcikge1xuICAgIGZ1bmN0aW9uIExvYWRlcihiYXNlVXJsLCBjb25jdXJyZW5jeSlcbiAgICB7XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgICAgIFJlc291cmNlTG9hZGVyLmNhbGwodGhpcywgYmFzZVVybCwgY29uY3VycmVuY3kpO1xuICAgICAgICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IExvYWRlci5fcGx1Z2lucy5sZW5ndGg7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHBsdWdpbiA9IExvYWRlci5fcGx1Z2luc1tpXTtcbiAgICAgICAgICAgIHZhciBwcmUgPSBwbHVnaW4ucHJlO1xuICAgICAgICAgICAgdmFyIHVzZSA9IHBsdWdpbi51c2U7XG5cbiAgICAgICAgICAgIGlmIChwcmUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcmUocHJlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHVzZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVzZSh1c2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ29tcGF0IGxheWVyLCB0cmFuc2xhdGUgdGhlIG5ldyB2MiBzaWduYWxzIGludG8gb2xkIHYxIGV2ZW50cy5cbiAgICAgICAgdGhpcy5vblN0YXJ0LmFkZChmdW5jdGlvbiAobCkgeyByZXR1cm4gdGhpcyQxLmVtaXQoJ3N0YXJ0JywgbCk7IH0pO1xuICAgICAgICB0aGlzLm9uUHJvZ3Jlc3MuYWRkKGZ1bmN0aW9uIChsLCByKSB7IHJldHVybiB0aGlzJDEuZW1pdCgncHJvZ3Jlc3MnLCBsLCByKTsgfSk7XG4gICAgICAgIHRoaXMub25FcnJvci5hZGQoZnVuY3Rpb24gKGUsIGwsIHIpIHsgcmV0dXJuIHRoaXMkMS5lbWl0KCdlcnJvcicsIGUsIGwsIHIpOyB9KTtcbiAgICAgICAgdGhpcy5vbkxvYWQuYWRkKGZ1bmN0aW9uIChsLCByKSB7IHJldHVybiB0aGlzJDEuZW1pdCgnbG9hZCcsIGwsIHIpOyB9KTtcbiAgICAgICAgdGhpcy5vbkNvbXBsZXRlLmFkZChmdW5jdGlvbiAobCwgcikgeyByZXR1cm4gdGhpcyQxLmVtaXQoJ2NvbXBsZXRlJywgbCwgcik7IH0pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGlzIGxvYWRlciBjYW5ub3QgYmUgZGVzdHJveWVkLlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcHJvdGVjdGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKCBSZXNvdXJjZUxvYWRlciApIExvYWRlci5fX3Byb3RvX18gPSBSZXNvdXJjZUxvYWRlcjtcbiAgICBMb2FkZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggUmVzb3VyY2VMb2FkZXIgJiYgUmVzb3VyY2VMb2FkZXIucHJvdG90eXBlICk7XG4gICAgTG9hZGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IExvYWRlcjtcblxuICAgIHZhciBzdGF0aWNBY2Nlc3NvcnMgPSB7IHNoYXJlZDogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveSB0aGUgbG9hZGVyLCByZW1vdmVzIHJlZmVyZW5jZXMuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBMb2FkZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95ICgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuX3Byb3RlY3RlZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBIHByZW1hZGUgaW5zdGFuY2Ugb2YgdGhlIGxvYWRlciB0aGF0IGNhbiBiZSB1c2VkIHRvIGxvYWQgcmVzb3VyY2VzLlxuICAgICAqIEBuYW1lIHNoYXJlZFxuICAgICAqIEB0eXBlIHtQSVhJLkxvYWRlcn1cbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyXG4gICAgICovXG4gICAgc3RhdGljQWNjZXNzb3JzLnNoYXJlZC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgdmFyIHNoYXJlZCA9IExvYWRlci5fc2hhcmVkO1xuXG4gICAgICAgIGlmICghc2hhcmVkKVxuICAgICAgICB7XG4gICAgICAgICAgICBzaGFyZWQgPSBuZXcgTG9hZGVyKCk7XG4gICAgICAgICAgICBzaGFyZWQuX3Byb3RlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICBMb2FkZXIuX3NoYXJlZCA9IHNoYXJlZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzaGFyZWQ7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBMb2FkZXIsIHN0YXRpY0FjY2Vzc29ycyApO1xuXG4gICAgcmV0dXJuIExvYWRlcjtcbn0oTG9hZGVyJDEpKTtcblxuLy8gQ29weSBFRTMgcHJvdG90eXBlIChtaXhpbilcbk9iamVjdC5hc3NpZ24oTG9hZGVyLnByb3RvdHlwZSwgRXZlbnRFbWl0dGVyLnByb3RvdHlwZSk7XG5cbi8qKlxuICogQ29sbGVjdGlvbiBvZiBhbGwgaW5zdGFsbGVkIGB1c2VgIG1pZGRsZXdhcmUgZm9yIExvYWRlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyIHtBcnJheTxQSVhJLklMb2FkZXJQbHVnaW4+fSBfcGx1Z2luc1xuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyXG4gKiBAcHJpdmF0ZVxuICovXG5Mb2FkZXIuX3BsdWdpbnMgPSBbXTtcblxuLyoqXG4gKiBBZGRzIGEgTG9hZGVyIHBsdWdpbiBmb3IgdGhlIGdsb2JhbCBzaGFyZWQgbG9hZGVyIGFuZCBhbGxcbiAqIG5ldyBMb2FkZXIgaW5zdGFuY2VzIGNyZWF0ZWQuXG4gKlxuICogQHN0YXRpY1xuICogQG1ldGhvZCByZWdpc3RlclBsdWdpblxuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyXG4gKiBAcGFyYW0ge1BJWEkuSUxvYWRlclBsdWdpbn0gcGx1Z2luIC0gVGhlIHBsdWdpbiB0byBhZGRcbiAqIEByZXR1cm4ge1BJWEkuTG9hZGVyfSBSZWZlcmVuY2UgdG8gUElYSS5Mb2FkZXIgZm9yIGNoYWluaW5nXG4gKi9cbkxvYWRlci5yZWdpc3RlclBsdWdpbiA9IGZ1bmN0aW9uIHJlZ2lzdGVyUGx1Z2luKHBsdWdpbilcbntcbiAgICBMb2FkZXIuX3BsdWdpbnMucHVzaChwbHVnaW4pO1xuXG4gICAgaWYgKHBsdWdpbi5hZGQpXG4gICAge1xuICAgICAgICBwbHVnaW4uYWRkKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIExvYWRlcjtcbn07XG5cbi8vIHBhcnNlIGFueSBibG9iIGludG8gbW9yZSB1c2FibGUgb2JqZWN0cyAoZS5nLiBJbWFnZSlcbkxvYWRlci5yZWdpc3RlclBsdWdpbih7IHVzZTogbWlkZGxld2FyZS5wYXJzaW5nIH0pO1xuXG4vLyBwYXJzZSBhbnkgSW1hZ2Ugb2JqZWN0cyBpbnRvIHRleHR1cmVzXG5Mb2FkZXIucmVnaXN0ZXJQbHVnaW4oVGV4dHVyZUxvYWRlcik7XG5cbi8qKlxuICogUGx1Z2luIHRvIGJlIGluc3RhbGxlZCBmb3IgaGFuZGxpbmcgc3BlY2lmaWMgTG9hZGVyIHJlc291cmNlcy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGVkZWYgSUxvYWRlclBsdWdpblxuICogQHByb3BlcnR5IHtmdW5jdGlvbn0gW2FkZF0gLSBGdW5jdGlvbiB0byBjYWxsIGltbWVkaWF0ZSBhZnRlciByZWdpc3RlcmluZyBwbHVnaW4uXG4gKiBAcHJvcGVydHkge1BJWEkuTG9hZGVyLmxvYWRlck1pZGRsZXdhcmV9IFtwcmVdIC0gTWlkZGxld2FyZSBmdW5jdGlvbiB0byBydW4gYmVmb3JlIGxvYWQsIHRoZVxuICogICAgICAgICAgIGFyZ3VtZW50cyBmb3IgdGhpcyBhcmUgYChyZXNvdXJjZSwgbmV4dClgXG4gKiBAcHJvcGVydHkge1BJWEkuTG9hZGVyLmxvYWRlck1pZGRsZXdhcmV9IFt1c2VdIC0gTWlkZGxld2FyZSBmdW5jdGlvbiB0byBydW4gYWZ0ZXIgbG9hZCwgdGhlXG4gKiAgICAgICAgICAgYXJndW1lbnRzIGZvciB0aGlzIGFyZSBgKHJlc291cmNlLCBuZXh0KWBcbiAqL1xuXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlclxuICogQGNhbGxiYWNrIGxvYWRlck1pZGRsZXdhcmVcbiAqIEBwYXJhbSB7UElYSS5Mb2FkZXJSZXNvdXJjZX0gcmVzb3VyY2VcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IG5leHRcbiAqL1xuXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlciNcbiAqIEBtZW1iZXIge29iamVjdH0gb25TdGFydFxuICovXG5cbi8qKlxuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyI1xuICogQG1lbWJlciB7b2JqZWN0fSBvblByb2dyZXNzXG4gKi9cblxuLyoqXG4gKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXIjXG4gKiBAbWVtYmVyIHtvYmplY3R9IG9uRXJyb3JcbiAqL1xuXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlciNcbiAqIEBtZW1iZXIge29iamVjdH0gb25Mb2FkXG4gKi9cblxuLyoqXG4gKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXIjXG4gKiBAbWVtYmVyIHtvYmplY3R9IG9uQ29tcGxldGVcbiAqL1xuXG4vKipcbiAqIEFwcGxpY2F0aW9uIHBsdWdpbiBmb3Igc3VwcG9ydGluZyBsb2FkZXIgb3B0aW9uLiBJbnN0YWxsaW5nIHRoZSBMb2FkZXJQbHVnaW5cbiAqIGlzIG5vdCBuZWNlc3NhcnkgaWYgdXNpbmcgKipwaXhpLmpzKiogb3IgKipwaXhpLmpzLWxlZ2FjeSoqLlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7QXBwTG9hZGVyUGx1Z2lufSBmcm9tICdAcGl4aS9sb2FkZXJzJztcbiAqIGltcG9ydCB7QXBwbGljYXRpb259IGZyb20gJ0BwaXhpL2FwcCc7XG4gKiBBcHBsaWNhdGlvbi5yZWdpc3RlclBsdWdpbihBcHBMb2FkZXJQbHVnaW4pO1xuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQXBwTG9hZGVyUGx1Z2luID0gZnVuY3Rpb24gQXBwTG9hZGVyUGx1Z2luICgpIHt9O1xuXG5BcHBMb2FkZXJQbHVnaW4uaW5pdCA9IGZ1bmN0aW9uIGluaXQgKG9wdGlvbnMpXG57XG4gICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICBzaGFyZWRMb2FkZXI6IGZhbHNlLFxuICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgLyoqXG4gICAgICogTG9hZGVyIGluc3RhbmNlIHRvIGhlbHAgd2l0aCBhc3NldCBsb2FkaW5nLlxuICAgICAqIEBuYW1lIFBJWEkuQXBwbGljYXRpb24jbG9hZGVyXG4gICAgICogQHR5cGUge1BJWEkuTG9hZGVyfVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIHRoaXMubG9hZGVyID0gb3B0aW9ucy5zaGFyZWRMb2FkZXIgPyBMb2FkZXIuc2hhcmVkIDogbmV3IExvYWRlcigpO1xufTtcblxuLyoqXG4gKiBDYWxsZWQgd2hlbiBhcHBsaWNhdGlvbiBkZXN0cm95ZWRcbiAqIEBwcml2YXRlXG4gKi9cbkFwcExvYWRlclBsdWdpbi5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxue1xuICAgIGlmICh0aGlzLmxvYWRlcilcbiAgICB7XG4gICAgICAgIHRoaXMubG9hZGVyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5sb2FkZXIgPSBudWxsO1xuICAgIH1cbn07XG5cbi8qKlxuICogUmVmZXJlbmNlIHRvICoqe0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9lbmdsZXJjai9yZXNvdXJjZS1sb2FkZXJcbiAqIHJlc291cmNlLWxvYWRlcn0qKidzIFJlc291cmNlIGNsYXNzLlxuICogQHNlZSBodHRwOi8vZW5nbGVyY2ouZ2l0aHViLmlvL3Jlc291cmNlLWxvYWRlci9SZXNvdXJjZS5odG1sXG4gKiBAY2xhc3MgTG9hZGVyUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBMb2FkZXJSZXNvdXJjZSA9IFJlc291cmNlO1xuXG5leHBvcnQgeyBBcHBMb2FkZXJQbHVnaW4sIExvYWRlciwgTG9hZGVyUmVzb3VyY2UsIFRleHR1cmVMb2FkZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvYWRlcnMuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3BhcnRpY2xlcyAtIHY1LjEuNFxuICogQ29tcGlsZWQgRnJpLCAyMCBTZXAgMjAxOSAxNzoxNzo1OSBVVENcbiAqXG4gKiBAcGl4aS9wYXJ0aWNsZXMgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBCTEVORF9NT0RFUywgVFlQRVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgaGV4MnJnYiwgY3JlYXRlSW5kaWNlc0ZvclF1YWRzLCBjb3JyZWN0QmxlbmRNb2RlLCBwcmVtdWx0aXBseVJnYmEsIHByZW11bHRpcGx5VGludCB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgR2VvbWV0cnksIEJ1ZmZlciwgT2JqZWN0UmVuZGVyZXIsIFNoYWRlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5cbi8qKlxuICogVGhlIFBhcnRpY2xlQ29udGFpbmVyIGNsYXNzIGlzIGEgcmVhbGx5IGZhc3QgdmVyc2lvbiBvZiB0aGUgQ29udGFpbmVyIGJ1aWx0IHNvbGVseSBmb3Igc3BlZWQsXG4gKiBzbyB1c2Ugd2hlbiB5b3UgbmVlZCBhIGxvdCBvZiBzcHJpdGVzIG9yIHBhcnRpY2xlcy5cbiAqXG4gKiBUaGUgdHJhZGVvZmYgb2YgdGhlIFBhcnRpY2xlQ29udGFpbmVyIGlzIHRoYXQgbW9zdCBhZHZhbmNlZCBmdW5jdGlvbmFsaXR5IHdpbGwgbm90IHdvcmsuXG4gKiBQYXJ0aWNsZUNvbnRhaW5lciBpbXBsZW1lbnRzIHRoZSBiYXNpYyBvYmplY3QgdHJhbnNmb3JtIChwb3NpdGlvbiwgc2NhbGUsIHJvdGF0aW9uKVxuICogYW5kIHNvbWUgYWR2YW5jZWQgZnVuY3Rpb25hbGl0eSBsaWtlIHRpbnQgKGFzIG9mIHY0LjUuNikuXG4gKlxuICogT3RoZXIgbW9yZSBhZHZhbmNlZCBmdW5jdGlvbmFsaXR5IGxpa2UgbWFza2luZywgY2hpbGRyZW4sIGZpbHRlcnMsIGV0YyB3aWxsIG5vdCB3b3JrIG9uIHNwcml0ZXMgaW4gdGhpcyBiYXRjaC5cbiAqXG4gKiBJdCdzIGV4dHJlbWVseSBlYXN5IHRvIHVzZTpcbiAqIGBgYGpzXG4gKiBsZXQgY29udGFpbmVyID0gbmV3IFBhcnRpY2xlQ29udGFpbmVyKCk7XG4gKlxuICogZm9yIChsZXQgaSA9IDA7IGkgPCAxMDA7ICsraSlcbiAqIHtcbiAqICAgICBsZXQgc3ByaXRlID0gUElYSS5TcHJpdGUuZnJvbShcIm15SW1hZ2UucG5nXCIpO1xuICogICAgIGNvbnRhaW5lci5hZGRDaGlsZChzcHJpdGUpO1xuICogfVxuICogYGBgXG4gKlxuICogQW5kIGhlcmUgeW91IGhhdmUgYSBodW5kcmVkIHNwcml0ZXMgdGhhdCB3aWxsIGJlIHJlbmRlcmVkIGF0IHRoZSBzcGVlZCBvZiBsaWdodC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQ29udGFpbmVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUGFydGljbGVDb250YWluZXIgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChDb250YWluZXIpIHtcbiAgICBmdW5jdGlvbiBQYXJ0aWNsZUNvbnRhaW5lcihtYXhTaXplLCBwcm9wZXJ0aWVzLCBiYXRjaFNpemUsIGF1dG9SZXNpemUpXG4gICAge1xuICAgICAgICBpZiAoIG1heFNpemUgPT09IHZvaWQgMCApIG1heFNpemUgPSAxNTAwO1xuICAgICAgICBpZiAoIGJhdGNoU2l6ZSA9PT0gdm9pZCAwICkgYmF0Y2hTaXplID0gMTYzODQ7XG4gICAgICAgIGlmICggYXV0b1Jlc2l6ZSA9PT0gdm9pZCAwICkgYXV0b1Jlc2l6ZSA9IGZhbHNlO1xuXG4gICAgICAgIENvbnRhaW5lci5jYWxsKHRoaXMpO1xuXG4gICAgICAgIC8vIE1ha2luZyBzdXJlIHRoZSBiYXRjaCBzaXplIGlzIHZhbGlkXG4gICAgICAgIC8vIDY1NTM1IGlzIG1heCB2ZXJ0ZXggaW5kZXggaW4gdGhlIGluZGV4IGJ1ZmZlciAoc2VlIFBhcnRpY2xlUmVuZGVyZXIpXG4gICAgICAgIC8vIHNvIG1heCBudW1iZXIgb2YgcGFydGljbGVzIGlzIDY1NTM2IC8gNCA9IDE2Mzg0XG4gICAgICAgIHZhciBtYXhCYXRjaFNpemUgPSAxNjM4NDtcblxuICAgICAgICBpZiAoYmF0Y2hTaXplID4gbWF4QmF0Y2hTaXplKVxuICAgICAgICB7XG4gICAgICAgICAgICBiYXRjaFNpemUgPSBtYXhCYXRjaFNpemU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHByb3BlcnRpZXMgdG8gYmUgZHluYW1pYyAodHJ1ZSkgLyBzdGF0aWMgKGZhbHNlKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFuW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzID0gW2ZhbHNlLCB0cnVlLCBmYWxzZSwgZmFsc2UsIGZhbHNlXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbWF4U2l6ZSA9IG1heFNpemU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JhdGNoU2l6ZSA9IGJhdGNoU2l6ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7QXJyYXk8UElYSS5CdWZmZXI+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYnVmZmVycyA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGZvciBldmVyeSBiYXRjaCBzdG9yZXMgX3VwZGF0ZUlEIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGxhc3QgY2hhbmdlIGluIHRoYXQgYmF0Y2hcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9idWZmZXJVcGRhdGVJRHMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogd2hlbiBjaGlsZCBpbnNlcnRlZCwgcmVtb3ZlZCBvciBjaGFuZ2VzIHBvc2l0aW9uIHRoaXMgbnVtYmVyIGdvZXMgdXBcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl91cGRhdGVJRCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmludGVyYWN0aXZlQ2hpbGRyZW4gPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJsZW5kIG1vZGUgdG8gYmUgYXBwbGllZCB0byB0aGUgc3ByaXRlLiBBcHBseSBhIHZhbHVlIG9mIGBQSVhJLkJMRU5EX01PREVTLk5PUk1BTGBcbiAgICAgICAgICogdG8gcmVzZXQgdGhlIGJsZW5kIG1vZGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxcbiAgICAgICAgICogQHNlZSBQSVhJLkJMRU5EX01PREVTXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJsZW5kTW9kZSA9IEJMRU5EX01PREVTLk5PUk1BTDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdHJ1ZSwgY29udGFpbmVyIGFsbG9jYXRlcyBtb3JlIGJhdGNoZXMgaW4gY2FzZSB0aGVyZSBhcmUgbW9yZSB0aGFuIGBtYXhTaXplYCBwYXJ0aWNsZXMuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmF1dG9SZXNpemUgPSBhdXRvUmVzaXplO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW4gcmVuZGVyaW5nLCBzdG9wcGluZyBwaXhlbCBpbnRlcnBvbGF0aW9uLlxuICAgICAgICAgKiBBZHZhbnRhZ2VzIGNhbiBpbmNsdWRlIHNoYXJwZXIgaW1hZ2UgcXVhbGl0eSAobGlrZSB0ZXh0KSBhbmQgZmFzdGVyIHJlbmRlcmluZyBvbiBjYW52YXMuXG4gICAgICAgICAqIFRoZSBtYWluIGRpc2FkdmFudGFnZSBpcyBtb3ZlbWVudCBvZiBvYmplY3RzIG1heSBhcHBlYXIgbGVzcyBzbW9vdGguXG4gICAgICAgICAqIERlZmF1bHQgdG8gdHJ1ZSBoZXJlIGFzIHBlcmZvcm1hbmNlIGlzIHVzdWFsbHkgdGhlIHByaW9yaXR5IGZvciBwYXJ0aWNsZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucm91bmRQaXhlbHMgPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGV4dHVyZSB1c2VkIHRvIHJlbmRlciB0aGUgY2hpbGRyZW4uXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5iYXNlVGV4dHVyZSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5zZXRQcm9wZXJ0aWVzKHByb3BlcnRpZXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGludCBhcHBsaWVkIHRvIHRoZSBjb250YWluZXIuXG4gICAgICAgICAqIFRoaXMgaXMgYSBoZXggdmFsdWUuIEEgdmFsdWUgb2YgMHhGRkZGRkYgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90aW50ID0gMDtcbiAgICAgICAgdGhpcy50aW50UmdiID0gbmV3IEZsb2F0MzJBcnJheSg0KTtcbiAgICAgICAgdGhpcy50aW50ID0gMHhGRkZGRkY7XG4gICAgfVxuXG4gICAgaWYgKCBDb250YWluZXIgKSBQYXJ0aWNsZUNvbnRhaW5lci5fX3Byb3RvX18gPSBDb250YWluZXI7XG4gICAgUGFydGljbGVDb250YWluZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQ29udGFpbmVyICYmIENvbnRhaW5lci5wcm90b3R5cGUgKTtcbiAgICBQYXJ0aWNsZUNvbnRhaW5lci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBQYXJ0aWNsZUNvbnRhaW5lcjtcblxuICAgIHZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IHRpbnQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHByaXZhdGUgcHJvcGVydGllcyBhcnJheSB0byBkeW5hbWljIC8gc3RhdGljIGJhc2VkIG9uIHRoZSBwYXNzZWQgcHJvcGVydGllcyBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBwcm9wZXJ0aWVzIC0gVGhlIHByb3BlcnRpZXMgdG8gYmUgdXBsb2FkZWRcbiAgICAgKi9cbiAgICBQYXJ0aWNsZUNvbnRhaW5lci5wcm90b3R5cGUuc2V0UHJvcGVydGllcyA9IGZ1bmN0aW9uIHNldFByb3BlcnRpZXMgKHByb3BlcnRpZXMpXG4gICAge1xuICAgICAgICBpZiAocHJvcGVydGllcylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcHJvcGVydGllc1swXSA9ICd2ZXJ0aWNlcycgaW4gcHJvcGVydGllcyB8fCAnc2NhbGUnIGluIHByb3BlcnRpZXNcbiAgICAgICAgICAgICAgICA/ICEhcHJvcGVydGllcy52ZXJ0aWNlcyB8fCAhIXByb3BlcnRpZXMuc2NhbGUgOiB0aGlzLl9wcm9wZXJ0aWVzWzBdO1xuICAgICAgICAgICAgdGhpcy5fcHJvcGVydGllc1sxXSA9ICdwb3NpdGlvbicgaW4gcHJvcGVydGllcyA/ICEhcHJvcGVydGllcy5wb3NpdGlvbiA6IHRoaXMuX3Byb3BlcnRpZXNbMV07XG4gICAgICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzWzJdID0gJ3JvdGF0aW9uJyBpbiBwcm9wZXJ0aWVzID8gISFwcm9wZXJ0aWVzLnJvdGF0aW9uIDogdGhpcy5fcHJvcGVydGllc1syXTtcbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnRpZXNbM10gPSAndXZzJyBpbiBwcm9wZXJ0aWVzID8gISFwcm9wZXJ0aWVzLnV2cyA6IHRoaXMuX3Byb3BlcnRpZXNbM107XG4gICAgICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzWzRdID0gJ3RpbnQnIGluIHByb3BlcnRpZXMgfHwgJ2FscGhhJyBpbiBwcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgPyAhIXByb3BlcnRpZXMudGludCB8fCAhIXByb3BlcnRpZXMuYWxwaGEgOiB0aGlzLl9wcm9wZXJ0aWVzWzRdO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIG9iamVjdCB0cmFuc2Zvcm0gZm9yIHJlbmRlcmluZ1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQYXJ0aWNsZUNvbnRhaW5lci5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gdXBkYXRlVHJhbnNmb3JtICgpXG4gICAge1xuICAgICAgICAvLyBUT0RPIGRvbid0IG5lZWQgdG8hXG4gICAgICAgIHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAvLyAgUElYSS5Db250YWluZXIucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybS5jYWxsKCB0aGlzICk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIGNvbnRhaW5lci4gVGhpcyBpcyBhIGhleCB2YWx1ZS5cbiAgICAgKiBBIHZhbHVlIG9mIDB4RkZGRkZGIHdpbGwgcmVtb3ZlIGFueSB0aW50IGVmZmVjdC5cbiAgICAgKiogSU1QT1JUQU5UOiBUaGlzIGlzIGEgV2ViR0wgb25seSBmZWF0dXJlIGFuZCB3aWxsIGJlIGlnbm9yZWQgYnkgdGhlIGNhbnZhcyByZW5kZXJlci5cbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudGludC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RpbnQ7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy50aW50LnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl90aW50ID0gdmFsdWU7XG4gICAgICAgIGhleDJyZ2IodmFsdWUsIHRoaXMudGludFJnYik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIGNvbnRhaW5lciB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSB3ZWJnbCByZW5kZXJlclxuICAgICAqL1xuICAgIFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIgKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICAgICAgaWYgKCF0aGlzLnZpc2libGUgfHwgdGhpcy53b3JsZEFscGhhIDw9IDAgfHwgIXRoaXMuY2hpbGRyZW4ubGVuZ3RoIHx8ICF0aGlzLnJlbmRlcmFibGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5iYXNlVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZSA9IHRoaXMuY2hpbGRyZW5bMF0uX3RleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYmFzZVRleHR1cmUudmFsaWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5vbmNlKCd1cGRhdGUnLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzJDEub25DaGlsZHJlbkNoYW5nZSgwKTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZW5kZXJlci5iYXRjaC5zZXRPYmplY3RSZW5kZXJlcihyZW5kZXJlci5wbHVnaW5zLnBhcnRpY2xlKTtcbiAgICAgICAgcmVuZGVyZXIucGx1Z2lucy5wYXJ0aWNsZS5yZW5kZXIodGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgZmxhZyB0aGF0IHN0YXRpYyBkYXRhIHNob3VsZCBiZSB1cGRhdGVkIHRvIHRydWVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNtYWxsZXN0Q2hpbGRJbmRleCAtIFRoZSBzbWFsbGVzdCBjaGlsZCBpbmRleFxuICAgICAqL1xuICAgIFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZS5vbkNoaWxkcmVuQ2hhbmdlID0gZnVuY3Rpb24gb25DaGlsZHJlbkNoYW5nZSAoc21hbGxlc3RDaGlsZEluZGV4KVxuICAgIHtcbiAgICAgICAgdmFyIGJ1ZmZlckluZGV4ID0gTWF0aC5mbG9vcihzbWFsbGVzdENoaWxkSW5kZXggLyB0aGlzLl9iYXRjaFNpemUpO1xuXG4gICAgICAgIHdoaWxlICh0aGlzLl9idWZmZXJVcGRhdGVJRHMubGVuZ3RoIDwgYnVmZmVySW5kZXgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlclVwZGF0ZUlEcy5wdXNoKDApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2J1ZmZlclVwZGF0ZUlEc1tidWZmZXJJbmRleF0gPSArK3RoaXMuX3VwZGF0ZUlEO1xuICAgIH07XG5cbiAgICBQYXJ0aWNsZUNvbnRhaW5lci5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UgKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9idWZmZXJzKVxuICAgICAgICB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2J1ZmZlcnMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYnVmZmVyc1tpXS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlcnMgPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBjb250YWluZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXJcbiAgICAgKiAgZGVzdHJveSBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICovXG4gICAgUGFydGljbGVDb250YWluZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95IChvcHRpb25zKVxuICAgIHtcbiAgICAgICAgQ29udGFpbmVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG5cbiAgICAgICAgdGhpcy5fcHJvcGVydGllcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2J1ZmZlcnMgPSBudWxsO1xuICAgICAgICB0aGlzLl9idWZmZXJVcGRhdGVJRHMgPSBudWxsO1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggUGFydGljbGVDb250YWluZXIucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuICAgIHJldHVybiBQYXJ0aWNsZUNvbnRhaW5lcjtcbn0oQ29udGFpbmVyKSk7XG5cbi8qKlxuICogQGF1dGhvciBNYXQgR3JvdmVzXG4gKlxuICogQmlnIHRoYW5rcyB0byB0aGUgdmVyeSBjbGV2ZXIgTWF0dCBEZXNMYXVyaWVycyA8bWF0dGRlc2w+IGh0dHBzOi8vZ2l0aHViLmNvbS9tYXR0ZGVzbC9cbiAqIGZvciBjcmVhdGluZyB0aGUgb3JpZ2luYWwgUGl4aUpTIHZlcnNpb24hXG4gKiBBbHNvIGEgdGhhbmtzIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9iY2hldmFsaWVyIGZvciB0d2Vha2luZyB0aGUgdGludCBhbmQgYWxwaGEgc28gdGhhdFxuICogdGhleSBub3cgc2hhcmUgNCBieXRlcyBvbiB0aGUgdmVydGV4IGJ1ZmZlclxuICpcbiAqIEhlYXZpbHkgaW5zcGlyZWQgYnkgTGliR0RYJ3MgUGFydGljbGVCdWZmZXI6XG4gKiBodHRwczovL2dpdGh1Yi5jb20vbGliZ2R4L2xpYmdkeC9ibG9iL21hc3Rlci9nZHgvc3JjL2NvbS9iYWRsb2dpYy9nZHgvZ3JhcGhpY3MvZzJkL1BhcnRpY2xlQnVmZmVyLmphdmFcbiAqL1xuXG4vKipcbiAqIFRoZSBwYXJ0aWNsZSBidWZmZXIgbWFuYWdlcyB0aGUgc3RhdGljIGFuZCBkeW5hbWljIGJ1ZmZlcnMgZm9yIGEgcGFydGljbGUgY29udGFpbmVyLlxuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBQYXJ0aWNsZUJ1ZmZlciA9IGZ1bmN0aW9uIFBhcnRpY2xlQnVmZmVyKHByb3BlcnRpZXMsIGR5bmFtaWNQcm9wZXJ0eUZsYWdzLCBzaXplKVxue1xuICAgIHRoaXMuZ2VvbWV0cnkgPSBuZXcgR2VvbWV0cnkoKTtcblxuICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiBwYXJ0aWNsZXMgdGhlIGJ1ZmZlciBjYW4gaG9sZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5zaXplID0gc2l6ZTtcblxuICAgIC8qKlxuICAgICAqIEEgbGlzdCBvZiB0aGUgcHJvcGVydGllcyB0aGF0IGFyZSBkeW5hbWljLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtvYmplY3RbXX1cbiAgICAgKi9cbiAgICB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzID0gW107XG5cbiAgICAvKipcbiAgICAgKiBBIGxpc3Qgb2YgdGhlIHByb3BlcnRpZXMgdGhhdCBhcmUgc3RhdGljLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtvYmplY3RbXX1cbiAgICAgKi9cbiAgICB0aGlzLnN0YXRpY1Byb3BlcnRpZXMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcGVydGllcy5sZW5ndGg7ICsraSlcbiAgICB7XG4gICAgICAgIHZhciBwcm9wZXJ0eSA9IHByb3BlcnRpZXNbaV07XG5cbiAgICAgICAgLy8gTWFrZSBjb3B5IG9mIHByb3BlcnRpZXMgb2JqZWN0IHNvIHRoYXQgd2hlbiB3ZSBlZGl0IHRoZSBvZmZzZXQgaXQgZG9lc24ndFxuICAgICAgICAvLyBjaGFuZ2UgYWxsIG90aGVyIGluc3RhbmNlcyBvZiB0aGUgb2JqZWN0IGxpdGVyYWxcbiAgICAgICAgcHJvcGVydHkgPSB7XG4gICAgICAgICAgICBhdHRyaWJ1dGVOYW1lOiBwcm9wZXJ0eS5hdHRyaWJ1dGVOYW1lLFxuICAgICAgICAgICAgc2l6ZTogcHJvcGVydHkuc2l6ZSxcbiAgICAgICAgICAgIHVwbG9hZEZ1bmN0aW9uOiBwcm9wZXJ0eS51cGxvYWRGdW5jdGlvbixcbiAgICAgICAgICAgIHR5cGU6IHByb3BlcnR5LnR5cGUgfHwgVFlQRVMuRkxPQVQsXG4gICAgICAgICAgICBvZmZzZXQ6IHByb3BlcnR5Lm9mZnNldCxcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoZHluYW1pY1Byb3BlcnR5RmxhZ3NbaV0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZHluYW1pY1Byb3BlcnRpZXMucHVzaChwcm9wZXJ0eSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnN0YXRpY1Byb3BlcnRpZXMucHVzaChwcm9wZXJ0eSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnN0YXRpY1N0cmlkZSA9IDA7XG4gICAgdGhpcy5zdGF0aWNCdWZmZXIgPSBudWxsO1xuICAgIHRoaXMuc3RhdGljRGF0YSA9IG51bGw7XG4gICAgdGhpcy5zdGF0aWNEYXRhVWludDMyID0gbnVsbDtcblxuICAgIHRoaXMuZHluYW1pY1N0cmlkZSA9IDA7XG4gICAgdGhpcy5keW5hbWljQnVmZmVyID0gbnVsbDtcbiAgICB0aGlzLmR5bmFtaWNEYXRhID0gbnVsbDtcbiAgICB0aGlzLmR5bmFtaWNEYXRhVWludDMyID0gbnVsbDtcblxuICAgIHRoaXMuX3VwZGF0ZUlEID0gMDtcblxuICAgIHRoaXMuaW5pdEJ1ZmZlcnMoKTtcbn07XG5cbi8qKlxuICogU2V0cyB1cCB0aGUgcmVuZGVyZXIgY29udGV4dCBhbmQgbmVjZXNzYXJ5IGJ1ZmZlcnMuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuUGFydGljbGVCdWZmZXIucHJvdG90eXBlLmluaXRCdWZmZXJzID0gZnVuY3Rpb24gaW5pdEJ1ZmZlcnMgKClcbntcbiAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLmdlb21ldHJ5O1xuXG4gICAgdmFyIGR5bmFtaWNPZmZzZXQgPSAwO1xuXG4gICAgLyoqXG4gICAgICogSG9sZHMgdGhlIGluZGljZXMgb2YgdGhlIGdlb21ldHJ5IChxdWFkcykgdG8gZHJhd1xuICAgICAqXG4gICAgICogQG1lbWJlciB7VWludDE2QXJyYXl9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmluZGV4QnVmZmVyID0gbmV3IEJ1ZmZlcihjcmVhdGVJbmRpY2VzRm9yUXVhZHModGhpcy5zaXplKSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgZ2VvbWV0cnkuYWRkSW5kZXgodGhpcy5pbmRleEJ1ZmZlcik7XG5cbiAgICB0aGlzLmR5bmFtaWNTdHJpZGUgPSAwO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLmxlbmd0aDsgKytpKVxuICAgIHtcbiAgICAgICAgdmFyIHByb3BlcnR5ID0gdGhpcy5keW5hbWljUHJvcGVydGllc1tpXTtcblxuICAgICAgICBwcm9wZXJ0eS5vZmZzZXQgPSBkeW5hbWljT2Zmc2V0O1xuICAgICAgICBkeW5hbWljT2Zmc2V0ICs9IHByb3BlcnR5LnNpemU7XG4gICAgICAgIHRoaXMuZHluYW1pY1N0cmlkZSArPSBwcm9wZXJ0eS5zaXplO1xuICAgIH1cblxuICAgIHZhciBkeW5CdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIodGhpcy5zaXplICogdGhpcy5keW5hbWljU3RyaWRlICogNCAqIDQpO1xuXG4gICAgdGhpcy5keW5hbWljRGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoZHluQnVmZmVyKTtcbiAgICB0aGlzLmR5bmFtaWNEYXRhVWludDMyID0gbmV3IFVpbnQzMkFycmF5KGR5bkJ1ZmZlcik7XG4gICAgdGhpcy5keW5hbWljQnVmZmVyID0gbmV3IEJ1ZmZlcih0aGlzLmR5bmFtaWNEYXRhLCBmYWxzZSwgZmFsc2UpO1xuXG4gICAgLy8gc3RhdGljIC8vXG4gICAgdmFyIHN0YXRpY09mZnNldCA9IDA7XG5cbiAgICB0aGlzLnN0YXRpY1N0cmlkZSA9IDA7XG5cbiAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCB0aGlzLnN0YXRpY1Byb3BlcnRpZXMubGVuZ3RoOyArK2kkMSlcbiAgICB7XG4gICAgICAgIHZhciBwcm9wZXJ0eSQxID0gdGhpcy5zdGF0aWNQcm9wZXJ0aWVzW2kkMV07XG5cbiAgICAgICAgcHJvcGVydHkkMS5vZmZzZXQgPSBzdGF0aWNPZmZzZXQ7XG4gICAgICAgIHN0YXRpY09mZnNldCArPSBwcm9wZXJ0eSQxLnNpemU7XG4gICAgICAgIHRoaXMuc3RhdGljU3RyaWRlICs9IHByb3BlcnR5JDEuc2l6ZTtcbiAgICB9XG5cbiAgICB2YXIgc3RhdEJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcih0aGlzLnNpemUgKiB0aGlzLnN0YXRpY1N0cmlkZSAqIDQgKiA0KTtcblxuICAgIHRoaXMuc3RhdGljRGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoc3RhdEJ1ZmZlcik7XG4gICAgdGhpcy5zdGF0aWNEYXRhVWludDMyID0gbmV3IFVpbnQzMkFycmF5KHN0YXRCdWZmZXIpO1xuICAgIHRoaXMuc3RhdGljQnVmZmVyID0gbmV3IEJ1ZmZlcih0aGlzLnN0YXRpY0RhdGEsIHRydWUsIGZhbHNlKTtcblxuICAgIGZvciAodmFyIGkkMiA9IDA7IGkkMiA8IHRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoOyArK2kkMilcbiAgICB7XG4gICAgICAgIHZhciBwcm9wZXJ0eSQyID0gdGhpcy5keW5hbWljUHJvcGVydGllc1tpJDJdO1xuXG4gICAgICAgIGdlb21ldHJ5LmFkZEF0dHJpYnV0ZShcbiAgICAgICAgICAgIHByb3BlcnR5JDIuYXR0cmlidXRlTmFtZSxcbiAgICAgICAgICAgIHRoaXMuZHluYW1pY0J1ZmZlcixcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICBwcm9wZXJ0eSQyLnR5cGUgPT09IFRZUEVTLlVOU0lHTkVEX0JZVEUsXG4gICAgICAgICAgICBwcm9wZXJ0eSQyLnR5cGUsXG4gICAgICAgICAgICB0aGlzLmR5bmFtaWNTdHJpZGUgKiA0LFxuICAgICAgICAgICAgcHJvcGVydHkkMi5vZmZzZXQgKiA0XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSQzID0gMDsgaSQzIDwgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzLmxlbmd0aDsgKytpJDMpXG4gICAge1xuICAgICAgICB2YXIgcHJvcGVydHkkMyA9IHRoaXMuc3RhdGljUHJvcGVydGllc1tpJDNdO1xuXG4gICAgICAgIGdlb21ldHJ5LmFkZEF0dHJpYnV0ZShcbiAgICAgICAgICAgIHByb3BlcnR5JDMuYXR0cmlidXRlTmFtZSxcbiAgICAgICAgICAgIHRoaXMuc3RhdGljQnVmZmVyLFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIHByb3BlcnR5JDMudHlwZSA9PT0gVFlQRVMuVU5TSUdORURfQllURSxcbiAgICAgICAgICAgIHByb3BlcnR5JDMudHlwZSxcbiAgICAgICAgICAgIHRoaXMuc3RhdGljU3RyaWRlICogNCxcbiAgICAgICAgICAgIHByb3BlcnR5JDMub2Zmc2V0ICogNFxuICAgICAgICApO1xuICAgIH1cbn07XG5cbi8qKlxuICogVXBsb2FkcyB0aGUgZHluYW1pYyBwcm9wZXJ0aWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdFtdfSBjaGlsZHJlbiAtIFRoZSBjaGlsZHJlbiB0byB1cGxvYWQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIFRoZSBpbmRleCB0byBzdGFydCBhdC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSBUaGUgbnVtYmVyIHRvIHVwbG9hZC5cbiAqL1xuUGFydGljbGVCdWZmZXIucHJvdG90eXBlLnVwbG9hZER5bmFtaWMgPSBmdW5jdGlvbiB1cGxvYWREeW5hbWljIChjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50KVxue1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICAgIHZhciBwcm9wZXJ0eSA9IHRoaXMuZHluYW1pY1Byb3BlcnRpZXNbaV07XG5cbiAgICAgICAgcHJvcGVydHkudXBsb2FkRnVuY3Rpb24oY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCxcbiAgICAgICAgICAgIHByb3BlcnR5LnR5cGUgPT09IFRZUEVTLlVOU0lHTkVEX0JZVEUgPyB0aGlzLmR5bmFtaWNEYXRhVWludDMyIDogdGhpcy5keW5hbWljRGF0YSxcbiAgICAgICAgICAgIHRoaXMuZHluYW1pY1N0cmlkZSwgcHJvcGVydHkub2Zmc2V0KTtcbiAgICB9XG5cbiAgICB0aGlzLmR5bmFtaWNCdWZmZXIuX3VwZGF0ZUlEKys7XG59O1xuXG4vKipcbiAqIFVwbG9hZHMgdGhlIHN0YXRpYyBwcm9wZXJ0aWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdFtdfSBjaGlsZHJlbiAtIFRoZSBjaGlsZHJlbiB0byB1cGxvYWQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIFRoZSBpbmRleCB0byBzdGFydCBhdC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSBUaGUgbnVtYmVyIHRvIHVwbG9hZC5cbiAqL1xuUGFydGljbGVCdWZmZXIucHJvdG90eXBlLnVwbG9hZFN0YXRpYyA9IGZ1bmN0aW9uIHVwbG9hZFN0YXRpYyAoY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudClcbntcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3RhdGljUHJvcGVydGllcy5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICAgIHZhciBwcm9wZXJ0eSA9IHRoaXMuc3RhdGljUHJvcGVydGllc1tpXTtcblxuICAgICAgICBwcm9wZXJ0eS51cGxvYWRGdW5jdGlvbihjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LFxuICAgICAgICAgICAgcHJvcGVydHkudHlwZSA9PT0gVFlQRVMuVU5TSUdORURfQllURSA/IHRoaXMuc3RhdGljRGF0YVVpbnQzMiA6IHRoaXMuc3RhdGljRGF0YSxcbiAgICAgICAgICAgIHRoaXMuc3RhdGljU3RyaWRlLCBwcm9wZXJ0eS5vZmZzZXQpO1xuICAgIH1cblxuICAgIHRoaXMuc3RhdGljQnVmZmVyLl91cGRhdGVJRCsrO1xufTtcblxuLyoqXG4gKiBEZXN0cm95cyB0aGUgUGFydGljbGVCdWZmZXIuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuUGFydGljbGVCdWZmZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95ICgpXG57XG4gICAgdGhpcy5pbmRleEJ1ZmZlciA9IG51bGw7XG5cbiAgICB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzID0gbnVsbDtcbiAgICAvLyB0aGlzLmR5bmFtaWNCdWZmZXIuZGVzdHJveSgpO1xuICAgIHRoaXMuZHluYW1pY0J1ZmZlciA9IG51bGw7XG4gICAgdGhpcy5keW5hbWljRGF0YSA9IG51bGw7XG4gICAgdGhpcy5keW5hbWljRGF0YVVpbnQzMiA9IG51bGw7XG5cbiAgICB0aGlzLnN0YXRpY1Byb3BlcnRpZXMgPSBudWxsO1xuICAgIC8vIHRoaXMuc3RhdGljQnVmZmVyLmRlc3Ryb3koKTtcbiAgICB0aGlzLnN0YXRpY0J1ZmZlciA9IG51bGw7XG4gICAgdGhpcy5zdGF0aWNEYXRhID0gbnVsbDtcbiAgICB0aGlzLnN0YXRpY0RhdGFVaW50MzIgPSBudWxsO1xuICAgIC8vIGFsbCBidWZmZXJzIGFyZSBkZXN0cm95ZWQgaW5zaWRlIGdlb21ldHJ5XG4gICAgdGhpcy5nZW9tZXRyeS5kZXN0cm95KCk7XG59O1xuXG52YXIgdmVydGV4ID0gXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5hdHRyaWJ1dGUgdmVjNCBhQ29sb3I7XFxuXFxuYXR0cmlidXRlIHZlYzIgYVBvc2l0aW9uQ29vcmQ7XFxuYXR0cmlidXRlIGZsb2F0IGFSb3RhdGlvbjtcXG5cXG51bmlmb3JtIG1hdDMgdHJhbnNsYXRpb25NYXRyaXg7XFxudW5pZm9ybSB2ZWM0IHVDb2xvcjtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xcblxcbnZvaWQgbWFpbih2b2lkKXtcXG4gICAgZmxvYXQgeCA9IChhVmVydGV4UG9zaXRpb24ueCkgKiBjb3MoYVJvdGF0aW9uKSAtIChhVmVydGV4UG9zaXRpb24ueSkgKiBzaW4oYVJvdGF0aW9uKTtcXG4gICAgZmxvYXQgeSA9IChhVmVydGV4UG9zaXRpb24ueCkgKiBzaW4oYVJvdGF0aW9uKSArIChhVmVydGV4UG9zaXRpb24ueSkgKiBjb3MoYVJvdGF0aW9uKTtcXG5cXG4gICAgdmVjMiB2ID0gdmVjMih4LCB5KTtcXG4gICAgdiA9IHYgKyBhUG9zaXRpb25Db29yZDtcXG5cXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KCh0cmFuc2xhdGlvbk1hdHJpeCAqIHZlYzModiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG5cXG4gICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxuICAgIHZDb2xvciA9IGFDb2xvciAqIHVDb2xvcjtcXG59XFxuXCI7XG5cbnZhciBmcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG5cXG52b2lkIG1haW4odm9pZCl7XFxuICAgIHZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpICogdkNvbG9yO1xcbiAgICBnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG59XCI7XG5cbi8qKlxuICogQGF1dGhvciBNYXQgR3JvdmVzXG4gKlxuICogQmlnIHRoYW5rcyB0byB0aGUgdmVyeSBjbGV2ZXIgTWF0dCBEZXNMYXVyaWVycyA8bWF0dGRlc2w+IGh0dHBzOi8vZ2l0aHViLmNvbS9tYXR0ZGVzbC9cbiAqIGZvciBjcmVhdGluZyB0aGUgb3JpZ2luYWwgUGl4aUpTIHZlcnNpb24hXG4gKiBBbHNvIGEgdGhhbmtzIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9iY2hldmFsaWVyIGZvciB0d2Vha2luZyB0aGUgdGludCBhbmQgYWxwaGEgc28gdGhhdCB0aGV5IG5vd1xuICogc2hhcmUgNCBieXRlcyBvbiB0aGUgdmVydGV4IGJ1ZmZlclxuICpcbiAqIEhlYXZpbHkgaW5zcGlyZWQgYnkgTGliR0RYJ3MgUGFydGljbGVSZW5kZXJlcjpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9saWJnZHgvbGliZ2R4L2Jsb2IvbWFzdGVyL2dkeC9zcmMvY29tL2JhZGxvZ2ljL2dkeC9ncmFwaGljcy9nMmQvUGFydGljbGVSZW5kZXJlci5qYXZhXG4gKi9cblxuLyoqXG4gKiBSZW5kZXJlciBmb3IgUGFydGljbGVzIHRoYXQgaXMgZGVzaWduZXIgZm9yIHNwZWVkIG92ZXIgZmVhdHVyZSBzZXQuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUGFydGljbGVSZW5kZXJlciA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKE9iamVjdFJlbmRlcmVyKSB7XG4gICAgZnVuY3Rpb24gUGFydGljbGVSZW5kZXJlcihyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIE9iamVjdFJlbmRlcmVyLmNhbGwodGhpcywgcmVuZGVyZXIpO1xuXG4gICAgICAgIC8vIDY1NTM1IGlzIG1heCB2ZXJ0ZXggaW5kZXggaW4gdGhlIGluZGV4IGJ1ZmZlciAoc2VlIFBhcnRpY2xlUmVuZGVyZXIpXG4gICAgICAgIC8vIHNvIG1heCBudW1iZXIgb2YgcGFydGljbGVzIGlzIDY1NTM2IC8gNCA9IDE2Mzg0XG4gICAgICAgIC8vIGFuZCBtYXggbnVtYmVyIG9mIGVsZW1lbnQgaW4gdGhlIGluZGV4IGJ1ZmZlciBpcyAxNjM4NCAqIDYgPSA5ODMwNFxuICAgICAgICAvLyBDcmVhdGluZyBhIGZ1bGwgaW5kZXggYnVmZmVyLCBvdmVyaGVhZCBpcyA5ODMwNCAqIDIgPSAxOTZLb1xuICAgICAgICAvLyBsZXQgbnVtSW5kaWNlcyA9IDk4MzA0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBzaGFkZXIgdGhhdCBpcyB1c2VkIGlmIGEgc3ByaXRlIGRvZXNuJ3QgaGF2ZSBhIG1vcmUgc3BlY2lmaWMgb25lLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNoYWRlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2hhZGVyID0gbnVsbDtcblxuICAgICAgICB0aGlzLnByb3BlcnRpZXMgPSBudWxsO1xuXG4gICAgICAgIHRoaXMudGVtcE1hdHJpeCA9IG5ldyBNYXRyaXgoKTtcblxuICAgICAgICB0aGlzLnByb3BlcnRpZXMgPSBbXG4gICAgICAgICAgICAvLyB2ZXJ0aWNlc0RhdGFcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lOiAnYVZlcnRleFBvc2l0aW9uJyxcbiAgICAgICAgICAgICAgICBzaXplOiAyLFxuICAgICAgICAgICAgICAgIHVwbG9hZEZ1bmN0aW9uOiB0aGlzLnVwbG9hZFZlcnRpY2VzLFxuICAgICAgICAgICAgICAgIG9mZnNldDogMCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBwb3NpdGlvbkRhdGFcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lOiAnYVBvc2l0aW9uQ29vcmQnLFxuICAgICAgICAgICAgICAgIHNpemU6IDIsXG4gICAgICAgICAgICAgICAgdXBsb2FkRnVuY3Rpb246IHRoaXMudXBsb2FkUG9zaXRpb24sXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIHJvdGF0aW9uRGF0YVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU6ICdhUm90YXRpb24nLFxuICAgICAgICAgICAgICAgIHNpemU6IDEsXG4gICAgICAgICAgICAgICAgdXBsb2FkRnVuY3Rpb246IHRoaXMudXBsb2FkUm90YXRpb24sXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIHV2c0RhdGFcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lOiAnYVRleHR1cmVDb29yZCcsXG4gICAgICAgICAgICAgICAgc2l6ZTogMixcbiAgICAgICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogdGhpcy51cGxvYWRVdnMsXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIHRpbnREYXRhXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZTogJ2FDb2xvcicsXG4gICAgICAgICAgICAgICAgc2l6ZTogMSxcbiAgICAgICAgICAgICAgICB0eXBlOiBUWVBFUy5VTlNJR05FRF9CWVRFLFxuICAgICAgICAgICAgICAgIHVwbG9hZEZ1bmN0aW9uOiB0aGlzLnVwbG9hZFRpbnQsXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgICAgfSBdO1xuXG4gICAgICAgIHRoaXMuc2hhZGVyID0gU2hhZGVyLmZyb20odmVydGV4LCBmcmFnbWVudCwge30pO1xuICAgIH1cblxuICAgIGlmICggT2JqZWN0UmVuZGVyZXIgKSBQYXJ0aWNsZVJlbmRlcmVyLl9fcHJvdG9fXyA9IE9iamVjdFJlbmRlcmVyO1xuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggT2JqZWN0UmVuZGVyZXIgJiYgT2JqZWN0UmVuZGVyZXIucHJvdG90eXBlICk7XG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBQYXJ0aWNsZVJlbmRlcmVyO1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgcGFydGljbGUgY29udGFpbmVyIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5QYXJ0aWNsZUNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciB0byByZW5kZXIgdXNpbmcgdGhpcyBQYXJ0aWNsZVJlbmRlcmVyXG4gICAgICovXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyIChjb250YWluZXIpXG4gICAge1xuICAgICAgICB2YXIgY2hpbGRyZW4gPSBjb250YWluZXIuY2hpbGRyZW47XG4gICAgICAgIHZhciBtYXhTaXplID0gY29udGFpbmVyLl9tYXhTaXplO1xuICAgICAgICB2YXIgYmF0Y2hTaXplID0gY29udGFpbmVyLl9iYXRjaFNpemU7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHZhciB0b3RhbENoaWxkcmVuID0gY2hpbGRyZW4ubGVuZ3RoO1xuXG4gICAgICAgIGlmICh0b3RhbENoaWxkcmVuID09PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodG90YWxDaGlsZHJlbiA+IG1heFNpemUgJiYgIWNvbnRhaW5lci5hdXRvUmVzaXplKVxuICAgICAgICB7XG4gICAgICAgICAgICB0b3RhbENoaWxkcmVuID0gbWF4U2l6ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBidWZmZXJzID0gY29udGFpbmVyLl9idWZmZXJzO1xuXG4gICAgICAgIGlmICghYnVmZmVycylcbiAgICAgICAge1xuICAgICAgICAgICAgYnVmZmVycyA9IGNvbnRhaW5lci5fYnVmZmVycyA9IHRoaXMuZ2VuZXJhdGVCdWZmZXJzKGNvbnRhaW5lcik7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSBjaGlsZHJlblswXS5fdGV4dHVyZS5iYXNlVGV4dHVyZTtcblxuICAgICAgICAvLyBpZiB0aGUgdXZzIGhhdmUgbm90IHVwZGF0ZWQgdGhlbiBubyBwb2ludCByZW5kZXJpbmcganVzdCB5ZXQhXG4gICAgICAgIHRoaXMucmVuZGVyZXIuc3RhdGUuc2V0QmxlbmRNb2RlKGNvcnJlY3RCbGVuZE1vZGUoY29udGFpbmVyLmJsZW5kTW9kZSwgYmFzZVRleHR1cmUucHJlbXVsdGlwbHlBbHBoYSkpO1xuXG4gICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuXG4gICAgICAgIHZhciBtID0gY29udGFpbmVyLndvcmxkVHJhbnNmb3JtLmNvcHlUbyh0aGlzLnRlbXBNYXRyaXgpO1xuXG4gICAgICAgIG0ucHJlcGVuZChyZW5kZXJlci5nbG9iYWxVbmlmb3Jtcy51bmlmb3Jtcy5wcm9qZWN0aW9uTWF0cml4KTtcblxuICAgICAgICB0aGlzLnNoYWRlci51bmlmb3Jtcy50cmFuc2xhdGlvbk1hdHJpeCA9IG0udG9BcnJheSh0cnVlKTtcblxuICAgICAgICB0aGlzLnNoYWRlci51bmlmb3Jtcy51Q29sb3IgPSBwcmVtdWx0aXBseVJnYmEoY29udGFpbmVyLnRpbnRSZ2IsXG4gICAgICAgICAgICBjb250YWluZXIud29ybGRBbHBoYSwgdGhpcy5zaGFkZXIudW5pZm9ybXMudUNvbG9yLCBiYXNlVGV4dHVyZS5wcmVtdWx0aXBseUFscGhhKTtcblxuICAgICAgICB0aGlzLnNoYWRlci51bmlmb3Jtcy51U2FtcGxlciA9IGJhc2VUZXh0dXJlO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2hhZGVyLmJpbmQodGhpcy5zaGFkZXIpO1xuXG4gICAgICAgIHZhciB1cGRhdGVTdGF0aWMgPSBmYWxzZTtcblxuICAgICAgICAvLyBub3cgbGV0cyB1cGxvYWQgYW5kIHJlbmRlciB0aGUgYnVmZmVycy4uXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gMDsgaSA8IHRvdGFsQ2hpbGRyZW47IGkgKz0gYmF0Y2hTaXplLCBqICs9IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBhbW91bnQgPSAodG90YWxDaGlsZHJlbiAtIGkpO1xuXG4gICAgICAgICAgICBpZiAoYW1vdW50ID4gYmF0Y2hTaXplKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGFtb3VudCA9IGJhdGNoU2l6ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGogPj0gYnVmZmVycy5sZW5ndGgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYnVmZmVycy5wdXNoKHRoaXMuX2dlbmVyYXRlT25lTW9yZUJ1ZmZlcihjb250YWluZXIpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IGJ1ZmZlcnNbal07XG5cbiAgICAgICAgICAgIC8vIHdlIGFsd2F5cyB1cGxvYWQgdGhlIGR5bmFtaWNcbiAgICAgICAgICAgIGJ1ZmZlci51cGxvYWREeW5hbWljKGNoaWxkcmVuLCBpLCBhbW91bnQpO1xuXG4gICAgICAgICAgICB2YXIgYmlkID0gY29udGFpbmVyLl9idWZmZXJVcGRhdGVJRHNbal0gfHwgMDtcblxuICAgICAgICAgICAgdXBkYXRlU3RhdGljID0gdXBkYXRlU3RhdGljIHx8IChidWZmZXIuX3VwZGF0ZUlEIDwgYmlkKTtcbiAgICAgICAgICAgIC8vIHdlIG9ubHkgdXBsb2FkIHRoZSBzdGF0aWMgY29udGVudCB3aGVuIHdlIGhhdmUgdG8hXG4gICAgICAgICAgICBpZiAodXBkYXRlU3RhdGljKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJ1ZmZlci5fdXBkYXRlSUQgPSBjb250YWluZXIuX3VwZGF0ZUlEO1xuICAgICAgICAgICAgICAgIGJ1ZmZlci51cGxvYWRTdGF0aWMoY2hpbGRyZW4sIGksIGFtb3VudCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGJpbmQgdGhlIGJ1ZmZlclxuICAgICAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuYmluZChidWZmZXIuZ2VvbWV0cnkpO1xuICAgICAgICAgICAgZ2wuZHJhd0VsZW1lbnRzKGdsLlRSSUFOR0xFUywgYW1vdW50ICogNiwgZ2wuVU5TSUdORURfU0hPUlQsIDApO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgb25lIHBhcnRpY2xlIGJ1ZmZlciBmb3IgZWFjaCBjaGlsZCBpbiB0aGUgY29udGFpbmVyIHdlIHdhbnQgdG8gcmVuZGVyIGFuZCB1cGRhdGVzIGludGVybmFsIHByb3BlcnRpZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5QYXJ0aWNsZUNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciB0byByZW5kZXIgdXNpbmcgdGhpcyBQYXJ0aWNsZVJlbmRlcmVyXG4gICAgICogQHJldHVybiB7UElYSS5QYXJ0aWNsZUJ1ZmZlcltdfSBUaGUgYnVmZmVyc1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUuZ2VuZXJhdGVCdWZmZXJzID0gZnVuY3Rpb24gZ2VuZXJhdGVCdWZmZXJzIChjb250YWluZXIpXG4gICAge1xuICAgICAgICB2YXIgYnVmZmVycyA9IFtdO1xuICAgICAgICB2YXIgc2l6ZSA9IGNvbnRhaW5lci5fbWF4U2l6ZTtcbiAgICAgICAgdmFyIGJhdGNoU2l6ZSA9IGNvbnRhaW5lci5fYmF0Y2hTaXplO1xuICAgICAgICB2YXIgZHluYW1pY1Byb3BlcnR5RmxhZ3MgPSBjb250YWluZXIuX3Byb3BlcnRpZXM7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpICs9IGJhdGNoU2l6ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgYnVmZmVycy5wdXNoKG5ldyBQYXJ0aWNsZUJ1ZmZlcih0aGlzLnByb3BlcnRpZXMsIGR5bmFtaWNQcm9wZXJ0eUZsYWdzLCBiYXRjaFNpemUpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBidWZmZXJzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIG9uZSBtb3JlIHBhcnRpY2xlIGJ1ZmZlciwgYmVjYXVzZSBjb250YWluZXIgaGFzIGF1dG9SZXNpemUgZmVhdHVyZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBhcnRpY2xlQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIHRvIHJlbmRlciB1c2luZyB0aGlzIFBhcnRpY2xlUmVuZGVyZXJcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBhcnRpY2xlQnVmZmVyfSBnZW5lcmF0ZWQgYnVmZmVyXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS5fZ2VuZXJhdGVPbmVNb3JlQnVmZmVyID0gZnVuY3Rpb24gX2dlbmVyYXRlT25lTW9yZUJ1ZmZlciAoY29udGFpbmVyKVxuICAgIHtcbiAgICAgICAgdmFyIGJhdGNoU2l6ZSA9IGNvbnRhaW5lci5fYmF0Y2hTaXplO1xuICAgICAgICB2YXIgZHluYW1pY1Byb3BlcnR5RmxhZ3MgPSBjb250YWluZXIuX3Byb3BlcnRpZXM7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQYXJ0aWNsZUJ1ZmZlcih0aGlzLnByb3BlcnRpZXMsIGR5bmFtaWNQcm9wZXJ0eUZsYWdzLCBiYXRjaFNpemUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSB2ZXJ0aWNlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gdGhlIGFycmF5IG9mIGRpc3BsYXkgb2JqZWN0cyB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIHRoZSBpbmRleCB0byBzdGFydCBmcm9tIGluIHRoZSBjaGlsZHJlbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSB0aGUgYW1vdW50IG9mIGNoaWxkcmVuIHRoYXQgd2lsbCBoYXZlIHRoZWlyIHZlcnRpY2VzIHVwbG9hZGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYXJyYXkgLSBUaGUgdmVydGljZXMgdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgLSBTdHJpZGUgdG8gdXNlIGZvciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCAtIE9mZnNldCB0byBzdGFydCBhdC5cbiAgICAgKi9cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS51cGxvYWRWZXJ0aWNlcyA9IGZ1bmN0aW9uIHVwbG9hZFZlcnRpY2VzIChjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpXG4gICAge1xuICAgICAgICB2YXIgdzAgPSAwO1xuICAgICAgICB2YXIgdzEgPSAwO1xuICAgICAgICB2YXIgaDAgPSAwO1xuICAgICAgICB2YXIgaDEgPSAwO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW1vdW50OyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBzcHJpdGUgPSBjaGlsZHJlbltzdGFydEluZGV4ICsgaV07XG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IHNwcml0ZS5fdGV4dHVyZTtcbiAgICAgICAgICAgIHZhciBzeCA9IHNwcml0ZS5zY2FsZS54O1xuICAgICAgICAgICAgdmFyIHN5ID0gc3ByaXRlLnNjYWxlLnk7XG4gICAgICAgICAgICB2YXIgdHJpbSA9IHRleHR1cmUudHJpbTtcbiAgICAgICAgICAgIHZhciBvcmlnID0gdGV4dHVyZS5vcmlnO1xuXG4gICAgICAgICAgICBpZiAodHJpbSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgc3ByaXRlIGlzIHRyaW1tZWQgYW5kIGlzIG5vdCBhIHRpbGluZ3Nwcml0ZSB0aGVuIHdlIG5lZWQgdG8gYWRkIHRoZVxuICAgICAgICAgICAgICAgIC8vIGV4dHJhIHNwYWNlIGJlZm9yZSB0cmFuc2Zvcm1pbmcgdGhlIHNwcml0ZSBjb29yZHMuLlxuICAgICAgICAgICAgICAgIHcxID0gdHJpbS54IC0gKHNwcml0ZS5hbmNob3IueCAqIG9yaWcud2lkdGgpO1xuICAgICAgICAgICAgICAgIHcwID0gdzEgKyB0cmltLndpZHRoO1xuXG4gICAgICAgICAgICAgICAgaDEgPSB0cmltLnkgLSAoc3ByaXRlLmFuY2hvci55ICogb3JpZy5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIGgwID0gaDEgKyB0cmltLmhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB3MCA9IChvcmlnLndpZHRoKSAqICgxIC0gc3ByaXRlLmFuY2hvci54KTtcbiAgICAgICAgICAgICAgICB3MSA9IChvcmlnLndpZHRoKSAqIC1zcHJpdGUuYW5jaG9yLng7XG5cbiAgICAgICAgICAgICAgICBoMCA9IG9yaWcuaGVpZ2h0ICogKDEgLSBzcHJpdGUuYW5jaG9yLnkpO1xuICAgICAgICAgICAgICAgIGgxID0gb3JpZy5oZWlnaHQgKiAtc3ByaXRlLmFuY2hvci55O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gdzEgKiBzeDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIDFdID0gaDEgKiBzeTtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IHcwICogc3g7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKyAxXSA9IGgxICogc3k7XG5cbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKV0gPSB3MCAqIHN4O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDIpICsgMV0gPSBoMCAqIHN5O1xuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMyldID0gdzEgKiBzeDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKSArIDFdID0gaDAgKiBzeTtcblxuICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBsb2FkcyB0aGUgcG9zaXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdFtdfSBjaGlsZHJlbiAtIHRoZSBhcnJheSBvZiBkaXNwbGF5IG9iamVjdHMgdG8gcmVuZGVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggLSB0aGUgaW5kZXggdG8gc3RhcnQgZnJvbSBpbiB0aGUgY2hpbGRyZW4gYXJyYXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gdGhlIGFtb3VudCBvZiBjaGlsZHJlbiB0aGF0IHdpbGwgaGF2ZSB0aGVpciBwb3NpdGlvbnMgdXBsb2FkZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhcnJheSAtIFRoZSB2ZXJ0aWNlcyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSAtIFN0cmlkZSB0byB1c2UgZm9yIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gT2Zmc2V0IHRvIHN0YXJ0IGF0LlxuICAgICAqL1xuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLnVwbG9hZFBvc2l0aW9uID0gZnVuY3Rpb24gdXBsb2FkUG9zaXRpb24gKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIGFycmF5LCBzdHJpZGUsIG9mZnNldClcbiAgICB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW1vdW50OyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBzcHJpdGVQb3NpdGlvbiA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXS5wb3NpdGlvbjtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0XSA9IHNwcml0ZVBvc2l0aW9uLng7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAxXSA9IHNwcml0ZVBvc2l0aW9uLnk7XG5cbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSBzcHJpdGVQb3NpdGlvbi54O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICsgMV0gPSBzcHJpdGVQb3NpdGlvbi55O1xuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMildID0gc3ByaXRlUG9zaXRpb24ueDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKSArIDFdID0gc3ByaXRlUG9zaXRpb24ueTtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDMpXSA9IHNwcml0ZVBvc2l0aW9uLng7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMykgKyAxXSA9IHNwcml0ZVBvc2l0aW9uLnk7XG5cbiAgICAgICAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIHJvdGlhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gdGhlIGFycmF5IG9mIGRpc3BsYXkgb2JqZWN0cyB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIHRoZSBpbmRleCB0byBzdGFydCBmcm9tIGluIHRoZSBjaGlsZHJlbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSB0aGUgYW1vdW50IG9mIGNoaWxkcmVuIHRoYXQgd2lsbCBoYXZlIHRoZWlyIHJvdGF0aW9uIHVwbG9hZGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYXJyYXkgLSBUaGUgdmVydGljZXMgdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgLSBTdHJpZGUgdG8gdXNlIGZvciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCAtIE9mZnNldCB0byBzdGFydCBhdC5cbiAgICAgKi9cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS51cGxvYWRSb3RhdGlvbiA9IGZ1bmN0aW9uIHVwbG9hZFJvdGF0aW9uIChjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpXG4gICAge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFtb3VudDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgc3ByaXRlUm90YXRpb24gPSBjaGlsZHJlbltzdGFydEluZGV4ICsgaV0ucm90YXRpb247XG5cbiAgICAgICAgICAgIGFycmF5W29mZnNldF0gPSBzcHJpdGVSb3RhdGlvbjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSBzcHJpdGVSb3RhdGlvbjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKV0gPSBzcHJpdGVSb3RhdGlvbjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKV0gPSBzcHJpdGVSb3RhdGlvbjtcblxuICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBsb2FkcyB0aGUgVXZzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdFtdfSBjaGlsZHJlbiAtIHRoZSBhcnJheSBvZiBkaXNwbGF5IG9iamVjdHMgdG8gcmVuZGVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggLSB0aGUgaW5kZXggdG8gc3RhcnQgZnJvbSBpbiB0aGUgY2hpbGRyZW4gYXJyYXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gdGhlIGFtb3VudCBvZiBjaGlsZHJlbiB0aGF0IHdpbGwgaGF2ZSB0aGVpciByb3RhdGlvbiB1cGxvYWRlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGFycmF5IC0gVGhlIHZlcnRpY2VzIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIC0gU3RyaWRlIHRvIHVzZSBmb3IgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBPZmZzZXQgdG8gc3RhcnQgYXQuXG4gICAgICovXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUudXBsb2FkVXZzID0gZnVuY3Rpb24gdXBsb2FkVXZzIChjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpXG4gICAge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFtb3VudDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZVV2cyA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXS5fdGV4dHVyZS5fdXZzO1xuXG4gICAgICAgICAgICBpZiAodGV4dHVyZVV2cylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gdGV4dHVyZVV2cy54MDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAxXSA9IHRleHR1cmVVdnMueTA7XG5cbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGVdID0gdGV4dHVyZVV2cy54MTtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKyAxXSA9IHRleHR1cmVVdnMueTE7XG5cbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMildID0gdGV4dHVyZVV2cy54MjtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMikgKyAxXSA9IHRleHR1cmVVdnMueTI7XG5cbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMyldID0gdGV4dHVyZVV2cy54MztcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMykgKyAxXSA9IHRleHR1cmVVdnMueTM7XG5cbiAgICAgICAgICAgICAgICBvZmZzZXQgKz0gc3RyaWRlICogNDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPIHlvdSBrbm93IHRoaXMgY2FuIGJlIGVhc2llciFcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gMDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAxXSA9IDA7XG5cbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGVdID0gMDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKyAxXSA9IDA7XG5cbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMildID0gMDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMikgKyAxXSA9IDA7XG5cbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMyldID0gMDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMykgKyAxXSA9IDA7XG5cbiAgICAgICAgICAgICAgICBvZmZzZXQgKz0gc3RyaWRlICogNDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSB0aW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSB0aGUgYXJyYXkgb2YgZGlzcGxheSBvYmplY3RzIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gdGhlIGluZGV4IHRvIHN0YXJ0IGZyb20gaW4gdGhlIGNoaWxkcmVuIGFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIHRoZSBhbW91bnQgb2YgY2hpbGRyZW4gdGhhdCB3aWxsIGhhdmUgdGhlaXIgcm90YXRpb24gdXBsb2FkZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhcnJheSAtIFRoZSB2ZXJ0aWNlcyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSAtIFN0cmlkZSB0byB1c2UgZm9yIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gT2Zmc2V0IHRvIHN0YXJ0IGF0LlxuICAgICAqL1xuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLnVwbG9hZFRpbnQgPSBmdW5jdGlvbiB1cGxvYWRUaW50IChjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpXG4gICAge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFtb3VudDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgc3ByaXRlID0gY2hpbGRyZW5bc3RhcnRJbmRleCArIGldO1xuICAgICAgICAgICAgdmFyIHByZW11bHRpcGxpZWQgPSBzcHJpdGUuX3RleHR1cmUuYmFzZVRleHR1cmUucHJlbXVsdGlwbHlBbHBoYTtcbiAgICAgICAgICAgIHZhciBhbHBoYSA9IHNwcml0ZS5hbHBoYTtcbiAgICAgICAgICAgIC8vIHdlIGRvbnQgY2FsbCBleHRyYSBmdW5jdGlvbiBpZiBhbHBoYSBpcyAxLjAsIHRoYXQncyBmYXN0ZXJcbiAgICAgICAgICAgIHZhciBhcmdiID0gYWxwaGEgPCAxLjAgJiYgcHJlbXVsdGlwbGllZCA/IHByZW11bHRpcGx5VGludChzcHJpdGUuX3RpbnRSR0IsIGFscGhhKVxuICAgICAgICAgICAgICAgIDogc3ByaXRlLl90aW50UkdCICsgKGFscGhhICogMjU1IDw8IDI0KTtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0XSA9IGFyZ2I7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGVdID0gYXJnYjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKV0gPSBhcmdiO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDMpXSA9IGFyZ2I7XG5cbiAgICAgICAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBQYXJ0aWNsZVJlbmRlcmVyLlxuICAgICAqL1xuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95ICgpXG4gICAge1xuICAgICAgICBPYmplY3RSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIGlmICh0aGlzLnNoYWRlcilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zaGFkZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50ZW1wTWF0cml4ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFBhcnRpY2xlUmVuZGVyZXI7XG59KE9iamVjdFJlbmRlcmVyKSk7XG5cbmV4cG9ydCB7IFBhcnRpY2xlQ29udGFpbmVyLCBQYXJ0aWNsZVJlbmRlcmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXJ0aWNsZXMuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3Nwcml0ZXNoZWV0IC0gdjUuMS40XG4gKiBDb21waWxlZCBGcmksIDIwIFNlcCAyMDE5IDE3OjE3OjU5IFVUQ1xuICpcbiAqIEBwaXhpL3Nwcml0ZXNoZWV0IGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBnZXRSZXNvbHV0aW9uT2ZVcmwsIHVybCB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IExvYWRlclJlc291cmNlIH0gZnJvbSAnQHBpeGkvbG9hZGVycyc7XG5cbi8qKlxuICogVXRpbGl0eSBjbGFzcyBmb3IgbWFpbnRhaW5pbmcgcmVmZXJlbmNlIHRvIGEgY29sbGVjdGlvblxuICogb2YgVGV4dHVyZXMgb24gYSBzaW5nbGUgU3ByaXRlc2hlZXQuXG4gKlxuICogVG8gYWNjZXNzIGEgc3ByaXRlIHNoZWV0IGZyb20geW91ciBjb2RlIHBhc3MgaXRzIEpTT04gZGF0YSBmaWxlIHRvIFBpeGkncyBsb2FkZXI6XG4gKlxuICogYGBganNcbiAqIFBJWEkuTG9hZGVyLnNoYXJlZC5hZGQoXCJpbWFnZXMvc3ByaXRlc2hlZXQuanNvblwiKS5sb2FkKHNldHVwKTtcbiAqXG4gKiBmdW5jdGlvbiBzZXR1cCgpIHtcbiAqICAgbGV0IHNoZWV0ID0gUElYSS5Mb2FkZXIuc2hhcmVkLnJlc291cmNlc1tcImltYWdlcy9zcHJpdGVzaGVldC5qc29uXCJdLnNwcml0ZXNoZWV0O1xuICogICAuLi5cbiAqIH1cbiAqIGBgYFxuICogV2l0aCB0aGUgYHNoZWV0LnRleHR1cmVzYCB5b3UgY2FuIGNyZWF0ZSBTcHJpdGUgb2JqZWN0cyxgc2hlZXQuYW5pbWF0aW9uc2AgY2FuIGJlIHVzZWQgdG8gY3JlYXRlIGFuIEFuaW1hdGVkU3ByaXRlLlxuICpcbiAqIFNwcml0ZSBzaGVldHMgY2FuIGJlIHBhY2tlZCB1c2luZyB0b29scyBsaWtlIHtAbGluayBodHRwczovL2NvZGVhbmR3ZWIuY29tL3RleHR1cmVwYWNrZXJ8VGV4dHVyZVBhY2tlcn0sXG4gKiB7QGxpbmsgaHR0cHM6Ly9yZW5kZXJoanMubmV0L3Nob2Vib3gvfFNob2Vib3h9IG9yIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20va3J6eXN6dG9mLW8vc3ByaXRlc2hlZXQuanN8U3ByaXRlc2hlZXQuanN9LlxuICogRGVmYXVsdCBhbmNob3IgcG9pbnRzIChzZWUge0BsaW5rIFBJWEkuVGV4dHVyZSNkZWZhdWx0QW5jaG9yfSkgYW5kIGdyb3VwaW5nIG9mIGFuaW1hdGlvbiBzcHJpdGVzIGFyZSBjdXJyZW50bHkgb25seVxuICogc3VwcG9ydGVkIGJ5IFRleHR1cmVQYWNrZXIuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgU3ByaXRlc2hlZXQgPSBmdW5jdGlvbiBTcHJpdGVzaGVldChiYXNlVGV4dHVyZSwgZGF0YSwgcmVzb2x1dGlvbkZpbGVuYW1lKVxue1xuICAgIGlmICggcmVzb2x1dGlvbkZpbGVuYW1lID09PSB2b2lkIDAgKSByZXNvbHV0aW9uRmlsZW5hbWUgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogUmVmZXJlbmNlIHRvIHRocyBzb3VyY2UgdGV4dHVyZVxuICAgICAqIEB0eXBlIHtQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAqL1xuICAgIHRoaXMuYmFzZVRleHR1cmUgPSBiYXNlVGV4dHVyZTtcblxuICAgIC8qKlxuICAgICAqIEEgbWFwIGNvbnRhaW5pbmcgYWxsIHRleHR1cmVzIG9mIHRoZSBzcHJpdGUgc2hlZXQuXG4gICAgICogQ2FuIGJlIHVzZWQgdG8gY3JlYXRlIGEge0BsaW5rIFBJWEkuU3ByaXRlfFNwcml0ZX06XG4gICAgICogYGBganNcbiAgICAgKiBuZXcgUElYSS5TcHJpdGUoc2hlZXQudGV4dHVyZXNbXCJpbWFnZS5wbmdcIl0pO1xuICAgICAqIGBgYFxuICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLnRleHR1cmVzID0ge307XG5cbiAgICAvKipcbiAgICAgKiBBIG1hcCBjb250YWluaW5nIHRoZSB0ZXh0dXJlcyBmb3IgZWFjaCBhbmltYXRpb24uXG4gICAgICogQ2FuIGJlIHVzZWQgdG8gY3JlYXRlIGFuIHtAbGluayBQSVhJLkFuaW1hdGVkU3ByaXRlfEFuaW1hdGVkU3ByaXRlfTpcbiAgICAgKiBgYGBqc1xuICAgICAqIG5ldyBQSVhJLkFuaW1hdGVkU3ByaXRlKHNoZWV0LmFuaW1hdGlvbnNbXCJhbmltX25hbWVcIl0pXG4gICAgICogYGBgXG4gICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMuYW5pbWF0aW9ucyA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogUmVmZXJlbmNlIHRvIHRoZSBvcmlnaW5hbCBKU09OIGRhdGEuXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLmRhdGEgPSBkYXRhO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHJlc29sdXRpb24gb2YgdGhlIHNwcml0ZXNoZWV0LlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5yZXNvbHV0aW9uID0gdGhpcy5fdXBkYXRlUmVzb2x1dGlvbihcbiAgICAgICAgcmVzb2x1dGlvbkZpbGVuYW1lXG4gICAgICAgIHx8ICh0aGlzLmJhc2VUZXh0dXJlLnJlc291cmNlID8gdGhpcy5iYXNlVGV4dHVyZS5yZXNvdXJjZS51cmwgOiBudWxsKVxuICAgICk7XG5cbiAgICAvKipcbiAgICAgKiBNYXAgb2Ygc3ByaXRlc2hlZXQgZnJhbWVzLlxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9mcmFtZXMgPSB0aGlzLmRhdGEuZnJhbWVzO1xuXG4gICAgLyoqXG4gICAgICogQ29sbGVjdGlvbiBvZiBmcmFtZSBuYW1lcy5cbiAgICAgKiBAdHlwZSB7c3RyaW5nW119XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9mcmFtZUtleXMgPSBPYmplY3Qua2V5cyh0aGlzLl9mcmFtZXMpO1xuXG4gICAgLyoqXG4gICAgICogQ3VycmVudCBiYXRjaCBpbmRleCBiZWluZyBwcm9jZXNzZWQuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX2JhdGNoSW5kZXggPSAwO1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGJhY2sgd2hlbiBwYXJzZSBpcyBjb21wbGV0ZWQuXG4gICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fY2FsbGJhY2sgPSBudWxsO1xufTtcblxudmFyIHN0YXRpY0FjY2Vzc29ycyA9IHsgQkFUQ0hfU0laRTogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4vKipcbiAqIEdlbmVyYXRlIHRoZSByZXNvbHV0aW9uIGZyb20gdGhlIGZpbGVuYW1lIG9yIGZhbGxiYWNrXG4gKiB0byB0aGUgbWV0YS5zY2FsZSBmaWVsZCBvZiB0aGUgSlNPTiBkYXRhLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVzb2x1dGlvbkZpbGVuYW1lIC0gVGhlIGZpbGVuYW1lIHRvIHVzZSBmb3IgcmVzb2x2aW5nXG4gKiAgICB0aGUgZGVmYXVsdCByZXNvbHV0aW9uLlxuICogQHJldHVybiB7bnVtYmVyfSBSZXNvbHV0aW9uIHRvIHVzZSBmb3Igc3ByaXRlc2hlZXQuXG4gKi9cbnN0YXRpY0FjY2Vzc29ycy5CQVRDSF9TSVpFLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIDEwMDA7XG59O1xuXG5TcHJpdGVzaGVldC5wcm90b3R5cGUuX3VwZGF0ZVJlc29sdXRpb24gPSBmdW5jdGlvbiBfdXBkYXRlUmVzb2x1dGlvbiAocmVzb2x1dGlvbkZpbGVuYW1lKVxue1xuICAgIHZhciBzY2FsZSA9IHRoaXMuZGF0YS5tZXRhLnNjYWxlO1xuXG4gICAgLy8gVXNlIGEgZGVmYXVsdFZhbHVlIG9mIGBudWxsYCB0byBjaGVjayBpZiBhIHVybC1iYXNlZCByZXNvbHV0aW9uIGlzIHNldFxuICAgIHZhciByZXNvbHV0aW9uID0gZ2V0UmVzb2x1dGlvbk9mVXJsKHJlc29sdXRpb25GaWxlbmFtZSwgbnVsbCk7XG5cbiAgICAvLyBObyByZXNvbHV0aW9uIGZvdW5kIHZpYSBVUkxcbiAgICBpZiAocmVzb2x1dGlvbiA9PT0gbnVsbClcbiAgICB7XG4gICAgICAgIC8vIFVzZSB0aGUgc2NhbGUgdmFsdWUgb3IgZGVmYXVsdCB0byAxXG4gICAgICAgIHJlc29sdXRpb24gPSBzY2FsZSAhPT0gdW5kZWZpbmVkID8gcGFyc2VGbG9hdChzY2FsZSkgOiAxO1xuICAgIH1cblxuICAgIC8vIEZvciBub24tMSByZXNvbHV0aW9ucywgdXBkYXRlIGJhc2VUZXh0dXJlXG4gICAgaWYgKHJlc29sdXRpb24gIT09IDEpXG4gICAge1xuICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLnNldFJlc29sdXRpb24ocmVzb2x1dGlvbik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc29sdXRpb247XG59O1xuXG4vKipcbiAqIFBhcnNlciBzcHJpdGVzaGVldCBmcm9tIGxvYWRlZCBkYXRhLiBUaGlzIGlzIGRvbmUgYXN5bmNocm9ub3VzbHlcbiAqIHRvIHByZXZlbnQgY3JlYXRpbmcgdG9vIG1hbnkgVGV4dHVyZSB3aXRoaW4gYSBzaW5nbGUgcHJvY2Vzcy5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIENhbGxiYWNrIHdoZW4gY29tcGxldGUgcmV0dXJuc1xuICogICAgYSBtYXAgb2YgdGhlIFRleHR1cmVzIGZvciB0aGlzIHNwcml0ZXNoZWV0LlxuICovXG5TcHJpdGVzaGVldC5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbiBwYXJzZSAoY2FsbGJhY2spXG57XG4gICAgdGhpcy5fYmF0Y2hJbmRleCA9IDA7XG4gICAgdGhpcy5fY2FsbGJhY2sgPSBjYWxsYmFjaztcblxuICAgIGlmICh0aGlzLl9mcmFtZUtleXMubGVuZ3RoIDw9IFNwcml0ZXNoZWV0LkJBVENIX1NJWkUpXG4gICAge1xuICAgICAgICB0aGlzLl9wcm9jZXNzRnJhbWVzKDApO1xuICAgICAgICB0aGlzLl9wcm9jZXNzQW5pbWF0aW9ucygpO1xuICAgICAgICB0aGlzLl9wYXJzZUNvbXBsZXRlKCk7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIHRoaXMuX25leHRCYXRjaCgpO1xuICAgIH1cbn07XG5cbi8qKlxuICogUHJvY2VzcyBhIGJhdGNoIG9mIGZyYW1lc1xuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gaW5pdGlhbEZyYW1lSW5kZXggLSBUaGUgaW5kZXggb2YgZnJhbWUgdG8gc3RhcnQuXG4gKi9cblNwcml0ZXNoZWV0LnByb3RvdHlwZS5fcHJvY2Vzc0ZyYW1lcyA9IGZ1bmN0aW9uIF9wcm9jZXNzRnJhbWVzIChpbml0aWFsRnJhbWVJbmRleClcbntcbiAgICB2YXIgZnJhbWVJbmRleCA9IGluaXRpYWxGcmFtZUluZGV4O1xuICAgIHZhciBtYXhGcmFtZXMgPSBTcHJpdGVzaGVldC5CQVRDSF9TSVpFO1xuXG4gICAgd2hpbGUgKGZyYW1lSW5kZXggLSBpbml0aWFsRnJhbWVJbmRleCA8IG1heEZyYW1lcyAmJiBmcmFtZUluZGV4IDwgdGhpcy5fZnJhbWVLZXlzLmxlbmd0aClcbiAgICB7XG4gICAgICAgIHZhciBpID0gdGhpcy5fZnJhbWVLZXlzW2ZyYW1lSW5kZXhdO1xuICAgICAgICB2YXIgZGF0YSA9IHRoaXMuX2ZyYW1lc1tpXTtcbiAgICAgICAgdmFyIHJlY3QgPSBkYXRhLmZyYW1lO1xuXG4gICAgICAgIGlmIChyZWN0KVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgZnJhbWUgPSBudWxsO1xuICAgICAgICAgICAgdmFyIHRyaW0gPSBudWxsO1xuICAgICAgICAgICAgdmFyIHNvdXJjZVNpemUgPSBkYXRhLnRyaW1tZWQgIT09IGZhbHNlICYmIGRhdGEuc291cmNlU2l6ZVxuICAgICAgICAgICAgICAgID8gZGF0YS5zb3VyY2VTaXplIDogZGF0YS5mcmFtZTtcblxuICAgICAgICAgICAgdmFyIG9yaWcgPSBuZXcgUmVjdGFuZ2xlKFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICBNYXRoLmZsb29yKHNvdXJjZVNpemUudykgLyB0aGlzLnJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgTWF0aC5mbG9vcihzb3VyY2VTaXplLmgpIC8gdGhpcy5yZXNvbHV0aW9uXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBpZiAoZGF0YS5yb3RhdGVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZyYW1lID0gbmV3IFJlY3RhbmdsZShcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihyZWN0LngpIC8gdGhpcy5yZXNvbHV0aW9uLFxuICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKHJlY3QueSkgLyB0aGlzLnJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgICAgIE1hdGguZmxvb3IocmVjdC5oKSAvIHRoaXMucmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihyZWN0LncpIC8gdGhpcy5yZXNvbHV0aW9uXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmcmFtZSA9IG5ldyBSZWN0YW5nbGUoXG4gICAgICAgICAgICAgICAgICAgIE1hdGguZmxvb3IocmVjdC54KSAvIHRoaXMucmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihyZWN0LnkpIC8gdGhpcy5yZXNvbHV0aW9uLFxuICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKHJlY3QudykgLyB0aGlzLnJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgICAgIE1hdGguZmxvb3IocmVjdC5oKSAvIHRoaXMucmVzb2x1dGlvblxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vICBDaGVjayB0byBzZWUgaWYgdGhlIHNwcml0ZSBpcyB0cmltbWVkXG4gICAgICAgICAgICBpZiAoZGF0YS50cmltbWVkICE9PSBmYWxzZSAmJiBkYXRhLnNwcml0ZVNvdXJjZVNpemUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHJpbSA9IG5ldyBSZWN0YW5nbGUoXG4gICAgICAgICAgICAgICAgICAgIE1hdGguZmxvb3IoZGF0YS5zcHJpdGVTb3VyY2VTaXplLngpIC8gdGhpcy5yZXNvbHV0aW9uLFxuICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKGRhdGEuc3ByaXRlU291cmNlU2l6ZS55KSAvIHRoaXMucmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihyZWN0LncpIC8gdGhpcy5yZXNvbHV0aW9uLFxuICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKHJlY3QuaCkgLyB0aGlzLnJlc29sdXRpb25cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnRleHR1cmVzW2ldID0gbmV3IFRleHR1cmUoXG4gICAgICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZSxcbiAgICAgICAgICAgICAgICBmcmFtZSxcbiAgICAgICAgICAgICAgICBvcmlnLFxuICAgICAgICAgICAgICAgIHRyaW0sXG4gICAgICAgICAgICAgICAgZGF0YS5yb3RhdGVkID8gMiA6IDAsXG4gICAgICAgICAgICAgICAgZGF0YS5hbmNob3JcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIC8vIGxldHMgYWxzbyBhZGQgdGhlIGZyYW1lIHRvIHBpeGkncyBnbG9iYWwgY2FjaGUgZm9yICdmcm9tJyBhbmQgJ2Zyb21Mb2FkZXInIGZ1bmN0aW9uc1xuICAgICAgICAgICAgVGV4dHVyZS5hZGRUb0NhY2hlKHRoaXMudGV4dHVyZXNbaV0sIGkpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnJhbWVJbmRleCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogUGFyc2UgYW5pbWF0aW9ucyBjb25maWdcbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5TcHJpdGVzaGVldC5wcm90b3R5cGUuX3Byb2Nlc3NBbmltYXRpb25zID0gZnVuY3Rpb24gX3Byb2Nlc3NBbmltYXRpb25zICgpXG57XG4gICAgdmFyIGFuaW1hdGlvbnMgPSB0aGlzLmRhdGEuYW5pbWF0aW9ucyB8fCB7fTtcblxuICAgIGZvciAodmFyIGFuaW1OYW1lIGluIGFuaW1hdGlvbnMpXG4gICAge1xuICAgICAgICB0aGlzLmFuaW1hdGlvbnNbYW5pbU5hbWVdID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW5pbWF0aW9uc1thbmltTmFtZV0ubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBmcmFtZU5hbWUgPSBhbmltYXRpb25zW2FuaW1OYW1lXVtpXTtcblxuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25zW2FuaW1OYW1lXS5wdXNoKHRoaXMudGV4dHVyZXNbZnJhbWVOYW1lXSk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG4vKipcbiAqIFRoZSBwYXJzZSBoYXMgY29tcGxldGVkLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cblNwcml0ZXNoZWV0LnByb3RvdHlwZS5fcGFyc2VDb21wbGV0ZSA9IGZ1bmN0aW9uIF9wYXJzZUNvbXBsZXRlICgpXG57XG4gICAgdmFyIGNhbGxiYWNrID0gdGhpcy5fY2FsbGJhY2s7XG5cbiAgICB0aGlzLl9jYWxsYmFjayA9IG51bGw7XG4gICAgdGhpcy5fYmF0Y2hJbmRleCA9IDA7XG4gICAgY2FsbGJhY2suY2FsbCh0aGlzLCB0aGlzLnRleHR1cmVzKTtcbn07XG5cbi8qKlxuICogQmVnaW4gdGhlIG5leHQgYmF0Y2ggb2YgdGV4dHVyZXMuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuU3ByaXRlc2hlZXQucHJvdG90eXBlLl9uZXh0QmF0Y2ggPSBmdW5jdGlvbiBfbmV4dEJhdGNoICgpXG57XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgdGhpcy5fcHJvY2Vzc0ZyYW1lcyh0aGlzLl9iYXRjaEluZGV4ICogU3ByaXRlc2hlZXQuQkFUQ0hfU0laRSk7XG4gICAgdGhpcy5fYmF0Y2hJbmRleCsrO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcyQxLl9iYXRjaEluZGV4ICogU3ByaXRlc2hlZXQuQkFUQ0hfU0laRSA8IHRoaXMkMS5fZnJhbWVLZXlzLmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcyQxLl9uZXh0QmF0Y2goKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMkMS5fcHJvY2Vzc0FuaW1hdGlvbnMoKTtcbiAgICAgICAgICAgIHRoaXMkMS5fcGFyc2VDb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfSwgMCk7XG59O1xuXG4vKipcbiAqIERlc3Ryb3kgU3ByaXRlc2hlZXQgYW5kIGRvbid0IHVzZSBhZnRlciB0aGlzLlxuICpcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Rlc3Ryb3lCYXNlPWZhbHNlXSBXaGV0aGVyIHRvIGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBhcyB3ZWxsXG4gKi9cblNwcml0ZXNoZWV0LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoZGVzdHJveUJhc2UpXG57XG4gICAgICAgIGlmICggZGVzdHJveUJhc2UgPT09IHZvaWQgMCApIGRlc3Ryb3lCYXNlID0gZmFsc2U7XG5cbiAgICBmb3IgKHZhciBpIGluIHRoaXMudGV4dHVyZXMpXG4gICAge1xuICAgICAgICB0aGlzLnRleHR1cmVzW2ldLmRlc3Ryb3koKTtcbiAgICB9XG4gICAgdGhpcy5fZnJhbWVzID0gbnVsbDtcbiAgICB0aGlzLl9mcmFtZUtleXMgPSBudWxsO1xuICAgIHRoaXMuZGF0YSA9IG51bGw7XG4gICAgdGhpcy50ZXh0dXJlcyA9IG51bGw7XG4gICAgaWYgKGRlc3Ryb3lCYXNlKVxuICAgIHtcbiAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5kZXN0cm95KCk7XG4gICAgfVxuICAgIHRoaXMuYmFzZVRleHR1cmUgPSBudWxsO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIFNwcml0ZXNoZWV0LCBzdGF0aWNBY2Nlc3NvcnMgKTtcblxuLyoqXG4gKiB7QGxpbmsgUElYSS5Mb2FkZXIgTG9hZGVyfSBtaWRkbGV3YXJlIGZvciBsb2FkaW5nIHRleHR1cmUgYXRsYXNlcyB0aGF0IGhhdmUgYmVlbiBjcmVhdGVkIHdpdGhcbiAqIFRleHR1cmVQYWNrZXIgb3Igc2ltaWxhciBKU09OLWJhc2VkIHNwcml0ZXNoZWV0LlxuICpcbiAqIFRoaXMgbWlkZGxld2FyZSBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlcyBUZXh0dXJlIHJlc291cmNlcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAaW1wbGVtZW50cyBQSVhJLklMb2FkZXJQbHVnaW5cbiAqL1xudmFyIFNwcml0ZXNoZWV0TG9hZGVyID0gZnVuY3Rpb24gU3ByaXRlc2hlZXRMb2FkZXIgKCkge307XG5cblNwcml0ZXNoZWV0TG9hZGVyLnVzZSA9IGZ1bmN0aW9uIHVzZSAocmVzb3VyY2UsIG5leHQpXG57XG4gICAgdmFyIGltYWdlUmVzb3VyY2VOYW1lID0gKHJlc291cmNlLm5hbWUpICsgXCJfaW1hZ2VcIjtcblxuICAgIC8vIHNraXAgaWYgbm8gZGF0YSwgaXRzIG5vdCBqc29uLCBpdCBpc24ndCBzcHJpdGVzaGVldCBkYXRhLCBvciB0aGUgaW1hZ2UgcmVzb3VyY2UgYWxyZWFkeSBleGlzdHNcbiAgICBpZiAoIXJlc291cmNlLmRhdGFcbiAgICAgICAgfHwgcmVzb3VyY2UudHlwZSAhPT0gTG9hZGVyUmVzb3VyY2UuVFlQRS5KU09OXG4gICAgICAgIHx8ICFyZXNvdXJjZS5kYXRhLmZyYW1lc1xuICAgICAgICB8fCB0aGlzLnJlc291cmNlc1tpbWFnZVJlc291cmNlTmFtZV1cbiAgICApXG4gICAge1xuICAgICAgICBuZXh0KCk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBsb2FkT3B0aW9ucyA9IHtcbiAgICAgICAgY3Jvc3NPcmlnaW46IHJlc291cmNlLmNyb3NzT3JpZ2luLFxuICAgICAgICBtZXRhZGF0YTogcmVzb3VyY2UubWV0YWRhdGEuaW1hZ2VNZXRhZGF0YSxcbiAgICAgICAgcGFyZW50UmVzb3VyY2U6IHJlc291cmNlLFxuICAgIH07XG5cbiAgICB2YXIgcmVzb3VyY2VQYXRoID0gU3ByaXRlc2hlZXRMb2FkZXIuZ2V0UmVzb3VyY2VQYXRoKHJlc291cmNlLCB0aGlzLmJhc2VVcmwpO1xuXG4gICAgLy8gbG9hZCB0aGUgaW1hZ2UgZm9yIHRoaXMgc2hlZXRcbiAgICB0aGlzLmFkZChpbWFnZVJlc291cmNlTmFtZSwgcmVzb3VyY2VQYXRoLCBsb2FkT3B0aW9ucywgZnVuY3Rpb24gb25JbWFnZUxvYWQocmVzKVxuICAgIHtcbiAgICAgICAgaWYgKHJlcy5lcnJvcilcbiAgICAgICAge1xuICAgICAgICAgICAgbmV4dChyZXMuZXJyb3IpO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3ByaXRlc2hlZXQgPSBuZXcgU3ByaXRlc2hlZXQoXG4gICAgICAgICAgICByZXMudGV4dHVyZS5iYXNlVGV4dHVyZSxcbiAgICAgICAgICAgIHJlc291cmNlLmRhdGEsXG4gICAgICAgICAgICByZXNvdXJjZS51cmxcbiAgICAgICAgKTtcblxuICAgICAgICBzcHJpdGVzaGVldC5wYXJzZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXNvdXJjZS5zcHJpdGVzaGVldCA9IHNwcml0ZXNoZWV0O1xuICAgICAgICAgICAgcmVzb3VyY2UudGV4dHVyZXMgPSBzcHJpdGVzaGVldC50ZXh0dXJlcztcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuXG4vKipcbiAqIEdldCB0aGUgc3ByaXRlc2hlZXRzIHJvb3QgcGF0aFxuICogQHBhcmFtIHtQSVhJLkxvYWRlclJlc291cmNlfSByZXNvdXJjZSAtIFJlc291cmNlIHRvIGNoZWNrIHBhdGhcbiAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlVXJsIC0gQmFzZSByb290IHVybFxuICovXG5TcHJpdGVzaGVldExvYWRlci5nZXRSZXNvdXJjZVBhdGggPSBmdW5jdGlvbiBnZXRSZXNvdXJjZVBhdGggKHJlc291cmNlLCBiYXNlVXJsKVxue1xuICAgIC8vIFByZXBlbmQgdXJsIHBhdGggdW5sZXNzIHRoZSByZXNvdXJjZSBpbWFnZSBpcyBhIGRhdGEgdXJsXG4gICAgaWYgKHJlc291cmNlLmlzRGF0YVVybClcbiAgICB7XG4gICAgICAgIHJldHVybiByZXNvdXJjZS5kYXRhLm1ldGEuaW1hZ2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVybC5yZXNvbHZlKHJlc291cmNlLnVybC5yZXBsYWNlKGJhc2VVcmwsICcnKSwgcmVzb3VyY2UuZGF0YS5tZXRhLmltYWdlKTtcbn07XG5cbmV4cG9ydCB7IFNwcml0ZXNoZWV0LCBTcHJpdGVzaGVldExvYWRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3ByaXRlc2hlZXQuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3Nwcml0ZS10aWxpbmcgLSB2NS4xLjRcbiAqIENvbXBpbGVkIEZyaSwgMjAgU2VwIDIwMTkgMTc6MTc6NTkgVVRDXG4gKlxuICogQHBpeGkvc3ByaXRlLXRpbGluZyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFRleHR1cmUsIFRleHR1cmVNYXRyaXgsIE9iamVjdFJlbmRlcmVyLCBTaGFkZXIsIFF1YWRVdiB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgUG9pbnQsIFJlY3RhbmdsZSwgVHJhbnNmb3JtLCBNYXRyaXggfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IFRleHR1cmVDYWNoZSwgcHJlbXVsdGlwbHlUaW50VG9SZ2JhLCBjb3JyZWN0QmxlbmRNb2RlIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgU3ByaXRlIH0gZnJvbSAnQHBpeGkvc3ByaXRlJztcbmltcG9ydCB7IFdSQVBfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG52YXIgdGVtcFBvaW50ID0gbmV3IFBvaW50KCk7XG5cbi8qKlxuICogQSB0aWxpbmcgc3ByaXRlIGlzIGEgZmFzdCB3YXkgb2YgcmVuZGVyaW5nIGEgdGlsaW5nIGltYWdlXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlNwcml0ZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRpbGluZ1Nwcml0ZSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFNwcml0ZSkge1xuICAgIGZ1bmN0aW9uIFRpbGluZ1Nwcml0ZSh0ZXh0dXJlLCB3aWR0aCwgaGVpZ2h0KVxuICAgIHtcbiAgICAgICAgaWYgKCB3aWR0aCA9PT0gdm9pZCAwICkgd2lkdGggPSAxMDA7XG4gICAgICAgIGlmICggaGVpZ2h0ID09PSB2b2lkIDAgKSBoZWlnaHQgPSAxMDA7XG5cbiAgICAgICAgU3ByaXRlLmNhbGwodGhpcywgdGV4dHVyZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRpbGUgdHJhbnNmb3JtXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVHJhbnNmb3JtfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50aWxlVHJhbnNmb3JtID0gbmV3IFRyYW5zZm9ybSgpO1xuXG4gICAgICAgIC8vIC8vLyBwcml2YXRlXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aXRoIG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3dpZHRoID0gd2lkdGg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5faGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYW52YXMgcGF0dGVyblxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7Q2FudmFzUGF0dGVybn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2NhbnZhc1BhdHRlcm4gPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBtYXRyaXggdGhhdCBpcyBhcHBsaWVkIHRvIFVWIHRvIGdldCB0aGUgY29vcmRzIGluIFRleHR1cmUgbm9ybWFsaXplZCBzcGFjZSB0byBjb29yZHMgaW4gQmFzZVRleHR1cmUgc3BhY2VcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51dk1hdHJpeCA9IHRleHR1cmUudXZNYXRyaXggfHwgbmV3IFRleHR1cmVNYXRyaXgodGV4dHVyZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBsdWdpbiB0aGF0IGlzIHJlc3BvbnNpYmxlIGZvciByZW5kZXJpbmcgdGhpcyBlbGVtZW50LlxuICAgICAgICAgKiBBbGxvd3MgdG8gY3VzdG9taXplIHRoZSByZW5kZXJpbmcgcHJvY2VzcyB3aXRob3V0IG92ZXJyaWRpbmcgJ19yZW5kZXInIG1ldGhvZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAndGlsaW5nU3ByaXRlJ1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wbHVnaW5OYW1lID0gJ3RpbGluZ1Nwcml0ZSc7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgb3Igbm90IGFuY2hvciBhZmZlY3RzIHV2c1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51dlJlc3BlY3RBbmNob3IgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIFNwcml0ZSApIFRpbGluZ1Nwcml0ZS5fX3Byb3RvX18gPSBTcHJpdGU7XG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFNwcml0ZSAmJiBTcHJpdGUucHJvdG90eXBlICk7XG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFRpbGluZ1Nwcml0ZTtcblxuICAgIHZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IGNsYW1wTWFyZ2luOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHRpbGVTY2FsZTogeyBjb25maWd1cmFibGU6IHRydWUgfSx0aWxlUG9zaXRpb246IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sd2lkdGg6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0saGVpZ2h0OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyBmcmFtZSBjbGFtcGluZyBpbiBjb3JyZXNwb25kaW5nIHRleHR1cmVUcmFuc2Zvcm0sIHNob3J0Y3V0XG4gICAgICogQ2hhbmdlIHRvIC0wLjUgdG8gYWRkIGEgcGl4ZWwgdG8gdGhlIGVkZ2UsIHJlY29tbWVuZGVkIGZvciB0cmFuc3BhcmVudCB0cmltbWVkIHRleHR1cmVzIGluIGF0bGFzXG4gICAgICpcbiAgICAgKiBAZGVmYXVsdCAwLjVcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmNsYW1wTWFyZ2luLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy51dk1hdHJpeC5jbGFtcE1hcmdpbjtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmNsYW1wTWFyZ2luLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnV2TWF0cml4LmNsYW1wTWFyZ2luID0gdmFsdWU7XG4gICAgICAgIHRoaXMudXZNYXRyaXgudXBkYXRlKHRydWUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2NhbGluZyBvZiB0aGUgaW1hZ2UgdGhhdCBpcyBiZWluZyB0aWxlZFxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRpbGVTY2FsZS5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGlsZVRyYW5zZm9ybS5zY2FsZTtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRpbGVTY2FsZS5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy50aWxlVHJhbnNmb3JtLnNjYWxlLmNvcHlGcm9tKHZhbHVlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9mZnNldCBvZiB0aGUgaW1hZ2UgdGhhdCBpcyBiZWluZyB0aWxlZFxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRpbGVQb3NpdGlvbi5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGlsZVRyYW5zZm9ybS5wb3NpdGlvbjtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRpbGVQb3NpdGlvbi5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy50aWxlVHJhbnNmb3JtLnBvc2l0aW9uLmNvcHlGcm9tKHZhbHVlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBUaWxpbmdTcHJpdGUucHJvdG90eXBlLl9vblRleHR1cmVVcGRhdGUgPSBmdW5jdGlvbiBfb25UZXh0dXJlVXBkYXRlICgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy51dk1hdHJpeClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51dk1hdHJpeC50ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jYWNoZWRUaW50ID0gMHhGRkZGRkY7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5fcmVuZGVyID0gZnVuY3Rpb24gX3JlbmRlciAocmVuZGVyZXIpXG4gICAge1xuICAgICAgICAvLyB0d2VhayBvdXIgdGV4dHVyZSB0ZW1wb3JhcmlseS4uXG4gICAgICAgIHZhciB0ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcblxuICAgICAgICBpZiAoIXRleHR1cmUgfHwgIXRleHR1cmUudmFsaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudGlsZVRyYW5zZm9ybS51cGRhdGVMb2NhbFRyYW5zZm9ybSgpO1xuICAgICAgICB0aGlzLnV2TWF0cml4LnVwZGF0ZSgpO1xuXG4gICAgICAgIHJlbmRlcmVyLmJhdGNoLnNldE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXSk7XG4gICAgICAgIHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXS5yZW5kZXIodGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgdGlsaW5nIHNwcml0ZS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBUaWxpbmdTcHJpdGUucHJvdG90eXBlLl9jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiBfY2FsY3VsYXRlQm91bmRzICgpXG4gICAge1xuICAgICAgICB2YXIgbWluWCA9IHRoaXMuX3dpZHRoICogLXRoaXMuX2FuY2hvci5feDtcbiAgICAgICAgdmFyIG1pblkgPSB0aGlzLl9oZWlnaHQgKiAtdGhpcy5fYW5jaG9yLl95O1xuICAgICAgICB2YXIgbWF4WCA9IHRoaXMuX3dpZHRoICogKDEgLSB0aGlzLl9hbmNob3IuX3gpO1xuICAgICAgICB2YXIgbWF4WSA9IHRoaXMuX2hlaWdodCAqICgxIC0gdGhpcy5fYW5jaG9yLl95KTtcblxuICAgICAgICB0aGlzLl9ib3VuZHMuYWRkRnJhbWUodGhpcy50cmFuc2Zvcm0sIG1pblgsIG1pblksIG1heFgsIG1heFkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBsb2NhbCBib3VuZHMgb2YgdGhlIHNwcml0ZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0IC0gVGhlIG91dHB1dCByZWN0YW5nbGUuXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFRoZSBib3VuZHMuXG4gICAgICovXG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uIGdldExvY2FsQm91bmRzIChyZWN0KVxuICAgIHtcbiAgICAgICAgLy8gd2UgY2FuIGRvIGEgZmFzdCBsb2NhbCBib3VuZHMgaWYgdGhlIHNwcml0ZSBoYXMgbm8gY2hpbGRyZW4hXG4gICAgICAgIGlmICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1pblggPSB0aGlzLl93aWR0aCAqIC10aGlzLl9hbmNob3IuX3g7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWluWSA9IHRoaXMuX2hlaWdodCAqIC10aGlzLl9hbmNob3IuX3k7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWF4WCA9IHRoaXMuX3dpZHRoICogKDEgLSB0aGlzLl9hbmNob3IuX3gpO1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1heFkgPSB0aGlzLl9oZWlnaHQgKiAoMSAtIHRoaXMuX2FuY2hvci5feSk7XG5cbiAgICAgICAgICAgIGlmICghcmVjdClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2xvY2FsQm91bmRzUmVjdClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvY2FsQm91bmRzUmVjdCA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZWN0ID0gdGhpcy5fbG9jYWxCb3VuZHNSZWN0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYm91bmRzLmdldFJlY3RhbmdsZShyZWN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBTcHJpdGUucHJvdG90eXBlLmdldExvY2FsQm91bmRzLmNhbGwodGhpcywgcmVjdCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIHBvaW50IGlzIGluc2lkZSB0aGlzIHRpbGluZyBzcHJpdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IHBvaW50IC0gdGhlIHBvaW50IHRvIGNoZWNrXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciBvciBub3QgdGhlIHNwcml0ZSBjb250YWlucyB0aGUgcG9pbnQuXG4gICAgICovXG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5jb250YWluc1BvaW50ID0gZnVuY3Rpb24gY29udGFpbnNQb2ludCAocG9pbnQpXG4gICAge1xuICAgICAgICB0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb2ludCwgdGVtcFBvaW50KTtcblxuICAgICAgICB2YXIgd2lkdGggPSB0aGlzLl93aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuX2hlaWdodDtcbiAgICAgICAgdmFyIHgxID0gLXdpZHRoICogdGhpcy5hbmNob3IuX3g7XG5cbiAgICAgICAgaWYgKHRlbXBQb2ludC54ID49IHgxICYmIHRlbXBQb2ludC54IDwgeDEgKyB3aWR0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHkxID0gLWhlaWdodCAqIHRoaXMuYW5jaG9yLl95O1xuXG4gICAgICAgICAgICBpZiAodGVtcFBvaW50LnkgPj0geTEgJiYgdGVtcFBvaW50LnkgPCB5MSArIGhlaWdodClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBzcHJpdGUgYW5kIG9wdGlvbmFsbHkgaXRzIHRleHR1cmUgYW5kIGNoaWxkcmVuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gICAgICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyIGRlc3Ryb3lcbiAgICAgKiAgICAgIG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgY3VycmVudCB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGxcbiAgICAgKi9cbiAgICBUaWxpbmdTcHJpdGUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95IChvcHRpb25zKVxuICAgIHtcbiAgICAgICAgU3ByaXRlLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy50aWxlVHJhbnNmb3JtID0gbnVsbDtcbiAgICAgICAgdGhpcy51dk1hdHJpeCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBuZXcgdGlsaW5nIHNwcml0ZSBiYXNlZCBvbiB0aGUgc291cmNlIHlvdSBwcm92aWRlLlxuICAgICAqIFRoZSBzb3VyY2UgY2FuIGJlIC0gZnJhbWUgaWQsIGltYWdlIHVybCwgdmlkZW8gdXJsLCBjYW52YXMgZWxlbWVudCwgdmlkZW8gZWxlbWVudCwgYmFzZSB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfFBJWEkuVGV4dHVyZXxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBzb3VyY2UgLSBTb3VyY2UgdG8gY3JlYXRlIHRleHR1cmUgZnJvbVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIHRoZSB3aWR0aCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSB0aGUgaGVpZ2h0IG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICogQHJldHVybiB7UElYSS5UaWxpbmdTcHJpdGV9IFRoZSBuZXdseSBjcmVhdGVkIHRleHR1cmVcbiAgICAgKi9cbiAgICBUaWxpbmdTcHJpdGUuZnJvbSA9IGZ1bmN0aW9uIGZyb20gKHNvdXJjZSwgd2lkdGgsIGhlaWdodClcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgVGlsaW5nU3ByaXRlKFRleHR1cmUuZnJvbShzb3VyY2UpLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIHRpbGluZyBzcHJpdGUgdGhhdCB3aWxsIHVzZSBhIHRleHR1cmUgZnJvbSB0aGUgVGV4dHVyZUNhY2hlIGJhc2VkIG9uIHRoZSBmcmFtZUlkXG4gICAgICogVGhlIGZyYW1lIGlkcyBhcmUgY3JlYXRlZCB3aGVuIGEgVGV4dHVyZSBwYWNrZXIgZmlsZSBoYXMgYmVlbiBsb2FkZWRcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZnJhbWVJZCAtIFRoZSBmcmFtZSBJZCBvZiB0aGUgdGV4dHVyZSBpbiB0aGUgY2FjaGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSB0aGUgd2lkdGggb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gdGhlIGhlaWdodCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEByZXR1cm4ge1BJWEkuVGlsaW5nU3ByaXRlfSBBIG5ldyBUaWxpbmdTcHJpdGUgdXNpbmcgYSB0ZXh0dXJlIGZyb20gdGhlIHRleHR1cmUgY2FjaGUgbWF0Y2hpbmcgdGhlIGZyYW1lSWRcbiAgICAgKi9cbiAgICBUaWxpbmdTcHJpdGUuZnJvbUZyYW1lID0gZnVuY3Rpb24gZnJvbUZyYW1lIChmcmFtZUlkLCB3aWR0aCwgaGVpZ2h0KVxuICAgIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSBUZXh0dXJlQ2FjaGVbZnJhbWVJZF07XG5cbiAgICAgICAgaWYgKCF0ZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKFwiVGhlIGZyYW1lSWQgXFxcIlwiICsgZnJhbWVJZCArIFwiXFxcIiBkb2VzIG5vdCBleGlzdCBpbiB0aGUgdGV4dHVyZSBjYWNoZSBcIiArICh0aGlzKSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBUaWxpbmdTcHJpdGUodGV4dHVyZSwgd2lkdGgsIGhlaWdodCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBzcHJpdGUgdGhhdCB3aWxsIGNvbnRhaW4gYSB0ZXh0dXJlIGJhc2VkIG9uIGFuIGltYWdlIHVybFxuICAgICAqIElmIHRoZSBpbWFnZSBpcyBub3QgaW4gdGhlIHRleHR1cmUgY2FjaGUgaXQgd2lsbCBiZSBsb2FkZWRcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaW1hZ2VJZCAtIFRoZSBpbWFnZSB1cmwgb2YgdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSB0aGUgd2lkdGggb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gdGhlIGhlaWdodCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSBTZWUge0BsaW5rIFBJWEkuQmFzZVRleHR1cmV9J3MgY29uc3RydWN0b3IgZm9yIG9wdGlvbnMuXG4gICAgICogQHJldHVybiB7UElYSS5UaWxpbmdTcHJpdGV9IEEgbmV3IFRpbGluZ1Nwcml0ZSB1c2luZyBhIHRleHR1cmUgZnJvbSB0aGUgdGV4dHVyZSBjYWNoZSBtYXRjaGluZyB0aGUgaW1hZ2UgaWRcbiAgICAgKi9cbiAgICBUaWxpbmdTcHJpdGUuZnJvbUltYWdlID0gZnVuY3Rpb24gZnJvbUltYWdlIChpbWFnZUlkLCB3aWR0aCwgaGVpZ2h0LCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgLy8gRmFsbGJhY2sgc3VwcG9ydCBmb3IgY3Jvc3NvcmlnaW4sIHNjYWxlTW9kZSBwYXJhbWV0ZXJzXG4gICAgICAgIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zICE9PSAnb2JqZWN0JylcbiAgICAgICAge1xuICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBzY2FsZU1vZGU6IGFyZ3VtZW50c1s0XSxcbiAgICAgICAgICAgICAgICByZXNvdXJjZU9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgY3Jvc3NvcmlnaW46IGFyZ3VtZW50c1szXSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgVGlsaW5nU3ByaXRlKFRleHR1cmUuZnJvbShpbWFnZUlkLCBvcHRpb25zKSwgd2lkdGgsIGhlaWdodCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgc3ByaXRlLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldFxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy53aWR0aC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dpZHRoO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMud2lkdGguc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX3dpZHRoID0gdmFsdWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIFRpbGluZ1Nwcml0ZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuaGVpZ2h0LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5faGVpZ2h0O1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuaGVpZ2h0LnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl9oZWlnaHQgPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4gICAgcmV0dXJuIFRpbGluZ1Nwcml0ZTtcbn0oU3ByaXRlKSk7XG5cbnZhciB2ZXJ0ZXggPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyB0cmFuc2xhdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgdVRyYW5zZm9ybTtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHRyYW5zbGF0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuXFxuICAgIHZUZXh0dXJlQ29vcmQgPSAodVRyYW5zZm9ybSAqIHZlYzMoYVRleHR1cmVDb29yZCwgMS4wKSkueHk7XFxufVxcblwiO1xuXG52YXIgZnJhZ21lbnQgPSBcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gdmVjNCB1Q29sb3I7XFxudW5pZm9ybSBtYXQzIHVNYXBDb29yZDtcXG51bmlmb3JtIHZlYzQgdUNsYW1wRnJhbWU7XFxudW5pZm9ybSB2ZWMyIHVDbGFtcE9mZnNldDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIHZlYzIgY29vcmQgPSBtb2QodlRleHR1cmVDb29yZCAtIHVDbGFtcE9mZnNldCwgdmVjMigxLjAsIDEuMCkpICsgdUNsYW1wT2Zmc2V0O1xcbiAgICBjb29yZCA9ICh1TWFwQ29vcmQgKiB2ZWMzKGNvb3JkLCAxLjApKS54eTtcXG4gICAgY29vcmQgPSBjbGFtcChjb29yZCwgdUNsYW1wRnJhbWUueHksIHVDbGFtcEZyYW1lLnp3KTtcXG5cXG4gICAgdmVjNCBzYW1wbGUgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIGNvb3JkKTtcXG4gICAgZ2xfRnJhZ0NvbG9yID0gc2FtcGxlICogdUNvbG9yO1xcbn1cXG5cIjtcblxudmFyIGZyYWdtZW50U2ltcGxlID0gXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIHZlYzQgdUNvbG9yO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgdmVjNCBzYW1wbGUgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcbiAgICBnbF9GcmFnQ29sb3IgPSBzYW1wbGUgKiB1Q29sb3I7XFxufVxcblwiO1xuXG52YXIgdGVtcE1hdCA9IG5ldyBNYXRyaXgoKTtcblxuLyoqXG4gKiBXZWJHTCByZW5kZXJlciBwbHVnaW4gZm9yIHRpbGluZyBzcHJpdGVzXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5PYmplY3RSZW5kZXJlclxuICovXG52YXIgVGlsaW5nU3ByaXRlUmVuZGVyZXIgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChPYmplY3RSZW5kZXJlcikge1xuICAgIGZ1bmN0aW9uIFRpbGluZ1Nwcml0ZVJlbmRlcmVyKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgT2JqZWN0UmVuZGVyZXIuY2FsbCh0aGlzLCByZW5kZXJlcik7XG5cbiAgICAgICAgdmFyIHVuaWZvcm1zID0geyBnbG9iYWxzOiB0aGlzLnJlbmRlcmVyLmdsb2JhbFVuaWZvcm1zIH07XG5cbiAgICAgICAgdGhpcy5zaGFkZXIgPSBTaGFkZXIuZnJvbSh2ZXJ0ZXgsIGZyYWdtZW50LCB1bmlmb3Jtcyk7XG5cbiAgICAgICAgdGhpcy5zaW1wbGVTaGFkZXIgPSBTaGFkZXIuZnJvbSh2ZXJ0ZXgsIGZyYWdtZW50U2ltcGxlLCB1bmlmb3Jtcyk7XG5cbiAgICAgICAgdGhpcy5xdWFkID0gbmV3IFF1YWRVdigpO1xuICAgIH1cblxuICAgIGlmICggT2JqZWN0UmVuZGVyZXIgKSBUaWxpbmdTcHJpdGVSZW5kZXJlci5fX3Byb3RvX18gPSBPYmplY3RSZW5kZXJlcjtcbiAgICBUaWxpbmdTcHJpdGVSZW5kZXJlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBPYmplY3RSZW5kZXJlciAmJiBPYmplY3RSZW5kZXJlci5wcm90b3R5cGUgKTtcbiAgICBUaWxpbmdTcHJpdGVSZW5kZXJlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBUaWxpbmdTcHJpdGVSZW5kZXJlcjtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlRpbGluZ1Nwcml0ZX0gdHMgdGlsaW5nU3ByaXRlIHRvIGJlIHJlbmRlcmVkXG4gICAgICovXG4gICAgVGlsaW5nU3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlciAodHMpXG4gICAge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgcXVhZCA9IHRoaXMucXVhZDtcblxuICAgICAgICB2YXIgdmVydGljZXMgPSBxdWFkLnZlcnRpY2VzO1xuXG4gICAgICAgIHZlcnRpY2VzWzBdID0gdmVydGljZXNbNl0gPSAodHMuX3dpZHRoKSAqIC10cy5hbmNob3IueDtcbiAgICAgICAgdmVydGljZXNbMV0gPSB2ZXJ0aWNlc1szXSA9IHRzLl9oZWlnaHQgKiAtdHMuYW5jaG9yLnk7XG5cbiAgICAgICAgdmVydGljZXNbMl0gPSB2ZXJ0aWNlc1s0XSA9ICh0cy5fd2lkdGgpICogKDEuMCAtIHRzLmFuY2hvci54KTtcbiAgICAgICAgdmVydGljZXNbNV0gPSB2ZXJ0aWNlc1s3XSA9IHRzLl9oZWlnaHQgKiAoMS4wIC0gdHMuYW5jaG9yLnkpO1xuXG4gICAgICAgIGlmICh0cy51dlJlc3BlY3RBbmNob3IpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZlcnRpY2VzID0gcXVhZC51dnM7XG5cbiAgICAgICAgICAgIHZlcnRpY2VzWzBdID0gdmVydGljZXNbNl0gPSAtdHMuYW5jaG9yLng7XG4gICAgICAgICAgICB2ZXJ0aWNlc1sxXSA9IHZlcnRpY2VzWzNdID0gLXRzLmFuY2hvci55O1xuXG4gICAgICAgICAgICB2ZXJ0aWNlc1syXSA9IHZlcnRpY2VzWzRdID0gMS4wIC0gdHMuYW5jaG9yLng7XG4gICAgICAgICAgICB2ZXJ0aWNlc1s1XSA9IHZlcnRpY2VzWzddID0gMS4wIC0gdHMuYW5jaG9yLnk7XG4gICAgICAgIH1cblxuICAgICAgICBxdWFkLmludmFsaWRhdGUoKTtcblxuICAgICAgICB2YXIgdGV4ID0gdHMuX3RleHR1cmU7XG4gICAgICAgIHZhciBiYXNlVGV4ID0gdGV4LmJhc2VUZXh0dXJlO1xuICAgICAgICB2YXIgbHQgPSB0cy50aWxlVHJhbnNmb3JtLmxvY2FsVHJhbnNmb3JtO1xuICAgICAgICB2YXIgdXYgPSB0cy51dk1hdHJpeDtcbiAgICAgICAgdmFyIGlzU2ltcGxlID0gYmFzZVRleC5pc1Bvd2VyT2ZUd29cbiAgICAgICAgICAgICYmIHRleC5mcmFtZS53aWR0aCA9PT0gYmFzZVRleC53aWR0aCAmJiB0ZXguZnJhbWUuaGVpZ2h0ID09PSBiYXNlVGV4LmhlaWdodDtcblxuICAgICAgICAvLyBhdXRvLCBmb3JjZSByZXBlYXQgd3JhcE1vZGUgZm9yIGJpZyB0aWxpbmcgdGV4dHVyZXNcbiAgICAgICAgaWYgKGlzU2ltcGxlKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIWJhc2VUZXguX2dsVGV4dHVyZXNbcmVuZGVyZXIuQ09OVEVYVF9VSURdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChiYXNlVGV4LndyYXBNb2RlID09PSBXUkFQX01PREVTLkNMQU1QKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVRleC53cmFwTW9kZSA9IFdSQVBfTU9ERVMuUkVQRUFUO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpc1NpbXBsZSA9IGJhc2VUZXgud3JhcE1vZGUgIT09IFdSQVBfTU9ERVMuQ0xBTVA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc2hhZGVyID0gaXNTaW1wbGUgPyB0aGlzLnNpbXBsZVNoYWRlciA6IHRoaXMuc2hhZGVyO1xuXG4gICAgICAgIHZhciB3ID0gdGV4LndpZHRoO1xuICAgICAgICB2YXIgaCA9IHRleC5oZWlnaHQ7XG4gICAgICAgIHZhciBXID0gdHMuX3dpZHRoO1xuICAgICAgICB2YXIgSCA9IHRzLl9oZWlnaHQ7XG5cbiAgICAgICAgdGVtcE1hdC5zZXQobHQuYSAqIHcgLyBXLFxuICAgICAgICAgICAgbHQuYiAqIHcgLyBILFxuICAgICAgICAgICAgbHQuYyAqIGggLyBXLFxuICAgICAgICAgICAgbHQuZCAqIGggLyBILFxuICAgICAgICAgICAgbHQudHggLyBXLFxuICAgICAgICAgICAgbHQudHkgLyBIKTtcblxuICAgICAgICAvLyB0aGF0IHBhcnQgaXMgdGhlIHNhbWUgYXMgYWJvdmU6XG4gICAgICAgIC8vIHRlbXBNYXQuaWRlbnRpdHkoKTtcbiAgICAgICAgLy8gdGVtcE1hdC5zY2FsZSh0ZXgud2lkdGgsIHRleC5oZWlnaHQpO1xuICAgICAgICAvLyB0ZW1wTWF0LnByZXBlbmQobHQpO1xuICAgICAgICAvLyB0ZW1wTWF0LnNjYWxlKDEuMCAvIHRzLl93aWR0aCwgMS4wIC8gdHMuX2hlaWdodCk7XG5cbiAgICAgICAgdGVtcE1hdC5pbnZlcnQoKTtcbiAgICAgICAgaWYgKGlzU2ltcGxlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0ZW1wTWF0LnByZXBlbmQodXYubWFwQ29vcmQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVNYXBDb29yZCA9IHV2Lm1hcENvb3JkLnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgICAgICBzaGFkZXIudW5pZm9ybXMudUNsYW1wRnJhbWUgPSB1di51Q2xhbXBGcmFtZTtcbiAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtcy51Q2xhbXBPZmZzZXQgPSB1di51Q2xhbXBPZmZzZXQ7XG4gICAgICAgIH1cblxuICAgICAgICBzaGFkZXIudW5pZm9ybXMudVRyYW5zZm9ybSA9IHRlbXBNYXQudG9BcnJheSh0cnVlKTtcbiAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVDb2xvciA9IHByZW11bHRpcGx5VGludFRvUmdiYSh0cy50aW50LCB0cy53b3JsZEFscGhhLFxuICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVDb2xvciwgYmFzZVRleC5wcmVtdWx0aXBseUFscGhhKTtcbiAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnRyYW5zbGF0aW9uTWF0cml4ID0gdHMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtLnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgIHNoYWRlci51bmlmb3Jtcy51U2FtcGxlciA9IHRleDtcblxuICAgICAgICByZW5kZXJlci5zaGFkZXIuYmluZChzaGFkZXIpO1xuICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5iaW5kKHF1YWQpOy8vICwgcmVuZGVyZXIuc2hhZGVyLmdldEdMU2hhZGVyKCkpO1xuXG4gICAgICAgIHJlbmRlcmVyLnN0YXRlLnNldEJsZW5kTW9kZShjb3JyZWN0QmxlbmRNb2RlKHRzLmJsZW5kTW9kZSwgYmFzZVRleC5wcmVtdWx0aXBseUFscGhhKSk7XG4gICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmRyYXcodGhpcy5yZW5kZXJlci5nbC5UUklBTkdMRVMsIDYsIDApO1xuICAgIH07XG5cbiAgICByZXR1cm4gVGlsaW5nU3ByaXRlUmVuZGVyZXI7XG59KE9iamVjdFJlbmRlcmVyKSk7XG5cbmV4cG9ydCB7IFRpbGluZ1Nwcml0ZSwgVGlsaW5nU3ByaXRlUmVuZGVyZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNwcml0ZS10aWxpbmcuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3RleHQtYml0bWFwIC0gdjUuMS40XG4gKiBDb21waWxlZCBGcmksIDIwIFNlcCAyMDE5IDE3OjE3OjU5IFVUQ1xuICpcbiAqIEBwaXhpL3RleHQtYml0bWFwIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBQb2ludCwgUmVjdGFuZ2xlLCBPYnNlcnZhYmxlUG9pbnQgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IHsgU3ByaXRlIH0gZnJvbSAnQHBpeGkvc3ByaXRlJztcbmltcG9ydCB7IHJlbW92ZUl0ZW1zLCBnZXRSZXNvbHV0aW9uT2ZVcmwgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBMb2FkZXJSZXNvdXJjZSB9IGZyb20gJ0BwaXhpL2xvYWRlcnMnO1xuXG4vKipcbiAqIEEgQml0bWFwVGV4dCBvYmplY3Qgd2lsbCBjcmVhdGUgYSBsaW5lIG9yIG11bHRpcGxlIGxpbmVzIG9mIHRleHQgdXNpbmcgYml0bWFwIGZvbnQuXG4gKlxuICogVGhlIHByaW1hcnkgYWR2YW50YWdlIG9mIHRoaXMgY2xhc3Mgb3ZlciBUZXh0IGlzIHRoYXQgYWxsIG9mIHlvdXIgdGV4dHVyZXMgYXJlIHByZS1nZW5lcmF0ZWQgYW5kIGxvYWRpbmcsXG4gKiBtZWFuaW5nIHRoYXQgcmVuZGVyaW5nIGlzIGZhc3QsIGFuZCBjaGFuZ2luZyB0ZXh0IGhhcyBubyBwZXJmb3JtYW5jZSBpbXBsaWNhdGlvbnMuXG4gKlxuICogVGhlIHByaW1hcnkgZGlzYWR2YW50YWdlIGlzIHRoYXQgeW91IG5lZWQgdG8gcHJlbG9hZCB0aGUgYml0bWFwIGZvbnQgYXNzZXRzLCBhbmQgdGh1cyB0aGUgc3R5bGluZyBpcyBzZXQgaW4gc3RvbmUuXG4gKiBTdXBwb3J0aW5nIGNoYXJhY3RlciBzZXRzIG90aGVyIHRoYW4gbGF0aW4sIHN1Y2ggYXMgQ0pLIGxhbmd1YWdlcywgbWF5IGJlIGltcHJhY3RpY2FsIGR1ZSB0byB0aGUgbnVtYmVyIG9mIGNoYXJhY3RlcnMuXG4gKlxuICogVG8gc3BsaXQgYSBsaW5lIHlvdSBjYW4gdXNlICdcXG4nLCAnXFxyJyBvciAnXFxyXFxuJyBpbiB5b3VyIHN0cmluZy5cbiAqXG4gKiBZb3UgY2FuIGdlbmVyYXRlIHRoZSBmbnQgZmlsZXMgdXNpbmdcbiAqIGh0dHA6Ly93d3cuYW5nZWxjb2RlLmNvbS9wcm9kdWN0cy9ibWZvbnQvIGZvciBXaW5kb3dzIG9yXG4gKiBodHRwOi8vd3d3LmJtZ2x5cGguY29tLyBmb3IgTWFjLlxuICpcbiAqIEEgQml0bWFwVGV4dCBjYW4gb25seSBiZSBjcmVhdGVkIHdoZW4gdGhlIGZvbnQgaXMgbG9hZGVkLlxuICpcbiAqIGBgYGpzXG4gKiAvLyBpbiB0aGlzIGNhc2UgdGhlIGZvbnQgaXMgaW4gYSBmaWxlIGNhbGxlZCAnZGVzeXJlbC5mbnQnXG4gKiBsZXQgYml0bWFwVGV4dCA9IG5ldyBQSVhJLkJpdG1hcFRleHQoXCJ0ZXh0IHVzaW5nIGEgZmFuY3kgZm9udCFcIiwge2ZvbnQ6IFwiMzVweCBEZXN5cmVsXCIsIGFsaWduOiBcInJpZ2h0XCJ9KTtcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5Db250YWluZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCaXRtYXBUZXh0ID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoQ29udGFpbmVyKSB7XG4gICAgZnVuY3Rpb24gQml0bWFwVGV4dCh0ZXh0LCBzdHlsZSlcbiAgICB7XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuICAgICAgICBpZiAoIHN0eWxlID09PSB2b2lkIDAgKSBzdHlsZSA9IHt9O1xuXG4gICAgICAgIENvbnRhaW5lci5jYWxsKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSB3aWR0aCBvZiB0aGUgb3ZlcmFsbCB0ZXh0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RleHRXaWR0aCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGhlaWdodCBvZiB0aGUgb3ZlcmFsbCB0ZXh0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RleHRIZWlnaHQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBsZXR0ZXIgc3ByaXRlIHBvb2wuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3ByaXRlW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9nbHlwaHMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCBzdHlsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZm9udCA9IHtcbiAgICAgICAgICAgIHRpbnQ6IHN0eWxlLnRpbnQgIT09IHVuZGVmaW5lZCA/IHN0eWxlLnRpbnQgOiAweEZGRkZGRixcbiAgICAgICAgICAgIGFsaWduOiBzdHlsZS5hbGlnbiB8fCAnbGVmdCcsXG4gICAgICAgICAgICBuYW1lOiBudWxsLFxuICAgICAgICAgICAgc2l6ZTogMCxcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCBmb250LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZvbnQgPSBzdHlsZS5mb250OyAvLyBydW4gZm9udCBzZXR0ZXJcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCB0ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90ZXh0ID0gdGV4dDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1heCB3aWR0aCBvZiB0aGlzIGJpdG1hcCB0ZXh0IGluIHBpeGVscy4gSWYgdGhlIHRleHQgcHJvdmlkZWQgaXMgbG9uZ2VyIHRoYW4gdGhlXG4gICAgICAgICAqIHZhbHVlIHByb3ZpZGVkLCBsaW5lIGJyZWFrcyB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgaW5zZXJ0ZWQgaW4gdGhlIGxhc3Qgd2hpdGVzcGFjZS5cbiAgICAgICAgICogRGlzYWJsZSBieSBzZXR0aW5nIHZhbHVlIHRvIDBcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbWF4V2lkdGggPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF4IGxpbmUgaGVpZ2h0LiBUaGlzIGlzIHVzZWZ1bCB3aGVuIHRyeWluZyB0byB1c2UgdGhlIHRvdGFsIGhlaWdodCBvZiB0aGUgVGV4dCxcbiAgICAgICAgICogaWU6IHdoZW4gdHJ5aW5nIHRvIHZlcnRpY2FsbHkgYWxpZ24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX21heExpbmVIZWlnaHQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMZXR0ZXIgc3BhY2luZy4gVGhpcyBpcyB1c2VmdWwgZm9yIHNldHRpbmcgdGhlIHNwYWNlIGJldHdlZW4gY2hhcmFjdGVycy5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbGV0dGVyU3BhY2luZyA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRleHQgYW5jaG9yLiByZWFkLW9ubHlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9hbmNob3IgPSBuZXcgT2JzZXJ2YWJsZVBvaW50KGZ1bmN0aW9uICgpIHsgdGhpcyQxLmRpcnR5ID0gdHJ1ZTsgfSwgdGhpcywgMCwgMCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkaXJ0eSBzdGF0ZSBvZiB0aGlzIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdHJ1ZSBQaXhpSlMgd2lsbCBNYXRoLmZsb29yKCkgeC95IHZhbHVlcyB3aGVuIHJlbmRlcmluZywgc3RvcHBpbmcgcGl4ZWwgaW50ZXJwb2xhdGlvbi5cbiAgICAgICAgICogQWR2YW50YWdlcyBjYW4gaW5jbHVkZSBzaGFycGVyIGltYWdlIHF1YWxpdHkgKGxpa2UgdGV4dCkgYW5kIGZhc3RlciByZW5kZXJpbmcgb24gY2FudmFzLlxuICAgICAgICAgKiBUaGUgbWFpbiBkaXNhZHZhbnRhZ2UgaXMgbW92ZW1lbnQgb2Ygb2JqZWN0cyBtYXkgYXBwZWFyIGxlc3Mgc21vb3RoLlxuICAgICAgICAgKiBUbyBzZXQgdGhlIGdsb2JhbCBkZWZhdWx0LCBjaGFuZ2Uge0BsaW5rIFBJWEkuc2V0dGluZ3MuUk9VTkRfUElYRUxTfVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yb3VuZFBpeGVscyA9IHNldHRpbmdzLlJPVU5EX1BJWEVMUztcblxuICAgICAgICB0aGlzLnVwZGF0ZVRleHQoKTtcbiAgICB9XG5cbiAgICBpZiAoIENvbnRhaW5lciApIEJpdG1hcFRleHQuX19wcm90b19fID0gQ29udGFpbmVyO1xuICAgIEJpdG1hcFRleHQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQ29udGFpbmVyICYmIENvbnRhaW5lci5wcm90b3R5cGUgKTtcbiAgICBCaXRtYXBUZXh0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEJpdG1hcFRleHQ7XG5cbiAgICB2YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyB0aW50OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGFsaWduOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGFuY2hvcjogeyBjb25maWd1cmFibGU6IHRydWUgfSxmb250OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHRleHQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sbWF4V2lkdGg6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sbWF4TGluZUhlaWdodDogeyBjb25maWd1cmFibGU6IHRydWUgfSx0ZXh0V2lkdGg6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sbGV0dGVyU3BhY2luZzogeyBjb25maWd1cmFibGU6IHRydWUgfSx0ZXh0SGVpZ2h0OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRleHQgYW5kIHVwZGF0ZXMgaXQgd2hlbiBuZWVkZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQml0bWFwVGV4dC5wcm90b3R5cGUudXBkYXRlVGV4dCA9IGZ1bmN0aW9uIHVwZGF0ZVRleHQgKClcbiAgICB7XG4gICAgICAgIHZhciBkYXRhID0gQml0bWFwVGV4dC5mb250c1t0aGlzLl9mb250Lm5hbWVdO1xuICAgICAgICB2YXIgc2NhbGUgPSB0aGlzLl9mb250LnNpemUgLyBkYXRhLnNpemU7XG4gICAgICAgIHZhciBwb3MgPSBuZXcgUG9pbnQoKTtcbiAgICAgICAgdmFyIGNoYXJzID0gW107XG4gICAgICAgIHZhciBsaW5lV2lkdGhzID0gW107XG4gICAgICAgIHZhciB0ZXh0ID0gdGhpcy5fdGV4dC5yZXBsYWNlKC8oPzpcXHJcXG58XFxyKS9nLCAnXFxuJykgfHwgJyAnO1xuICAgICAgICB2YXIgdGV4dExlbmd0aCA9IHRleHQubGVuZ3RoO1xuICAgICAgICB2YXIgbWF4V2lkdGggPSB0aGlzLl9tYXhXaWR0aCAqIGRhdGEuc2l6ZSAvIHRoaXMuX2ZvbnQuc2l6ZTtcblxuICAgICAgICB2YXIgcHJldkNoYXJDb2RlID0gbnVsbDtcbiAgICAgICAgdmFyIGxhc3RMaW5lV2lkdGggPSAwO1xuICAgICAgICB2YXIgbWF4TGluZVdpZHRoID0gMDtcbiAgICAgICAgdmFyIGxpbmUgPSAwO1xuICAgICAgICB2YXIgbGFzdEJyZWFrUG9zID0gLTE7XG4gICAgICAgIHZhciBsYXN0QnJlYWtXaWR0aCA9IDA7XG4gICAgICAgIHZhciBzcGFjZXNSZW1vdmVkID0gMDtcbiAgICAgICAgdmFyIG1heExpbmVIZWlnaHQgPSAwO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGV4dExlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgY2hhckNvZGUgPSB0ZXh0LmNoYXJDb2RlQXQoaSk7XG4gICAgICAgICAgICB2YXIgY2hhciA9IHRleHQuY2hhckF0KGkpO1xuXG4gICAgICAgICAgICBpZiAoKC8oPzpcXHMpLykudGVzdChjaGFyKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsYXN0QnJlYWtQb3MgPSBpO1xuICAgICAgICAgICAgICAgIGxhc3RCcmVha1dpZHRoID0gbGFzdExpbmVXaWR0aDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNoYXIgPT09ICdcXHInIHx8IGNoYXIgPT09ICdcXG4nKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxpbmVXaWR0aHMucHVzaChsYXN0TGluZVdpZHRoKTtcbiAgICAgICAgICAgICAgICBtYXhMaW5lV2lkdGggPSBNYXRoLm1heChtYXhMaW5lV2lkdGgsIGxhc3RMaW5lV2lkdGgpO1xuICAgICAgICAgICAgICAgICsrbGluZTtcbiAgICAgICAgICAgICAgICArK3NwYWNlc1JlbW92ZWQ7XG5cbiAgICAgICAgICAgICAgICBwb3MueCA9IDA7XG4gICAgICAgICAgICAgICAgcG9zLnkgKz0gZGF0YS5saW5lSGVpZ2h0O1xuICAgICAgICAgICAgICAgIHByZXZDaGFyQ29kZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBjaGFyRGF0YSA9IGRhdGEuY2hhcnNbY2hhckNvZGVdO1xuXG4gICAgICAgICAgICBpZiAoIWNoYXJEYXRhKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocHJldkNoYXJDb2RlICYmIGNoYXJEYXRhLmtlcm5pbmdbcHJldkNoYXJDb2RlXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwb3MueCArPSBjaGFyRGF0YS5rZXJuaW5nW3ByZXZDaGFyQ29kZV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNoYXJzLnB1c2goe1xuICAgICAgICAgICAgICAgIHRleHR1cmU6IGNoYXJEYXRhLnRleHR1cmUsXG4gICAgICAgICAgICAgICAgbGluZTogbGluZSxcbiAgICAgICAgICAgICAgICBjaGFyQ29kZTogY2hhckNvZGUsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IG5ldyBQb2ludChwb3MueCArIGNoYXJEYXRhLnhPZmZzZXQgKyAodGhpcy5fbGV0dGVyU3BhY2luZyAvIDIpLCBwb3MueSArIGNoYXJEYXRhLnlPZmZzZXQpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwb3MueCArPSBjaGFyRGF0YS54QWR2YW5jZSArIHRoaXMuX2xldHRlclNwYWNpbmc7XG4gICAgICAgICAgICBsYXN0TGluZVdpZHRoID0gcG9zLng7XG4gICAgICAgICAgICBtYXhMaW5lSGVpZ2h0ID0gTWF0aC5tYXgobWF4TGluZUhlaWdodCwgKGNoYXJEYXRhLnlPZmZzZXQgKyBjaGFyRGF0YS50ZXh0dXJlLmhlaWdodCkpO1xuICAgICAgICAgICAgcHJldkNoYXJDb2RlID0gY2hhckNvZGU7XG5cbiAgICAgICAgICAgIGlmIChsYXN0QnJlYWtQb3MgIT09IC0xICYmIG1heFdpZHRoID4gMCAmJiBwb3MueCA+IG1heFdpZHRoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICsrc3BhY2VzUmVtb3ZlZDtcbiAgICAgICAgICAgICAgICByZW1vdmVJdGVtcyhjaGFycywgMSArIGxhc3RCcmVha1BvcyAtIHNwYWNlc1JlbW92ZWQsIDEgKyBpIC0gbGFzdEJyZWFrUG9zKTtcbiAgICAgICAgICAgICAgICBpID0gbGFzdEJyZWFrUG9zO1xuICAgICAgICAgICAgICAgIGxhc3RCcmVha1BvcyA9IC0xO1xuXG4gICAgICAgICAgICAgICAgbGluZVdpZHRocy5wdXNoKGxhc3RCcmVha1dpZHRoKTtcbiAgICAgICAgICAgICAgICBtYXhMaW5lV2lkdGggPSBNYXRoLm1heChtYXhMaW5lV2lkdGgsIGxhc3RCcmVha1dpZHRoKTtcbiAgICAgICAgICAgICAgICBsaW5lKys7XG5cbiAgICAgICAgICAgICAgICBwb3MueCA9IDA7XG4gICAgICAgICAgICAgICAgcG9zLnkgKz0gZGF0YS5saW5lSGVpZ2h0O1xuICAgICAgICAgICAgICAgIHByZXZDaGFyQ29kZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbGFzdENoYXIgPSB0ZXh0LmNoYXJBdCh0ZXh0Lmxlbmd0aCAtIDEpO1xuXG4gICAgICAgIGlmIChsYXN0Q2hhciAhPT0gJ1xccicgJiYgbGFzdENoYXIgIT09ICdcXG4nKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoKC8oPzpcXHMpLykudGVzdChsYXN0Q2hhcikpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFzdExpbmVXaWR0aCA9IGxhc3RCcmVha1dpZHRoO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsaW5lV2lkdGhzLnB1c2gobGFzdExpbmVXaWR0aCk7XG4gICAgICAgICAgICBtYXhMaW5lV2lkdGggPSBNYXRoLm1heChtYXhMaW5lV2lkdGgsIGxhc3RMaW5lV2lkdGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxpbmVBbGlnbk9mZnNldHMgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPD0gbGluZTsgaSQxKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBhbGlnbk9mZnNldCA9IDA7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9mb250LmFsaWduID09PSAncmlnaHQnKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGFsaWduT2Zmc2V0ID0gbWF4TGluZVdpZHRoIC0gbGluZVdpZHRoc1tpJDFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5fZm9udC5hbGlnbiA9PT0gJ2NlbnRlcicpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYWxpZ25PZmZzZXQgPSAobWF4TGluZVdpZHRoIC0gbGluZVdpZHRoc1tpJDFdKSAvIDI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxpbmVBbGlnbk9mZnNldHMucHVzaChhbGlnbk9mZnNldCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbGVuQ2hhcnMgPSBjaGFycy5sZW5ndGg7XG4gICAgICAgIHZhciB0aW50ID0gdGhpcy50aW50O1xuXG4gICAgICAgIGZvciAodmFyIGkkMiA9IDA7IGkkMiA8IGxlbkNoYXJzOyBpJDIrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGMgPSB0aGlzLl9nbHlwaHNbaSQyXTsgLy8gZ2V0IHRoZSBuZXh0IGdseXBoIHNwcml0ZVxuXG4gICAgICAgICAgICBpZiAoYylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjLnRleHR1cmUgPSBjaGFyc1tpJDJdLnRleHR1cmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYyA9IG5ldyBTcHJpdGUoY2hhcnNbaSQyXS50ZXh0dXJlKTtcbiAgICAgICAgICAgICAgICBjLnJvdW5kUGl4ZWxzID0gdGhpcy5yb3VuZFBpeGVscztcbiAgICAgICAgICAgICAgICB0aGlzLl9nbHlwaHMucHVzaChjKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYy5wb3NpdGlvbi54ID0gKGNoYXJzW2kkMl0ucG9zaXRpb24ueCArIGxpbmVBbGlnbk9mZnNldHNbY2hhcnNbaSQyXS5saW5lXSkgKiBzY2FsZTtcbiAgICAgICAgICAgIGMucG9zaXRpb24ueSA9IGNoYXJzW2kkMl0ucG9zaXRpb24ueSAqIHNjYWxlO1xuICAgICAgICAgICAgYy5zY2FsZS54ID0gYy5zY2FsZS55ID0gc2NhbGU7XG4gICAgICAgICAgICBjLnRpbnQgPSB0aW50O1xuXG4gICAgICAgICAgICBpZiAoIWMucGFyZW50KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQoYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZW1vdmUgdW5uZWNlc3NhcnkgY2hpbGRyZW4uXG4gICAgICAgIGZvciAodmFyIGkkMyA9IGxlbkNoYXJzOyBpJDMgPCB0aGlzLl9nbHlwaHMubGVuZ3RoOyArK2kkMylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVDaGlsZCh0aGlzLl9nbHlwaHNbaSQzXSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90ZXh0V2lkdGggPSBtYXhMaW5lV2lkdGggKiBzY2FsZTtcbiAgICAgICAgdGhpcy5fdGV4dEhlaWdodCA9IChwb3MueSArIGRhdGEubGluZUhlaWdodCkgKiBzY2FsZTtcblxuICAgICAgICAvLyBhcHBseSBhbmNob3JcbiAgICAgICAgaWYgKHRoaXMuYW5jaG9yLnggIT09IDAgfHwgdGhpcy5hbmNob3IueSAhPT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgZm9yICh2YXIgaSQ0ID0gMDsgaSQ0IDwgbGVuQ2hhcnM7IGkkNCsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX2dseXBoc1tpJDRdLnggLT0gdGhpcy5fdGV4dFdpZHRoICogdGhpcy5hbmNob3IueDtcbiAgICAgICAgICAgICAgICB0aGlzLl9nbHlwaHNbaSQ0XS55IC09IHRoaXMuX3RleHRIZWlnaHQgKiB0aGlzLmFuY2hvci55O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21heExpbmVIZWlnaHQgPSBtYXhMaW5lSGVpZ2h0ICogc2NhbGU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHRyYW5zZm9ybSBvZiB0aGlzIG9iamVjdFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBCaXRtYXBUZXh0LnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiB1cGRhdGVUcmFuc2Zvcm0gKClcbiAgICB7XG4gICAgICAgIHRoaXMudmFsaWRhdGUoKTtcbiAgICAgICAgdGhpcy5jb250YWluZXJVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVmFsaWRhdGVzIHRleHQgYmVmb3JlIGNhbGxpbmcgcGFyZW50J3MgZ2V0TG9jYWxCb3VuZHNcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBUaGUgcmVjdGFuZ3VsYXIgYm91bmRpbmcgYXJlYVxuICAgICAqL1xuICAgIEJpdG1hcFRleHQucHJvdG90eXBlLmdldExvY2FsQm91bmRzID0gZnVuY3Rpb24gZ2V0TG9jYWxCb3VuZHMgKClcbiAgICB7XG4gICAgICAgIHRoaXMudmFsaWRhdGUoKTtcblxuICAgICAgICByZXR1cm4gQ29udGFpbmVyLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcy5jYWxsKHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRleHQgd2hlbiBuZWVkZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQml0bWFwVGV4dC5wcm90b3R5cGUudmFsaWRhdGUgPSBmdW5jdGlvbiB2YWxpZGF0ZSAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuZGlydHkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dCgpO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0aW50IG9mIHRoZSBCaXRtYXBUZXh0IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudGludC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnQudGludDtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRpbnQuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX2ZvbnQudGludCA9ICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIHZhbHVlID49IDApID8gdmFsdWUgOiAweEZGRkZGRjtcblxuICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFsaWdubWVudCBvZiB0aGUgQml0bWFwVGV4dCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICogQGRlZmF1bHQgJ2xlZnQnXG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmFsaWduLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZm9udC5hbGlnbjtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmFsaWduLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl9mb250LmFsaWduID0gdmFsdWUgfHwgJ2xlZnQnO1xuXG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYW5jaG9yIHNldHMgdGhlIG9yaWdpbiBwb2ludCBvZiB0aGUgdGV4dC5cbiAgICAgKlxuICAgICAqIFRoZSBkZWZhdWx0IGlzIGAoMCwwKWAsIHRoaXMgbWVhbnMgdGhlIHRleHQncyBvcmlnaW4gaXMgdGhlIHRvcCBsZWZ0LlxuICAgICAqXG4gICAgICogU2V0dGluZyB0aGUgYW5jaG9yIHRvIGAoMC41LDAuNSlgIG1lYW5zIHRoZSB0ZXh0J3Mgb3JpZ2luIGlzIGNlbnRlcmVkLlxuICAgICAqXG4gICAgICogU2V0dGluZyB0aGUgYW5jaG9yIHRvIGAoMSwxKWAgd291bGQgbWVhbiB0aGUgdGV4dCdzIG9yaWdpbiBwb2ludCB3aWxsIGJlIHRoZSBib3R0b20gcmlnaHQgY29ybmVyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5Qb2ludCB8IG51bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYW5jaG9yLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fYW5jaG9yO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYW5jaG9yLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fYW5jaG9yLnNldCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9hbmNob3IuY29weUZyb20odmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBmb250IGRlc2NyaXB0b3Igb2YgdGhlIEJpdG1hcFRleHQgb2JqZWN0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5mb250LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZm9udDtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmZvbnQuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICghdmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnNwbGl0KCcgJyk7XG5cbiAgICAgICAgICAgIHRoaXMuX2ZvbnQubmFtZSA9IHZhbHVlLmxlbmd0aCA9PT0gMSA/IHZhbHVlWzBdIDogdmFsdWUuc2xpY2UoMSkuam9pbignICcpO1xuICAgICAgICAgICAgdGhpcy5fZm9udC5zaXplID0gdmFsdWUubGVuZ3RoID49IDIgPyBwYXJzZUludCh2YWx1ZVswXSwgMTApIDogQml0bWFwVGV4dC5mb250c1t0aGlzLl9mb250Lm5hbWVdLnNpemU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9mb250Lm5hbWUgPSB2YWx1ZS5uYW1lO1xuICAgICAgICAgICAgdGhpcy5fZm9udC5zaXplID0gdHlwZW9mIHZhbHVlLnNpemUgPT09ICdudW1iZXInID8gdmFsdWUuc2l6ZSA6IHBhcnNlSW50KHZhbHVlLnNpemUsIDEwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGV4dCBvZiB0aGUgQml0bWFwVGV4dCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRleHQuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl90ZXh0O1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudGV4dC5zZXQgPSBmdW5jdGlvbiAodGV4dCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0ZXh0ID0gU3RyaW5nKHRleHQgPT09IG51bGwgfHwgdGV4dCA9PT0gdW5kZWZpbmVkID8gJycgOiB0ZXh0KTtcblxuICAgICAgICBpZiAodGhpcy5fdGV4dCA9PT0gdGV4dClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RleHQgPSB0ZXh0O1xuICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIG1heCB3aWR0aCBvZiB0aGlzIGJpdG1hcCB0ZXh0IGluIHBpeGVscy4gSWYgdGhlIHRleHQgcHJvdmlkZWQgaXMgbG9uZ2VyIHRoYW4gdGhlXG4gICAgICogdmFsdWUgcHJvdmlkZWQsIGxpbmUgYnJlYWtzIHdpbGwgYmUgYXV0b21hdGljYWxseSBpbnNlcnRlZCBpbiB0aGUgbGFzdCB3aGl0ZXNwYWNlLlxuICAgICAqIERpc2FibGUgYnkgc2V0dGluZyB0aGUgdmFsdWUgdG8gMC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMubWF4V2lkdGguZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tYXhXaWR0aDtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLm1heFdpZHRoLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fbWF4V2lkdGggPT09IHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbWF4V2lkdGggPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBtYXggbGluZSBoZWlnaHQuIFRoaXMgaXMgdXNlZnVsIHdoZW4gdHJ5aW5nIHRvIHVzZSB0aGUgdG90YWwgaGVpZ2h0IG9mIHRoZSBUZXh0LFxuICAgICAqIGkuZS4gd2hlbiB0cnlpbmcgdG8gdmVydGljYWxseSBhbGlnbi5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMubWF4TGluZUhlaWdodC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9tYXhMaW5lSGVpZ2h0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggb2YgdGhlIG92ZXJhbGwgdGV4dCwgZGlmZmVyZW50IGZyb20gZm9udFNpemUsXG4gICAgICogd2hpY2ggaXMgZGVmaW5lZCBpbiB0aGUgc3R5bGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy50ZXh0V2lkdGguZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHRoaXMudmFsaWRhdGUoKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fdGV4dFdpZHRoO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRpdGlvbmFsIHNwYWNlIGJldHdlZW4gY2hhcmFjdGVycy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMubGV0dGVyU3BhY2luZy5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xldHRlclNwYWNpbmc7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5sZXR0ZXJTcGFjaW5nLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fbGV0dGVyU3BhY2luZyAhPT0gdmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2xldHRlclNwYWNpbmcgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIG92ZXJhbGwgdGV4dCwgZGlmZmVyZW50IGZyb20gZm9udFNpemUsXG4gICAgICogd2hpY2ggaXMgZGVmaW5lZCBpbiB0aGUgc3R5bGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy50ZXh0SGVpZ2h0LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICB0aGlzLnZhbGlkYXRlKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3RleHRIZWlnaHQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGEgYml0bWFwIGZvbnQgd2l0aCBkYXRhIGFuZCBhIHRleHR1cmUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtYTUxEb2N1bWVudH0geG1sIC0gVGhlIFhNTCBkb2N1bWVudCBkYXRhLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsIFBJWEkuVGV4dHVyZT58UElYSS5UZXh0dXJlfFBJWEkuVGV4dHVyZVtdfSB0ZXh0dXJlcyAtIExpc3Qgb2YgdGV4dHVyZXMgZm9yIGVhY2ggcGFnZS5cbiAgICAgKiAgSWYgcHJvdmlkaW5nIGFuIG9iamVjdCwgdGhlIGtleSBpcyB0aGUgYDxwYWdlPmAgZWxlbWVudCdzIGBmaWxlYCBhdHRyaWJ1dGUgaW4gdGhlIEZOVCBmaWxlLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gUmVzdWx0IGZvbnQgb2JqZWN0IHdpdGggZm9udCwgc2l6ZSwgbGluZUhlaWdodCBhbmQgY2hhciBmaWVsZHMuXG4gICAgICovXG4gICAgQml0bWFwVGV4dC5yZWdpc3RlckZvbnQgPSBmdW5jdGlvbiByZWdpc3RlckZvbnQgKHhtbCwgdGV4dHVyZXMpXG4gICAge1xuICAgICAgICB2YXIgZGF0YSA9IHt9O1xuICAgICAgICB2YXIgaW5mbyA9IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5mbycpWzBdO1xuICAgICAgICB2YXIgY29tbW9uID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdjb21tb24nKVswXTtcbiAgICAgICAgdmFyIHBhZ2VzID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdwYWdlJyk7XG4gICAgICAgIHZhciByZXMgPSBnZXRSZXNvbHV0aW9uT2ZVcmwocGFnZXNbMF0uZ2V0QXR0cmlidXRlKCdmaWxlJyksIHNldHRpbmdzLlJFU09MVVRJT04pO1xuICAgICAgICB2YXIgcGFnZXNUZXh0dXJlcyA9IHt9O1xuXG4gICAgICAgIGRhdGEuZm9udCA9IGluZm8uZ2V0QXR0cmlidXRlKCdmYWNlJyk7XG4gICAgICAgIGRhdGEuc2l6ZSA9IHBhcnNlSW50KGluZm8uZ2V0QXR0cmlidXRlKCdzaXplJyksIDEwKTtcbiAgICAgICAgZGF0YS5saW5lSGVpZ2h0ID0gcGFyc2VJbnQoY29tbW9uLmdldEF0dHJpYnV0ZSgnbGluZUhlaWdodCcpLCAxMCkgLyByZXM7XG4gICAgICAgIGRhdGEuY2hhcnMgPSB7fTtcblxuICAgICAgICAvLyBTaW5nbGUgdGV4dHVyZSwgY29udmVydCB0byBsaXN0XG4gICAgICAgIGlmICh0ZXh0dXJlcyBpbnN0YW5jZW9mIFRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRleHR1cmVzID0gW3RleHR1cmVzXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENvbnZlcnQgdGhlIGlucHV0IFRleHR1cmUsIFRleHR1cmVzIG9yIG9iamVjdFxuICAgICAgICAvLyBpbnRvIGEgcGFnZSBUZXh0dXJlIGxvb2t1cCBieSBcImlkXCJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYWdlcy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGlkID0gcGFnZXNbaV0uZ2V0QXR0cmlidXRlKCdpZCcpO1xuICAgICAgICAgICAgdmFyIGZpbGUgPSBwYWdlc1tpXS5nZXRBdHRyaWJ1dGUoJ2ZpbGUnKTtcblxuICAgICAgICAgICAgcGFnZXNUZXh0dXJlc1tpZF0gPSB0ZXh0dXJlcyBpbnN0YW5jZW9mIEFycmF5ID8gdGV4dHVyZXNbaV0gOiB0ZXh0dXJlc1tmaWxlXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHBhcnNlIGxldHRlcnNcbiAgICAgICAgdmFyIGxldHRlcnMgPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2NoYXInKTtcblxuICAgICAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCBsZXR0ZXJzLmxlbmd0aDsgaSQxKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBsZXR0ZXIgPSBsZXR0ZXJzW2kkMV07XG4gICAgICAgICAgICB2YXIgY2hhckNvZGUgPSBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCdpZCcpLCAxMCk7XG4gICAgICAgICAgICB2YXIgcGFnZSA9IGxldHRlci5nZXRBdHRyaWJ1dGUoJ3BhZ2UnKSB8fCAwO1xuICAgICAgICAgICAgdmFyIHRleHR1cmVSZWN0ID0gbmV3IFJlY3RhbmdsZShcbiAgICAgICAgICAgICAgICAocGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneCcpLCAxMCkgLyByZXMpICsgKHBhZ2VzVGV4dHVyZXNbcGFnZV0uZnJhbWUueCAvIHJlcyksXG4gICAgICAgICAgICAgICAgKHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3knKSwgMTApIC8gcmVzKSArIChwYWdlc1RleHR1cmVzW3BhZ2VdLmZyYW1lLnkgLyByZXMpLFxuICAgICAgICAgICAgICAgIHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3dpZHRoJyksIDEwKSAvIHJlcyxcbiAgICAgICAgICAgICAgICBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCdoZWlnaHQnKSwgMTApIC8gcmVzXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBkYXRhLmNoYXJzW2NoYXJDb2RlXSA9IHtcbiAgICAgICAgICAgICAgICB4T2Zmc2V0OiBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCd4b2Zmc2V0JyksIDEwKSAvIHJlcyxcbiAgICAgICAgICAgICAgICB5T2Zmc2V0OiBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCd5b2Zmc2V0JyksIDEwKSAvIHJlcyxcbiAgICAgICAgICAgICAgICB4QWR2YW5jZTogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneGFkdmFuY2UnKSwgMTApIC8gcmVzLFxuICAgICAgICAgICAgICAgIGtlcm5pbmc6IHt9LFxuICAgICAgICAgICAgICAgIHRleHR1cmU6IG5ldyBUZXh0dXJlKHBhZ2VzVGV4dHVyZXNbcGFnZV0uYmFzZVRleHR1cmUsIHRleHR1cmVSZWN0KSxcbiAgICAgICAgICAgICAgICBwYWdlOiBwYWdlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHBhcnNlIGtlcm5pbmdzXG4gICAgICAgIHZhciBrZXJuaW5ncyA9IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgna2VybmluZycpO1xuXG4gICAgICAgIGZvciAodmFyIGkkMiA9IDA7IGkkMiA8IGtlcm5pbmdzLmxlbmd0aDsgaSQyKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBrZXJuaW5nID0ga2VybmluZ3NbaSQyXTtcbiAgICAgICAgICAgIHZhciBmaXJzdCA9IHBhcnNlSW50KGtlcm5pbmcuZ2V0QXR0cmlidXRlKCdmaXJzdCcpLCAxMCkgLyByZXM7XG4gICAgICAgICAgICB2YXIgc2Vjb25kID0gcGFyc2VJbnQoa2VybmluZy5nZXRBdHRyaWJ1dGUoJ3NlY29uZCcpLCAxMCkgLyByZXM7XG4gICAgICAgICAgICB2YXIgYW1vdW50ID0gcGFyc2VJbnQoa2VybmluZy5nZXRBdHRyaWJ1dGUoJ2Ftb3VudCcpLCAxMCkgLyByZXM7XG5cbiAgICAgICAgICAgIGlmIChkYXRhLmNoYXJzW3NlY29uZF0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGF0YS5jaGFyc1tzZWNvbmRdLmtlcm5pbmdbZmlyc3RdID0gYW1vdW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gSSdtIGxlYXZpbmcgdGhpcyBhcyBhIHRlbXBvcmFyeSBmaXggc28gd2UgY2FuIHRlc3QgdGhlIGJpdG1hcCBmb250cyBpbiB2M1xuICAgICAgICAvLyBidXQgaXQncyB2ZXJ5IGxpa2VseSB0byBjaGFuZ2VcbiAgICAgICAgQml0bWFwVGV4dC5mb250c1tkYXRhLmZvbnRdID0gZGF0YTtcblxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIEJpdG1hcFRleHQucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuICAgIHJldHVybiBCaXRtYXBUZXh0O1xufShDb250YWluZXIpKTtcblxuQml0bWFwVGV4dC5mb250cyA9IHt9O1xuXG4vKipcbiAqIHtAbGluayBQSVhJLkxvYWRlciBMb2FkZXJ9IG1pZGRsZXdhcmUgZm9yIGxvYWRpbmdcbiAqIGJpdG1hcC1iYXNlZCBmb250cyBzdWl0YWJsZSBmb3IgdXNpbmcgd2l0aCB7QGxpbmsgUElYSS5CaXRtYXBUZXh0fS5cbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBpbXBsZW1lbnRzIFBJWEkuSUxvYWRlclBsdWdpblxuICovXG52YXIgQml0bWFwRm9udExvYWRlciA9IGZ1bmN0aW9uIEJpdG1hcEZvbnRMb2FkZXIgKCkge307XG5cbkJpdG1hcEZvbnRMb2FkZXIucGFyc2UgPSBmdW5jdGlvbiBwYXJzZSAocmVzb3VyY2UsIHRleHR1cmUpXG57XG4gICAgcmVzb3VyY2UuYml0bWFwRm9udCA9IEJpdG1hcFRleHQucmVnaXN0ZXJGb250KHJlc291cmNlLmRhdGEsIHRleHR1cmUpO1xufTtcblxuLyoqXG4gKiBDYWxsZWQgd2hlbiB0aGUgcGx1Z2luIGlzIGluc3RhbGxlZC5cbiAqXG4gKiBAc2VlIFBJWEkuTG9hZGVyLnJlZ2lzdGVyUGx1Z2luXG4gKi9cbkJpdG1hcEZvbnRMb2FkZXIuYWRkID0gZnVuY3Rpb24gYWRkICgpXG57XG4gICAgTG9hZGVyUmVzb3VyY2Uuc2V0RXh0ZW5zaW9uWGhyVHlwZSgnZm50JywgTG9hZGVyUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQpO1xufTtcblxuLyoqXG4gKiBSZXBsYWNlbWVudCBmb3IgTm9kZUpTJ3MgcGF0aC5kaXJuYW1lXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBQYXRoIHRvIGdldCBkaXJlY3RvcnkgZm9yXG4gKi9cbkJpdG1hcEZvbnRMb2FkZXIuZGlybmFtZSA9IGZ1bmN0aW9uIGRpcm5hbWUgKHVybClcbntcbiAgICB2YXIgZGlyID0gdXJsXG4gICAgICAgIC5yZXBsYWNlKC9cXC8kLywgJycpIC8vIHJlcGxhY2UgdHJhaWxpbmcgc2xhc2hcbiAgICAgICAgLnJlcGxhY2UoL1xcL1teXFwvXSokLywgJycpOyAvLyByZW1vdmUgZXZlcnl0aGluZyBhZnRlciB0aGUgbGFzdFxuXG4gICAgLy8gRmlsZSByZXF1ZXN0IGlzIHJlbGF0aXZlLCB1c2UgY3VycmVudCBkaXJlY3RvcnlcbiAgICBpZiAoZGlyID09PSB1cmwpXG4gICAge1xuICAgICAgICByZXR1cm4gJy4nO1xuICAgIH1cbiAgICAvLyBTdGFydGVkIHdpdGggYSBzbGFzaFxuICAgIGVsc2UgaWYgKGRpciA9PT0gJycpXG4gICAge1xuICAgICAgICByZXR1cm4gJy8nO1xuICAgIH1cblxuICAgIHJldHVybiBkaXI7XG59O1xuXG4vKipcbiAqIENhbGxlZCBhZnRlciBhIHJlc291cmNlIGlzIGxvYWRlZC5cbiAqIEBzZWUgUElYSS5Mb2FkZXIubG9hZGVyTWlkZGxld2FyZVxuICogQHBhcmFtIHtQSVhJLkxvYWRlclJlc291cmNlfSByZXNvdXJjZVxuICogQHBhcmFtIHtmdW5jdGlvbn0gbmV4dFxuICovXG5CaXRtYXBGb250TG9hZGVyLnVzZSA9IGZ1bmN0aW9uIHVzZSAocmVzb3VyY2UsIG5leHQpXG57XG4gICAgLy8gc2tpcCBpZiBubyBkYXRhIG9yIG5vdCB4bWwgZGF0YVxuICAgIGlmICghcmVzb3VyY2UuZGF0YSB8fCByZXNvdXJjZS50eXBlICE9PSBMb2FkZXJSZXNvdXJjZS5UWVBFLlhNTClcbiAgICB7XG4gICAgICAgIG5leHQoKTtcblxuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gc2tpcCBpZiBub3QgYml0bWFwIGZvbnQgZGF0YSwgdXNpbmcgc29tZSBzaWxseSBkdWNrLXR5cGluZ1xuICAgIGlmIChyZXNvdXJjZS5kYXRhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdwYWdlJykubGVuZ3RoID09PSAwXG4gICAgICAgIHx8IHJlc291cmNlLmRhdGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2luZm8nKS5sZW5ndGggPT09IDBcbiAgICAgICAgfHwgcmVzb3VyY2UuZGF0YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5mbycpWzBdLmdldEF0dHJpYnV0ZSgnZmFjZScpID09PSBudWxsXG4gICAgKVxuICAgIHtcbiAgICAgICAgbmV4dCgpO1xuXG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgeG1sVXJsID0gIXJlc291cmNlLmlzRGF0YVVybCA/IEJpdG1hcEZvbnRMb2FkZXIuZGlybmFtZShyZXNvdXJjZS51cmwpIDogJyc7XG5cbiAgICBpZiAocmVzb3VyY2UuaXNEYXRhVXJsKVxuICAgIHtcbiAgICAgICAgaWYgKHhtbFVybCA9PT0gJy4nKVxuICAgICAgICB7XG4gICAgICAgICAgICB4bWxVcmwgPSAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmJhc2VVcmwgJiYgeG1sVXJsKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBpZiBiYXNldXJsIGhhcyBhIHRyYWlsaW5nIHNsYXNoIHRoZW4gYWRkIG9uZSB0byB4bWxVcmwgc28gdGhlIHJlcGxhY2Ugd29ya3MgYmVsb3dcbiAgICAgICAgICAgIGlmICh0aGlzLmJhc2VVcmwuY2hhckF0KHRoaXMuYmFzZVVybC5sZW5ndGggLSAxKSA9PT0gJy8nKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHhtbFVybCArPSAnLyc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyByZW1vdmUgYmFzZVVybCBmcm9tIHhtbFVybFxuICAgIHhtbFVybCA9IHhtbFVybC5yZXBsYWNlKHRoaXMuYmFzZVVybCwgJycpO1xuXG4gICAgLy8gaWYgdGhlcmUgaXMgYW4geG1sVXJsIG5vdywgaXQgbmVlZHMgYSB0cmFpbGluZyBzbGFzaC4gRW5zdXJlIHRoYXQgaXQgZG9lcyBpZiB0aGUgc3RyaW5nIGlzbid0IGVtcHR5LlxuICAgIGlmICh4bWxVcmwgJiYgeG1sVXJsLmNoYXJBdCh4bWxVcmwubGVuZ3RoIC0gMSkgIT09ICcvJylcbiAgICB7XG4gICAgICAgIHhtbFVybCArPSAnLyc7XG4gICAgfVxuXG4gICAgdmFyIHBhZ2VzID0gcmVzb3VyY2UuZGF0YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgncGFnZScpO1xuICAgIHZhciB0ZXh0dXJlcyA9IHt9O1xuXG4gICAgLy8gSGFuZGxlIGNvbXBsZXRlZCwgd2hlbiB0aGUgbnVtYmVyIG9mIHRleHR1cmVzXG4gICAgLy8gbG9hZCBpcyB0aGUgc2FtZSBudW1iZXIgYXMgcmVmZXJlbmNlcyBpbiB0aGUgZm50IGZpbGVcbiAgICB2YXIgY29tcGxldGVkID0gZnVuY3Rpb24gKHBhZ2UpIHtcbiAgICAgICAgdGV4dHVyZXNbcGFnZS5tZXRhZGF0YS5wYWdlRmlsZV0gPSBwYWdlLnRleHR1cmU7XG5cbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHRleHR1cmVzKS5sZW5ndGggPT09IHBhZ2VzLmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgQml0bWFwRm9udExvYWRlci5wYXJzZShyZXNvdXJjZSwgdGV4dHVyZXMpO1xuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFnZXMubGVuZ3RoOyArK2kpXG4gICAge1xuICAgICAgICB2YXIgcGFnZUZpbGUgPSBwYWdlc1tpXS5nZXRBdHRyaWJ1dGUoJ2ZpbGUnKTtcbiAgICAgICAgdmFyIHVybCA9IHhtbFVybCArIHBhZ2VGaWxlO1xuICAgICAgICB2YXIgZXhpc3RzID0gZmFsc2U7XG5cbiAgICAgICAgLy8gaW5jYXNlIHRoZSBpbWFnZSBpcyBsb2FkZWQgb3V0c2lkZVxuICAgICAgICAvLyB1c2luZyB0aGUgc2FtZSBsb2FkZXIsIHJlc291cmNlIHdpbGwgYmUgYXZhaWxhYmxlXG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcy5yZXNvdXJjZXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBiaXRtYXBSZXNvdXJjZSA9IHRoaXMucmVzb3VyY2VzW25hbWVdO1xuXG4gICAgICAgICAgICBpZiAoYml0bWFwUmVzb3VyY2UudXJsID09PSB1cmwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYml0bWFwUmVzb3VyY2UubWV0YWRhdGEucGFnZUZpbGUgPSBwYWdlRmlsZTtcbiAgICAgICAgICAgICAgICBpZiAoYml0bWFwUmVzb3VyY2UudGV4dHVyZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlZChiaXRtYXBSZXNvdXJjZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGJpdG1hcFJlc291cmNlLm9uQWZ0ZXJNaWRkbGV3YXJlLmFkZChjb21wbGV0ZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBleGlzdHMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gdGV4dHVyZSBpcyBub3QgbG9hZGVkLCB3ZSdsbCBhdHRlbXB0IHRvIGFkZFxuICAgICAgICAvLyBpdCB0byB0aGUgbG9hZCBhbmQgYWRkIHRoZSB0ZXh0dXJlIHRvIHRoZSBsaXN0XG4gICAgICAgIGlmICghZXhpc3RzKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBTdGFuZGFyZCBsb2FkaW5nIG9wdGlvbnMgZm9yIGltYWdlc1xuICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgY3Jvc3NPcmlnaW46IHJlc291cmNlLmNyb3NzT3JpZ2luLFxuICAgICAgICAgICAgICAgIGxvYWRUeXBlOiBMb2FkZXJSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgICAgICAgICAgICAgbWV0YWRhdGE6IE9iamVjdC5hc3NpZ24oXG4gICAgICAgICAgICAgICAgICAgIHsgcGFnZUZpbGU6IHBhZ2VGaWxlIH0sXG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlLm1ldGFkYXRhLmltYWdlTWV0YWRhdGFcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHBhcmVudFJlc291cmNlOiByZXNvdXJjZSxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRoaXMuYWRkKHVybCwgb3B0aW9ucywgY29tcGxldGVkKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbmV4cG9ydCB7IEJpdG1hcEZvbnRMb2FkZXIsIEJpdG1hcFRleHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRleHQtYml0bWFwLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9maWx0ZXItYWxwaGEgLSB2NS4xLjRcbiAqIENvbXBpbGVkIEZyaSwgMjAgU2VwIDIwMTkgMTc6MTc6NTkgVVRDXG4gKlxuICogQHBpeGkvZmlsdGVyLWFscGhhIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgRmlsdGVyLCBkZWZhdWx0VmVydGV4IH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbnZhciBmcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSBmbG9hdCB1QWxwaGE7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCkgKiB1QWxwaGE7XFxufVxcblwiO1xuXG4vKipcbiAqIFNpbXBsZXN0IGZpbHRlciAtIGFwcGxpZXMgYWxwaGEuXG4gKlxuICogVXNlIHRoaXMgaW5zdGVhZCBvZiBDb250YWluZXIncyBhbHBoYSBwcm9wZXJ0eSB0byBhdm9pZCB2aXN1YWwgbGF5ZXJpbmcgb2YgaW5kaXZpZHVhbCBlbGVtZW50cy5cbiAqIEFscGhhRmlsdGVyIGFwcGxpZXMgYWxwaGEgZXZlbmx5IGFjcm9zcyB0aGUgZW50aXJlIGRpc3BsYXkgb2JqZWN0IGFuZCBhbnkgb3BhcXVlIGVsZW1lbnRzIGl0IGNvbnRhaW5zLlxuICogSWYgZWxlbWVudHMgYXJlIG5vdCBvcGFxdWUsIHRoZXkgd2lsbCBibGVuZCB3aXRoIGVhY2ggb3RoZXIgYW55d2F5LlxuICpcbiAqIFZlcnkgaGFuZHkgaWYgeW91IHdhbnQgdG8gdXNlIGNvbW1vbiBmZWF0dXJlcyBvZiBhbGwgZmlsdGVyczpcbiAqXG4gKiAxLiBBc3NpZ24gYSBibGVuZE1vZGUgdG8gdGhpcyBmaWx0ZXIsIGJsZW5kIGFsbCBlbGVtZW50cyBpbnNpZGUgZGlzcGxheSBvYmplY3Qgd2l0aCBiYWNrZ3JvdW5kLlxuICpcbiAqIDIuIFRvIHVzZSBjbGlwcGluZyBpbiBkaXNwbGF5IGNvb3JkaW5hdGVzLCBhc3NpZ24gYSBmaWx0ZXJBcmVhIHRvIHRoZSBzYW1lIGNvbnRhaW5lciB0aGF0IGhhcyB0aGlzIGZpbHRlci5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbnZhciBBbHBoYUZpbHRlciA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEZpbHRlcikge1xuICAgIGZ1bmN0aW9uIEFscGhhRmlsdGVyKGFscGhhKVxuICAgIHtcbiAgICAgICAgaWYgKCBhbHBoYSA9PT0gdm9pZCAwICkgYWxwaGEgPSAxLjA7XG5cbiAgICAgICAgRmlsdGVyLmNhbGwodGhpcywgZGVmYXVsdFZlcnRleCwgZnJhZ21lbnQsIHsgdUFscGhhOiAxIH0pO1xuXG4gICAgICAgIHRoaXMuYWxwaGEgPSBhbHBoYTtcbiAgICB9XG5cbiAgICBpZiAoIEZpbHRlciApIEFscGhhRmlsdGVyLl9fcHJvdG9fXyA9IEZpbHRlcjtcbiAgICBBbHBoYUZpbHRlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBGaWx0ZXIgJiYgRmlsdGVyLnByb3RvdHlwZSApO1xuICAgIEFscGhhRmlsdGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEFscGhhRmlsdGVyO1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgYWxwaGE6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuICAgIC8qKlxuICAgICAqIENvZWZmaWNpZW50IGZvciBhbHBoYSBtdWx0aXBsaWNhdGlvblxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYWxwaGEuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLnVBbHBoYTtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmFscGhhLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnVBbHBoYSA9IHZhbHVlO1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggQWxwaGFGaWx0ZXIucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuICAgIHJldHVybiBBbHBoYUZpbHRlcjtcbn0oRmlsdGVyKSk7XG5cbmV4cG9ydCB7IEFscGhhRmlsdGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maWx0ZXItYWxwaGEuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2ZpbHRlci1ibHVyIC0gdjUuMS40XG4gKiBDb21waWxlZCBGcmksIDIwIFNlcCAyMDE5IDE3OjE3OjU5IFVUQ1xuICpcbiAqIEBwaXhpL2ZpbHRlci1ibHVyIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgRmlsdGVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcblxudmFyIHZlcnRUZW1wbGF0ZSA9IFwiXFxuICAgIGF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5cXG4gICAgdW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxuXFxuICAgIHVuaWZvcm0gZmxvYXQgc3RyZW5ndGg7XFxuXFxuICAgIHZhcnlpbmcgdmVjMiB2Qmx1clRleENvb3Jkc1slc2l6ZSVdO1xcblxcbiAgICB1bmlmb3JtIHZlYzQgaW5wdXRTaXplO1xcbiAgICB1bmlmb3JtIHZlYzQgb3V0cHV0RnJhbWU7XFxuICAgIFxcbiAgICB2ZWM0IGZpbHRlclZlcnRleFBvc2l0aW9uKCB2b2lkIClcXG4gICAge1xcbiAgICAgICAgdmVjMiBwb3NpdGlvbiA9IGFWZXJ0ZXhQb3NpdGlvbiAqIG1heChvdXRwdXRGcmFtZS56dywgdmVjMigwLikpICsgb3V0cHV0RnJhbWUueHk7XFxuICAgIFxcbiAgICAgICAgcmV0dXJuIHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKHBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcbiAgICB9XFxuICAgIFxcbiAgICB2ZWMyIGZpbHRlclRleHR1cmVDb29yZCggdm9pZCApXFxuICAgIHtcXG4gICAgICAgIHJldHVybiBhVmVydGV4UG9zaXRpb24gKiAob3V0cHV0RnJhbWUuencgKiBpbnB1dFNpemUuencpO1xcbiAgICB9XFxuXFxuICAgIHZvaWQgbWFpbih2b2lkKVxcbiAgICB7XFxuICAgICAgICBnbF9Qb3NpdGlvbiA9IGZpbHRlclZlcnRleFBvc2l0aW9uKCk7XFxuXFxuICAgICAgICB2ZWMyIHRleHR1cmVDb29yZCA9IGZpbHRlclRleHR1cmVDb29yZCgpO1xcbiAgICAgICAgJWJsdXIlXFxuICAgIH1cIjtcblxuZnVuY3Rpb24gZ2VuZXJhdGVCbHVyVmVydFNvdXJjZShrZXJuZWxTaXplLCB4KVxue1xuICAgIHZhciBoYWxmTGVuZ3RoID0gTWF0aC5jZWlsKGtlcm5lbFNpemUgLyAyKTtcblxuICAgIHZhciB2ZXJ0U291cmNlID0gdmVydFRlbXBsYXRlO1xuXG4gICAgdmFyIGJsdXJMb29wID0gJyc7XG4gICAgdmFyIHRlbXBsYXRlO1xuICAgIC8vIGxldCB2YWx1ZTtcblxuICAgIGlmICh4KVxuICAgIHtcbiAgICAgICAgdGVtcGxhdGUgPSAndkJsdXJUZXhDb29yZHNbJWluZGV4JV0gPSAgdGV4dHVyZUNvb3JkICsgdmVjMiglc2FtcGxlSW5kZXglICogc3RyZW5ndGgsIDAuMCk7JztcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgdGVtcGxhdGUgPSAndkJsdXJUZXhDb29yZHNbJWluZGV4JV0gPSAgdGV4dHVyZUNvb3JkICsgdmVjMigwLjAsICVzYW1wbGVJbmRleCUgKiBzdHJlbmd0aCk7JztcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtlcm5lbFNpemU7IGkrKylcbiAgICB7XG4gICAgICAgIHZhciBibHVyID0gdGVtcGxhdGUucmVwbGFjZSgnJWluZGV4JScsIGkpO1xuXG4gICAgICAgIC8vIHZhbHVlID0gaTtcblxuICAgICAgICAvLyBpZihpID49IGhhbGZMZW5ndGgpXG4gICAgICAgIC8vIHtcbiAgICAgICAgLy8gICAgIHZhbHVlID0ga2VybmVsU2l6ZSAtIGkgLSAxO1xuICAgICAgICAvLyB9XG5cbiAgICAgICAgYmx1ciA9IGJsdXIucmVwbGFjZSgnJXNhbXBsZUluZGV4JScsICgoaSAtIChoYWxmTGVuZ3RoIC0gMSkpICsgXCIuMFwiKSk7XG5cbiAgICAgICAgYmx1ckxvb3AgKz0gYmx1cjtcbiAgICAgICAgYmx1ckxvb3AgKz0gJ1xcbic7XG4gICAgfVxuXG4gICAgdmVydFNvdXJjZSA9IHZlcnRTb3VyY2UucmVwbGFjZSgnJWJsdXIlJywgYmx1ckxvb3ApO1xuICAgIHZlcnRTb3VyY2UgPSB2ZXJ0U291cmNlLnJlcGxhY2UoJyVzaXplJScsIGtlcm5lbFNpemUpO1xuXG4gICAgcmV0dXJuIHZlcnRTb3VyY2U7XG59XG5cbnZhciBHQVVTU0lBTl9WQUxVRVMgPSB7XG4gICAgNTogWzAuMTUzMzg4LCAwLjIyMTQ2MSwgMC4yNTAzMDFdLFxuICAgIDc6IFswLjA3MTMwMywgMC4xMzE1MTQsIDAuMTg5ODc5LCAwLjIxNDYwN10sXG4gICAgOTogWzAuMDI4NTMyLCAwLjA2NzIzNCwgMC4xMjQwMDksIDAuMTc5MDQ0LCAwLjIwMjM2XSxcbiAgICAxMTogWzAuMDA5MywgMC4wMjgwMDIsIDAuMDY1OTg0LCAwLjEyMTcwMywgMC4xNzU3MTMsIDAuMTk4NTk2XSxcbiAgICAxMzogWzAuMDAyNDA2LCAwLjAwOTI1NSwgMC4wMjc4NjcsIDAuMDY1NjY2LCAwLjEyMTExNywgMC4xNzQ4NjgsIDAuMTk3NjQxXSxcbiAgICAxNTogWzAuMDAwNDg5LCAwLjAwMjQwMywgMC4wMDkyNDYsIDAuMDI3ODQsIDAuMDY1NjAyLCAwLjEyMDk5OSwgMC4xNzQ2OTcsIDAuMTk3NDQ4XSxcbn07XG5cbnZhciBmcmFnVGVtcGxhdGUgPSBbXG4gICAgJ3ZhcnlpbmcgdmVjMiB2Qmx1clRleENvb3Jkc1slc2l6ZSVdOycsXG4gICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyOycsXG5cbiAgICAndm9pZCBtYWluKHZvaWQpJyxcbiAgICAneycsXG4gICAgJyAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KDAuMCk7JyxcbiAgICAnICAgICVibHVyJScsXG4gICAgJ30nIF0uam9pbignXFxuJyk7XG5cbmZ1bmN0aW9uIGdlbmVyYXRlQmx1ckZyYWdTb3VyY2Uoa2VybmVsU2l6ZSlcbntcbiAgICB2YXIga2VybmVsID0gR0FVU1NJQU5fVkFMVUVTW2tlcm5lbFNpemVdO1xuICAgIHZhciBoYWxmTGVuZ3RoID0ga2VybmVsLmxlbmd0aDtcblxuICAgIHZhciBmcmFnU291cmNlID0gZnJhZ1RlbXBsYXRlO1xuXG4gICAgdmFyIGJsdXJMb29wID0gJyc7XG4gICAgdmFyIHRlbXBsYXRlID0gJ2dsX0ZyYWdDb2xvciArPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZCbHVyVGV4Q29vcmRzWyVpbmRleCVdKSAqICV2YWx1ZSU7JztcbiAgICB2YXIgdmFsdWU7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtlcm5lbFNpemU7IGkrKylcbiAgICB7XG4gICAgICAgIHZhciBibHVyID0gdGVtcGxhdGUucmVwbGFjZSgnJWluZGV4JScsIGkpO1xuXG4gICAgICAgIHZhbHVlID0gaTtcblxuICAgICAgICBpZiAoaSA+PSBoYWxmTGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YWx1ZSA9IGtlcm5lbFNpemUgLSBpIC0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJsdXIgPSBibHVyLnJlcGxhY2UoJyV2YWx1ZSUnLCBrZXJuZWxbdmFsdWVdKTtcblxuICAgICAgICBibHVyTG9vcCArPSBibHVyO1xuICAgICAgICBibHVyTG9vcCArPSAnXFxuJztcbiAgICB9XG5cbiAgICBmcmFnU291cmNlID0gZnJhZ1NvdXJjZS5yZXBsYWNlKCclYmx1ciUnLCBibHVyTG9vcCk7XG4gICAgZnJhZ1NvdXJjZSA9IGZyYWdTb3VyY2UucmVwbGFjZSgnJXNpemUlJywga2VybmVsU2l6ZSk7XG5cbiAgICByZXR1cm4gZnJhZ1NvdXJjZTtcbn1cblxuLyoqXG4gKiBUaGUgQmx1ckZpbHRlclBhc3MgYXBwbGllcyBhIGhvcml6b250YWwgb3IgdmVydGljYWwgR2F1c3NpYW4gYmx1ciB0byBhbiBvYmplY3QuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICovXG52YXIgQmx1ckZpbHRlclBhc3MgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChGaWx0ZXIpIHtcbiAgICBmdW5jdGlvbiBCbHVyRmlsdGVyUGFzcyhob3Jpem9udGFsLCBzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSlcbiAgICB7XG4gICAgICAgIGtlcm5lbFNpemUgPSBrZXJuZWxTaXplIHx8IDU7XG4gICAgICAgIHZhciB2ZXJ0U3JjID0gZ2VuZXJhdGVCbHVyVmVydFNvdXJjZShrZXJuZWxTaXplLCBob3Jpem9udGFsKTtcbiAgICAgICAgdmFyIGZyYWdTcmMgPSBnZW5lcmF0ZUJsdXJGcmFnU291cmNlKGtlcm5lbFNpemUpO1xuXG4gICAgICAgIEZpbHRlci5jYWxsKFxuICAgICAgICAgICAgLy8gdmVydGV4IHNoYWRlclxuICAgICAgICAgICAgdGhpcywgdmVydFNyYyxcbiAgICAgICAgICAgIC8vIGZyYWdtZW50IHNoYWRlclxuICAgICAgICAgICAgZnJhZ1NyY1xuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuaG9yaXpvbnRhbCA9IGhvcml6b250YWw7XG5cbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbiB8fCBzZXR0aW5ncy5SRVNPTFVUSU9OO1xuXG4gICAgICAgIHRoaXMuX3F1YWxpdHkgPSAwO1xuXG4gICAgICAgIHRoaXMucXVhbGl0eSA9IHF1YWxpdHkgfHwgNDtcblxuICAgICAgICB0aGlzLmJsdXIgPSBzdHJlbmd0aCB8fCA4O1xuICAgIH1cblxuICAgIGlmICggRmlsdGVyICkgQmx1ckZpbHRlclBhc3MuX19wcm90b19fID0gRmlsdGVyO1xuICAgIEJsdXJGaWx0ZXJQYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEZpbHRlciAmJiBGaWx0ZXIucHJvdG90eXBlICk7XG4gICAgQmx1ckZpbHRlclBhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQmx1ckZpbHRlclBhc3M7XG5cbiAgICB2YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyBibHVyOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHF1YWxpdHk6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuICAgIEJsdXJGaWx0ZXJQYXNzLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIGFwcGx5IChmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhcilcbiAgICB7XG4gICAgICAgIGlmIChvdXRwdXQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmhvcml6b250YWwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCA9ICgxIC8gb3V0cHV0LndpZHRoKSAqIChvdXRwdXQud2lkdGggLyBpbnB1dC53aWR0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCA9ICgxIC8gb3V0cHV0LmhlaWdodCkgKiAob3V0cHV0LmhlaWdodCAvIGlucHV0LmhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5ob3Jpem9udGFsKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCA9ICgxIC8gZmlsdGVyTWFuYWdlci5yZW5kZXJlci53aWR0aCkgKiAoZmlsdGVyTWFuYWdlci5yZW5kZXJlci53aWR0aCAvIGlucHV0LndpZHRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoID0gKDEgLyBmaWx0ZXJNYW5hZ2VyLnJlbmRlcmVyLmhlaWdodCkgKiAoZmlsdGVyTWFuYWdlci5yZW5kZXJlci5oZWlnaHQgLyBpbnB1dC5oZWlnaHQpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzY3JlZW4gc3BhY2UhXG4gICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggKj0gdGhpcy5zdHJlbmd0aDtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCAvPSB0aGlzLnBhc3NlcztcblxuICAgICAgICBpZiAodGhpcy5wYXNzZXMgPT09IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCwgY2xlYXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHJlbmRlclRhcmdldCA9IGZpbHRlck1hbmFnZXIuZ2V0RmlsdGVyVGV4dHVyZSgpO1xuICAgICAgICAgICAgdmFyIHJlbmRlcmVyID0gZmlsdGVyTWFuYWdlci5yZW5kZXJlcjtcblxuICAgICAgICAgICAgdmFyIGZsaXAgPSBpbnB1dDtcbiAgICAgICAgICAgIHZhciBmbG9wID0gcmVuZGVyVGFyZ2V0O1xuXG4gICAgICAgICAgICB0aGlzLnN0YXRlLmJsZW5kID0gZmFsc2U7XG4gICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGZsaXAsIGZsb3AsIGZhbHNlKTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCB0aGlzLnBhc3NlcyAtIDE7IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmJpbmQoZmxpcCwgZmxpcC5maWx0ZXJGcmFtZSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnVTYW1wbGVyID0gZmxvcDtcblxuICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gZmxvcDtcblxuICAgICAgICAgICAgICAgIGZsb3AgPSBmbGlwO1xuICAgICAgICAgICAgICAgIGZsaXAgPSB0ZW1wO1xuXG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuc2hhZGVyLmJpbmQodGhpcyk7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuZHJhdyg1KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5ibGVuZCA9IHRydWU7XG4gICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGZsb3AsIG91dHB1dCwgY2xlYXIpO1xuICAgICAgICAgICAgZmlsdGVyTWFuYWdlci5yZXR1cm5GaWx0ZXJUZXh0dXJlKHJlbmRlclRhcmdldCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHN0cmVuZ3RoIG9mIGJvdGggdGhlIGJsdXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMTZcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYmx1ci5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RyZW5ndGg7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5ibHVyLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnBhZGRpbmcgPSAxICsgKE1hdGguYWJzKHZhbHVlKSAqIDIpO1xuICAgICAgICB0aGlzLnN0cmVuZ3RoID0gdmFsdWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHF1YWxpdHkgb2YgdGhlIGJsdXIgYnkgbW9kaWZ5aW5nIHRoZSBudW1iZXIgb2YgcGFzc2VzLiBNb3JlIHBhc3NlcyBtZWFucyBoaWdoZXJcbiAgICAgKiBxdWFpbGl0eSBibHVyaW5nIGJ1dCB0aGUgbG93ZXIgdGhlIHBlcmZvcm1hbmNlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDRcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMucXVhbGl0eS5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3F1YWxpdHk7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5xdWFsaXR5LnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl9xdWFsaXR5ID0gdmFsdWU7XG4gICAgICAgIHRoaXMucGFzc2VzID0gdmFsdWU7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBCbHVyRmlsdGVyUGFzcy5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4gICAgcmV0dXJuIEJsdXJGaWx0ZXJQYXNzO1xufShGaWx0ZXIpKTtcblxuLyoqXG4gKiBUaGUgQmx1ckZpbHRlciBhcHBsaWVzIGEgR2F1c3NpYW4gYmx1ciB0byBhbiBvYmplY3QuXG4gKlxuICogVGhlIHN0cmVuZ3RoIG9mIHRoZSBibHVyIGNhbiBiZSBzZXQgZm9yIHRoZSB4LWF4aXMgYW5kIHktYXhpcyBzZXBhcmF0ZWx5LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqL1xudmFyIEJsdXJGaWx0ZXIgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChGaWx0ZXIpIHtcbiAgICBmdW5jdGlvbiBCbHVyRmlsdGVyKHN0cmVuZ3RoLCBxdWFsaXR5LCByZXNvbHV0aW9uLCBrZXJuZWxTaXplKVxuICAgIHtcbiAgICAgICAgRmlsdGVyLmNhbGwodGhpcyk7XG5cbiAgICAgICAgdGhpcy5ibHVyWEZpbHRlciA9IG5ldyBCbHVyRmlsdGVyUGFzcyh0cnVlLCBzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSk7XG4gICAgICAgIHRoaXMuYmx1cllGaWx0ZXIgPSBuZXcgQmx1ckZpbHRlclBhc3MoZmFsc2UsIHN0cmVuZ3RoLCBxdWFsaXR5LCByZXNvbHV0aW9uLCBrZXJuZWxTaXplKTtcblxuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IHNldHRpbmdzLlJFU09MVVRJT047XG4gICAgICAgIHRoaXMucXVhbGl0eSA9IHF1YWxpdHkgfHwgNDtcbiAgICAgICAgdGhpcy5ibHVyID0gc3RyZW5ndGggfHwgODtcblxuICAgICAgICB0aGlzLnJlcGVhdEVkZ2VQaXhlbHMgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIEZpbHRlciApIEJsdXJGaWx0ZXIuX19wcm90b19fID0gRmlsdGVyO1xuICAgIEJsdXJGaWx0ZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggRmlsdGVyICYmIEZpbHRlci5wcm90b3R5cGUgKTtcbiAgICBCbHVyRmlsdGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEJsdXJGaWx0ZXI7XG5cbiAgICB2YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyBibHVyOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHF1YWxpdHk6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sYmx1clg6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sYmx1clk6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sYmxlbmRNb2RlOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHJlcGVhdEVkZ2VQaXhlbHM6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGZpbHRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbX0gZmlsdGVyTWFuYWdlciAtIFRoZSBtYW5hZ2VyLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBpbnB1dCAtIFRoZSBpbnB1dCB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IG91dHB1dCAtIFRoZSBvdXRwdXQgdGFyZ2V0LlxuICAgICAqL1xuICAgIEJsdXJGaWx0ZXIucHJvdG90eXBlLmFwcGx5ID0gZnVuY3Rpb24gYXBwbHkgKGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyKVxuICAgIHtcbiAgICAgICAgdmFyIHhTdHJlbmd0aCA9IE1hdGguYWJzKHRoaXMuYmx1clhGaWx0ZXIuc3RyZW5ndGgpO1xuICAgICAgICB2YXIgeVN0cmVuZ3RoID0gTWF0aC5hYnModGhpcy5ibHVyWUZpbHRlci5zdHJlbmd0aCk7XG5cbiAgICAgICAgaWYgKHhTdHJlbmd0aCAmJiB5U3RyZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciByZW5kZXJUYXJnZXQgPSBmaWx0ZXJNYW5hZ2VyLmdldEZpbHRlclRleHR1cmUoKTtcblxuICAgICAgICAgICAgdGhpcy5ibHVyWEZpbHRlci5hcHBseShmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgcmVuZGVyVGFyZ2V0LCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuYmx1cllGaWx0ZXIuYXBwbHkoZmlsdGVyTWFuYWdlciwgcmVuZGVyVGFyZ2V0LCBvdXRwdXQsIGNsZWFyKTtcblxuICAgICAgICAgICAgZmlsdGVyTWFuYWdlci5yZXR1cm5GaWx0ZXJUZXh0dXJlKHJlbmRlclRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoeVN0cmVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJsdXJZRmlsdGVyLmFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYmx1clhGaWx0ZXIuYXBwbHkoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCwgY2xlYXIpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIEJsdXJGaWx0ZXIucHJvdG90eXBlLnVwZGF0ZVBhZGRpbmcgPSBmdW5jdGlvbiB1cGRhdGVQYWRkaW5nICgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fcmVwZWF0RWRnZVBpeGVscylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wYWRkaW5nID0gMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucGFkZGluZyA9IE1hdGgubWF4KE1hdGguYWJzKHRoaXMuYmx1clhGaWx0ZXIuc3RyZW5ndGgpLCBNYXRoLmFicyh0aGlzLmJsdXJZRmlsdGVyLnN0cmVuZ3RoKSkgKiAyO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHN0cmVuZ3RoIG9mIGJvdGggdGhlIGJsdXJYIGFuZCBibHVyWSBwcm9wZXJ0aWVzIHNpbXVsdGFuZW91c2x5XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMlxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5ibHVyLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5ibHVyWEZpbHRlci5ibHVyO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYmx1ci5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5ibHVyWEZpbHRlci5ibHVyID0gdGhpcy5ibHVyWUZpbHRlci5ibHVyID0gdmFsdWU7XG4gICAgICAgIHRoaXMudXBkYXRlUGFkZGluZygpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBudW1iZXIgb2YgcGFzc2VzIGZvciBibHVyLiBNb3JlIHBhc3NlcyBtZWFucyBoaWdoZXIgcXVhaWxpdHkgYmx1cmluZy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnF1YWxpdHkuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmJsdXJYRmlsdGVyLnF1YWxpdHk7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5xdWFsaXR5LnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLmJsdXJYRmlsdGVyLnF1YWxpdHkgPSB0aGlzLmJsdXJZRmlsdGVyLnF1YWxpdHkgPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc3RyZW5ndGggb2YgdGhlIGJsdXJYIHByb3BlcnR5XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMlxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5ibHVyWC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmx1clhGaWx0ZXIuYmx1cjtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmJsdXJYLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLmJsdXJYRmlsdGVyLmJsdXIgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy51cGRhdGVQYWRkaW5nKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHN0cmVuZ3RoIG9mIHRoZSBibHVyWSBwcm9wZXJ0eVxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDJcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYmx1clkuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmJsdXJZRmlsdGVyLmJsdXI7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5ibHVyWS5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5ibHVyWUZpbHRlci5ibHVyID0gdmFsdWU7XG4gICAgICAgIHRoaXMudXBkYXRlUGFkZGluZygpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBibGVuZG1vZGUgb2YgdGhlIGZpbHRlclxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMXG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmJsZW5kTW9kZS5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmx1cllGaWx0ZXIuYmxlbmRNb2RlO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYmxlbmRNb2RlLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLmJsdXJZRmlsdGVyLmJsZW5kTW9kZSA9IHZhbHVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJZiBzZXQgdG8gdHJ1ZSB0aGUgZWRnZSBvZiB0aGUgdGFyZ2V0IHdpbGwgYmUgY2xhbXBlZFxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbH1cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5yZXBlYXRFZGdlUGl4ZWxzLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVwZWF0RWRnZVBpeGVscztcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnJlcGVhdEVkZ2VQaXhlbHMuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5fcmVwZWF0RWRnZVBpeGVscyA9IHZhbHVlO1xuICAgICAgICB0aGlzLnVwZGF0ZVBhZGRpbmcoKTtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIEJsdXJGaWx0ZXIucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuICAgIHJldHVybiBCbHVyRmlsdGVyO1xufShGaWx0ZXIpKTtcblxuZXhwb3J0IHsgQmx1ckZpbHRlciwgQmx1ckZpbHRlclBhc3MgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbHRlci1ibHVyLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9maWx0ZXItY29sb3ItbWF0cml4IC0gdjUuMS40XG4gKiBDb21waWxlZCBGcmksIDIwIFNlcCAyMDE5IDE3OjE3OjU5IFVUQ1xuICpcbiAqIEBwaXhpL2ZpbHRlci1jb2xvci1tYXRyaXggaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBGaWx0ZXIsIGRlZmF1bHRGaWx0ZXJWZXJ0ZXggfSBmcm9tICdAcGl4aS9jb3JlJztcblxudmFyIGZyYWdtZW50ID0gXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIGZsb2F0IG1bMjBdO1xcbnVuaWZvcm0gZmxvYXQgdUFscGhhO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgdmVjNCBjID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcXG5cXG4gICAgaWYgKHVBbHBoYSA9PSAwLjApIHtcXG4gICAgICAgIGdsX0ZyYWdDb2xvciA9IGM7XFxuICAgICAgICByZXR1cm47XFxuICAgIH1cXG5cXG4gICAgLy8gVW4tcHJlbXVsdGlwbHkgYWxwaGEgYmVmb3JlIGFwcGx5aW5nIHRoZSBjb2xvciBtYXRyaXguIFNlZSBpc3N1ZSAjMzUzOS5cXG4gICAgaWYgKGMuYSA+IDAuMCkge1xcbiAgICAgIGMucmdiIC89IGMuYTtcXG4gICAgfVxcblxcbiAgICB2ZWM0IHJlc3VsdDtcXG5cXG4gICAgcmVzdWx0LnIgPSAobVswXSAqIGMucik7XFxuICAgICAgICByZXN1bHQuciArPSAobVsxXSAqIGMuZyk7XFxuICAgICAgICByZXN1bHQuciArPSAobVsyXSAqIGMuYik7XFxuICAgICAgICByZXN1bHQuciArPSAobVszXSAqIGMuYSk7XFxuICAgICAgICByZXN1bHQuciArPSBtWzRdO1xcblxcbiAgICByZXN1bHQuZyA9IChtWzVdICogYy5yKTtcXG4gICAgICAgIHJlc3VsdC5nICs9IChtWzZdICogYy5nKTtcXG4gICAgICAgIHJlc3VsdC5nICs9IChtWzddICogYy5iKTtcXG4gICAgICAgIHJlc3VsdC5nICs9IChtWzhdICogYy5hKTtcXG4gICAgICAgIHJlc3VsdC5nICs9IG1bOV07XFxuXFxuICAgIHJlc3VsdC5iID0gKG1bMTBdICogYy5yKTtcXG4gICAgICAgcmVzdWx0LmIgKz0gKG1bMTFdICogYy5nKTtcXG4gICAgICAgcmVzdWx0LmIgKz0gKG1bMTJdICogYy5iKTtcXG4gICAgICAgcmVzdWx0LmIgKz0gKG1bMTNdICogYy5hKTtcXG4gICAgICAgcmVzdWx0LmIgKz0gbVsxNF07XFxuXFxuICAgIHJlc3VsdC5hID0gKG1bMTVdICogYy5yKTtcXG4gICAgICAgcmVzdWx0LmEgKz0gKG1bMTZdICogYy5nKTtcXG4gICAgICAgcmVzdWx0LmEgKz0gKG1bMTddICogYy5iKTtcXG4gICAgICAgcmVzdWx0LmEgKz0gKG1bMThdICogYy5hKTtcXG4gICAgICAgcmVzdWx0LmEgKz0gbVsxOV07XFxuXFxuICAgIHZlYzMgcmdiID0gbWl4KGMucmdiLCByZXN1bHQucmdiLCB1QWxwaGEpO1xcblxcbiAgICAvLyBQcmVtdWx0aXBseSBhbHBoYSBhZ2Fpbi5cXG4gICAgcmdiICo9IHJlc3VsdC5hO1xcblxcbiAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KHJnYiwgcmVzdWx0LmEpO1xcbn1cXG5cIjtcblxuLyoqXG4gKiBUaGUgQ29sb3JNYXRyaXhGaWx0ZXIgY2xhc3MgbGV0cyB5b3UgYXBwbHkgYSA1eDQgbWF0cml4IHRyYW5zZm9ybWF0aW9uIG9uIHRoZSBSR0JBXG4gKiBjb2xvciBhbmQgYWxwaGEgdmFsdWVzIG9mIGV2ZXJ5IHBpeGVsIG9uIHlvdXIgZGlzcGxheU9iamVjdCB0byBwcm9kdWNlIGEgcmVzdWx0XG4gKiB3aXRoIGEgbmV3IHNldCBvZiBSR0JBIGNvbG9yIGFuZCBhbHBoYSB2YWx1ZXMuIEl0J3MgcHJldHR5IHBvd2VyZnVsIVxuICpcbiAqIGBgYGpzXG4gKiAgbGV0IGNvbG9yTWF0cml4ID0gbmV3IFBJWEkuZmlsdGVycy5Db2xvck1hdHJpeEZpbHRlcigpO1xuICogIGNvbnRhaW5lci5maWx0ZXJzID0gW2NvbG9yTWF0cml4XTtcbiAqICBjb2xvck1hdHJpeC5jb250cmFzdCgyKTtcbiAqIGBgYFxuICogQGF1dGhvciBDbMOpbWVudCBDaGVuZWJhdWx0IDxjbGVtZW50QGdvb2Rib3lkaWdpdGFsLmNvbT5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqL1xudmFyIENvbG9yTWF0cml4RmlsdGVyID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoRmlsdGVyKSB7XG4gICAgZnVuY3Rpb24gQ29sb3JNYXRyaXhGaWx0ZXIoKVxuICAgIHtcbiAgICAgICAgdmFyIHVuaWZvcm1zID0ge1xuICAgICAgICAgICAgbTogbmV3IEZsb2F0MzJBcnJheShbMSwgMCwgMCwgMCwgMCxcbiAgICAgICAgICAgICAgICAwLCAxLCAwLCAwLCAwLFxuICAgICAgICAgICAgICAgIDAsIDAsIDEsIDAsIDAsXG4gICAgICAgICAgICAgICAgMCwgMCwgMCwgMSwgMF0pLFxuICAgICAgICAgICAgdUFscGhhOiAxLFxuICAgICAgICB9O1xuXG4gICAgICAgIEZpbHRlci5jYWxsKHRoaXMsIGRlZmF1bHRGaWx0ZXJWZXJ0ZXgsIGZyYWdtZW50LCB1bmlmb3Jtcyk7XG5cbiAgICAgICAgdGhpcy5hbHBoYSA9IDE7XG4gICAgfVxuXG4gICAgaWYgKCBGaWx0ZXIgKSBDb2xvck1hdHJpeEZpbHRlci5fX3Byb3RvX18gPSBGaWx0ZXI7XG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggRmlsdGVyICYmIEZpbHRlci5wcm90b3R5cGUgKTtcbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDb2xvck1hdHJpeEZpbHRlcjtcblxuICAgIHZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IG1hdHJpeDogeyBjb25maWd1cmFibGU6IHRydWUgfSxhbHBoYTogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtcyBjdXJyZW50IG1hdHJpeCBhbmQgc2V0IHRoZSBuZXcgb25lXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBtYXRyaXggLSA1eDQgbWF0cml4XG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLl9sb2FkTWF0cml4ID0gZnVuY3Rpb24gX2xvYWRNYXRyaXggKG1hdHJpeCwgbXVsdGlwbHkpXG4gICAge1xuICAgICAgICBpZiAoIG11bHRpcGx5ID09PSB2b2lkIDAgKSBtdWx0aXBseSA9IGZhbHNlO1xuXG4gICAgICAgIHZhciBuZXdNYXRyaXggPSBtYXRyaXg7XG5cbiAgICAgICAgaWYgKG11bHRpcGx5KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9tdWx0aXBseShuZXdNYXRyaXgsIHRoaXMudW5pZm9ybXMubSwgbWF0cml4KTtcbiAgICAgICAgICAgIG5ld01hdHJpeCA9IHRoaXMuX2NvbG9yTWF0cml4KG5ld01hdHJpeCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzZXQgdGhlIG5ldyBtYXRyaXhcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5tID0gbmV3TWF0cml4O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBNdWx0aXBsaWVzIHR3byBtYXQ1J3NcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gb3V0IC0gNXg0IG1hdHJpeCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGEgLSA1eDQgbWF0cml4IHRoZSBmaXJzdCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYiAtIDV4NCBtYXRyaXggdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHJldHVybnMge251bWJlcltdfSA1eDQgbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLl9tdWx0aXBseSA9IGZ1bmN0aW9uIF9tdWx0aXBseSAob3V0LCBhLCBiKVxuICAgIHtcbiAgICAgICAgLy8gUmVkIENoYW5uZWxcbiAgICAgICAgb3V0WzBdID0gKGFbMF0gKiBiWzBdKSArIChhWzFdICogYls1XSkgKyAoYVsyXSAqIGJbMTBdKSArIChhWzNdICogYlsxNV0pO1xuICAgICAgICBvdXRbMV0gPSAoYVswXSAqIGJbMV0pICsgKGFbMV0gKiBiWzZdKSArIChhWzJdICogYlsxMV0pICsgKGFbM10gKiBiWzE2XSk7XG4gICAgICAgIG91dFsyXSA9IChhWzBdICogYlsyXSkgKyAoYVsxXSAqIGJbN10pICsgKGFbMl0gKiBiWzEyXSkgKyAoYVszXSAqIGJbMTddKTtcbiAgICAgICAgb3V0WzNdID0gKGFbMF0gKiBiWzNdKSArIChhWzFdICogYls4XSkgKyAoYVsyXSAqIGJbMTNdKSArIChhWzNdICogYlsxOF0pO1xuICAgICAgICBvdXRbNF0gPSAoYVswXSAqIGJbNF0pICsgKGFbMV0gKiBiWzldKSArIChhWzJdICogYlsxNF0pICsgKGFbM10gKiBiWzE5XSkgKyBhWzRdO1xuXG4gICAgICAgIC8vIEdyZWVuIENoYW5uZWxcbiAgICAgICAgb3V0WzVdID0gKGFbNV0gKiBiWzBdKSArIChhWzZdICogYls1XSkgKyAoYVs3XSAqIGJbMTBdKSArIChhWzhdICogYlsxNV0pO1xuICAgICAgICBvdXRbNl0gPSAoYVs1XSAqIGJbMV0pICsgKGFbNl0gKiBiWzZdKSArIChhWzddICogYlsxMV0pICsgKGFbOF0gKiBiWzE2XSk7XG4gICAgICAgIG91dFs3XSA9IChhWzVdICogYlsyXSkgKyAoYVs2XSAqIGJbN10pICsgKGFbN10gKiBiWzEyXSkgKyAoYVs4XSAqIGJbMTddKTtcbiAgICAgICAgb3V0WzhdID0gKGFbNV0gKiBiWzNdKSArIChhWzZdICogYls4XSkgKyAoYVs3XSAqIGJbMTNdKSArIChhWzhdICogYlsxOF0pO1xuICAgICAgICBvdXRbOV0gPSAoYVs1XSAqIGJbNF0pICsgKGFbNl0gKiBiWzldKSArIChhWzddICogYlsxNF0pICsgKGFbOF0gKiBiWzE5XSkgKyBhWzldO1xuXG4gICAgICAgIC8vIEJsdWUgQ2hhbm5lbFxuICAgICAgICBvdXRbMTBdID0gKGFbMTBdICogYlswXSkgKyAoYVsxMV0gKiBiWzVdKSArIChhWzEyXSAqIGJbMTBdKSArIChhWzEzXSAqIGJbMTVdKTtcbiAgICAgICAgb3V0WzExXSA9IChhWzEwXSAqIGJbMV0pICsgKGFbMTFdICogYls2XSkgKyAoYVsxMl0gKiBiWzExXSkgKyAoYVsxM10gKiBiWzE2XSk7XG4gICAgICAgIG91dFsxMl0gPSAoYVsxMF0gKiBiWzJdKSArIChhWzExXSAqIGJbN10pICsgKGFbMTJdICogYlsxMl0pICsgKGFbMTNdICogYlsxN10pO1xuICAgICAgICBvdXRbMTNdID0gKGFbMTBdICogYlszXSkgKyAoYVsxMV0gKiBiWzhdKSArIChhWzEyXSAqIGJbMTNdKSArIChhWzEzXSAqIGJbMThdKTtcbiAgICAgICAgb3V0WzE0XSA9IChhWzEwXSAqIGJbNF0pICsgKGFbMTFdICogYls5XSkgKyAoYVsxMl0gKiBiWzE0XSkgKyAoYVsxM10gKiBiWzE5XSkgKyBhWzE0XTtcblxuICAgICAgICAvLyBBbHBoYSBDaGFubmVsXG4gICAgICAgIG91dFsxNV0gPSAoYVsxNV0gKiBiWzBdKSArIChhWzE2XSAqIGJbNV0pICsgKGFbMTddICogYlsxMF0pICsgKGFbMThdICogYlsxNV0pO1xuICAgICAgICBvdXRbMTZdID0gKGFbMTVdICogYlsxXSkgKyAoYVsxNl0gKiBiWzZdKSArIChhWzE3XSAqIGJbMTFdKSArIChhWzE4XSAqIGJbMTZdKTtcbiAgICAgICAgb3V0WzE3XSA9IChhWzE1XSAqIGJbMl0pICsgKGFbMTZdICogYls3XSkgKyAoYVsxN10gKiBiWzEyXSkgKyAoYVsxOF0gKiBiWzE3XSk7XG4gICAgICAgIG91dFsxOF0gPSAoYVsxNV0gKiBiWzNdKSArIChhWzE2XSAqIGJbOF0pICsgKGFbMTddICogYlsxM10pICsgKGFbMThdICogYlsxOF0pO1xuICAgICAgICBvdXRbMTldID0gKGFbMTVdICogYls0XSkgKyAoYVsxNl0gKiBiWzldKSArIChhWzE3XSAqIGJbMTRdKSArIChhWzE4XSAqIGJbMTldKSArIGFbMTldO1xuXG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIEZsb2F0MzIgQXJyYXkgYW5kIG5vcm1hbGl6ZSB0aGUgb2Zmc2V0IGNvbXBvbmVudCB0byAwLTFcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gbWF0cml4IC0gNXg0IG1hdHJpeFxuICAgICAqIEByZXR1cm4ge251bWJlcltdfSA1eDQgbWF0cml4IHdpdGggYWxsIHZhbHVlcyBiZXR3ZWVuIDAtMVxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5fY29sb3JNYXRyaXggPSBmdW5jdGlvbiBfY29sb3JNYXRyaXggKG1hdHJpeClcbiAgICB7XG4gICAgICAgIC8vIENyZWF0ZSBhIEZsb2F0MzIgQXJyYXkgYW5kIG5vcm1hbGl6ZSB0aGUgb2Zmc2V0IGNvbXBvbmVudCB0byAwLTFcbiAgICAgICAgdmFyIG0gPSBuZXcgRmxvYXQzMkFycmF5KG1hdHJpeCk7XG5cbiAgICAgICAgbVs0XSAvPSAyNTU7XG4gICAgICAgIG1bOV0gLz0gMjU1O1xuICAgICAgICBtWzE0XSAvPSAyNTU7XG4gICAgICAgIG1bMTldIC89IDI1NTtcblxuICAgICAgICByZXR1cm4gbTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRqdXN0cyBicmlnaHRuZXNzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYiAtIHZhbHVlIG9mIHRoZSBicmlndGhuZXNzICgwLTEsIHdoZXJlIDAgaXMgYmxhY2spXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmJyaWdodG5lc3MgPSBmdW5jdGlvbiBicmlnaHRuZXNzIChiLCBtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICBiLCAwLCAwLCAwLCAwLFxuICAgICAgICAgICAgMCwgYiwgMCwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIGIsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBtYXRyaWNlcyBpbiBncmV5IHNjYWxlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlIC0gdmFsdWUgb2YgdGhlIGdyZXkgKDAtMSwgd2hlcmUgMCBpcyBibGFjaylcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuZ3JleXNjYWxlID0gZnVuY3Rpb24gZ3JleXNjYWxlIChzY2FsZSwgbXVsdGlwbHkpXG4gICAge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgc2NhbGUsIHNjYWxlLCBzY2FsZSwgMCwgMCxcbiAgICAgICAgICAgIHNjYWxlLCBzY2FsZSwgc2NhbGUsIDAsIDAsXG4gICAgICAgICAgICBzY2FsZSwgc2NhbGUsIHNjYWxlLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgYmxhY2sgYW5kIHdoaXRlIG1hdHJpY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuYmxhY2tBbmRXaGl0ZSA9IGZ1bmN0aW9uIGJsYWNrQW5kV2hpdGUgKG11bHRpcGx5KVxuICAgIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDAuMywgMC42LCAwLjEsIDAsIDAsXG4gICAgICAgICAgICAwLjMsIDAuNiwgMC4xLCAwLCAwLFxuICAgICAgICAgICAgMC4zLCAwLjYsIDAuMSwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGh1ZSBwcm9wZXJ0eSBvZiB0aGUgY29sb3JcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiAtIGluIGRlZ3JlZXNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuaHVlID0gZnVuY3Rpb24gaHVlIChyb3RhdGlvbiwgbXVsdGlwbHkpXG4gICAge1xuICAgICAgICByb3RhdGlvbiA9IChyb3RhdGlvbiB8fCAwKSAvIDE4MCAqIE1hdGguUEk7XG5cbiAgICAgICAgdmFyIGNvc1IgPSBNYXRoLmNvcyhyb3RhdGlvbik7XG4gICAgICAgIHZhciBzaW5SID0gTWF0aC5zaW4ocm90YXRpb24pO1xuICAgICAgICB2YXIgc3FydCA9IE1hdGguc3FydDtcblxuICAgICAgICAvKiBhIGdvb2QgYXBwcm94aW1hdGlvbiBmb3IgaHVlIHJvdGF0aW9uXG4gICAgICAgICBUaGlzIG1hdHJpeCBpcyBmYXIgYmV0dGVyIHRoYW4gdGhlIHZlcnNpb25zIHdpdGggbWFnaWMgbHVtaW5hbmNlIGNvbnN0YW50c1xuICAgICAgICAgZm9ybWVybHkgdXNlZCBoZXJlLCBidXQgYWxzbyB1c2VkIGluIHRoZSBzdGFybGluZyBmcmFtZXdvcmsgKGZsYXNoKSBhbmQga25vd24gZnJvbSB0aGlzXG4gICAgICAgICBvbGQgcGFydCBvZiB0aGUgaW50ZXJuZXQ6IHF1YXNpbW9uZG8uY29tL2FyY2hpdmVzLzAwMDU2NS5waHBcblxuICAgICAgICAgVGhpcyBuZXcgbWF0cml4IGlzIGJhc2VkIG9uIHJnYiBjdWJlIHJvdGF0aW9uIGluIHNwYWNlLiBMb29rIGhlcmUgZm9yIGEgbW9yZSBkZXNjcmlwdGl2ZVxuICAgICAgICAgaW1wbGVtZW50YXRpb24gYXMgYSBzaGFkZXIgbm90IGEgZ2VuZXJhbCBtYXRyaXg6XG4gICAgICAgICBodHRwczovL2dpdGh1Yi5jb20vZXZhbncvZ2xmeC5qcy9ibG9iLzU4ODQxYzIzOTE5YmQ1OTc4N2VmZmMwMzMzYTQ4OTdiNDM4MzU0MTIvc3JjL2ZpbHRlcnMvYWRqdXN0L2h1ZXNhdHVyYXRpb24uanNcblxuICAgICAgICAgVGhpcyBpcyB0aGUgc291cmNlIGZvciB0aGUgY29kZTpcbiAgICAgICAgIHNlZSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzg1MDc4ODUvc2hpZnQtaHVlLW9mLWFuLXJnYi1jb2xvci84NTEwNzUxIzg1MTA3NTFcbiAgICAgICAgICovXG5cbiAgICAgICAgdmFyIHcgPSAxIC8gMztcbiAgICAgICAgdmFyIHNxclcgPSBzcXJ0KHcpOyAvLyB3ZWlnaHQgaXNcblxuICAgICAgICB2YXIgYTAwID0gY29zUiArICgoMS4wIC0gY29zUikgKiB3KTtcbiAgICAgICAgdmFyIGEwMSA9ICh3ICogKDEuMCAtIGNvc1IpKSAtIChzcXJXICogc2luUik7XG4gICAgICAgIHZhciBhMDIgPSAodyAqICgxLjAgLSBjb3NSKSkgKyAoc3FyVyAqIHNpblIpO1xuXG4gICAgICAgIHZhciBhMTAgPSAodyAqICgxLjAgLSBjb3NSKSkgKyAoc3FyVyAqIHNpblIpO1xuICAgICAgICB2YXIgYTExID0gY29zUiArICh3ICogKDEuMCAtIGNvc1IpKTtcbiAgICAgICAgdmFyIGExMiA9ICh3ICogKDEuMCAtIGNvc1IpKSAtIChzcXJXICogc2luUik7XG5cbiAgICAgICAgdmFyIGEyMCA9ICh3ICogKDEuMCAtIGNvc1IpKSAtIChzcXJXICogc2luUik7XG4gICAgICAgIHZhciBhMjEgPSAodyAqICgxLjAgLSBjb3NSKSkgKyAoc3FyVyAqIHNpblIpO1xuICAgICAgICB2YXIgYTIyID0gY29zUiArICh3ICogKDEuMCAtIGNvc1IpKTtcblxuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgYTAwLCBhMDEsIGEwMiwgMCwgMCxcbiAgICAgICAgICAgIGExMCwgYTExLCBhMTIsIDAsIDAsXG4gICAgICAgICAgICBhMjAsIGEyMSwgYTIyLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY29udHJhc3QgbWF0cml4LCBpbmNyZWFzZSB0aGUgc2VwYXJhdGlvbiBiZXR3ZWVuIGRhcmsgYW5kIGJyaWdodFxuICAgICAqIEluY3JlYXNlIGNvbnRyYXN0IDogc2hhZG93cyBkYXJrZXIgYW5kIGhpZ2hsaWdodHMgYnJpZ2h0ZXJcbiAgICAgKiBEZWNyZWFzZSBjb250cmFzdCA6IGJyaW5nIHRoZSBzaGFkb3dzIHVwIGFuZCB0aGUgaGlnaGxpZ2h0cyBkb3duXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gdmFsdWUgb2YgdGhlIGNvbnRyYXN0ICgwLTEpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmNvbnRyYXN0ID0gZnVuY3Rpb24gY29udHJhc3QgKGFtb3VudCwgbXVsdGlwbHkpXG4gICAge1xuICAgICAgICB2YXIgdiA9IChhbW91bnQgfHwgMCkgKyAxO1xuICAgICAgICB2YXIgbyA9IC0wLjUgKiAodiAtIDEpO1xuXG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICB2LCAwLCAwLCAwLCBvLFxuICAgICAgICAgICAgMCwgdiwgMCwgMCwgbyxcbiAgICAgICAgICAgIDAsIDAsIHYsIDAsIG8sXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBzYXR1cmF0aW9uIG1hdHJpeCwgaW5jcmVhc2UgdGhlIHNlcGFyYXRpb24gYmV0d2VlbiBjb2xvcnNcbiAgICAgKiBJbmNyZWFzZSBzYXR1cmF0aW9uIDogaW5jcmVhc2UgY29udHJhc3QsIGJyaWdodG5lc3MsIGFuZCBzaGFycG5lc3NcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSBUaGUgc2F0dXJhdGlvbiBhbW91bnQgKDAtMSlcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuc2F0dXJhdGUgPSBmdW5jdGlvbiBzYXR1cmF0ZSAoYW1vdW50LCBtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIGlmICggYW1vdW50ID09PSB2b2lkIDAgKSBhbW91bnQgPSAwO1xuXG4gICAgICAgIHZhciB4ID0gKGFtb3VudCAqIDIgLyAzKSArIDE7XG4gICAgICAgIHZhciB5ID0gKCh4IC0gMSkgKiAtMC41KTtcblxuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgeCwgeSwgeSwgMCwgMCxcbiAgICAgICAgICAgIHksIHgsIHksIDAsIDAsXG4gICAgICAgICAgICB5LCB5LCB4LCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc2F0dXJhdGUgaW1hZ2UgKHJlbW92ZSBjb2xvcilcbiAgICAgKlxuICAgICAqIENhbGwgdGhlIHNhdHVyYXRlIGZ1bmN0aW9uXG4gICAgICpcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuZGVzYXR1cmF0ZSA9IGZ1bmN0aW9uIGRlc2F0dXJhdGUgKCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgIHtcbiAgICAgICAgdGhpcy5zYXR1cmF0ZSgtMSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE5lZ2F0aXZlIGltYWdlIChpbnZlcnNlIG9mIGNsYXNzaWMgcmdiIG1hdHJpeClcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5uZWdhdGl2ZSA9IGZ1bmN0aW9uIG5lZ2F0aXZlIChtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAtMSwgMCwgMCwgMSwgMCxcbiAgICAgICAgICAgIDAsIC0xLCAwLCAxLCAwLFxuICAgICAgICAgICAgMCwgMCwgLTEsIDEsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2VwaWEgaW1hZ2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5zZXBpYSA9IGZ1bmN0aW9uIHNlcGlhIChtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAwLjM5MywgMC43Njg5OTk5LCAwLjE4ODk5OTk5LCAwLCAwLFxuICAgICAgICAgICAgMC4zNDksIDAuNjg1OTk5OSwgMC4xNjc5OTk5OSwgMCwgMCxcbiAgICAgICAgICAgIDAuMjcyLCAwLjUzMzk5OTksIDAuMTMwOTk5OTksIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29sb3IgbW90aW9uIHBpY3R1cmUgcHJvY2VzcyBpbnZlbnRlZCBpbiAxOTE2ICh0aGFua3MgRG9taW5pYyBTemFibGV3c2tpKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLnRlY2huaWNvbG9yID0gZnVuY3Rpb24gdGVjaG5pY29sb3IgKG11bHRpcGx5KVxuICAgIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDEuOTEyNTI3Nzg5MTQ1NjA4MywgLTAuODU0NTM0NDk3Njk1MTY0NSwgLTAuMDkxNTU1MDg0ODI3NTU1ODUsIDAsIDExLjc5MzYwMzQzNDM3NzMzNyxcbiAgICAgICAgICAgIC0wLjMwODc4MzMzODU5MjgwOTcsIDEuNzY1ODkwODU1NTQ1ODQyOCwgLTAuMTA2MDE3NDMwNzQ3MjIyNDUsIDAsIC03MC4zNTIwNTE2MTQ2MTM5OCxcbiAgICAgICAgICAgIC0wLjIzMTEwMzM3NzU0ODYxNiwgLTAuNzUwMTg5OTE5NzQ0MDIxMiwgMS44NDc1OTc4MTYxMDgxODksIDAsIDMwLjk1MDk0MDg2OTQ5MTEzOCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQb2xhcm9pZCBmaWx0ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5wb2xhcm9pZCA9IGZ1bmN0aW9uIHBvbGFyb2lkIChtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAxLjQzOCwgLTAuMDYyLCAtMC4wNjIsIDAsIDAsXG4gICAgICAgICAgICAtMC4xMjIsIDEuMzc4LCAtMC4xMjIsIDAsIDAsXG4gICAgICAgICAgICAtMC4wMTYsIC0wLjAxNiwgMS40ODMsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmlsdGVyIHdobyB0cmFuc2Zvcm1zIDogUmVkIC0+IEJsdWUgYW5kIEJsdWUgLT4gUmVkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUudG9CR1IgPSBmdW5jdGlvbiB0b0JHUiAobXVsdGlwbHkpXG4gICAge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgMCwgMCwgMSwgMCwgMCxcbiAgICAgICAgICAgIDAsIDEsIDAsIDAsIDAsXG4gICAgICAgICAgICAxLCAwLCAwLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvbG9yIHJldmVyc2FsIGZpbG0gaW50cm9kdWNlZCBieSBFYXN0bWFuIEtvZGFrIGluIDE5MzUuICh0aGFua3MgRG9taW5pYyBTemFibGV3c2tpKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmtvZGFjaHJvbWUgPSBmdW5jdGlvbiBrb2RhY2hyb21lIChtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAxLjEyODU1ODIzOTY1OTM1MjUsIC0wLjM5NjczODIyODM2MDEzNDgsIC0wLjAzOTkyNTU5MTcyOTIxNzkzLCAwLCA2My43Mjk1ODc2MjE5NjUwMixcbiAgICAgICAgICAgIC0wLjE2NDA0MzM5OTYyMjQ0NjE2LCAxLjA4MzUyNTE1NjYyOTEzMDQsIC0wLjA1NDk4ODA1MTE1NjMzMTMyLCAwLCAyNC43MzI0MDc4OTY3MDYyMDMsXG4gICAgICAgICAgICAtMC4xNjc4NjAxMDcwNjE1NTc2MywgLTAuNTYwMzQxNjI3NzY5NTI0OCwgMS42MDE0ODUwNzYxOTY0OTQzLCAwLCAzNS42Mjk4MjgwNzQ2MDk0NixcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBCcm93biBkZWxpY2lvdXMgYnJvd25pIGZpbHRlciAodGhhbmtzIERvbWluaWMgU3phYmxld3NraSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5icm93bmkgPSBmdW5jdGlvbiBicm93bmkgKG11bHRpcGx5KVxuICAgIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDAuNTk5NzAyMzQ5ODE1OTcxNSwgMC4zNDU1MzI0MzA0ODM5MTI2MywgLTAuMjcwODI5ODY3NDUzODA0MiwgMCwgNDcuNDMxOTI4NTU2MDA4NzMsXG4gICAgICAgICAgICAtMC4wMzc3MDMyNDk4Mzc3ODMxNTcsIDAuODYwOTU3NzU4Nzk5MjY0MSwgMC4xNTA1OTU1MjM4ODQ1OTkxMywgMCwgLTM2Ljk2ODQxNDk4MzE5MTI3LFxuICAgICAgICAgICAgMC4yNDExMzYzNTEyODE1MzMzNSwgLTAuMDc0NDEwMzc5MDg0MjI0OTIsIDAuNDQ5NzIxODIwNjQ4NzcxNTMsIDAsIC03LjU2MjA3NTI3NzU5MTI4MyxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBWaW50YWdlIGZpbHRlciAodGhhbmtzIERvbWluaWMgU3phYmxld3NraSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS52aW50YWdlID0gZnVuY3Rpb24gdmludGFnZSAobXVsdGlwbHkpXG4gICAge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgMC42Mjc5MzQ1NjM1NjA1OTk0LCAwLjMyMDIxODM0MjA4MTkzNjcsIC0wLjAzOTY1NDA4MjExMzEyNDUzLCAwLCA5LjY1MTI4NTgzNTI5NDEyMyxcbiAgICAgICAgICAgIDAuMDI1NzgzOTc3MDQ4MDg4NjgsIDAuNjQ0MTE4ODY0NDM3NDc3MSwgMC4wMzI1OTEyNzYxNjE0OTI5NCwgMCwgNy40NjI4MjkxNzY0NzA1OTEsXG4gICAgICAgICAgICAwLjA0NjYwNTU1NTY3ODI3MTksIC0wLjA4NTEyMzI5ODcyNDc4OTEsIDAuNTI0MTY0ODAxODcwMDQ2NSwgMCwgNS4xNTkxOTA1ODgyMzUyOTYsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogV2UgZG9uJ3Qga25vdyBleGFjdGx5IHdoYXQgaXQgZG9lcywga2luZCBvZiBncmFkaWVudCBtYXAsIGJ1dCBmdW5ueSB0byBwbGF5IHdpdGghXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVzYXR1cmF0aW9uIC0gVG9uZSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvbmVkIC0gVG9uZSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxpZ2h0Q29sb3IgLSBUb25lIHZhbHVlcywgZXhhbXBsZTogYDB4RkZFNTgwYFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkYXJrQ29sb3IgLSBUb25lIHZhbHVlcywgZXhhbXBsZTogYDB4RkZFNTgwYFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5jb2xvclRvbmUgPSBmdW5jdGlvbiBjb2xvclRvbmUgKGRlc2F0dXJhdGlvbiwgdG9uZWQsIGxpZ2h0Q29sb3IsIGRhcmtDb2xvciwgbXVsdGlwbHkpXG4gICAge1xuICAgICAgICBkZXNhdHVyYXRpb24gPSBkZXNhdHVyYXRpb24gfHwgMC4yO1xuICAgICAgICB0b25lZCA9IHRvbmVkIHx8IDAuMTU7XG4gICAgICAgIGxpZ2h0Q29sb3IgPSBsaWdodENvbG9yIHx8IDB4RkZFNTgwO1xuICAgICAgICBkYXJrQ29sb3IgPSBkYXJrQ29sb3IgfHwgMHgzMzgwMDA7XG5cbiAgICAgICAgdmFyIGxSID0gKChsaWdodENvbG9yID4+IDE2KSAmIDB4RkYpIC8gMjU1O1xuICAgICAgICB2YXIgbEcgPSAoKGxpZ2h0Q29sb3IgPj4gOCkgJiAweEZGKSAvIDI1NTtcbiAgICAgICAgdmFyIGxCID0gKGxpZ2h0Q29sb3IgJiAweEZGKSAvIDI1NTtcblxuICAgICAgICB2YXIgZFIgPSAoKGRhcmtDb2xvciA+PiAxNikgJiAweEZGKSAvIDI1NTtcbiAgICAgICAgdmFyIGRHID0gKChkYXJrQ29sb3IgPj4gOCkgJiAweEZGKSAvIDI1NTtcbiAgICAgICAgdmFyIGRCID0gKGRhcmtDb2xvciAmIDB4RkYpIC8gMjU1O1xuXG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAwLjMsIDAuNTksIDAuMTEsIDAsIDAsXG4gICAgICAgICAgICBsUiwgbEcsIGxCLCBkZXNhdHVyYXRpb24sIDAsXG4gICAgICAgICAgICBkUiwgZEcsIGRCLCB0b25lZCwgMCxcbiAgICAgICAgICAgIGxSIC0gZFIsIGxHIC0gZEcsIGxCIC0gZEIsIDAsIDAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBOaWdodCBlZmZlY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbnRlbnNpdHkgLSBUaGUgaW50ZW5zaXR5IG9mIHRoZSBuaWdodCBlZmZlY3QuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLm5pZ2h0ID0gZnVuY3Rpb24gbmlnaHQgKGludGVuc2l0eSwgbXVsdGlwbHkpXG4gICAge1xuICAgICAgICBpbnRlbnNpdHkgPSBpbnRlbnNpdHkgfHwgMC4xO1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgaW50ZW5zaXR5ICogKC0yLjApLCAtaW50ZW5zaXR5LCAwLCAwLCAwLFxuICAgICAgICAgICAgLWludGVuc2l0eSwgMCwgaW50ZW5zaXR5LCAwLCAwLFxuICAgICAgICAgICAgMCwgaW50ZW5zaXR5LCBpbnRlbnNpdHkgKiAyLjAsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUHJlZGF0b3IgZWZmZWN0XG4gICAgICpcbiAgICAgKiBFcmFzZSB0aGUgY3VycmVudCBtYXRyaXggYnkgc2V0dGluZyBhIG5ldyBpbmRlcGVudCBvbmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSBob3cgbXVjaCB0aGUgcHJlZGF0b3IgZmVlbHMgaGlzIGZ1dHVyZSB2aWN0aW1cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUucHJlZGF0b3IgPSBmdW5jdGlvbiBwcmVkYXRvciAoYW1vdW50LCBtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAvLyByb3cgMVxuICAgICAgICAgICAgMTEuMjI0MTMwNjMwNDkzMTY0ICogYW1vdW50LFxuICAgICAgICAgICAgLTQuNzk0NDg2OTk5NTExNzE5ICogYW1vdW50LFxuICAgICAgICAgICAgLTIuODc0NjExODU0NTUzMjIyNyAqIGFtb3VudCxcbiAgICAgICAgICAgIDAgKiBhbW91bnQsXG4gICAgICAgICAgICAwLjQwMzQyNDM4MjIwOTc3NzgzICogYW1vdW50LFxuICAgICAgICAgICAgLy8gcm93IDJcbiAgICAgICAgICAgIC0zLjYzMzA2OTc1MzY0Njg1MDYgKiBhbW91bnQsXG4gICAgICAgICAgICA5LjE5MzE1NzE5NjA0NDkyMiAqIGFtb3VudCxcbiAgICAgICAgICAgIC0yLjk1MTgxMDgzNjc5MTk5MiAqIGFtb3VudCxcbiAgICAgICAgICAgIDAgKiBhbW91bnQsXG4gICAgICAgICAgICAtMS4zMTYxMzUwNDg4NjYyNzIgKiBhbW91bnQsXG4gICAgICAgICAgICAvLyByb3cgM1xuICAgICAgICAgICAgLTMuMjE4NDE5NzkwMjY3OTQ0MyAqIGFtb3VudCxcbiAgICAgICAgICAgIC00LjIzNzUwMzA1MTc1NzgxMjUgKiBhbW91bnQsXG4gICAgICAgICAgICA3LjQ3NjQ0ODA1OTA4MjAzMSAqIGFtb3VudCxcbiAgICAgICAgICAgIDAgKiBhbW91bnQsXG4gICAgICAgICAgICAwLjgwNDQ0NTkyMjM3NDcyNTMgKiBhbW91bnQsXG4gICAgICAgICAgICAvLyByb3cgNFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIExTRCBlZmZlY3RcbiAgICAgKlxuICAgICAqIE11bHRpcGx5IHRoZSBjdXJyZW50IG1hdHJpeFxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmxzZCA9IGZ1bmN0aW9uIGxzZCAobXVsdGlwbHkpXG4gICAge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgMiwgLTAuNCwgMC41LCAwLCAwLFxuICAgICAgICAgICAgLTAuNSwgMiwgLTAuNCwgMCwgMCxcbiAgICAgICAgICAgIC0wLjQsIC0wLjUsIDMsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRXJhc2UgdGhlIGN1cnJlbnQgbWF0cml4IGJ5IHNldHRpbmcgdGhlIGRlZmF1bHQgb25lXG4gICAgICpcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiByZXNldCAoKVxuICAgIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDEsIDAsIDAsIDAsIDAsXG4gICAgICAgICAgICAwLCAxLCAwLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMSwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgZmFsc2UpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbWF0cml4IG9mIHRoZSBjb2xvciBtYXRyaXggZmlsdGVyXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgKiBAZGVmYXVsdCBbMSwgMCwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMCwgMSwgMF1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMubWF0cml4LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy5tO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMubWF0cml4LnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnVuaWZvcm1zLm0gPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9wYWNpdHkgdmFsdWUgdG8gdXNlIHdoZW4gbWl4aW5nIHRoZSBvcmlnaW5hbCBhbmQgcmVzdWx0YW50IGNvbG9ycy5cbiAgICAgKlxuICAgICAqIFdoZW4gdGhlIHZhbHVlIGlzIDAsIHRoZSBvcmlnaW5hbCBjb2xvciBpcyB1c2VkIHdpdGhvdXQgbW9kaWZpY2F0aW9uLlxuICAgICAqIFdoZW4gdGhlIHZhbHVlIGlzIDEsIHRoZSByZXN1bHQgY29sb3IgaXMgdXNlZC5cbiAgICAgKiBXaGVuIGluIHRoZSByYW5nZSAoMCwgMSkgdGhlIGNvbG9yIGlzIGludGVycG9sYXRlZCBiZXR3ZWVuIHRoZSBvcmlnaW5hbCBhbmQgcmVzdWx0IGJ5IHRoaXMgYW1vdW50LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYWxwaGEuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLnVBbHBoYTtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmFscGhhLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnVBbHBoYSA9IHZhbHVlO1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuICAgIHJldHVybiBDb2xvck1hdHJpeEZpbHRlcjtcbn0oRmlsdGVyKSk7XG5cbi8vIEFtZXJpY2FuaXplZCBhbGlhc1xuQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmdyYXlzY2FsZSA9IENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5ncmV5c2NhbGU7XG5cbmV4cG9ydCB7IENvbG9yTWF0cml4RmlsdGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maWx0ZXItY29sb3ItbWF0cml4LmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9maWx0ZXItZGlzcGxhY2VtZW50IC0gdjUuMS40XG4gKiBDb21waWxlZCBGcmksIDIwIFNlcCAyMDE5IDE3OjE3OjU5IFVUQ1xuICpcbiAqIEBwaXhpL2ZpbHRlci1kaXNwbGFjZW1lbnQgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBGaWx0ZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IE1hdHJpeCwgUG9pbnQgfSBmcm9tICdAcGl4aS9tYXRoJztcblxudmFyIHZlcnRleCA9IFwiYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyBmaWx0ZXJNYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudmFyeWluZyB2ZWMyIHZGaWx0ZXJDb29yZDtcXG5cXG51bmlmb3JtIHZlYzQgaW5wdXRTaXplO1xcbnVuaWZvcm0gdmVjNCBvdXRwdXRGcmFtZTtcXG5cXG52ZWM0IGZpbHRlclZlcnRleFBvc2l0aW9uKCB2b2lkIClcXG57XFxuICAgIHZlYzIgcG9zaXRpb24gPSBhVmVydGV4UG9zaXRpb24gKiBtYXgob3V0cHV0RnJhbWUuencsIHZlYzIoMC4pKSArIG91dHB1dEZyYW1lLnh5O1xcblxcbiAgICByZXR1cm4gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMocG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxufVxcblxcbnZlYzIgZmlsdGVyVGV4dHVyZUNvb3JkKCB2b2lkIClcXG57XFxuICAgIHJldHVybiBhVmVydGV4UG9zaXRpb24gKiAob3V0cHV0RnJhbWUuencgKiBpbnB1dFNpemUuencpO1xcbn1cXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuXFx0Z2xfUG9zaXRpb24gPSBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbigpO1xcblxcdHZUZXh0dXJlQ29vcmQgPSBmaWx0ZXJUZXh0dXJlQ29vcmQoKTtcXG5cXHR2RmlsdGVyQ29vcmQgPSAoIGZpbHRlck1hdHJpeCAqIHZlYzMoIHZUZXh0dXJlQ29vcmQsIDEuMCkgICkueHk7XFxufVxcblwiO1xuXG52YXIgZnJhZ21lbnQgPSBcInZhcnlpbmcgdmVjMiB2RmlsdGVyQ29vcmQ7XFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSB2ZWMyIHNjYWxlO1xcbnVuaWZvcm0gbWF0MiByb3RhdGlvbjtcXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIHNhbXBsZXIyRCBtYXBTYW1wbGVyO1xcblxcbnVuaWZvcm0gaGlnaHAgdmVjNCBpbnB1dFNpemU7XFxudW5pZm9ybSB2ZWM0IGlucHV0Q2xhbXA7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgdmVjNCBtYXAgPSAgdGV4dHVyZTJEKG1hcFNhbXBsZXIsIHZGaWx0ZXJDb29yZCk7XFxuXFxuICBtYXAgLT0gMC41O1xcbiAgbWFwLnh5ID0gc2NhbGUgKiBpbnB1dFNpemUuencgKiAocm90YXRpb24gKiBtYXAueHkpO1xcblxcbiAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCBjbGFtcCh2ZWMyKHZUZXh0dXJlQ29vcmQueCArIG1hcC54LCB2VGV4dHVyZUNvb3JkLnkgKyBtYXAueSksIGlucHV0Q2xhbXAueHksIGlucHV0Q2xhbXAuencpKTtcXG59XFxuXCI7XG5cbi8qKlxuICogVGhlIERpc3BsYWNlbWVudEZpbHRlciBjbGFzcyB1c2VzIHRoZSBwaXhlbCB2YWx1ZXMgZnJvbSB0aGUgc3BlY2lmaWVkIHRleHR1cmVcbiAqIChjYWxsZWQgdGhlIGRpc3BsYWNlbWVudCBtYXApIHRvIHBlcmZvcm0gYSBkaXNwbGFjZW1lbnQgb2YgYW4gb2JqZWN0LlxuICpcbiAqIFlvdSBjYW4gdXNlIHRoaXMgZmlsdGVyIHRvIGFwcGx5IGFsbCBtYW5vciBvZiBjcmF6eSB3YXJwaW5nIGVmZmVjdHMuXG4gKiBDdXJyZW50bHkgdGhlIGByYCBwcm9wZXJ0eSBvZiB0aGUgdGV4dHVyZSBpcyB1c2VkIHRvIG9mZnNldCB0aGUgYHhgXG4gKiBhbmQgdGhlIGBnYCBwcm9wZXJ0eSBvZiB0aGUgdGV4dHVyZSBpcyB1c2VkIHRvIG9mZnNldCB0aGUgYHlgLlxuICpcbiAqIFRoZSB3YXkgaXQgd29ya3MgaXMgaXQgdXNlcyB0aGUgdmFsdWVzIG9mIHRoZSBkaXNwbGFjZW1lbnQgbWFwIHRvIGxvb2sgdXAgdGhlXG4gKiBjb3JyZWN0IHBpeGVscyB0byBvdXRwdXQuIFRoaXMgbWVhbnMgaXQncyBub3QgdGVjaG5pY2FsbHkgbW92aW5nIHRoZSBvcmlnaW5hbC5cbiAqIEluc3RlYWQsIGl0J3Mgc3RhcnRpbmcgYXQgdGhlIG91dHB1dCBhbmQgYXNraW5nIFwid2hpY2ggcGl4ZWwgZnJvbSB0aGUgb3JpZ2luYWwgZ29lcyBoZXJlXCIuXG4gKiBGb3IgZXhhbXBsZSwgaWYgYSBkaXNwbGFjZW1lbnQgbWFwIHBpeGVsIGhhcyBgcmVkID0gMWAgYW5kIHRoZSBmaWx0ZXIgc2NhbGUgaXMgYDIwYCxcbiAqIHRoaXMgZmlsdGVyIHdpbGwgb3V0cHV0IHRoZSBwaXhlbCBhcHByb3hpbWF0ZWx5IDIwIHBpeGVscyB0byB0aGUgcmlnaHQgb2YgdGhlIG9yaWdpbmFsLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqL1xudmFyIERpc3BsYWNlbWVudEZpbHRlciA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEZpbHRlcikge1xuICAgIGZ1bmN0aW9uIERpc3BsYWNlbWVudEZpbHRlcihzcHJpdGUsIHNjYWxlKVxuICAgIHtcbiAgICAgICAgdmFyIG1hc2tNYXRyaXggPSBuZXcgTWF0cml4KCk7XG5cbiAgICAgICAgc3ByaXRlLnJlbmRlcmFibGUgPSBmYWxzZTtcblxuICAgICAgICBGaWx0ZXIuY2FsbCh0aGlzLCB2ZXJ0ZXgsIGZyYWdtZW50LCB7XG4gICAgICAgICAgICBtYXBTYW1wbGVyOiBzcHJpdGUuX3RleHR1cmUsXG4gICAgICAgICAgICBmaWx0ZXJNYXRyaXg6IG1hc2tNYXRyaXgsXG4gICAgICAgICAgICBzY2FsZTogeyB4OiAxLCB5OiAxIH0sXG4gICAgICAgICAgICByb3RhdGlvbjogbmV3IEZsb2F0MzJBcnJheShbMSwgMCwgMCwgMV0pLFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLm1hc2tTcHJpdGUgPSBzcHJpdGU7XG4gICAgICAgIHRoaXMubWFza01hdHJpeCA9IG1hc2tNYXRyaXg7XG5cbiAgICAgICAgaWYgKHNjYWxlID09PSBudWxsIHx8IHNjYWxlID09PSB1bmRlZmluZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNjYWxlID0gMjA7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogc2NhbGVYLCBzY2FsZVkgZm9yIGRpc3BsYWNlbWVudHNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Qb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2NhbGUgPSBuZXcgUG9pbnQoc2NhbGUsIHNjYWxlKTtcbiAgICB9XG5cbiAgICBpZiAoIEZpbHRlciApIERpc3BsYWNlbWVudEZpbHRlci5fX3Byb3RvX18gPSBGaWx0ZXI7XG4gICAgRGlzcGxhY2VtZW50RmlsdGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEZpbHRlciAmJiBGaWx0ZXIucHJvdG90eXBlICk7XG4gICAgRGlzcGxhY2VtZW50RmlsdGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IERpc3BsYWNlbWVudEZpbHRlcjtcblxuICAgIHZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IG1hcDogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgZmlsdGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtfSBmaWx0ZXJNYW5hZ2VyIC0gVGhlIG1hbmFnZXIuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IGlucHV0IC0gVGhlIGlucHV0IHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gb3V0cHV0IC0gVGhlIG91dHB1dCB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBjbGVhciAtIFNob3VsZCB0aGUgb3V0cHV0IGJlIGNsZWFyZWQgYmVmb3JlIHJlbmRlcmluZyB0byBpdC5cbiAgICAgKi9cbiAgICBEaXNwbGFjZW1lbnRGaWx0ZXIucHJvdG90eXBlLmFwcGx5ID0gZnVuY3Rpb24gYXBwbHkgKGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyKVxuICAgIHtcbiAgICAgICAgLy8gZmlsbCBtYXNrTWF0cml4IHdpdGggX25vcm1hbGl6ZWQgc3ByaXRlIHRleHR1cmUgY29vcmRzX1xuICAgICAgICB0aGlzLnVuaWZvcm1zLmZpbHRlck1hdHJpeCA9IGZpbHRlck1hbmFnZXIuY2FsY3VsYXRlU3ByaXRlTWF0cml4KHRoaXMubWFza01hdHJpeCwgdGhpcy5tYXNrU3ByaXRlKTtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5zY2FsZS54ID0gdGhpcy5zY2FsZS54O1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnNjYWxlLnkgPSB0aGlzLnNjYWxlLnk7XG5cbiAgICAgICAgLy8gRXh0cmFjdCByb3RhdGlvbiBmcm9tIHdvcmxkIHRyYW5zZm9ybVxuICAgICAgICB2YXIgd3QgPSB0aGlzLm1hc2tTcHJpdGUudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICB2YXIgbGVuWCA9IE1hdGguc3FydCgod3QuYSAqIHd0LmEpICsgKHd0LmIgKiB3dC5iKSk7XG4gICAgICAgIHZhciBsZW5ZID0gTWF0aC5zcXJ0KCh3dC5jICogd3QuYykgKyAod3QuZCAqIHd0LmQpKTtcblxuICAgICAgICBpZiAobGVuWCAhPT0gMCAmJiBsZW5ZICE9PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnJvdGF0aW9uWzBdID0gd3QuYSAvIGxlblg7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnJvdGF0aW9uWzFdID0gd3QuYiAvIGxlblg7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnJvdGF0aW9uWzJdID0gd3QuYyAvIGxlblk7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnJvdGF0aW9uWzNdID0gd3QuZCAvIGxlblk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkcmF3IHRoZSBmaWx0ZXIuLi5cbiAgICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBpbnB1dCwgb3V0cHV0LCBjbGVhcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0ZXh0dXJlIHVzZWQgZm9yIHRoZSBkaXNwbGFjZW1lbnQgbWFwLiBNdXN0IGJlIHBvd2VyIG9mIDIgc2l6ZWQgdGV4dHVyZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMubWFwLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy5tYXBTYW1wbGVyO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMubWFwLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnVuaWZvcm1zLm1hcFNhbXBsZXIgPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIERpc3BsYWNlbWVudEZpbHRlci5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4gICAgcmV0dXJuIERpc3BsYWNlbWVudEZpbHRlcjtcbn0oRmlsdGVyKSk7XG5cbmV4cG9ydCB7IERpc3BsYWNlbWVudEZpbHRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsdGVyLWRpc3BsYWNlbWVudC5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvZmlsdGVyLWZ4YWEgLSB2NS4xLjRcbiAqIENvbXBpbGVkIEZyaSwgMjAgU2VwIDIwMTkgMTc6MTc6NTkgVVRDXG4gKlxuICogQHBpeGkvZmlsdGVyLWZ4YWEgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBGaWx0ZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcblxudmFyIHZlcnRleCA9IFwiXFxuYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2X3JnYk5XO1xcbnZhcnlpbmcgdmVjMiB2X3JnYk5FO1xcbnZhcnlpbmcgdmVjMiB2X3JnYlNXO1xcbnZhcnlpbmcgdmVjMiB2X3JnYlNFO1xcbnZhcnlpbmcgdmVjMiB2X3JnYk07XFxuXFxudmFyeWluZyB2ZWMyIHZGcmFnQ29vcmQ7XFxuXFxudW5pZm9ybSB2ZWM0IGlucHV0UGl4ZWw7XFxudW5pZm9ybSB2ZWM0IG91dHB1dEZyYW1lO1xcblxcbnZlYzQgZmlsdGVyVmVydGV4UG9zaXRpb24oIHZvaWQgKVxcbntcXG4gICAgdmVjMiBwb3NpdGlvbiA9IGFWZXJ0ZXhQb3NpdGlvbiAqIG1heChvdXRwdXRGcmFtZS56dywgdmVjMigwLikpICsgb3V0cHV0RnJhbWUueHk7XFxuXFxuICAgIHJldHVybiB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhwb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG59XFxuXFxudm9pZCB0ZXhjb29yZHModmVjMiBmcmFnQ29vcmQsIHZlYzIgaW52ZXJzZVZQLFxcbiAgICAgICAgICAgICAgIG91dCB2ZWMyIHZfcmdiTlcsIG91dCB2ZWMyIHZfcmdiTkUsXFxuICAgICAgICAgICAgICAgb3V0IHZlYzIgdl9yZ2JTVywgb3V0IHZlYzIgdl9yZ2JTRSxcXG4gICAgICAgICAgICAgICBvdXQgdmVjMiB2X3JnYk0pIHtcXG4gICAgdl9yZ2JOVyA9IChmcmFnQ29vcmQgKyB2ZWMyKC0xLjAsIC0xLjApKSAqIGludmVyc2VWUDtcXG4gICAgdl9yZ2JORSA9IChmcmFnQ29vcmQgKyB2ZWMyKDEuMCwgLTEuMCkpICogaW52ZXJzZVZQO1xcbiAgICB2X3JnYlNXID0gKGZyYWdDb29yZCArIHZlYzIoLTEuMCwgMS4wKSkgKiBpbnZlcnNlVlA7XFxuICAgIHZfcmdiU0UgPSAoZnJhZ0Nvb3JkICsgdmVjMigxLjAsIDEuMCkpICogaW52ZXJzZVZQO1xcbiAgICB2X3JnYk0gPSB2ZWMyKGZyYWdDb29yZCAqIGludmVyc2VWUCk7XFxufVxcblxcbnZvaWQgbWFpbih2b2lkKSB7XFxuXFxuICAgZ2xfUG9zaXRpb24gPSBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbigpO1xcblxcbiAgIHZGcmFnQ29vcmQgPSBhVmVydGV4UG9zaXRpb24gKiBvdXRwdXRGcmFtZS56dztcXG5cXG4gICB0ZXhjb29yZHModkZyYWdDb29yZCwgaW5wdXRQaXhlbC56dywgdl9yZ2JOVywgdl9yZ2JORSwgdl9yZ2JTVywgdl9yZ2JTRSwgdl9yZ2JNKTtcXG59XFxuXCI7XG5cbnZhciBmcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZfcmdiTlc7XFxudmFyeWluZyB2ZWMyIHZfcmdiTkU7XFxudmFyeWluZyB2ZWMyIHZfcmdiU1c7XFxudmFyeWluZyB2ZWMyIHZfcmdiU0U7XFxudmFyeWluZyB2ZWMyIHZfcmdiTTtcXG5cXG52YXJ5aW5nIHZlYzIgdkZyYWdDb29yZDtcXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIGhpZ2hwIHZlYzQgaW5wdXRQaXhlbDtcXG5cXG5cXG4vKipcXG4gQmFzaWMgRlhBQSBpbXBsZW1lbnRhdGlvbiBiYXNlZCBvbiB0aGUgY29kZSBvbiBnZWVrczNkLmNvbSB3aXRoIHRoZVxcbiBtb2RpZmljYXRpb24gdGhhdCB0aGUgdGV4dHVyZTJETG9kIHN0dWZmIHdhcyByZW1vdmVkIHNpbmNlIGl0J3NcXG4gdW5zdXBwb3J0ZWQgYnkgV2ViR0wuXFxuXFxuIC0tXFxuXFxuIEZyb206XFxuIGh0dHBzOi8vZ2l0aHViLmNvbS9taXRzdWhpa28vd2ViZ2wtbWVpbmNyYWZ0XFxuXFxuIENvcHlyaWdodCAoYykgMjAxMSBieSBBcm1pbiBSb25hY2hlci5cXG5cXG4gU29tZSByaWdodHMgcmVzZXJ2ZWQuXFxuXFxuIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxcbiBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlXFxuIG1ldDpcXG5cXG4gKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodFxcbiBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXFxuXFxuICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZVxcbiBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZ1xcbiBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWRcXG4gd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxcblxcbiAqIFRoZSBuYW1lcyBvZiB0aGUgY29udHJpYnV0b3JzIG1heSBub3QgYmUgdXNlZCB0byBlbmRvcnNlIG9yXFxuIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpY1xcbiBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXFxuXFxuIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlNcXG4gXFxcIkFTIElTXFxcIiBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1RcXG4gTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SXFxuIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUXFxuIE9XTkVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLFxcbiBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UXFxuIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLFxcbiBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTllcXG4gVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVFxcbiAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0VcXG4gT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cXG4gKi9cXG5cXG4jaWZuZGVmIEZYQUFfUkVEVUNFX01JTlxcbiNkZWZpbmUgRlhBQV9SRURVQ0VfTUlOICAgKDEuMC8gMTI4LjApXFxuI2VuZGlmXFxuI2lmbmRlZiBGWEFBX1JFRFVDRV9NVUxcXG4jZGVmaW5lIEZYQUFfUkVEVUNFX01VTCAgICgxLjAgLyA4LjApXFxuI2VuZGlmXFxuI2lmbmRlZiBGWEFBX1NQQU5fTUFYXFxuI2RlZmluZSBGWEFBX1NQQU5fTUFYICAgICA4LjBcXG4jZW5kaWZcXG5cXG4vL29wdGltaXplZCB2ZXJzaW9uIGZvciBtb2JpbGUsIHdoZXJlIGRlcGVuZGVudFxcbi8vdGV4dHVyZSByZWFkcyBjYW4gYmUgYSBib3R0bGVuZWNrXFxudmVjNCBmeGFhKHNhbXBsZXIyRCB0ZXgsIHZlYzIgZnJhZ0Nvb3JkLCB2ZWMyIGludmVyc2VWUCxcXG4gICAgICAgICAgdmVjMiB2X3JnYk5XLCB2ZWMyIHZfcmdiTkUsXFxuICAgICAgICAgIHZlYzIgdl9yZ2JTVywgdmVjMiB2X3JnYlNFLFxcbiAgICAgICAgICB2ZWMyIHZfcmdiTSkge1xcbiAgICB2ZWM0IGNvbG9yO1xcbiAgICB2ZWMzIHJnYk5XID0gdGV4dHVyZTJEKHRleCwgdl9yZ2JOVykueHl6O1xcbiAgICB2ZWMzIHJnYk5FID0gdGV4dHVyZTJEKHRleCwgdl9yZ2JORSkueHl6O1xcbiAgICB2ZWMzIHJnYlNXID0gdGV4dHVyZTJEKHRleCwgdl9yZ2JTVykueHl6O1xcbiAgICB2ZWMzIHJnYlNFID0gdGV4dHVyZTJEKHRleCwgdl9yZ2JTRSkueHl6O1xcbiAgICB2ZWM0IHRleENvbG9yID0gdGV4dHVyZTJEKHRleCwgdl9yZ2JNKTtcXG4gICAgdmVjMyByZ2JNICA9IHRleENvbG9yLnh5ejtcXG4gICAgdmVjMyBsdW1hID0gdmVjMygwLjI5OSwgMC41ODcsIDAuMTE0KTtcXG4gICAgZmxvYXQgbHVtYU5XID0gZG90KHJnYk5XLCBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYU5FID0gZG90KHJnYk5FLCBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYVNXID0gZG90KHJnYlNXLCBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYVNFID0gZG90KHJnYlNFLCBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYU0gID0gZG90KHJnYk0sICBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYU1pbiA9IG1pbihsdW1hTSwgbWluKG1pbihsdW1hTlcsIGx1bWFORSksIG1pbihsdW1hU1csIGx1bWFTRSkpKTtcXG4gICAgZmxvYXQgbHVtYU1heCA9IG1heChsdW1hTSwgbWF4KG1heChsdW1hTlcsIGx1bWFORSksIG1heChsdW1hU1csIGx1bWFTRSkpKTtcXG5cXG4gICAgbWVkaXVtcCB2ZWMyIGRpcjtcXG4gICAgZGlyLnggPSAtKChsdW1hTlcgKyBsdW1hTkUpIC0gKGx1bWFTVyArIGx1bWFTRSkpO1xcbiAgICBkaXIueSA9ICAoKGx1bWFOVyArIGx1bWFTVykgLSAobHVtYU5FICsgbHVtYVNFKSk7XFxuXFxuICAgIGZsb2F0IGRpclJlZHVjZSA9IG1heCgobHVtYU5XICsgbHVtYU5FICsgbHVtYVNXICsgbHVtYVNFKSAqXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAoMC4yNSAqIEZYQUFfUkVEVUNFX01VTCksIEZYQUFfUkVEVUNFX01JTik7XFxuXFxuICAgIGZsb2F0IHJjcERpck1pbiA9IDEuMCAvIChtaW4oYWJzKGRpci54KSwgYWJzKGRpci55KSkgKyBkaXJSZWR1Y2UpO1xcbiAgICBkaXIgPSBtaW4odmVjMihGWEFBX1NQQU5fTUFYLCBGWEFBX1NQQU5fTUFYKSxcXG4gICAgICAgICAgICAgIG1heCh2ZWMyKC1GWEFBX1NQQU5fTUFYLCAtRlhBQV9TUEFOX01BWCksXFxuICAgICAgICAgICAgICAgICAgZGlyICogcmNwRGlyTWluKSkgKiBpbnZlcnNlVlA7XFxuXFxuICAgIHZlYzMgcmdiQSA9IDAuNSAqIChcXG4gICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUyRCh0ZXgsIGZyYWdDb29yZCAqIGludmVyc2VWUCArIGRpciAqICgxLjAgLyAzLjAgLSAwLjUpKS54eXogK1xcbiAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZTJEKHRleCwgZnJhZ0Nvb3JkICogaW52ZXJzZVZQICsgZGlyICogKDIuMCAvIDMuMCAtIDAuNSkpLnh5eik7XFxuICAgIHZlYzMgcmdiQiA9IHJnYkEgKiAwLjUgKyAwLjI1ICogKFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlMkQodGV4LCBmcmFnQ29vcmQgKiBpbnZlcnNlVlAgKyBkaXIgKiAtMC41KS54eXogK1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlMkQodGV4LCBmcmFnQ29vcmQgKiBpbnZlcnNlVlAgKyBkaXIgKiAwLjUpLnh5eik7XFxuXFxuICAgIGZsb2F0IGx1bWFCID0gZG90KHJnYkIsIGx1bWEpO1xcbiAgICBpZiAoKGx1bWFCIDwgbHVtYU1pbikgfHwgKGx1bWFCID4gbHVtYU1heCkpXFxuICAgICAgICBjb2xvciA9IHZlYzQocmdiQSwgdGV4Q29sb3IuYSk7XFxuICAgIGVsc2VcXG4gICAgICAgIGNvbG9yID0gdmVjNChyZ2JCLCB0ZXhDb2xvci5hKTtcXG4gICAgcmV0dXJuIGNvbG9yO1xcbn1cXG5cXG52b2lkIG1haW4oKSB7XFxuXFxuICAgICAgdmVjNCBjb2xvcjtcXG5cXG4gICAgICBjb2xvciA9IGZ4YWEodVNhbXBsZXIsIHZGcmFnQ29vcmQsIGlucHV0UGl4ZWwuencsIHZfcmdiTlcsIHZfcmdiTkUsIHZfcmdiU1csIHZfcmdiU0UsIHZfcmdiTSk7XFxuXFxuICAgICAgZ2xfRnJhZ0NvbG9yID0gY29sb3I7XFxufVxcblwiO1xuXG4vKipcbiAqIEJhc2ljIEZYQUEgKEZhc3QgQXBwcm94aW1hdGUgQW50aS1BbGlhc2luZykgaW1wbGVtZW50YXRpb24gYmFzZWQgb24gdGhlIGNvZGUgb24gZ2Vla3MzZC5jb21cbiAqIHdpdGggdGhlIG1vZGlmaWNhdGlvbiB0aGF0IHRoZSB0ZXh0dXJlMkRMb2Qgc3R1ZmYgd2FzIHJlbW92ZWQgc2luY2UgaXQgaXMgdW5zdXBwb3J0ZWQgYnkgV2ViR0wuXG4gKlxuICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vbWl0c3VoaWtvL3dlYmdsLW1laW5jcmFmdFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqXG4gKi9cbnZhciBGWEFBRmlsdGVyID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoRmlsdGVyKSB7XG4gICAgZnVuY3Rpb24gRlhBQUZpbHRlcigpXG4gICAge1xuICAgICAgICAvLyBUT0RPIC0gbmVlZHMgd29ya1xuICAgICAgICBGaWx0ZXIuY2FsbCh0aGlzLCB2ZXJ0ZXgsIGZyYWdtZW50KTtcbiAgICB9XG5cbiAgICBpZiAoIEZpbHRlciApIEZYQUFGaWx0ZXIuX19wcm90b19fID0gRmlsdGVyO1xuICAgIEZYQUFGaWx0ZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggRmlsdGVyICYmIEZpbHRlci5wcm90b3R5cGUgKTtcbiAgICBGWEFBRmlsdGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEZYQUFGaWx0ZXI7XG5cbiAgICByZXR1cm4gRlhBQUZpbHRlcjtcbn0oRmlsdGVyKSk7XG5cbmV4cG9ydCB7IEZYQUFGaWx0ZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbHRlci1meGFhLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9maWx0ZXItbm9pc2UgLSB2NS4xLjRcbiAqIENvbXBpbGVkIEZyaSwgMjAgU2VwIDIwMTkgMTc6MTc6NTkgVVRDXG4gKlxuICogQHBpeGkvZmlsdGVyLW5vaXNlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgRmlsdGVyLCBkZWZhdWx0RmlsdGVyVmVydGV4IH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbnZhciBmcmFnbWVudCA9IFwicHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxuXFxudW5pZm9ybSBmbG9hdCB1Tm9pc2U7XFxudW5pZm9ybSBmbG9hdCB1U2VlZDtcXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG5cXG5mbG9hdCByYW5kKHZlYzIgY28pXFxue1xcbiAgICByZXR1cm4gZnJhY3Qoc2luKGRvdChjby54eSwgdmVjMigxMi45ODk4LCA3OC4yMzMpKSkgKiA0Mzc1OC41NDUzKTtcXG59XFxuXFxudm9pZCBtYWluKClcXG57XFxuICAgIHZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcbiAgICBmbG9hdCByYW5kb21WYWx1ZSA9IHJhbmQoZ2xfRnJhZ0Nvb3JkLnh5ICogdVNlZWQpO1xcbiAgICBmbG9hdCBkaWZmID0gKHJhbmRvbVZhbHVlIC0gMC41KSAqIHVOb2lzZTtcXG5cXG4gICAgLy8gVW4tcHJlbXVsdGlwbHkgYWxwaGEgYmVmb3JlIGFwcGx5aW5nIHRoZSBjb2xvciBtYXRyaXguIFNlZSBpc3N1ZSAjMzUzOS5cXG4gICAgaWYgKGNvbG9yLmEgPiAwLjApIHtcXG4gICAgICAgIGNvbG9yLnJnYiAvPSBjb2xvci5hO1xcbiAgICB9XFxuXFxuICAgIGNvbG9yLnIgKz0gZGlmZjtcXG4gICAgY29sb3IuZyArPSBkaWZmO1xcbiAgICBjb2xvci5iICs9IGRpZmY7XFxuXFxuICAgIC8vIFByZW11bHRpcGx5IGFscGhhIGFnYWluLlxcbiAgICBjb2xvci5yZ2IgKj0gY29sb3IuYTtcXG5cXG4gICAgZ2xfRnJhZ0NvbG9yID0gY29sb3I7XFxufVxcblwiO1xuXG4vKipcbiAqIEBhdXRob3IgVmljbyBAdmljb2NvdGVhXG4gKiBvcmlnaW5hbCBmaWx0ZXI6IGh0dHBzOi8vZ2l0aHViLmNvbS9ldmFudy9nbGZ4LmpzL2Jsb2IvbWFzdGVyL3NyYy9maWx0ZXJzL2FkanVzdC9ub2lzZS5qc1xuICovXG5cbi8qKlxuICogQSBOb2lzZSBlZmZlY3QgZmlsdGVyLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqL1xudmFyIE5vaXNlRmlsdGVyID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoRmlsdGVyKSB7XG4gICAgZnVuY3Rpb24gTm9pc2VGaWx0ZXIobm9pc2UsIHNlZWQpXG4gICAge1xuICAgICAgICBpZiAoIG5vaXNlID09PSB2b2lkIDAgKSBub2lzZSA9IDAuNTtcbiAgICAgICAgaWYgKCBzZWVkID09PSB2b2lkIDAgKSBzZWVkID0gTWF0aC5yYW5kb20oKTtcblxuICAgICAgICBGaWx0ZXIuY2FsbCh0aGlzLCBkZWZhdWx0RmlsdGVyVmVydGV4LCBmcmFnbWVudCwge1xuICAgICAgICAgICAgdU5vaXNlOiAwLFxuICAgICAgICAgICAgdVNlZWQ6IDAsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMubm9pc2UgPSBub2lzZTtcbiAgICAgICAgdGhpcy5zZWVkID0gc2VlZDtcbiAgICB9XG5cbiAgICBpZiAoIEZpbHRlciApIE5vaXNlRmlsdGVyLl9fcHJvdG9fXyA9IEZpbHRlcjtcbiAgICBOb2lzZUZpbHRlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBGaWx0ZXIgJiYgRmlsdGVyLnByb3RvdHlwZSApO1xuICAgIE5vaXNlRmlsdGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE5vaXNlRmlsdGVyO1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgbm9pc2U6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sc2VlZDogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFtb3VudCBvZiBub2lzZSB0byBhcHBseSwgdGhpcyB2YWx1ZSBzaG91bGQgYmUgaW4gdGhlIHJhbmdlICgwLCAxXS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwLjVcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMubm9pc2UuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLnVOb2lzZTtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLm5vaXNlLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnVOb2lzZSA9IHZhbHVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBIHNlZWQgdmFsdWUgdG8gYXBwbHkgdG8gdGhlIHJhbmRvbSBub2lzZSBnZW5lcmF0aW9uLiBgTWF0aC5yYW5kb20oKWAgaXMgYSBnb29kIHZhbHVlIHRvIHVzZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuc2VlZC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybXMudVNlZWQ7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5zZWVkLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnVTZWVkID0gdmFsdWU7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBOb2lzZUZpbHRlci5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4gICAgcmV0dXJuIE5vaXNlRmlsdGVyO1xufShGaWx0ZXIpKTtcblxuZXhwb3J0IHsgTm9pc2VGaWx0ZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbHRlci1ub2lzZS5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvbWl4aW4tY2FjaGUtYXMtYml0bWFwIC0gdjUuMS40XG4gKiBDb21waWxlZCBGcmksIDIwIFNlcCAyMDE5IDE3OjE3OjU5IFVUQ1xuICpcbiAqIEBwaXhpL21peGluLWNhY2hlLWFzLWJpdG1hcCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFJlbmRlclRleHR1cmUsIEJhc2VUZXh0dXJlLCBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBTcHJpdGUgfSBmcm9tICdAcGl4aS9zcHJpdGUnO1xuaW1wb3J0IHsgRGlzcGxheU9iamVjdCB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyB1aWQgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcblxudmFyIF90ZW1wTWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fY2FjaGVBc0JpdG1hcCA9IGZhbHNlO1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2NhY2hlRGF0YSA9IGZhbHNlO1xuXG4vLyBmaWd1cmVkIHRoZXJlcyBubyBwb2ludCBhZGRpbmcgQUxMIHRoZSBleHRyYSB2YXJpYWJsZXMgdG8gcHJvdG90eXBlLlxuLy8gdGhpcyBtb2RlbCBjYW4gaG9sZCB0aGUgaW5mb3JtYXRpb24gbmVlZGVkLiBUaGlzIGNhbiBhbHNvIGJlIGdlbmVyYXRlZCBvbiBkZW1hbmQgYXNcbi8vIG1vc3Qgb2JqZWN0cyBhcmUgbm90IGNhY2hlZCBhcyBiaXRtYXBzLlxuLyoqXG4gKiBAY2xhc3NcbiAqIEBpZ25vcmVcbiAqL1xudmFyIENhY2hlRGF0YSA9IGZ1bmN0aW9uIENhY2hlRGF0YSgpXG57XG4gICAgdGhpcy50ZXh0dXJlQ2FjaGVJZCA9IG51bGw7XG5cbiAgICB0aGlzLm9yaWdpbmFsUmVuZGVyID0gbnVsbDtcbiAgICB0aGlzLm9yaWdpbmFsUmVuZGVyQ2FudmFzID0gbnVsbDtcbiAgICB0aGlzLm9yaWdpbmFsQ2FsY3VsYXRlQm91bmRzID0gbnVsbDtcbiAgICB0aGlzLm9yaWdpbmFsR2V0TG9jYWxCb3VuZHMgPSBudWxsO1xuXG4gICAgdGhpcy5vcmlnaW5hbFVwZGF0ZVRyYW5zZm9ybSA9IG51bGw7XG4gICAgdGhpcy5vcmlnaW5hbEhpdFRlc3QgPSBudWxsO1xuICAgIHRoaXMub3JpZ2luYWxEZXN0cm95ID0gbnVsbDtcbiAgICB0aGlzLm9yaWdpbmFsTWFzayA9IG51bGw7XG4gICAgdGhpcy5vcmlnaW5hbEZpbHRlckFyZWEgPSBudWxsO1xuICAgIHRoaXMuc3ByaXRlID0gbnVsbDtcbn07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKERpc3BsYXlPYmplY3QucHJvdG90eXBlLCB7XG4gICAgLyoqXG4gICAgICogU2V0IHRoaXMgdG8gdHJ1ZSBpZiB5b3Ugd2FudCB0aGlzIGRpc3BsYXkgb2JqZWN0IHRvIGJlIGNhY2hlZCBhcyBhIGJpdG1hcC5cbiAgICAgKiBUaGlzIGJhc2ljYWxseSB0YWtlcyBhIHNuYXAgc2hvdCBvZiB0aGUgZGlzcGxheSBvYmplY3QgYXMgaXQgaXMgYXQgdGhhdCBtb21lbnQuIEl0IGNhblxuICAgICAqIHByb3ZpZGUgYSBwZXJmb3JtYW5jZSBiZW5lZml0IGZvciBjb21wbGV4IHN0YXRpYyBkaXNwbGF5T2JqZWN0cy5cbiAgICAgKiBUbyByZW1vdmUgc2ltcGx5IHNldCB0aGlzIHByb3BlcnR5IHRvIGBmYWxzZWBcbiAgICAgKlxuICAgICAqIElNUE9SVEFOVCBHT1RDSEEgLSBNYWtlIHN1cmUgdGhhdCBhbGwgeW91ciB0ZXh0dXJlcyBhcmUgcHJlbG9hZGVkIEJFRk9SRSBzZXR0aW5nIHRoaXMgcHJvcGVydHkgdG8gdHJ1ZVxuICAgICAqIGFzIGl0IHdpbGwgdGFrZSBhIHNuYXBzaG90IG9mIHdoYXQgaXMgY3VycmVudGx5IHRoZXJlLiBJZiB0aGUgdGV4dHVyZXMgaGF2ZSBub3QgbG9hZGVkIHRoZW4gdGhleSB3aWxsIG5vdCBhcHBlYXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICovXG4gICAgY2FjaGVBc0JpdG1hcDoge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYWNoZUFzQml0bWFwO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NhY2hlQXNCaXRtYXAgPT09IHZhbHVlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fY2FjaGVBc0JpdG1hcCA9IHZhbHVlO1xuXG4gICAgICAgICAgICB2YXIgZGF0YTtcblxuICAgICAgICAgICAgaWYgKHZhbHVlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fY2FjaGVEYXRhKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVEYXRhID0gbmV3IENhY2hlRGF0YSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGRhdGEgPSB0aGlzLl9jYWNoZURhdGE7XG5cbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsUmVuZGVyID0gdGhpcy5yZW5kZXI7XG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbFJlbmRlckNhbnZhcyA9IHRoaXMucmVuZGVyQ2FudmFzO1xuXG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbFVwZGF0ZVRyYW5zZm9ybSA9IHRoaXMudXBkYXRlVHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxDYWxjdWxhdGVCb3VuZHMgPSB0aGlzLmNhbGN1bGF0ZUJvdW5kcztcbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsR2V0TG9jYWxCb3VuZHMgPSB0aGlzLmdldExvY2FsQm91bmRzO1xuXG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbERlc3Ryb3kgPSB0aGlzLmRlc3Ryb3k7XG5cbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsQ29udGFpbnNQb2ludCA9IHRoaXMuY29udGFpbnNQb2ludDtcblxuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxNYXNrID0gdGhpcy5fbWFzaztcbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsRmlsdGVyQXJlYSA9IHRoaXMuZmlsdGVyQXJlYTtcblxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyID0gdGhpcy5fcmVuZGVyQ2FjaGVkO1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyQ2FudmFzID0gdGhpcy5fcmVuZGVyQ2FjaGVkQ2FudmFzO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95ID0gdGhpcy5fY2FjaGVBc0JpdG1hcERlc3Ryb3k7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGF0YSA9IHRoaXMuX2NhY2hlRGF0YTtcblxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnNwcml0ZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rlc3Ryb3lDYWNoZWREaXNwbGF5T2JqZWN0KCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXIgPSBkYXRhLm9yaWdpbmFsUmVuZGVyO1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyQ2FudmFzID0gZGF0YS5vcmlnaW5hbFJlbmRlckNhbnZhcztcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZUJvdW5kcyA9IGRhdGEub3JpZ2luYWxDYWxjdWxhdGVCb3VuZHM7XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRMb2NhbEJvdW5kcyA9IGRhdGEub3JpZ2luYWxHZXRMb2NhbEJvdW5kcztcblxuICAgICAgICAgICAgICAgIHRoaXMuZGVzdHJveSA9IGRhdGEub3JpZ2luYWxEZXN0cm95O1xuXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0gPSBkYXRhLm9yaWdpbmFsVXBkYXRlVHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbnNQb2ludCA9IGRhdGEub3JpZ2luYWxDb250YWluc1BvaW50O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fbWFzayA9IGRhdGEub3JpZ2luYWxNYXNrO1xuICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVyQXJlYSA9IGRhdGEub3JpZ2luYWxGaWx0ZXJBcmVhO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH0sXG59KTtcblxuLyoqXG4gKiBSZW5kZXJzIGEgY2FjaGVkIHZlcnNpb24gb2YgdGhlIHNwcml0ZSB3aXRoIFdlYkdMXG4gKlxuICogQHByaXZhdGVcbiAqIEBmdW5jdGlvbiBfcmVuZGVyQ2FjaGVkXG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIHRoZSBXZWJHTCByZW5kZXJlclxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fcmVuZGVyQ2FjaGVkID0gZnVuY3Rpb24gX3JlbmRlckNhY2hlZChyZW5kZXJlcilcbntcbiAgICBpZiAoIXRoaXMudmlzaWJsZSB8fCB0aGlzLndvcmxkQWxwaGEgPD0gMCB8fCAhdGhpcy5yZW5kZXJhYmxlKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0KHJlbmRlcmVyKTtcblxuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUudHJhbnNmb3JtLl93b3JsZElEID0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQ7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS53b3JsZEFscGhhID0gdGhpcy53b3JsZEFscGhhO1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUuX3JlbmRlcihyZW5kZXJlcik7XG59O1xuXG4vKipcbiAqIFByZXBhcmVzIHRoZSBXZWJHTCByZW5kZXJlciB0byBjYWNoZSB0aGUgc3ByaXRlXG4gKlxuICogQHByaXZhdGVcbiAqIEBmdW5jdGlvbiBfaW5pdENhY2hlZERpc3BsYXlPYmplY3RcbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gdGhlIFdlYkdMIHJlbmRlcmVyXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdCA9IGZ1bmN0aW9uIF9pbml0Q2FjaGVkRGlzcGxheU9iamVjdChyZW5kZXJlcilcbntcbiAgICBpZiAodGhpcy5fY2FjaGVEYXRhICYmIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUpXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gbWFrZSBzdXJlIGFscGhhIGlzIHNldCB0byAxIG90aGVyd2lzZSBpdCB3aWxsIGdldCByZW5kZXJlZCBhcyBpbnZpc2libGUhXG4gICAgdmFyIGNhY2hlQWxwaGEgPSB0aGlzLmFscGhhO1xuXG4gICAgdGhpcy5hbHBoYSA9IDE7XG5cbiAgICAvLyBmaXJzdCB3ZSBmbHVzaCBhbnl0aGluZyBsZWZ0IGluIHRoZSByZW5kZXJlciAob3RoZXJ3aXNlIGl0IHdvdWxkIGdldCByZW5kZXJlZCB0byB0aGUgY2FjaGVkIHRleHR1cmUpXG4gICAgcmVuZGVyZXIuYmF0Y2guZmx1c2goKTtcbiAgICAvLyB0aGlzLmZpbHRlcnM9IFtdO1xuXG4gICAgLy8gbmV4dCB3ZSBmaW5kIHRoZSBkaW1lbnNpb25zIG9mIHRoZSB1bnRyYW5zZm9ybWVkIG9iamVjdFxuICAgIC8vIHRoaXMgZnVuY3Rpb24gYWxzbyBjYWxscyB1cGRhdGV0cmFuc2Zvcm0gb24gYWxsIGl0cyBjaGlsZHJlbiBhcyBwYXJ0IG9mIHRoZSBtZWFzdXJpbmcuXG4gICAgLy8gVGhpcyBtZWFucyB3ZSBkb24ndCBuZWVkIHRvIHVwZGF0ZSB0aGUgdHJhbnNmb3JtIGFnYWluIGluIHRoaXMgZnVuY3Rpb25cbiAgICAvLyBUT0RPIHBhc3MgYW4gb2JqZWN0IHRvIGNsb25lIHRvbz8gc2F2ZXMgaGF2aW5nIHRvIGNyZWF0ZSBhIG5ldyBvbmUgZWFjaCB0aW1lIVxuICAgIHZhciBib3VuZHMgPSB0aGlzLmdldExvY2FsQm91bmRzKCkuY2xvbmUoKTtcblxuICAgIC8vIGFkZCBzb21lIHBhZGRpbmchXG4gICAgaWYgKHRoaXMuZmlsdGVycylcbiAgICB7XG4gICAgICAgIHZhciBwYWRkaW5nID0gdGhpcy5maWx0ZXJzWzBdLnBhZGRpbmc7XG5cbiAgICAgICAgYm91bmRzLnBhZChwYWRkaW5nKTtcbiAgICB9XG5cbiAgICBib3VuZHMuY2VpbChzZXR0aW5ncy5SRVNPTFVUSU9OKTtcblxuICAgIC8vIGZvciBub3cgd2UgY2FjaGUgdGhlIGN1cnJlbnQgcmVuZGVyVGFyZ2V0IHRoYXQgdGhlIFdlYkdMIHJlbmRlcmVyIGlzIGN1cnJlbnRseSB1c2luZy5cbiAgICAvLyB0aGlzIGNvdWxkIGJlIG1vcmUgZWxlZ2FudC4uXG4gICAgdmFyIGNhY2hlZFJlbmRlclRleHR1cmUgPSByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmN1cnJlbnQ7XG4gICAgdmFyIGNhY2hlZFNvdXJjZUZyYW1lID0gcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5zb3VyY2VGcmFtZTtcbiAgICB2YXIgY2FjaGVkUHJvamVjdGlvblRyYW5zZm9ybSA9IHJlbmRlcmVyLnByb2plY3Rpb24udHJhbnNmb3JtO1xuXG4gICAgLy8gV2UgYWxzbyBzdG9yZSB0aGUgZmlsdGVyIHN0YWNrIC0gSSB3aWxsIGRlZmluaXRlbHkgbG9vayB0byBjaGFuZ2UgaG93IHRoaXMgd29ya3MgYSBsaXR0bGUgbGF0ZXIgZG93biB0aGUgbGluZS5cbiAgICAvLyBjb25zdCBzdGFjayA9IHJlbmRlcmVyLmZpbHRlck1hbmFnZXIuZmlsdGVyU3RhY2s7XG5cbiAgICAvLyB0aGlzIHJlbmRlclRleHR1cmUgd2lsbCBiZSB1c2VkIHRvIHN0b3JlIHRoZSBjYWNoZWQgRGlzcGxheU9iamVjdFxuICAgIHZhciByZW5kZXJUZXh0dXJlID0gUmVuZGVyVGV4dHVyZS5jcmVhdGUoYm91bmRzLndpZHRoLCBib3VuZHMuaGVpZ2h0KTtcblxuICAgIHZhciB0ZXh0dXJlQ2FjaGVJZCA9IFwiY2FjaGVBc0JpdG1hcF9cIiArICh1aWQoKSk7XG5cbiAgICB0aGlzLl9jYWNoZURhdGEudGV4dHVyZUNhY2hlSWQgPSB0ZXh0dXJlQ2FjaGVJZDtcblxuICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUocmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZSwgdGV4dHVyZUNhY2hlSWQpO1xuICAgIFRleHR1cmUuYWRkVG9DYWNoZShyZW5kZXJUZXh0dXJlLCB0ZXh0dXJlQ2FjaGVJZCk7XG5cbiAgICAvLyBuZWVkIHRvIHNldCAvL1xuICAgIHZhciBtID0gX3RlbXBNYXRyaXg7XG5cbiAgICBtLnR4ID0gLWJvdW5kcy54O1xuICAgIG0udHkgPSAtYm91bmRzLnk7XG5cbiAgICAvLyByZXNldFxuICAgIHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtLmlkZW50aXR5KCk7XG5cbiAgICAvLyBzZXQgYWxsIHByb3BlcnRpZXMgdG8gdGhlcmUgb3JpZ2luYWwgc28gd2UgY2FuIHJlbmRlciB0byBhIHRleHR1cmVcbiAgICB0aGlzLnJlbmRlciA9IHRoaXMuX2NhY2hlRGF0YS5vcmlnaW5hbFJlbmRlcjtcblxuICAgIHJlbmRlcmVyLnJlbmRlcih0aGlzLCByZW5kZXJUZXh0dXJlLCB0cnVlLCBtLCB0cnVlKTtcblxuICAgIC8vIG5vdyByZXN0b3JlIHRoZSBzdGF0ZSBiZSBzZXR0aW5nIHRoZSBuZXcgcHJvcGVydGllc1xuICAgIHJlbmRlcmVyLnByb2plY3Rpb24udHJhbnNmb3JtID0gY2FjaGVkUHJvamVjdGlvblRyYW5zZm9ybTtcbiAgICByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmJpbmQoY2FjaGVkUmVuZGVyVGV4dHVyZSwgY2FjaGVkU291cmNlRnJhbWUpO1xuXG4gICAgLy8gcmVuZGVyZXIuZmlsdGVyTWFuYWdlci5maWx0ZXJTdGFjayA9IHN0YWNrO1xuXG4gICAgdGhpcy5yZW5kZXIgPSB0aGlzLl9yZW5kZXJDYWNoZWQ7XG4gICAgLy8gdGhlIHJlc3QgaXMgdGhlIHNhbWUgYXMgZm9yIENhbnZhc1xuICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtID0gdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtO1xuICAgIHRoaXMuY2FsY3VsYXRlQm91bmRzID0gdGhpcy5fY2FsY3VsYXRlQ2FjaGVkQm91bmRzO1xuICAgIHRoaXMuZ2V0TG9jYWxCb3VuZHMgPSB0aGlzLl9nZXRDYWNoZWRMb2NhbEJvdW5kcztcblxuICAgIHRoaXMuX21hc2sgPSBudWxsO1xuICAgIHRoaXMuZmlsdGVyQXJlYSA9IG51bGw7XG5cbiAgICAvLyBjcmVhdGUgb3VyIGNhY2hlZCBzcHJpdGVcbiAgICB2YXIgY2FjaGVkU3ByaXRlID0gbmV3IFNwcml0ZShyZW5kZXJUZXh0dXJlKTtcblxuICAgIGNhY2hlZFNwcml0ZS50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0gPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICBjYWNoZWRTcHJpdGUuYW5jaG9yLnggPSAtKGJvdW5kcy54IC8gYm91bmRzLndpZHRoKTtcbiAgICBjYWNoZWRTcHJpdGUuYW5jaG9yLnkgPSAtKGJvdW5kcy55IC8gYm91bmRzLmhlaWdodCk7XG4gICAgY2FjaGVkU3ByaXRlLmFscGhhID0gY2FjaGVBbHBoYTtcbiAgICBjYWNoZWRTcHJpdGUuX2JvdW5kcyA9IHRoaXMuX2JvdW5kcztcblxuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUgPSBjYWNoZWRTcHJpdGU7XG5cbiAgICB0aGlzLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgICAvLyByZXN0b3JlIHRoZSB0cmFuc2Zvcm0gb2YgdGhlIGNhY2hlZCBzcHJpdGUgdG8gYXZvaWQgdGhlIG5hc3R5IGZsaWNrZXIuLlxuICAgIGlmICghdGhpcy5wYXJlbnQpXG4gICAge1xuICAgICAgICB0aGlzLnBhcmVudCA9IHJlbmRlcmVyLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgIH1cblxuICAgIC8vIG1hcCB0aGUgaGl0IHRlc3QuLlxuICAgIHRoaXMuY29udGFpbnNQb2ludCA9IGNhY2hlZFNwcml0ZS5jb250YWluc1BvaW50LmJpbmQoY2FjaGVkU3ByaXRlKTtcbn07XG5cbi8qKlxuICogUmVuZGVycyBhIGNhY2hlZCB2ZXJzaW9uIG9mIHRoZSBzcHJpdGUgd2l0aCBjYW52YXNcbiAqXG4gKiBAcHJpdmF0ZVxuICogQGZ1bmN0aW9uIF9yZW5kZXJDYWNoZWRDYW52YXNcbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gdGhlIFdlYkdMIHJlbmRlcmVyXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9yZW5kZXJDYWNoZWRDYW52YXMgPSBmdW5jdGlvbiBfcmVuZGVyQ2FjaGVkQ2FudmFzKHJlbmRlcmVyKVxue1xuICAgIGlmICghdGhpcy52aXNpYmxlIHx8IHRoaXMud29ybGRBbHBoYSA8PSAwIHx8ICF0aGlzLnJlbmRlcmFibGUpXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5faW5pdENhY2hlZERpc3BsYXlPYmplY3RDYW52YXMocmVuZGVyZXIpO1xuXG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS53b3JsZEFscGhhID0gdGhpcy53b3JsZEFscGhhO1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUuX3JlbmRlckNhbnZhcyhyZW5kZXJlcik7XG59O1xuXG4vLyBUT0RPIHRoaXMgY2FuIGJlIHRoZSBzYW1lIGFzIHRoZSBXZWJHTCB2ZXJzaW9uLi4gd2lsbCBuZWVkIHRvIGRvIGEgbGl0dGxlIHR3ZWFraW5nIGZpcnN0IHRob3VnaC4uXG4vKipcbiAqIFByZXBhcmVzIHRoZSBDYW52YXMgcmVuZGVyZXIgdG8gY2FjaGUgdGhlIHNwcml0ZVxuICpcbiAqIEBwcml2YXRlXG4gKiBAZnVuY3Rpb24gX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0Q2FudmFzXG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIHRoZSBXZWJHTCByZW5kZXJlclxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5faW5pdENhY2hlZERpc3BsYXlPYmplY3RDYW52YXMgPSBmdW5jdGlvbiBfaW5pdENhY2hlZERpc3BsYXlPYmplY3RDYW52YXMocmVuZGVyZXIpXG57XG4gICAgaWYgKHRoaXMuX2NhY2hlRGF0YSAmJiB0aGlzLl9jYWNoZURhdGEuc3ByaXRlKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGdldCBib3VuZHMgYWN0dWFsbHkgdHJhbnNmb3JtcyB0aGUgb2JqZWN0IGZvciB1cyBhbHJlYWR5IVxuICAgIHZhciBib3VuZHMgPSB0aGlzLmdldExvY2FsQm91bmRzKCk7XG5cbiAgICB2YXIgY2FjaGVBbHBoYSA9IHRoaXMuYWxwaGE7XG5cbiAgICB0aGlzLmFscGhhID0gMTtcblxuICAgIHZhciBjYWNoZWRSZW5kZXJUYXJnZXQgPSByZW5kZXJlci5jb250ZXh0O1xuXG4gICAgYm91bmRzLmNlaWwoc2V0dGluZ3MuUkVTT0xVVElPTik7XG5cbiAgICB2YXIgcmVuZGVyVGV4dHVyZSA9IFJlbmRlclRleHR1cmUuY3JlYXRlKGJvdW5kcy53aWR0aCwgYm91bmRzLmhlaWdodCk7XG5cbiAgICB2YXIgdGV4dHVyZUNhY2hlSWQgPSBcImNhY2hlQXNCaXRtYXBfXCIgKyAodWlkKCkpO1xuXG4gICAgdGhpcy5fY2FjaGVEYXRhLnRleHR1cmVDYWNoZUlkID0gdGV4dHVyZUNhY2hlSWQ7XG5cbiAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlKHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUsIHRleHR1cmVDYWNoZUlkKTtcbiAgICBUZXh0dXJlLmFkZFRvQ2FjaGUocmVuZGVyVGV4dHVyZSwgdGV4dHVyZUNhY2hlSWQpO1xuXG4gICAgLy8gbmVlZCB0byBzZXQgLy9cbiAgICB2YXIgbSA9IF90ZW1wTWF0cml4O1xuXG4gICAgdGhpcy50cmFuc2Zvcm0ubG9jYWxUcmFuc2Zvcm0uY29weVRvKG0pO1xuICAgIG0uaW52ZXJ0KCk7XG5cbiAgICBtLnR4IC09IGJvdW5kcy54O1xuICAgIG0udHkgLT0gYm91bmRzLnk7XG5cbiAgICAvLyBtLmFwcGVuZCh0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybS4pXG4gICAgLy8gc2V0IGFsbCBwcm9wZXJ0aWVzIHRvIHRoZXJlIG9yaWdpbmFsIHNvIHdlIGNhbiByZW5kZXIgdG8gYSB0ZXh0dXJlXG4gICAgdGhpcy5yZW5kZXJDYW52YXMgPSB0aGlzLl9jYWNoZURhdGEub3JpZ2luYWxSZW5kZXJDYW52YXM7XG5cbiAgICAvLyByZW5kZXJUZXh0dXJlLnJlbmRlcih0aGlzLCBtLCB0cnVlKTtcbiAgICByZW5kZXJlci5yZW5kZXIodGhpcywgcmVuZGVyVGV4dHVyZSwgdHJ1ZSwgbSwgZmFsc2UpO1xuXG4gICAgLy8gbm93IHJlc3RvcmUgdGhlIHN0YXRlIGJlIHNldHRpbmcgdGhlIG5ldyBwcm9wZXJ0aWVzXG4gICAgcmVuZGVyZXIuY29udGV4dCA9IGNhY2hlZFJlbmRlclRhcmdldDtcblxuICAgIHRoaXMucmVuZGVyQ2FudmFzID0gdGhpcy5fcmVuZGVyQ2FjaGVkQ2FudmFzO1xuICAgIC8vIHRoZSByZXN0IGlzIHRoZSBzYW1lIGFzIGZvciBXZWJHTFxuICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtID0gdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtO1xuICAgIHRoaXMuY2FsY3VsYXRlQm91bmRzID0gdGhpcy5fY2FsY3VsYXRlQ2FjaGVkQm91bmRzO1xuICAgIHRoaXMuZ2V0TG9jYWxCb3VuZHMgPSB0aGlzLl9nZXRDYWNoZWRMb2NhbEJvdW5kcztcblxuICAgIHRoaXMuX21hc2sgPSBudWxsO1xuICAgIHRoaXMuZmlsdGVyQXJlYSA9IG51bGw7XG5cbiAgICAvLyBjcmVhdGUgb3VyIGNhY2hlZCBzcHJpdGVcbiAgICB2YXIgY2FjaGVkU3ByaXRlID0gbmV3IFNwcml0ZShyZW5kZXJUZXh0dXJlKTtcblxuICAgIGNhY2hlZFNwcml0ZS50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0gPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICBjYWNoZWRTcHJpdGUuYW5jaG9yLnggPSAtKGJvdW5kcy54IC8gYm91bmRzLndpZHRoKTtcbiAgICBjYWNoZWRTcHJpdGUuYW5jaG9yLnkgPSAtKGJvdW5kcy55IC8gYm91bmRzLmhlaWdodCk7XG4gICAgY2FjaGVkU3ByaXRlLmFscGhhID0gY2FjaGVBbHBoYTtcbiAgICBjYWNoZWRTcHJpdGUuX2JvdW5kcyA9IHRoaXMuX2JvdW5kcztcblxuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUgPSBjYWNoZWRTcHJpdGU7XG5cbiAgICB0aGlzLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgICAvLyByZXN0b3JlIHRoZSB0cmFuc2Zvcm0gb2YgdGhlIGNhY2hlZCBzcHJpdGUgdG8gYXZvaWQgdGhlIG5hc3R5IGZsaWNrZXIuLlxuICAgIGlmICghdGhpcy5wYXJlbnQpXG4gICAge1xuICAgICAgICB0aGlzLnBhcmVudCA9IHJlbmRlcmVyLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgIH1cblxuICAgIC8vIG1hcCB0aGUgaGl0IHRlc3QuLlxuICAgIHRoaXMuY29udGFpbnNQb2ludCA9IGNhY2hlZFNwcml0ZS5jb250YWluc1BvaW50LmJpbmQoY2FjaGVkU3ByaXRlKTtcbn07XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgYm91bmRzIG9mIHRoZSBjYWNoZWQgc3ByaXRlXG4gKlxuICogQHByaXZhdGVcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2NhbGN1bGF0ZUNhY2hlZEJvdW5kcyA9IGZ1bmN0aW9uIF9jYWxjdWxhdGVDYWNoZWRCb3VuZHMoKVxue1xuICAgIHRoaXMuX2JvdW5kcy5jbGVhcigpO1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUudHJhbnNmb3JtLl93b3JsZElEID0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQ7XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS5fY2FsY3VsYXRlQm91bmRzKCk7XG4gICAgdGhpcy5fbGFzdEJvdW5kc0lEID0gdGhpcy5fYm91bmRzSUQ7XG59O1xuXG4vKipcbiAqIEdldHMgdGhlIGJvdW5kcyBvZiB0aGUgY2FjaGVkIHNwcml0ZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybiB7UmVjdGFuZ2xlfSBUaGUgbG9jYWwgYm91bmRzLlxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fZ2V0Q2FjaGVkTG9jYWxCb3VuZHMgPSBmdW5jdGlvbiBfZ2V0Q2FjaGVkTG9jYWxCb3VuZHMoKVxue1xuICAgIHJldHVybiB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLmdldExvY2FsQm91bmRzKCk7XG59O1xuXG4vKipcbiAqIERlc3Ryb3lzIHRoZSBjYWNoZWQgc3ByaXRlLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9kZXN0cm95Q2FjaGVkRGlzcGxheU9iamVjdCA9IGZ1bmN0aW9uIF9kZXN0cm95Q2FjaGVkRGlzcGxheU9iamVjdCgpXG57XG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS5fdGV4dHVyZS5kZXN0cm95KHRydWUpO1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUgPSBudWxsO1xuXG4gICAgQmFzZVRleHR1cmUucmVtb3ZlRnJvbUNhY2hlKHRoaXMuX2NhY2hlRGF0YS50ZXh0dXJlQ2FjaGVJZCk7XG4gICAgVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUodGhpcy5fY2FjaGVEYXRhLnRleHR1cmVDYWNoZUlkKTtcblxuICAgIHRoaXMuX2NhY2hlRGF0YS50ZXh0dXJlQ2FjaGVJZCA9IG51bGw7XG59O1xuXG4vKipcbiAqIERlc3Ryb3lzIHRoZSBjYWNoZWQgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlLlxuICogIFVzZWQgd2hlbiBkZXN0cm95aW5nIGNvbnRhaW5lcnMsIHNlZSB0aGUgQ29udGFpbmVyLmRlc3Ryb3kgbWV0aG9kLlxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fY2FjaGVBc0JpdG1hcERlc3Ryb3kgPSBmdW5jdGlvbiBfY2FjaGVBc0JpdG1hcERlc3Ryb3kob3B0aW9ucylcbntcbiAgICB0aGlzLmNhY2hlQXNCaXRtYXAgPSBmYWxzZTtcbiAgICB0aGlzLmRlc3Ryb3kob3B0aW9ucyk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWl4aW4tY2FjaGUtYXMtYml0bWFwLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9taXhpbi1nZXQtY2hpbGQtYnktbmFtZSAtIHY1LjEuM1xuICogQ29tcGlsZWQgTW9uLCAwOSBTZXAgMjAxOSAwNDo1MTo1MyBVVENcbiAqXG4gKiBAcGl4aS9taXhpbi1nZXQtY2hpbGQtYnktbmFtZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IERpc3BsYXlPYmplY3QsIENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuXG4vKipcbiAqIFRoZSBpbnN0YW5jZSBuYW1lIG9mIHRoZSBvYmplY3QuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAqIEBtZW1iZXIge3N0cmluZ30gbmFtZVxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5uYW1lID0gbnVsbDtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBkaXNwbGF5IG9iamVjdCBpbiB0aGUgY29udGFpbmVyLlxuICpcbiAqIEBtZXRob2QgZ2V0Q2hpbGRCeU5hbWVcbiAqIEBtZW1iZXJvZiBQSVhJLkNvbnRhaW5lciNcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gSW5zdGFuY2UgbmFtZS5cbiAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGNoaWxkIHdpdGggdGhlIHNwZWNpZmllZCBuYW1lLlxuICovXG5Db250YWluZXIucHJvdG90eXBlLmdldENoaWxkQnlOYW1lID0gZnVuY3Rpb24gZ2V0Q2hpbGRCeU5hbWUobmFtZSlcbntcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgICBpZiAodGhpcy5jaGlsZHJlbltpXS5uYW1lID09PSBuYW1lKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbltpXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1peGluLWdldC1jaGlsZC1ieS1uYW1lLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9taXhpbi1nZXQtZ2xvYmFsLXBvc2l0aW9uIC0gdjUuMS4zXG4gKiBDb21waWxlZCBNb24sIDA5IFNlcCAyMDE5IDA0OjUxOjUzIFVUQ1xuICpcbiAqIEBwaXhpL21peGluLWdldC1nbG9iYWwtcG9zaXRpb24gaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBEaXNwbGF5T2JqZWN0IH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBQb2ludCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGdsb2JhbCBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheU9iamVjdC4gRG9lcyBub3QgZGVwZW5kIG9uIG9iamVjdCBzY2FsZSwgcm90YXRpb24gYW5kIHBpdm90LlxuICpcbiAqIEBtZXRob2QgZ2V0R2xvYmFsUG9zaXRpb25cbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAcGFyYW0ge1BJWEkuUG9pbnR9IFtwb2ludD1uZXcgUElYSS5Qb2ludCgpXSAtIFRoZSBwb2ludCB0byB3cml0ZSB0aGUgZ2xvYmFsIHZhbHVlIHRvLlxuICogQHBhcmFtIHtib29sZWFufSBbc2tpcFVwZGF0ZT1mYWxzZV0gLSBTZXR0aW5nIHRvIHRydWUgd2lsbCBzdG9wIHRoZSB0cmFuc2Zvcm1zIG9mIHRoZSBzY2VuZSBncmFwaCBmcm9tXG4gKiAgYmVpbmcgdXBkYXRlZC4gVGhpcyBtZWFucyB0aGUgY2FsY3VsYXRpb24gcmV0dXJuZWQgTUFZIGJlIG91dCBvZiBkYXRlIEJVVCB3aWxsIGdpdmUgeW91IGFcbiAqICBuaWNlIHBlcmZvcm1hbmNlIGJvb3N0LlxuICogQHJldHVybiB7UElYSS5Qb2ludH0gVGhlIHVwZGF0ZWQgcG9pbnQuXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLmdldEdsb2JhbFBvc2l0aW9uID0gZnVuY3Rpb24gZ2V0R2xvYmFsUG9zaXRpb24ocG9pbnQsIHNraXBVcGRhdGUpXG57XG4gICAgaWYgKCBwb2ludCA9PT0gdm9pZCAwICkgcG9pbnQgPSBuZXcgUG9pbnQoKTtcbiAgICBpZiAoIHNraXBVcGRhdGUgPT09IHZvaWQgMCApIHNraXBVcGRhdGUgPSBmYWxzZTtcblxuICAgIGlmICh0aGlzLnBhcmVudClcbiAgICB7XG4gICAgICAgIHRoaXMucGFyZW50LnRvR2xvYmFsKHRoaXMucG9zaXRpb24sIHBvaW50LCBza2lwVXBkYXRlKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgcG9pbnQueCA9IHRoaXMucG9zaXRpb24ueDtcbiAgICAgICAgcG9pbnQueSA9IHRoaXMucG9zaXRpb24ueTtcbiAgICB9XG5cbiAgICByZXR1cm4gcG9pbnQ7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWl4aW4tZ2V0LWdsb2JhbC1wb3NpdGlvbi5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvbWVzaCAtIHY1LjEuNFxuICogQ29tcGlsZWQgRnJpLCAyMCBTZXAgMjAxOSAxNzoxNzo1OSBVVENcbiAqXG4gKiBAcGl4aS9tZXNoIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgU3RhdGUsIFNoYWRlciwgUHJvZ3JhbSwgVGV4dHVyZU1hdHJpeCwgR2VvbWV0cnksIEJ1ZmZlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgUG9pbnQsIFBvbHlnb24sIE1hdHJpeCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgRFJBV19NT0RFUywgQkxFTkRfTU9ERVMsIFRZUEVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBwcmVtdWx0aXBseVRpbnRUb1JnYmEgfSBmcm9tICdAcGl4aS91dGlscyc7XG5cbi8qKlxuICogQ2xhc3MgY29udHJvbHMgY2FjaGUgZm9yIFVWIG1hcHBpbmcgZnJvbSBUZXh0dXJlIG5vcm1hbCBzcGFjZSB0byBCYXNlVGV4dHVyZSBub3JtYWwgc3BhY2UuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgTWVzaEJhdGNoVXZzID0gZnVuY3Rpb24gTWVzaEJhdGNoVXZzKHV2QnVmZmVyLCB1dk1hdHJpeClcbntcbiAgICAvKipcbiAgICAgKiBCdWZmZXIgd2l0aCBub3JtYWxpemVkIFVWJ3NcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkJ1ZmZlcn1cbiAgICAgKi9cbiAgICB0aGlzLnV2QnVmZmVyID0gdXZCdWZmZXI7XG5cbiAgICAvKipcbiAgICAgKiBNYXRlcmlhbCBVViBtYXRyaXhcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmVNYXRyaXh9XG4gICAgICovXG4gICAgdGhpcy51dk1hdHJpeCA9IHV2TWF0cml4O1xuXG4gICAgLyoqXG4gICAgICogVVYgQnVmZmVyIGRhdGFcbiAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgdGhpcy5kYXRhID0gbnVsbDtcblxuICAgIHRoaXMuX2J1ZmZlclVwZGF0ZUlkID0gLTE7XG5cbiAgICB0aGlzLl90ZXh0dXJlVXBkYXRlSWQgPSAtMTtcblxuICAgIHRoaXMuX3VwZGF0ZUlEID0gMDtcbn07XG5cbi8qKlxuICogdXBkYXRlc1xuICpcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gZm9yY2VVcGRhdGUgLSBmb3JjZSB0aGUgdXBkYXRlXG4gKi9cbk1lc2hCYXRjaFV2cy5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlIChmb3JjZVVwZGF0ZSlcbntcbiAgICBpZiAoIWZvcmNlVXBkYXRlXG4gICAgICAgICYmIHRoaXMuX2J1ZmZlclVwZGF0ZUlkID09PSB0aGlzLnV2QnVmZmVyLl91cGRhdGVJRFxuICAgICAgICAmJiB0aGlzLl90ZXh0dXJlVXBkYXRlSWQgPT09IHRoaXMudXZNYXRyaXguX3VwZGF0ZUlEKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2J1ZmZlclVwZGF0ZUlkID0gdGhpcy51dkJ1ZmZlci5fdXBkYXRlSUQ7XG4gICAgdGhpcy5fdGV4dHVyZVVwZGF0ZUlkID0gdGhpcy51dk1hdHJpeC5fdXBkYXRlSUQ7XG5cbiAgICB2YXIgZGF0YSA9IHRoaXMudXZCdWZmZXIuZGF0YTtcblxuICAgIGlmICghdGhpcy5kYXRhIHx8IHRoaXMuZGF0YS5sZW5ndGggIT09IGRhdGEubGVuZ3RoKVxuICAgIHtcbiAgICAgICAgdGhpcy5kYXRhID0gbmV3IEZsb2F0MzJBcnJheShkYXRhLmxlbmd0aCk7XG4gICAgfVxuXG4gICAgdGhpcy51dk1hdHJpeC5tdWx0aXBseVV2cyhkYXRhLCB0aGlzLmRhdGEpO1xuXG4gICAgdGhpcy5fdXBkYXRlSUQrKztcbn07XG5cbnZhciB0ZW1wUG9pbnQgPSBuZXcgUG9pbnQoKTtcbnZhciB0ZW1wUG9seWdvbiA9IG5ldyBQb2x5Z29uKCk7XG5cbi8qKlxuICogQmFzZSBtZXNoIGNsYXNzLlxuICpcbiAqIFRoaXMgY2xhc3MgZW1wb3dlcnMgeW91IHRvIGhhdmUgbWF4aW11bSBmbGV4aWJpbGl0eSB0byByZW5kZXIgYW55IGtpbmQgb2YgV2ViR0wgdmlzdWFscyB5b3UgY2FuIHRoaW5rIG9mLlxuICogVGhpcyBjbGFzcyBhc3N1bWVzIGEgY2VydGFpbiBsZXZlbCBvZiBXZWJHTCBrbm93bGVkZ2UuXG4gKiBJZiB5b3Uga25vdyBhIGJpdCB0aGlzIHNob3VsZCBhYnN0cmFjdCBlbm91Z2ggYXdheSB0byBtYWtlIHlvdSBsaWZlIGVhc2llciFcbiAqXG4gKiBQcmV0dHkgbXVjaCBBTEwgV2ViR0wgY2FuIGJlIGJyb2tlbiBkb3duIGludG8gdGhlIGZvbGxvd2luZzpcbiAqIC0gR2VvbWV0cnkgLSBUaGUgc3RydWN0dXJlIGFuZCBkYXRhIGZvciB0aGUgbWVzaC4gVGhpcyBjYW4gaW5jbHVkZSBhbnl0aGluZyBmcm9tIHBvc2l0aW9ucywgdXZzLCBub3JtYWxzLCBjb2xvcnMgZXRjLi5cbiAqIC0gU2hhZGVyIC0gVGhpcyBpcyB0aGUgc2hhZGVyIHRoYXQgUGl4aUpTIHdpbGwgcmVuZGVyIHRoZSBnZW9tZXRyeSB3aXRoIChhdHRyaWJ1dGVzIGluIHRoZSBzaGFkZXIgbXVzdCBtYXRjaCB0aGUgZ2VvbWV0cnkpXG4gKiAtIFN0YXRlIC0gVGhpcyBpcyB0aGUgc3RhdGUgb2YgV2ViR0wgcmVxdWlyZWQgdG8gcmVuZGVyIHRoZSBtZXNoLlxuICpcbiAqIFRocm91Z2ggYSBjb21iaW5hdGlvbiBvZiB0aGUgYWJvdmUgZWxlbWVudHMgeW91IGNhbiByZW5kZXIgYW55dGhpbmcgeW91IHdhbnQsIDJEIG9yIDNEIVxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5Db250YWluZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBNZXNoID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoQ29udGFpbmVyKSB7XG4gICAgZnVuY3Rpb24gTWVzaChnZW9tZXRyeSwgc2hhZGVyLCBzdGF0ZSwgZHJhd01vZGUpLy8gdmVydGljZXMsIHV2cywgaW5kaWNlcywgZHJhd01vZGUpXG4gICAge1xuICAgICAgICBpZiAoIGRyYXdNb2RlID09PSB2b2lkIDAgKSBkcmF3TW9kZSA9IERSQVdfTU9ERVMuVFJJQU5HTEVTO1xuXG4gICAgICAgIENvbnRhaW5lci5jYWxsKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmNsdWRlcyB2ZXJ0ZXggcG9zaXRpb25zLCBmYWNlIGluZGljZXMsIG5vcm1hbHMsIGNvbG9ycywgVVZzLCBhbmRcbiAgICAgICAgICogY3VzdG9tIGF0dHJpYnV0ZXMgd2l0aGluIGJ1ZmZlcnMsIHJlZHVjaW5nIHRoZSBjb3N0IG9mIHBhc3NpbmcgYWxsXG4gICAgICAgICAqIHRoaXMgZGF0YSB0byB0aGUgR1BVLiBDYW4gYmUgc2hhcmVkIGJldHdlZW4gbXVsdGlwbGUgTWVzaCBvYmplY3RzLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdlb21ldHJ5fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2VvbWV0cnkgPSBnZW9tZXRyeTtcblxuICAgICAgICBnZW9tZXRyeS5yZWZDb3VudCsrO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXByZXNlbnRzIHRoZSB2ZXJ0ZXggYW5kIGZyYWdtZW50IHNoYWRlcnMgdGhhdCBwcm9jZXNzZXMgdGhlIGdlb21ldHJ5IGFuZCBydW5zIG9uIHRoZSBHUFUuXG4gICAgICAgICAqIENhbiBiZSBzaGFyZWQgYmV0d2VlbiBtdWx0aXBsZSBNZXNoIG9iamVjdHMuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU2hhZGVyfFBJWEkuTWVzaE1hdGVyaWFsfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zaGFkZXIgPSBzaGFkZXI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlcHJlc2VudHMgdGhlIFdlYkdMIHN0YXRlIHRoZSBNZXNoIHJlcXVpcmVkIHRvIHJlbmRlciwgZXhjbHVkZXMgc2hhZGVyIGFuZCBnZW9tZXRyeS4gRS5nLixcbiAgICAgICAgICogYmxlbmQgbW9kZSwgY3VsbGluZywgZGVwdGggdGVzdGluZywgZGlyZWN0aW9uIG9mIHJlbmRlcmluZyB0cmlhbmdsZXMsIGJhY2tmYWNlLCBldGMuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3RhdGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGUgfHwgU3RhdGUuZm9yMmQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdheSB0aGUgTWVzaCBzaG91bGQgYmUgZHJhd24sIGNhbiBiZSBhbnkgb2YgdGhlIHtAbGluayBQSVhJLkRSQVdfTU9ERVN9IGNvbnN0YW50cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkuRFJBV19NT0RFU1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kcmF3TW9kZSA9IGRyYXdNb2RlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUeXBpY2FsbHkgdGhlIGluZGV4IG9mIHRoZSBJbmRleEJ1ZmZlciB3aGVyZSB0byBzdGFydCBkcmF3aW5nLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhcnQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIb3cgbXVjaCBvZiB0aGUgZ2VvbWV0cnkgdG8gZHJhdywgYnkgZGVmYXVsdCBgMGAgcmVuZGVycyBldmVyeXRoaW5nLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2l6ZSA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRoZWFzZSBhcmUgdXNlZCBhcyBlYXN5IGFjY2VzcyBmb3IgYmF0Y2hpbmdcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51dnMgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0aGVhc2UgYXJlIHVzZWQgYXMgZWFzeSBhY2Nlc3MgZm9yIGJhdGNoaW5nXG4gICAgICAgICAqIEBtZW1iZXIge1VpbnQxNkFycmF5fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbmRpY2VzID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogdGhpcyBpcyB0aGUgY2FjaGluZyBsYXllciB1c2VkIGJ5IHRoZSBiYXRjaGVyXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudmVydGV4RGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoMSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGdlb21ldHJ5IGlzIGNoYW5nZWQgdXNlZCB0byBkZWNpZGUgdG8gcmUtdHJhbnNmb3JtXG4gICAgICAgICAqIHRoZSB2ZXJ0ZXhEYXRhLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZlcnRleERpcnR5ID0gMDtcblxuICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuXG4gICAgICAgIC8vIEluaGVyaXRlZCBmcm9tIERpc3BsYXlNb2RlLCBzZXQgZGVmYXVsdHNcbiAgICAgICAgdGhpcy50aW50ID0gMHhGRkZGRkY7XG4gICAgICAgIHRoaXMuYmxlbmRNb2RlID0gQkxFTkRfTU9ERVMuTk9STUFMO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCByb3VuZFBpeGVscyBmaWVsZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcm91bmRQaXhlbHMgPSBzZXR0aW5ncy5ST1VORF9QSVhFTFM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJhdGNoZWQgVVYncyBhcmUgY2FjaGVkIGZvciBhdGxhcyB0ZXh0dXJlc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1lc2hCYXRjaFV2c31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmF0Y2hVdnMgPSBudWxsO1xuICAgIH1cblxuICAgIGlmICggQ29udGFpbmVyICkgTWVzaC5fX3Byb3RvX18gPSBDb250YWluZXI7XG4gICAgTWVzaC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBDb250YWluZXIgJiYgQ29udGFpbmVyLnByb3RvdHlwZSApO1xuICAgIE1lc2gucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTWVzaDtcblxuICAgIHZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IHV2QnVmZmVyOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHZlcnRpY2VzQnVmZmVyOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LG1hdGVyaWFsOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGJsZW5kTW9kZTogeyBjb25maWd1cmFibGU6IHRydWUgfSxyb3VuZFBpeGVsczogeyBjb25maWd1cmFibGU6IHRydWUgfSx0aW50OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHRleHR1cmU6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuICAgIC8qKlxuICAgICAqIFRvIGNoYW5nZSBtZXNoIHV2J3MsIGNoYW5nZSBpdHMgdXZCdWZmZXIgZGF0YSBhbmQgaW5jcmVtZW50IGl0cyBfdXBkYXRlSUQuXG4gICAgICogQG1lbWJlciB7UElYSS5CdWZmZXJ9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnV2QnVmZmVyLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5nZW9tZXRyeS5idWZmZXJzWzFdO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUbyBjaGFuZ2UgbWVzaCB2ZXJ0aWNlcywgY2hhbmdlIGl0cyB1dkJ1ZmZlciBkYXRhIGFuZCBpbmNyZW1lbnQgaXRzIF91cGRhdGVJRC5cbiAgICAgKiBJbmNyZW1lbnRpbmcgX3VwZGF0ZUlEIGlzIG9wdGlvbmFsIGJlY2F1c2UgbW9zdCBvZiBNZXNoIG9iamVjdHMgZG8gaXQgYW55d2F5LlxuICAgICAqIEBtZW1iZXIge1BJWEkuQnVmZmVyfVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy52ZXJ0aWNlc0J1ZmZlci5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnkuYnVmZmVyc1swXTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWxpYXMgZm9yIHtAbGluayBQSVhJLk1lc2gjc2hhZGVyfS5cbiAgICAgKiBAbWVtYmVyIHtQSVhJLlNoYWRlcnxQSVhJLk1lc2hNYXRlcmlhbH1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMubWF0ZXJpYWwuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5zaGFkZXIgPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLm1hdGVyaWFsLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zaGFkZXI7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBibGVuZCBtb2RlIHRvIGJlIGFwcGxpZWQgdG8gdGhlIE1lc2guIEFwcGx5IGEgdmFsdWUgb2ZcbiAgICAgKiBgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxgIHRvIHJlc2V0IHRoZSBibGVuZCBtb2RlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMO1xuICAgICAqIEBzZWUgUElYSS5CTEVORF9NT0RFU1xuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5ibGVuZE1vZGUuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5ibGVuZE1vZGUgPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmJsZW5kTW9kZS5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuYmxlbmRNb2RlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW4gcmVuZGVyaW5nLCBzdG9wcGluZyBwaXhlbCBpbnRlcnBvbGF0aW9uLlxuICAgICAqIEFkdmFudGFnZXMgY2FuIGluY2x1ZGUgc2hhcnBlciBpbWFnZSBxdWFsaXR5IChsaWtlIHRleHQpIGFuZCBmYXN0ZXIgcmVuZGVyaW5nIG9uIGNhbnZhcy5cbiAgICAgKiBUaGUgbWFpbiBkaXNhZHZhbnRhZ2UgaXMgbW92ZW1lbnQgb2Ygb2JqZWN0cyBtYXkgYXBwZWFyIGxlc3Mgc21vb3RoLlxuICAgICAqIFRvIHNldCB0aGUgZ2xvYmFsIGRlZmF1bHQsIGNoYW5nZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5ST1VORF9QSVhFTFN9XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnJvdW5kUGl4ZWxzLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSlcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9yb3VuZFBpeGVscyAhPT0gdmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcm91bmRQaXhlbHMgPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnJvdW5kUGl4ZWxzLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fcm91bmRQaXhlbHM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBtdWx0aXBseSB0aW50IGFwcGxpZWQgdG8gdGhlIE1lc2guIFRoaXMgaXMgYSBoZXggdmFsdWUuIEEgdmFsdWUgb2ZcbiAgICAgKiBgMHhGRkZGRkZgIHdpbGwgcmVtb3ZlIGFueSB0aW50IGVmZmVjdC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy50aW50LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zaGFkZXIudGludDtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRpbnQuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5zaGFkZXIudGludCA9IHZhbHVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGV4dHVyZSB0aGF0IHRoZSBNZXNoIHVzZXMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRleHR1cmUuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNoYWRlci50ZXh0dXJlO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudGV4dHVyZS5zZXQgPSBmdW5jdGlvbiAodmFsdWUpXG4gICAge1xuICAgICAgICB0aGlzLnNoYWRlci50ZXh0dXJlID0gdmFsdWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFN0YW5kYXJkIHJlbmRlcmVyIGRyYXcuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBJbnN0YW5jZSB0byByZW5kZXJlci5cbiAgICAgKi9cbiAgICBNZXNoLnByb3RvdHlwZS5fcmVuZGVyID0gZnVuY3Rpb24gX3JlbmRlciAocmVuZGVyZXIpXG4gICAge1xuICAgICAgICAvLyBzZXQgcHJvcGVydGllcyBmb3IgYmF0Y2hpbmcuLlxuICAgICAgICAvLyBUT0RPIGNvdWxkIHVzZSBhIGRpZmZlcmVudCB3YXkgdG8gZ3JhYiB2ZXJ0cz9cbiAgICAgICAgdmFyIHZlcnRpY2VzID0gdGhpcy5nZW9tZXRyeS5idWZmZXJzWzBdLmRhdGE7XG5cbiAgICAgICAgLy8gVE9ETyBiZW5jaG1hcmsgY2hlY2sgZm9yIGF0dHJpYnV0ZSBzaXplLi5cbiAgICAgICAgaWYgKHRoaXMuc2hhZGVyLmJhdGNoYWJsZSAmJiB0aGlzLmRyYXdNb2RlID09PSBEUkFXX01PREVTLlRSSUFOR0xFUyAmJiB2ZXJ0aWNlcy5sZW5ndGggPCBNZXNoLkJBVENIQUJMRV9TSVpFICogMilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyVG9CYXRjaChyZW5kZXJlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJEZWZhdWx0KHJlbmRlcmVyKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTdGFuZGFyZCBub24tYmF0Y2hpbmcgd2F5IG9mIHJlbmRlcmluZy5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIEluc3RhbmNlIHRvIHJlbmRlcmVyLlxuICAgICAqL1xuICAgIE1lc2gucHJvdG90eXBlLl9yZW5kZXJEZWZhdWx0ID0gZnVuY3Rpb24gX3JlbmRlckRlZmF1bHQgKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgdmFyIHNoYWRlciA9IHRoaXMuc2hhZGVyO1xuXG4gICAgICAgIHNoYWRlci5hbHBoYSA9IHRoaXMud29ybGRBbHBoYTtcbiAgICAgICAgaWYgKHNoYWRlci51cGRhdGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNoYWRlci51cGRhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlcmVyLmJhdGNoLmZsdXNoKCk7XG5cbiAgICAgICAgaWYgKHNoYWRlci5wcm9ncmFtLnVuaWZvcm1EYXRhLnRyYW5zbGF0aW9uTWF0cml4KVxuICAgICAgICB7XG4gICAgICAgICAgICBzaGFkZXIudW5pZm9ybXMudHJhbnNsYXRpb25NYXRyaXggPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybS50b0FycmF5KHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYmluZCBhbmQgc3luYyB1bmlmb3Jtcy4uXG4gICAgICAgIHJlbmRlcmVyLnNoYWRlci5iaW5kKHNoYWRlcik7XG5cbiAgICAgICAgLy8gc2V0IHN0YXRlLi5cbiAgICAgICAgcmVuZGVyZXIuc3RhdGUuc2V0KHRoaXMuc3RhdGUpO1xuXG4gICAgICAgIC8vIGJpbmQgdGhlIGdlb21ldHJ5Li4uXG4gICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmJpbmQodGhpcy5nZW9tZXRyeSwgc2hhZGVyKTtcblxuICAgICAgICAvLyB0aGVuIHJlbmRlciBpdFxuICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5kcmF3KHRoaXMuZHJhd01vZGUsIHRoaXMuc2l6ZSwgdGhpcy5zdGFydCwgdGhpcy5nZW9tZXRyeS5pbnN0YW5jZUNvdW50KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVyaW5nIGJ5IHVzaW5nIHRoZSBCYXRjaCBzeXN0ZW0uXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBJbnN0YW5jZSB0byByZW5kZXJlci5cbiAgICAgKi9cbiAgICBNZXNoLnByb3RvdHlwZS5fcmVuZGVyVG9CYXRjaCA9IGZ1bmN0aW9uIF9yZW5kZXJUb0JhdGNoIChyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuZ2VvbWV0cnk7XG5cbiAgICAgICAgaWYgKHRoaXMuc2hhZGVyLnV2TWF0cml4KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNoYWRlci51dk1hdHJpeC51cGRhdGUoKTtcbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlVXZzKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzZXQgcHJvcGVydGllcyBmb3IgYmF0Y2hpbmcuLlxuICAgICAgICB0aGlzLmNhbGN1bGF0ZVZlcnRpY2VzKCk7XG4gICAgICAgIHRoaXMuaW5kaWNlcyA9IGdlb21ldHJ5LmluZGV4QnVmZmVyLmRhdGE7XG4gICAgICAgIHRoaXMuX3RpbnRSR0IgPSB0aGlzLnNoYWRlci5fdGludFJHQjtcbiAgICAgICAgdGhpcy5fdGV4dHVyZSA9IHRoaXMuc2hhZGVyLnRleHR1cmU7XG5cbiAgICAgICAgdmFyIHBsdWdpbk5hbWUgPSB0aGlzLm1hdGVyaWFsLnBsdWdpbk5hbWU7XG5cbiAgICAgICAgcmVuZGVyZXIuYmF0Y2guc2V0T2JqZWN0UmVuZGVyZXIocmVuZGVyZXIucGx1Z2luc1twbHVnaW5OYW1lXSk7XG4gICAgICAgIHJlbmRlcmVyLnBsdWdpbnNbcGx1Z2luTmFtZV0ucmVuZGVyKHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHZlcnRleERhdGEgZmllbGQgYmFzZWQgb24gdHJhbnNmb3JtIGFuZCB2ZXJ0aWNlc1xuICAgICAqL1xuICAgIE1lc2gucHJvdG90eXBlLmNhbGN1bGF0ZVZlcnRpY2VzID0gZnVuY3Rpb24gY2FsY3VsYXRlVmVydGljZXMgKClcbiAgICB7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuZ2VvbWV0cnk7XG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IGdlb21ldHJ5LmJ1ZmZlcnNbMF0uZGF0YTtcblxuICAgICAgICBpZiAoZ2VvbWV0cnkudmVydGV4RGlydHlJZCA9PT0gdGhpcy52ZXJ0ZXhEaXJ0eSAmJiB0aGlzLl90cmFuc2Zvcm1JRCA9PT0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQ7XG5cbiAgICAgICAgaWYgKHRoaXMudmVydGV4RGF0YS5sZW5ndGggIT09IHZlcnRpY2VzLmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy52ZXJ0ZXhEYXRhID0gbmV3IEZsb2F0MzJBcnJheSh2ZXJ0aWNlcy5sZW5ndGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHd0ID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciBhID0gd3QuYTtcbiAgICAgICAgdmFyIGIgPSB3dC5iO1xuICAgICAgICB2YXIgYyA9IHd0LmM7XG4gICAgICAgIHZhciBkID0gd3QuZDtcbiAgICAgICAgdmFyIHR4ID0gd3QudHg7XG4gICAgICAgIHZhciB0eSA9IHd0LnR5O1xuXG4gICAgICAgIHZhciB2ZXJ0ZXhEYXRhID0gdGhpcy52ZXJ0ZXhEYXRhO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmVydGV4RGF0YS5sZW5ndGggLyAyOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB4ID0gdmVydGljZXNbKGkgKiAyKV07XG4gICAgICAgICAgICB2YXIgeSA9IHZlcnRpY2VzWyhpICogMikgKyAxXTtcblxuICAgICAgICAgICAgdmVydGV4RGF0YVsoaSAqIDIpXSA9IChhICogeCkgKyAoYyAqIHkpICsgdHg7XG4gICAgICAgICAgICB2ZXJ0ZXhEYXRhWyhpICogMikgKyAxXSA9IChiICogeCkgKyAoZCAqIHkpICsgdHk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fcm91bmRQaXhlbHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IHZlcnRleERhdGEubGVuZ3RoOyBpJDErKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhEYXRhW2kkMV0gPSBNYXRoLnJvdW5kKHZlcnRleERhdGFbaSQxXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnZlcnRleERpcnR5ID0gZ2VvbWV0cnkudmVydGV4RGlydHlJZDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB1diBmaWVsZCBiYXNlZCBvbiBmcm9tIGdlb21ldHJ5IHV2J3Mgb3IgYmF0Y2hVdnNcbiAgICAgKi9cbiAgICBNZXNoLnByb3RvdHlwZS5jYWxjdWxhdGVVdnMgPSBmdW5jdGlvbiBjYWxjdWxhdGVVdnMgKClcbiAgICB7XG4gICAgICAgIHZhciBnZW9tVXZzID0gdGhpcy5nZW9tZXRyeS5idWZmZXJzWzFdO1xuXG4gICAgICAgIGlmICghdGhpcy5zaGFkZXIudXZNYXRyaXguaXNTaW1wbGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5iYXRjaFV2cylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJhdGNoVXZzID0gbmV3IE1lc2hCYXRjaFV2cyhnZW9tVXZzLCB0aGlzLnNoYWRlci51dk1hdHJpeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmJhdGNoVXZzLnVwZGF0ZSgpO1xuICAgICAgICAgICAgdGhpcy51dnMgPSB0aGlzLmJhdGNoVXZzLmRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnV2cyA9IGdlb21VdnMuZGF0YTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBib3VuZHMgb2YgdGhlIG1lc2ggYXMgYSByZWN0YW5nbGUuIFRoZSBib3VuZHMgY2FsY3VsYXRpb24gdGFrZXMgdGhlIHdvcmxkVHJhbnNmb3JtIGludG8gYWNjb3VudC5cbiAgICAgKiB0aGVyZSBtdXN0IGJlIGEgYVZlcnRleFBvc2l0aW9uIGF0dHJpYnV0ZSBwcmVzZW50IGluIHRoZSBnZW9tZXRyeSBmb3IgYm91bmRzIHRvIGJlIGNhbGN1bGF0ZWQgY29ycmVjdGx5LlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIE1lc2gucHJvdG90eXBlLl9jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiBfY2FsY3VsYXRlQm91bmRzICgpXG4gICAge1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZVZlcnRpY2VzKCk7XG5cbiAgICAgICAgdGhpcy5fYm91bmRzLmFkZFZlcnRleERhdGEodGhpcy52ZXJ0ZXhEYXRhLCAwLCB0aGlzLnZlcnRleERhdGEubGVuZ3RoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGVzdHMgaWYgYSBwb2ludCBpcyBpbnNpZGUgdGhpcyBtZXNoLiBXb3JrcyBvbmx5IGZvciBQSVhJLkRSQVdfTU9ERVMuVFJJQU5HTEVTLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBwb2ludCB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHRoZSByZXN1bHQgb2YgdGhlIHRlc3RcbiAgICAgKi9cbiAgICBNZXNoLnByb3RvdHlwZS5jb250YWluc1BvaW50ID0gZnVuY3Rpb24gY29udGFpbnNQb2ludCAocG9pbnQpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuZ2V0Qm91bmRzKCkuY29udGFpbnMocG9pbnQueCwgcG9pbnQueSkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvaW50LCB0ZW1wUG9pbnQpO1xuXG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IHRoaXMuZ2VvbWV0cnkuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKS5kYXRhO1xuXG4gICAgICAgIHZhciBwb2ludHMgPSB0ZW1wUG9seWdvbi5wb2ludHM7XG4gICAgICAgIHZhciBpbmRpY2VzID0gIHRoaXMuZ2VvbWV0cnkuZ2V0SW5kZXgoKS5kYXRhO1xuICAgICAgICB2YXIgbGVuID0gaW5kaWNlcy5sZW5ndGg7XG4gICAgICAgIHZhciBzdGVwID0gdGhpcy5kcmF3TW9kZSA9PT0gNCA/IDMgOiAxO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpICsgMiA8IGxlbjsgaSArPSBzdGVwKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgaW5kMCA9IGluZGljZXNbaV0gKiAyO1xuICAgICAgICAgICAgdmFyIGluZDEgPSBpbmRpY2VzW2kgKyAxXSAqIDI7XG4gICAgICAgICAgICB2YXIgaW5kMiA9IGluZGljZXNbaSArIDJdICogMjtcblxuICAgICAgICAgICAgcG9pbnRzWzBdID0gdmVydGljZXNbaW5kMF07XG4gICAgICAgICAgICBwb2ludHNbMV0gPSB2ZXJ0aWNlc1tpbmQwICsgMV07XG4gICAgICAgICAgICBwb2ludHNbMl0gPSB2ZXJ0aWNlc1tpbmQxXTtcbiAgICAgICAgICAgIHBvaW50c1szXSA9IHZlcnRpY2VzW2luZDEgKyAxXTtcbiAgICAgICAgICAgIHBvaW50c1s0XSA9IHZlcnRpY2VzW2luZDJdO1xuICAgICAgICAgICAgcG9pbnRzWzVdID0gdmVydGljZXNbaW5kMiArIDFdO1xuXG4gICAgICAgICAgICBpZiAodGVtcFBvbHlnb24uY29udGFpbnModGVtcFBvaW50LngsIHRlbXBQb2ludC55KSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBNZXNoIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsXG4gICAgICogIG9wdGlvbnMgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmVcbiAgICAgKiAgdGhlaXIgZGVzdHJveSBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKi9cbiAgICBNZXNoLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAob3B0aW9ucylcbiAgICB7XG4gICAgICAgIENvbnRhaW5lci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuZ2VvbWV0cnkucmVmQ291bnQtLTtcbiAgICAgICAgaWYgKHRoaXMuZ2VvbWV0cnkucmVmQ291bnQgPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZ2VvbWV0cnkuZGlzcG9zZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5nZW9tZXRyeSA9IG51bGw7XG4gICAgICAgIHRoaXMuc2hhZGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IG51bGw7XG4gICAgICAgIHRoaXMudXZzID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbmRpY2VzID0gbnVsbDtcbiAgICAgICAgdGhpcy52ZXJ0ZXhEYXRhID0gbnVsbDtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIE1lc2gucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuICAgIHJldHVybiBNZXNoO1xufShDb250YWluZXIpKTtcblxuLyoqXG4gKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgdmVydGljZXMgdG8gY29uc2lkZXIgYmF0Y2hhYmxlLiBHZW5lcmFsbHksIHRoZSBjb21wbGV4aXR5XG4gKiBvZiB0aGUgZ2VvbWV0cnkuXG4gKiBAbWVtYmVyb2YgUElYSS5NZXNoXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyIHtudW1iZXJ9IEJBVENIQUJMRV9TSVpFXG4gKi9cbk1lc2guQkFUQ0hBQkxFX1NJWkUgPSAxMDA7XG5cbnZhciB2ZXJ0ZXggPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyB0cmFuc2xhdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgdVRleHR1cmVNYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB0cmFuc2xhdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcblxcbiAgICB2VGV4dHVyZUNvb3JkID0gKHVUZXh0dXJlTWF0cml4ICogdmVjMyhhVGV4dHVyZUNvb3JkLCAxLjApKS54eTtcXG59XFxuXCI7XG5cbnZhciBmcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudW5pZm9ybSB2ZWM0IHVDb2xvcjtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCkgKiB1Q29sb3I7XFxufVxcblwiO1xuXG4vKipcbiAqIFNsaWdodGx5IG9waW5pb25hdGVkIGRlZmF1bHQgc2hhZGVyIGZvciBQaXhpSlMgMkQgb2JqZWN0cy5cbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuU2hhZGVyXG4gKi9cbnZhciBNZXNoTWF0ZXJpYWwgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChTaGFkZXIpIHtcbiAgICBmdW5jdGlvbiBNZXNoTWF0ZXJpYWwodVNhbXBsZXIsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICB2YXIgdW5pZm9ybXMgPSB7XG4gICAgICAgICAgICB1U2FtcGxlcjogdVNhbXBsZXIsXG4gICAgICAgICAgICBhbHBoYTogMSxcbiAgICAgICAgICAgIHVUZXh0dXJlTWF0cml4OiBNYXRyaXguSURFTlRJVFksXG4gICAgICAgICAgICB1Q29sb3I6IG5ldyBGbG9hdDMyQXJyYXkoWzEsIDEsIDEsIDFdKSxcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBTZXQgZGVmYXVsdHNcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgdGludDogMHhGRkZGRkYsXG4gICAgICAgICAgICBhbHBoYTogMSxcbiAgICAgICAgICAgIHBsdWdpbk5hbWU6ICdiYXRjaCcsXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnVuaWZvcm1zKVxuICAgICAgICB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHVuaWZvcm1zLCBvcHRpb25zLnVuaWZvcm1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIFNoYWRlci5jYWxsKHRoaXMsIG9wdGlvbnMucHJvZ3JhbSB8fCBQcm9ncmFtLmZyb20odmVydGV4LCBmcmFnbWVudCksIHVuaWZvcm1zKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogT25seSBkbyB1cGRhdGUgaWYgdGludCBvciBhbHBoYSBjaGFuZ2VzLlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fY29sb3JEaXJ0eSA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUZXh0dXJlTWF0cml4IGluc3RhbmNlIGZvciB0aGlzIE1lc2gsIHVzZWQgdG8gdHJhY2sgVGV4dHVyZSBjaGFuZ2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZU1hdHJpeH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnV2TWF0cml4ID0gbmV3IFRleHR1cmVNYXRyaXgodVNhbXBsZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgdHJ1ZWAgaWYgc2hhZGVyIGNhbiBiZSBiYXRjaCB3aXRoIHRoZSByZW5kZXJlcidzIGJhdGNoIHN5c3RlbS5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5iYXRjaGFibGUgPSBvcHRpb25zLnByb2dyYW0gPT09IHVuZGVmaW5lZDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVuZGVyZXIgcGx1Z2luIGZvciBiYXRjaGluZ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdiYXRjaCdcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGx1Z2luTmFtZSA9IG9wdGlvbnMucGx1Z2luTmFtZTtcblxuICAgICAgICB0aGlzLnRpbnQgPSBvcHRpb25zLnRpbnQ7XG4gICAgICAgIHRoaXMuYWxwaGEgPSBvcHRpb25zLmFscGhhO1xuICAgIH1cblxuICAgIGlmICggU2hhZGVyICkgTWVzaE1hdGVyaWFsLl9fcHJvdG9fXyA9IFNoYWRlcjtcbiAgICBNZXNoTWF0ZXJpYWwucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU2hhZGVyICYmIFNoYWRlci5wcm90b3R5cGUgKTtcbiAgICBNZXNoTWF0ZXJpYWwucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTWVzaE1hdGVyaWFsO1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgdGV4dHVyZTogeyBjb25maWd1cmFibGU6IHRydWUgfSxhbHBoYTogeyBjb25maWd1cmFibGU6IHRydWUgfSx0aW50OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgICAvKipcbiAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIHRleHR1cmUgYmVpbmcgcmVuZGVyZWQuXG4gICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy50ZXh0dXJlLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy51U2FtcGxlcjtcbiAgICB9O1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy50ZXh0dXJlLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSlcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnVuaWZvcm1zLnVTYW1wbGVyICE9PSB2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy51U2FtcGxlciA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy51dk1hdHJpeC50ZXh0dXJlID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBnZXRzIGF1dG9tYXRpY2FsbHkgc2V0IGJ5IHRoZSBvYmplY3QgdXNpbmcgdGhpcy5cbiAgICAgKlxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmFscGhhLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSlcbiAgICB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdGhpcy5fYWxwaGEpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgdGhpcy5fYWxwaGEgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fY29sb3JEaXJ0eSA9IHRydWU7XG4gICAgfTtcbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYWxwaGEuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hbHBoYTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTXVsdGlwbHkgdGludCBmb3IgdGhlIG1hdGVyaWFsLlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy50aW50LnNldCA9IGZ1bmN0aW9uICh2YWx1ZSlcbiAgICB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdGhpcy5fdGludCkgeyByZXR1cm47IH1cblxuICAgICAgICB0aGlzLl90aW50ID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX3RpbnRSR0IgPSAodmFsdWUgPj4gMTYpICsgKHZhbHVlICYgMHhmZjAwKSArICgodmFsdWUgJiAweGZmKSA8PCAxNik7XG4gICAgICAgIHRoaXMuX2NvbG9yRGlydHkgPSB0cnVlO1xuICAgIH07XG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRpbnQuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl90aW50O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGNhbGxlZCBhdXRvbWF0aWNhbGx5IGJ5IHRoZSBNZXNoLiBJbnRlbmRlZCB0byBiZSBvdmVycmlkZGVuIGZvciBjdXN0b21cbiAgICAgKiBNZXNoTWF0ZXJpYWwgb2JqZWN0cy5cbiAgICAgKi9cbiAgICBNZXNoTWF0ZXJpYWwucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2NvbG9yRGlydHkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbG9yRGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IHRoaXMudGV4dHVyZS5iYXNlVGV4dHVyZTtcblxuICAgICAgICAgICAgcHJlbXVsdGlwbHlUaW50VG9SZ2JhKHRoaXMuX3RpbnQsIHRoaXMuX2FscGhhLCB0aGlzLnVuaWZvcm1zLnVDb2xvciwgYmFzZVRleHR1cmUucHJlbXVsdGlwbHlBbHBoYSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudXZNYXRyaXgudXBkYXRlKCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMudVRleHR1cmVNYXRyaXggPSB0aGlzLnV2TWF0cml4Lm1hcENvb3JkO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBNZXNoTWF0ZXJpYWwucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuICAgIHJldHVybiBNZXNoTWF0ZXJpYWw7XG59KFNoYWRlcikpO1xuXG4vKipcbiAqIFN0YW5kYXJkIDJEIGdlb21ldHJ5IHVzZWQgaW4gUGl4aUpTLlxuICpcbiAqIEdlb21ldHJ5IGNhbiBiZSBkZWZpbmVkIHdpdGhvdXQgcGFzc2luZyBpbiBhIHN0eWxlIG9yIGRhdGEgaWYgcmVxdWlyZWQuXG4gKlxuICogYGBganNcbiAqIGNvbnN0IGdlb21ldHJ5ID0gbmV3IFBJWEkuR2VvbWV0cnkoKTtcbiAqXG4gKiBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoJ3Bvc2l0aW9ucycsIFswLCAwLCAxMDAsIDAsIDEwMCwgMTAwLCAwLCAxMDBdLCAyKTtcbiAqIGdlb21ldHJ5LmFkZEF0dHJpYnV0ZSgndXZzJywgWzAsMCwxLDAsMSwxLDAsMV0sIDIpO1xuICogZ2VvbWV0cnkuYWRkSW5kZXgoWzAsMSwyLDEsMywyXSk7XG4gKlxuICogYGBgXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLkdlb21ldHJ5XG4gKi9cbnZhciBNZXNoR2VvbWV0cnkgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChHZW9tZXRyeSkge1xuICAgIGZ1bmN0aW9uIE1lc2hHZW9tZXRyeSh2ZXJ0aWNlcywgdXZzLCBpbmRleClcbiAgICB7XG4gICAgICAgIEdlb21ldHJ5LmNhbGwodGhpcyk7XG5cbiAgICAgICAgdmFyIHZlcnRpY2VzQnVmZmVyID0gbmV3IEJ1ZmZlcih2ZXJ0aWNlcyk7XG4gICAgICAgIHZhciB1dnNCdWZmZXIgPSBuZXcgQnVmZmVyKHV2cywgdHJ1ZSk7XG4gICAgICAgIHZhciBpbmRleEJ1ZmZlciA9IG5ldyBCdWZmZXIoaW5kZXgsIHRydWUsIHRydWUpO1xuXG4gICAgICAgIHRoaXMuYWRkQXR0cmlidXRlKCdhVmVydGV4UG9zaXRpb24nLCB2ZXJ0aWNlc0J1ZmZlciwgMiwgZmFsc2UsIFRZUEVTLkZMT0FUKVxuICAgICAgICAgICAgLmFkZEF0dHJpYnV0ZSgnYVRleHR1cmVDb29yZCcsIHV2c0J1ZmZlciwgMiwgZmFsc2UsIFRZUEVTLkZMT0FUKVxuICAgICAgICAgICAgLmFkZEluZGV4KGluZGV4QnVmZmVyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlydHkgZmxhZyB0byBsaW1pdCB1cGRhdGUgY2FsbHMgb24gTWVzaC4gRm9yIGV4YW1wbGUsXG4gICAgICAgICAqIGxpbWl0aW5nIHVwZGF0ZXMgb24gYSBzaW5nbGUgTWVzaCBpbnN0YW5jZSB3aXRoIGEgc2hhcmVkIEdlb21ldHJ5XG4gICAgICAgICAqIHdpdGhpbiB0aGUgcmVuZGVyIGxvb3AuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgLTFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3VwZGF0ZUlkID0gLTE7XG4gICAgfVxuXG4gICAgaWYgKCBHZW9tZXRyeSApIE1lc2hHZW9tZXRyeS5fX3Byb3RvX18gPSBHZW9tZXRyeTtcbiAgICBNZXNoR2VvbWV0cnkucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggR2VvbWV0cnkgJiYgR2VvbWV0cnkucHJvdG90eXBlICk7XG4gICAgTWVzaEdlb21ldHJ5LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE1lc2hHZW9tZXRyeTtcblxuICAgIHZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IHZlcnRleERpcnR5SWQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuICAgIC8qKlxuICAgICAqIElmIHRoZSB2ZXJ0ZXggcG9zaXRpb24gaXMgdXBkYXRlZC5cbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudmVydGV4RGlydHlJZC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyc1swXS5fdXBkYXRlSUQ7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBNZXNoR2VvbWV0cnkucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuICAgIHJldHVybiBNZXNoR2VvbWV0cnk7XG59KEdlb21ldHJ5KSk7XG5cbmV4cG9ydCB7IE1lc2gsIE1lc2hCYXRjaFV2cywgTWVzaEdlb21ldHJ5LCBNZXNoTWF0ZXJpYWwgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lc2guZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL21lc2gtZXh0cmFzIC0gdjUuMS40XG4gKiBDb21waWxlZCBGcmksIDIwIFNlcCAyMDE5IDE3OjE3OjU5IFVUQ1xuICpcbiAqIEBwaXhpL21lc2gtZXh0cmFzIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgTWVzaEdlb21ldHJ5LCBNZXNoLCBNZXNoTWF0ZXJpYWwgfSBmcm9tICdAcGl4aS9tZXNoJztcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcblxudmFyIFBsYW5lR2VvbWV0cnkgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChNZXNoR2VvbWV0cnkpIHtcbiAgICBmdW5jdGlvbiBQbGFuZUdlb21ldHJ5KHdpZHRoLCBoZWlnaHQsIHNlZ1dpZHRoLCBzZWdIZWlnaHQpXG4gICAge1xuICAgICAgICBpZiAoIHdpZHRoID09PSB2b2lkIDAgKSB3aWR0aCA9IDEwMDtcbiAgICAgICAgaWYgKCBoZWlnaHQgPT09IHZvaWQgMCApIGhlaWdodCA9IDEwMDtcbiAgICAgICAgaWYgKCBzZWdXaWR0aCA9PT0gdm9pZCAwICkgc2VnV2lkdGggPSAxMDtcbiAgICAgICAgaWYgKCBzZWdIZWlnaHQgPT09IHZvaWQgMCApIHNlZ0hlaWdodCA9IDEwO1xuXG4gICAgICAgIE1lc2hHZW9tZXRyeS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuc2VnV2lkdGggPSBzZWdXaWR0aDtcbiAgICAgICAgdGhpcy5zZWdIZWlnaHQgPSBzZWdIZWlnaHQ7XG5cbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcblxuICAgICAgICB0aGlzLmJ1aWxkKCk7XG4gICAgfVxuXG4gICAgaWYgKCBNZXNoR2VvbWV0cnkgKSBQbGFuZUdlb21ldHJ5Ll9fcHJvdG9fXyA9IE1lc2hHZW9tZXRyeTtcbiAgICBQbGFuZUdlb21ldHJ5LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIE1lc2hHZW9tZXRyeSAmJiBNZXNoR2VvbWV0cnkucHJvdG90eXBlICk7XG4gICAgUGxhbmVHZW9tZXRyeS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBQbGFuZUdlb21ldHJ5O1xuXG4gICAgLyoqXG4gICAgICogUmVmcmVzaGVzIHBsYW5lIGNvb3JkaW5hdGVzXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQbGFuZUdlb21ldHJ5LnByb3RvdHlwZS5idWlsZCA9IGZ1bmN0aW9uIGJ1aWxkICgpXG4gICAge1xuICAgICAgICB2YXIgdG90YWwgPSB0aGlzLnNlZ1dpZHRoICogdGhpcy5zZWdIZWlnaHQ7XG4gICAgICAgIHZhciB2ZXJ0cyA9IFtdO1xuICAgICAgICB2YXIgdXZzID0gW107XG4gICAgICAgIHZhciBpbmRpY2VzID0gW107XG5cbiAgICAgICAgdmFyIHNlZ21lbnRzWCA9IHRoaXMuc2VnV2lkdGggLSAxO1xuICAgICAgICB2YXIgc2VnbWVudHNZID0gdGhpcy5zZWdIZWlnaHQgLSAxO1xuXG4gICAgICAgIHZhciBzaXplWCA9ICh0aGlzLndpZHRoKSAvIHNlZ21lbnRzWDtcbiAgICAgICAgdmFyIHNpemVZID0gKHRoaXMuaGVpZ2h0KSAvIHNlZ21lbnRzWTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB4ID0gKGkgJSB0aGlzLnNlZ1dpZHRoKTtcbiAgICAgICAgICAgIHZhciB5ID0gKChpIC8gdGhpcy5zZWdXaWR0aCkgfCAwKTtcblxuICAgICAgICAgICAgdmVydHMucHVzaCh4ICogc2l6ZVgsIHkgKiBzaXplWSk7XG4gICAgICAgICAgICB1dnMucHVzaCh4IC8gc2VnbWVudHNYLCB5IC8gc2VnbWVudHNZKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0b3RhbFN1YiA9IHNlZ21lbnRzWCAqIHNlZ21lbnRzWTtcblxuICAgICAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCB0b3RhbFN1YjsgaSQxKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB4cG9zID0gaSQxICUgc2VnbWVudHNYO1xuICAgICAgICAgICAgdmFyIHlwb3MgPSAoaSQxIC8gc2VnbWVudHNYKSB8IDA7XG5cbiAgICAgICAgICAgIHZhciB2YWx1ZSA9ICh5cG9zICogdGhpcy5zZWdXaWR0aCkgKyB4cG9zO1xuICAgICAgICAgICAgdmFyIHZhbHVlMiA9ICh5cG9zICogdGhpcy5zZWdXaWR0aCkgKyB4cG9zICsgMTtcbiAgICAgICAgICAgIHZhciB2YWx1ZTMgPSAoKHlwb3MgKyAxKSAqIHRoaXMuc2VnV2lkdGgpICsgeHBvcztcbiAgICAgICAgICAgIHZhciB2YWx1ZTQgPSAoKHlwb3MgKyAxKSAqIHRoaXMuc2VnV2lkdGgpICsgeHBvcyArIDE7XG5cbiAgICAgICAgICAgIGluZGljZXMucHVzaCh2YWx1ZSwgdmFsdWUyLCB2YWx1ZTMsXG4gICAgICAgICAgICAgICAgdmFsdWUyLCB2YWx1ZTQsIHZhbHVlMyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmJ1ZmZlcnNbMF0uZGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkodmVydHMpO1xuICAgICAgICB0aGlzLmJ1ZmZlcnNbMV0uZGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkodXZzKTtcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlci5kYXRhID0gbmV3IFVpbnQxNkFycmF5KGluZGljZXMpO1xuXG4gICAgICAgIC8vIGVuc3VyZSB0aGF0IHRoZSBjaGFuZ2VzIGFyZSB1cGxvYWRlZFxuICAgICAgICB0aGlzLmJ1ZmZlcnNbMF0udXBkYXRlKCk7XG4gICAgICAgIHRoaXMuYnVmZmVyc1sxXS51cGRhdGUoKTtcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlci51cGRhdGUoKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFBsYW5lR2VvbWV0cnk7XG59KE1lc2hHZW9tZXRyeSkpO1xuXG4vKipcbiAqIFJvcGVHZW9tZXRyeSBhbGxvd3MgeW91IHRvIGRyYXcgYSBnZW9tZXRyeSBhY3Jvc3Mgc2V2ZXJhbCBwb2ludHMgYW5kIHRoZW4gbWFuaXB1bGF0ZSB0aGVzZSBwb2ludHMuXG4gKlxuICogYGBganNcbiAqIGZvciAobGV0IGkgPSAwOyBpIDwgMjA7IGkrKykge1xuICogICAgIHBvaW50cy5wdXNoKG5ldyBQSVhJLlBvaW50KGkgKiA1MCwgMCkpO1xuICogfTtcbiAqIGNvbnN0IHJvcGUgPSBuZXcgUElYSS5Sb3BlR2VvbWV0cnkoMTAwLCBwb2ludHMpO1xuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLk1lc2hHZW9tZXRyeVxuICogQG1lbWJlcm9mIFBJWElcbiAqXG4gKi9cbnZhciBSb3BlR2VvbWV0cnkgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChNZXNoR2VvbWV0cnkpIHtcbiAgICBmdW5jdGlvbiBSb3BlR2VvbWV0cnkod2lkdGgsIHBvaW50cylcbiAgICB7XG4gICAgICAgIGlmICggd2lkdGggPT09IHZvaWQgMCApIHdpZHRoID0gMjAwO1xuXG4gICAgICAgIE1lc2hHZW9tZXRyeS5jYWxsKHRoaXMsIG5ldyBGbG9hdDMyQXJyYXkocG9pbnRzLmxlbmd0aCAqIDQpLFxuICAgICAgICAgICAgbmV3IEZsb2F0MzJBcnJheShwb2ludHMubGVuZ3RoICogNCksXG4gICAgICAgICAgICBuZXcgVWludDE2QXJyYXkoKHBvaW50cy5sZW5ndGggLSAxKSAqIDYpKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQW4gYXJyYXkgb2YgcG9pbnRzIHRoYXQgZGV0ZXJtaW5lIHRoZSByb3BlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnRbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucG9pbnRzID0gcG9pbnRzO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggKGkuZS4sIHRoaWNrbmVzcykgb2YgdGhlIHJvcGUuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG5cbiAgICAgICAgdGhpcy5idWlsZCgpO1xuICAgIH1cblxuICAgIGlmICggTWVzaEdlb21ldHJ5ICkgUm9wZUdlb21ldHJ5Ll9fcHJvdG9fXyA9IE1lc2hHZW9tZXRyeTtcbiAgICBSb3BlR2VvbWV0cnkucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggTWVzaEdlb21ldHJ5ICYmIE1lc2hHZW9tZXRyeS5wcm90b3R5cGUgKTtcbiAgICBSb3BlR2VvbWV0cnkucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUm9wZUdlb21ldHJ5O1xuICAgIC8qKlxuICAgICAqIFJlZnJlc2hlcyBSb3BlIGluZGljZXMgYW5kIHV2c1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUm9wZUdlb21ldHJ5LnByb3RvdHlwZS5idWlsZCA9IGZ1bmN0aW9uIGJ1aWxkICgpXG4gICAge1xuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5wb2ludHM7XG5cbiAgICAgICAgaWYgKCFwb2ludHMpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgdmFyIHZlcnRleEJ1ZmZlciA9IHRoaXMuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKTtcbiAgICAgICAgdmFyIHV2QnVmZmVyID0gdGhpcy5nZXRCdWZmZXIoJ2FUZXh0dXJlQ29vcmQnKTtcbiAgICAgICAgdmFyIGluZGV4QnVmZmVyID0gdGhpcy5nZXRJbmRleCgpO1xuXG4gICAgICAgIC8vIGlmIHRvbyBsaXR0bGUgcG9pbnRzLCBvciB0ZXh0dXJlIGhhc24ndCBnb3QgVVZzIHNldCB5ZXQganVzdCBtb3ZlIG9uLlxuICAgICAgICBpZiAocG9pbnRzLmxlbmd0aCA8IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHRoZSBudW1iZXIgb2YgcG9pbnRzIGhhcyBjaGFuZ2VkIHdlIHdpbGwgbmVlZCB0byByZWNyZWF0ZSB0aGUgYXJyYXlidWZmZXJzXG4gICAgICAgIGlmICh2ZXJ0ZXhCdWZmZXIuZGF0YS5sZW5ndGggLyA0ICE9PSBwb2ludHMubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICB2ZXJ0ZXhCdWZmZXIuZGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkocG9pbnRzLmxlbmd0aCAqIDQpO1xuICAgICAgICAgICAgdXZCdWZmZXIuZGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkocG9pbnRzLmxlbmd0aCAqIDQpO1xuICAgICAgICAgICAgaW5kZXhCdWZmZXIuZGF0YSA9IG5ldyBVaW50MTZBcnJheSgocG9pbnRzLmxlbmd0aCAtIDEpICogNik7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdXZzID0gdXZCdWZmZXIuZGF0YTtcbiAgICAgICAgdmFyIGluZGljZXMgPSBpbmRleEJ1ZmZlci5kYXRhO1xuXG4gICAgICAgIHV2c1swXSA9IDA7XG4gICAgICAgIHV2c1sxXSA9IDA7XG4gICAgICAgIHV2c1syXSA9IDA7XG4gICAgICAgIHV2c1szXSA9IDE7XG5cbiAgICAgICAgLy8gaW5kaWNlc1swXSA9IDA7XG4gICAgICAgIC8vIGluZGljZXNbMV0gPSAxO1xuXG4gICAgICAgIHZhciB0b3RhbCA9IHBvaW50cy5sZW5ndGg7IC8vIC0gMTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHRpbWUgdG8gZG8gc29tZSBzbWFydCBkcmF3aW5nIVxuICAgICAgICAgICAgdmFyIGluZGV4ID0gaSAqIDQ7XG4gICAgICAgICAgICB2YXIgYW1vdW50ID0gaSAvICh0b3RhbCAtIDEpO1xuXG4gICAgICAgICAgICB1dnNbaW5kZXhdID0gYW1vdW50O1xuICAgICAgICAgICAgdXZzW2luZGV4ICsgMV0gPSAwO1xuXG4gICAgICAgICAgICB1dnNbaW5kZXggKyAyXSA9IGFtb3VudDtcbiAgICAgICAgICAgIHV2c1tpbmRleCArIDNdID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpbmRleENvdW50ID0gMDtcblxuICAgICAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCB0b3RhbCAtIDE7IGkkMSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgaW5kZXgkMSA9IGkkMSAqIDI7XG5cbiAgICAgICAgICAgIGluZGljZXNbaW5kZXhDb3VudCsrXSA9IGluZGV4JDE7XG4gICAgICAgICAgICBpbmRpY2VzW2luZGV4Q291bnQrK10gPSBpbmRleCQxICsgMTtcbiAgICAgICAgICAgIGluZGljZXNbaW5kZXhDb3VudCsrXSA9IGluZGV4JDEgKyAyO1xuXG4gICAgICAgICAgICBpbmRpY2VzW2luZGV4Q291bnQrK10gPSBpbmRleCQxICsgMjtcbiAgICAgICAgICAgIGluZGljZXNbaW5kZXhDb3VudCsrXSA9IGluZGV4JDEgKyAxO1xuICAgICAgICAgICAgaW5kaWNlc1tpbmRleENvdW50KytdID0gaW5kZXgkMSArIDM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBlbnN1cmUgdGhhdCB0aGUgY2hhbmdlcyBhcmUgdXBsb2FkZWRcbiAgICAgICAgdXZCdWZmZXIudXBkYXRlKCk7XG4gICAgICAgIGluZGV4QnVmZmVyLnVwZGF0ZSgpO1xuXG4gICAgICAgIHRoaXMudXBkYXRlVmVydGljZXMoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogcmVmcmVzaGVzIHZlcnRpY2VzIG9mIFJvcGUgbWVzaFxuICAgICAqL1xuICAgIFJvcGVHZW9tZXRyeS5wcm90b3R5cGUudXBkYXRlVmVydGljZXMgPSBmdW5jdGlvbiB1cGRhdGVWZXJ0aWNlcyAoKVxuICAgIHtcbiAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMucG9pbnRzO1xuXG4gICAgICAgIGlmIChwb2ludHMubGVuZ3RoIDwgMSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxhc3RQb2ludCA9IHBvaW50c1swXTtcbiAgICAgICAgdmFyIG5leHRQb2ludDtcbiAgICAgICAgdmFyIHBlcnBYID0gMDtcbiAgICAgICAgdmFyIHBlcnBZID0gMDtcblxuICAgICAgICAvLyB0aGlzLmNvdW50IC09IDAuMjtcblxuICAgICAgICB2YXIgdmVydGljZXMgPSB0aGlzLmJ1ZmZlcnNbMF0uZGF0YTtcbiAgICAgICAgdmFyIHRvdGFsID0gcG9pbnRzLmxlbmd0aDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBwb2ludCA9IHBvaW50c1tpXTtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGkgKiA0O1xuXG4gICAgICAgICAgICBpZiAoaSA8IHBvaW50cy5sZW5ndGggLSAxKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5leHRQb2ludCA9IHBvaW50c1tpICsgMV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmV4dFBvaW50ID0gcG9pbnQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBlcnBZID0gLShuZXh0UG9pbnQueCAtIGxhc3RQb2ludC54KTtcbiAgICAgICAgICAgIHBlcnBYID0gbmV4dFBvaW50LnkgLSBsYXN0UG9pbnQueTtcblxuICAgICAgICAgICAgdmFyIHBlcnBMZW5ndGggPSBNYXRoLnNxcnQoKHBlcnBYICogcGVycFgpICsgKHBlcnBZICogcGVycFkpKTtcbiAgICAgICAgICAgIHZhciBudW0gPSB0aGlzLndpZHRoIC8gMjsgLy8gKDIwICsgTWF0aC5hYnMoTWF0aC5zaW4oKGkgKyB0aGlzLmNvdW50KSAqIDAuMykgKiA1MCkgKSogcmF0aW87XG5cbiAgICAgICAgICAgIHBlcnBYIC89IHBlcnBMZW5ndGg7XG4gICAgICAgICAgICBwZXJwWSAvPSBwZXJwTGVuZ3RoO1xuXG4gICAgICAgICAgICBwZXJwWCAqPSBudW07XG4gICAgICAgICAgICBwZXJwWSAqPSBudW07XG5cbiAgICAgICAgICAgIHZlcnRpY2VzW2luZGV4XSA9IHBvaW50LnggKyBwZXJwWDtcbiAgICAgICAgICAgIHZlcnRpY2VzW2luZGV4ICsgMV0gPSBwb2ludC55ICsgcGVycFk7XG4gICAgICAgICAgICB2ZXJ0aWNlc1tpbmRleCArIDJdID0gcG9pbnQueCAtIHBlcnBYO1xuICAgICAgICAgICAgdmVydGljZXNbaW5kZXggKyAzXSA9IHBvaW50LnkgLSBwZXJwWTtcblxuICAgICAgICAgICAgbGFzdFBvaW50ID0gcG9pbnQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmJ1ZmZlcnNbMF0udXBkYXRlKCk7XG4gICAgfTtcblxuICAgIFJvcGVHZW9tZXRyeS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlICgpXG4gICAge1xuICAgICAgICB0aGlzLnVwZGF0ZVZlcnRpY2VzKCk7XG4gICAgfTtcblxuICAgIHJldHVybiBSb3BlR2VvbWV0cnk7XG59KE1lc2hHZW9tZXRyeSkpO1xuXG4vKipcbiAqIFRoZSByb3BlIGFsbG93cyB5b3UgdG8gZHJhdyBhIHRleHR1cmUgYWNyb3NzIHNldmVyYWwgcG9pbnRzIGFuZCB0aGVuIG1hbmlwdWxhdGUgdGhlc2UgcG9pbnRzXG4gKlxuICpgYGBqc1xuICogZm9yIChsZXQgaSA9IDA7IGkgPCAyMDsgaSsrKSB7XG4gKiAgICAgcG9pbnRzLnB1c2gobmV3IFBJWEkuUG9pbnQoaSAqIDUwLCAwKSk7XG4gKiB9O1xuICogbGV0IHJvcGUgPSBuZXcgUElYSS5TaW1wbGVSb3BlKFBJWEkuVGV4dHVyZS5mcm9tKFwic25ha2UucG5nXCIpLCBwb2ludHMpO1xuICogIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5NZXNoXG4gKiBAbWVtYmVyb2YgUElYSVxuICpcbiAqL1xudmFyIFNpbXBsZVJvcGUgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChNZXNoKSB7XG4gICAgZnVuY3Rpb24gU2ltcGxlUm9wZSh0ZXh0dXJlLCBwb2ludHMpXG4gICAge1xuICAgICAgICB2YXIgcm9wZUdlb21ldHJ5ID0gbmV3IFJvcGVHZW9tZXRyeSh0ZXh0dXJlLmhlaWdodCwgcG9pbnRzKTtcbiAgICAgICAgdmFyIG1lc2hNYXRlcmlhbCA9IG5ldyBNZXNoTWF0ZXJpYWwodGV4dHVyZSk7XG5cbiAgICAgICAgTWVzaC5jYWxsKHRoaXMsIHJvcGVHZW9tZXRyeSwgbWVzaE1hdGVyaWFsKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogcmUtY2FsY3VsYXRlIHZlcnRpY2VzIGJ5IHJvcGUgcG9pbnRzIGVhY2ggZnJhbWVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYXV0b1VwZGF0ZSA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKCBNZXNoICkgU2ltcGxlUm9wZS5fX3Byb3RvX18gPSBNZXNoO1xuICAgIFNpbXBsZVJvcGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggTWVzaCAmJiBNZXNoLnByb3RvdHlwZSApO1xuICAgIFNpbXBsZVJvcGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU2ltcGxlUm9wZTtcblxuICAgIFNpbXBsZVJvcGUucHJvdG90eXBlLl9yZW5kZXIgPSBmdW5jdGlvbiBfcmVuZGVyIChyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmF1dG9VcGRhdGVcbiAgICAgICAgICAgIHx8IHRoaXMuZ2VvbWV0cnkud2lkdGggIT09IHRoaXMuc2hhZGVyLnRleHR1cmUuaGVpZ2h0KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmdlb21ldHJ5LndpZHRoID0gdGhpcy5zaGFkZXIudGV4dHVyZS5oZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLmdlb21ldHJ5LnVwZGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgTWVzaC5wcm90b3R5cGUuX3JlbmRlci5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFNpbXBsZVJvcGU7XG59KE1lc2gpKTtcblxuLyoqXG4gKiBUaGUgU2ltcGxlUGxhbmUgYWxsb3dzIHlvdSB0byBkcmF3IGEgdGV4dHVyZSBhY3Jvc3Mgc2V2ZXJhbCBwb2ludHMgYW5kIHRoZW4gbWFuaXB1bGF0ZSB0aGVzZSBwb2ludHNcbiAqXG4gKmBgYGpzXG4gKiBmb3IgKGxldCBpID0gMDsgaSA8IDIwOyBpKyspIHtcbiAqICAgICBwb2ludHMucHVzaChuZXcgUElYSS5Qb2ludChpICogNTAsIDApKTtcbiAqIH07XG4gKiBsZXQgU2ltcGxlUGxhbmUgPSBuZXcgUElYSS5TaW1wbGVQbGFuZShQSVhJLlRleHR1cmUuZnJvbShcInNuYWtlLnBuZ1wiKSwgcG9pbnRzKTtcbiAqICBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuTWVzaFxuICogQG1lbWJlcm9mIFBJWElcbiAqXG4gKi9cbnZhciBTaW1wbGVQbGFuZSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKE1lc2gpIHtcbiAgICBmdW5jdGlvbiBTaW1wbGVQbGFuZSh0ZXh0dXJlLCB2ZXJ0aWNlc1gsIHZlcnRpY2VzWSlcbiAgICB7XG4gICAgICAgIHZhciBwbGFuZUdlb21ldHJ5ID0gbmV3IFBsYW5lR2VvbWV0cnkodGV4dHVyZS53aWR0aCwgdGV4dHVyZS5oZWlnaHQsIHZlcnRpY2VzWCwgdmVydGljZXNZKTtcbiAgICAgICAgdmFyIG1lc2hNYXRlcmlhbCA9IG5ldyBNZXNoTWF0ZXJpYWwoVGV4dHVyZS5XSElURSk7XG5cbiAgICAgICAgTWVzaC5jYWxsKHRoaXMsIHBsYW5lR2VvbWV0cnksIG1lc2hNYXRlcmlhbCk7XG5cbiAgICAgICAgLy8gbGV0cyBjYWxsIHRoZSBzZXR0ZXIgdG8gZW5zdXJlIGFsbCBuZWNlc3NhcnkgdXBkYXRlcyBhcmUgcGVyZm9ybWVkXG4gICAgICAgIHRoaXMudGV4dHVyZSA9IHRleHR1cmU7XG4gICAgfVxuXG4gICAgaWYgKCBNZXNoICkgU2ltcGxlUGxhbmUuX19wcm90b19fID0gTWVzaDtcbiAgICBTaW1wbGVQbGFuZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBNZXNoICYmIE1lc2gucHJvdG90eXBlICk7XG4gICAgU2ltcGxlUGxhbmUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU2ltcGxlUGxhbmU7XG5cbiAgICB2YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyB0ZXh0dXJlOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdXNlZCBmb3Igb3ZlcnJpZGVzLCB0byBkbyBzb21ldGhpbmcgaW4gY2FzZSB0ZXh0dXJlIGZyYW1lIHdhcyBjaGFuZ2VkLlxuICAgICAqIE1lc2hlcyBiYXNlZCBvbiBwbGFuZSBjYW4gb3ZlcnJpZGUgaXQgYW5kIGNoYW5nZSBtb3JlIGRldGFpbHMgYmFzZWQgb24gdGV4dHVyZS5cbiAgICAgKi9cbiAgICBTaW1wbGVQbGFuZS5wcm90b3R5cGUudGV4dHVyZVVwZGF0ZWQgPSBmdW5jdGlvbiB0ZXh0dXJlVXBkYXRlZCAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gdGhpcy5zaGFkZXIudGV4dHVyZS5fdXBkYXRlSUQ7XG5cbiAgICAgICAgdGhpcy5nZW9tZXRyeS53aWR0aCA9IHRoaXMuc2hhZGVyLnRleHR1cmUud2lkdGg7XG4gICAgICAgIHRoaXMuZ2VvbWV0cnkuaGVpZ2h0ID0gdGhpcy5zaGFkZXIudGV4dHVyZS5oZWlnaHQ7XG5cbiAgICAgICAgdGhpcy5nZW9tZXRyeS5idWlsZCgpO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudGV4dHVyZS5zZXQgPSBmdW5jdGlvbiAodmFsdWUpXG4gICAge1xuICAgICAgICAvLyBUcmFjayB0ZXh0dXJlIHNhbWUgd2F5IHNwcml0ZSBkb2VzLlxuICAgICAgICAvLyBGb3IgZ2VuZXJhdGVkIG1lc2hlcyBsaWtlIE5pbmVTbGljZVBsYW5lIGl0IGNhbiBjaGFuZ2UgdGhlIGdlb21ldHJ5LlxuICAgICAgICAvLyBVbmZvcnR1bmF0ZWx5LCB0aGlzIG1ldGhvZCBtaWdodCBub3Qgd29yayBpZiB5b3UgZGlyZWN0bHkgY2hhbmdlIHRleHR1cmUgaW4gbWF0ZXJpYWwuXG5cbiAgICAgICAgaWYgKHRoaXMuc2hhZGVyLnRleHR1cmUgPT09IHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNoYWRlci50ZXh0dXJlID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IC0xO1xuXG4gICAgICAgIGlmICh2YWx1ZS5iYXNlVGV4dHVyZS52YWxpZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlVXBkYXRlZCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdmFsdWUub25jZSgndXBkYXRlJywgdGhpcy50ZXh0dXJlVXBkYXRlZCwgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRleHR1cmUuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNoYWRlci50ZXh0dXJlO1xuICAgIH07XG5cbiAgICBTaW1wbGVQbGFuZS5wcm90b3R5cGUuX3JlbmRlciA9IGZ1bmN0aW9uIF9yZW5kZXIgKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3RleHR1cmVJRCAhPT0gdGhpcy5zaGFkZXIudGV4dHVyZS5fdXBkYXRlSUQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudGV4dHVyZVVwZGF0ZWQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIE1lc2gucHJvdG90eXBlLl9yZW5kZXIuY2FsbCh0aGlzLCByZW5kZXJlcik7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBTaW1wbGVQbGFuZS5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4gICAgcmV0dXJuIFNpbXBsZVBsYW5lO1xufShNZXNoKSk7XG5cbi8qKlxuICogVGhlIFNpbXBsZSBNZXNoIGNsYXNzIG1pbWljcyBNZXNoIGluIFBpeGlKUyB2NCwgcHJvdmlkaW5nIGVhc3ktdG8tdXNlIGNvbnN0cnVjdG9yIGFyZ3VtZW50cy5cbiAqIEZvciBtb3JlIHJvYnVzdCBjdXN0b21pemF0aW9uLCB1c2Uge0BsaW5rIFBJWEkuTWVzaH0uXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLk1lc2hcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBTaW1wbGVNZXNoID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoTWVzaCkge1xuICAgIGZ1bmN0aW9uIFNpbXBsZU1lc2godGV4dHVyZSwgdmVydGljZXMsIHV2cywgaW5kaWNlcywgZHJhd01vZGUpXG4gICAge1xuICAgICAgICBpZiAoIHRleHR1cmUgPT09IHZvaWQgMCApIHRleHR1cmUgPSBUZXh0dXJlLkVNUFRZO1xuXG4gICAgICAgIHZhciBnZW9tZXRyeSA9IG5ldyBNZXNoR2VvbWV0cnkodmVydGljZXMsIHV2cywgaW5kaWNlcyk7XG5cbiAgICAgICAgZ2VvbWV0cnkuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKS5zdGF0aWMgPSBmYWxzZTtcblxuICAgICAgICB2YXIgbWVzaE1hdGVyaWFsID0gbmV3IE1lc2hNYXRlcmlhbCh0ZXh0dXJlKTtcblxuICAgICAgICBNZXNoLmNhbGwodGhpcywgZ2VvbWV0cnksIG1lc2hNYXRlcmlhbCwgbnVsbCwgZHJhd01vZGUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB1cGxvYWQgdmVydGljZXMgYnVmZmVyIGVhY2ggZnJhbWVcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYXV0b1VwZGF0ZSA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKCBNZXNoICkgU2ltcGxlTWVzaC5fX3Byb3RvX18gPSBNZXNoO1xuICAgIFNpbXBsZU1lc2gucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggTWVzaCAmJiBNZXNoLnByb3RvdHlwZSApO1xuICAgIFNpbXBsZU1lc2gucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU2ltcGxlTWVzaDtcblxuICAgIHZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IHZlcnRpY2VzOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgICAvKipcbiAgICAgKiBDb2xsZWN0aW9uIG9mIHZlcnRpY2VzIGRhdGEuXG4gICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy52ZXJ0aWNlcy5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnkuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKS5kYXRhO1xuICAgIH07XG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnZlcnRpY2VzLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuZ2VvbWV0cnkuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKS5kYXRhID0gdmFsdWU7XG4gICAgfTtcblxuICAgIFNpbXBsZU1lc2gucHJvdG90eXBlLl9yZW5kZXIgPSBmdW5jdGlvbiBfcmVuZGVyIChyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmF1dG9VcGRhdGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZ2VvbWV0cnkuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKS51cGRhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIE1lc2gucHJvdG90eXBlLl9yZW5kZXIuY2FsbCh0aGlzLCByZW5kZXJlcik7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBTaW1wbGVNZXNoLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbiAgICByZXR1cm4gU2ltcGxlTWVzaDtcbn0oTWVzaCkpO1xuXG52YXIgREVGQVVMVF9CT1JERVJfU0laRSA9IDEwO1xuXG4vKipcbiAqIFRoZSBOaW5lU2xpY2VQbGFuZSBhbGxvd3MgeW91IHRvIHN0cmV0Y2ggYSB0ZXh0dXJlIHVzaW5nIDktc2xpY2Ugc2NhbGluZy4gVGhlIGNvcm5lcnMgd2lsbCByZW1haW4gdW5zY2FsZWQgKHVzZWZ1bFxuICogZm9yIGJ1dHRvbnMgd2l0aCByb3VuZGVkIGNvcm5lcnMgZm9yIGV4YW1wbGUpIGFuZCB0aGUgb3RoZXIgYXJlYXMgd2lsbCBiZSBzY2FsZWQgaG9yaXpvbnRhbGx5IGFuZCBvciB2ZXJ0aWNhbGx5XG4gKlxuICpgYGBqc1xuICogbGV0IFBsYW5lOSA9IG5ldyBQSVhJLk5pbmVTbGljZVBsYW5lKFBJWEkuVGV4dHVyZS5mcm9tKCdCb3hXaXRoUm91bmRlZENvcm5lcnMucG5nJyksIDE1LCAxNSwgMTUsIDE1KTtcbiAqICBgYGBcbiAqIDxwcmU+XG4gKiAgICAgIEEgICAgICAgICAgICAgICAgICAgICAgICAgIEJcbiAqICAgICstLS0rLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSstLS0rXG4gKiAgQyB8IDEgfCAgICAgICAgICAyICAgICAgICAgICB8IDMgfFxuICogICAgKy0tLSstLS0tLS0tLS0tLS0tLS0tLS0tLS0tKy0tLStcbiAqICAgIHwgICB8ICAgICAgICAgICAgICAgICAgICAgIHwgICB8XG4gKiAgICB8IDQgfCAgICAgICAgICA1ICAgICAgICAgICB8IDYgfFxuICogICAgfCAgIHwgICAgICAgICAgICAgICAgICAgICAgfCAgIHxcbiAqICAgICstLS0rLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSstLS0rXG4gKiAgRCB8IDcgfCAgICAgICAgICA4ICAgICAgICAgICB8IDkgfFxuICogICAgKy0tLSstLS0tLS0tLS0tLS0tLS0tLS0tLS0tKy0tLStcblxuICogIFdoZW4gY2hhbmdpbmcgdGhpcyBvYmplY3RzIHdpZHRoIGFuZC9vciBoZWlnaHQ6XG4gKiAgICAgYXJlYXMgMSAzIDcgYW5kIDkgd2lsbCByZW1haW4gdW5zY2FsZWQuXG4gKiAgICAgYXJlYXMgMiBhbmQgOCB3aWxsIGJlIHN0cmV0Y2hlZCBob3Jpem9udGFsbHlcbiAqICAgICBhcmVhcyA0IGFuZCA2IHdpbGwgYmUgc3RyZXRjaGVkIHZlcnRpY2FsbHlcbiAqICAgICBhcmVhIDUgd2lsbCBiZSBzdHJldGNoZWQgYm90aCBob3Jpem9udGFsbHkgYW5kIHZlcnRpY2FsbHlcbiAqIDwvcHJlPlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TaW1wbGVQbGFuZVxuICogQG1lbWJlcm9mIFBJWElcbiAqXG4gKi9cbnZhciBOaW5lU2xpY2VQbGFuZSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFNpbXBsZVBsYW5lKSB7XG4gICAgZnVuY3Rpb24gTmluZVNsaWNlUGxhbmUodGV4dHVyZSwgbGVmdFdpZHRoLCB0b3BIZWlnaHQsIHJpZ2h0V2lkdGgsIGJvdHRvbUhlaWdodClcbiAgICB7XG4gICAgICAgIFNpbXBsZVBsYW5lLmNhbGwodGhpcywgVGV4dHVyZS5XSElURSwgNCwgNCk7XG5cbiAgICAgICAgdGhpcy5fb3JpZ1dpZHRoID0gdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICB0aGlzLl9vcmlnSGVpZ2h0ID0gdGV4dHVyZS5vcmlnLmhlaWdodDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBOaW5lU2xpY2VQbGFuZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSB2ZXJ0aWNlcyBhbmQgVVYncyBvZiB0aGlzIHBsYW5lXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQG92ZXJyaWRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl93aWR0aCA9IHRoaXMuX29yaWdXaWR0aDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgTmluZVNsaWNlUGxhbmUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgdmVydGljZXMgYW5kIFVWJ3Mgb2YgdGhpcyBwbGFuZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBvdmVycmlkZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5faGVpZ2h0ID0gdGhpcy5fb3JpZ0hlaWdodDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBsZWZ0IGNvbHVtbiAoYSlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbGVmdFdpZHRoID0gdHlwZW9mIGxlZnRXaWR0aCAhPT0gJ3VuZGVmaW5lZCcgPyBsZWZ0V2lkdGggOiBERUZBVUxUX0JPUkRFUl9TSVpFO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHJpZ2h0IGNvbHVtbiAoYilcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcmlnaHRXaWR0aCA9IHR5cGVvZiByaWdodFdpZHRoICE9PSAndW5kZWZpbmVkJyA/IHJpZ2h0V2lkdGggOiBERUZBVUxUX0JPUkRFUl9TSVpFO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSB0b3Agcm93IChjKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90b3BIZWlnaHQgPSB0eXBlb2YgdG9wSGVpZ2h0ICE9PSAndW5kZWZpbmVkJyA/IHRvcEhlaWdodCA6IERFRkFVTFRfQk9SREVSX1NJWkU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIGJvdHRvbSByb3cgKGQpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JvdHRvbUhlaWdodCA9IHR5cGVvZiBib3R0b21IZWlnaHQgIT09ICd1bmRlZmluZWQnID8gYm90dG9tSGVpZ2h0IDogREVGQVVMVF9CT1JERVJfU0laRTtcblxuICAgICAgICAvLyBsZXRzIGNhbGwgdGhlIHNldHRlciB0byBlbnN1cmUgYWxsIG5lY2Vzc2FyeSB1cGRhdGVzIGFyZSBwZXJmb3JtZWRcbiAgICAgICAgdGhpcy50ZXh0dXJlID0gdGV4dHVyZTtcbiAgICB9XG5cbiAgICBpZiAoIFNpbXBsZVBsYW5lICkgTmluZVNsaWNlUGxhbmUuX19wcm90b19fID0gU2ltcGxlUGxhbmU7XG4gICAgTmluZVNsaWNlUGxhbmUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU2ltcGxlUGxhbmUgJiYgU2ltcGxlUGxhbmUucHJvdG90eXBlICk7XG4gICAgTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTmluZVNsaWNlUGxhbmU7XG5cbiAgICB2YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyB2ZXJ0aWNlczogeyBjb25maWd1cmFibGU6IHRydWUgfSx3aWR0aDogeyBjb25maWd1cmFibGU6IHRydWUgfSxoZWlnaHQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sbGVmdFdpZHRoOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHJpZ2h0V2lkdGg6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sdG9wSGVpZ2h0OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGJvdHRvbUhlaWdodDogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4gICAgTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLnRleHR1cmVVcGRhdGVkID0gZnVuY3Rpb24gdGV4dHVyZVVwZGF0ZWQgKClcbiAgICB7XG4gICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IHRoaXMuc2hhZGVyLnRleHR1cmUuX3VwZGF0ZUlEO1xuICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy52ZXJ0aWNlcy5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnkuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKS5kYXRhO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudmVydGljZXMuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5nZW9tZXRyeS5nZXRCdWZmZXIoJ2FWZXJ0ZXhQb3NpdGlvbicpLmRhdGEgPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgaG9yaXpvbnRhbCB2ZXJ0aWNlcy5cbiAgICAgKlxuICAgICAqL1xuICAgIE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZS51cGRhdGVIb3Jpem9udGFsVmVydGljZXMgPSBmdW5jdGlvbiB1cGRhdGVIb3Jpem9udGFsVmVydGljZXMgKClcbiAgICB7XG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IHRoaXMudmVydGljZXM7XG5cbiAgICAgICAgdmFyIGggPSB0aGlzLl90b3BIZWlnaHQgKyB0aGlzLl9ib3R0b21IZWlnaHQ7XG4gICAgICAgIHZhciBzY2FsZSA9IHRoaXMuX2hlaWdodCA+IGggPyAxLjAgOiB0aGlzLl9oZWlnaHQgLyBoO1xuXG4gICAgICAgIHZlcnRpY2VzWzldID0gdmVydGljZXNbMTFdID0gdmVydGljZXNbMTNdID0gdmVydGljZXNbMTVdID0gdGhpcy5fdG9wSGVpZ2h0ICogc2NhbGU7XG4gICAgICAgIHZlcnRpY2VzWzE3XSA9IHZlcnRpY2VzWzE5XSA9IHZlcnRpY2VzWzIxXSA9IHZlcnRpY2VzWzIzXSA9IHRoaXMuX2hlaWdodCAtICh0aGlzLl9ib3R0b21IZWlnaHQgKiBzY2FsZSk7XG4gICAgICAgIHZlcnRpY2VzWzI1XSA9IHZlcnRpY2VzWzI3XSA9IHZlcnRpY2VzWzI5XSA9IHZlcnRpY2VzWzMxXSA9IHRoaXMuX2hlaWdodDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgdmVydGljYWwgdmVydGljZXMuXG4gICAgICpcbiAgICAgKi9cbiAgICBOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUudXBkYXRlVmVydGljYWxWZXJ0aWNlcyA9IGZ1bmN0aW9uIHVwZGF0ZVZlcnRpY2FsVmVydGljZXMgKClcbiAgICB7XG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IHRoaXMudmVydGljZXM7XG5cbiAgICAgICAgdmFyIHcgPSB0aGlzLl9sZWZ0V2lkdGggKyB0aGlzLl9yaWdodFdpZHRoO1xuICAgICAgICB2YXIgc2NhbGUgPSB0aGlzLl93aWR0aCA+IHcgPyAxLjAgOiB0aGlzLl93aWR0aCAvIHc7XG5cbiAgICAgICAgdmVydGljZXNbMl0gPSB2ZXJ0aWNlc1sxMF0gPSB2ZXJ0aWNlc1sxOF0gPSB2ZXJ0aWNlc1syNl0gPSB0aGlzLl9sZWZ0V2lkdGggKiBzY2FsZTtcbiAgICAgICAgdmVydGljZXNbNF0gPSB2ZXJ0aWNlc1sxMl0gPSB2ZXJ0aWNlc1syMF0gPSB2ZXJ0aWNlc1syOF0gPSB0aGlzLl93aWR0aCAtICh0aGlzLl9yaWdodFdpZHRoICogc2NhbGUpO1xuICAgICAgICB2ZXJ0aWNlc1s2XSA9IHZlcnRpY2VzWzE0XSA9IHZlcnRpY2VzWzIyXSA9IHZlcnRpY2VzWzMwXSA9IHRoaXMuX3dpZHRoO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggb2YgdGhlIE5pbmVTbGljZVBsYW5lLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHZlcnRpY2VzIGFuZCBVVidzIG9mIHRoaXMgcGxhbmVcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMud2lkdGguZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl93aWR0aDtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLndpZHRoLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl93aWR0aCA9IHZhbHVlO1xuICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIE5pbmVTbGljZVBsYW5lLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHZlcnRpY2VzIGFuZCBVVidzIG9mIHRoaXMgcGxhbmVcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuaGVpZ2h0LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5faGVpZ2h0O1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuaGVpZ2h0LnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl9oZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggb2YgdGhlIGxlZnQgY29sdW1uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmxlZnRXaWR0aC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xlZnRXaWR0aDtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmxlZnRXaWR0aC5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5fbGVmdFdpZHRoID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSByaWdodCBjb2x1bW5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMucmlnaHRXaWR0aC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JpZ2h0V2lkdGg7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5yaWdodFdpZHRoLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl9yaWdodFdpZHRoID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGhlaWdodCBvZiB0aGUgdG9wIHJvd1xuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy50b3BIZWlnaHQuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl90b3BIZWlnaHQ7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy50b3BIZWlnaHQuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX3RvcEhlaWdodCA9IHZhbHVlO1xuICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIGJvdHRvbSByb3dcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYm90dG9tSGVpZ2h0LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fYm90dG9tSGVpZ2h0O1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYm90dG9tSGVpZ2h0LnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl9ib3R0b21IZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZWZyZXNoZXMgTmluZVNsaWNlUGxhbmUgY29vcmRzLiBBbGwgb2YgdGhlbS5cbiAgICAgKi9cbiAgICBOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUuX3JlZnJlc2ggPSBmdW5jdGlvbiBfcmVmcmVzaCAoKVxuICAgIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLnRleHR1cmU7XG5cbiAgICAgICAgdmFyIHV2cyA9IHRoaXMuZ2VvbWV0cnkuYnVmZmVyc1sxXS5kYXRhO1xuXG4gICAgICAgIHRoaXMuX29yaWdXaWR0aCA9IHRleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgdGhpcy5fb3JpZ0hlaWdodCA9IHRleHR1cmUub3JpZy5oZWlnaHQ7XG5cbiAgICAgICAgdmFyIF91dncgPSAxLjAgLyB0aGlzLl9vcmlnV2lkdGg7XG4gICAgICAgIHZhciBfdXZoID0gMS4wIC8gdGhpcy5fb3JpZ0hlaWdodDtcblxuICAgICAgICB1dnNbMF0gPSB1dnNbOF0gPSB1dnNbMTZdID0gdXZzWzI0XSA9IDA7XG4gICAgICAgIHV2c1sxXSA9IHV2c1szXSA9IHV2c1s1XSA9IHV2c1s3XSA9IDA7XG4gICAgICAgIHV2c1s2XSA9IHV2c1sxNF0gPSB1dnNbMjJdID0gdXZzWzMwXSA9IDE7XG4gICAgICAgIHV2c1syNV0gPSB1dnNbMjddID0gdXZzWzI5XSA9IHV2c1szMV0gPSAxO1xuXG4gICAgICAgIHV2c1syXSA9IHV2c1sxMF0gPSB1dnNbMThdID0gdXZzWzI2XSA9IF91dncgKiB0aGlzLl9sZWZ0V2lkdGg7XG4gICAgICAgIHV2c1s0XSA9IHV2c1sxMl0gPSB1dnNbMjBdID0gdXZzWzI4XSA9IDEgLSAoX3V2dyAqIHRoaXMuX3JpZ2h0V2lkdGgpO1xuICAgICAgICB1dnNbOV0gPSB1dnNbMTFdID0gdXZzWzEzXSA9IHV2c1sxNV0gPSBfdXZoICogdGhpcy5fdG9wSGVpZ2h0O1xuICAgICAgICB1dnNbMTddID0gdXZzWzE5XSA9IHV2c1syMV0gPSB1dnNbMjNdID0gMSAtIChfdXZoICogdGhpcy5fYm90dG9tSGVpZ2h0KTtcblxuICAgICAgICB0aGlzLnVwZGF0ZUhvcml6b250YWxWZXJ0aWNlcygpO1xuICAgICAgICB0aGlzLnVwZGF0ZVZlcnRpY2FsVmVydGljZXMoKTtcblxuICAgICAgICB0aGlzLmdlb21ldHJ5LmJ1ZmZlcnNbMF0udXBkYXRlKCk7XG4gICAgICAgIHRoaXMuZ2VvbWV0cnkuYnVmZmVyc1sxXS51cGRhdGUoKTtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbiAgICByZXR1cm4gTmluZVNsaWNlUGxhbmU7XG59KFNpbXBsZVBsYW5lKSk7XG5cbmV4cG9ydCB7IE5pbmVTbGljZVBsYW5lLCBQbGFuZUdlb21ldHJ5LCBSb3BlR2VvbWV0cnksIFNpbXBsZU1lc2gsIFNpbXBsZVBsYW5lLCBTaW1wbGVSb3BlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXNoLWV4dHJhcy5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvc3ByaXRlLWFuaW1hdGVkIC0gdjUuMS40XG4gKiBDb21waWxlZCBGcmksIDIwIFNlcCAyMDE5IDE3OjE3OjU5IFVUQ1xuICpcbiAqIEBwaXhpL3Nwcml0ZS1hbmltYXRlZCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IFNwcml0ZSB9IGZyb20gJ0BwaXhpL3Nwcml0ZSc7XG5pbXBvcnQgeyBUaWNrZXIsIFVQREFURV9QUklPUklUWSB9IGZyb20gJ0BwaXhpL3RpY2tlcic7XG5cbi8qKlxuICogQW4gQW5pbWF0ZWRTcHJpdGUgaXMgYSBzaW1wbGUgd2F5IHRvIGRpc3BsYXkgYW4gYW5pbWF0aW9uIGRlcGljdGVkIGJ5IGEgbGlzdCBvZiB0ZXh0dXJlcy5cbiAqXG4gKiBgYGBqc1xuICogbGV0IGFsaWVuSW1hZ2VzID0gW1wiaW1hZ2Vfc2VxdWVuY2VfMDEucG5nXCIsXCJpbWFnZV9zZXF1ZW5jZV8wMi5wbmdcIixcImltYWdlX3NlcXVlbmNlXzAzLnBuZ1wiLFwiaW1hZ2Vfc2VxdWVuY2VfMDQucG5nXCJdO1xuICogbGV0IHRleHR1cmVBcnJheSA9IFtdO1xuICpcbiAqIGZvciAobGV0IGk9MDsgaSA8IDQ7IGkrKylcbiAqIHtcbiAqICAgICAgbGV0IHRleHR1cmUgPSBQSVhJLlRleHR1cmUuZnJvbShhbGllbkltYWdlc1tpXSk7XG4gKiAgICAgIHRleHR1cmVBcnJheS5wdXNoKHRleHR1cmUpO1xuICogfTtcbiAqXG4gKiBsZXQgYW5pbWF0ZWRTcHJpdGUgPSBuZXcgUElYSS5BbmltYXRlZFNwcml0ZSh0ZXh0dXJlQXJyYXkpO1xuICogYGBgXG4gKlxuICogVGhlIG1vcmUgZWZmaWNpZW50IGFuZCBzaW1wbGVyIHdheSB0byBjcmVhdGUgYW4gYW5pbWF0ZWQgc3ByaXRlIGlzIHVzaW5nIGEge0BsaW5rIFBJWEkuU3ByaXRlc2hlZXR9XG4gKiBjb250YWluaW5nIHRoZSBhbmltYXRpb24gZGVmaW5pdGlvbnM6XG4gKlxuICogYGBganNcbiAqIFBJWEkuTG9hZGVyLnNoYXJlZC5hZGQoXCJhc3NldHMvc3ByaXRlc2hlZXQuanNvblwiKS5sb2FkKHNldHVwKTtcbiAqXG4gKiBmdW5jdGlvbiBzZXR1cCgpIHtcbiAqICAgbGV0IHNoZWV0ID0gUElYSS5Mb2FkZXIuc2hhcmVkLnJlc291cmNlc1tcImFzc2V0cy9zcHJpdGVzaGVldC5qc29uXCJdLnNwcml0ZXNoZWV0O1xuICogICBhbmltYXRlZFNwcml0ZSA9IG5ldyBQSVhJLkFuaW1hdGVkU3ByaXRlKHNoZWV0LmFuaW1hdGlvbnNbXCJpbWFnZV9zZXF1ZW5jZVwiXSk7XG4gKiAgIC4uLlxuICogfVxuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlNwcml0ZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEFuaW1hdGVkU3ByaXRlID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoU3ByaXRlKSB7XG4gICAgZnVuY3Rpb24gQW5pbWF0ZWRTcHJpdGUodGV4dHVyZXMsIGF1dG9VcGRhdGUpXG4gICAge1xuICAgICAgICBTcHJpdGUuY2FsbCh0aGlzLCB0ZXh0dXJlc1swXSBpbnN0YW5jZW9mIFRleHR1cmUgPyB0ZXh0dXJlc1swXSA6IHRleHR1cmVzWzBdLnRleHR1cmUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7UElYSS5UZXh0dXJlW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90ZXh0dXJlcyA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2R1cmF0aW9ucyA9IG51bGw7XG5cbiAgICAgICAgdGhpcy50ZXh0dXJlcyA9IHRleHR1cmVzO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgdHJ1ZWAgdXNlcyBQSVhJLlRpY2tlci5zaGFyZWQgdG8gYXV0byB1cGRhdGUgYW5pbWF0aW9uIHRpbWUuXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9hdXRvVXBkYXRlID0gYXV0b1VwZGF0ZSAhPT0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzcGVlZCB0aGF0IHRoZSBBbmltYXRlZFNwcml0ZSB3aWxsIHBsYXkgYXQuIEhpZ2hlciBpcyBmYXN0ZXIsIGxvd2VyIGlzIHNsb3dlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFuaW1hdGlvblNwZWVkID0gMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBvciBub3QgdGhlIGFuaW1hdGUgc3ByaXRlIHJlcGVhdHMgYWZ0ZXIgcGxheWluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5sb29wID0gdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXBkYXRlIGFuY2hvciB0byBbVGV4dHVyZSdzIGRlZmF1bHRBbmNob3Jde0BsaW5rIFBJWEkuVGV4dHVyZSNkZWZhdWx0QW5jaG9yfSB3aGVuIGZyYW1lIGNoYW5nZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIFVzZWZ1bCB3aXRoIFtzcHJpdGUgc2hlZXQgYW5pbWF0aW9uc117QGxpbmsgUElYSS5TcHJpdGVzaGVldCNhbmltYXRpb25zfSBjcmVhdGVkIHdpdGggdG9vbHMuXG4gICAgICAgICAqIENoYW5naW5nIGFuY2hvciBmb3IgZWFjaCBmcmFtZSBhbGxvd3MgdG8gcGluIHNwcml0ZSBvcmlnaW4gdG8gY2VydGFpbiBtb3ZpbmcgZmVhdHVyZVxuICAgICAgICAgKiBvZiB0aGUgZnJhbWUgKGUuZy4gbGVmdCBmb290KS5cbiAgICAgICAgICpcbiAgICAgICAgICogTm90ZTogRW5hYmxpbmcgdGhpcyB3aWxsIG92ZXJyaWRlIGFueSBwcmV2aW91c2x5IHNldCBgYW5jaG9yYCBvbiBlYWNoIGZyYW1lIGNoYW5nZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXBkYXRlQW5jaG9yID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBhbiBBbmltYXRlZFNwcml0ZSBmaW5pc2hlcyBwbGF5aW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25Db21wbGV0ZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBhbiBBbmltYXRlZFNwcml0ZSBjaGFuZ2VzIHdoaWNoIHRleHR1cmUgaXMgYmVpbmcgcmVuZGVyZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vbkZyYW1lQ2hhbmdlID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRnVuY3Rpb24gdG8gY2FsbCB3aGVuIGBsb29wYCBpcyB0cnVlLCBhbmQgYW4gQW5pbWF0ZWRTcHJpdGUgaXMgcGxheWVkIGFuZCBsb29wcyBhcm91bmQgdG8gc3RhcnQgYWdhaW4uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vbkxvb3AgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFbGFwc2VkIHRpbWUgc2luY2UgYW5pbWF0aW9uIGhhcyBiZWVuIHN0YXJ0ZWQsIHVzZWQgaW50ZXJuYWxseSB0byBkaXNwbGF5IGN1cnJlbnQgdGV4dHVyZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fY3VycmVudFRpbWUgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIEFuaW1hdGVkU3ByaXRlIGlzIGN1cnJlbnRseSBwbGF5aW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGxheWluZyA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmICggU3ByaXRlICkgQW5pbWF0ZWRTcHJpdGUuX19wcm90b19fID0gU3ByaXRlO1xuICAgIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFNwcml0ZSAmJiBTcHJpdGUucHJvdG90eXBlICk7XG4gICAgQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQW5pbWF0ZWRTcHJpdGU7XG5cbiAgICB2YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyB0b3RhbEZyYW1lczogeyBjb25maWd1cmFibGU6IHRydWUgfSx0ZXh0dXJlczogeyBjb25maWd1cmFibGU6IHRydWUgfSxjdXJyZW50RnJhbWU6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuICAgIC8qKlxuICAgICAqIFN0b3BzIHRoZSBBbmltYXRlZFNwcml0ZS5cbiAgICAgKlxuICAgICAqL1xuICAgIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gc3RvcCAoKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLnBsYXlpbmcpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucGxheWluZyA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5fYXV0b1VwZGF0ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgVGlja2VyLnNoYXJlZC5yZW1vdmUodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFBsYXlzIHRoZSBBbmltYXRlZFNwcml0ZS5cbiAgICAgKlxuICAgICAqL1xuICAgIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZS5wbGF5ID0gZnVuY3Rpb24gcGxheSAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMucGxheWluZylcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wbGF5aW5nID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuX2F1dG9VcGRhdGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIFRpY2tlci5zaGFyZWQuYWRkKHRoaXMudXBkYXRlLCB0aGlzLCBVUERBVEVfUFJJT1JJVFkuSElHSCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3RvcHMgdGhlIEFuaW1hdGVkU3ByaXRlIGFuZCBnb2VzIHRvIGEgc3BlY2lmaWMgZnJhbWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZnJhbWVOdW1iZXIgLSBGcmFtZSBpbmRleCB0byBzdG9wIGF0LlxuICAgICAqL1xuICAgIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZS5nb3RvQW5kU3RvcCA9IGZ1bmN0aW9uIGdvdG9BbmRTdG9wIChmcmFtZU51bWJlcilcbiAgICB7XG4gICAgICAgIHRoaXMuc3RvcCgpO1xuXG4gICAgICAgIHZhciBwcmV2aW91c0ZyYW1lID0gdGhpcy5jdXJyZW50RnJhbWU7XG5cbiAgICAgICAgdGhpcy5fY3VycmVudFRpbWUgPSBmcmFtZU51bWJlcjtcblxuICAgICAgICBpZiAocHJldmlvdXNGcmFtZSAhPT0gdGhpcy5jdXJyZW50RnJhbWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdvZXMgdG8gYSBzcGVjaWZpYyBmcmFtZSBhbmQgYmVnaW5zIHBsYXlpbmcgdGhlIEFuaW1hdGVkU3ByaXRlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZyYW1lTnVtYmVyIC0gRnJhbWUgaW5kZXggdG8gc3RhcnQgYXQuXG4gICAgICovXG4gICAgQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLmdvdG9BbmRQbGF5ID0gZnVuY3Rpb24gZ290b0FuZFBsYXkgKGZyYW1lTnVtYmVyKVxuICAgIHtcbiAgICAgICAgdmFyIHByZXZpb3VzRnJhbWUgPSB0aGlzLmN1cnJlbnRGcmFtZTtcblxuICAgICAgICB0aGlzLl9jdXJyZW50VGltZSA9IGZyYW1lTnVtYmVyO1xuXG4gICAgICAgIGlmIChwcmV2aW91c0ZyYW1lICE9PSB0aGlzLmN1cnJlbnRGcmFtZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBsYXkoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgb2JqZWN0IHRyYW5zZm9ybSBmb3IgcmVuZGVyaW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGFUaW1lIC0gVGltZSBzaW5jZSBsYXN0IHRpY2suXG4gICAgICovXG4gICAgQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSAoZGVsdGFUaW1lKVxuICAgIHtcbiAgICAgICAgdmFyIGVsYXBzZWQgPSB0aGlzLmFuaW1hdGlvblNwZWVkICogZGVsdGFUaW1lO1xuICAgICAgICB2YXIgcHJldmlvdXNGcmFtZSA9IHRoaXMuY3VycmVudEZyYW1lO1xuXG4gICAgICAgIGlmICh0aGlzLl9kdXJhdGlvbnMgIT09IG51bGwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBsYWcgPSB0aGlzLl9jdXJyZW50VGltZSAlIDEgKiB0aGlzLl9kdXJhdGlvbnNbdGhpcy5jdXJyZW50RnJhbWVdO1xuXG4gICAgICAgICAgICBsYWcgKz0gZWxhcHNlZCAvIDYwICogMTAwMDtcblxuICAgICAgICAgICAgd2hpbGUgKGxhZyA8IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudFRpbWUtLTtcbiAgICAgICAgICAgICAgICBsYWcgKz0gdGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHNpZ24gPSBNYXRoLnNpZ24odGhpcy5hbmltYXRpb25TcGVlZCAqIGRlbHRhVGltZSk7XG5cbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lID0gTWF0aC5mbG9vcih0aGlzLl9jdXJyZW50VGltZSk7XG5cbiAgICAgICAgICAgIHdoaWxlIChsYWcgPj0gdGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsYWcgLT0gdGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXSAqIHNpZ247XG4gICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudFRpbWUgKz0gc2lnbjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fY3VycmVudFRpbWUgKz0gbGFnIC8gdGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lICs9IGVsYXBzZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fY3VycmVudFRpbWUgPCAwICYmICF0aGlzLmxvb3ApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZ290b0FuZFN0b3AoMCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9uQ29tcGxldGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fY3VycmVudFRpbWUgPj0gdGhpcy5fdGV4dHVyZXMubGVuZ3RoICYmICF0aGlzLmxvb3ApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZ290b0FuZFN0b3AodGhpcy5fdGV4dHVyZXMubGVuZ3RoIC0gMSk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9uQ29tcGxldGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJldmlvdXNGcmFtZSAhPT0gdGhpcy5jdXJyZW50RnJhbWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmxvb3AgJiYgdGhpcy5vbkxvb3ApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uU3BlZWQgPiAwICYmIHRoaXMuY3VycmVudEZyYW1lIDwgcHJldmlvdXNGcmFtZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25Mb29wKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuYW5pbWF0aW9uU3BlZWQgPCAwICYmIHRoaXMuY3VycmVudEZyYW1lID4gcHJldmlvdXNGcmFtZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25Mb29wKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmUoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBkaXNwbGF5ZWQgdGV4dHVyZSB0byBtYXRjaCB0aGUgY3VycmVudCBmcmFtZSBpbmRleC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQW5pbWF0ZWRTcHJpdGUucHJvdG90eXBlLnVwZGF0ZVRleHR1cmUgPSBmdW5jdGlvbiB1cGRhdGVUZXh0dXJlICgpXG4gICAge1xuICAgICAgICB0aGlzLl90ZXh0dXJlID0gdGhpcy5fdGV4dHVyZXNbdGhpcy5jdXJyZW50RnJhbWVdO1xuICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSAtMTtcbiAgICAgICAgdGhpcy5fdGV4dHVyZVRyaW1tZWRJRCA9IC0xO1xuICAgICAgICB0aGlzLl9jYWNoZWRUaW50ID0gMHhGRkZGRkY7XG4gICAgICAgIHRoaXMudXZzID0gdGhpcy5fdGV4dHVyZS5fdXZzLnV2c0Zsb2F0MzI7XG5cbiAgICAgICAgaWYgKHRoaXMudXBkYXRlQW5jaG9yKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9hbmNob3IuY29weUZyb20odGhpcy5fdGV4dHVyZS5kZWZhdWx0QW5jaG9yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm9uRnJhbWVDaGFuZ2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMub25GcmFtZUNoYW5nZSh0aGlzLmN1cnJlbnRGcmFtZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3RvcHMgdGhlIEFuaW1hdGVkU3ByaXRlIGFuZCBkZXN0cm95cyBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gSWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyIGRlc3Ryb3lcbiAgICAgKiAgICAgIG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgY3VycmVudCB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsLlxuICAgICAqL1xuICAgIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAob3B0aW9ucylcbiAgICB7XG4gICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICBTcHJpdGUucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCBvcHRpb25zKTtcblxuICAgICAgICB0aGlzLm9uQ29tcGxldGUgPSBudWxsO1xuICAgICAgICB0aGlzLm9uRnJhbWVDaGFuZ2UgPSBudWxsO1xuICAgICAgICB0aGlzLm9uTG9vcCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEEgc2hvcnQgaGFuZCB3YXkgb2YgY3JlYXRpbmcgYW4gQW5pbWF0ZWRTcHJpdGUgZnJvbSBhbiBhcnJheSBvZiBmcmFtZSBpZHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gZnJhbWVzIC0gVGhlIGFycmF5IG9mIGZyYW1lcyBpZHMgdGhlIEFuaW1hdGVkU3ByaXRlIHdpbGwgdXNlIGFzIGl0cyB0ZXh0dXJlIGZyYW1lcy5cbiAgICAgKiBAcmV0dXJuIHtBbmltYXRlZFNwcml0ZX0gVGhlIG5ldyBhbmltYXRlZCBzcHJpdGUgd2l0aCB0aGUgc3BlY2lmaWVkIGZyYW1lcy5cbiAgICAgKi9cbiAgICBBbmltYXRlZFNwcml0ZS5mcm9tRnJhbWVzID0gZnVuY3Rpb24gZnJvbUZyYW1lcyAoZnJhbWVzKVxuICAgIHtcbiAgICAgICAgdmFyIHRleHR1cmVzID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmcmFtZXMubGVuZ3RoOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRleHR1cmVzLnB1c2goVGV4dHVyZS5mcm9tKGZyYW1lc1tpXSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBBbmltYXRlZFNwcml0ZSh0ZXh0dXJlcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEEgc2hvcnQgaGFuZCB3YXkgb2YgY3JlYXRpbmcgYW4gQW5pbWF0ZWRTcHJpdGUgZnJvbSBhbiBhcnJheSBvZiBpbWFnZSBpZHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gaW1hZ2VzIC0gVGhlIGFycmF5IG9mIGltYWdlIHVybHMgdGhlIEFuaW1hdGVkU3ByaXRlIHdpbGwgdXNlIGFzIGl0cyB0ZXh0dXJlIGZyYW1lcy5cbiAgICAgKiBAcmV0dXJuIHtBbmltYXRlZFNwcml0ZX0gVGhlIG5ldyBhbmltYXRlIHNwcml0ZSB3aXRoIHRoZSBzcGVjaWZpZWQgaW1hZ2VzIGFzIGZyYW1lcy5cbiAgICAgKi9cbiAgICBBbmltYXRlZFNwcml0ZS5mcm9tSW1hZ2VzID0gZnVuY3Rpb24gZnJvbUltYWdlcyAoaW1hZ2VzKVxuICAgIHtcbiAgICAgICAgdmFyIHRleHR1cmVzID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbWFnZXMubGVuZ3RoOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRleHR1cmVzLnB1c2goVGV4dHVyZS5mcm9tKGltYWdlc1tpXSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBBbmltYXRlZFNwcml0ZSh0ZXh0dXJlcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0b3RhbCBudW1iZXIgb2YgZnJhbWVzIGluIHRoZSBBbmltYXRlZFNwcml0ZS4gVGhpcyBpcyB0aGUgc2FtZSBhcyBudW1iZXIgb2YgdGV4dHVyZXNcbiAgICAgKiBhc3NpZ25lZCB0byB0aGUgQW5pbWF0ZWRTcHJpdGUuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy50b3RhbEZyYW1lcy5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RleHR1cmVzLmxlbmd0aDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFycmF5IG9mIHRleHR1cmVzIHVzZWQgZm9yIHRoaXMgQW5pbWF0ZWRTcHJpdGUuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmVbXX1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudGV4dHVyZXMuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlcztcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRleHR1cmVzLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodmFsdWVbMF0gaW5zdGFuY2VvZiBUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlcyA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fZHVyYXRpb25zID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmVzID0gW107XG4gICAgICAgICAgICB0aGlzLl9kdXJhdGlvbnMgPSBbXTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90ZXh0dXJlcy5wdXNoKHZhbHVlW2ldLnRleHR1cmUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2R1cmF0aW9ucy5wdXNoKHZhbHVlW2ldLnRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZ290b0FuZFN0b3AoMCk7XG4gICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAqIFRoZSBBbmltYXRlZFNwcml0ZXMgY3VycmVudCBmcmFtZSBpbmRleC5cbiAgICAqXG4gICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgKiBAcmVhZG9ubHlcbiAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5jdXJyZW50RnJhbWUuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHZhciBjdXJyZW50RnJhbWUgPSBNYXRoLmZsb29yKHRoaXMuX2N1cnJlbnRUaW1lKSAlIHRoaXMuX3RleHR1cmVzLmxlbmd0aDtcblxuICAgICAgICBpZiAoY3VycmVudEZyYW1lIDwgMClcbiAgICAgICAge1xuICAgICAgICAgICAgY3VycmVudEZyYW1lICs9IHRoaXMuX3RleHR1cmVzLmxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjdXJyZW50RnJhbWU7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4gICAgcmV0dXJuIEFuaW1hdGVkU3ByaXRlO1xufShTcHJpdGUpKTtcblxuLyoqXG4gKiBAbWVtYmVyb2YgUElYSS5BbmltYXRlZFNwcml0ZVxuICogQHR5cGVkZWYge29iamVjdH0gRnJhbWVPYmplY3RcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIFRoZSB7QGxpbmsgUElYSS5UZXh0dXJlfSBvZiB0aGUgZnJhbWVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB0aW1lIC0gdGhlIGR1cmF0aW9uIG9mIHRoZSBmcmFtZSBpbiBtc1xuICovXG5cbmV4cG9ydCB7IEFuaW1hdGVkU3ByaXRlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zcHJpdGUtYW5pbWF0ZWQuZXMuanMubWFwXG4iLCIvKiFcbiAqIHBpeGkuanMgLSB2NS4xLjRcbiAqIENvbXBpbGVkIEZyaSwgMjAgU2VwIDIwMTkgMTc6MTc6NTkgVVRDXG4gKlxuICogcGl4aS5qcyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCAnQHBpeGkvcG9seWZpbGwnO1xuaW1wb3J0IHsgQWNjZXNzaWJpbGl0eU1hbmFnZXIgfSBmcm9tICdAcGl4aS9hY2Nlc3NpYmlsaXR5JztcbmltcG9ydCAqIGFzIGFjY2Vzc2liaWxpdHkgZnJvbSAnQHBpeGkvYWNjZXNzaWJpbGl0eSc7XG5leHBvcnQgeyBhY2Nlc3NpYmlsaXR5IH07XG5pbXBvcnQgeyBFeHRyYWN0IH0gZnJvbSAnQHBpeGkvZXh0cmFjdCc7XG5pbXBvcnQgKiBhcyBleHRyYWN0IGZyb20gJ0BwaXhpL2V4dHJhY3QnO1xuZXhwb3J0IHsgZXh0cmFjdCB9O1xuaW1wb3J0IHsgSW50ZXJhY3Rpb25NYW5hZ2VyIH0gZnJvbSAnQHBpeGkvaW50ZXJhY3Rpb24nO1xuaW1wb3J0ICogYXMgaW50ZXJhY3Rpb24gZnJvbSAnQHBpeGkvaW50ZXJhY3Rpb24nO1xuZXhwb3J0IHsgaW50ZXJhY3Rpb24gfTtcbmltcG9ydCB7IFByZXBhcmUgfSBmcm9tICdAcGl4aS9wcmVwYXJlJztcbmltcG9ydCAqIGFzIHByZXBhcmUgZnJvbSAnQHBpeGkvcHJlcGFyZSc7XG5leHBvcnQgeyBwcmVwYXJlIH07XG5pbXBvcnQgeyBkZXByZWNhdGlvbiB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCAqIGFzIHV0aWxzIGZyb20gJ0BwaXhpL3V0aWxzJztcbmV4cG9ydCB7IHV0aWxzIH07XG5pbXBvcnQgeyBBcHBsaWNhdGlvbiB9IGZyb20gJ0BwaXhpL2FwcCc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9hcHAnO1xuaW1wb3J0IHsgUmVuZGVyZXIsIEJhdGNoUmVuZGVyZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgTG9hZGVyLCBBcHBMb2FkZXJQbHVnaW4gfSBmcm9tICdAcGl4aS9sb2FkZXJzJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2xvYWRlcnMnO1xuaW1wb3J0IHsgUGFydGljbGVSZW5kZXJlciB9IGZyb20gJ0BwaXhpL3BhcnRpY2xlcyc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9wYXJ0aWNsZXMnO1xuaW1wb3J0IHsgU3ByaXRlc2hlZXRMb2FkZXIgfSBmcm9tICdAcGl4aS9zcHJpdGVzaGVldCc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9zcHJpdGVzaGVldCc7XG5pbXBvcnQgeyBUaWxpbmdTcHJpdGVSZW5kZXJlciB9IGZyb20gJ0BwaXhpL3Nwcml0ZS10aWxpbmcnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvc3ByaXRlLXRpbGluZyc7XG5pbXBvcnQgeyBCaXRtYXBGb250TG9hZGVyIH0gZnJvbSAnQHBpeGkvdGV4dC1iaXRtYXAnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvdGV4dC1iaXRtYXAnO1xuaW1wb3J0IHsgVGlja2VyUGx1Z2luIH0gZnJvbSAnQHBpeGkvdGlja2VyJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3RpY2tlcic7XG5pbXBvcnQgeyBBbHBoYUZpbHRlciB9IGZyb20gJ0BwaXhpL2ZpbHRlci1hbHBoYSc7XG5pbXBvcnQgeyBCbHVyRmlsdGVyLCBCbHVyRmlsdGVyUGFzcyB9IGZyb20gJ0BwaXhpL2ZpbHRlci1ibHVyJztcbmltcG9ydCB7IENvbG9yTWF0cml4RmlsdGVyIH0gZnJvbSAnQHBpeGkvZmlsdGVyLWNvbG9yLW1hdHJpeCc7XG5pbXBvcnQgeyBEaXNwbGFjZW1lbnRGaWx0ZXIgfSBmcm9tICdAcGl4aS9maWx0ZXItZGlzcGxhY2VtZW50JztcbmltcG9ydCB7IEZYQUFGaWx0ZXIgfSBmcm9tICdAcGl4aS9maWx0ZXItZnhhYSc7XG5pbXBvcnQgeyBOb2lzZUZpbHRlciB9IGZyb20gJ0BwaXhpL2ZpbHRlci1ub2lzZSc7XG5pbXBvcnQgJ0BwaXhpL21peGluLWNhY2hlLWFzLWJpdG1hcCc7XG5pbXBvcnQgJ0BwaXhpL21peGluLWdldC1jaGlsZC1ieS1uYW1lJztcbmltcG9ydCAnQHBpeGkvbWl4aW4tZ2V0LWdsb2JhbC1wb3NpdGlvbic7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9ncmFwaGljcyc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9tYXRoJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL21lc2gnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvbWVzaC1leHRyYXMnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvcnVubmVyJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3Nwcml0ZSc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9zcHJpdGUtYW5pbWF0ZWQnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvdGV4dCc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5cbnZhciB2NSA9ICc1LjAuMCc7XG5cbi8qKlxuICogRGVwcmVjYXRpb25zIChiYWNrd2FyZCBjb21wYXRpYmlsaXRpZXMpIGFyZSBhdXRvbWF0aWNhbGx5IGFwcGxpZWQgZm9yIGJyb3dzZXIgYnVuZGxlc1xuICogaW4gdGhlIFVNRCBtb2R1bGUgZm9ybWF0LiBJZiB1c2luZyBXZWJwYWNrIG9yIFJvbGx1cCwgeW91J2xsIG5lZWQgdG8gYXBwbHkgdGhlc2VcbiAqIGRlcHJlY2F0aW9ucyBtYW51YWxseSBieSBkb2luZyBzb21ldGhpbmcgbGlrZSB0aGlzOlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCAqIGFzIFBJWEkgZnJvbSAncGl4aS5qcyc7XG4gKiBQSVhJLnVzZURlcHJlY2F0ZWQoKTsgLy8gTVVTVCBiZSBib3VuZCB0byBuYW1lc3BhY2VcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZnVuY3Rpb24gdXNlRGVwcmVjYXRlZFxuICovXG5mdW5jdGlvbiB1c2VEZXByZWNhdGVkKClcbntcbiAgICB2YXIgUElYSSA9IHRoaXM7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQSVhJLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY29uc3RhbnQge1JlZ0V4cHxzdHJpbmd9IFNWR19TSVpFXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJXG4gICAgICAgICAqIEBzZWUgUElYSS5yZXNvdXJjZXMuU1ZHUmVzb3VyY2UuU1ZHX1NJWkVcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFNWR19TSVpFOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnV0aWxzLlNWR19TSVpFIHByb3BlcnR5IGhhcyBtb3ZlZCB0byBQSVhJLnJlc291cmNlcy5TVkdSZXNvdXJjZS5TVkdfU0laRScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuU1ZHUmVzb3VyY2UuU1ZHX1NJWkU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5UcmFuc2Zvcm1TdGF0aWNcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHNlZSBQSVhJLlRyYW5zZm9ybVxuICAgICAgICAgKi9cbiAgICAgICAgVHJhbnNmb3JtU3RhdGljOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLlRyYW5zZm9ybVN0YXRpYyBjbGFzcyBoYXMgYmVlbiByZW1vdmVkLCB1c2UgUElYSS5UcmFuc2Zvcm0nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlRyYW5zZm9ybTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLlRyYW5zZm9ybUJhc2VcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHNlZSBQSVhJLlRyYW5zZm9ybVxuICAgICAgICAgKi9cbiAgICAgICAgVHJhbnNmb3JtQmFzZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5UcmFuc2Zvcm1CYXNlIGNsYXNzIGhhcyBiZWVuIHJlbW92ZWQsIHVzZSBQSVhJLlRyYW5zZm9ybScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuVHJhbnNmb3JtO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29uc3RhbnRzIHRoYXQgc3BlY2lmeSB0aGUgdHJhbnNmb3JtIHR5cGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGNvbnN0YW50XG4gICAgICAgICAqIEBuYW1lIFRSQU5TRk9STV9NT0RFXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJXG4gICAgICAgICAqIEBlbnVtIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTVEFUSUNcbiAgICAgICAgICogQHByb3BlcnR5IHtudW1iZXJ9IERZTkFNSUNcbiAgICAgICAgICovXG4gICAgICAgIFRSQU5TRk9STV9NT0RFOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLlRSQU5TRk9STV9NT0RFIHByb3BlcnR5IGhhcyBiZWVuIHJlbW92ZWQnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB7IFNUQVRJQzogMCwgRFlOQU1JQzogMSB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuV2ViR0xSZW5kZXJlclxuICAgICAgICAgKiBAc2VlIFBJWEkuUmVuZGVyZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFdlYkdMUmVuZGVyZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuV2ViR0xSZW5kZXJlciBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5SZW5kZXJlcicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuUmVuZGVyZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5DYW52YXNSZW5kZXJUYXJnZXRcbiAgICAgICAgICogQHNlZSBQSVhJLnV0aWxzLkNhbnZhc1JlbmRlclRhcmdldFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgQ2FudmFzUmVuZGVyVGFyZ2V0OiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkNhbnZhc1JlbmRlclRhcmdldCBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS51dGlscy5DYW52YXNSZW5kZXJUYXJnZXQnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLnV0aWxzLkNhbnZhc1JlbmRlclRhcmdldDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJXG4gICAgICAgICAqIEBuYW1lIGxvYWRlclxuICAgICAgICAgKiBAdHlwZSB7UElYSS5Mb2FkZXJ9XG4gICAgICAgICAqIEBzZWUgUElYSS5Mb2FkZXIuc2hhcmVkXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBsb2FkZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubG9hZGVyIGluc3RhbmNlIGhhcyBtb3ZlZCB0byBQSVhJLkxvYWRlci5zaGFyZWQnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkxvYWRlci5zaGFyZWQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5GaWx0ZXJNYW5hZ2VyXG4gICAgICAgICAqIEBzZWUgUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgRmlsdGVyTWFuYWdlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5GaWx0ZXJNYW5hZ2VyIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG5hbWVzcGFjZSBoYXMgYmVlbiByZW1vdmVkLiBBbGwgY2xhc3NlcyBwcmV2aW91cyBuZXN0ZWRcbiAgICAgKiB1bmRlciB0aGlzIG5hbWVzcGFjZSBoYXZlIGJlZW4gbW92ZWQgdG8gdGhlIHRvcC1sZXZlbCBgUElYSWAgb2JqZWN0LlxuICAgICAqIEBuYW1lc3BhY2UgUElYSS5leHRyYXNcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqL1xuICAgIFBJWEkuZXh0cmFzID0ge307XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQSVhJLmV4dHJhcywge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuZXh0cmFzLlRpbGluZ1Nwcml0ZVxuICAgICAgICAgKiBAc2VlIFBJWEkuVGlsaW5nU3ByaXRlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBUaWxpbmdTcHJpdGU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuZXh0cmFzLlRpbGluZ1Nwcml0ZSBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5UaWxpbmdTcHJpdGUnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlRpbGluZ1Nwcml0ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5leHRyYXMuVGlsaW5nU3ByaXRlUmVuZGVyZXJcbiAgICAgICAgICogQHNlZSBQSVhJLlRpbGluZ1Nwcml0ZVJlbmRlcmVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBUaWxpbmdTcHJpdGVSZW5kZXJlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5leHRyYXMuVGlsaW5nU3ByaXRlUmVuZGVyZXIgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuVGlsaW5nU3ByaXRlUmVuZGVyZXInKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlRpbGluZ1Nwcml0ZVJlbmRlcmVyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLmV4dHJhcy5BbmltYXRlZFNwcml0ZVxuICAgICAgICAgKiBAc2VlIFBJWEkuQW5pbWF0ZWRTcHJpdGVcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIEFuaW1hdGVkU3ByaXRlOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmV4dHJhcy5BbmltYXRlZFNwcml0ZSBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5BbmltYXRlZFNwcml0ZScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuQW5pbWF0ZWRTcHJpdGU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuZXh0cmFzLkJpdG1hcFRleHRcbiAgICAgICAgICogQHNlZSBQSVhJLkJpdG1hcFRleHRcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIEJpdG1hcFRleHQ6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuZXh0cmFzLkJpdG1hcFRleHQgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuQml0bWFwVGV4dCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuQml0bWFwVGV4dDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQSVhJLnV0aWxzLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZnVuY3Rpb24gUElYSS51dGlscy5nZXRTdmdTaXplXG4gICAgICAgICAqIEBzZWUgUElYSS5yZXNvdXJjZXMuU1ZHUmVzb3VyY2UuZ2V0U2l6ZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0U3ZnU2l6ZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS51dGlscy5nZXRTdmdTaXplIGZ1bmN0aW9uIGhhcyBtb3ZlZCB0byBQSVhJLnJlc291cmNlcy5TVkdSZXNvdXJjZS5nZXRTaXplJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5TVkdSZXNvdXJjZS5nZXRTaXplO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEFsbCBjbGFzc2VzIG9uIHRoaXMgbmFtZXNwYWNlIGhhdmUgbW92ZWQgdG8gdGhlIGhpZ2gtbGV2ZWwgYFBJWElgIG9iamVjdC5cbiAgICAgKiBAbmFtZXNwYWNlIFBJWEkubWVzaFxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICovXG4gICAgUElYSS5tZXNoID0ge307XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQSVhJLm1lc2gsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLm1lc2guTWVzaFxuICAgICAgICAgKiBAc2VlIFBJWEkuU2ltcGxlTWVzaFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgTWVzaDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5tZXNoLk1lc2ggY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuU2ltcGxlTWVzaCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuU2ltcGxlTWVzaDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5tZXNoLk5pbmVTbGljZVBsYW5lXG4gICAgICAgICAqIEBzZWUgUElYSS5OaW5lU2xpY2VQbGFuZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgTmluZVNsaWNlUGxhbmU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubWVzaC5OaW5lU2xpY2VQbGFuZSBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5OaW5lU2xpY2VQbGFuZScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuTmluZVNsaWNlUGxhbmU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkubWVzaC5QbGFuZVxuICAgICAgICAgKiBAc2VlIFBJWEkuU2ltcGxlUGxhbmVcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFBsYW5lOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLm1lc2guUGxhbmUgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuU2ltcGxlUGxhbmUnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlNpbXBsZVBsYW5lO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLm1lc2guUm9wZVxuICAgICAgICAgKiBAc2VlIFBJWEkuU2ltcGxlUm9wZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgUm9wZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5tZXNoLlJvcGUgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuU2ltcGxlUm9wZScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuU2ltcGxlUm9wZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5tZXNoLlJhd01lc2hcbiAgICAgICAgICogQHNlZSBQSVhJLk1lc2hcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFJhd01lc2g6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubWVzaC5SYXdNZXNoIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLk1lc2gnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLk1lc2g7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkubWVzaC5DYW52YXNNZXNoUmVuZGVyZXJcbiAgICAgICAgICogQHNlZSBQSVhJLkNhbnZhc01lc2hSZW5kZXJlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgQ2FudmFzTWVzaFJlbmRlcmVyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLm1lc2guQ2FudmFzTWVzaFJlbmRlcmVyIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLkNhbnZhc01lc2hSZW5kZXJlcicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuQ2FudmFzTWVzaFJlbmRlcmVyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLm1lc2guTWVzaFJlbmRlcmVyXG4gICAgICAgICAqIEBzZWUgUElYSS5NZXNoUmVuZGVyZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIE1lc2hSZW5kZXJlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5tZXNoLk1lc2hSZW5kZXJlciBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5NZXNoUmVuZGVyZXInKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLk1lc2hSZW5kZXJlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG5hbWVzcGFjZSBoYXMgYmVlbiByZW1vdmVkIGFuZCBpdGVtcyBoYXZlIGJlZW4gbW92ZWQgdG9cbiAgICAgKiB0aGUgdG9wLWxldmVsIGBQSVhJYCBvYmplY3QuXG4gICAgICogQG5hbWVzcGFjZSBQSVhJLnBhcnRpY2xlc1xuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICovXG4gICAgUElYSS5wYXJ0aWNsZXMgPSB7fTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBJWEkucGFydGljbGVzLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5wYXJ0aWNsZXMuUGFydGljbGVDb250YWluZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHNlZSBQSVhJLlBhcnRpY2xlQ29udGFpbmVyXG4gICAgICAgICAqL1xuICAgICAgICBQYXJ0aWNsZUNvbnRhaW5lcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5wYXJ0aWNsZXMuUGFydGljbGVDb250YWluZXIgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuUGFydGljbGVDb250YWluZXInKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlBhcnRpY2xlQ29udGFpbmVyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLnBhcnRpY2xlcy5QYXJ0aWNsZVJlbmRlcmVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBzZWUgUElYSS5QYXJ0aWNsZVJlbmRlcmVyXG4gICAgICAgICAqL1xuICAgICAgICBQYXJ0aWNsZVJlbmRlcmVyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnBhcnRpY2xlcy5QYXJ0aWNsZVJlbmRlcmVyIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLlBhcnRpY2xlUmVuZGVyZXInKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlBhcnRpY2xlUmVuZGVyZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBuYW1lc3BhY2UgaGFzIGJlZW4gcmVtb3ZlZCBhbmQgaXRlbXMgaGF2ZSBiZWVuIG1vdmVkIHRvXG4gICAgICogdGhlIHRvcC1sZXZlbCBgUElYSWAgb2JqZWN0LlxuICAgICAqIEBuYW1lc3BhY2UgUElYSS50aWNrZXJcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqL1xuICAgIFBJWEkudGlja2VyID0ge307XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQSVhJLnRpY2tlciwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkudGlja2VyLlRpY2tlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAc2VlIFBJWEkuVGlja2VyXG4gICAgICAgICAqL1xuICAgICAgICBUaWNrZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkudGlja2VyLlRpY2tlciBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5UaWNrZXInKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlRpY2tlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLnRpY2tlci5zaGFyZWRcbiAgICAgICAgICogQHR5cGUge1BJWEkuVGlja2VyfVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAc2VlIFBJWEkuVGlja2VyLnNoYXJlZFxuICAgICAgICAgKi9cbiAgICAgICAgc2hhcmVkOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnRpY2tlci5zaGFyZWQgaW5zdGFuY2UgaGFzIG1vdmVkIHRvIFBJWEkuVGlja2VyLnNoYXJlZCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuVGlja2VyLnNoYXJlZDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBBbGwgY2xhc3NlcyBvbiB0aGlzIG5hbWVzcGFjZSBoYXZlIG1vdmVkIHRvIHRoZSBoaWdoLWxldmVsIGBQSVhJYCBvYmplY3QuXG4gICAgICogQG5hbWVzcGFjZSBQSVhJLmxvYWRlcnNcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqL1xuICAgIFBJWEkubG9hZGVycyA9IHt9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS5sb2FkZXJzLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5sb2FkZXJzLkxvYWRlclxuICAgICAgICAgKiBAc2VlIFBJWEkuTG9hZGVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBMb2FkZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubG9hZGVycy5Mb2FkZXIgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuTG9hZGVyJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5Mb2FkZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkubG9hZGVycy5SZXNvdXJjZVxuICAgICAgICAgKiBAc2VlIFBJWEkuTG9hZGVyUmVzb3VyY2VcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFJlc291cmNlOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmxvYWRlcnMuUmVzb3VyY2UgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuTG9hZGVyUmVzb3VyY2UnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkxvYWRlclJlc291cmNlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBmdW5jdGlvbiBQSVhJLmxvYWRlcnMuYml0bWFwRm9udFBhcnNlclxuICAgICAgICAgKiBAc2VlIFBJWEkuQml0bWFwRm9udExvYWRlci51c2VcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIGJpdG1hcEZvbnRQYXJzZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubG9hZGVycy5iaXRtYXBGb250UGFyc2VyIGZ1bmN0aW9uIGhhcyBtb3ZlZCB0byBQSVhJLkJpdG1hcEZvbnRMb2FkZXIudXNlJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5CaXRtYXBGb250TG9hZGVyLnVzZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZnVuY3Rpb24gUElYSS5sb2FkZXJzLnBhcnNlQml0bWFwRm9udERhdGFcbiAgICAgICAgICogQHNlZSBQSVhJLkJpdG1hcEZvbnRMb2FkZXIucGFyc2VcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIHBhcnNlQml0bWFwRm9udERhdGE6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubG9hZGVycy5wYXJzZUJpdG1hcEZvbnREYXRhIGZ1bmN0aW9uIGhhcyBtb3ZlZCB0byBQSVhJLkJpdG1hcEZvbnRMb2FkZXIucGFyc2UnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkJpdG1hcEZvbnRMb2FkZXIucGFyc2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGZ1bmN0aW9uIFBJWEkubG9hZGVycy5zcHJpdGVzaGVldFBhcnNlclxuICAgICAgICAgKiBAc2VlIFBJWEkuU3ByaXRlc2hlZXRMb2FkZXIudXNlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBzcHJpdGVzaGVldFBhcnNlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5sb2FkZXJzLnNwcml0ZXNoZWV0UGFyc2VyIGZ1bmN0aW9uIGhhcyBtb3ZlZCB0byBQSVhJLlNwcml0ZXNoZWV0TG9hZGVyLnVzZScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuU3ByaXRlc2hlZXRMb2FkZXIudXNlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBmdW5jdGlvbiBQSVhJLmxvYWRlcnMuZ2V0UmVzb3VyY2VQYXRoXG4gICAgICAgICAqIEBzZWUgUElYSS5TcHJpdGVzaGVldExvYWRlci5nZXRSZXNvdXJjZVBhdGhcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIGdldFJlc291cmNlUGF0aDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5sb2FkZXJzLmdldFJlc291cmNlUGF0aCBwcm9wZXJ0eSBoYXMgbW92ZWQgdG8gUElYSS5TcHJpdGVzaGVldExvYWRlci5nZXRSZXNvdXJjZVBhdGgnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlNwcml0ZXNoZWV0TG9hZGVyLmdldFJlc291cmNlUGF0aDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAZnVuY3Rpb24gUElYSS5sb2FkZXJzLkxvYWRlci5hZGRQaXhpTWlkZGxld2FyZVxuICAgICAqIEBzZWUgUElYSS5Mb2FkZXIucmVnaXN0ZXJQbHVnaW5cbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IG1pZGRsZXdhcmVcbiAgICAgKi9cbiAgICBQSVhJLkxvYWRlci5hZGRQaXhpTWlkZGxld2FyZSA9IGZ1bmN0aW9uIGFkZFBpeGlNaWRkbGV3YXJlKG1pZGRsZXdhcmUpXG4gICAge1xuICAgICAgICBkZXByZWNhdGlvbih2NSxcbiAgICAgICAgICAgICdQSVhJLmxvYWRlcnMuTG9hZGVyLmFkZFBpeGlNaWRkbGV3YXJlIGZ1bmN0aW9uIGlzIGRlcHJlY2F0ZWQsIHVzZSBQSVhJLmxvYWRlcnMuTG9hZGVyLnJlZ2lzdGVyUGx1Z2luJ1xuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiBQSVhJLmxvYWRlcnMuTG9hZGVyLnJlZ2lzdGVyUGx1Z2luKHsgdXNlOiBtaWRkbGV3YXJlKCkgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBjbGFzcyBQSVhJLmV4dHJhY3QuV2ViR0xFeHRyYWN0XG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuZXh0cmFjdC5FeHRyYWN0XG4gICAgICovXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBJWEkuZXh0cmFjdCwgJ1dlYkdMRXh0cmFjdCcsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuZXh0cmFjdC5XZWJHTEV4dHJhY3QgbWV0aG9kIGhhcyBtb3ZlZCB0byBQSVhJLmV4dHJhY3QuRXh0cmFjdCcpO1xuXG4gICAgICAgICAgICByZXR1cm4gUElYSS5leHRyYWN0LkV4dHJhY3Q7XG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAY2xhc3MgUElYSS5wcmVwYXJlLldlYkdMUHJlcGFyZVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLnByZXBhcmUuUHJlcGFyZVxuICAgICAqL1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQSVhJLnByZXBhcmUsICdXZWJHTFByZXBhcmUnLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnByZXBhcmUuV2ViR0xQcmVwYXJlIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLnByZXBhcmUuUHJlcGFyZScpO1xuXG4gICAgICAgICAgICByZXR1cm4gUElYSS5wcmVwYXJlLlByZXBhcmU7XG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIFBJWEkuQ29udGFpbmVyI19yZW5kZXJXZWJHTFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuQ29udGFpbmVyI3JlbmRlclxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgSW5zdGFuY2Ugb2YgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBQSVhJLkNvbnRhaW5lci5wcm90b3R5cGUuX3JlbmRlcldlYkdMID0gZnVuY3Rpb24gX3JlbmRlcldlYkdMKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkNvbnRhaW5lci5fcmVuZGVyV2ViR0wgbWV0aG9kIGhhcyBtb3ZlZCB0byBQSVhJLkNvbnRhaW5lci5fcmVuZGVyJyk7XG5cbiAgICAgICAgdGhpcy5fcmVuZGVyKHJlbmRlcmVyKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBQSVhJLkNvbnRhaW5lciNyZW5kZXJXZWJHTFxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLkNvbnRhaW5lciNyZW5kZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIEluc3RhbmNlIG9mIHJlbmRlcmVyXG4gICAgICovXG4gICAgUElYSS5Db250YWluZXIucHJvdG90eXBlLnJlbmRlcldlYkdMID0gZnVuY3Rpb24gcmVuZGVyV2ViR0wocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQ29udGFpbmVyLnJlbmRlcldlYkdMIG1ldGhvZCBoYXMgbW92ZWQgdG8gUElYSS5Db250YWluZXIucmVuZGVyJyk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXIocmVuZGVyZXIpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIFBJWEkuRGlzcGxheU9iamVjdCNyZW5kZXJXZWJHTFxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLkRpc3BsYXlPYmplY3QjcmVuZGVyXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciBJbnN0YW5jZSBvZiByZW5kZXJlclxuICAgICAqL1xuICAgIFBJWEkuRGlzcGxheU9iamVjdC5wcm90b3R5cGUucmVuZGVyV2ViR0wgPSBmdW5jdGlvbiByZW5kZXJXZWJHTChyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5EaXNwbGF5T2JqZWN0LnJlbmRlcldlYkdMIG1ldGhvZCBoYXMgbW92ZWQgdG8gUElYSS5EaXNwbGF5T2JqZWN0LnJlbmRlcicpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyKHJlbmRlcmVyKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBQSVhJLkNvbnRhaW5lciNyZW5kZXJBZHZhbmNlZFdlYkdMXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuQ29udGFpbmVyI3JlbmRlckFkdmFuY2VkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciBJbnN0YW5jZSBvZiByZW5kZXJlclxuICAgICAqL1xuICAgIFBJWEkuQ29udGFpbmVyLnByb3RvdHlwZS5yZW5kZXJBZHZhbmNlZFdlYkdMID0gZnVuY3Rpb24gcmVuZGVyQWR2YW5jZWRXZWJHTChyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5Db250YWluZXIucmVuZGVyQWR2YW5jZWRXZWJHTCBtZXRob2QgaGFzIG1vdmVkIHRvIFBJWEkuQ29udGFpbmVyLnJlbmRlckFkdmFuY2VkJyk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJBZHZhbmNlZChyZW5kZXJlcik7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBJWEkuc2V0dGluZ3MsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlZmF1bHQgdHJhbnNmb3JtIHR5cGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgICAgICogQHR5cGUge1BJWEkuVFJBTlNGT1JNX01PREV9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuVFJBTlNGT1JNX01PREUuU1RBVElDXG4gICAgICAgICAqL1xuICAgICAgICBUUkFOU0ZPUk1fTU9ERToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5zZXR0aW5ncy5UUkFOU0ZPUk1fTU9ERSBwcm9wZXJ0eSBoYXMgYmVlbiByZW1vdmVkJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnNldHRpbmdzLlRSQU5TRk9STV9NT0RFIHByb3BlcnR5IGhhcyBiZWVuIHJlbW92ZWQnKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICB2YXIgQmFzZVRleHR1cmUgPSBQSVhJLkJhc2VUZXh0dXJlO1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBsb2FkU291cmNlXG4gICAgICogQG1lbWJlcm9mIFBJWEkuQmFzZVRleHR1cmUjXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUubG9hZFNvdXJjZSA9IGZ1bmN0aW9uIGxvYWRTb3VyY2UoaW1hZ2UpXG4gICAge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQmFzZVRleHR1cmUubG9hZFNvdXJjZSBtZXRob2QgaGFzIGJlZW4gZGVwcmVjYXRlZCcpO1xuXG4gICAgICAgIHZhciByZXNvdXJjZSA9IFBJWEkucmVzb3VyY2VzLmF1dG9EZXRlY3RSZXNvdXJjZShpbWFnZSk7XG5cbiAgICAgICAgcmVzb3VyY2UuaW50ZXJuYWwgPSB0cnVlO1xuXG4gICAgICAgIHRoaXMuc2V0UmVzb3VyY2UocmVzb3VyY2UpO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhCYXNlVGV4dHVyZS5wcm90b3R5cGUsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuYW1lIFBJWEkuQmFzZVRleHR1cmUjaGFzTG9hZGVkXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQHNlZSBQSVhJLkJhc2VUZXh0dXJlI3ZhbGlkXG4gICAgICAgICAqL1xuICAgICAgICBoYXNMb2FkZWQ6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQmFzZVRleHR1cmUuaGFzTG9hZGVkIHByb3BlcnR5IGhhcyBiZWVuIHJlbW92ZWQsIHVzZSBQSVhJLkJhc2VUZXh0dXJlLnZhbGlkJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy52YWxpZDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLkJhc2VUZXh0dXJlI2ltYWdlVXJsXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBzZWUgUElYSS5yZXNvdXJjZS5JbWFnZVJlc291cmNlI3VybFxuICAgICAgICAgKi9cbiAgICAgICAgaW1hZ2VVcmw6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQmFzZVRleHR1cmUuaW1hZ2VVcmwgcHJvcGVydHkgaGFzIGJlZW4gcmVtb3ZlZCwgdXNlIFBJWEkuQmFzZVRleHR1cmUucmVzb3VyY2UudXJsJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZXNvdXJjZSAmJiB0aGlzLnJlc291cmNlLnVybDtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGltYWdlVXJsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5CYXNlVGV4dHVyZS5pbWFnZVVybCBwcm9wZXJ0eSBoYXMgYmVlbiByZW1vdmVkLCB1c2UgUElYSS5CYXNlVGV4dHVyZS5yZXNvdXJjZS51cmwnKTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlc291cmNlKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNvdXJjZS51cmwgPSBpbWFnZVVybDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQG5hbWUgUElYSS5CYXNlVGV4dHVyZSNzb3VyY2VcbiAgICAgICAgICogQHR5cGUge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudHxTVkdFbGVtZW50fVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQHNlZSBQSVhJLnJlc291cmNlcy5CYXNlSW1hZ2VSZXNvdXJjZSNzb3VyY2VcbiAgICAgICAgICovXG4gICAgICAgIHNvdXJjZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5CYXNlVGV4dHVyZS5zb3VyY2UgcHJvcGVydHkgaGFzIGJlZW4gbW92ZWQsIHVzZSBgUElYSS5CYXNlVGV4dHVyZS5yZXNvdXJjZS5zb3VyY2VgJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZXNvdXJjZSAmJiB0aGlzLnJlc291cmNlLnNvdXJjZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChzb3VyY2UpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkJhc2VUZXh0dXJlLnNvdXJjZSBwcm9wZXJ0eSBoYXMgYmVlbiBtb3ZlZCwgdXNlIGBQSVhJLkJhc2VUZXh0dXJlLnJlc291cmNlLnNvdXJjZWAgJ1xuICAgICAgICAgICAgICAgICAgICArICdpZiB5b3Ugd2FudCB0byBzZXQgSFRNTENhbnZhc0VsZW1lbnQuIE90aGVyd2lzZSwgY3JlYXRlIG5ldyBCYXNlVGV4dHVyZS4nKTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlc291cmNlKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNvdXJjZS5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgZnJvbUltYWdlXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJvZiBQSVhJLkJhc2VUZXh0dXJlXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuQmFzZVRleHR1cmUuZnJvbVxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLmZyb21JbWFnZSA9IGZ1bmN0aW9uIGZyb21JbWFnZShjYW52YXMsIGNyb3Nzb3JpZ2luLCBzY2FsZU1vZGUsIHNjYWxlKVxuICAgIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkJhc2VUZXh0dXJlLmZyb21JbWFnZSBtZXRob2QgaGFzIGJlZW4gcmVwbGFjZWQgd2l0aCBQSVhJLkJhc2VUZXh0dXJlLmZyb20nKTtcblxuICAgICAgICB2YXIgcmVzb3VyY2VPcHRpb25zID0geyBzY2FsZTogc2NhbGUsIGNyb3Nzb3JpZ2luOiBjcm9zc29yaWdpbiB9O1xuXG4gICAgICAgIHJldHVybiBCYXNlVGV4dHVyZS5mcm9tKGNhbnZhcywgeyBzY2FsZU1vZGU6IHNjYWxlTW9kZSwgcmVzb3VyY2VPcHRpb25zOiByZXNvdXJjZU9wdGlvbnMgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgZnJvbUNhbnZhc1xuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5CYXNlVGV4dHVyZVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLkJhc2VUZXh0dXJlLmZyb21cbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5mcm9tQ2FudmFzID0gZnVuY3Rpb24gZnJvbUNhbnZhcyhjYW52YXMsIHNjYWxlTW9kZSlcbiAgICB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5CYXNlVGV4dHVyZS5mcm9tQ2FudmFzIG1ldGhvZCBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIFBJWEkuQmFzZVRleHR1cmUuZnJvbScpO1xuXG4gICAgICAgIHJldHVybiBCYXNlVGV4dHVyZS5mcm9tKGNhbnZhcywgeyBzY2FsZU1vZGU6IHNjYWxlTW9kZSB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBmcm9tU1ZHXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJvZiBQSVhJLkJhc2VUZXh0dXJlXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuQmFzZVRleHR1cmUuZnJvbVxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLmZyb21TVkcgPSBmdW5jdGlvbiBmcm9tU1ZHKGNhbnZhcywgY3Jvc3NvcmlnaW4sIHNjYWxlTW9kZSwgc2NhbGUpXG4gICAge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQmFzZVRleHR1cmUuZnJvbVNWRyBtZXRob2QgaGFzIGJlZW4gcmVwbGFjZWQgd2l0aCBQSVhJLkJhc2VUZXh0dXJlLmZyb20nKTtcblxuICAgICAgICB2YXIgcmVzb3VyY2VPcHRpb25zID0geyBzY2FsZTogc2NhbGUsIGNyb3Nzb3JpZ2luOiBjcm9zc29yaWdpbiB9O1xuXG4gICAgICAgIHJldHVybiBCYXNlVGV4dHVyZS5mcm9tKGNhbnZhcywgeyBzY2FsZU1vZGU6IHNjYWxlTW9kZSwgcmVzb3VyY2VPcHRpb25zOiByZXNvdXJjZU9wdGlvbnMgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgUElYSS5Qb2ludCNjb3B5XG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuUG9pbnQjY29weUZyb21cbiAgICAgKi9cbiAgICBQSVhJLlBvaW50LnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gY29weShwKVxuICAgIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLlBvaW50LmNvcHkgbWV0aG9kIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggUElYSS5Qb2ludC5jb3B5RnJvbScpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmNvcHlGcm9tKHApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIFBJWEkuT2JzZXJ2YWJsZVBvaW50I2NvcHlcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5PYnNlcnZhYmxlUG9pbnQjY29weUZyb21cbiAgICAgKi9cbiAgICBQSVhJLk9ic2VydmFibGVQb2ludC5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkocClcbiAgICB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5PYnNlcnZhYmxlUG9pbnQuY29weSBtZXRob2QgaGFzIGJlZW4gcmVwbGFjZWQgd2l0aCBQSVhJLk9ic2VydmFibGVQb2ludC5jb3B5RnJvbScpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmNvcHlGcm9tKHApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIFBJWEkuUmVjdGFuZ2xlI2NvcHlcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5SZWN0YW5nbGUjY29weUZyb21cbiAgICAgKi9cbiAgICBQSVhJLlJlY3RhbmdsZS5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkocClcbiAgICB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5SZWN0YW5nbGUuY29weSBtZXRob2QgaGFzIGJlZW4gcmVwbGFjZWQgd2l0aCBQSVhJLlJlY3RhbmdsZS5jb3B5RnJvbScpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmNvcHlGcm9tKHApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIFBJWEkuTWF0cml4I2NvcHlcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5NYXRyaXgjY29weVRvXG4gICAgICovXG4gICAgUElYSS5NYXRyaXgucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5KHApXG4gICAge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuTWF0cml4LmNvcHkgbWV0aG9kIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggUElYSS5NYXRyaXguY29weVRvJyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY29weVRvKHApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIFBJWEkuc3lzdGVtcy5TdGF0ZVN5c3RlbSNzZXRTdGF0ZVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMS4wXG4gICAgICogQHNlZSBQSVhJLnN5c3RlbXMuU3RhdGVTeXN0ZW0jc2V0XG4gICAgICovXG4gICAgUElYSS5zeXN0ZW1zLlN0YXRlU3lzdGVtLnByb3RvdHlwZS5zZXRTdGF0ZSA9IGZ1bmN0aW9uIHNldFN0YXRlKHMpXG4gICAge1xuICAgICAgICBkZXByZWNhdGlvbigndjUuMS4wJywgJ1N0YXRlU3lzdGVtLnNldFN0YXRlIGhhcyBiZWVuIHJlbmFtZWQgdG8gU3RhdGVTeXN0ZW0uc2V0Jyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0KHMpO1xuICAgIH07XG5cbiAgICBPYmplY3QuYXNzaWduKFBJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWV0aG9kIFBJWEkuRmlsdGVyTWFuYWdlciNnZXRSZW5kZXJUYXJnZXRcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHNlZSBQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtI2dldEZpbHRlclRleHR1cmVcbiAgICAgICAgICovXG4gICAgICAgIGdldFJlbmRlclRhcmdldDogZnVuY3Rpb24gZ2V0UmVuZGVyVGFyZ2V0KGNsZWFyLCByZXNvbHV0aW9uKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSxcbiAgICAgICAgICAgICAgICAnUElYSS5GaWx0ZXJNYW5hZ2VyLmdldFJlbmRlclRhcmdldCBtZXRob2QgaGFzIGJlZW4gcmVwbGFjZWQgd2l0aCBQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtI2dldEZpbHRlclRleHR1cmUnXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRGaWx0ZXJUZXh0dXJlKHJlc29sdXRpb24pO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWV0aG9kIFBJWEkuRmlsdGVyTWFuYWdlciNyZXR1cm5SZW5kZXJUYXJnZXRcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHNlZSBQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtI3JldHVybkZpbHRlclRleHR1cmVcbiAgICAgICAgICovXG4gICAgICAgIHJldHVyblJlbmRlclRhcmdldDogZnVuY3Rpb24gcmV0dXJuUmVuZGVyVGFyZ2V0KHJlbmRlclRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LFxuICAgICAgICAgICAgICAgICdQSVhJLkZpbHRlck1hbmFnZXIucmV0dXJuUmVuZGVyVGFyZ2V0IG1ldGhvZCBoYXMgYmVlbiByZXBsYWNlZCB3aXRoICdcbiAgICAgICAgICAgICAgICArICdQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtLnJldHVybkZpbHRlclRleHR1cmUnXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICB0aGlzLnJldHVybkZpbHRlclRleHR1cmUocmVuZGVyVGV4dHVyZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZXRob2QgUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbSNjYWxjdWxhdGVTY3JlZW5TcGFjZU1hdHJpeFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBvdXRwdXRNYXRyaXggLSB0aGUgbWF0cml4IHRvIG91dHB1dCB0by5cbiAgICAgICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoZSBtYXBwZWQgbWF0cml4LlxuICAgICAgICAgKi9cbiAgICAgICAgY2FsY3VsYXRlU2NyZWVuU3BhY2VNYXRyaXg6IGZ1bmN0aW9uIGNhbGN1bGF0ZVNjcmVlblNwYWNlTWF0cml4KG91dHB1dE1hdHJpeClcbiAgICAgICAge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtLmNhbGN1bGF0ZVNjcmVlblNwYWNlTWF0cml4IG1ldGhvZCBpcyByZW1vdmVkLCAnXG4gICAgICAgICAgICAgICAgKyAndXNlIGAodlRleHR1cmVDb29yZCAqIGlucHV0U2l6ZS54eSkgKyBvdXRwdXRGcmFtZS54eWAgaW5zdGVhZCcpO1xuXG4gICAgICAgICAgICB2YXIgbWFwcGVkTWF0cml4ID0gb3V0cHV0TWF0cml4LmlkZW50aXR5KCk7XG4gICAgICAgICAgICB2YXIgcmVmID0gdGhpcy5hY3RpdmVTdGF0ZTtcbiAgICAgICAgICAgIHZhciBzb3VyY2VGcmFtZSA9IHJlZi5zb3VyY2VGcmFtZTtcbiAgICAgICAgICAgIHZhciBkZXN0aW5hdGlvbkZyYW1lID0gcmVmLmRlc3RpbmF0aW9uRnJhbWU7XG5cbiAgICAgICAgICAgIG1hcHBlZE1hdHJpeC50cmFuc2xhdGUoc291cmNlRnJhbWUueCAvIGRlc3RpbmF0aW9uRnJhbWUud2lkdGgsIHNvdXJjZUZyYW1lLnkgLyBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCk7XG4gICAgICAgICAgICBtYXBwZWRNYXRyaXguc2NhbGUoZGVzdGluYXRpb25GcmFtZS53aWR0aCwgZGVzdGluYXRpb25GcmFtZS5oZWlnaHQpO1xuXG4gICAgICAgICAgICByZXR1cm4gbWFwcGVkTWF0cml4O1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWV0aG9kIFBJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW0jY2FsY3VsYXRlTm9ybWFsaXplZFNjcmVlblNwYWNlTWF0cml4XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG91dHB1dE1hdHJpeCAtIFRoZSBtYXRyaXggdG8gb3V0cHV0IHRvLlxuICAgICAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhlIG1hcHBlZCBtYXRyaXguXG4gICAgICAgICAqL1xuICAgICAgICBjYWxjdWxhdGVOb3JtYWxpemVkU2NyZWVuU3BhY2VNYXRyaXg6IGZ1bmN0aW9uIGNhbGN1bGF0ZU5vcm1hbGl6ZWRTY3JlZW5TcGFjZU1hdHJpeChvdXRwdXRNYXRyaXgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5zeXN0ZW1zLkZpbHRlck1hbmFnZXIuY2FsY3VsYXRlTm9ybWFsaXplZFNjcmVlblNwYWNlTWF0cml4IG1ldGhvZCBpcyByZW1vdmVkLCAnXG4gICAgICAgICAgICAgICAgKyAndXNlIGAoKHZUZXh0dXJlQ29vcmQgKiBpbnB1dFNpemUueHkpICsgb3V0cHV0RnJhbWUueHkpIC8gb3V0cHV0RnJhbWUuendgIGluc3RlYWQuJyk7XG5cbiAgICAgICAgICAgIHZhciByZWYgPSB0aGlzLmFjdGl2ZVN0YXRlO1xuICAgICAgICAgICAgdmFyIHNvdXJjZUZyYW1lID0gcmVmLnNvdXJjZUZyYW1lO1xuICAgICAgICAgICAgdmFyIGRlc3RpbmF0aW9uRnJhbWUgPSByZWYuZGVzdGluYXRpb25GcmFtZTtcbiAgICAgICAgICAgIHZhciBtYXBwZWRNYXRyaXggPSBvdXRwdXRNYXRyaXguaWRlbnRpdHkoKTtcblxuICAgICAgICAgICAgbWFwcGVkTWF0cml4LnRyYW5zbGF0ZShzb3VyY2VGcmFtZS54IC8gZGVzdGluYXRpb25GcmFtZS53aWR0aCwgc291cmNlRnJhbWUueSAvIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0KTtcblxuICAgICAgICAgICAgdmFyIHRyYW5zbGF0ZVNjYWxlWCA9IChkZXN0aW5hdGlvbkZyYW1lLndpZHRoIC8gc291cmNlRnJhbWUud2lkdGgpO1xuICAgICAgICAgICAgdmFyIHRyYW5zbGF0ZVNjYWxlWSA9IChkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAvIHNvdXJjZUZyYW1lLmhlaWdodCk7XG5cbiAgICAgICAgICAgIG1hcHBlZE1hdHJpeC5zY2FsZSh0cmFuc2xhdGVTY2FsZVgsIHRyYW5zbGF0ZVNjYWxlWSk7XG5cbiAgICAgICAgICAgIHJldHVybiBtYXBwZWRNYXRyaXg7XG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQSVhJLlJlbmRlclRleHR1cmUucHJvdG90eXBlLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLlJlbmRlclRleHR1cmUjc291cmNlRnJhbWVcbiAgICAgICAgICogQHR5cGUge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHNvdXJjZUZyYW1lOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLlJlbmRlclRleHR1cmUuc291cmNlRnJhbWUgcHJvcGVydHkgaGFzIGJlZW4gcmVtb3ZlZCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyRnJhbWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQG5hbWUgUElYSS5SZW5kZXJUZXh0dXJlI3NpemVcbiAgICAgICAgICogQHR5cGUge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHNpemU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuUmVuZGVyVGV4dHVyZS5zaXplIHByb3BlcnR5IGhhcyBiZWVuIHJlbW92ZWQnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9mcmFtZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAY2xhc3MgQmx1clhGaWx0ZXJcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuZmlsdGVycy5CbHVyRmlsdGVyUGFzc1xuICAgICAqL1xuICAgIHZhciBCbHVyWEZpbHRlciA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKHN1cGVyY2xhc3MpIHtcbiAgICAgICAgZnVuY3Rpb24gQmx1clhGaWx0ZXIoc3RyZW5ndGgsIHF1YWxpdHksIHJlc29sdXRpb24sIGtlcm5lbFNpemUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5maWx0ZXJzLkJsdXJYRmlsdGVyIGNsYXNzIGlzIGRlcHJlY2F0ZWQsIHVzZSBQSVhJLmZpbHRlcnMuQmx1ckZpbHRlclBhc3MnKTtcblxuICAgICAgICAgICAgc3VwZXJjbGFzcy5jYWxsKHRoaXMsIHRydWUsIHN0cmVuZ3RoLCBxdWFsaXR5LCByZXNvbHV0aW9uLCBrZXJuZWxTaXplKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggc3VwZXJjbGFzcyApIEJsdXJYRmlsdGVyLl9fcHJvdG9fXyA9IHN1cGVyY2xhc3M7XG4gICAgICAgIEJsdXJYRmlsdGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIHN1cGVyY2xhc3MgJiYgc3VwZXJjbGFzcy5wcm90b3R5cGUgKTtcbiAgICAgICAgQmx1clhGaWx0ZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQmx1clhGaWx0ZXI7XG5cbiAgICAgICAgcmV0dXJuIEJsdXJYRmlsdGVyO1xuICAgIH0oUElYSS5maWx0ZXJzLkJsdXJGaWx0ZXJQYXNzKSk7XG5cbiAgICAvKipcbiAgICAgKiBAY2xhc3MgQmx1cllGaWx0ZXJcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuZmlsdGVycy5CbHVyRmlsdGVyUGFzc1xuICAgICAqL1xuICAgIHZhciBCbHVyWUZpbHRlciA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKHN1cGVyY2xhc3MpIHtcbiAgICAgICAgZnVuY3Rpb24gQmx1cllGaWx0ZXIoc3RyZW5ndGgsIHF1YWxpdHksIHJlc29sdXRpb24sIGtlcm5lbFNpemUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5maWx0ZXJzLkJsdXJZRmlsdGVyIGNsYXNzIGlzIGRlcHJlY2F0ZWQsIHVzZSBQSVhJLmZpbHRlcnMuQmx1ckZpbHRlclBhc3MnKTtcblxuICAgICAgICAgICAgc3VwZXJjbGFzcy5jYWxsKHRoaXMsIGZhbHNlLCBzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIHN1cGVyY2xhc3MgKSBCbHVyWUZpbHRlci5fX3Byb3RvX18gPSBzdXBlcmNsYXNzO1xuICAgICAgICBCbHVyWUZpbHRlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBzdXBlcmNsYXNzICYmIHN1cGVyY2xhc3MucHJvdG90eXBlICk7XG4gICAgICAgIEJsdXJZRmlsdGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEJsdXJZRmlsdGVyO1xuXG4gICAgICAgIHJldHVybiBCbHVyWUZpbHRlcjtcbiAgICB9KFBJWEkuZmlsdGVycy5CbHVyRmlsdGVyUGFzcykpO1xuXG4gICAgT2JqZWN0LmFzc2lnbihQSVhJLmZpbHRlcnMsIHtcbiAgICAgICAgQmx1clhGaWx0ZXI6IEJsdXJYRmlsdGVyLFxuICAgICAgICBCbHVyWUZpbHRlcjogQmx1cllGaWx0ZXIsXG4gICAgfSk7XG5cbiAgICB2YXIgU3ByaXRlID0gUElYSS5TcHJpdGU7XG4gICAgdmFyIFRleHR1cmUgPSBQSVhJLlRleHR1cmU7XG4gICAgdmFyIEdyYXBoaWNzID0gUElYSS5HcmFwaGljcztcblxuICAgIC8vIFN1cHBvcnQgZm9yIHBpeGkuanMtbGVnYWN5IGJpZnVyY2F0aW9uXG4gICAgLy8gZ2l2ZSB1c2VycyBhIGZyaWVuZGx5IGFzc2lzdCB0byB1c2UgbGVnYWN5XG4gICAgaWYgKCFHcmFwaGljcy5wcm90b3R5cGUuZ2VuZXJhdGVDYW52YXNUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgR3JhcGhpY3MucHJvdG90eXBlLmdlbmVyYXRlQ2FudmFzVGV4dHVyZSA9IGZ1bmN0aW9uIGdlbmVyYXRlQ2FudmFzVGV4dHVyZSgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5HcmFwaGljcy5nZW5lcmF0ZUNhbnZhc1RleHR1cmUgbWV0aG9kIGlzIG9ubHkgYXZhaWxhYmxlIGluIFwicGl4aS5qcy1sZWdhY3lcIicpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc30gUElYSS5HcmFwaGljcyNncmFwaGljc0RhdGFcbiAgICAgKiBAc2VlIFBJWEkuR3JhcGhpY3MjZ2VvbWV0cnlcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUElYSS5HcmFwaGljcy5wcm90b3R5cGUsICdncmFwaGljc0RhdGEnLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkdyYXBoaWNzLmdyYXBoaWNzRGF0YSBwcm9wZXJ0eSBpcyBkZXByZWNhdGVkLCB1c2UgUElYSS5HcmFwaGljcy5nZW9tZXRyeS5ncmFwaGljc0RhdGEnKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnkuZ3JhcGhpY3NEYXRhO1xuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgLy8gVXNlIHRoZXNlIHRvIGRlcHJlY2F0ZSBhbGwgdGhlIFNwcml0ZSBmcm9tKiBtZXRob2RzXG4gICAgZnVuY3Rpb24gc3ByaXRlRnJvbShuYW1lLCBzb3VyY2UsIGNyb3Nzb3JpZ2luLCBzY2FsZU1vZGUpXG4gICAge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgKFwiUElYSS5TcHJpdGUuXCIgKyBuYW1lICsgXCIgbWV0aG9kIGlzIGRlcHJlY2F0ZWQsIHVzZSBQSVhJLlNwcml0ZS5mcm9tXCIpKTtcblxuICAgICAgICByZXR1cm4gU3ByaXRlLmZyb20oc291cmNlLCB7XG4gICAgICAgICAgICByZXNvdXJjZU9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICBzY2FsZTogc2NhbGVNb2RlLFxuICAgICAgICAgICAgICAgIGNyb3Nzb3JpZ2luOiBjcm9zc29yaWdpbixcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLlNwcml0ZS5mcm9tXG4gICAgICogQG1ldGhvZCBQSVhJLlNwcml0ZS5mcm9tSW1hZ2VcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlNwcml0ZX1cbiAgICAgKi9cbiAgICBTcHJpdGUuZnJvbUltYWdlID0gc3ByaXRlRnJvbS5iaW5kKG51bGwsICdmcm9tSW1hZ2UnKTtcblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1ldGhvZCBQSVhJLlNwcml0ZS5mcm9tU1ZHXG4gICAgICogQHNlZSBQSVhJLlNwcml0ZS5mcm9tXG4gICAgICogQHJldHVybiB7UElYSS5TcHJpdGV9XG4gICAgICovXG4gICAgU3ByaXRlLmZyb21TVkcgPSBzcHJpdGVGcm9tLmJpbmQobnVsbCwgJ2Zyb21TVkcnKTtcblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1ldGhvZCBQSVhJLlNwcml0ZS5mcm9tQ2FudmFzXG4gICAgICogQHNlZSBQSVhJLlNwcml0ZS5mcm9tXG4gICAgICogQHJldHVybiB7UElYSS5TcHJpdGV9XG4gICAgICovXG4gICAgU3ByaXRlLmZyb21DYW52YXMgPSBzcHJpdGVGcm9tLmJpbmQobnVsbCwgJ2Zyb21DYW52YXMnKTtcblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1ldGhvZCBQSVhJLlNwcml0ZS5mcm9tVmlkZW9cbiAgICAgKiBAc2VlIFBJWEkuU3ByaXRlLmZyb21cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlNwcml0ZX1cbiAgICAgKi9cbiAgICBTcHJpdGUuZnJvbVZpZGVvID0gc3ByaXRlRnJvbS5iaW5kKG51bGwsICdmcm9tVmlkZW8nKTtcblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1ldGhvZCBQSVhJLlNwcml0ZS5mcm9tRnJhbWVcbiAgICAgKiBAc2VlIFBJWEkuU3ByaXRlLmZyb21cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlNwcml0ZX1cbiAgICAgKi9cbiAgICBTcHJpdGUuZnJvbUZyYW1lID0gc3ByaXRlRnJvbS5iaW5kKG51bGwsICdmcm9tRnJhbWUnKTtcblxuICAgIC8vIFVzZSB0aGVzZSB0byBkZXByZWNhdGUgYWxsIHRoZSBUZXh0dXJlIGZyb20qIG1ldGhvZHNcbiAgICBmdW5jdGlvbiB0ZXh0dXJlRnJvbShuYW1lLCBzb3VyY2UsIGNyb3Nzb3JpZ2luLCBzY2FsZU1vZGUpXG4gICAge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgKFwiUElYSS5UZXh0dXJlLlwiICsgbmFtZSArIFwiIG1ldGhvZCBpcyBkZXByZWNhdGVkLCB1c2UgUElYSS5UZXh0dXJlLmZyb21cIikpO1xuXG4gICAgICAgIHJldHVybiBUZXh0dXJlLmZyb20oc291cmNlLCB7XG4gICAgICAgICAgICByZXNvdXJjZU9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICBzY2FsZTogc2NhbGVNb2RlLFxuICAgICAgICAgICAgICAgIGNyb3Nzb3JpZ2luOiBjcm9zc29yaWdpbixcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1ldGhvZCBQSVhJLlRleHR1cmUuZnJvbUltYWdlXG4gICAgICogQHNlZSBQSVhJLlRleHR1cmUuZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX1cbiAgICAgKi9cbiAgICBUZXh0dXJlLmZyb21JbWFnZSA9IHRleHR1cmVGcm9tLmJpbmQobnVsbCwgJ2Zyb21JbWFnZScpO1xuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAbWV0aG9kIFBJWEkuVGV4dHVyZS5mcm9tU1ZHXG4gICAgICogQHNlZSBQSVhJLlRleHR1cmUuZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX1cbiAgICAgKi9cbiAgICBUZXh0dXJlLmZyb21TVkcgPSB0ZXh0dXJlRnJvbS5iaW5kKG51bGwsICdmcm9tU1ZHJyk7XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZXRob2QgUElYSS5UZXh0dXJlLmZyb21DYW52YXNcbiAgICAgKiBAc2VlIFBJWEkuVGV4dHVyZS5mcm9tXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfVxuICAgICAqL1xuICAgIFRleHR1cmUuZnJvbUNhbnZhcyA9IHRleHR1cmVGcm9tLmJpbmQobnVsbCwgJ2Zyb21DYW52YXMnKTtcblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1ldGhvZCBQSVhJLlRleHR1cmUuZnJvbVZpZGVvXG4gICAgICogQHNlZSBQSVhJLlRleHR1cmUuZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX1cbiAgICAgKi9cbiAgICBUZXh0dXJlLmZyb21WaWRlbyA9IHRleHR1cmVGcm9tLmJpbmQobnVsbCwgJ2Zyb21WaWRlbycpO1xuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAbWV0aG9kIFBJWEkuVGV4dHVyZS5mcm9tRnJhbWVcbiAgICAgKiBAc2VlIFBJWEkuVGV4dHVyZS5mcm9tXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfVxuICAgICAqL1xuICAgIFRleHR1cmUuZnJvbUZyYW1lID0gdGV4dHVyZUZyb20uYmluZChudWxsLCAnZnJvbUZyYW1lJyk7XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59IFBJWEkuQWJzdHJhY3RSZW5kZXJlciNhdXRvUmVzaXplXG4gICAgICogQHNlZSBQSVhJLkFic3RyYWN0UmVuZGVyZXIjYXV0b0RlbnNpdHlcbiAgICAgKi9cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUElYSS5BYnN0cmFjdFJlbmRlcmVyLnByb3RvdHlwZSwgJ2F1dG9SZXNpemUnLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkFic3RyYWN0UmVuZGVyZXIuYXV0b1Jlc2l6ZSBwcm9wZXJ0eSBpcyBkZXByZWNhdGVkLCAnXG4gICAgICAgICAgICAgICAgKyAndXNlIFBJWEkuQWJzdHJhY3RSZW5kZXJlci5hdXRvRGVuc2l0eScpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hdXRvRGVuc2l0eTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5BYnN0cmFjdFJlbmRlcmVyLmF1dG9SZXNpemUgcHJvcGVydHkgaXMgZGVwcmVjYXRlZCwgJ1xuICAgICAgICAgICAgICAgICsgJ3VzZSBQSVhJLkFic3RyYWN0UmVuZGVyZXIuYXV0b0RlbnNpdHknKTtcblxuICAgICAgICAgICAgdGhpcy5hdXRvRGVuc2l0eSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuVGV4dHVyZVN5c3RlbX0gUElYSS5SZW5kZXJlciN0ZXh0dXJlTWFuYWdlclxuICAgICAqIEBzZWUgUElYSS5SZW5kZXJlciN0ZXh0dXJlXG4gICAgICovXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBJWEkuUmVuZGVyZXIucHJvdG90eXBlLCAndGV4dHVyZU1hbmFnZXInLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLlJlbmRlcmVyLnRleHR1cmVNYW5hZ2VyIHByb3BlcnR5IGlzIGRlcHJlY2F0ZWQsIHVzZSBQSVhJLlJlbmRlcmVyLnRleHR1cmUnKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGV4dHVyZTtcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2UgUElYSS51dGlscy5taXhpbnNcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqL1xuICAgIFBJWEkudXRpbHMubWl4aW5zID0ge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkudXRpbHMubWl4aW5zXG4gICAgICAgICAqIEBmdW5jdGlvbiBtaXhpblxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgbWl4aW46IGZ1bmN0aW9uIG1peGluKClcbiAgICAgICAge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnV0aWxzLm1peGlucy5taXhpbiBmdW5jdGlvbiBpcyBubyBsb25nZXIgYXZhaWxhYmxlJyk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS51dGlscy5taXhpbnNcbiAgICAgICAgICogQGZ1bmN0aW9uIGRlbGF5TWl4aW5cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIGRlbGF5TWl4aW46IGZ1bmN0aW9uIGRlbGF5TWl4aW4oKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkudXRpbHMubWl4aW5zLmRlbGF5TWl4aW4gZnVuY3Rpb24gaXMgbm8gbG9uZ2VyIGF2YWlsYWJsZScpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkudXRpbHMubWl4aW5zXG4gICAgICAgICAqIEBmdW5jdGlvbiBwZXJmb3JtTWl4aW5zXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBwZXJmb3JtTWl4aW5zOiBmdW5jdGlvbiBwZXJmb3JtTWl4aW5zKClcbiAgICAgICAge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnV0aWxzLm1peGlucy5wZXJmb3JtTWl4aW5zIGZ1bmN0aW9uIGlzIG5vIGxvbmdlciBhdmFpbGFibGUnKTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuXG4vLyBJbnN0YWxsIHJlbmRlcmVyIHBsdWdpbnNcblJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdhY2Nlc3NpYmlsaXR5JywgQWNjZXNzaWJpbGl0eU1hbmFnZXIpO1xuUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ2V4dHJhY3QnLCBFeHRyYWN0KTtcblJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdpbnRlcmFjdGlvbicsIEludGVyYWN0aW9uTWFuYWdlcik7XG5SZW5kZXJlci5yZWdpc3RlclBsdWdpbigncGFydGljbGUnLCBQYXJ0aWNsZVJlbmRlcmVyKTtcblJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdwcmVwYXJlJywgUHJlcGFyZSk7XG5SZW5kZXJlci5yZWdpc3RlclBsdWdpbignYmF0Y2gnLCBCYXRjaFJlbmRlcmVyKTtcblJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCd0aWxpbmdTcHJpdGUnLCBUaWxpbmdTcHJpdGVSZW5kZXJlcik7XG5cbkxvYWRlci5yZWdpc3RlclBsdWdpbihCaXRtYXBGb250TG9hZGVyKTtcbkxvYWRlci5yZWdpc3RlclBsdWdpbihTcHJpdGVzaGVldExvYWRlcik7XG5cbkFwcGxpY2F0aW9uLnJlZ2lzdGVyUGx1Z2luKFRpY2tlclBsdWdpbik7XG5BcHBsaWNhdGlvbi5yZWdpc3RlclBsdWdpbihBcHBMb2FkZXJQbHVnaW4pO1xuXG4vKipcbiAqIFN0cmluZyBvZiB0aGUgY3VycmVudCBQSVhJIHZlcnNpb24uXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgVkVSU0lPTlxuICogQHR5cGUge3N0cmluZ31cbiAqL1xudmFyIFZFUlNJT04gPSAnNS4xLjQnO1xuXG4vKipcbiAqIEBuYW1lc3BhY2UgUElYSVxuICovXG5cbi8qKlxuICogVGhpcyBuYW1lc3BhY2UgY29udGFpbnMgV2ViR0wtb25seSBkaXNwbGF5IGZpbHRlcnMgdGhhdCBjYW4gYmUgYXBwbGllZFxuICogdG8gRGlzcGxheU9iamVjdHMgdXNpbmcgdGhlIHtAbGluayBQSVhJLkRpc3BsYXlPYmplY3QjZmlsdGVycyBmaWx0ZXJzfSBwcm9wZXJ0eS5cbiAqXG4gKiBTaW5jZSBQaXhpSlMgb25seSBoYWQgYSBoYW5kZnVsIG9mIGJ1aWx0LWluIGZpbHRlcnMsIGFkZGl0aW9uYWwgZmlsdGVyc1xuICogY2FuIGJlIGRvd25sb2FkZWQge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS1maWx0ZXJzIGhlcmV9IGZyb20gdGhlXG4gKiBQaXhpSlMgRmlsdGVycyByZXBvc2l0b3J5LlxuICpcbiAqIEFsbCBmaWx0ZXJzIG11c3QgZXh0ZW5kIHtAbGluayBQSVhJLkZpbHRlcn0uXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENyZWF0ZSBhIG5ldyBhcHBsaWNhdGlvblxuICogY29uc3QgYXBwID0gbmV3IFBJWEkuQXBwbGljYXRpb24oKTtcbiAqXG4gKiAvLyBEcmF3IGEgZ3JlZW4gcmVjdGFuZ2xlXG4gKiBjb25zdCByZWN0ID0gbmV3IFBJWEkuR3JhcGhpY3MoKVxuICogICAgIC5iZWdpbkZpbGwoMHgwMGZmMDApXG4gKiAgICAgLmRyYXdSZWN0KDQwLCA0MCwgMjAwLCAyMDApO1xuICpcbiAqIC8vIEFkZCBhIGJsdXIgZmlsdGVyXG4gKiByZWN0LmZpbHRlcnMgPSBbbmV3IFBJWEkuZmlsdGVycy5CbHVyRmlsdGVyKCldO1xuICpcbiAqIC8vIERpc3BsYXkgcmVjdGFuZ2xlXG4gKiBhcHAuc3RhZ2UuYWRkQ2hpbGQocmVjdCk7XG4gKiBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGFwcC52aWV3KTtcbiAqIEBuYW1lc3BhY2UgUElYSS5maWx0ZXJzXG4gKi9cbnZhciBmaWx0ZXJzID0ge1xuICAgIEFscGhhRmlsdGVyOiBBbHBoYUZpbHRlcixcbiAgICBCbHVyRmlsdGVyOiBCbHVyRmlsdGVyLFxuICAgIEJsdXJGaWx0ZXJQYXNzOiBCbHVyRmlsdGVyUGFzcyxcbiAgICBDb2xvck1hdHJpeEZpbHRlcjogQ29sb3JNYXRyaXhGaWx0ZXIsXG4gICAgRGlzcGxhY2VtZW50RmlsdGVyOiBEaXNwbGFjZW1lbnRGaWx0ZXIsXG4gICAgRlhBQUZpbHRlcjogRlhBQUZpbHRlcixcbiAgICBOb2lzZUZpbHRlcjogTm9pc2VGaWx0ZXIsXG59O1xuXG5leHBvcnQgeyBWRVJTSU9OLCBmaWx0ZXJzLCB1c2VEZXByZWNhdGVkIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1waXhpLmVzLmpzLm1hcFxuIl0sInNvdXJjZVJvb3QiOiIifQ==